/*! @browser-tdoc 1.0.4 */
var log=function(){var t,e,r;!function(t){t.INSERT_LOG="insert_log",t.GET_CONFIG="get_config"}(t||(t={})),function(t){t[t.DEBUG=1]="DEBUG",t[t.LOG=1]="LOG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.FATAL=5]="FATAL"}(e||(e={})),function(t){t[t.BeforeInvokeLog=0]="BeforeInvokeLog"}(r||(r={}));var n="https://weblog.cdn-go.cn/sdk/latest/",o="wl",i=function(){function r(){this.name="level-setting"}return r.prototype.setupOnce=function(r,n){var o=this;this.client=r;var i=this.getPersistedLevel();r.setLevel(i),r.on(t.GET_CONFIG,function(t){var n,i=null===(n=null==t?void 0:t.config)||void 0===n?void 0:n.level;i?(o.persistLevel(i),r.setLevel(i)):(o.clearPersistedLevel(),r.setLevel(e.INFO))})},r.prototype.clearPersistedLevel=function(){try{window.localStorage.removeItem(this.getStorageKey())}catch(t){}},r.prototype.persistLevel=function(t){try{window.localStorage[this.getStorageKey()]=t}catch(t){}},r.prototype.getPersistedLevel=function(){try{return Number(window.localStorage[this.getStorageKey()])||e.INFO}catch(t){return e.INFO}},r.prototype.getStorageKey=function(){return o+"-level-"+this.client.getContext().pid},r}(),a=function(){function e(){this.name="remote-plugin"}return e.prototype.setupOnce=function(e,r){location.search.match("[?&]wl=")&&e.loadAsset("URL_OPTIONS"),e.on(t.GET_CONFIG,function(t){try{var r=t.config.options,n=r&&JSON.parse(r)||{};"on"===n.WL_TOOL_ON_OFF&&e.loadAsset("CONFIG_OPTIONS",n)}catch(t){console.warn(t)}})},e}(),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var c=function(){return(c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(t,e,r,n){return new(r||(r=Promise))(function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})}function l(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function h(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(t){return function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}("Object",t)}function y(t){var e=new Set;try{return JSON.stringify(t,function(t,r){if(v(r)||Array.isArray(r)){if(e.has(r))return'["Circular"]';e.add(r)}return r})}catch(e){return console.error(e),v(t)?'{Object:["Circular"]}':Array.isArray(t)?'["Circular"]':"Circular"}}var d=4,g=200;var b=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r+"="+encodeURIComponent(t[r]));return e.join("&")};function w(t,e,r){if(void 0===r&&(r="GET"),t.setRequestHeader)for(var n in"GET"!==r&&"POST"!==r||t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e=e||{})e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])}var j=function(t,e){void 0===e&&(e={withCredentials:!1}),t.withCredentials=!!e.withCredentials};function O(t){return new Promise(function(e,r){var n=b(t.param||{}),o=t.url;o+=(o.indexOf("?")>=0?"&":"?")+n;var i=_(t,{success:function(t){e(t)},error:function(t){r(t)}});i&&(i.open("GET",o,!0),j(i,t.xhrFields),w(i,t.headers||{},"GET"),i.send())})}function m(t){return new Promise(function(e,r){var n=t.url,o="",i=_(t,{success:function(t){e(t)},error:function(t){r(t)}});i&&(i.open("POST",n,!0),"json"===t.contentType?(o=JSON.stringify(t.param),i.setRequestHeader("Content-Type","application/json")):(o=b(t.param||{}),j(i,t.xhrFields),w(i,t.headers||{},"POST")),i.send(o))})}function _(t,e){var r=new XMLHttpRequest;if(!r)throw new Error("XMLHttp is not defined");var n=t.timeout,o=t.dataType,i=void 0===o?"json":o;try{n&&(r.timeout=n)}catch(t){console.log(t)}return r.onreadystatechange=function(){var t,n;if(r.readyState===d)if(r.status===g){var o=r.responseText;"json"===i&&(o=JSON.parse(r.responseText)),null===(t=null==e?void 0:e.success)||void 0===t||t.call(e,o)}else null===(n=null==e?void 0:e.error)||void 0===n||n.call(e,{errCode:r.status})},r.onerror=function(){var t;null===(t=null==e?void 0:e.error)||void 0===t||t.call(e,{errCode:-1})},r.ontimeout=function(){var t;null===(t=null==e?void 0:e.error)||void 0===t||t.call(e,{errCode:-2})},r}var x,k=n+"browser-remote-plugins/browser-remote-plugins.js",A=function(t){return u(void 0,void 0,void 0,function(){var e;return l(this,function(r){switch(r.label){case 0:return x?[2,x]:[4,S(k,"window.WebLog.BrowserRemotePlugins")];case 1:return e=r.sent(),[2,x=x||e&&new e(t)]}})})};function S(t,e){return new Promise(function(r){var n=document.createElement("script");n.async=!0,n.src=t,n.setAttribute("retry-when-error","true"),n.onload=function(){var t=e.split(".").reduce(function(t,e){return t[e]},window);r(t)},(document.head||document.body).appendChild(n)})}var R,E=function(){function t(){this.name="loader"}return t.prototype.beforeInvokeLog=function(t){var e=t.msgArray,r=t.type.split("_");if("loader"===r[0]){var n=e.pop();return{msgArray:e,ts:n,type:r[1]||""}}return t},t}();!function(t){t.HttpRequestLogType="x"}(R||(R={}));var P,L=["log","info","warn","error","log"];!function(t){t.HIDE="hide",t.SHOW="show"}(P||(P={}));var I,T="dev-console",C=function(){function e(){var t=this;this.name=T,this.persistConsoleDevStatus=function(e){try{window.localStorage[t.getStorageKey()]=e}catch(t){console.error(t)}},this.logHandler=function(t){var e,r,n=t.level,o=t.type,i=t.msg;if(o!==R.HttpRequestLogType){var a=[],s=L[n-1];a.push("["+s+"]"),o&&a.push("["+o+"]"),i&&a.push.apply(a,h(JSON.parse(i)));try{(e=console)[s].apply(e,h(a))}catch(t){(r=console).log.apply(r,h(a))}}},this.getPersistedConsoleDevStatus=function(){try{return window.localStorage[t.getStorageKey()]||P.HIDE}catch(t){return P.HIDE}},this.getStorageKey=function(){return o+"-dev-console-"+t.client.getContext().pid}}return e.prototype.setupOnce=function(e,r){this.client=e,this.getPersistedConsoleDevStatus()!==P.HIDE&&function(e,r){u(this,void 0,void 0,function(){var n,o;return l(this,function(i){switch(i.label){case 0:return n=[],o=e.on(t.INSERT_LOG,function(t){n.push(t)}),[4,e.query()];case 1:return i.sent().concat(n).forEach(r),o(),n=[],[2,e.on(t.INSERT_LOG,r)]}})})}(e,this.logHandler)},e}();!function(t){t[t.Request=0]="Request",t[t.ReplyOK=1]="ReplyOK",t[t.ReplyErr=2]="ReplyErr"}(I||(I={}));var M,N,F,q=function(){function t(){}return t.isRpcMessage=function(e){return e.key===t.rpcKey},t.getMessageType=function(t){return t.type},t.getReq=function(t){return t.req},t.serializeRequest=function(e,r,n,o){return{key:t.rpcKey,type:I.Request,req:e,rpcId:r,method:n,args:o}},t.deserializeRequest=function(t){return{rpcId:t.rpcId,method:t.method,args:t.args}},t.serializeReplyOK=function(e,r){return{key:t.rpcKey,type:I.ReplyOK,req:e,result:r}},t.deserializeReplyOK=function(t){return t.result},t.serializeReplyErr=function(e,r){return{key:t.rpcKey,type:I.ReplyErr,req:e,err:r}},t.deserializeReplyErr=function(t){return t.err},t.rpcKey="weblog-rpc",t}(),z=function(){function t(e,r,n){this.isMain=e,this.sid=r,this.methodNames=n,this.nid=++t.count}return t.identifiers={},t.count=0,t}(),D={MainThreadBackendLogger:G("MainThreadBackendLogger",["fatal"])},B={ExtHostBackend:(M="ExtHostBackend",N=["init","identify","insertLog","queryLog","reportLog","getSessionId"],F=new z(!1,M,N),z.identifiers[F.nid]=F,F)};function G(t,e){var r=new z(!0,t,e);return z.identifiers[r.nid]=r,r}function H(t){return z.identifiers[t].sid}var U=function(){function t(){this.actual=null,this.actualOk=null,this.actualErr=null,this.hasValue=!1,this.value=null,this.hasErr=!1,this.err=null}return Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.toString()},enumerable:!1,configurable:!0}),t.prototype.resolveOk=function(t){this.hasValue||this.hasErr||(this.hasValue=!0,this.value=t,this.actual&&this.actualOk(t))},t.prototype.resolveErr=function(t){this.hasValue||this.hasErr||(this.hasErr=!0,this.err=t,this.actual&&this.actualErr(t))},t.prototype.then=function(t,e){return this.ensureActual().then(t,e)},t.prototype.catch=function(t){return this.ensureActual().then(void 0,t)},t.prototype.finally=function(t){return this.ensureActual().finally(t)},t.prototype.ensureActual=function(){var t=this;return this.actual||(this.actual=new Promise(function(e,r){t.actualOk=e,t.actualErr=r,t.hasValue&&t.actualOk(t.value),t.hasErr&&t.actualErr(t.err)})),this.actual},t}(),K=function(){function t(t){var e=this;this.pendingRPCReplies={},this.locals=[],this.proxies={},this.lastMessageId=0,this.protocol=t,this.protocol.onMessage(function(t){return e.receiveOneMessage(t)})}return t.prototype.getProxy=function(t){var e=t.methodNames,r=t.nid;return this.proxies[r]||(this.proxies[r]=this.createProxy(r,e)),this.proxies[r]},t.prototype.set=function(t,e){return this.locals[t.nid]=e,e},t.prototype.createProxy=function(t,e){var r=this,n=Object.create(null);return e.forEach(function(e){n[e]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return r.remoteCall(t,e,n)}}),n},t.prototype.remoteCall=function(t,e,r){var n=++this.lastMessageId,o=String(n),i=new U,a=q.serializeRequest(n,t,e,r);return this.pendingRPCReplies[o]=i,this.protocol.send(a),i},t.prototype.receiveOneMessage=function(t){if(q.isRpcMessage(t)){var e=q.getMessageType(t),r=q.getReq(t);switch(e){case I.Request:var n=q.deserializeRequest(t),o=n.rpcId,i=n.method,a=n.args;this.receiveRequest(r,o,i,a);break;case I.ReplyOK:var s=q.deserializeReplyOK(t);this.receiveReply(r,s,!0);break;case I.ReplyErr:var c=q.deserializeReplyErr(t);this.receiveReply(r,c,!1);break;default:console.error("received unexpected message")}}},t.prototype.receiveRequest=function(t,e,r,n){var o=this;this.invokeHandler(e,r,n).then(function(e){var r=q.serializeReplyOK(t,e);o.protocol.send(r)},function(e){var r=q.serializeReplyErr(t,e);o.protocol.send(r)})},t.prototype.receiveReply=function(t,e,r){var n=String(t);if(Object.prototype.hasOwnProperty.call(this.pendingRPCReplies,n)){var o=this.pendingRPCReplies[n];delete this.pendingRPCReplies[n],o[r?"resolveOk":"resolveErr"](e)}},t.prototype.invokeHandler=function(t,e,r){try{return Promise.resolve(this.doInvokeHandler(t,e,r))}catch(t){return Promise.reject(t)}},t.prototype.doInvokeHandler=function(t,e,r){var n=this.locals[t];if(!n)throw new Error("Unknown actor "+H(t));var o=n[e];if("function"!=typeof o)throw new Error("Unknown method "+e+" on actor "+H(t));return o.apply(n,r)},t}(),W=[],V=[];function $(t,e,r){return(e.integration||[]).forEach(function(n){var o;-1===V.indexOf(n.name)&&!1!==(null===(o=n.canSetup)||void 0===o?void 0:o.call(n,r))&&(t[n.name]=n,function(t,e,r){var n;null===(n=t.setupOnce)||void 0===n||n.call(t,e,r),W.push(t),V.push(t.name)}(n,r,e))}),t}var J=function(){return function(t){this.maxCount=t.maxCount,this.maxLength=t.maxLength,this.count=t.count,this.lastLogTs=t.lastLogTs,this.level=t.level,this.options=t||{},this.isInited=!1}}();function X(t){return"wl-"+t}var Q=function(){function t(){this.events=Object.create(null)}return t.prototype.on=function(t,e){var r,n=this;return this.events[t]=null!==(r=this.events[t])&&void 0!==r?r:new Set,this.events[t].add(e),function(){n.events[t].delete(e)}},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.events[t];n&&Array.from(n).forEach(function(t){t.apply(void 0,h(e))})},t}();var Y=function(){function t(t){this.protocol=t,this.eventEmitter=new Q,this.onMessage=this.eventEmitter.on.bind(this.eventEmitter,"message"),this.messages=[]}return t.prototype.send=function(t){if(this.protocol)return this.protocol.send(t);this.messages.push(t)},t.prototype.setProtocol=function(t){var e,r,n=this;this.protocol=t,t.onMessage(function(t){n.eventEmitter.emit.bind(n.eventEmitter,"message")(t)});try{for(var o=f(this.messages),i=o.next();!i.done;i=o.next()){var a=i.value;this.send(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}this.messages=[]},t}(),Z="1.0.4",tt=function(){function r(t){this.version=Z,this.integrations={},this.namespace="",this.loggers=new Map,this.event=new Q,this.context=new J({level:e.INFO,maxCount:1e4,maxLength:2048,count:0,lastLogTs:0}),this.context.options=t||{},this.protocol=new Y,this.rpcProtocol=new K(this.protocol),this.sdkLogger=this.getLogger("wl-sdk"),this.rpcProtocol.set(D.MainThreadBackendLogger,this.sdkLogger),this.backend=this.rpcProtocol.getProxy(B.ExtHostBackend)}return r.prototype.setDefaultOptions=function(t){void 0===t&&(t={}),this.context.options=this.mergeOptions(t)},r.prototype.init=function(t,e){if(void 0===e&&(e={}),!this.context.isInited){this.context.isInited=!0,this.context.pid=t,this.context.options=this.mergeOptions(e),$(this.integrations,this.context.options,this);var r=e.release,n=e.relatedPids,o=e.env;this.sdkLogger.info({init:{pid:t,release:r,env:o,v:this.version}}),this.backend.init(t,{release:r,env:o,relatedPids:n,database:X(t)})}},r.prototype.identify=function(e,r){return u(this,void 0,void 0,function(){var n;return l(this,function(o){switch(o.label){case 0:return this.sdkLogger.info({identify:{uid:e,info:r}}),this.context.uid=e,[4,this.backend.identify(e,r)];case 1:return n=o.sent(),this.context.config=n,this.sdkLogger.info({config:n}),this.event.emit(t.GET_CONFIG,{config:n}),[2,n]}})})},r.prototype.report=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),this.backend.reportLog(t,e,r)},r.prototype.fatal=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.FATAL,t)},r.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.DEBUG,t)},r.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.DEBUG,t)},r.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.INFO,t)},r.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.invoke(e.WARN,t)},r.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.invoke(e.ERROR,t)},r.prototype.getLogger=function(t){var e=this.loggers.get(t);if(e)return e;var r=Object.create(this,{namespace:{value:t}});return this.loggers.set(t,r),r},r.prototype.on=function(t,e){return this.event.on(t,e)},r.prototype.query=function(t){return this.backend.queryLog(t)},r.prototype.setProtocol=function(t){this.protocol.setProtocol(t)},r.prototype.setLevel=function(t){this.context.level=t},r.prototype.getOptions=function(){return this.context.options},r.prototype.getContext=function(){return this.context},r.prototype.getSessionId=function(){return this.backend.getSessionId()},r.prototype.mergeOptions=function(t){var e;void 0===t&&(t={});var r=((null===(e=this.context.options)||void 0===e?void 0:e.integration)||[]).concat(t.integration||[]);return c(c(c({},this.context.options),t),{integration:r})},r.prototype.invoke=function(e,r){var n=this.context,o=n.count,i=n.maxCount,a=n.maxLength,s=n.lastLogTs;if(this.context.count=o+1,!(e<this.context.level||o>i)){var c,u=Date.now(),l=(c={msgArray:r,ts:u,type:this.namespace},W.reduce(function(t,e){return e.beforeInvokeLog?e.beforeInvokeLog(t):t},c)),f=l.msgArray;f=function(t,e){var r=t,n=y(t);return n.length>e&&(r=[n.slice(0,e)+".."]),r}(f=function(t,e,r){var n=t;return e===r&&(n=["[wl]单次访问达到日志上限:"+r+"条]"],console.warn(n)),n}(f,o,i),a),this.context.lastLogTs=Math.max(l.ts,s+1);var p={level:e,msg:y(f),type:l.type,ts:this.context.lastLogTs};this.event.emit(t.INSERT_LOG,p),this.backend.insertLog(p)}},r}();function et(t){var e=t.backendWorkerUrl;return u(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return e?[4,rt(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[4,S(n+"browser/browser-backend-web.js","window.WebLog.mainProtocol")];case 3:return[2,t.sent()]}})})}function rt(t){var e,r=new Worker(t),n={on:(e=new Q).on.bind(e,"message"),fire:e.emit.bind(e,"message")};return r.onmessage=function(t){var e=t.data;n.fire(e)},r.onerror=function(t){!function(t,e){console.error(t,e)}("worker error",t)},{onMessage:n.on,send:function(t){r.postMessage(t)}}}var nt={BrowserMainThreadNetwork:G("BrowserMainThreadNetwork",["get","post"])},ot=function(){return function(){this.get=O,this.post=m}}(),it=new(function(t){function e(e){var r=t.call(this,e)||this;return r.setClientNetwork(),r}return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.init=function(e,r){return void 0===r&&(r={}),u(this,void 0,void 0,function(){var n;return l(this,function(o){switch(o.label){case 0:return this.getContext().isInited?[2,this]:(t.prototype.init.call(this,e,r),[4,et(this.getOptions())]);case 1:return n=o.sent(),this.setProtocol(n),[2,this]}})})},e.prototype.loadAsset=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return u(this,void 0,void 0,function(){var e;return l(this,function(r){switch(r.label){case 0:return[4,A(this)];case 1:return null==(e=r.sent())||e.call.apply(e,h(t)),[2]}})})},e.prototype.showConsole=function(){this.integrations[T].persistConsoleDevStatus(P.SHOW)},e.prototype.hideConsole=function(){this.integrations[T].persistConsoleDevStatus(P.HIDE)},e.prototype.setClientNetwork=function(){this.rpcProtocol.set(nt.BrowserMainThreadNetwork,new ot)},e}(tt))({integration:[new i,new a,new E,new C]});var at=function(){this.__data__=[],this.size=0};var st=function(t,e){return t===e||t!=t&&e!=e};var ct=function(t,e){for(var r=t.length;r--;)if(st(t[r][0],e))return r;return-1},ut=Array.prototype.splice;var lt=function(t){var e=this.__data__,r=ct(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),--this.size,0))};var ft=function(t){var e=this.__data__,r=ct(e,t);return r<0?void 0:e[r][1]};var pt=function(t){return ct(this.__data__,t)>-1};var ht=function(t,e){var r=this.__data__,n=ct(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function vt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vt.prototype.clear=at,vt.prototype.delete=lt,vt.prototype.get=ft,vt.prototype.has=pt,vt.prototype.set=ht;var yt=vt;var dt=function(){this.__data__=new yt,this.size=0};var gt=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var bt=function(t){return this.__data__.get(t)};var wt=function(t){return this.__data__.has(t)},jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ot(t,e){return t(e={exports:{}},e.exports),e.exports}var mt="object"==typeof jt&&jt&&jt.Object===Object&&jt,_t="object"==typeof self&&self&&self.Object===Object&&self,xt=mt||_t||Function("return this")(),kt=xt.Symbol,At=Object.prototype,St=At.hasOwnProperty,Rt=At.toString,Et=kt?kt.toStringTag:void 0;var Pt=function(t){var e=St.call(t,Et),r=t[Et];try{t[Et]=void 0;var n=!0}catch(t){}var o=Rt.call(t);return n&&(e?t[Et]=r:delete t[Et]),o},Lt=Object.prototype.toString;var It=function(t){return Lt.call(t)},Tt="[object Null]",Ct="[object Undefined]",Mt=kt?kt.toStringTag:void 0;var Nt=function(t){return null==t?void 0===t?Ct:Tt:Mt&&Mt in Object(t)?Pt(t):It(t)};var Ft=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},qt="[object AsyncFunction]",zt="[object Function]",Dt="[object GeneratorFunction]",Bt="[object Proxy]";var Gt,Ht=function(t){if(!Ft(t))return!1;var e=Nt(t);return e==zt||e==Dt||e==qt||e==Bt},Ut=xt["__core-js_shared__"],Kt=(Gt=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+Gt:"";var Wt=function(t){return!!Kt&&Kt in t},Vt=Function.prototype.toString;var $t=function(t){if(null!=t){try{return Vt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Jt=/^\[object .+?Constructor\]$/,Xt=Function.prototype,Qt=Object.prototype,Yt=Xt.toString,Zt=Qt.hasOwnProperty,te=RegExp("^"+Yt.call(Zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=function(t){return!(!Ft(t)||Wt(t))&&(Ht(t)?te:Jt).test($t(t))};var re=function(t,e){return null==t?void 0:t[e]};var ne=function(t,e){var r=re(t,e);return ee(r)?r:void 0},oe=ne(xt,"Map"),ie=ne(Object,"create");var ae=function(){this.__data__=ie?ie(null):{},this.size=0};var se=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ce="__lodash_hash_undefined__",ue=Object.prototype.hasOwnProperty;var le=function(t){var e=this.__data__;if(ie){var r=e[t];return r===ce?void 0:r}return ue.call(e,t)?e[t]:void 0},fe=Object.prototype.hasOwnProperty;var pe=function(t){var e=this.__data__;return ie?void 0!==e[t]:fe.call(e,t)},he="__lodash_hash_undefined__";var ve=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ie&&void 0===e?he:e,this};function ye(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ye.prototype.clear=ae,ye.prototype.delete=se,ye.prototype.get=le,ye.prototype.has=pe,ye.prototype.set=ve;var de=ye;var ge=function(){this.size=0,this.__data__={hash:new de,map:new(oe||yt),string:new de}};var be=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var we=function(t,e){var r=t.__data__;return be(e)?r["string"==typeof e?"string":"hash"]:r.map};var je=function(t){var e=we(this,t).delete(t);return this.size-=e?1:0,e};var Oe=function(t){return we(this,t).get(t)};var me=function(t){return we(this,t).has(t)};var _e=function(t,e){var r=we(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function xe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xe.prototype.clear=ge,xe.prototype.delete=je,xe.prototype.get=Oe,xe.prototype.has=me,xe.prototype.set=_e;var ke=xe,Ae=200;var Se=function(t,e){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!oe||n.length<Ae-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ke(n)}return r.set(t,e),this.size=r.size,this};function Re(t){var e=this.__data__=new yt(t);this.size=e.size}Re.prototype.clear=dt,Re.prototype.delete=gt,Re.prototype.get=bt,Re.prototype.has=wt,Re.prototype.set=Se;var Ee=Re;var Pe=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},Le=function(){try{var t=ne(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Ie=function(t,e,r){"__proto__"==e&&Le?Le(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},Te=Object.prototype.hasOwnProperty;var Ce=function(t,e,r){var n=t[e];Te.call(t,e)&&st(n,r)&&(void 0!==r||e in t)||Ie(t,e,r)};var Me=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=n?n(r[s],t[s],s,r,t):void 0;void 0===c&&(c=t[s]),o?Ie(r,s,c):Ce(r,s,c)}return r};var Ne=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Fe=function(t){return null!=t&&"object"==typeof t},qe="[object Arguments]";var ze=function(t){return Fe(t)&&Nt(t)==qe},De=Object.prototype,Be=De.hasOwnProperty,Ge=De.propertyIsEnumerable,He=ze(function(){return arguments}())?ze:function(t){return Fe(t)&&Be.call(t,"callee")&&!Ge.call(t,"callee")},Ue=Array.isArray;var Ke=function(){return!1},We=Ot(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?xt.Buffer:void 0,i=(o?o.isBuffer:void 0)||Ke;t.exports=i}),Ve=9007199254740991,$e=/^(?:0|[1-9]\d*)$/;var Je=function(t,e){var r=typeof t;return!!(e=null==e?Ve:e)&&("number"==r||"symbol"!=r&&$e.test(t))&&t>-1&&t%1==0&&t<e},Xe=9007199254740991;var Qe=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Xe},Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Arguments]"]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye["[object Function]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye["[object Object]"]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;var Ze=function(t){return Fe(t)&&Qe(t.length)&&!!Ye[Nt(t)]};var tr=function(t){return function(e){return t(e)}},er=Ot(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&mt.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),rr=er&&er.isTypedArray,nr=rr?tr(rr):Ze,or=Object.prototype.hasOwnProperty;var ir=function(t,e){var r=Ue(t),n=!r&&He(t),o=!r&&!n&&We(t),i=!r&&!n&&!o&&nr(t),a=r||n||o||i,s=a?Ne(t.length,String):[],c=s.length;for(var u in t)!e&&!or.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Je(u,c))||s.push(u);return s},ar=Object.prototype;var sr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ar)};var cr=function(t,e){return function(r){return t(e(r))}},ur=cr(Object.keys,Object),lr=Object.prototype.hasOwnProperty;var fr=function(t){if(!sr(t))return ur(t);var e=[];for(var r in Object(t))lr.call(t,r)&&"constructor"!=r&&e.push(r);return e};var pr=function(t){return null!=t&&Qe(t.length)&&!Ht(t)};var hr=function(t){return pr(t)?ir(t):fr(t)};var vr=function(t,e){return t&&Me(e,hr(e),t)};var yr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},dr=Object.prototype.hasOwnProperty;var gr=function(t){if(!Ft(t))return yr(t);var e=sr(t),r=[];for(var n in t)("constructor"!=n||!e&&dr.call(t,n))&&r.push(n);return r};var br=function(t){return pr(t)?ir(t,!0):gr(t)};var wr=function(t,e){return t&&Me(e,br(e),t)},jr=Ot(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?xt.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}});var Or=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var mr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var _r=function(){return[]},xr=Object.prototype.propertyIsEnumerable,kr=Object.getOwnPropertySymbols,Ar=kr?function(t){return null==t?[]:(t=Object(t),mr(kr(t),function(e){return xr.call(t,e)}))}:_r;var Sr=function(t,e){return Me(t,Ar(t),e)};var Rr=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Er=cr(Object.getPrototypeOf,Object),Pr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Rr(e,Ar(t)),t=Er(t);return e}:_r;var Lr=function(t,e){return Me(t,Pr(t),e)};var Ir=function(t,e,r){var n=e(t);return Ue(t)?n:Rr(n,r(t))};var Tr=function(t){return Ir(t,hr,Ar)};var Cr=function(t){return Ir(t,br,Pr)},Mr=ne(xt,"DataView"),Nr=ne(xt,"Promise"),Fr=ne(xt,"Set"),qr=ne(xt,"WeakMap"),zr=$t(Mr),Dr=$t(oe),Br=$t(Nr),Gr=$t(Fr),Hr=$t(qr),Ur=Nt;(Mr&&"[object DataView]"!=Ur(new Mr(new ArrayBuffer(1)))||oe&&"[object Map]"!=Ur(new oe)||Nr&&"[object Promise]"!=Ur(Nr.resolve())||Fr&&"[object Set]"!=Ur(new Fr)||qr&&"[object WeakMap]"!=Ur(new qr))&&(Ur=function(t){var e=Nt(t),r="[object Object]"==e?t.constructor:void 0,n=r?$t(r):"";if(n)switch(n){case zr:return"[object DataView]";case Dr:return"[object Map]";case Br:return"[object Promise]";case Gr:return"[object Set]";case Hr:return"[object WeakMap]"}return e});var Kr=Ur,Wr=Object.prototype.hasOwnProperty;var Vr=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Wr.call(t,"index")&&(r.index=t.index,r.input=t.input),r},$r=xt.Uint8Array;var Jr=function(t){var e=new t.constructor(t.byteLength);return new $r(e).set(new $r(t)),e};var Xr=function(t,e){var r=e?Jr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Qr=/\w*$/;var Yr=function(t){var e=new t.constructor(t.source,Qr.exec(t));return e.lastIndex=t.lastIndex,e},Zr=kt?kt.prototype:void 0,tn=Zr?Zr.valueOf:void 0;var en=function(t){return tn?Object(tn.call(t)):{}};var rn=function(t,e){var r=e?Jr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},nn="[object Boolean]",on="[object Date]",an="[object Map]",sn="[object Number]",cn="[object RegExp]",un="[object Set]",ln="[object String]",fn="[object Symbol]",pn="[object ArrayBuffer]",hn="[object DataView]",vn="[object Float32Array]",yn="[object Float64Array]",dn="[object Int8Array]",gn="[object Int16Array]",bn="[object Int32Array]",wn="[object Uint8Array]",jn="[object Uint8ClampedArray]",On="[object Uint16Array]",mn="[object Uint32Array]";var _n=function(t,e,r){var n=t.constructor;switch(e){case pn:return Jr(t);case nn:case on:return new n(+t);case hn:return Xr(t,r);case vn:case yn:case dn:case gn:case bn:case wn:case jn:case On:case mn:return rn(t,r);case an:return new n;case sn:case ln:return new n(t);case cn:return Yr(t);case un:return new n;case fn:return en(t)}},xn=Object.create,kn=function(){function t(){}return function(e){if(!Ft(e))return{};if(xn)return xn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var An=function(t){return"function"!=typeof t.constructor||sr(t)?{}:kn(Er(t))},Sn="[object Map]";var Rn=function(t){return Fe(t)&&Kr(t)==Sn},En=er&&er.isMap,Pn=En?tr(En):Rn,Ln="[object Set]";var In=function(t){return Fe(t)&&Kr(t)==Ln},Tn=er&&er.isSet,Cn=Tn?tr(Tn):In,Mn=1,Nn=2,Fn=4,qn="[object Arguments]",zn="[object Function]",Dn="[object GeneratorFunction]",Bn="[object Object]",Gn={};Gn[qn]=Gn["[object Array]"]=Gn["[object ArrayBuffer]"]=Gn["[object DataView]"]=Gn["[object Boolean]"]=Gn["[object Date]"]=Gn["[object Float32Array]"]=Gn["[object Float64Array]"]=Gn["[object Int8Array]"]=Gn["[object Int16Array]"]=Gn["[object Int32Array]"]=Gn["[object Map]"]=Gn["[object Number]"]=Gn[Bn]=Gn["[object RegExp]"]=Gn["[object Set]"]=Gn["[object String]"]=Gn["[object Symbol]"]=Gn["[object Uint8Array]"]=Gn["[object Uint8ClampedArray]"]=Gn["[object Uint16Array]"]=Gn["[object Uint32Array]"]=!0,Gn["[object Error]"]=Gn[zn]=Gn["[object WeakMap]"]=!1;var Hn=function t(e,r,n,o,i,a){var s,c=r&Mn,u=r&Nn,l=r&Fn;if(n&&(s=i?n(e,o,i,a):n(e)),void 0!==s)return s;if(!Ft(e))return e;var f=Ue(e);if(f){if(s=Vr(e),!c)return Or(e,s)}else{var p=Kr(e),h=p==zn||p==Dn;if(We(e))return jr(e,c);if(p==Bn||p==qn||h&&!i){if(s=u||h?{}:An(e),!c)return u?Lr(e,wr(s,e)):Sr(e,vr(s,e))}else{if(!Gn[p])return i?e:{};s=_n(e,p,c)}}a||(a=new Ee);var v=a.get(e);if(v)return v;a.set(e,s),Cn(e)?e.forEach(function(o){s.add(t(o,r,n,o,e,a))}):Pn(e)&&e.forEach(function(o,i){s.set(i,t(o,r,n,i,e,a))});var y=f?void 0:(l?u?Cr:Tr:u?br:hr)(e);return Pe(y||e,function(o,i){y&&(o=e[i=o]),Ce(s,i,t(o,r,n,i,e,a))}),s},Un=1,Kn=4;var Wn=function(t){return Hn(t,Un|Kn)},Vn=/(http:\/\/|https:\/\/)?(doc.weixin.qq.com|docs.qq.com)/gi,$n="doc.weixin.qq.com"===location.host,Jn=function(){function t(){this.name="log-filter"}return t.prototype.setupOnce=function(){},t.prototype.beforeInvokeLog=function(t){if($n)try{var e=t.msgArray;if(e instanceof Array&&e.length>0&&this.needFilterMsg(e,0)){var r=Wn(e),n=this.filterMsgObj(r,0);t.msgArray=n}}catch(t){console.log(t)}return t},t.prototype.filterMsgObj=function(t,e){var r,n,o=this;if(void 0===e&&(e=0),e>100)return t;if("string"==typeof t)return t.replace(Vn,"TDOC_HOSTNAME");if(Array.isArray(t)){var i=[];return t.forEach(function(t){return i.push(o.filterMsgObj(t,e+1))}),i}if(null===t)return t;if("object"==typeof t){try{for(var a=f(Object.keys(t)),s=a.next();!s.done;s=a.next()){var c=s.value;t[c]=this.filterMsgObj(t[c],e+1)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return t}return t},t.prototype.needFilterMsg=function(t,e){var r=this;return void 0===e&&(e=0),!(e>100)&&("string"==typeof t?Vn.test(t):Array.isArray(t)?t.some(function(t){return r.needFilterMsg(t,e+1)}):null!==t&&("object"==typeof t&&Object.keys(t).some(function(n){return r.needFilterMsg(t[n],e+1)})))},t}();return it.setDefaultOptions({backendWorkerUrl:"/scenario/pub/wl2/browser-backend-worker-1.0.4.js",integration:[new Jn]}),it}();
