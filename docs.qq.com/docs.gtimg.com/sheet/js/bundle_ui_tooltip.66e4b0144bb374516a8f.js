self.window=self,window.jsExecStartTimeStamp=Date.now(),(self.webpackChunk_tencent_alloy_builder=self.webpackChunk_tencent_alloy_builder||[]).push([["bundle_ui_tooltip"],{"../spread-sheet/src/core/ui/tooltip/tooltip.js":function(t,e,o){o.r(e),o.d(e,{changeTooltipText:function(){return h},hideTooltip:function(){return c},horizontalTooltip:function(){return p},removeTooltip:function(){return f},tooltip:function(){return u}}),o("../node_modules/core-js/modules/es.regexp.exec.js"),o("../node_modules/core-js/modules/es.string.split.js"),o("../node_modules/core-js/modules/web.dom-collections.for-each.js"),o("../node_modules/core-js/modules/es.number.constructor.js");var i,n,r=o("../node_modules/@tencent/docs-user-agent/dist/index.js"),l=o.n(r);function a(t){var e=t.data?t.data.extendParam:null,o=t.data?t.data.drawViewCallback:null;if($("#tooltip").remove(),!(e&&e.showTtpInNeedScroll&&$(this)[0].scrollWidth<=$(this).outerWidth())){var r=$(this);clearTimeout(n),i=setTimeout((function(){$("#tooltip").remove();var i=r.attr("data-tooltip")?r.attr("data-tooltip"):r.data("tooltip");if("function"===typeof i&&(i=i()),"undefined"!==typeof i&&"string"!==typeof i&&(i=r[0].getAttribute("data-tooltip")),i&&!r.hasClass("hp-ui-button-active")){e&&e.mouseenterCallBack&&e.mouseenterCallBack();var n=function(t,e,o){var i=$("<div id='tooltip'>");/\n/.test(e)?e.split(/\n/).forEach((function(t){var e=document.createElement("p");$(e).text(t),i.append(e)})):i.text(e),i.prependTo($("body")),i.data("target-dom",o.target);var n="tooltip-before";t&&(t.tooltipArrowClass&&(n=t.tooltipArrowClass),t.tooltipClass&&!i.hasClass(t.tooltipClass)&&i.addClass(t.tooltipClass));var r=$("<div id='"+n+"'>"),l=null;return l="tooltip-after"==n?r.appendTo(i):r.prependTo(i),{tooltip:i,tooltipTaperAngle:l}}(e,i,t),l=n.tooltip,a=n.tooltipTaperAngle;o(l,a,r)}}),400)}}function s(){clearTimeout(i),n=setTimeout((function(){clearTimeout(i),$("#tooltip").remove()}),400)}function d(t,e,o){if(l().isMobilePhone||l().isAndroidPad||l().isIPad)l().isIPad&&t&&String(t).indexOf("otherusers");else{f(t);var i=$(t);i.on("mouseenter",null,{drawViewCallback:e,extendParam:o},a),i.on("mouseleave",null,{drawViewCallback:e,extendParam:o},s)}}function u(t,e){return d(t,(function(t,o,i){var n;if(function(t){return t.siblings(".dropdown-wrapper.open").length>0||t.siblings(".toolbar-border-palette.open").length>0||"toolbar-colorPicker-picker-wrapper"==t.attr("id")||"toolbar-colorPicker-picker-paint-wrapper"==t.attr("id")||("sheet-calculate-button"==t.attr("id")||"sheet-calculate-more"==t.attr("id"))&&$("#sheet-calculate").siblings(".dropdown-wrapper.open").length>0||"web_header_readonly_tip"==t.attr("id")&&!$(".readonly_tip_popup").is(":hidden")||function(t){var e=".toolbar-dropdown-wrapper",o=t.parent().siblings(e)[0]||t.siblings(e)[0];return"visible"===(null===o||void 0===o?void 0:o.style.visibility)}(t)}(i))$("#tooltip").remove();else{var r=Number(i.attr("data-tooltip-offsetleft")||0),l=i.offset().top+i.outerHeight()+6+(e.top||0),a=i.offset().left+i.outerWidth()/2-t.outerWidth()/2+r;a=(a=Math.min(document.body.clientWidth-t.outerWidth()-10,a))<=10?10:a;var s=i.offset().left+i.outerWidth()/2-a+r;null===o||void 0===o||o.css({left:e.beforeLeft||s}),l+30>window.innerHeight&&"tooltip-after"==(null===o||void 0===o?void 0:o.attr("id"))&&(l=i.offset().top-t.outerHeight()-10),t.css({top:l,left:Math.max(a,0),zIndex:1e5}).hide().fadeIn(),null===(n=e.afterShow)||void 0===n||n.call(e,t)}}),e=e||{})}function p(t,e,o){return e||(e={}),e.tooltipArrowClass||(e.tooltipArrowClass="tooltip-right"),d(t,(function(t,i,n){(null===o||void 0===o?void 0:o.height)&&t.css("height",o.height),t.css("line-height",t.css("height")),(null===e||void 0===e?void 0:e["min-width"])&&t.css("min-width",e["min-width"]-16);var r,l=n.offset().top;if("tooltip-right"==$(i).get(0).id?(r=n.offset().left+n.outerWidth(),n.offset().left+n.outerWidth()+t.outerWidth()+20>window.innerWidth&&(r=n.offset().left-t.outerWidth()-19,$(i).get(0).setAttribute("id","tooltip-left"))):r=n.offset().left-t.outerWidth()-9,e&&e.left&&(r+=e.left),l<0){var a=t.outerHeight()/2;i.css({top:a+l})}t.css({top:l>0?l:0,left:r>0?r:0,zIndex:1e5}).hide().fadeIn()}),e)}function c(){$("#tooltip").remove()}function f(t){$(t).each((function(){$(this).off("mouseenter",null,a),$(this).off("mouseleave",null,s)}))}function h(t){var e=$("#tooltip");/\n/.test(t)?t.split(/\n/).forEach((function(t){var o=document.createElement("p");$(o).text(t),e.append(o)})):e.text(t)}}}]),window.jsExecEndTimeStamp=Date.now(),window.cachedPerformanceEntries||(window.cachedPerformanceEntries=[]),window.cachedPerformanceEntries.push({name:"jsExec: js/bundle_ui_tooltip.66e4b0144bb374516a8f.js",entryType:"jsExec",startTime:window.jsExecStartTimeStamp,endTime:window.jsExecEndTimeStamp});
//# sourceMappingURL=bundle_ui_tooltip.66e4b0144bb374516a8f.js.map