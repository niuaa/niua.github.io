self.window=self,window.jsExecStartTimeStamp=Date.now(),(self.webpackChunk_tencent_alloy_builder=self.webpackChunk_tencent_alloy_builder||[]).push([["initial_vendors_tencent_3"],{"../node_modules/@tencent/xtable-common/es/locales/index.js":function(e){e.exports={"en-US":{smartsheet:{back_card_edit:"Return {{gridViewTitle}} view",on_screen_not_editable:"The keyboard takes up too much space in landscape mode. Switch the screen orientation first.",network_not_connect:"The network is not connected, and the edited content will be synchronized after the network is restored.",cell_field_change:"The column type has changed. The content you are typing will not be saved.",cell_record_delete:"This record has been deleted",cell_record_hide:"This record has been hidden",cell_field_delete:"This column has been deleted",cell_field_hide:"This column has been hidden",field_delete_and_switch_card:"Deleted successfully, automatically switch to {{direction}} one",field_copy_success:"copied",file_not_support_type:"Some pictures failed to upload, the pictures are damaged or do not support this format.",file_size_limit:"Please upload pictures within 20M",file_not_empty:"Image cannot be empty.",file_not_over:"A maximum of 9 images are allowed.",line_spread_record_delete:"The record has been deleted. Switched to the next record automatically.",line_spread_record_delete_last:"The record deleted was the last one. Switched to the previous record automatically.",line_spread_record_filter:"The record does not meet the filter criteria, has been filtered and is not displayed in the view",last_editor:"Last modified by",copy:"copied",cut:"cutted",paste:"Paste",copy_area_empty:"The copied area is empty.",field_type_image:"Picture",yes:"Yes",no:"No",save:"保存",continue_modify:"继续修改",filed_confirm_modal_content:"你已修改“{{title}}”相关设置，需要保存修改内容吗？",filed_modify:"修改列",unname:"Unnamed",success:"Success",auto_fill:"This type is automatically generated by the system and cannot be modified manually.",paste_invalid_field:"The content to be pasted does not match the type. Modify the type and try again.",format_setting:"Format setting",default_checked:"Checked by default when added",checkbox:"Checkbox",date_format:"Date format",uploading:"Uploading...",field_upload_local_file:"Select files to upload",field_upload_local_attachment:"添加文件",field_field_paste_or_drag_to_add:"Drag and drop, copy and paste files",field_drag_to_upload:"Drag to this area to upload",field_only_number_allow:"Only numbers are allowed for the numeric type.",field_number_out_of_range:"The value is too {{type}}, you can enter it in the text column",field_number_less:"small",field_number_more:"large",field_create_time:"Created time",field_creator:"Created by",field_auto_fill_create_time:"Creation time automatically added for a new record",field_datetime:"Date",field_last_edit_time:"Last modified time",field_last_editor:"Last modified by",field_number:"Number",field_tel:"电话",field_user:"人员",field_attachment:"文件",field_email:"邮箱",field_formula:"Formula",field_integer:"Integer",digit:"位",digits:"位",decimal_digits:"Precision",auto:"All",use_thousand_separator:"Use 1000 separator",multiple_select:"Multiple Select",single_select:"Single Select",option:"Select",create_option:"Create a new option",input_and_create_option:"Input and create option...",search_or_create_option:"Search or create option...",search_option:"Find option",multiple_choice:"Multiple select",single_choice:"Single select",no_choice:"No options",option_setting:"Option setting",add_option:"Add an option",allow_instant_option_creation:"Allow quick adding of new option",text:"Text",hyperlink:"URL",display_text:"Display text",please_input_text:"Enter the text to display",link:"Link",please_input_link:"Enter a link",please_input_valid_link:"Enter a valid link",modify_link:"Edit link",cancel:"Cancel",confirm:"Confirm",display_style:"Display style",character:"Text only",icon_character:"Text with icon",rename_col:"Rename column",insert_1_col_on_left:"Insert left",insert_1_col_on_right:"Insert right",copy_col:"Duplicate column",hide_col:"Hide column",hide_selected_col:"Hide {{count}} columns",del_col:"Delete column",copy_card:"Duplicate detail",del_card:"Delete detail",confirm_del_card:"Are you sure to delete the current record?",del_selected_col:"Delete {{count}} columns",col_attr_setting:"Customize column type",field_type:"Type",field_title:"Title",col_setting:"Customize column",col_hidden:"隐藏列",filter:"Filter",filter_data:"Filter Data",filter_by_col:"Filter by this column",filter_by_collab:"A collaborator performed a filtering operation",empty:"is empty",not_empty:"is not empty",eq:"is",neq:"is not",contain:"contains",not_contain:"does not contain",later_than:"is after",earlier_than:"is before",detail_date:"exact date",today:"today",tomorrow:"tomorrow",yesterday:"yesterday",current_week:"this week",last_week:"last week",current_month:"this month",last_month:"last month",past_7_days:"in the past 7 days",next_7_days:"within the next 7 days",past_30_days:"in the past 30 days",next_30_days:"within the next 30 days",result_fulfilled:"results meet",all_following_conditions:"all of the conditions",any_following_conditions:"any of the conditions",add_drawer_condition:"Add condition",group:"Group",group_by_col:"Group by this colmun",cancel_group_by_col:"Don't group by this column",group_by_collab:"A collaborator performed a grouping operation",hidden_field:"Hidden column",switch_to_prev_row:"Previous record",switch_to_next_row:"Next record",add_1_row:"Add record",add_1_card:"Add card",expand_row:"Expand record",insert_1_row_above:"Insert record above",insert_1_row_below:"Insert record below",record_copy:"Duplicate record",record_del:"Delete record",selected_records_del:"Delete selected {{count}} records",row_height:"Row height",row_height_setting:"Set row height",row_height_default:"Default",row_height_low:"Short",row_height_medium:"Medium",row_height_high:"Tall",row_height_super_high:"Extra tall",search_replace:"Search & Replace",irreplaceable:"Can't replace",search_replace_cannot_find_others:"No more matches found. The search has started from the initial location",hidden_col_irreplaceable:"Hidden columns cannot be replaced",hidden_row_irreplaceable:"Hidden columns cannot be replaced",field_type_irreplaceable:"{{type}} by columns cannot be replaced",image_cannot_found:"Unable to find the picture",checkbox_checked_found:"Find a checked checkbox",checkbox_unchecked_found:"Find an unchecked checkbox",match_item_hidden:"Match has been hidden",replacing_all_wait:"Executing Replace All... Please wait.",no_result:"No result",input_search_content:"Enter the text to search",replace_with:"Replace with",input_replace_content:"Enter the text to replace with",search:"Search",replace:"Replace",replace_all:"Replace All",case_insensitive:"Match case",search_by_col:"Search by column",search_only_in_formula:"Search within formulas",exact_match:"Exact Match",search_in_current_workbook:"Find in the current smartsheet",search_all_workbook:"Find in all sheets",search_in_spec_area:"Specific Range",box_in_workbook:"Select range in the smartsheet",replace_or_advance_setting:"Replace/Advanced Settings",search_and_replace:"Search and Replace",search_and_replace2:"Search and Replace",hint:"Note",sort:"Sort",sort_by_collab:"A collaborator performed a sorting operation",auto_sort:"Keep sorted",sort_by_condition:"Sort by the following conditions",condition:"condition",condition_count:"{{count}}",apply_now:"Apply",field_stat:"Summary",undo:"Undo",redo:"Redo",already_copy_or_paste_cell:"{{cellCount}} cells {{action}}",find_field_title_in_hidden_cell:"A match was found in hidden cell",add_drawer_name_condition:"Add {{drawerName}} condition",search_in_range:"Search in the Range of {{ranges}}",confirm_replace_all_with:"Make sure to replace all the {{count}} “{{search}}” in this sheet with “{{replace}}” ？",sort_by_menu_text:"Sorter by {{menuText}}",view_table:"Grid view",view_kanban:"Kanban view",view_gantt:"Gantt view",view_photo:"Gallery view",view:"View",view_switch:"Views",view_name_length_over:"View name cannot exceed {{length}} characters.",view_del_by_collab:"The view has been deleted by another collaborator.",add_view:"Create view",del_view:"Delete view",copy_view:"Duplicate view",rename:"Rename view",real:"Real",fake:"Fake",not_yes:"Not yes",render_field_stat_calculating:"Loading",field_stat_no_display:"None",total_record:"Count all",not_filled:"Empty",filled:"Filled",unique_val:"Unique",not_filled_percent:"Percent Empty",filled_percent:"Percent Filled",unique_value_percent:"Percent Unique",unchecked:"Unchecked",checked:"Checked",unchecked_percent:"Percent Unchecked",checked_percent:"Percent Checked",latest_time:"Lateset Date",earliest_time:"Earliest Date",time_range_day:"Date range (days)",time_range_month:"Date range (months)",sum:"Sum",average:"Average",max:"Max",min:"Min",record_invalid_delete_index:"The index value is not standardized viewId = {{viewId}} index = {{index}} recordCount = {{recordCount}}",record_invalid_move_source_index:"The source value is not standardized source = {{source}} recordCount = {{recordCount}}",record_invalid_move_target_index:"target value is not standardized target = {{target}} recordCount = {{recordCount}}",field_id_nonexist:"FieldId does not exist, fieldId = {{notExistedFieldId}}",field_illegal_move:"Move Field Request Target does not meet the requirements, target = {{target}}",field_nonexist:"Field does not exist, fieldId = {{fieldId}}",width_illegal:"Width is illegal, width = {{width}}",is_field_stat_enabled_illegal:"isFieldStatEnabled is illegal, isFieldStatEnabled = {{isFieldStatEnabled}}",illegal_row_height_level:"RowHeightLevel is illegal, rowHeightLevel = {{rowHeightLevel}}",reselect_paste_area:"Please re-select the paste range",recordid_nonexist:"RecordId does not exist, RecordId = {{notExistedRecordId}}",record_index_same:"Record Target Index must be the same Index",record_empty:"The parameter records cannot be empty",record_illegal_insert_index:"index = {{index}} is illegal, recordCount = {{recordCount}}",table_illegal_delete_index:"index = {{index1}} is illegal, inconsistent with its own index {{index2}}",table_illegal_insert_index:"index = {{index}} is illegal, base.getTableCount = {{tableCount}}",view_illegal_insert_index:"index = {{index}} is illegal, table.getViewCount = {{viewCount}}",table_id_empty:"No tableId parameter, {{tableId}}",table_nonexist:"Table does not exist, tableId = {{tableId}}",view_id_empty:"No viewId parameter, {{viewId}}",view_nonexist:"View does not exist, viewId = {{viewId}}",field_id_empty:"No fieldId parameter, {{fieldId}}",record_id_empty:"No recordId parameter, {{recordId}}",record_nonexist:"Record does not exist, recordId = {{recordId}}",record_filter_out:"Record filtered",check_type_error:"Input parameter IdCheckType error, IdCheckType = {{checkType}}",multi_line_text:"Long text",date:"Date",color_light:"Light",color_red:"Red",color_orange:"Orange",color_blue:"Blue",color_sky_blue:"Sky Blue",color_green:"Green",color_purple:"Purple",color_pink:"Pink",color_gray:"Gray",color_white:"White",color_yellow:"Yellow",first_col_cannot_move:"This is the sheet's primary column. The primary column cannot be moved.",field_with_px:"Field width: {{newWidth}} pixels",grid_with_px:"Grid width: {{newWidth}} pixels",data_stat:"Summary",icon_nonexist:"Icons that don't exist:{{alias}}",icon_load_fail:"Failed to load render layer icon:{{alias}}",value_empty:"(Empty)",group_head_count:"{{count}} records",collaborator_etc:"etc. {{userCount}} collaborator",collaborator_inputing:"is typing...",title_exist:"{{type}} named 「{{title}}」 already exists. Please enter another name.",title_empty:"{{type}} name cannot be empty",unknown_error:"Unknown error",field_insert_fail:"Failed to insert column",record_insert_fail:"Failed to insert record",insert_fail:"Failed to insert",field_rename_fail:"Rename failed",field_max_size_reach:"The number of columns has reached the limit. Delete unwanted columns and try again.",record_max_size_reach:"The number of records has reached the limit. Delete unwanted records and try again.",cell_max_size_reach:"The number of cells has reached the limit. Delete unwanted records or fields and try again.",view_max_size_reach:"The number of views has reached the limit ({{view}} rows). Delete unwanted views and try again.",field:"column",confirm_del_title:"Delete the “{{title}}” {{type}}?",del:"delete",number_asc:"Sort 1 - 9",number_desc:"Sort 9 - 1",string_asc:"Sort A - Z",string_desc:"Sort Z - A",select_asc:"Sort First-Last",select_desc:"Sort Last-First",other_asc:"First-Last",other_desc:"Last-First",number_menu_asc:"0 - 9",number_menu_desc:"9 - 0",string_menu_asc:"A - Z",string_menu_desc:"Z - A",select_menu_asc:"Sort First-Last",select_menu_desc:"Sort Last-First",option_menu_asc:"Unchecked-Checked",option_menu_desc:"Check-Unchecked",other_menu_asc:"First-Last",other_menu_desc:"Last-First",text_replace:"Replace text",doc_title:"The document name is《{{docTitle}}》",search_replace_with:"Replace with",search_in_table:"Find in smartsheet",search_previous:"Previous",search_next:"Next",model_view_id_duplicated:"Duplicate view ID: {{viewIds}}",model_view_data_invalid:"These view data is illegal: {{viewIds}}",add_card:"Add record",ungroup:"Uncategorized",record_be_grouped:"Records moved to a new group.",record_be_sorted:"Records moved to new sort positions.",record_be_filtered:"Records filtered.",unname_group:"Unnamed stack",delete_group_confirm_title:"confirm delete",delete_group_confirm_content:"After this group is deleted, the records will be moved to Ungrouped.",rename_group:"Rename stack",delete_group:"Delete stack",unname_record:"Unnamed record",add_group:"New stack",group_by:"Stacked by",kanban_group_by:"Kanban stack by",addOneField:"Add column",done:"Done",kanban_group_by_desc:"The dashboard view can only be grouped by single-select column. Select or add such a column.",unname_field:"Unnamed column",no_data:"No data",card_setting:"Kanban setting",table_hidden:"This table has been hidden",table_delete:"This table has been deleted",group_title_cant_be_empty_tip:"Stack name cannot be empty",cant_update_group_title_tip:"Unable to modify the type of columns with questions in the form. If the type is modified, collection results will not be updated.",single_choice_default_value1:"Todo",single_choice_default_value2:"In progress",single_choice_default_value3:"Done",no_cover:"No cover field",show_content_title:"Display column name",cover_content:"Cover content",insert_1_card_above:"Insert record above",insert_1_card_below:"Insert record below",cannot_smart_fill_by_type:"There are cells that cannot be filled. The content in these cells is generated automatically.",table_hidden_delete:"The table has been deleted or hidden",no_group_by:"No Group By option set. Unable to display.",set_on_pc:"Please set on PC.",modify_field_is_kanban_group:"The {{viewsName}} is grouped by this column. Modifying the column will invalidate {{viewsName}}. Modify?",modify_multi_select_field_is_kanban_group:"The {{viewsName}} is grouped by this column. Allowing multi-select will invalidate {{viewsName}}. Modify?",modify_date_time_field_is_gantt_date_field:"该列是 “{{viewsName}}” 的开始/结束日期列，修改类型后 “{{viewsName}}” 将失效，你确定要修改吗？",delete_field_is_kanban_group:"The {{viewsName}} is grouped by this column. Deleting the column will invalidate {{viewsName}}. Delete?",delete_field_is_gantt_date_field:"该列是 “{{viewsName}}” 的开始/结束日期列，你确定要删除吗？",parse_pic_fail:"Failed to parse image",kanban_move_notice:"Moving this stack will change the order of select options in the {{fieldName}} column. Are you sure you want to move this stack?",collapse_group:"Collapse stack",expand_group:"展开分组",table_description:"Notice",table_description_show:"Show Notice",table_description_hide:"Hide Notice",table_description_placeholder_editable:"Please enter content",table_description_placeholder_readonly:"Content is empty",table_description_bg_color_edit:"修改背景色",table_description_notice_modal_tip:"您可点击工具栏的公告按钮恢复显示","默认字体":"默认字体","微软雅黑":"微软雅黑","宋体":"宋体","黑体":"黑体","仿宋":"仿宋","楷体":"楷体","标楷体":"标楷体","华文仿宋":"华文仿宋","华文楷体":"华文楷体","华文宋体":"华文宋体","新宋体":"新宋体","微软正黑体":"微软正黑体","新细明体":"新细明体","冬青黑简体中文":"冬青黑简体中文","苹方":"苹方",not_notice:"Don’t show this message again",paste_without_permission:"Cannot paste into a read-only table",clipboard_data_empty:"剪切板内容为空或无法识别到内容",request_run_catch_error:"An unknown error occurred in the smart table, please refresh and try again",no_image:"No picture",part_content_cannot_replace:"Part of the content cannot be replaced",cannot_dragger:"Automatic sorting is turned on, records cannot be moved",canvas_tip_field_modify:"Set column type",canvas_tip_add_field:"Insert a column",canvas_tip_add_record:"Add a row",card_detail:"Detail view",stat_default_tip:"data statistics",record_moved_by_sort:"该记录将被排序规则调整至新的位置",record_moved_by_group:"该记录将被分组规则调整至新的分组",record_moved_by_filter:"该记录不符合筛选条件，将被过滤",insert_record_by_filter:"已设置筛选，修改记录符合筛选条件才会显示",work_in_progress:"Under development, stay tuned",input_number_between_0_and_100:"Please enter a value between 0 and 100",input_valid_tel:"请输入有效的号码",input_valid_email:"请输入有效的邮箱地址",input_tel:"输入号码",input_email:"输入邮箱",send_email:"发送邮件",field_progress:"Progerss",not_set_group:"The view has not been configured and cannot be viewed",insert_1_card_left:"Insert left",insert_1_card_right:"Insert right",gallery_setting:"Gallery setting",gantt_setting:"甘特设置",time_record_clean:"清除时间",set_time:"设置时间",time_line_set:"时间条显示设置",start_point:"起点",end_point:"终点",start_date:"开始日期",end_date:"结束日期",time_line_start_end:"时间条起点、终点",date_field_delete_tip:"原时间条起点/终点已被删除，请重新选择",no_record:"No record",no_record_after_filter:"All records were filtered",add_1_record:"Add record",check:"View",navigation:"Navigation",selectAll:"Select all",operate:"Action",data_loading:"数据加载中，待加载完成后开放编辑",field_hide_tip:"您可在工具栏的列管理中恢复显示此列",got_it:"我知道了",paste_tip_title:"粘贴提示",paste_in_blank_table:"是否将粘贴的首行内容识别为列名？",":":":",",":",",confirm_create_group_by:"此视图的分组依据列已被删除，导致视图无法展示，请问是否重新创建？不创建将离开此视图",notice_group_by_created:"此视图的分组依据列已被删除，导致视图无法展示，系统即将重新创建分组依据列，修复视图异常",you:"you",has_collaborator:"collaborator",create:"create",not_create:"don't create",upload_not_support:"上传失败，暂不支持该文件格式",upload_error_retry:"上传文件 {{value}} 失败，请重试",upload_mobile_not_support_check:"移动端暂时不支持查看，请前往电脑端",attachment_drag_to_upload:"拖拽或粘贴文件",add_to_pc:"暂无文件，如需添加请前往电脑端",preview_fail:"预览失败",retry:"重试",no_auth_preivew:"没有权限查看缩略图",doc_delete:"文档已被删除",file_delete:"文件已被删除",day_count:"共 {{day}} 天"}},"zh-CN":{smartsheet:{back_card_edit:"返回{{gridViewTitle}}视图",on_screen_not_editable:"横屏时键盘占用面积过大，请切换屏幕方向后编辑",network_not_connect:"网络未连接，编辑内容会在网络恢复后同步。",cell_field_change:"此列的类型已发生改变，您正在输入的内容将无法保存。",cell_record_delete:"此条记录已被删除",cell_record_hide:"此条记录已被隐藏",cell_field_delete:"此列已被删除",field_delete_and_switch_card:"删除成功, 自动切换至{{direction}}一条",field_copy_success:"复制成功",cell_field_hide:"此列已被隐藏",file_not_support_type:"部分图片上传失败，图片损坏或不支持此格式。",file_size_limit:"请上传20M以内的图片",file_not_empty:"图片不能为空",file_not_over:"图片数量不能超过9张",line_spread_record_delete:"此记录已被删除，自动切换到下一条记录",line_spread_record_delete_last:"删除记录为最后一条，自动切换到上一条记录",line_spread_record_filter:"该记录不符合筛选条件，已被过滤，不在视图中显示",last_editor:"最后编辑人",copy:"复制",cut:"剪切",paste:"粘贴",copy_area_empty:"复制区域为空",field_type_image:"图片",yes:"是",no:"否",save:"保存",continue_modify:"继续修改",filed_confirm_modal_content:"你已修改“{{title}}”相关设置，需要保存修改内容吗？",filed_modify:"修改列",unname:"未命名",success:"成功",auto_fill:"此类型由系统自动生成，不支持手动修改。",paste_invalid_field:"粘贴内容与类型不符，请修改类型后重试。",format_setting:"格式设置",default_checked:"新增时默认勾选",checkbox:"复选框",date_format:"日期格式",uploading:"上传中...",field_upload_local_file:"添加本地图片",field_upload_local_attachment:"添加文件",field_field_paste_or_drag_to_add:"粘贴或拖拽添加图片",field_drag_to_upload:"拖拽到此区域内上传",field_only_number_allow:"数字类型只能输入数字",field_number_out_of_range:"数值过{{type}}，可在文本列输入",field_number_less:"小",field_number_more:"大",field_create_time:"创建时间",field_creator:"创建人",field_auto_fill_create_time:"新记录自动填写创建时间",field_datetime:"日期",field_last_edit_time:"最后编辑时间",field_last_editor:"最后编辑人",field_number:"数字",field_tel:"电话",field_user:"人员",field_attachment:"文件",field_email:"邮箱",field_formula:"公式",field_integer:"整数",digit:"位",digits:"位",decimal_digits:"小数位数",auto:"显示原值",use_thousand_separator:"使用千位符",multiple_select:"多选",single_select:"单选",option:"选项",create_option:"创建选项",input_and_create_option:"输入并创建选项...",search_or_create_option:"检索或创建选项...",search_option:"查找选项",multiple_choice:"多选",single_choice:"单选",no_choice:"暂无选项",option_setting:"选项设置",add_option:"添加选项",allow_instant_option_creation:"允许填写时新增选项",text:"文本",hyperlink:"超链接",display_text:"显示文本",please_input_text:"请输入显示文本",link:"链接",please_input_link:"请输入链接地址",please_input_valid_link:"请输入有效的链接",modify_link:"修改链接",cancel:"取消",confirm:"确认",display_style:"展示样式",character:"文字",icon_character:"图标文字",rename_col:"重命名列",insert_1_col_on_left:"在左侧插入 1 列",insert_1_col_on_right:"在右侧插入 1 列",copy_col:"复制此列",hide_col:"隐藏此列",hide_selected_col:"隐藏所选列（{{count}}列）",del_col:"删除此列",copy_card:"复制记录",del_card:"删除记录",confirm_del_card:"确认删除当前记录吗？",del_selected_col:"删除所选列（{{count}}列）",col_attr_setting:"设置列类型",field_type:"类型",field_title:"名称",col_setting:"列管理",col_hidden:"隐藏列",filter:"筛选",filter_data:"筛选数据",filter_by_col:"按此列筛选",filter_by_collab:"有协作者执行了筛选",empty:"为空",not_empty:"不为空",eq:"等于",neq:"不等于",contain:"包含",not_contain:"不包含",later_than:"晚于",earlier_than:"早于",detail_date:"具体日期",today:"今天",tomorrow:"明天",yesterday:"昨天",current_week:"本周",last_week:"上周",current_month:"本月",last_month:"上月",past_7_days:"过去 7 天内",next_7_days:"未来 7 天内",past_30_days:"过去 30 天内",next_30_days:"未来 30 天内",result_fulfilled:"结果满足",all_following_conditions:"以下全部条件",any_following_conditions:"以下任意条件",add_drawer_condition:"添加{{drawerName}}条件",group:"分组",group_by_col:"按此列分组",cancel_group_by_col:"取消按此列分组",group_by_collab:"有协作者执行了分组",hidden_field:"隐藏的列",switch_to_prev_row:"切换到上一条记录",switch_to_next_row:"切换到下一条记录",add_1_row:"添加一行",add_1_card:"添加卡片",expand_row:"展开记录",insert_1_row_above:"在上方插入 1 行",insert_1_row_below:"在下方插入 1 行",record_copy:"复制记录",record_del:"删除记录",selected_records_del:"删除所选记录（{{count}} 条）",row_height:"行高",row_height_setting:"设置行高",row_height_default:"默认",row_height_low:"低",row_height_medium:"中等",row_height_high:"高",row_height_super_high:"超高",search_replace:"查找替换",irreplaceable:"无法替换",search_replace_cannot_find_others:"找不到其他匹配项，已从初始位置开始查找",hidden_col_irreplaceable:"隐藏列无法替换",hidden_row_irreplaceable:"隐藏行无法替换",field_type_irreplaceable:"无法替换“{{type}}”类型",image_cannot_found:"无法查找到图片",checkbox_checked_found:"查找到勾选的复选框",checkbox_unchecked_found:"查找到未勾选的复选框",match_item_hidden:"匹配项已被隐藏",replacing_all_wait:"正在执行全部替换，请稍候...",no_result:"无结果",input_search_content:"输入查找内容",replace_with:"替换为",input_replace_content:"输入替换内容",search:"查找",replace:"替换",replace_all:"全部替换",case_insensitive:"区分大小写",search_by_col:"按列查找",search_only_in_formula:"仅在公式中查找",exact_match:"完全匹配",search_in_current_workbook:"查找当前智能表",search_all_workbook:"查找全部表",search_in_spec_area:"查找指定范围",box_in_workbook:"在智能表中框选范围",replace_or_advance_setting:"替换/高级设置",search_and_replace:"查找和替换",search_and_replace2:"查找并替换",hint:"提示",sort:"排序",sort_by_collab:"有协作者执行了排序",auto_sort:"自动排序",sort_by_condition:"根据以下条件排序",condition:"条件",condition_count:"{{count}} 个条件",apply_now:"立即应用",field_stat:"数据统计",undo:"撤销",redo:"重做",already_copy_or_paste_cell:"已{{action}}{{cellCount}}个单元格",find_field_title_in_hidden_cell:"在隐藏的 “{{fieldTitle}}” 单元格中找到匹配项；",add_drawer_name_condition:"添加{{drawerName}}条件",search_in_range:"在范围 {{ranges}} 中查找",confirm_replace_all_with:"确定将此智能表内的 {{count}} 处 “{{search}}” 全部替换为 “{{replace}}” 吗？",sort_by_menu_text:"按 {{menuText}} 排序",view_table:"表格视图",view_kanban:"看板视图",view_gantt:"甘特视图",view_photo:"画册视图",view:"视图",view_switch:"切换视图",view_name_length_over:"视图名称不能超过 {{length}} 个字符",view_del_by_collab:"当前视图已被其他协作者删除",add_view:"新建视图",del_view:"删除视图",copy_view:"复制视图",rename:"重命名",real:"真",fake:"假",not_yes:"不是",render_field_stat_calculating:"加载中",field_stat_no_display:"不展示",total_record:"记录总数",not_filled:"未填写",filled:"已填写",unique_val:"唯一值",not_filled_percent:"未填写占比",filled_percent:"已填写占比",unique_value_percent:"唯一值占比",unchecked:"未勾选",checked:"已勾选",unchecked_percent:"未勾选占比",checked_percent:"已勾选占比",latest_time:"最晚时间",earliest_time:"最早时间",time_range_day:"时间范围（日）",time_range_month:"时间范围（月）",sum:"求和",average:"平均值",max:"最大值",min:"最小值",record_invalid_delete_index:"index 值不规范 viewId = {{viewId}} index = {{index}} recordCount = {{recordCount}}",record_invalid_move_source_index:"source 值不规范 source = {{source}} recordCount = {{recordCount}}",record_invalid_move_target_index:"target 值不规范 target = {{target}} recordCount = {{recordCount}}",field_id_nonexist:"FieldId 不存在，fieldId = {{notExistedFieldId}}",field_illegal_move:"Move Field Request Target 不符合要求，target = {{target}}",field_nonexist:"Field 不存在，fieldId = {{fieldId}}",width_illegal:"Width 不合法，width = {{width}}",is_field_stat_enabled_illegal:"isFieldStatEnabled 不合法，isFieldStatEnabled = {{isFieldStatEnabled}}",illegal_row_height_level:"RowHeightLevel 不合法，rowHeightLevel = {{rowHeightLevel}}",reselect_paste_area:"请重新选择粘贴范围",recordid_nonexist:"RecordId 不存在，RecordId = {{notExistedRecordId}}",record_index_same:"Record Target Index 必须是同一个 Index",record_empty:"参数 records 不能为空",record_illegal_insert_index:"index = {{index}} 不合法, recordCount = {{recordCount}}",table_illegal_delete_index:"index = {{index1}} 不合法, 与本身index {{index2}} 不一致",table_illegal_insert_index:"index = {{index}} 不合法, base.getTableCount = {{tableCount}}",view_illegal_insert_index:"index = {{index}} 不合法, table.getViewCount = {{viewCount}}",table_id_empty:"没有 tableId 参数, {{tableId}}",table_nonexist:"Table 不存在，tableId = {{tableId}}",view_id_empty:"没有 viewId 参数, {{viewId}}",view_nonexist:"View 不存在，viewId = {{viewId}}",field_id_empty:"没有 fieldId 参数, {{fieldId}}",record_id_empty:"没有 recordId 参数, {{recordId}}",record_nonexist:"Record 不存在，recordId = {{recordId}}",record_filter_out:"记录已被过滤",check_type_error:"入参 IdCheckType 错误，IdCheckType = {{checkType}}",multi_line_text:"多行文本",date:"日期",color_light:"浅",color_red:"红",color_orange:"橙",color_sky_blue:"天蓝",color_blue:"蓝",color_green:"绿",color_purple:"紫",color_pink:"粉",color_gray:"灰",color_white:"白",color_yellow:"黄",first_col_cannot_move:"首列为索引列，不可以移动。",field_with_px:"列宽度：{{newWidth}} 像素",grid_with_px:"表格宽度：{{newWidth}} 像素",data_stat:"数据统计",icon_nonexist:"不存在的图标: {{alias}}",icon_load_fail:"渲染层图标加载失败: {{alias}}",value_empty:"(值为空)",group_head_count:"{{count}}项",collaborator_etc:" 等 {{userCount}} 人",collaborator_inputing:"正在输入…",title_exist:"{{type}}名称 “{{title}}” 已存在，请输入其他名称",title_empty:"{{type}}名称不能为空",unknown_error:"未知错误",field_insert_fail:"插入列失败",record_insert_fail:"插入记录失败",insert_fail:"插入失败",field_rename_fail:"重命名失败",field_max_size_reach:"列数量已达上限，建议删除无用列后再试。",record_max_size_reach:"记录数量已达上限，建议删除无用记录后再试。",cell_max_size_reach:"单元格数量已达上限，建议删除无用行或列后再试。",view_max_size_reach:"视图数量已达上限（{{view}}个），建议删除无用视图后再试。",field:"列",confirm_del_title:"确认要删除 “{{title}}” {{type}}吗？",del:"删除",number_asc:"升序 1 - 9",number_desc:"降序 9 - 1",string_asc:"升序 A - Z",string_desc:"降序 Z - A",select_asc:"选项正序",select_desc:"选项逆序",other_asc:"升序",other_desc:"降序",number_menu_asc:"0 到 9",number_menu_desc:"9 到 0",string_menu_asc:"A 到 Z",string_menu_desc:"Z 到 A",select_menu_asc:"选项正序",select_menu_desc:"选项逆序",option_menu_asc:"未勾选到已勾选",option_menu_desc:"已勾选到未勾选",other_menu_asc:"顺序",other_menu_desc:"倒序",text_replace:"替换文本",doc_title:"文档名为《{{docTitle}}》",search_replace_with:"替换为",search_in_table:"在智能表中查询",search_previous:"上一个",search_next:"下一个",model_view_id_duplicated:"视图 ID 重复：{{viewIds}}",model_view_data_invalid:"这些视图数据非法：{{viewIds}}",add_card:"添加",ungroup:"未分组",record_be_grouped:"此视图有分组，记录已调整分组",record_be_sorted:"此视图有排序，记录已调整顺序",record_be_filtered:"此视图有筛选，记录已被隐藏",unname_group:"未命名分组",delete_group_confirm_title:"确认删除",delete_group_confirm_content:"删除当前分组后，记录将移到未分组中",rename_group:"重命名分组",delete_group:"删除分组",unname_record:"未命名记录",add_group:"新建分组",group_by:"分组依据",kanban_group_by:"看板分组依据",addOneField:"添加一列",done:"完成",kanban_group_by_desc:"看板视图只能选择单选类型的列作为分组依据，请选择或添加一列。",unname_field:"未命名列",no_data:"暂无数据",card_setting:"看板设置",table_hidden:"此表已被隐藏",table_delete:"此表已被删除",group_title_cant_be_empty_tip:"分组名称不能为空",cant_update_group_title_tip:"无法修改包含收集表问题的列类型，修改后会导致收集结果更新失败",single_choice_default_value1:"未开始",single_choice_default_value2:"进行中",single_choice_default_value3:"已完成",no_cover:"无封面",show_content_title:"显示列名",cover_content:"封面内容",insert_1_card_above:"在上方插入记录",insert_1_card_below:"在下方插入记录",cannot_smart_fill_by_type:"包含不能填充的单元格，因为这些单元格的内容是自动生成的",table_hidden_delete:"该表已被删除或隐藏",no_group_by:"未设置分组依据，无法展示",set_on_pc:"请前往电脑版设置",modify_field_is_kanban_group:"该列是 “{{viewsName}}” 的分组依据，修改后 “{{viewsName}}” 将失效，你确定要修改吗？",modify_multi_select_field_is_kanban_group:"该列是 “{{viewsName}}” 的分组依据，允许多选后 “{{viewsName}}” 将失效，你确定要修改吗？",modify_date_time_field_is_gantt_date_field:"该列是 “{{viewsName}}” 的开始/结束日期列，修改类型后 “{{viewsName}}” 将失效，你确定要修改吗？",delete_field_is_kanban_group:"该列是 “{{viewsName}}” 的分组依据，删除后 “{{viewsName}}” 将失效，你确定要删除吗？",delete_field_is_gantt_date_field:"该列是 “{{viewsName}}” 的开始/结束日期列，你确定要删除吗？",parse_pic_fail:"解析图片失败",kanban_move_notice:"移动卡片分组的位置将会影响 「{{fieldName}}」 列的选项顺序，你确定要移动吗？",collapse_group:"折叠分组",expand_group:"展开分组",table_description:"公告",table_description_show:"显示公告",table_description_hide:"隐藏公告",table_description_placeholder_editable:"请输入公告内容",table_description_placeholder_readonly:"暂无公告",table_description_bg_color_edit:"修改背景色",table_description_notice_modal_tip:"您可点击工具栏的公告按钮恢复显示","默认字体":"默认字体","微软雅黑":"微软雅黑","宋体":"宋体","黑体":"黑体","仿宋":"仿宋","楷体":"楷体","标楷体":"标楷体","华文仿宋":"华文仿宋","华文楷体":"华文楷体","华文宋体":"华文宋体","新宋体":"新宋体","微软正黑体":"微软正黑体","新细明体":"新细明体","冬青黑简体中文":"冬青黑简体中文","苹方":"苹方",not_notice:"不再提示",paste_without_permission:"不能在只读表格进行粘贴操作",clipboard_data_empty:"剪切板内容为空或无法识别到内容",request_run_catch_error:"智能表发生未知错误，请刷新重试",no_image:"暂无图片",part_content_cannot_replace:"部分内容无法替换",insert_link:"插入链接",open_link:"打开链接",link_cannot_modify:"选择范围横跨多个段落，因此无法编辑",open_link_tips:"跳转到源网页",copy_link:"复制链接",cancel_link:"取消链接",cannot_dragger:"开启了自动排序，记录无法移动",canvas_tip_field_modify:"设置列类型",canvas_tip_add_field:"插入一列",canvas_tip_add_record:"添加一行",card_detail:"记录详情页",stat_default_tip:"数据统计",work_in_progress:"正在开发中，敬请期待",input_number_between_0_and_100:"请输入介于0到100之间的数值",input_valid_tel:"请输入有效的号码",input_valid_email:"请输入有效的邮箱地址",input_tel:"输入号码",input_email:"输入邮箱",send_email:"发送邮件",record_moved_by_sort:"该记录将被排序规则调整至新的位置",record_moved_by_group:"该记录将被分组规则调整至新的分组",record_moved_by_filter:"该记录不符合筛选条件，将被过滤",insert_record_by_filter:"已设置筛选，修改记录符合筛选条件才会显示",field_progress:"进度",not_set_group:"该视图未完成配置，无法查看",insert_1_card_left:"在左侧插入记录",insert_1_card_right:"在右侧插入记录",gallery_setting:"画册设置",gantt_setting:"甘特设置",time_record_clean:"清除时间",set_time:"设置时间",time_line_set:"时间条显示设置",start_point:"起点",end_point:"终点",start_date:"开始日期",end_date:"结束日期",time_line_start_end:"时间条起点、终点",date_field_delete_tip:"原时间条起点/终点已被删除，请重新选择",no_record:"暂无记录",no_record_after_filter:"所有记录都被筛选了",add_1_record:"添加记录",check:"查看",navigation:"导航",selectAll:"全选",operate:"操作",data_loading:"数据加载中，待加载完成后开放编辑",field_hide_tip:"您可在工具栏的列管理中恢复显示此列",got_it:"我知道了",paste_tip_title:"粘贴提示",paste_in_blank_table:"是否将粘贴的首行内容识别为列名？",":":"：",",":"，",confirm_create_group_by:"此视图的分组依据列已被删除，导致视图无法展示，请问是否重新创建？不创建将离开此视图",notice_group_by_created:"此视图的分组依据列已被删除，导致视图无法展示，系统即将重新创建分组依据列，修复视图异常",you:"你",has_collaborator:"有协作者",create:"创建",not_create:"不创建",upload_not_support:"上传失败，暂不支持该文件格式",upload_error_retry:"上传文件 {{value}} 失败，请重试",upload_mobile_not_support_check:"移动端暂时不支持查看，请前往电脑端",attachment_drag_to_upload:"拖拽或粘贴文件",add_to_pc:"暂无文件，如需添加请前往电脑端",preview_fail:"预览失败",retry:"重试",no_auth_preivew:"没有权限查看缩略图",doc_delete:"文档已被删除",file_delete:"文件已被删除",day_count:"共 {{day}} 天"}},"zh-HK":{smartsheet:{back_card_edit:"返回{{gridViewTitle}}視圖",on_screen_not_editable:"橫屏時鍵盤占用面積過大，請切換屏幕方向後編輯",network_not_connect:"網絡未連接，編輯內容會在網絡恢復後同步。",cell_field_change:"此列的類型已發生改變，您正在輸入的內容將無法保存。",cell_record_delete:"此條記錄已被刪除",cell_record_hide:"此條記錄已被隱藏",cell_field_delete:"此列已被刪除",field_delete_and_switch_card:"刪除成功, 自動切換至{{direction}}一條",field_copy_success:"復製成功",cell_field_hide:"此列已被隱藏",file_not_support_type:"部分圖片上傳失敗，圖片損壞或不支持此格式。",file_size_limit:"請上傳20M以內的圖片",file_not_empty:"圖片不能為空",file_not_over:"圖片數量不能超過9張",line_spread_record_delete:"此記錄已被刪除，自動切換到下一條記錄",line_spread_record_delete_last:"刪除記錄為最後一條，自動切換到上一條記錄",line_spread_record_filter:"該記錄不符合篩選條件，已被過濾，不在視圖中顯示",last_editor:"最後編輯人",copy:"復製",cut:"剪切",paste:"粘貼",copy_area_empty:"復製區域為空",field_type_image:"圖片",yes:"是",no:"否",save:"保存",continue_modify:"继续修改",filed_confirm_modal_content:"你已修改“{{title}}”相关设置，需要保存修改内容吗？",filed_modify:"修改列",unname:"未命名",success:"成功",auto_fill:"此類型由系統自動生成，不支持手動修改。",paste_invalid_field:"粘貼內容與類型不符，請修改類型後重試。",format_setting:"格式設置",default_checked:"新增時默認勾選",checkbox:"復選框",date_format:"日期格式",uploading:"上傳中...",field_upload_local_file:"添加本地圖片",field_upload_local_attachment:"添加文件",field_field_paste_or_drag_to_add:"粘貼或拖拽添加圖片",field_drag_to_upload:"拖拽到此區域內上傳",field_only_number_allow:"數字類型只能輸入數字",field_number_out_of_range:"數值過{{type}}，可在文本列輸入",field_number_less:"小",field_number_more:"大",field_create_time:"創建時間",field_creator:"創建人",field_auto_fill_create_time:"新記錄自動填寫創建時間",field_datetime:"日期",field_last_edit_time:"最後編輯時間",field_last_editor:"最後編輯人",field_number:"數字",field_tel:"电话",field_user:"人员",field_attachment:"文件",field_email:"邮箱",field_formula:"公式",field_integer:"整數",digit:"位",digits:"位",decimal_digits:"小數位數",auto:"顯示原值",use_thousand_separator:"使用千位符",multiple_select:"多选",single_select:"单选",option:"選項",create_option:"創建選項",input_and_create_option:"輸入並創建選項...",search_or_create_option:"檢索或創建選項...",search_option:"查找選項",multiple_choice:"多選",single_choice:"單選",no_choice:"暫無選項",option_setting:"選項設置",add_option:"添加選項",allow_instant_option_creation:"允許填寫時新增選項",text:"文本",hyperlink:"超鏈接",display_text:"顯示文本",please_input_text:"請輸入顯示文本",link:"鏈接",please_input_link:"請輸入鏈接地址",please_input_valid_link:"請輸入有效的鏈接",modify_link:"修改鏈接",cancel:"取消",confirm:"確認",display_style:"展示樣式",character:"文字",icon_character:"圖標文字",rename_col:"重命名列",insert_1_col_on_left:"在左側插入 1 列",insert_1_col_on_right:"在右側插入 1 列",copy_col:"復製此列",hide_col:"隱藏此列",hide_selected_col:"隱藏所選列（{{count}}列）",del_col:"刪除此列",copy_card:"復製記錄",del_card:"刪除記錄",confirm_del_card:"確認刪除當前記錄嗎？",del_selected_col:"刪除所選列（{{count}}列）",col_attr_setting:"設置列類型",field_type:"類型",field_title:"名稱",col_setting:"列管理",col_hidden:"隐藏列",filter:"篩選",filter_data:"篩選數據",filter_by_col:"按此列篩選",filter_by_collab:"有協作者執行了篩選",empty:"為空",not_empty:"不為空",eq:"等於",neq:"不等於",contain:"包含",not_contain:"不包含",later_than:"晚於",earlier_than:"早於",detail_date:"具體日期",today:"今天",tomorrow:"明天",yesterday:"昨天",current_week:"本周",last_week:"上周",current_month:"本月",last_month:"上月",past_7_days:"過去 7 天內",next_7_days:"未來 7 天內",past_30_days:"過去 30 天內",next_30_days:"未來 30 天內",result_fulfilled:"結果滿足",all_following_conditions:"以下全部條件",any_following_conditions:"以下任意條件",add_drawer_condition:"添加{{drawerName}}條件",group:"分組",group_by_col:"按此列分組",cancel_group_by_col:"取消按此列分組",group_by_collab:"有協作者執行了分組",hidden_field:"隱藏的列",switch_to_prev_row:"切換到上一條記錄",switch_to_next_row:"切換到下一條記錄",add_1_row:"添加一行",add_1_card:"添加卡片",expand_row:"展開記錄",insert_1_row_above:"在上方插入 1 行",insert_1_row_below:"在下方插入 1 行",record_copy:"復製記錄",record_del:"刪除記錄",selected_records_del:"刪除所選記錄（{{count}} 條）",row_height:"行高",row_height_setting:"設置行高",row_height_default:"默認",row_height_low:"低",row_height_medium:"中等",row_height_high:"高",row_height_super_high:"超高",search_replace:"查找替換",irreplaceable:"無法替換",search_replace_cannot_find_others:"找不到其他匹配項，已從初始位置開始查找",hidden_col_irreplaceable:"隱藏列無法替換",hidden_row_irreplaceable:"隱藏行無法替換",field_type_irreplaceable:"無法替換“{{type}}”類型",image_cannot_found:"無法查找到圖片",checkbox_checked_found:"查找到勾選的復選框",checkbox_unchecked_found:"查找到未勾選的復選框",match_item_hidden:"匹配項已被隱藏",replacing_all_wait:"正在執行全部替換，請稍候...",no_result:"無結果",input_search_content:"輸入查找內容",replace_with:"替換為",input_replace_content:"輸入替換內容",search:"查找",replace:"替換",replace_all:"全部替換",case_insensitive:"區分大小寫",search_by_col:"按列查找",search_only_in_formula:"僅在公式中查找",exact_match:"完全匹配",search_in_current_workbook:"查找當前智能表",search_all_workbook:"查找全部表",search_in_spec_area:"查找指定範圍",box_in_workbook:"在智能表中框選範圍",replace_or_advance_setting:"替換/高級設置",search_and_replace:"查找和替換",search_and_replace2:"查找並替換",hint:"提示",sort:"排序",sort_by_collab:"有協作者執行了排序",auto_sort:"自動排序",sort_by_condition:"根據以下條件排序",condition:"條件",condition_count:"{{count}} 個條件",apply_now:"立即應用",field_stat:"數據統計",undo:"撤銷",redo:"重做",already_copy_or_paste_cell:"已{{action}}{{cellCount}}個單元格",find_field_title_in_hidden_cell:"在隱藏的 「{{fieldTitle}}」 單元格中找到匹配項；",add_drawer_name_condition:"添加{{drawerName}}條件",search_in_range:"在範圍 {{ranges}} 中查找",confirm_replace_all_with:"確定將此智能表內的 {{count}} 處 「{{search}}」 全部替換為 「{{replace}}」 嗎？",sort_by_menu_text:"按 {{menuText}} 排序",view_table:"表格視圖",view_kanban:"看板視圖",view_gantt:"甘特視圖",view_photo:"畫冊視圖",view:"視圖",view_switch:"切換視圖",view_name_length_over:"視圖名稱不能超過 {{length}} 個字符",view_del_by_collab:"當前視圖已被其他協作者刪除",add_view:"新建視圖",del_view:"刪除視圖",copy_view:"復製視圖",rename:"重命名",real:"真",fake:"假",not_yes:"不是",render_field_stat_calculating:"加載中",field_stat_no_display:"不展示",total_record:"記錄總數",not_filled:"未填寫",filled:"已填寫",unique_val:"唯一值",not_filled_percent:"未填寫占比",filled_percent:"已填寫占比",unique_value_percent:"唯一值占比",unchecked:"未勾選",checked:"已勾選",unchecked_percent:"未勾選占比",checked_percent:"已勾選占比",latest_time:"最晚時間",earliest_time:"最早時間",time_range_day:"時間範圍（日）",time_range_month:"時間範圍（月）",sum:"求和",average:"平均值",max:"最大值",min:"最小值",record_invalid_delete_index:"index 值不規範 viewId = {{viewId}} index = {{index}} recordCount = {{recordCount}}",record_invalid_move_source_index:"source 值不規範 source = {{source}} recordCount = {{recordCount}}",record_invalid_move_target_index:"target 值不規範 target = {{target}} recordCount = {{recordCount}}",field_id_nonexist:"FieldId 不存在，fieldId = {{notExistedFieldId}}",field_illegal_move:"Move Field Request Target 不符合要求，target = {{target}}",field_nonexist:"Field 不存在，fieldId = {{fieldId}}",width_illegal:"Width 不合法，width = {{width}}",is_field_stat_enabled_illegal:"isFieldStatEnabled 不合法，isFieldStatEnabled = {{isFieldStatEnabled}}",illegal_row_height_level:"RowHeightLevel 不合法，rowHeightLevel = {{rowHeightLevel}}",reselect_paste_area:"請重新選擇粘貼範圍",recordid_nonexist:"RecordId 不存在，RecordId = {{notExistedRecordId}}",record_index_same:"Record Target Index 必須是同一個 Index",record_empty:"參數 records 不能為空",record_illegal_insert_index:"index = {{index}} 不合法, recordCount = {{recordCount}}",table_illegal_delete_index:"index = {{index1}} 不合法, 與本身index {{index2}} 不一致",table_illegal_insert_index:"index = {{index}} 不合法, base.getTableCount = {{tableCount}}",view_illegal_insert_index:"index = {{index}} 不合法, table.getViewCount = {{viewCount}}",table_id_empty:"沒有 tableId 參數, {{tableId}}",table_nonexist:"Table 不存在，tableId = {{tableId}}",view_id_empty:"沒有 viewId 參數, {{viewId}}",view_nonexist:"View 不存在，viewId = {{viewId}}",field_id_empty:"沒有 fieldId 參數, {{fieldId}}",record_id_empty:"沒有 recordId 參數, {{recordId}}",record_nonexist:"Record 不存在，recordId = {{recordId}}",record_filter_out:"記錄已被過濾",check_type_error:"入參 IdCheckType 錯誤，IdCheckType = {{checkType}}",multi_line_text:"多行文本",date:"日期",color_light:"浅",color_red:"紅",color_orange:"橙",color_blue:"藍",color_sky_blue:"天蓝",color_green:"綠",color_purple:"紫",color_pink:"粉",color_gray:"灰",color_white:"白",color_yellow:"黄",first_col_cannot_move:"首列為索引列，不可以移動。",field_with_px:"列寬度：{{newWidth}} 像素",grid_with_px:"表格寬度：{{newWidth}} 像素",data_stat:"數據統計",icon_nonexist:"不存在的圖標: {{alias}}",icon_load_fail:"渲染層圖標加載失敗: {{alias}}",value_empty:"(值為空)",group_head_count:"{{count}}項",collaborator_etc:" 等 {{userCount}} 人",collaborator_inputing:"正在輸入…",title_exist:"{{type}}名稱 「{{title}}」 已存在，請輸入其他名稱",title_empty:"{{type}}名稱不能為空",unknown_error:"未知錯誤",field_insert_fail:"插入列失敗",record_insert_fail:"插入記錄失敗",insert_fail:"插入失敗",field_rename_fail:"重命名失敗",field_max_size_reach:"列數量已達上限，建議刪除無用列後再試。",record_max_size_reach:"記錄數量已達上限，建議刪除無用記錄後再試。",cell_max_size_reach:"單元格數量已達上限，建議刪除無用行或列後再試。",view_max_size_reach:"記錄視圖已達上限（{{view}}個），建議刪除無用視圖後再試。",field:"列",confirm_del_title:"確認要刪除 「{{title}}」 {{type}}嗎？",del:"刪除",number_asc:"升序 1 - 9",number_desc:"降序 9 - 1",string_asc:"升序 A - Z",string_desc:"降序 Z - A",select_asc:"選項正序",select_desc:"選項逆序",other_asc:"升序",other_desc:"降序",number_menu_asc:"0 到 9",number_menu_desc:"9 到 0",string_menu_asc:"A 到 Z",string_menu_desc:"Z 到 A",select_menu_asc:"選項正序",select_menu_desc:"選項逆序",option_menu_asc:"未勾選到已勾選",option_menu_desc:"已勾選到未勾選",other_menu_asc:"順序",other_menu_desc:"倒序",text_replace:"替換文本",doc_title:"文檔名為《{{docTitle}}》",search_replace_with:"替換為",search_in_table:"在智能表中查詢",search_previous:"上一個",search_next:"下一個",model_view_id_duplicated:"視圖 ID 重復：{{viewIds}}",model_view_data_invalid:"這些視圖數據非法：{{viewIds}}",add_card:"添加",ungroup:"未分組",record_be_grouped:"此視圖有分組，記錄已調整分組",record_be_sorted:"此視圖有排序，記錄已調整排序",record_be_filtered:"此視圖有篩選，記錄已被隱藏",unname_group:"未命名分組",delete_group_confirm_title:"確認刪除",delete_group_confirm_content:"刪除當前分組後，記錄將移到未分組中",rename_group:"重命名分組",delete_group:"刪除分組",unname_record:"未命名記錄",add_group:"新建分組",group_by:"分組依據",kanban_group_by:"看板分組依據",addOneField:"添加一列",done:"完成",kanban_group_by_desc:"看板視圖只能選擇單選類型的列作為分組依據，請選擇或添加一列。",unname_field:"未命名列",no_data:"暫無數據",card_setting:"看板設置",table_hidden:"此表已被隱藏",table_delete:"此表已被刪除",group_title_cant_be_empty_tip:"分組名稱不能為空",cant_update_group_title_tip:"無法修改包含收集表問題的列類型，修改後會導致收集結果更新失敗",single_choice_default_value1:"未開始",single_choice_default_value2:"進行中",single_choice_default_value3:"已完成",no_cover:"無封面",show_content_title:"顯示列名",cover_content:"封面內容",insert_1_card_above:"在上方插入記錄",insert_1_card_below:"在下方插入記錄",cannot_smart_fill_by_type:"包含不能填充的單元格，因為這些單元格的內容是自動生成的",table_hidden_delete:"該表已被刪除或隱藏",no_group_by:"未設置分組依據，無法展示",set_on_pc:"請前往電腦版設置",modify_field_is_kanban_group:"該列是 「{{viewsName}}」 的分組依據，修改後 「{{viewsName}}」 將失效，你確定要修改嗎？",modify_multi_select_field_is_kanban_group:"該列是 「{{viewsName}}」 的分組依據，允許多選後 「{{viewsName}}」 將失效，你確定要修改嗎？",modify_date_time_field_is_gantt_date_field:"该列是 “{{viewsName}}” 的开始/结束日期列，修改类型后 “{{viewsName}}” 将失效，你确定要修改吗？",delete_field_is_kanban_group:"該列是 「{{viewsName}}」 的分組依據，刪除後 「{{viewsName}}」 將失效，你確定要刪除嗎？",delete_field_is_gantt_date_field:"该列是 “{{viewsName}}” 的开始/结束日期列，你确定要删除吗？",parse_pic_fail:"解析圖片失敗",kanban_move_notice:"移動卡片組的位置將會影響 「{{fieldName}}」 列的選項順序，你確定要移動嗎？",collapse_group:"折疊分組",expand_group:"展开分组",table_description:"公告",table_description_show:"显示公告",table_description_hide:"隐藏公告",table_description_placeholder_editable:"请输入公告内容",table_description_placeholder_readonly:"暂无公告",table_description_bg_color_edit:"修改背景色",table_description_notice_modal_tip:"您可点击工具栏的公告按钮恢复显示","默认字体":"默认字体","微软雅黑":"微软雅黑","宋体":"宋体","黑体":"黑体","仿宋":"仿宋","楷体":"楷体","标楷体":"标楷体","华文仿宋":"华文仿宋","华文楷体":"华文楷体","华文宋体":"华文宋体","新宋体":"新宋体","微软正黑体":"微软正黑体","新细明体":"新细明体","冬青黑简体中文":"冬青黑简体中文","苹方":"苹方",not_notice:"不再提示",paste_without_permission:"不能在只讀表格進行粘貼操作",clipboard_data_empty:"剪切板内容为空或无法识别到内容",request_run_catch_error:"智能表發生未知錯誤，請刷新重試",no_image:"暫無圖片",part_content_cannot_replace:"部分內容無法替換",cannot_dragger:"開啟了自動排序，記錄無法移動",canvas_tip_field_modify:"設置列類型",canvas_tip_add_field:"插入一列",canvas_tip_add_record:"添加一行",record_moved_by_sort:"该记录将被排序规则调整至新的位置",record_moved_by_group:"该记录将被分组规则调整至新的分组",record_moved_by_filter:"该记录不符合筛选条件，将被过滤",insert_record_by_filter:"已設置篩選，修改記錄符合篩選條件才會顯示",card_detail:"記錄詳情頁",stat_default_tip:"數據統計",work_in_progress:"正在開發中，敬請期待",input_number_between_0_and_100:"請輸入介於0到100之間的數值",input_valid_tel:"请输入有效的号码",input_valid_email:"请输入有效的邮箱地址",input_tel:"输入号码",input_email:"输入邮箱",send_email:"发送邮件",field_progress:"進度",not_set_group:"該視圖未完成配置，無法查看",insert_1_card_left:"在左側插入記錄",insert_1_card_right:"在右側插入記錄",gallery_setting:"畫冊設置",gantt_setting:"甘特设置",time_record_clean:"清除时间",set_time:"設置時間",time_line_set:"时间条显示设置",start_point:"起點",end_point:"終點",start_date:"開始日期",end_date:"結束日期",time_line_start_end:"時間條起點、終點",date_field_delete_tip:"原時間條起點/終點已被刪除，請重新選擇",no_record:"暫無記錄",no_record_after_filter:"所有記錄都被篩選了",add_1_record:"添加記錄",check:"查看",navigation:"導航",selectAll:"全選",operate:"操作",data_loading:"数据加载中，待加载完成后开放编辑",field_hide_tip:"您可在工具栏的列管理中恢复显示此列",got_it:"我知道了",paste_tip_title:"粘贴提示",paste_in_blank_table:"是否将粘贴的首行内容识别为列名？",":":"：",",":"，",confirm_create_group_by:"此視圖的分組依據列已被刪除了，導致視圖無法展示，請問是否重新創建？不創建將離開此視圖",notice_group_by_created:"此視圖的分組依據列已被刪除了，導致視圖無法展示，系統即將重新創建分組依據列，修復視圖異常",you:"你",has_collaborator:"有協作者",create:"創建",not_create:"不創建",upload_not_support:"上传失败，暂不支持该文件格式",upload_error_retry:"上传文件 {{value}} 失败，请重试",upload_mobile_not_support_check:"移动端暂时不支持查看，请前往电脑端",attachment_drag_to_upload:"拖拽或粘贴文件",add_to_pc:"暂无文件，如需添加请前往电脑端",preview_fail:"预览失败",retry:"重试",no_auth_preivew:"没有权限查看缩略图",doc_delete:"文档已被删除",file_delete:"文件已被删除",day_count:"共 {{day}} 天"}}}},"../node_modules/@tencent/ioc/lib/esm/index.js":function(e,t,n){"use strict";n.d(t,{RU:function(){return A},Ln:function(){return x},tB:function(){return L},GS:function(){return k},Am:function(){return O},aN:function(){return z},zt:function(){return M},ll:function(){return C},f3:function(){return F}});var i=n("../node_modules/@babel/runtime/helpers/esm/construct.js"),o=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),s=n("../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function a(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(c){r(c)}}function a(e){try{l(i.throw(e))}catch(c){r(c)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("../node_modules/core-js/modules/esnext.reflect.metadata.js");var c,u=function(){if("object"==typeof performance&&"function"==typeof performance.now)return function(){return performance.now()};var e=Date,t=e.now();return function(){return e.now()-t}}(),h=function(){function e(){var e=this;this.isMessageLoopRunning=!1,this.performWorkUntilDeadline=function(t){var n;if(e.deadline=t,e.scheduledHostCallback){var i=u(),o=(null==t?void 0:t.didTimeout)||!1;e.scheduledHostCallback(o,i)?null===(n=window.requestIdleCallback)||void 0===n||n.call(window,e.performWorkUntilDeadline,{timeout:500}):(e.isMessageLoopRunning=!1,e.scheduledHostCallback=void 0)}else e.isMessageLoopRunning=!1}}return e.prototype.shouldYieldToHost=function(e){var t,n,i,o;void 0===e&&(e=0);var r=null===(n=null===(t=this.deadline)||void 0===t?void 0:t.timeRemaining)||void 0===n?void 0:n.call(t);if(void 0!==r&&r<e)return!0;var s=navigator;return!!(null===(o=null===(i=null==s?void 0:s.scheduling)||void 0===i?void 0:i.isInputPending)||void 0===o?void 0:o.call(i))},e.prototype.requestHostCallback=function(e){if("function"!=typeof window.requestIdleCallback)throw Error("requestIdleCallback undefined when use ExecutorIdleCallback!");this.scheduledHostCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,window.requestIdleCallback(this.performWorkUntilDeadline,{timeout:500}))},e}(),g=function(){function e(){}return e.prototype.shouldYieldToHost=function(){return!1},e.prototype.requestHostCallback=function(e){var t=this;this.scheduledHostCallback?setTimeout((function(){return t.requestHostCallback(e)}),0):(this.scheduledHostCallback=e,setTimeout((function(){return t.flushCallback()}),0))},e.prototype.flushCallback=function(){var e=this;if(this.scheduledHostCallback)try{var t=u();this.scheduledHostCallback(!1,t),this.scheduledHostCallback=void 0}catch(u){throw setTimeout((function(){return e.flushCallback()}),0),u}},e}(),f=function(){function e(){var t=this;this.maxYieldInterval=300,this.yieldInterval=10,this.deadline=0,this.isMessageLoopRunning=!1,e.UUID+=1,this.key=""+e.UUID,m.get().onMessage(this.key,(function(){t.performWorkUntilDeadline()}))}return e.prototype.shouldYieldToHost=function(){var e,t,n=navigator;if(void 0!==(null===(e=null==n?void 0:n.scheduling)||void 0===e?void 0:e.isInputPending)){var i=n.scheduling,o=u();return o>=this.deadline&&(!!(null===(t=i.isInputPending)||void 0===t?void 0:t.call(i))||o>=this.maxYieldInterval)}return u()>=this.deadline},e.prototype.requestHostCallback=function(e){this.scheduledHostCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,m.get().postMessage(this.key))},e.prototype.performWorkUntilDeadline=function(){if(this.scheduledHostCallback){var e=u();this.deadline=e+this.yieldInterval;var t=this.scheduledHostCallback(!1,e);try{t?m.get().postMessage(this.key):(this.isMessageLoopRunning=!1,this.scheduledHostCallback=void 0)}catch(e){throw m.get().postMessage(this.key),e}}else this.isMessageLoopRunning=!1},e.UUID=0,e}(),m=function(){function e(){var e=this;this.callbacks=new Map,this.channel=new MessageChannel,this.port=this.channel.port2,this.channel.port1.onmessage=function(t){var n=t.data,i=e.callbacks.get(n);"function"==typeof i?i():null===console||void 0===console||console.warn("non callback found by "+n)}}return e.get=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.onMessage=function(e,t){this.callbacks.set(e,t)},e.prototype.postMessage=function(e){this.port.postMessage(e)},e}(),p=function(){function e(){this.heap=[]}return e.prototype.push=function(e){var t=this.heap.length;this.heap.push(e),this.siftUp(e,t)},e.prototype.peek=function(){return this.heap[0]},e.prototype.pop=function(){var e=this.heap[0];if(void 0!==e){var t=this.heap.pop();return t&&t!==e&&(this.heap[0]=t,this.siftDown(t,0)),e}},e.prototype.size=function(){return this.heap.length},e.prototype.clear=function(){this.heap=[]},e.prototype.siftUp=function(e,t){for(var n=t;;){var i=n-1>>>1,o=this.heap[i];if(!(void 0!==o&&this.compare(o,e)>0))return;this.heap[i]=e,this.heap[n]=o,n=i}},e.prototype.siftDown=function(e,t){for(var n=t,i=this.heap.length;n<i;){var o=2*(n+1)-1,r=this.heap[o],s=o+1,a=this.heap[s];if(void 0!==r&&this.compare(r,e)<0)void 0!==a&&this.compare(a,r)<0?(this.heap[n]=a,this.heap[s]=e,n=s):(this.heap[n]=r,this.heap[o]=e,n=o);else{if(!(void 0!==a&&this.compare(a,e)<0))return;this.heap[n]=a,this.heap[s]=e,n=s}}},e.prototype.compare=function(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id},e}();!function(e){e[e.hight=1]="hight",e[e.normal=2]="normal",e[e.low=3]="low",e[e.idle=4]="idle"}(c||(c={}));var v=function(){function e(){var e=this;this.highPriorityTimeout=0,this.normalPriorityTimeout=2e3,this.lowPriorityTimeout=5e3,this.idlePriorityTimeout=1073741823,this.taskIdCounter=1,this.isSchedulerPaused=!1,this.isHostCallbackSchedule=!1,this.isPerformingWork=!1,this.flushWork=function(t,n){e.isHostCallbackSchedule=!1;try{return e.workLoop(t,n)}finally{e.currentTask=void 0,e.isPerformingWork=!1}},this.workLoop=function(t,n){var i=n;for(e.currentTask=e.taskQueue.peek();e.currentTask&&!e.isSchedulerPaused;){var o=e.currentTask,r=o.expirationTime,s=o.minTime;if(r>i&&(t||e.executor.shouldYieldToHost(s)))break;var a=e.currentTask.callback;if("function"==typeof a){e.currentTask.callback=void 0;var l=a();"function"==typeof l?e.currentTask.callback=l:e.currentTask===e.taskQueue.peek()&&e.taskQueue.pop()}else e.taskQueue.pop();e.currentTask=e.taskQueue.peek()}return!!e.currentTask},this.taskQueue=new p,this.executor=this.createHostExecutor()}return e.prototype.scheduleTask=function(e,t){var n,i=u();switch((null==t?void 0:t.priority)||c.idle){case c.hight:n=this.highPriorityTimeout;break;case c.normal:n=this.normalPriorityTimeout;break;case c.low:n=this.lowPriorityTimeout;break;case c.idle:default:n=this.idlePriorityTimeout}var o=null==t?void 0:t.minTime;void 0===o&&(o=1),this.taskIdCounter+=1;var r={id:this.taskIdCounter,expirationTime:i+n,sortIndex:i+n,minTime:o,callback:e};return this.taskQueue.push(r),this.isHostCallbackSchedule||this.isPerformingWork||(this.isHostCallbackSchedule=!0,this.executor.requestHostCallback(this.flushWork)),r},e.prototype.cancelTask=function(e){e.callback=void 0},e.prototype.clearPendingTasks=function(){this.taskQueue.clear()},e.prototype.pause=function(){this.isSchedulerPaused=!0},e.prototype.continue=function(){this.isSchedulerPaused=!1,this.isHostCallbackSchedule||this.isPerformingWork||(this.isHostCallbackSchedule=!0,this.executor.requestHostCallback(this.flushWork))},e.prototype.createHostExecutor=function(){if("function"==typeof window.requestIdleCallback)return new h;try{if("undefined"!=typeof MessageChannel)return new f}catch(c){null===console||void 0===console||console.info("use polyfill executor")}return new g},e}(),I=new v,y=function(){function e(e,t){var n=this;this.initFun=e,this.idleHandle=I.scheduleTask((function(){n.value=n.initFun()}),t)}return e.prototype.getValue=function(){return void 0===this.value&&(this.cancelIdleInit(),this.value=this.initFun()),this.value},e.prototype.setValue=function(e){this.cancelIdleInit(),this.value=e},e.prototype.cancelIdleInit=function(){this.idleHandle&&(I.cancelTask(this.idleHandle),this.idleHandle=void 0)},e}(),_=n("../node_modules/@tencent/workbench-core/lib/esm/index.js"),b=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),M=function(){function e(e){this.provide=e,this._useClass=(0,_.ll)(e),this.overridable=!1}return(0,b.Z)(e,[{key:"className",get:function(){return(0,_.FM)(this.provide)}},{key:"useClass",get:function(){return this._useClass},set:function(e){this._useClass=e}}]),e}();a([(0,_.NG)(),l("design:type",_.Dy)],M.prototype,"_useClass",void 0),a([(0,_.NG)(),l("design:type",Object)],M.prototype,"provide",void 0),a([(0,_.NG)(),l("design:type",Object)],M.prototype,"instance",void 0),a([(0,_.NG)(),l("design:type",String)],M.prototype,"type",void 0),a([(0,_.NG)(),l("design:type",Boolean)],M.prototype,"singleton",void 0),a([(0,_.NG)(),l("design:type",Boolean)],M.prototype,"supportDeferInvoke",void 0),a([(0,_.NG)(),l("design:type",Boolean)],M.prototype,"overridable",void 0);var C=new _.Bz(M),w=function(e){function t(){return e.call(this,C)||this}return(0,r.Z)(t,e),t}(_.bP),T=n("../node_modules/@tencent/containerized/build/main/index.js"),E="di:ctor_deps",j=function(){function e(){var t=(0,T.Ey)(e.workbenchInstantionId);this.instantion=T.yB.getInstantiation(t)}var t=e.prototype;return t.adoptBy=function(e){this.instantion.mergeTo(e)},t.invokable=function(e){_.SF.getParamTypes(e).forEach((function(t,n){try{(0,T.d3)(E,e,void 0,t,n)}catch(c){console.warn("[IOC] "+c.message)}}))},t.invoke=function(e,t,n){void 0===n&&(n=!1);var i=e[E];t&&(e[E]=t.reduce((function(e,t,n){return e[n.toString()]=[t],e}),{}));var o=this.instantion.createInstance(e);return n&&(e[E]=i),o},t.construct=function(e,t){var n,i=e[E];e[E]={};var r=(n=this.instantion).createInstance.apply(n,[e].concat((0,o.Z)(t)));return e[E]=i,r},t.get=function(e){return this.instantion.invokeFunction((function(t){return t.get(e)}))},t.set=function(e,t){var n,i=e;if(t.instance)this.instantion.addService(i,t.instance);else{var o=new T.Mj(null!==(n=t.useClass)&&void 0!==n?n:t.provide,[],t.supportDeferInvoke,t.overridable);this.instantion.addService(i,o)}return this},t.addHook=function(e,t,n){var i=e;this.instantion.addHook(t,i,n)},e}();j.workbenchInstantionId="workbenchInstantion";var A=function(){function e(e){this.key=e,this.loaded=!1}var t=e.prototype;return t.getModule=function(){return d(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.useFactory();case 2:return t=e.sent,O.has(this.key)||(n=C.get(t),O.set(Object.assign(Object.assign({},n),{provide:this.key,useClass:t}))),this.promise=null,this.loaded=!0,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})))},t.load=function(){return this.promise||(this.promise=this.getModule()),this.promise},t.getInstance=function(){return d(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.has(this.key)){e.next=2;break}return e.abrupt("return",this.instance);case 2:return e.next=4,this.load();case 4:return e.abrupt("return",this.instance);case 5:case"end":return e.stop()}}),e,this)})))},(0,b.Z)(e,[{key:"instance",get:function(){return O.get(this.key)}}]),e}(),x=new(function(e){function t(){var t;return(t=e.call(this,A)||this).triggerMap=new Map,t}return(0,r.Z)(t,e),t.prototype.merge=function(t,n){var i=this;if(e.prototype.merge.call(this,t,n),n.on){var o=this.triggerMap.get(n.on);o&&!o.resolved?o.loaders.push(t):(null===o||void 0===o?void 0:o.resolved)?this.get(t).load():(this.triggerMap.set(n.on,{loaders:[t],resolved:!1}),n.on((function(){return new Promise((function(e){var t=i.triggerMap.get(n.on);t.resolved=!0,Promise.all(t.loaders.map((function(e){var t;return null===(t=i.get(e))||void 0===t?void 0:t.load()}))).then((function(){return e()}))}))})))}},t}(_.Bz)),D=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.setCallback=function(e,t){this.get(e)||this.set(e,[]);var n=this.get(e);null===n||void 0===n||n.push(t)},t}(_.zl),S=new D,N="function"===typeof Proxy&&Proxy.toString().includes("[native code]"),R=function(e){function t(t,n){var i;return(i=e.call(this,"Service "+(0,_.FM)(t)+" > "+n+" not found.")||this).name="INJECTION_ERROR",i}return(0,r.Z)(t,e),t}((0,s.Z)(Error)),O=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e),t.getServices=function(e,t,n){var i=this;return t.map((function(t){var o="function"===typeof t?(0,_.FM)(t):t;if(e.has(o))return e.get(o);if(e.has(t))return e.get(t);if(i.has(t))return i.get(t);if(n)throw new R(n,o.toString())}))},t.withContainer=function(e){var t=this;this.container=new j,this.container.adoptBy(e),C.forEach((function(e,n){var i;t.container.set(n,e),t.registerPostConstructorInContainer(n,t.container),null===(i=t.container)||void 0===i||i.invokable(e.useClass)})),this.aliases.forEach((function(e,n){var i=C.get(e);i?t.container.set(n,i):console.error("cannot find alias's corresponding provider in ProviderRegistry")}))},t.registerPostConstructorInContainer=function(e,t){var n=S.get(e);null===n||void 0===n||n.forEach((function(n){t.addHook(e,T.qt.POST_CONSTRUCTOR,n)}))},t.invoke=function(e,t,n){var r=this;if(void 0===t&&(t=new Map),this.container&&0===t.size){var s=null===n||void 0===n?void 0:n.map((function(e){var t;return null!==(t=r.aliases.get(e))&&void 0!==t?t:e}));return this.container.invoke(e,s)}n||(n=_.SF.getParamTypes(e));var a=this.getServices(t,n,e);return this.container?this.container.construct(e,a):(0,i.Z)(e,(0,o.Z)(a))},t.invokeMethod=function(e,t){var n,i,r,s=new Map;if(t instanceof Array?n=t:(n=t.designParamTypes,i=t.target,r=t.methodName,t.locals&&(s=t.locals)),s instanceof Map===!1&&(s=new Map),e.$injected)return e.call(i,s);n||(n=_.SF.getParamTypes(i,r));var a=this.getServices(s,n);return e.apply(void 0,(0,o.Z)(a))},t.invokeGetter=function(e,t){var n=_.SF.getType(e,t);if(this.has(n))return this.get(n)},t.invokeProxy=function(e,n,i){if(void 0===n&&(n=new Map),!N)return t.invoke(e,n,i);var o=new y((function(){return t.invoke(e,n,i)}),{priority:c.normal});return new Proxy(Object.create(null),{get:function(t,n){if(n in t)return t[n];if("constructor"===n)return e.constructor;if("prototype"===n)return e.prototype;var i=o.getValue(),r=i[n];return"function"!==typeof r||(r=r.bind(i),t[n]=r),r},set:function(e,t,n){return e[t]=n,o.getValue()[t]=n,!0},defineProperty:function(e,t,n){var i=o.getValue();return Object.defineProperty(i,t,n),!0},getPrototypeOf:function(){return e.prototype}})},t.set=function(e,n){var i;void 0===e.provide?e={provide:i=e,useClass:i,instance:n}:i=e.provide;var o=e.useClass;if(e.useClass===A){var s=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t}(A);o=s}return C.merge(o,e),this.container&&this.container.set(o,e),o&&i!==o&&this.alias(i,o),x.has(e.provide)&&(x.get(e.provide).loaded=!0),t},t.get=function(e){var n,i=null!==(n=this.aliases.get(e))&&void 0!==n?n:e,o=C.get(i);if(!o)throw new Error("No matching bindings found for target:"+String(e));if(o.instance)return o.instance;if(this.container){var r=this.container.get(i);o.instance=r}else o.instance=t.invoke(o.useClass),t.runPostConstructors(e,o);return o.instance},t.runPostConstructors=function(e,t){var n=S.get(e);n&&n.forEach((function(n){try{n(t.instance)}catch(c){console.error((i=t.useClass,o=e,r=c.message,"postConstruct error in class "+i.name+", with key "+String(o)+":"+r+" ")),console.error(c)}var i,o,r}))},t.has=function(e){var t,n=null!==(t=this.aliases.get(e))&&void 0!==t?t:e;return C.has(n)},t.alias=function(e,t){this.aliases.set(e,(0,_.ll)(t));var n=C.get((0,_.ll)(t));n?this.container&&this.container.set(e,n):console.error("cannot find alias's corresponding provider in ProviderRegistry")},t.construct=function(e){var t,n=null!==(t=this.aliases.get(e))&&void 0!==t?t:e,i=C.get(n);return this.invoke(i.useClass)},t.override=function(e,t){var n,i=null!==(n=this.aliases.get(e))&&void 0!==n?n:e,o=C.get(i);o?o.overridable?(o.useClass=t,o.instance=void 0):console.warn("Original class cannot be overrided"):console.error("Original class has not been registered")},t.getClass=function(e){var t,n=null!==(t=this.aliases.get(e))&&void 0!==t?t:e;return C.get(n).useClass},t.invokable=function(e){this.container&&this.container.invokable(e)},t.emit=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return d(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=[],C.forEach((function(n){if(n.instance){var r=t.get(n.provide);if(r&&e in r)try{o.push(r[e].apply(r,i))}catch(c){console.error(c)}}})),n.abrupt("return",Promise.all(o));case 3:case"end":return n.stop()}}),n)})))},t.emitOn=function(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];return d(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r,s,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=[],s=C,a=function(e){return!0},n instanceof _.Bz?s=n:a=n,s.forEach((function(n,i){if(a(n)&&n.instance){var s=t.get(i);if(s instanceof n.useClass&&s&&e in s)try{r.push(s[e].apply(s,o))}catch(c){console.error(c)}}})),i.abrupt("return",Promise.all(r));case 6:case"end":return i.stop()}}),i)})))},t.emitAt=function(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];return d(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r=t.get(n))||!(e in r)){i.next=9;break}return i.prev=2,i.abrupt("return",new Promise((function(t){t(r[e].apply(r,o))})));case 6:i.prev=6,i.t0=i.catch(2),console.error(i.t0);case 9:return i.abrupt("return",Promise.resolve(null));case 10:case"end":return i.stop()}}),i,null,[[2,6]])})))},t.buildRegistry=function(e,n){var i=this;return void 0===n&&(n=function(e){return void 0===e.instance}),e.forEach((function(e){n(e)&&(e.supportDeferInvoke?e.instance=t.invokeProxy(e.useClass):e.instance=t.invoke(e.useClass),i.container&&i.container.set(e.provide,e))})),e},t.service=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=n[n.length-1],r=n[n.length-2],s=r;3===n.length&&(s=n[0]),t.set(Object.assign(Object.assign({overridable:!1},o),{singleton:!0,provide:s,useClass:r}))},t.bind=function(e,n){var i=C.get(n);if(!i)throw new Error("target should be injectable");if(i.instance)throw new Error("target has been instantiated");var o=C.get(e);if(o||(t.set({provide:e,useClass:n,overridable:!0}),o=C.get(e)||C.get(n)),o.instance)throw new Error("token's target has been instantiated");if(!o.overridable&&this.container)throw new Error("containerized requires provider be overridable in order to bind");return o.useClass=n,this.container&&this.container.set(e,o),this},t.addPostConstructor=function(e,t){S.setCallback(e,t),this.container&&this.container.addHook(e,T.qt.POST_CONSTRUCTOR,t)};var n=t.prototype;return n.invoke=function(e,n,i){return void 0===n&&(n=new Map),t.invoke(e,n,i)},n.invokeMethod=function(e,n){return t.invokeMethod(e,n)},n.invokeGetter=function(e,n){return t.invokeGetter(e,n)},n.get=function(e){return t.get(e)},n.set=function(e,n){return t.set(n),this},n.has=function(e){return t.has(e)},n.construct=function(e){return t.construct(e)},n.override=function(e,n){t.override(e,n)},n.emit=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.emit.apply(t,[e].concat(i))},n.emitOn=function(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];return t.emitOn.apply(t,[e,n].concat(o))},n.emitAt=function(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];return t.emitAt.apply(t,[e,n].concat(o))},t}(w);function L(e){return function(t,n,i){if("number"!==typeof i){if(void 0===i&&(i=(0,_.yH)(t,n)),void 0===i)return e&&_.SF.setType(t,n,e),{get:function(){return O.invokeGetter(t,n)}};var o=i.value;return i.value=function(e){return void 0===e&&(e=new Map),e instanceof Map===!1&&(e=new Map),O.invokeMethod(o.bind(this),{target:t,methodName:n,locals:e})},i.value.$injected=!0,i}if(e){var r=_.SF.getParamTypes(t,n);r[i]=e,_.SF.setParamTypes(t,n,r)}}}function k(e){return function(t){return O.set(Object.assign(Object.assign({provide:t},e),{useClass:t})),t}}function z(e){var t=Symbol.for("loader:"+e.toString()),n=x.createIfNotExists(e);return O.has(t)||O.factory(t,n),function(e,n,i){if("number"!==typeof i)return void 0===i&&(i=(0,_.yH)(e,n)),void 0===i?(_.SF.setType(e,n,t),{get:function(){return O.invokeGetter(e,n)}}):i;var o=_.SF.getParamTypes(e,n);o[i]=t,_.SF.setParamTypes(e,n,o)}}O.aliases=new Map,O.container=null,O.factory=function(e,t){return O.set({provide:e,useClass:(0,_.ll)(t),instance:t,singleton:!0})},O.factory(O,new O),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js");var P=Symbol("jest:done");function F(e,t){return O.buildRegistry(C,(function(e){return void 0===e.instance})),function(n){var i=!1,r=e.map((function(e){return e===P?(i=!0,n):(O.has(e)||O.construct(e),O.get(e))}));t.apply(void 0,(0,o.Z)(r)),i||n()}}},"../node_modules/@tencent/logger/lib/index.js":function(e,t,n){"use strict";n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.object.set-prototype-of.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.string.pad-start.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.string.pad-end.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.splice.js");var i=new Map;function o(e){return function(t){t.prototype.appenderOptions=e,i.set(e.name,{provide:t})}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function l(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function d(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}var u=new Map,h=function(){function e(){}return e.get=function(e,t){return u.has(e)||(e="basic",console.warn(e+" layout doesn't exists")),new(u.get(e).provide)(null!==t&&void 0!==t?t:{})},e}(),g=function(){function e(){this.config={},this.appenderOptions={name:""},this.configure({})}return e.prototype.configure=function(e){var t;Object.assign(this.config,e),e.layout?this._layout=h.get(e.layout.type,e.layout):this._layout=h.get(null!==(t=this.appenderOptions.defaultLayout)&&void 0!==t?t:"basic")},e.prototype.layout=function(e){return this._layout.transform(e)},e}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.write=function(e){var t=e.level;return t.isGreaterThanOrEqualTo("ERROR")?console.error(this.layout(e)):t.isEqualTo("WARN")?console.warn(this.layout(e)):t.isEqualTo("INFO")?console.info(this.layout(e)):console.log(this.layout(e))},t=l([o({name:"console"})],t)}(g);function m(e){return function(t){u.set(e.name,{provide:t})}}var p=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,(function(e,t,i,o){var r=n.shift();switch(o){case"s":r=""+r;break;case"d":r=Number(r);break;case"j":r=JSON.stringify(r)}return t?(n.unshift(r),e):r}))),n.length&&(e+=" "+n.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))};function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e;return Array.isArray(i)||(i=c([i],t)),p.apply(void 0,c(i))}function I(e,t){void 0===t&&(t="yyyy-MM-ddThh:mm:ss.SSS");var n=(""+e.getDate()).padStart(2,"0"),i=(""+(e.getMonth()+1)).padStart(2,"0"),o=(""+e.getFullYear()).padStart(2,"0"),r=(""+o).substring(2,4),s=t.indexOf("yyyy")>-1?o:r,a=(""+e.getHours()).padStart(2,"0"),l=(""+e.getMinutes()).padStart(2,"0"),d=(""+e.getSeconds()).padStart(2,"0"),c=(""+e.getMilliseconds()).padStart(3,"0"),u=function(e){var t=Math.abs(e),n=String(Math.floor(t/60)),i=String(t%60);return 1===n.length&&(n="0"+n),1===i.length&&(i="0"+i),e<0?"+"+n+i:"-"+n+i}(e.getTimezoneOffset());return t.replace(/dd/g,n).replace(/MM/g,i).replace(/y{1,4}/g,s).replace(/hh/g,a).replace(/mm/g,l).replace(/ss/g,d).replace(/SSS/g,c).replace(/O/g,u)}var y,_=function(){},b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.transform=function(e){return v("[%s] [%s] [%s] - ",I(e.startTime),e.formatedLevel,e.categoryName)+v(e.data)},t=l([m({name:"basic"})],t)}(_),M=function(){function e(e,t){this.level=e,this.levelStr=t,this.level=e,this.levelStr=t}return e.getLevel=function(t,n){return t instanceof e?t:"string"===typeof t?y[t.toUpperCase()]||n:this.getLevel(t.toString())},e.prototype.toString=function(){return this.levelStr},e.prototype.isLessThanOrEqualTo=function(t){return this.level<=e.getLevel(t).level},e.prototype.isGreaterThanOrEqualTo=function(t){return this.level>=e.getLevel(t).level},e.prototype.isEqualTo=function(t){return this.level===e.getLevel(t).level},e}();function C(){return y}y={ALL:new M(Number.MIN_VALUE,"ALL"),TRACE:new M(5e3,"TRACE"),DEBUG:new M(1e4,"DEBUG"),INFO:new M(2e4,"INFO"),WARN:new M(3e4,"WARN"),ERROR:new M(4e4,"ERROR"),FATAL:new M(5e4,"FATAL"),MARK:new M(9007199254740992,"MARK"),OFF:new M(Number.MAX_VALUE,"OFF")};var w=function(){function e(e,t,n,i){this._categoryName=e,this._level=t,this._data=n,this._context=i,this._startTime=new Date}return Object.defineProperty(e.prototype,"startTime",{get:function(){return this._startTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"categoryName",{get:function(){return this._categoryName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formatedLevel",{get:function(){return this.level.toString().padEnd(5," ")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data.length>1?this._data:this._data[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),e}(),T=function(){function e(){this._appenders=new Map,this._lvls=new Map}return Object.defineProperty(e.prototype,"size",{get:function(){return this._appenders.size},enumerable:!1,configurable:!0}),e.prototype.has=function(e){return this._appenders.has(e)},e.prototype.get=function(e){return this._appenders.get(e)},e.prototype.set=function(e,t){if(!i.has(e)){var n=new Error("Appender "+e+" doesn't exists. Check your configuration:\n"+JSON.stringify(t)+"\n");throw n.name="UNKNOW_APPENDER",n}var o=new(0,i.get(e).provide)(t);return this._appenders.set(e,{instance:o,config:t}),this._lvls.clear(),this},e.prototype.delete=function(e){var t=this._appenders.delete(e);return t&&this._lvls.clear(),t},e.prototype.clear=function(){this._appenders.clear(),this._lvls.clear()},e.prototype.forEach=function(e,t){this._appenders.forEach(e,t)},e.prototype.byLogLevel=function(e){var t=e.toString();if(this._lvls.has(t))return this._lvls.get(t);var n=this.toArray().filter((function(t){return!t.config.levels||t.config.levels.find((function(t){return t.toUpperCase()===e.toString()}))})).map((function(e){return e.instance}));return this._lvls.set(e.toString(),n),n},e.prototype.toArray=function(){var e=[];return this._appenders.forEach((function(t){return e.push(t)})),e},e}(),E="ALL",j=function(){function e(e){this.name=e,this._appenders=new T}return e.createStack=function(){var e,t=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace("Error\n","").split("\n");return t[0].indexOf("Logger.")>-1&&t.splice(0,1),t[0].indexOf("Logger.")>-1&&t.splice(0,1),t.join("\n")},Object.defineProperty(e.prototype,"level",{get:function(){return this._level?this._level.toString():M.getLevel(E).toString()},set:function(e){this._level=M.getLevel(e,E)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appenders",{get:function(){return this._appenders},enumerable:!1,configurable:!0}),e.prototype.use=function(e,t){return this._appenders.set(e,a({layout:{type:"basic"},levels:["trace","debug","info","warn","error","fatal"]},t)),this},e.prototype.isLevelEnabled=function(e){return this._level?this._level.isLessThanOrEqualTo(e):M.getLevel(E).isLessThanOrEqualTo(e)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(C().DEBUG,e)},e.prototype.trace=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i="\n"+e.createStack()+"\n";return t.push(i),this.write(C().TRACE,t)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(C().INFO,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(C().WARN,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(C().ERROR,e)},e.prototype.fatal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.write(C().FATAL,e)},e.prototype.write=function(e,t){if(!this.isLevelEnabled(e))return this;var n=new w(this.name,e,t,this._context);return this.appenders.byLogLevel(e).forEach((function(e){e.write(n)})),this},e}();o({name:"console"})(f),m({name:"basic"})(b),t.Yd=j},"../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js":function(e,t,n){"use strict";n.d(t,{m:function(){return h},q:function(){return u}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/esnext.global-this.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/event/index.js"),r=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),s=n("../node_modules/@tencent/xtable-common/es/report/performance/speed-report.js"),a=n("../node_modules/@tencent/xtable-core/es/event/index.js"),l=n("../node_modules/@tencent/xtable-core/es/service/table-description/event.js"),d=n("../node_modules/@tencent/xtable/es/event/index.js"),c=n("../node_modules/@tencent/xtable/es/smart-sheet-editor.js"),u="xtable",h=function(){function e(){this.listenerList=[]}var t=e.prototype;return t.attachEditor=function(e,t,n){var i=c.E.getInstance().getCurrentEditor(),o=!!i.getRoot(),r=(n||{}).container;return r?(e.appendChild(r),o||i.attachEditor(r)):i.attachEditor(e),this.initEvents(t,i),this.checkAndLoadFeatures(i),globalThis.xtableEditor=i,i},t.setValue=function(){},t.requestFocus=function(){},t.requestBlur=function(){},t.isCaret=function(){return!1},t.destroy=function(){this.listenerList.forEach((function(e){return e.dispose()})),this.listenerList=[]},t.initEvents=function(e,t){var n=this;this.listenerList.push(a.o.onActiveViewSwitched.event((function(){e.onDataChange(),n.checkAndLoadFeatures(t)}))),this.listenerList.push(t.getBehaviorApi().addRequestApplyListener((function(){e.onDataChange()}))),this.listenerList.push(t.onUndoRedoStatusChanged((function(){e.onDataChange()}))),this.listenerList.push(a.o.onPermissionChanged.event((function(){n.checkAndLoadFeatures(t),e.onDataChange()}))),this.listenerList.push(l._.visibleEmitter.event(e.onDataChange)),this.listenerList.push(d.e.onActiveEditorSwitched.event((function(n){var i=n.toEditor;t.id!==i.id?e.onBlur():e.onFocus()})))},t.checkAndLoadFeatures=function(t){return(0,i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.k.info("checkAndLoadFeatures","===开始执行队列检查"),0!==e.status){n.next=5;break}return r.k.info("checkAndLoadFeatures","load方法正在执行,跳出执行==="),e.queue.push((function(){r.k.info("checkAndLoadFeatures","队列内执行方法"),a.checkAndLoadFeatures(t)})),n.abrupt("return");case 5:return r.k.info("checkAndLoadFeatures","执行load方法"),e.status=0,n.next=9,this.loadFeatures(t);case 9:e.status=1,r.k.info("checkAndLoadFeatures","load方法执行完成==="),null===(i=e.queue.shift())||void 0===i||i.apply(this),s.r.doSpeedReport(o.T.RENDER_FINISH);case 14:case"end":return n.stop()}}),n,this)})))},e}();h.isLevel2Loaded=!1,h.isLevel3Loaded=!1,h.queue=[],h.status=1},"../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/mobile.js":function(e,t,n){"use strict";n.d(t,{H:function(){return m}});var i,o,r=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),s=(n("../node_modules/regenerator-runtime/runtime.js"),n("./node_modules/tslib/tslib.es6.js")),a=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js"),l=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/@tencent/smartsheet-sdk/es/feature-loader/index.js")),d=((i={})[l.R.Level2Feature]=function(){return Promise.all([n.e("initial_vendors_tencent_dui"),n.e("initial_vendors_public_1"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_field_common_components_carousel_pla-87542f"),n.e("bundle_clipboard_lib"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_search_search_service_jsx"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_table-description_common_alloy-edito-f82f37"),n.e("bundle_watermark-generate"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_record-detail_mobile_index_jsx"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_canvas-tooltip_canvas-tooltip_featur-a0e345"),n.e("smartsheet-readonly-mobile")]).then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/feature-loader/level2-readonly/mobile.js"))},i[l.R.Level3Feature]=function(){return n.e("smartsheet-edit-mobile").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/feature-loader/level3-edit/mobile.js"))},i),c=new l.U(d),u=n("../node_modules/@tencent/ioc/lib/esm/index.js"),h=n("../node_modules/@tencent/workbench/lib/esm/services/feature/feature-service.js"),g=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/adapter.js"),f=n("../node_modules/@tencent/xtable-common/es/report/performance/speed-report.js"),m=o=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.loadFeatures=function(e){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.Am.get(h.U),o.isLevel2Loaded){t.next=5;break}return t.next=4,c.loadLevel2(n);case 4:o.isLevel2Loaded=!0;case 5:if(!o.isLevel3Loaded){t.next=7;break}return t.abrupt("return");case 7:if(i=e.getCurrentTable()){t.next=10;break}return t.abrupt("return");case 10:if(i.getPermissionStatus().canEdit){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,c.loadLevel3(n);case 15:o.isLevel3Loaded=!0,f.r.firstScreenCanEdit();case 17:case"end":return t.stop()}}),t)})))},t}(a.m);m=o=(0,s.__decorate)([(0,g.L)(a.q)],m)},"../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/pc.js":function(e,t,n){"use strict";n.d(t,{E:function(){return m}});var i,o,r=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),s=(n("../node_modules/regenerator-runtime/runtime.js"),n("./node_modules/tslib/tslib.es6.js")),a=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js"),l=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/@tencent/smartsheet-sdk/es/feature-loader/index.js")),d=((i={})[l.R.Level2Feature]=function(){return Promise.all([n.e("bundle_vendors_workbench"),n.e("initial_vendors_tencent_dui"),n.e("initial_vendors_public_1"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_field_common_components_carousel_pla-87542f"),n.e("bundle_clipboard_lib"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_search_search_service_jsx"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_table-description_common_alloy-edito-f82f37"),n.e("bundle_watermark-generate"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_record-detail_pc_index_jsx"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_common_service_notice-modal_interfac-b07f22"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_canvas-tooltip_canvas-tooltip_featur-a0e345"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_table-description_pc_feature_pc_jsx--6273b7"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_feature-loader_level2-readonly_pc_jsx"),n.e("smartsheet-readonly-pc")]).then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/feature-loader/level2-readonly/pc.jsx"))},i[l.R.Level3Feature]=function(){return Promise.all([n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_field_common_components_carousel_pla-87542f"),n.e("bundle_clipboard_lib"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_record-detail_pc_index_jsx"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_common_service_notice-modal_interfac-b07f22"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_filter_filter_service_jsx"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_feature-loader_level3-edit_pc_js"),n.e("smartsheet-edit-pc")]).then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/feature-loader/level3-edit/pc.js"))},i),c=new l.U(d),u=n("../node_modules/@tencent/ioc/lib/esm/index.js"),h=n("../node_modules/@tencent/workbench/lib/esm/services/feature/feature-service.js"),g=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/adapter.js"),f=n("../node_modules/@tencent/xtable-common/es/report/performance/speed-report.js"),m=o=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.loadFeatures=function(e){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.Am.get(h.U),o.isLevel2Loaded){t.next=5;break}return t.next=4,c.loadLevel2(n);case 4:o.isLevel2Loaded=!0;case 5:if(!o.isLevel3Loaded){t.next=7;break}return t.abrupt("return");case 7:if(i=e.getCurrentTable()){t.next=10;break}return t.abrupt("return");case 10:if(i.getPermissionStatus().canEdit){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,c.loadLevel3(n);case 15:o.isLevel3Loaded=!0,f.r.firstScreenCanEdit();case 17:case"end":return t.stop()}}),t)})))},t}(a.m);m=o=(0,s.__decorate)([(0,g.L)(a.q)],m)},"../node_modules/@tencent/smartsheet-sdk/es/feature-loader/index.js":function(e,t,n){"use strict";n.d(t,{R:function(){return i},U:function(){return s}}),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/regenerator-runtime/runtime.js");var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/xtable-common/es/logger/index.js");!function(e){e[e.Level2Feature=0]="Level2Feature",e[e.Level3Feature=1]="Level3Feature"}(i||(i={}));var s=function(){function e(e){this.startupConfigs=e}var t=e.prototype;return t.loadLevel2=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.k.info("loadLevel2"),t.next=3,this.get(i.Level2Feature);case 3:n=t.sent,o=n.SecondaryLoader,r.k.info("get loadLevel2 feature"),o.load(e),r.k.info("loadLevel2 finished");case 8:case"end":return t.stop()}}),t,this)})))},t.loadLevel3=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.k.info("loadLevel3"),t.next=3,this.get(i.Level3Feature);case 3:n=t.sent,o=n.TertiaryLoader,r.k.info("get loadLevel3 feature"),o.load(e),r.k.info("loadLevel3 finished");case 8:case"end":return t.stop()}}),t,this)})))},t.get=function(e){var t=this;return new Promise((function(n,i){var o=t.startupConfigs[e];o?o().then(n,(function(e){r.k.error(e)})):i("Startup Module not found")}))},e}()},"../node_modules/@tencent/smartsheet-sdk/es/index.js":function(e,t,n){"use strict";n.d(t,{XE:function(){return g.X},q6:function(){return i.q}});var i=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),o=(n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/pc.js"),n("../node_modules/@tencent/smartsheet-sdk/es/pc.js")),r=(n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/entry/base.js"),n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js")),s=n("./node_modules/tslib/tslib.es6.js"),a=n("../node_modules/@tencent/workbench/lib/esm/controllers/workbench/workbench-loader.js"),l=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/workbench-settings.js"),d=n("../node_modules/@tencent/workbench/lib/esm/services/workbench/workbench-service.js"),c=function(e){function t(t){var n;return(n=e.call(this)||this).workbench=t,n}(0,r.Z)(t,e);var n=t.prototype;return n.$onInit=function(){},n.$afterControllersInit=function(){},n.$onReady=function(){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))},n.$onWorkbenchInitError=function(e){},t}(a.g);c=(0,s.__decorate)([(0,l.I)(o.pcWorkbenchOptions),(0,s.__metadata)("design:paramtypes",[d.M])],c),n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/mobile.js");var u=n("../node_modules/@tencent/smartsheet-sdk/es/mobile.js"),h=function(e){function t(t){var n;return(n=e.call(this)||this).workbench=t,n}(0,r.Z)(t,e);var n=t.prototype;return n.$onInit=function(){},n.$afterControllersInit=function(){},n.$onReady=function(){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))},n.$onWorkbenchInitError=function(e){},t}(a.g);h=(0,s.__decorate)([(0,l.I)(u.mobileWorkbenchOptions),(0,s.__metadata)("design:paramtypes",[d.M])],h),n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/entry/pc.js"),n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/entry/mobile.js");var g=n("../node_modules/@tencent/xtable-core/es/service/last-view/utils/index.js")},"../node_modules/@tencent/smartsheet-sdk/es/mobile.js":function(e,t,n){"use strict";var i,o;n.r(t),n.d(t,{mobileWorkbenchOptions:function(){return ai}}),function(e){e.INSERT_RECORD="smart-sheet|insert-record",e.VIEW_SWITCH="smart-sheet|view-switch"}(o||(o={}));var r=((i={})["mobile-action-button-bar"]=[o.VIEW_SWITCH,o.INSERT_RECORD],i),s=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),a=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/@tencent/smartsheet-sdk/es/workbench/config/controllers/base.js")),l=n("./node_modules/tslib/tslib.es6.js"),d=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js"),c=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/mobile/expand-mobile.service.js"),u=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.interface.js"),h=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),g="VAKQp148UCUdG7C2kBfH",f="I2w00LcNuaWxlHyBXShv",m=[{name:o.VIEW_SWITCH,text:h.Z.t("view_switch"),iconClass:f},{name:o.INSERT_RECORD,text:h.Z.t("add_1_row"),iconClass:g}],p=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/mobile/index.interface.js"),v=(n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),Symbol.for("feature: IMobileViewSwitchService")),I=n("../node_modules/@tencent/workbench/lib/esm/decorators/method/mobile-action-button.js"),y=n("../node_modules/@tencent/workbench/lib/esm/decorators/param/editor.js"),_=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/controller.js"),b=n("../node_modules/@tencent/ioc/lib/esm/index.js"),M=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),C=n("../node_modules/@tencent/xtable-render/es/views/shared/utils/fix-edge-delta.js"),w=function(){function e(e,t,n){this.mobileViewSwitchService=e,this.mobileRecordDetailService=t,this.behaviorApplyService=n}var t=e.prototype;return t.viewSwitchOnClick=function(){this.mobileViewSwitchService.open()},t.insertRecordOnClick=function(e){var t,n=e.getCurrentView(),i=(0,s.Z)(n.getAllRecordIds()),o=0;n.type!==M.bW.GRID&&n.type!==M.bW.GANTT||(o=i.length);var r=this.behaviorApplyService.instance.addRecord({tableId:e.getCurrentTable().id,viewId:e.getCurrentView().id},o,[]);if(r.isSuccess&&(null===(t=r.data)||void 0===t?void 0:t.recordId)){var a=e.getRenderer().getView();n.type===M.bW.KANBAN?a.nextTick((function(){var e=a.getCollector().size.groupSizes[0];a.scrollToY((e.scrollHeight-e.viewHeight)*C.H,0)})):n.type===M.bW.GALLERY&&a.nextTick((function(){a.scrollToY(0)})),this.mobileRecordDetailService.instance.showDrawer(r.data.recordId),c.$.addRecord(n.type)}},t.shouldInsertRecordHide=function(e){var t=e.getCurrentTable();return!t||!t.getPermissionStatus().canEdit},t.getInsertRecordContent=function(e){var t,n=null===(t=e.getCurrentView())||void 0===t?void 0:t.type;return n===M.bW.KANBAN||n===M.bW.GALLERY?h.Z.t("add_1_record"):h.Z.t("add_1_row")},e}();(0,l.__decorate)([(0,I.O)(o.VIEW_SWITCH,"onClick"),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[]),(0,l.__metadata)("design:returntype",void 0)],w.prototype,"viewSwitchOnClick",null),(0,l.__decorate)([(0,I.O)(o.INSERT_RECORD,"onClick"),(0,l.__param)(0,(0,y.M)()),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],w.prototype,"insertRecordOnClick",null),(0,l.__decorate)([(0,I.O)(o.INSERT_RECORD,"shouldHide"),(0,l.__param)(0,(0,y.M)()),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],w.prototype,"shouldInsertRecordHide",null),(0,l.__decorate)([(0,I.O)(o.INSERT_RECORD,"text"),(0,l.__param)(0,(0,y.M)()),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],w.prototype,"getInsertRecordContent",null),w=(0,l.__decorate)([(0,_.Q)({adapters:[d.q],mobileActionButtons:m}),(0,l.__param)(0,(0,b.tB)(v)),(0,l.__param)(1,(0,b.aN)(p.F)),(0,l.__param)(2,(0,b.aN)(u.y)),(0,l.__metadata)("design:paramtypes",[Object,Object,Object])],w);var T=[].concat((0,s.Z)(a.V),[w]),E=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/config/features/base.js"),j=(n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/@tencent/dui-mobile/lib/components/ActionSheet/index.js")),A=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/xtable-feature/index.js"),x=Symbol.for("IKanbanMobileGroupMenuFeature"),D=function(){function e(){var e=this;this.listenerList=[],this.$onViewClose=function(){e.listenerList.forEach((function(e){return e.dispose()})),e.listenerList=[]},this.showEditor=function(t){j.default.show({onClickAction:function(){return e.collapseGroup(t)},options:[{id:"collapse_group",title:h.Z.t("collapse_group")}]})},this.collapseGroup=function(t){e.editor.getRenderer().emitter.service.collapseKanbanGroup.fire({groupIndex:t})}}return e.prototype.$onViewOpen=function(e){var t=this;this.editor=e,this.listenerList.push(this.editor.getRenderer().emitter.service.kanbanMobileGroupMenuEditor.event((function(e){if(t.editor){var n=e.groupIndex;t.showEditor(n)}})))},e}();D=(0,l.__decorate)([(0,A.w)({adapters:[d.q],provide:x,views:[M.bW.KANBAN]})],D),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.function.name.js");var S=n("react"),N=n.n(S),R=n("react-dom"),O=n.n(R),L=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),k=new(function(){function e(){var e=this;this.moduleName="view_mobile",this.checkView=function(t){e.report("check",{ver5:null!==t&&void 0!==t?t:0})},this.report=function(t,n){void 0===n&&(n={}),L.E.metricsTdw(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}))}}return e.prototype.clickView=function(){this.report("cli")},e}()),z=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/request-listener-manager.js"),P=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/mobile/bottom-drawer.jsx"),F=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/mobile/index.module.css"),U=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/view-switch.interface.js"),B=function(){function e(e){var t=this;this.viewSwitchService=e,this.listenerEvent=null,this.requestListenerManager=new z.k,this.open=function(){var e,n,i,o;k.clickView(),t.bottomDrawerProps.visible=!0,t.updatePopup(),null===(e=t.listenerEvent)||void 0===e||e.dispose(),t.listenerEvent=null!==(o=null===(i=null===(n=t.editor)||void 0===n?void 0:n.getBehaviorApi())||void 0===i?void 0:i.addRequestApplyListener(t.onRequestApplyListener))&&void 0!==o?o:null},this.handleClose=function(){t.bottomDrawerProps.visible=!1,t.updateBottomDrawer()},this.handleSwitchView=function(e){var n,i=t.getViewInfoList(),o=null===(n=null===i||void 0===i?void 0:i.find((function(t){return t.id===e})))||void 0===n?void 0:n.type;if(k.checkView(o),e){var r=t.viewSwitchService.getCurrentTableId();r&&t.viewSwitchService.switchView({tableId:r,viewId:e}),t.handleClose()}},this.onRequestApplyListener=function(e){var n=e.mutations;t.requestListenerManager.handleMutationList(n).forEach((function(e){return t.requestListenerManager.handleMutation(e)}))},this.mutationHandler=function(){t.updatePopup()},this.initPopup(),this.initBottomDrawerProps(),this.registerRequestApplyListener()}var t=e.prototype;return t.$onViewOpen=function(e){this.editor=e,this.updatePopup()},t.initPopup=function(){this.rootEl=document.createElement("div"),this.rootEl.className=F.Z.viewSwitchPopupMount,document.body.appendChild(this.rootEl)},t.updatePopup=function(){this.updateCurrentView(),this.updatePopupItems(),this.updateBottomDrawer()},t.updateBottomDrawer=function(){O().hydrate(N().createElement(P.l,Object.assign({},this.bottomDrawerProps)),this.rootEl)},t.initBottomDrawerProps=function(){this.bottomDrawerProps={visible:!1,selectedIds:[],items:[],title:"",onClose:this.handleClose,onClick:this.handleSwitchView}},t.updateCurrentView=function(){var e=this.viewSwitchService.getCurrentViewName();e&&(this.bottomDrawerProps.title=e);var t=this.viewSwitchService.getCurrentViewId();this.bottomDrawerProps.selectedIds=t?[t]:[]},t.updatePopupItems=function(){var e=this.getViewInfoList();e&&(this.bottomDrawerProps.items=e.map((function(e){return{id:e.id,icon:e.icon,name:e.name}})))},t.registerRequestApplyListener=function(){this.requestListenerManager.registerList([3007,3008,3006,3009],this.mutationHandler)},t.getViewInfoList=function(){var e=this.viewSwitchService.getCurrentTableId();if(e)return this.viewSwitchService.getViewInfoListByTableId(e)},e}();(0,l.__decorate)([(0,l.__param)(0,(0,y.M)()),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],B.prototype,"$onViewOpen",null),B=(0,l.__decorate)([(0,A.w)({adapters:[d.q],provide:v,views:[M.bW.GRID,M.bW.KANBAN,M.bW.GALLERY,M.bW.GANTT]}),(0,l.__param)(0,(0,b.tB)(U.m)),(0,l.__metadata)("design:paramtypes",[Object])],B);var W,G,Z,H,Y,V,Q,K,X,J,q,$,ee,te=[].concat((0,s.Z)(E.$),[B,D]),ne=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/config/services/base.js"),ie=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js")),oe=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/base-field-feature.service.jsx"),re=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/styled.js"),se=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/utils/index.js"),ae=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/attachment/attachment-dropdown.jsx"),le=function(e){var t=e.attachments,n=e.attachDropdownContent;return t.length?N().createElement("div",{className:"attachment-list-container"},n):N().createElement("div",{className:"empty"},h.Z.t("add_to_pc"))},de=n("../node_modules/@tencent/xtable-common/es/domain-config/index.js"),ce=n("../node_modules/@tencent/xtable-core/es/model/field/attachment/utils/index.js"),ue=n("../node_modules/@tencent/xtable-render/es/base/icon/alias.js"),he=function(e){var t=e.value,n=(0,S.useCallback)((function(e){return N().createElement("img",{className:"attachment-icon",src:e})}),[]),i=(0,S.useCallback)((function(e){var t=e.name,i=e.size,o=e.fileUrl,r=e.docType,s=(0,ce.xx)(i),a="";if(de.K.getIsToc()){var l=(0,ce.kR)(e);a=(0,ue.VE)(l)}else if(o&&r){var d=(0,ce.ad)(o,t,r);a=(0,ue.VE)(d)}return N().createElement(ae.o,{onDropdownAttachmentClick:se.x,name:e.name,size:s,imageElement:n(a)})}),[n]),o=(0,S.useCallback)((function(){var e=null!==t&&void 0!==t?t:[],n=e.map((function(e){return i(e)}));return N().createElement(le,{attachments:e,attachDropdownContent:n})}),[i,t]);return N().createElement(re.QN,null,o())},ge=function(e){var t=e.value;return N().createElement(he,{value:t})},fe=function(e){var t=e.value;return N().createElement(he,{value:t})},me=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return fe},n.getMobileCellEditor=function(){return ge},t}(oe.M),pe=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/checkbox/base-field-feature.service.jsx"),ve=n("../node_modules/@tencent/dui-mobile/lib/components/Checkbox/index.js"),Ie=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field-feature.pc.interface.js"),ye=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/number/mobile/cell-reader/index.jsx"),_e=function(e){var t=e.value,n=e.onChange,i=(0,S.useMemo)((function(){return null!==t&&void 0!==t&&t}),[t]),o=(0,S.useCallback)((function(e){null===n||void 0===n||n(e,Ie.S.CONFIRM)}),[n]);return N().createElement(ve.default,{style:{minHeight:ye.v},className:"list-item-checkbox",checked:i,onChange:o,iconStyle:{backgroundColor:i?"#06a357":void 0,border:i?"transparent":void 0}})},be=function(e){var t=e.standardCell,n=(0,S.useMemo)((function(){var e;return null!==(e=t.data[0].checked)&&void 0!==e&&e}),[t.data]);return N().createElement(ve.default,{disabled:!0,style:{minHeight:ye.v+"px"},className:"mobile-read-checkbox",checked:n,iconStyle:{backgroundColor:n?"#06a357":void 0}})},Me=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return be},n.getMobileCellEditor=function(){return _e},t}(pe.i),Ce=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/created-time/base-field-feature.service.jsx"),we=n("../node_modules/dayjs/dayjs.min.js"),Te=n.n(we),Ee=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),je=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),Ae=je.ZP.div(W||(W=(0,Ee.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  cursor: not-allowed;\n  font-size: 10pt;\n  min-height: ","px;\n"])),ye.v),xe=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.js"),De=function(e){var t=e.standardCell,n=e.property.format,i=(0,S.useMemo)((function(){return t&&0!==t.data.length?t.data[0].timestamp:null}),[t]),o=(0,S.useMemo)((function(){return null===i?"":xe.od.convertString(Te()(i).valueOf(),n)}),[i,n]);return N().createElement(Ae,null,N().createElement("span",null,o))},Se=function(e){var t=e.standardCell,n=e.property.format,i=(0,S.useMemo)((function(){return t&&0!==t.data.length?t.data[0].timestamp:null}),[t]),o=(0,S.useMemo)((function(){return null===i?"":xe.od.convertString(Te()(i).valueOf(),n)}),[i,n]);return N().createElement(Ae,null,N().createElement("span",null,o))},Ne=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return Se},n.getMobileCellEditor=function(){return De},t}(Ce.h),Re=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/created-user/base-field-feature.service.jsx"),Oe=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/user/pc/cell-reader/styled.js"),Le="kp9KkGq5g7GVdDbaQK1n",ke="Z1_mUDrXV7qJHoO65Sf_",ze=function(e){var t=e.standardCell,n=(0,S.useMemo)((function(){return t&&0!==t.data.length?{id:t.data[0].id,name:t.data[0].name,avatarUrl:t.data[0].avatarUrl}:null}),[t]),i=(0,S.useCallback)((function(){return n?N().createElement(Oe.B,null,N().createElement("img",{className:Le,src:n.avatarUrl}),N().createElement("span",{className:"nick-name"},n.name)):null}),[n]);return N().createElement("div",{className:ke},i())},Pe=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return ze},n.getMobileCellEditor=function(){return ze},t}(Re.$),Fe=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/date-time/base-field-feature.service.jsx"),Ue=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/@tencent/dui-mobile/lib/components/DateTimePicker/index.js")),Be=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/utils/event.js"),We=function(e){var t=e.fieldId,n=e.closePanel;(0,S.useEffect)((function(){var e=Be.v.HIDE_FIELD.event((function(e){e.includes(t)&&n()}));return function(){return e.dispose()}}),[n,t])},Ge=(n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/@tencent/dui-mobile/lib/components/Input/index.js")),Ze=n("../node_modules/@tencent/dui-mobile/lib/components/PullPanel/index.js"),He=n("../node_modules/@tencent/xtable-common/es/palette/option.js"),Ye=je.ZP.div(G||(G=(0,Ee.Z)(["\n  width: ","px;\n  height: ","px;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n"])),24,24),Ve=(0,je.ZP)(Ye)(Z||(Z=(0,Ee.Z)(["\n  opacity: 0.64;\n  flex-shrink: 0;\n  background-image: url(",");\n  margin-left: 16px;\n  margin-right: 12px;\n"])),(function(e){return e.isSelectedOption?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSIwIDAgNDAgNDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zZWNvbmRhcnlfdGljazwvdGl0bGU+CiAgICA8ZyBpZD0iSWNvbi1zeW1ib2xzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbi9zZWNvbmRhcnkvdGljayIgZmlsbD0iIzFFNkZGRiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMS41LDguMjA3MTA2NzggTDExLjUsMTkuMjA2MTA2OCBMMzMuNSwxOS4yMDcxMDY4IEwzMy41LDIyLjIwNzEwNjggTDExLjUsMjIuMjA2MTA2OCBMMTEuNSwyMi4yMDcxMDY4IEw4LjUsMjIuMjA3MTA2OCBMOC41LDguMjA3MTA2NzggTDExLjUsOC4yMDcxMDY3OCBaIiBpZD0i5b2i54q257uT5ZCIIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDE1LjIwNzEwNykgcm90YXRlKC00NS4wMDAwMDApIHRyYW5zbGF0ZSgtMjEuMDAwMDAwLCAtMTUuMjA3MTA3KSAiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==":null})),Qe=(0,je.ZP)(Ye)(H||(H=(0,Ee.Z)(["\n  opacity: 0.64;\n  flex-shrink: 0;\n  margin: 0 10px;\n  background-image: url(",");\n  width: 32px;\n  height: 32px;\n"])),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzJweCIgaGVpZ2h0PSI3MnB4IiB2aWV3Qm94PSIwIDAgNzIgNzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zZWNvbmRhcnlfYWRkZnJpZW5kczwvdGl0bGU+CiAgICA8ZyBpZD0i6KeE5YiZIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i6IW+6K6v5paH5qGj5Zu+5qCH5bqTIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI1MS4wMDAwMDAsIC00MDQ0LjAwMDAwMCkiIGZpbGw9IiMxRTZGRkYiPgogICAgICAgICAgICA8ZyBpZD0iaWNvbi9zZWNvbmRhcnkvYWRkZnJpZW5kcyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI1MS4wMDAwMDAsIDQwNDQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIxOCIgeT0iMzQiIHdpZHRoPSIzNiIgaGVpZ2h0PSI0Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2i5aSH5Lu9LTIiIHg9IjM0IiB5PSIxOCIgd2lkdGg9IjQiIGhlaWdodD0iMzYiPjwvcmVjdD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"),Ke=(0,je.ZP)(Ye)(Y||(Y=(0,Ee.Z)(["\n  background-image: url(",");\n  width: 16px;\n  height: 16px;\n  margin: ","px;\n"])),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgMzIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl90aGlyZGFyeV9hcnJvd19maWxsX2Rvd25fZ3JleTwvdGl0bGU+CiAgICA8ZyBpZD0i6KeE5YiZIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i6IW+6K6v5paH5qGj5Zu+5qCH5bqTIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMwNS4wMDAwMDAsIC0yNzE3LjAwMDAwMCkiIGZpbGw9IiM4MTg2OEYiPgogICAgICAgICAgICA8ZyBpZD0iaWNvbi90aGlyZGFyeS9hcnJvdy9maWxsL2Rvd24iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMDUuMDAwMDAwLCAyNzE3LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjU0MDc1NzYsOS45OTA0ODcwMiBMMjEuNjkxNTAwMSwxNy4xNTg4MjE1IEMyMi4xNTYwNzAyLDE3LjQ1NzQ3MzcgMjIuMjkwNTczMiwxOC4wNzYxODc1IDIxLjk5MTkyMSwxOC41NDA3NTc2IEMyMS45MTQ0NTUsMTguNjYxMjYwMiAyMS44MTIwMDI4LDE4Ljc2MzcxMjUgMjEuNjkxNTAwMSwxOC44NDExNzg1IEwxMC41NDA3NTc2LDI2LjAwOTUxMyBDMTAuMDc2MTg3NSwyNi4zMDgxNjUxIDkuNDU3NDczNywyNi4xNzM2NjIxIDkuMTU4ODIxNTIsMjUuNzA5MDkyMSBDOS4wNTUxMzAzOCwyNS41NDc3OTQ4IDksMjUuMzYwMDg2MSA5LDI1LjE2ODMzNDUgTDksMTAuODMxNjY1NSBDOSwxMC4yNzkzODA3IDkuNDQ3NzE1MjUsOS44MzE2NjU1IDEwLDkuODMxNjY1NSBDMTAuMTkxNzUxNiw5LjgzMTY2NTUgMTAuMzc5NDYwMyw5Ljg4Njc5NTg4IDEwLjU0MDc1NzYsOS45OTA0ODcwMiBaIiBpZD0i55+p5b2iIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDE4LjAwMDAwMCkgcm90YXRlKC0yNzAuMDAwMDAwKSB0cmFuc2xhdGUoLTE2LjAwMDAwMCwgLTE4LjAwMDAwMCkgIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",(function(e){var t;return null!==(t=e.margin)&&void 0!==t?t:0})),Xe=je.ZP.div(V||(V=(0,Ee.Z)(["\n  display: inline-flex;\n  align-items: center;\n  word-break: break-all;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 0 ","px;\n  max-width: 100%;\n  height: ","px;\n  border-radius: 2px;\n  font-weight: 400;\n  line-height: 14px;\n\n  .option-title {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 100%;\n    line-height: ","px;\n    // 减去左右padding 保证最小为正方形\n    min-width: ","px;\n    text-align: center;\n  }\n\n  .closed-icon {\n    background-image: url(",");\n  }\n"])),(function(e){return(0,He.F)(e.optionStyle).background}),(function(e){return(0,He.F)(e.optionStyle).textColor}),(function(e){return(0,He.F)(e.optionStyle).borderColor}),6,22,22,10,"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgNjQgNjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi9jbG9zZTwvdGl0bGU+CiAgICA8ZyBpZD0iaWNvbi9jbG9zZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGNpcmNsZSBpZD0i5qSt5ZyG5b2iIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMyIgZmlsbC1ydWxlPSJub256ZXJvIiBjeD0iMzIiIGN5PSIzMiIgcj0iMzAuNSI+PC9jaXJjbGU+CiAgICAgICAgPHBhdGggZD0iTTQxLjYyNzQxNywxOSBMNDQuNDU1ODQ0MSwyMS44Mjg0MjcxIEwzNC41NTYsMzEuNzI4IEw0NC40NTU4NDQxLDQxLjYyNzQxNyBMNDEuNjI3NDE3LDQ0LjQ1NTg0NDEgTDMxLjcyOCwzNC41NTYgTDIxLjgyODQyNzEsNDQuNDU1ODQ0MSBMMTksNDEuNjI3NDE3IEwyOC45LDMxLjcyOCBMMTksMjEuODI4NDI3MSBMMjEuODI4NDI3MSwxOSBMMzEuNzI4LDI4LjkgTDQxLjYyNzQxNywxOSBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg=="),Je=je.ZP.div(Q||(Q=(0,Ee.Z)(["\n  display: flex;\n  align-items: center;\n  height: 56px;\n  margin-top: 6px;\n\n  .icon-wrap {\n    width: 50px;\n  }\n\n  .option-wrap {\n    flex: 1;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.08);\n    display: flex;\n    align-items: center;\n    height: 100%;\n    overflow: hidden;\n\n    .create-option {\n      width: 100%;\n    }\n  }\n"]))),qe=je.ZP.div(K||(K=(0,Ee.Z)(["\n  .selected-option-wrap {\n    display: flex;\n    justify-content: space-between;\n    // 单行时select 自己控制高度\n    // 单行高度36 = min-height(30) + margin(2) * 2 + border(1) * 2\n    min-height: 30px;\n    margin: 2px 4px 2px 0px;\n    .selected-options {\n      flex: 1;\n      overflow: hidden;\n      .selected-options-item {\n        margin: 4px 3px 4px 8px;\n        display: inline-block;\n        max-width: 100%;\n        // 解决 margin 重合\n        overflow: hidden;\n        vertical-align: bottom;\n      }\n    }\n  }\n"]))),$e=je.ZP.div(X||(X=(0,Ee.Z)(["\n  display: flex;\n  align-items: center;\n"]))),et={maxWidth:"90%"},tt=n("../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js"),nt=function(e){setTimeout((function(){return e()}),300)},it=function(e){var t=e.value,n=e.onChange,i=e.property,o=e.onPropertyChange,r=e.cellPosition,a=i.isMultiple,l=i.isQuickAdd,d=(0,S.useRef)(null),c=(0,S.useRef)(null),u=r.fieldId,h=(0,S.useState)(!1),g=h[0],f=h[1],m=(0,S.useState)(!1),p=m[0],v=m[1],I=(0,S.useCallback)((function(){return v(!1)}),[]);We({fieldId:u,closePanel:I});var y=(0,S.useState)([]),_=y[0],b=y[1],M=(0,S.useState)(_),C=M[0],w=M[1],T=(0,S.useCallback)((function(e){null===o||void 0===o||o({options:e,isMultiple:a,isQuickAdd:l})}),[a,l,o]),E=(0,S.useState)(""),j=E[0],A=E[1],x=(0,S.useMemo)((function(){return t?(0,s.Z)(t):[]}),[t]),D=(0,S.useState)(x),R=D[0],O=D[1],L=(0,tt.Wv)(_),k=L.usedIds,z=L.usedStyles,P=(0,S.useCallback)((function(){return tt.dX.createOption("",k,z)}),[k,z]),F=(0,S.useState)(P()),U=F[0],B=F[1];(0,S.useEffect)((function(){O(x)}),[x]),(0,S.useEffect)((function(){b(i.options)}),[i.options]),(0,S.useEffect)((function(){w(_)}),[_]);var W=(0,S.useCallback)((function(){v(!1),nt((function(){null===n||void 0===n||n(R,Ie.S.CONFIRM),f(!1)}))}),[n,R]),G=(0,S.useCallback)((function(e){O((function(t){return t.filter((function(t){return t!==e.id}))}))}),[]),Z=(0,S.useCallback)((function(e,t){return e?N().createElement(Xe,{style:t,ref:d,className:"option-title-wrap",optionStyle:e.style},N().createElement("div",{className:"option-title"},e.text)):null}),[]),H=(0,S.useMemo)((function(){return _.find((function(e){return e.text===j}))}),[_,j]),Y=(0,S.useMemo)((function(){return!!l&&""!==j&&!H}),[j,H,l]),V=(0,S.useCallback)((function(){var e=tt.dX.createOption(j,k,z.filter((function(e){return e!==U.style})));w((function(t){return[].concat((0,s.Z)(t),[e])})),b((function(t){return[].concat((0,s.Z)(t),[e])})),O((function(t){return[].concat((0,s.Z)(t),[e.id])}));var t=a?[].concat((0,s.Z)(R),[e.id]):[e.id];B((function(e){var t=e;return t.text="",t.style=z[Math.floor(Math.random()*z.length)],t})),null===n||void 0===n||n(t,Ie.S.CONFIRM),T([].concat((0,s.Z)(_),[e])),A(""),a||v(!1)}),[U.style,T,a,n,_,j,R,k,z]),Q=(0,S.useCallback)((function(){return Y?N().createElement(Je,{onClick:V},N().createElement("div",{className:"icon-wrap"},N().createElement(Qe,null)),N().createElement("div",{className:"option-wrap"},N().createElement($e,{className:"create-option"},Z(U,et)))):null}),[Y,V,Z,U]),K=(0,S.useCallback)((function(e){var t=[];return _.forEach((function(n){n.text.includes(e)?t.unshift(n):t.push(n)})),t}),[_]),X=(0,S.useCallback)((function(e){A(e);var t=K(e);w(t),B((function(t){var n=t;return n.text=e,n}))}),[K]),J=(0,S.useCallback)((function(){var e=R.map((function(e){return i.options.filter((function(t){return t.id===e}))[0]}));return N().createElement("div",{className:"selected-options"},e.map((function(e){return N().createElement("div",{className:"selected-options-item"},Z(e))})))}),[i.options,Z,R]),q=(0,S.useCallback)((function(){return l?N().createElement(Ge.default.Search,{inputRef:c,style:{margin:"10px 16px"},onChange:X,value:j}):null}),[X,l,j]),$=(0,S.useCallback)((function(e){return R.includes(e.id)}),[R]),ee=(0,S.useCallback)((function(e){$(e)?G(e):O((function(t){return[].concat((0,s.Z)(t),[e.id])}))}),[G,$]),te=(0,S.useCallback)((function(e){R[0]===e.id?(O([]),nt((function(){null===n||void 0===n||n([],Ie.S.CONFIRM)}))):(O([e.id]),nt((function(){null===n||void 0===n||n([e.id],Ie.S.CONFIRM)}))),v(!1)}),[n,R]),ne=(0,S.useCallback)((function(e){a?ee(e):te(e)}),[ee,te,a]),ie=(0,S.useCallback)((function(){A(""),v(!1)}),[]),oe=(0,S.useCallback)((function(){return N().createElement(N().Fragment,null,q(),Q(),C.map((function(e){var t=$(e);return N().createElement(Je,{onClick:function(){return ne(e)}},N().createElement("div",{className:"icon-wrap"},N().createElement(Ve,{isSelectedOption:t})),N().createElement("div",{className:"option-wrap"},Z(e,et)))})))}),[C,ne,$,Q,Z,q]),re=(0,S.useCallback)((function(){v(!0),f(!0)}),[]),se=(0,S.useCallback)((function(){p||f(!1)}),[p]),ae=(0,S.useCallback)((function(){return g?N().createElement("div",{onAnimationEnd:se},N().createElement(Ze.default,{visible:p,onOk:W,onCancel:ie,onClose:ie,title:"",containerStyle:{zIndex:19999}},oe())):null}),[se,ie,W,oe,p,g]);return N().createElement(N().Fragment,null,N().createElement(qe,{className:"select-wrap",onClick:re,selectedOptions:R},N().createElement("div",{className:"selected-option-wrap"},J(),N().createElement(Ke,{className:"select-dropdown-icon",style:{margin:"8px 4px"}}))),ae())},ot=function(e){var t=e.value,n=e.onChange,i=e.property,o=e.cellPosition.fieldId,r=i.format,s=(0,S.useState)(!1),a=s[0],l=s[1],d=(0,S.useState)(!1),c=d[0],u=d[1],h=(0,S.useCallback)((function(){return u(!1)}),[]);We({fieldId:o,closePanel:h});var g=(0,S.useMemo)((function(){if(t){var e=Te()(t);return xe.GI.includes(r)&&(e=e.startOf("day")),e}}),[r,t]),f=(0,S.useState)((function(){return g})),m=f[0],p=f[1],v=(0,S.useMemo)((function(){return g?xe.od.convertString(g.valueOf(),r):""}),[g,r]),I=(0,S.useCallback)((function(e){u(!1),nt((function(){null===n||void 0===n||n(e.valueOf(),Ie.S.CONFIRM),l(!1)}))}),[n]),y=(0,S.useCallback)((function(){u(!1),nt((function(){return l(!1)}))}),[]),_=(0,S.useCallback)((function(){c||l(!1)}),[c]),b=(0,S.useCallback)((function(){return a?N().createElement("div",{onAnimationEnd:_},N().createElement(Ue.default,{visible:c,onOk:I,onCancel:y,zIndex:19999,value:m,onChange:p})):null}),[_,y,I,c,a,m]),M=(0,S.useCallback)((function(){u(!0),l(!0)}),[]);return N().createElement(N().Fragment,null,N().createElement("div",{className:"dateTimePicker",onClick:M,style:{height:ye.v,lineHeight:ye.v+"px"}},N().createElement("span",{style:{fontSize:"10pt"}},v)),b())},rt=function(e){var t=e.standardCell,n=e.property.format,i=(0,S.useMemo)((function(){return t&&0!==t.data.length?t.data[0].timestamp:null}),[t]),o=(0,S.useMemo)((function(){return null===i?"":xe.od.convertString(Te()(i).valueOf(),n)}),[i,n]);return N().createElement(Ae,null,N().createElement("span",null,o))},st=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return rt},n.getMobileCellEditor=function(){return ot},t}(Fe.$),at=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/email/base-field-feature.service.jsx"),lt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/hooks/set-inputting.js"),dt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/hooks/stop-propagation.js"),ct=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/email/pc/cell-editor/email-input.jsx"),ut=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/mobile/components/forms/index.jsx"),ht=n("../node_modules/@tencent/xtable-core/es/model/field/email/email-field.js"),gt="BzBHHDedCGFdyiEjxpRU",ft="OebYU1tUTz_gPMhIT27r",mt=["touchstart","touchmove","touchend"],pt=function(e){var t,n=e.onChange,i=e.value,o=(0,lt.E)(i),r=o.setInputting,s=o.inputValue,a=o.isInputting,l=(0,S.useContext)(ut.E).scrollIntoView,d=(0,S.useState)(null!==(t=s)&&void 0!==t?t:""),c=d[0],u=d[1],g=(0,S.useState)(!1),f=g[0],m=g[1],p=(0,S.useRef)(null);(0,S.useEffect)((function(){var e;u(null!==(e=s)&&void 0!==e?e:"")}),[s]);var v=(0,S.useCallback)((function(e){var t=e.target.value,n=e.nativeEvent,i=n.data,o=n.inputType;u(t),(0,ct.Q)(t,i,o)?m(!1):m(!0)}),[]),I=(0,S.useCallback)((function(e){var t=e.target.value;r(!1),u(t),m(!1),ht.Y.isLegalEmail(c)&&(null===n||void 0===n||n(null,Ie.S.BLUR)),null===n||void 0===n||n(c,Ie.S.BLUR),p.current&&l(!1,p.current)}),[c,n,l,r]),y=(0,S.useCallback)((function(){return f?N().createElement("div",{className:ft},h.Z.t("input_valid_email")):null}),[f]),_=(0,S.useCallback)((function(){if(r(!0),mt.forEach((function(e){var t;null===(t=p.current)||void 0===t||t.addEventListener(e,dt.U)})),p.current)return l(!0,p.current),function(){mt.forEach((function(e){var t;null===(t=p.current)||void 0===t||t.removeEventListener(e,dt.U)}))}}),[l,r]),b=(0,S.useMemo)((function(){return a?f?"#ef4e2":"#1e6fff":"#e3e3e3"}),[a,f]);return N().createElement(N().Fragment,null,N().createElement("div",{className:gt,ref:p,style:{border:"1px solid "+b}},N().createElement(Ge.default,{type:"email",value:c,onInput:v,onBlur:I,onFocus:_,className:"mobile-email-cell-editor",inputStyle:{margin:"8px",background:"none",fontSize:"10pt",padding:0,lineHeight:"10pt",height:ye.v+"px"},style:{flex:1,overflow:"hidden"}})),y())},vt=n("../node_modules/@tencent/dui/lib/components/Input/index.js"),It="xgNzP2YW8OIgVU6JngvX",yt=function(e){var t=e.value,n={margin:"7px 8px",background:"none",border:"none",padding:0,color:"#2b2b2b",height:ye.v+"px"};return React.createElement("div",{className:It},React.createElement(vt.Input,{inputStyle:n,disabled:!0,value:null!==t&&void 0!==t?t:"",className:"mobile-email-reader-editor",style:{flex:1}}))},_t=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return yt},n.getMobileCellEditor=function(){return pt},t}(at.T),bt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/formula/base-field-feature.service.jsx"),Mt=function(e){var t=e.standardCell,n=(0,S.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]);return N().createElement("div",{className:"mobile-formula-editor"},n)},Ct=function(e){var t=e.standardCell,n=(0,S.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]);return N().createElement("div",{className:"mobile-formula-reader"},n)},wt=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellEditor=function(){return Mt},n.getMobileCellReader=function(){return Ct},t}(bt.m),Tt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/base-field-feature.service.jsx"),Et=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/mobile/cell-editor/upload-container.jsx"),jt=n("../node_modules/@tencent/dui-mobile/lib/components/Preview/index.js"),At="sMSyriPsdfzcu3FGhwtm",xt="Y0XfA4bg11jQclF4kFgK",Dt="BVQIBYBLRk7P9sSBf1Jl",St="KFyEYJPnmJYNA5q11CI3",Nt="dz6snqPgnT1blrFLCHeF",Rt="IMNjjU23QUM0XrpjpIPU",Ot=n("../node_modules/@tencent/xtable-common/es/image/index.js"),Lt=function(e){var t=e.image,n=e.urlList,i=e.index,o=e.onDelete,r=(0,S.useCallback)((function(){return null===o||void 0===o?void 0:o(t)}),[t,o]),s=(0,S.useRef)(null),a=(0,S.useCallback)((function(){s.current=jt.default.show({urlList:n,initialIndex:i,actionSheetConfig:null})}),[i,n]);return(0,S.useEffect)((function(){return function(){var e;return null===(e=s.current)||void 0===e?void 0:e.close()}})),N().createElement("div",{className:Dt},N().createElement("img",{className:St,src:(0,Ot.gu)(t.imageUrl),key:t.imageUrl,onClick:a}),o&&N().createElement("div",{className:Nt,onClick:r}))},kt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/utils.js"),zt=function(e){var t=e.value,n=e.onChange,i=e.cellPosition.recordId,o=(0,S.useMemo)((function(){return(0,kt.m)(t)}),[t]),r=(0,S.useRef)(null),a=(0,S.useCallback)((function(e){var t=(0,s.Z)(o.filter((function(t){return t.id!==e.id})));null===n||void 0===n||n(t,Ie.S.CONFIRM)}),[o,n]),l=(0,S.useMemo)((function(){var e=o.map((function(e){return e.imageUrl}));return o.map((function(t,n){return N().createElement(Lt,{index:n,urlList:e,image:t,onDelete:a})}))}),[a,o]);(0,S.useEffect)((function(){return function(){var e;return null===(e=r.current)||void 0===e?void 0:e.close()}}));var d=(0,S.useRef)(null),c=(0,S.useCallback)((function(){r.current=j.default.show({onClickAction:d.current.handleImageAdd,options:[{id:"0",title:"拍照"},{id:"1",title:"从相册中选择"}]})}),[]),u=(0,S.useMemo)((function(){return N().createElement(Et.d,{ref:d,cellValue:t,recordId:i,containerClassname:Rt,onClickContainer:c,onDataChange:n},N().createElement(N().Fragment,null,N().createElement("div",{className:At}),N().createElement("div",null,"添加图片内容")))}),[c,n,i,t]);return N().createElement(N().Fragment,null,N().createElement("div",{className:xt},l),u)},Pt=function(e){var t=e.value,n=(0,S.useMemo)((function(){return(0,kt.m)(t)}),[t]),i=(0,S.useMemo)((function(){var e=n.map((function(e){return e.imageUrl}));return n.map((function(t,n){return N().createElement(Lt,{index:n,urlList:e,image:t})}))}),[n]);return N().createElement("div",{className:xt,style:{minHeight:ye.v+"px"}},i)},Ft=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return Pt},n.getMobileCellEditor=function(){return zt},t}(Tt.S),Ut=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return Se},n.getMobileCellEditor=function(){return De},t}(n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/modified-time/base-field-feature.service.jsx").b),Bt=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return ze},n.getMobileCellEditor=function(){return ze},t}(n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/modified-user/base-field-feature.service.jsx").u),Wt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/number/base-field-feature.service.jsx"),Gt=(n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/number-input/index.jsx")),Zt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/number-input/error.js"),Ht="t9uTnnEj6gSINRVqGEA2",Yt="E4iyNAnkX9RYBz4fGDCN",Vt=["touchstart","touchmove","touchend"],Qt=function(e){var t=e.onChange,n=e.value,i=(0,lt.E)(n),o=i.setInputting,r=i.inputValue,s=i.isInputting,a=(0,S.useContext)(ut.E).scrollIntoView,l=(0,S.useMemo)((function(){var e,t,n=String(null!==r&&void 0!==r?r:"");if(""===n)return"";var i=null!==(t=null===(e=n.split(".")[1])||void 0===e?void 0:e.length)&&void 0!==t?t:0;return Number(n).toLocaleString("en-IN",{useGrouping:!1,minimumFractionDigits:i})}),[r]),d=(0,S.useState)(l),c=d[0],u=d[1],h=(0,S.useState)(!1),g=h[0],f=h[1],m=(0,S.useState)(""),p=m[0],v=m[1],I=(0,S.useState)(!1),y=I[0],_=I[1],b=(0,S.useRef)(null);(0,S.useEffect)((function(){u(l)}),[l]);var M=(0,S.useCallback)((function(e){var t=e.target.value;if(""!==t&&"-"!==t){var n=(0,Zt.hB)(t);if(null===n)return u(t),_(!1),void f(!1);v(Zt.jS[n]),y||(_(!0),f(!0))}else u(t)}),[y]),C=(0,S.useCallback)((function(e){var n=e.target.value,i=n;"-"===n&&(i=""),o(!1),u(i),f(!1),_(!1),null===t||void 0===t||t((0,Gt.i)(i),Ie.S.BLUR),b.current&&a(!1,b.current)}),[t,a,o]),w=(0,S.useCallback)((function(){return g?N().createElement("div",{className:Yt},p):null}),[g,p]),T=(0,S.useCallback)((function(){if(o(!0),Vt.forEach((function(e){var t;null===(t=b.current)||void 0===t||t.addEventListener(e,dt.U)})),b.current)return a(!0,b.current),function(){Vt.forEach((function(e){var t;null===(t=b.current)||void 0===t||t.removeEventListener(e,dt.U)}))}}),[a,o]),E=(0,S.useMemo)((function(){return s?g?"#ef4e2":"#1e6fff":"#e3e3e3"}),[s,g]);return N().createElement(N().Fragment,null,N().createElement("div",{className:Ht,ref:b,style:{border:"1px solid "+E}},N().createElement(Ge.default,{value:c,onInput:M,onBlur:C,onFocus:T,inputStyle:{margin:"8px",background:"none",fontSize:"10pt",padding:0,lineHeight:"10pt",height:ye.v+"px"}})),w())},Kt=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return ye.a},n.getMobileCellEditor=function(){return Qt},t}(Wt.x),Xt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/phone/base-field-feature.service.jsx"),Jt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),qt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/utils/url.js"),$t=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/styles/field-icon.style.js"),en=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/phone/pc/cell-editor/phone-input.jsx"),tn="aACMZ1EaSRmzxmjCKVmv",nn="xGUjqfQbyvo4goT8de_o",on="_EzJ3b9cKFwpP05Z01Tq",rn=["touchstart","touchmove","touchend"],sn=function(e){var t,n=e.onChange,i=e.value,o=(0,lt.E)(i),r=o.setInputting,s=o.inputValue,a=o.isInputting,l=(0,S.useContext)(ut.E).scrollIntoView,d=(0,S.useState)(null!==(t=s)&&void 0!==t?t:""),c=d[0],u=d[1],g=(0,S.useState)(!1),f=g[0],m=g[1],p=(0,S.useRef)(null);(0,S.useEffect)((function(){var e;u(null!==(e=s)&&void 0!==e?e:"")}),[s]);var v=(0,S.useCallback)((function(e){var t=e.target.value,n=(0,en.nH)(t),i=e.nativeEvent,o=i.data,r=i.inputType;if((0,en.OA)(n,(0,en.nH)(o),r))return u(n),void m(!1);m(!0)}),[]),I=(0,S.useCallback)((function(e){var t=e.target.value;r(!1),u(t),m(!1),null===n||void 0===n||n((0,en.nH)(c),Ie.S.BLUR),p.current&&l(!1,p.current)}),[c,n,l,r]),y=(0,S.useCallback)((function(){return f?N().createElement("div",{className:on},h.Z.t("input_valid_tel")):null}),[f]),_=(0,S.useCallback)((function(){if(r(!0),rn.forEach((function(e){var t;null===(t=p.current)||void 0===t||t.addEventListener(e,dt.U)})),p.current)return l(!0,p.current),function(){rn.forEach((function(e){var t;null===(t=p.current)||void 0===t||t.removeEventListener(e,dt.U)}))}}),[l,r]),b=(0,S.useMemo)((function(){return a?f?"#ef4e2":"#1e6fff":"#e3e3e3"}),[a,f]),M=(0,S.useCallback)((function(){c&&(0,qt.YH)(c)}),[c]),C=(0,S.useCallback)((function(){return!c||a?null:N().createElement("div",{className:nn,onClick:M},N().createElement($t.C,{height:24},N().createElement(Jt.t,{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljg4MjM1IDMuMjVIOS42NDcwNkM5Ljk1Mzc0IDMuMjUgMTAuMjI5NSAzLjQzNjcxIDEwLjM0MzQgMy43MjE0NkwxMi4yMjU4IDguNDI3MzRDMTIuMzYyNSA4Ljc2OTEzIDEyLjIzMDkgOS4xNTk2MSAxMS45MTUzIDkuMzQ5TDEwLjE3NSAxMC4zOTJMMTAuMzY1NCAxMC43MDI2QzExLjE4MDIgMTEuOTc5OSAxMi4yODY5IDEzLjA0ODEgMTMuNTk1OSAxMy44MTc0TDEzLjYwNyAxMy44MjRMMTQuNjUxIDEyLjA4NDdDMTQuODIxNSAxMS44MDA2IDE1LjE1NDggMTEuNjY1NyAxNS40Njg5IDExLjc0MTJMMTUuNTcyNyAxMS43NzQyTDIwLjI3ODUgMTMuNjU2NkMyMC41NjMzIDEzLjc3MDUgMjAuNzUgMTQuMDQ2MyAyMC43NSAxNC4zNTI5VjE4LjExNzZDMjAuNzUgMTkuNTcxNSAxOS41NzE1IDIwLjc1IDE4LjA3MjIgMjAuNzQ4NkMxMC4wOTYzIDIwLjI2MzkgMy43MzYwOCAxMy45MDM3IDMuMjUgNS44ODIzNUMzLjI1IDQuNDI4NTQgNC40Mjg1NCAzLjI1IDUuODgyMzUgMy4yNVpNMTAuNTk2IDguMzkxTDkuMTM5IDQuNzVINS44ODIzNUM1LjI1Njk3IDQuNzUgNC43NSA1LjI1Njk3IDQuNzQ4NjIgNS44MzY4NkM1LjE4NzMzIDEzLjA1NiAxMC45NDQgMTguODEyNyAxOC4xMTc2IDE5LjI1QzE4Ljc0MyAxOS4yNSAxOS4yNSAxOC43NDMgMTkuMjUgMTguMTE3NlYxNC44NjFMMTUuNjA4IDEzLjQwM0wxNC41MjU1IDE1LjIwOTRDMTQuMzQyOSAxNS41MTM3IDEzLjk3NTkgMTUuNjQ0NCAxMy42NDc3IDE1LjUzNkwxMy41NTA2IDE1LjQ5NjJDMTEuMzU4OCAxNC40MTUyIDkuNTg0ODEgMTIuNjQxMiA4LjUwMzgzIDEwLjQ0OTRDOC4zMzExOCAxMC4wOTkzIDguNDU1OSA5LjY3NTM1IDguNzkwNiA5LjQ3NDUzTDEwLjU5NiA4LjM5MVoiIGZpbGw9IiM0NTRENUEiLz4KPC9zdmc+Cg=="})))}),[M,a,c]);return N().createElement(N().Fragment,null,N().createElement("div",{className:tn,ref:p,style:{border:"1px solid "+b}},N().createElement(Ge.default,{type:"tel",value:c,onInput:v,onBlur:I,onFocus:_,className:"mobile-tel-cell-editor",inputStyle:{margin:"8px",background:"none",fontSize:"10pt",padding:0,lineHeight:"10pt",height:ye.v+"px"},style:{flex:1,overflow:"hidden"}}),C()),y())},an="vJMtiG8nBC5q0FU74Tkz",ln="IovrrSxvMJzt63ieoewR",dn=function(e){var t=e.value,n={margin:"7px 8px",background:"none",border:"none",padding:0,color:"#2b2b2b",height:ye.v+"px"},i=(0,S.useCallback)((function(){t&&(0,qt.aQ)(qt._i.TEL,t)}),[t]),o=(0,S.useCallback)((function(){return t?N().createElement(N().Fragment,null,N().createElement("div",{className:ln,onClick:i})):null}),[i,t]);return N().createElement("div",{className:an},N().createElement(vt.Input,{inputStyle:n,disabled:!0,value:null!==t&&void 0!==t?t:"",className:"mobile-tel-reader-editor",style:{flex:1}}),o())},cn=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return dn},n.getMobileCellEditor=function(){return sn},t}(Xt.H),un=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/progress/base-field-feature.service.jsx"),hn=n("../node_modules/@tencent/dui-mobile/lib/components/Slider/index.js"),gn="GLGoh3GZiApysYt96viA",fn="dXkFU5bQntTZ8KOED_av",mn="mHqnkBvGEE9nQC5VvXWP",pn="OFd8Qq0OVnnzFyZbjz7v",vn="ciFku7T92ljI9YNIQ0qe",In="si47EAgpVn2VvsTpldq0",yn="DN_69eVNPTgoh5_j3NUW",_n="W43IBIwtMpYbRAtSGz6p",bn="QwKD3LLTN7qZo5mL7pyM",Mn="s63HB8USl2AlkWwKsSN2",Cn="jG5Km1IE1KdTatCsCRn9",wn="CSf35x7wMWWFQlffD5HT",Tn="KvTvlqZZktYaoALhden6",En=function(e){var t=e.onChange,n=e.value,i=e.cellPosition.fieldId,o=(0,S.useState)(!1),r=o[0],s=o[1],a=(0,S.useState)(!1),l=a[0],d=a[1],c=(0,S.useState)(!1),u=c[0],g=c[1],f=(0,S.useCallback)((function(){return d(!1)}),[]);We({fieldId:i,closePanel:f});var m=(0,S.useState)((function(){return null===n?"0":String(n)})),p=m[0],v=m[1];(0,S.useEffect)((function(){v((function(){return null===n?"0":String(n)}))}),[n]);var I=(0,S.useCallback)((function(e){var t=e.target.value;v(t)}),[]),y=(0,S.useCallback)((function(e){v(String(e)),s(!1)}),[]),_=(0,S.useCallback)((function(){d(!1),nt((function(){return g(!1)}))}),[]),b=(0,S.useCallback)((function(){l||g(!1)}),[l]),M=(0,S.useCallback)((function(e){var n=e.target.value,i=Number(n);if(!isNaN(i)&&-1===n.indexOf(" ")&&i>=0&&i<=100)return v(n),s(!1),void(null===t||void 0===t||t(i,Ie.S.CONFIRM));s(!0)}),[t]),C=(0,S.useCallback)((function(){return N().createElement("div",{className:vn},N().createElement("div",{className:In},N().createElement("input",{className:yn,onBlur:I,onInput:M,inputMode:"decimal",value:p})),N().createElement("div",{className:pn,style:{opacity:r?1:0}},h.Z.t("input_number_between_0_and_100")))}),[I,M,p,r]),w=(0,S.useCallback)((function(e){e&&e>=0&&e<=100?null===t||void 0===t||t(e,Ie.S.CONFIRM):(null===t||void 0===t||t(0,Ie.S.CONFIRM),v("0"))}),[t]),T=(0,S.useCallback)((function(){var e;return N().createElement("div",{className:bn},N().createElement(hn.default,{min:0,max:100,step:1,className:Mn,barClassName:Cn,fillClassName:Tn,dragClassName:wn,value:(null!==(e=Number(p))&&void 0!==e?e:0)>>0,onChange:y,onChangeEnd:w}))}),[w,y,p]),E=(0,S.useCallback)((function(){return u?N().createElement("div",{onAnimationEnd:b},N().createElement(Ze.default,{okText:"",visible:l,onClose:_,showHeaderBorder:!1,headerClassName:_n,header:C()},T())):null}),[u,b,l,_,C,T]),j=(0,S.useCallback)((function(){d(!0),g(!0)}),[]);return N().createElement(N().Fragment,null,N().createElement("div",{className:gn,onClick:j},N().createElement("div",{className:fn,style:{width:(null!==n&&void 0!==n?n:0)+"%"}},N().createElement("span",{className:mn},n?n+"%":""))),E())},jn="yZbHmUV8J2krDED2at7l",An="_9nR9b4INXoT_aV96Jb7",xn="uTDNx_Wq4_k2W_We6TW2",Dn=function(e){var t=e.value;return React.createElement("div",{className:jn},React.createElement("div",{className:An,style:{width:(null!==t&&void 0!==t?t:0)+"%"}},React.createElement("span",{className:xn},null!==t&&void 0!==t?t:0,"%")))},Sn=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return Dn},n.getMobileCellEditor=function(){return En},t}(un.M),Nn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/select/base-field-feature.service.jsx"),Rn=function(e){var t=e.standardCell,n=e.property,i=(0,S.useMemo)((function(){return t.data.map((function(e){return e.id}))}),[t.data]),o=(0,S.useCallback)((function(e){return N().createElement(Xe,{className:"option-title-wrap",optionStyle:e.style},N().createElement("span",{className:"option-title"},e.text))}),[]),r=(0,S.useCallback)((function(){var e=i.map((function(e){return n.options.filter((function(t){return t.id===e}))[0]}));return N().createElement("span",{className:"selected-options"},e.map((function(e){return N().createElement("div",{className:"selected-options-item"},o(e))})))}),[i,n.options,o]);return N().createElement(qe,{selectedOptions:i,className:"select-wrap"},N().createElement("div",{className:"selected-option-wrap"},r()))},On=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return Rn},n.getMobileCellEditor=function(){return it},t}(Nn.E),Ln=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return Rn},n.getMobileCellEditor=function(){return it},t}(Nn.K),kn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/text/base-field-feature.service.jsx"),zn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/utils/keydown.js"),Pn=je.ZP.div(J||(J=(0,Ee.Z)(["\n  box-sizing: border-box;\n  display: block;\n  padding: 7px 8px;\n  max-height: 160px;\n  min-height: 20px;\n  width: 100%;\n  white-space: pre-wrap;\n  border: 1px solid rgba(0, 0, 0, 0.16);\n  border-radius: 4px;\n  word-break: break-word;\n  font-size: 10pt;\n  line-height: ","px;\n  overflow-y: auto;\n  // focus 后光标为输入光标\n  cursor: auto;\n  background: transparent;\n\n  // 处理ios 点击提示\n  -webkit-tap-highlight-color: transparent;\n  user-select: text;\n"])),20),Fn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/text/text-format.js"),Un=["touchstart","touchmove","touchend"],Bn=function(e){var t=e.value,n=e.onChange,i=(0,S.useContext)(ut.E).scrollIntoView,o=(0,lt.E)(t),r=o.setInputting,s=o.inputValue,a=o.isInputting,l=(0,S.useMemo)((function(){var e;return null!==(e=s)&&void 0!==e?e:[]}),[s]),d=(0,S.useRef)(null),c=(0,S.useCallback)((function(e){var t;(0,zn.m)(e,((t={}).Enter=Fn.VH,t))}),[]),u=(0,S.useCallback)((function(){if(d.current){var e=(0,Fn.Eh)(d.current.innerText);r(!1),null===n||void 0===n||n(e,Ie.S.BLUR),i(!1,d.current)}}),[n,i,r]),h=(0,S.useCallback)((function(){if(r(!0),Un.forEach((function(e){var t;null===(t=d.current)||void 0===t||t.addEventListener(e,dt.U)})),d.current)return i(!0,d.current),function(){Un.forEach((function(e){var t;null===(t=d.current)||void 0===t||t.removeEventListener(e,dt.U)}))}}),[i,r]);return(0,S.useEffect)((function(){var e=null;return d.current&&(d.current.addEventListener("paste",Wn,!1),e=d.current),function(){return null===e||void 0===e?void 0:e.removeEventListener("paste",Wn)}}),[d]),N().createElement(Pn,{contentEditable:!0,style:{borderColor:a?"#1e6fff":"#e3e3e3"},className:"mobile-text-editor",ref:d,onKeyDown:c,onBlur:u,onFocus:h},(0,Fn.dF)(l))},Wn=function(e){var t;e.preventDefault();var n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain");document.execCommand("insertText",!1,n)},Gn=je.ZP.div(q||(q=(0,Ee.Z)(["\n  line-height: ","px;\n  min-height: ","px;\n  max-height: 160px;\n  padding: 7px 8px;\n  border: 0.5px solid #e3e3e3;\n  overflow: auto;\n  border-radius: 4px;\n\n  .mobile-text-line {\n    display: block;\n    word-break: break-all;\n  }\n"])),20,ye.v),Zn=function(e){var t=e.standardCell,n=(0,S.useMemo)((function(){var e;return null!==(e=t.data)&&void 0!==e?e:[]}),[t.data]);return N().createElement(Gn,{className:"mobile-text-reader"},n.map((function(e){return N().createElement("span",{className:"mobile-text-line"},e.text)})))},Hn=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return Zn},n.getMobileCellEditor=function(){return Bn},t}(kn.S),Yn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/url/base-field-feature.service.jsx"),Vn=(n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.string.link.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/@tencent/docs-soft-keyboard/dist/index.js")),Qn=je.ZP.div($||($=(0,Ee.Z)(["\n  font-size: 16px;\n\n  .url-input {\n    display: flex;\n    background: #f3f5f7;\n    align-items: center;\n    margin: 10px;\n    padding-left: 10px;\n    height: 50px;\n    border-radius: 4px;\n    border: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    .mobile-read-url-input {\n      display: flex;\n      align-items: center;\n      margin-left: 10px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: 16px;\n    }\n  }\n\n  .url-warn {\n    color: #ef4e2f;\n    margin-left: 10px;\n  }\n\n  .title-wrap {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 10px;\n\n    .title {\n      color: #000;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n\n    .change {\n      color: #1e6fff;\n      min-width: 70px;\n    }\n  }\n"])),(function(e){return e.isShowWarn?"1px solid #ef4e2f":null})),Kn=je.ZP.div(ee||(ee=(0,Ee.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  overflow: hidden;\n  min-height: ","px;\n  .link-warp {\n    display: flex;\n    width: 92%;\n\n    .link-text {\n      color: #6495ed;\n      font-weight: 500;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      line-height: 20px;\n    }\n\n    .link-icon {\n      padding-right: 6px;\n    }\n  }\n"])),ye.v),Xn=n("../node_modules/@tencent/tencent_doc_open_url/dist/index.js"),Jn=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.interface.js"),qn=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-field.js"),$n=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-field.interface.js"),ei=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js"),ti=function(e){var t=e.value,n=e.onChange,i=e.property,o=e.cellPosition,r=(0,S.useMemo)((function(){var e;return t&&0!==t.length&&null!==(e=t[0].text)&&void 0!==e?e:""}),[t]),s=(0,S.useMemo)((function(){if(!t||0===t.length||""===r)return"";var e=t[0].link||"";return(0,ei.AQ)(""===e?r:e)}),[r,t]),a=(0,S.useState)(r),d=a[0],c=a[1],u=(0,S.useState)(s),g=u[0],f=u[1],m=(0,S.useState)(d),p=m[0],v=m[1],I=(0,S.useState)(g),y=I[0],_=I[1],b=(0,S.useState)(""),M=b[0],C=b[1],w=(0,S.useState)(!1),T=w[0],E=w[1],j=(0,S.useMemo)((function(){return(0,ei.KM)(y)}),[y]),A=o.fieldId,x=(0,S.useState)(!1),D=x[0],R=x[1],O=(0,S.useState)(!1),L=O[0],k=O[1],z=(0,S.useCallback)((function(){return k(!1)}),[]);We({fieldId:A,closePanel:z});var P=(0,S.useState)(0),F=P[0],U=P[1];(0,S.useEffect)((function(){var e=new Vn.SoftKeyboard;return e.on("change",(function(e){U(e.heightInViewport)})),function(){return e.dispose()}}),[]),(0,S.useEffect)((function(){f(s),c(r),v(d),_(g)}),[g,d,s,r]);var B=(0,S.useCallback)((function(){if(y&&!qn.i.isUrl(y))return E(!0),!1;var e=""===p.trim()?y:p,t=(0,ei.AQ)(""===y?p:y);c(e),f(t),k(!1),nt((function(){R(!1),null===n||void 0===n||n([{text:e,link:t,type:Jn.y.URL}],Ie.S.CONFIRM)}))}),[y,n,f,c,p]),W=(0,S.useCallback)((function(){v(d),_(g),k(!1),nt((function(){return R(!1)})),E(!1),C("")}),[g,d]),G=(0,S.useCallback)((function(e){_(e),E(!1)}),[]),Z=(0,S.useCallback)((function(e){v(e)}),[]),H=(0,S.useCallback)((function(){v(M),C("")}),[M]),Y=(0,S.useCallback)((function(){var e=""===y?p:y;(0,Xn.tencentDocOpenUrlForAll)({url:(0,ei.Br)((0,ei.AQ)(e).trim())})}),[y,p]);(0,S.useEffect)((function(){(0,l.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y?(0,ei.KM)(y):void 0){e.next=3;break}return e.abrupt("return");case 3:return t="",e.prev=4,e.next=7,(0,ei.JX)(y);case 7:n=e.sent,t=n.title,e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(4),e.next=15,(0,ei.wI)(y);case 15:i=e.sent,t=(null===i||void 0===i?void 0:i.fileName)||"";case 17:if(p!==t){e.next=19;break}return e.abrupt("return");case 19:C(t);case 20:case"end":return e.stop()}}),e,null,[[4,11]])})))}),[y,p]);var V=(0,S.useCallback)((function(){return""===M?null:N().createElement("div",{className:"title-wrap"},N().createElement("span",{className:"title"},h.Z.t("doc_title",{docTitle:M})),N().createElement("span",{className:"change",onClick:H},h.Z.t("text_replace")))}),[M,H]),Q=(0,S.useCallback)((function(){return i.type===$n.U.ICON_TEXT&&j!==ei.hW.OTHER?N().createElement("img",{className:"link-icon",src:ue.LD[j]}):null}),[j,i.type]),K=(0,S.useCallback)((function(){return N().createElement(Qn,{isShowWarn:T},N().createElement("div",{className:"url-input"},N().createElement("span",null,h.Z.t("text")),N().createElement(Ge.default,{inputStyle:{fontSize:16},style:{flex:1},value:p,onChange:Z})),V(),N().createElement("div",{className:"url-input"},N().createElement("span",null,h.Z.t("link")),N().createElement(Ge.default,{inputStyle:{fontSize:16},style:{flex:1},value:y,onChange:G})),T?N().createElement("div",{className:"url-warn"},N().createElement("span",null,"请输入有效链接")):null)}),[G,Z,T,y,V,p]),X=(0,S.useCallback)((function(){L||R(!1)}),[L]),J=(0,S.useCallback)((function(){return D?N().createElement("div",{onAnimationEnd:X},N().createElement(Ze.default,{visible:L,onOk:B,onCancel:W,onClose:W,title:h.Z.t("modify_link"),cancelText:h.Z.t("cancel"),containerStyle:{marginBottom:100,zIndex:19999},contentStyle:{minHeight:F+"px"}},K())):null}),[X,W,B,F,K,L,D]),q=(0,S.useCallback)((function(){k(!0),R(!0)}),[]);return N().createElement(N().Fragment,null,N().createElement(Kn,{className:"url-editor-mobile"},N().createElement("div",{className:"link-warp"},Q(),N().createElement("div",{className:"link-text",onClick:Y},d)),N().createElement("div",{className:"dropdown-icon",onClick:q},N().createElement(Ke,null))),J())},ni=function(e){var t=e.standardCell,n=(0,S.useMemo)((function(){return 0===t.data.length?null:t.data[0]}),[t]),i=(0,S.useRef)((function(){})),o=(0,S.useRef)(null),r=(0,S.useCallback)((function(){var e;null===(e=i.current)||void 0===e||e.call(i)}),[]),s=(0,S.useCallback)((function(){if(n){var e=""===n.link?n.text:n.link;(0,Xn.tencentDocOpenUrlForAll)({url:"https://"+location.host+"/scenario/link.html?url="+encodeURIComponent((0,ei.AQ)(e||"").trim())})}}),[n]),a=(0,S.useCallback)((function(){return N().createElement(Qn,null,N().createElement("div",{className:"url-input"},N().createElement("span",null,h.Z.t("text")),N().createElement("div",{className:"mobile-read-url-input"},null===n||void 0===n?void 0:n.text)),N().createElement("div",{className:"url-input"},h.Z.t("link"),N().createElement("div",{className:"mobile-read-url-input"},N().createElement("span",null,null===n||void 0===n?void 0:n.link))))}),[null===n||void 0===n?void 0:n.link,null===n||void 0===n?void 0:n.text]),l=(0,S.useCallback)((function(){var e=Ze.default.show({onOk:r,onClose:r,onCancel:r,title:h.Z.t("modify_link"),cancelText:h.Z.t("cancel"),content:N().createElement(N().Fragment,null," ",a()),containerStyle:{marginBottom:100,zIndex:19999}}),t=e.update,n=e.close;i.current=n,o.current=t}),[r,a]);return(0,S.useEffect)((function(){return function(){var e;return null===(e=i.current)||void 0===e?void 0:e.call(i)}}),[]),N().createElement(Kn,{className:"url-editor-mobile"},N().createElement("div",{className:"link-warp"},N().createElement("div",{className:"link-text",onClick:s},null===n||void 0===n?void 0:n.text)),N().createElement("div",{className:"dropdown-icon",onClick:l},N().createElement(Ke,null)))},ii=function(e){function t(){return e.apply(this,arguments)||this}(0,ie.Z)(t,e);var n=t.prototype;return n.getMobileCellReader=function(){return ni},n.getMobileCellEditor=function(){return ti},t}(Yn.L),oi=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/service.js"),ri=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field.mobile.interface.js"),si=function(){function e(){this.fieldMap=new Map,this.register(new Hn),this.register(new Kt),this.register(new On),this.register(new Ln),this.register(new ii),this.register(new st),this.register(new Me),this.register(new Ft),this.register(new Ne),this.register(new Ut),this.register(new Pe),this.register(new Bt),this.register(new Sn),this.register(new cn),this.register(new _t),this.register(new me),this.register(new wt)}var t=e.prototype;return t.getFieldFeature=function(e){return this.fieldMap.get(e)},t.getFieldTypes=function(){return(0,s.Z)(this.fieldMap.keys())},t.register=function(e){this.fieldMap.set(e.getType(),e)},e}();si=(0,l.__decorate)([(0,oi.t)({provide:ri.Q}),(0,l.__metadata)("design:paramtypes",[])],si);var ai={platform:"mobile",toolbar:{schema:{left:[],center:[],right:[]}},menu:{schema:[]},titlebar:{disabled:!0,schema:[]},contextMenu:{schema:[]},actionButtons:{schema:r},mount:{controllers:T,features:te,services:(0,s.Z)(ne.i)}}},"../node_modules/@tencent/smartsheet-sdk/es/pc.js":function(e,t,n){"use strict";n.r(t),n.d(t,{pcWorkbenchOptions:function(){return iu}});var i,o=n("../node_modules/@tencent/smartsheet-sdk/es/schema/contextmenu.js"),r=n("../node_modules/@tencent/smartsheet-sdk/es/schema/menu.js"),s=n("../node_modules/@tencent/smartsheet-sdk/es/schema/toolbar.js"),a=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),l=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/@tencent/smartsheet-sdk/es/workbench/config/controllers/base.js")),d=(n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/@babel/runtime/helpers/esm/createClass.js")),c=(n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/tslib/tslib.es6.js")),u=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js"),h=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/field-operation.service.js"),g=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.interface.js"),f=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field-edit/field-edit.interface.js");!function(e){e[e.Record=1]="Record",e[e.Field=2]="Field",e[e.GanttRecord=3]="GanttRecord",e[e.None=4]="None"}(i||(i={}));var m=Symbol.for("feature: ICustomizedContextmenuFeature"),p=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),v=[{name:r.z.FIELD_CONTEXT},{name:r.z.FIELD_INSERT_LEFT,content:p.Z.t("insert_1_col_on_left")},{name:r.z.FIELD_INSERT_RIGHT,content:p.Z.t("insert_1_col_on_right")},{name:r.z.FIELD_COPY,content:p.Z.t("copy_col")},{name:r.z.FIELD_HIDE,content:p.Z.t("hide_col")},{name:r.z.FIELD_DELETE,content:p.Z.t("del_col")},{name:r.z.FIELD_EDITOR,content:p.Z.t("col_attr_setting")}],I=[{name:o.BV.FIELD_INSERT_LEFT,content:p.Z.t("insert_1_col_on_left"),contextmenuType:i.Field},{name:o.BV.FIELD_INSERT_RIGHT,content:p.Z.t("insert_1_col_on_right"),contextmenuType:i.Field},{name:o.BV.FIELD_COPY,content:p.Z.t("copy_col"),contextmenuType:i.Field},{name:o.BV.FIELD_HIDE,content:p.Z.t("hide_col"),contextmenuType:i.Field},{name:o.BV.FIELD_DELETE,content:p.Z.t("del_col"),contextmenuType:i.Field},{name:o.BV.FIELD_EDITOR,content:p.Z.t("col_attr_setting"),contextmenuType:i.Field}],y=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field-operation/field-operation.interface.jsx"),_=n("../node_modules/@tencent/workbench/lib/esm/decorators/method/contextmenu.js"),b=n("../node_modules/@tencent/workbench/lib/esm/decorators/method/menu.js"),M=n("../node_modules/@tencent/workbench/lib/esm/decorators/param/editor.js"),C=n("../node_modules/@tencent/workbench/lib/esm/decorators/param/action-point-info.js"),w=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/controller.js"),T=n("../node_modules/@tencent/ioc/lib/esm/index.js"),E=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js");function j(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var x=function(){function e(e,t,n){this.fieldOperationLoader=e,this.fieldEditLoader=t,this.behaviorApplyService=n}var t=e.prototype;return t.handleInsertField=function(e,t){var n=t.name===r.z.FIELD_INSERT_LEFT?y.Qd.LEFT:y.Qd.RIGHT;this.fieldOperationService.insertFieldByDirection(e,n),h.A.insertByContextmenu(n===y.Qd.LEFT)},t.primaryFieldCheck=function(e){return this.isIncludePrimaryField(e)},t.canDeleteCheck=function(e){return!!this.isIncludePrimaryField(e)||!this.isSelectedFieldsCanDelete(e)},t.multipleFieldsCheck=function(e){return S(e).length>1},t.handleFieldCopy=function(e){var t=D(e);if(0!==t.length){var n=t[0];this.fieldOperationService.copyField(e,n)}},t.getFieldDeleteContent=function(e){var t=D(e);return 1===t.length?p.Z.t("del_col"):p.Z.t("del_selected_col",{count:t.length})},t.handleFieldDelete=function(e,t){var n=D(e);if(0!==n.length){var i=e.getBehaviorApi().deleteField({fieldIds:n,tableId:e.getCurrentTable().id,viewId:e.getCurrentView().id},t);if(i.isSuccess)return e.rangeModel.resetSelection(),void h.A.deleteFieldByContextmenu();[E.jK.FIELD_EXIST_IN_GANTT_DATE_FIELD,E.jK.FIELD_EXIST_IN_KANBAN_GROUP].includes(i.error.errorCode)&&this.ignoreError(e,i)}},t.getFieldHideContent=function(e){var t=D(e);return 1===t.length?p.Z.t("hide_col"):p.Z.t("hide_selected_col",{count:t.length})},t.handleFieldHide=function(e){var t=D(e);0!==t.length&&this.fieldOperationService.hideFields(e,t)},t.handleFieldEdit=function(e){var t=D(e);0!==t.length&&(this.fieldEditFeature.showFieldEditor(t[0]),h.A.showFieldTypeEditorByContextmenu())},t.isIncludePrimaryField=function(e){for(var t,n=S(e),i=e.getCurrentView(),o=e.getCurrentView().getVisibleFieldIds(),r=j(n);!(t=r()).done;){var s=o[t.value];if(i.isPrimaryField(s))return!0}return!1},t.isSelectedFieldsCanDelete=function(e){for(var t,n=S(e),i=e.getCurrentTable(),o=e.getCurrentView().getVisibleFieldIds(),r=j(n);!(t=r()).done;){var s=o[t.value];if(!i.getFieldRestriction(s).canDelete)return!1}return!0},t.ignoreError=function(e,t){var n=this;this.behaviorApplyService.instance.handleMutationError(t,{onOk:function(){var i;n.handleFieldDelete(e,{ignoreCheck:(i={},i[t.error.errorCode]=!0,i)})}})},(0,d.Z)(e,[{key:"fieldEditFeature",get:function(){return this.fieldEditLoader.instance}},{key:"fieldOperationService",get:function(){return this.fieldOperationLoader.instance}}]),e}();function D(e){var t=e.getCurrentView();if(!t)return[];var n=t.getVisibleFieldIds();return S(e).map((function(e){return n[e]}))}function S(e){var t=e.rangeModel.getCurrentSelection();if(!t.isColumnSelection())return[];var n=t.getRanges(),i=[];return n.forEach((function(e){for(var t=e.startColumn;t<=e.endColumn;t++)i.push(t)})),i}(0,c.__decorate)([(0,_.x)(o.BV.FIELD_INSERT_LEFT,"onClick"),(0,_.x)(o.BV.FIELD_INSERT_RIGHT,"onClick"),(0,b.v)(r.z.FIELD_INSERT_LEFT,"onClick"),(0,b.v)(r.z.FIELD_INSERT_RIGHT,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__param)(1,(0,C.g)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"handleInsertField",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_INSERT_LEFT,"shouldDisabled"),(0,_.x)(o.BV.FIELD_DELETE,"shouldDisabled"),(0,_.x)(o.BV.FIELD_HIDE,"shouldDisabled"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"primaryFieldCheck",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_DELETE,"shouldDisabled"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"canDeleteCheck",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_EDITOR,"shouldHide"),(0,_.x)(o.BV.FIELD_INSERT_LEFT,"shouldHide"),(0,_.x)(o.BV.FIELD_INSERT_RIGHT,"shouldHide"),(0,_.x)(o.BV.FIELD_COPY,"shouldHide"),(0,_.x)(o.BV.GROUP,"shouldHide"),(0,_.x)(o.BV.FILTER,"shouldHide"),(0,_.x)(o.BV.SORT_ASCEND,"shouldHide"),(0,_.x)(o.BV.SORT_DESCEND,"shouldHide"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"multipleFieldsCheck",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_COPY,"onClick"),(0,b.v)(r.z.FIELD_COPY,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"handleFieldCopy",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_DELETE,"content"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"getFieldDeleteContent",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_DELETE,"onClick"),(0,b.v)(r.z.FIELD_DELETE,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"handleFieldDelete",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_HIDE,"content"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"getFieldHideContent",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_HIDE,"onClick"),(0,b.v)(r.z.FIELD_HIDE,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"handleFieldHide",null),(0,c.__decorate)([(0,_.x)(o.BV.FIELD_EDITOR,"onClick"),(0,b.v)(r.z.FIELD_EDITOR,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],x.prototype,"handleFieldEdit",null),x=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],menuItems:v,contextMenuItems:I}),(0,c.__param)(0,(0,T.aN)(y.wS)),(0,c.__param)(1,(0,T.aN)(f.m)),(0,c.__param)(2,(0,T.aN)(g.y)),(0,c.__metadata)("design:paramtypes",[Object,Object,Object])],x),n("../node_modules/core-js/modules/es.array.filter.js");var N=n("react"),R=n.n(N),O="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9kYXRhX2Zvcm1hdDwvdGl0bGU+CiAgICA8ZyBpZD0idG9vbGJhcl9kYXRhX2Zvcm1hdCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHJlY3QgaWQ9IuefqeW9ouWkh+S7vSIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48L3JlY3Q+CiAgICAgICAgPHBvbHlnb24gaWQ9IuefqeW9ouWkh+S7vS00IiBmaWxsPSIjQ0JDREQxIiBwb2ludHM9IjkgNC41IDE1IDQuNSAxNSAxOS41IDkgMTkuNSI+PC9wb2x5Z29uPgogICAgICAgIDxwYXRoIGQ9Ik0yMCwxOC41IEMyMCwxOS4wNTIyODQ3IDE5LjU1MjI4NDcsMTkuNSAxOSwxOS41IEw1LDE5LjUgQzQuNDQ3NzE1MjUsMTkuNSA0LDE5LjA1MjI4NDcgNCwxOC41IEw0LDUuNSBDNCw0Ljk0NzcxNTI1IDQuNDQ3NzE1MjUsNC41IDUsNC41IEwxOSw0LjUgQzE5LjU1MjI4NDcsNC41IDIwLDQuOTQ3NzE1MjUgMjAsNS41IEwyMCwxOC41IFogTTksMTUgTDUuMTk5LDE1IEw1LjIsMTguMyBMOSwxOC4zIEw5LDE1IFogTTEzLjgsMTUgTDEwLjIsMTUgTDEwLjIsMTguMyBMMTMuOCwxOC4zIEwxMy44LDE1IFogTTE4LjgsMTUgTDE1LDE1IEwxNSwxOC4zIEwxOC44LDE4LjMgTDE4LjgsMTUgWiBNOSwxMC4yIEw1LjIsMTAuMiBMNS4yLDEzLjggTDksMTMuOCBMOSwxMC4yIFogTTEzLjgsMTAuMiBMMTAuMiwxMC4yIEwxMC4yLDEzLjggTDEzLjgsMTMuOCBMMTMuOCwxMC4yIFogTTE4LjgsMTAuMiBMMTUsMTAuMiBMMTUsMTMuOCBMMTguOCwxMy44IEwxOC44LDEwLjIgWiBNOSw1LjcgTDUuMiw1LjcgTDUuMTk5LDkgTDksOSBMOSw1LjcgWiBNMTMuOCw1LjcgTDEwLjIsNS43IEwxMC4yLDkgTDEzLjgsOSBMMTMuOCw1LjcgWiBNMTguOCw1LjcgTDE1LDUuNyBMMTUsOSBMMTguOCw5IEwxOC44LDUuNyBaIiBpZD0i5b2i54q2IiBmaWxsPSIjNDY0RDVBIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+",L=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),k=[{name:s.Ce.FIELD_SETTING,type:"text",text:p.Z.t("col_setting"),hasArrow:!1,tooltip:p.Z.t("col_setting"),icon:R().createElement("img",{src:O}),style:{width:"auto",padding:"0 4px"},viewTypes:[L.bW.GRID,L.bW.KANBAN,L.bW.GALLERY,L.bW.GANTT]}],z=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field-setting/field-setting.feature.jsx"),P=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field-setting/field-setting.interface.js"),F=n("../node_modules/@tencent/workbench/lib/esm/decorators/method/toolbar.js"),U=n("../node_modules/@tencent/xtable-render/es/report/kanban-gallery-report.service.js"),B=function(){function e(e){this.loader=e,this.hiddenFieldConnt=function(e){if(!e)return 0;var t=e.getCurrentView(),n=e.getCurrentTable();return t&&n?(t.properties.fieldIds||[]).filter((function(e){return t.isFieldHidden(e)})).length:0}}var t=e.prototype;return t.handleFieldSettingMenuClick=function(e){var t=e.getCurrentView();U.m.clickColSetting(t.type),this.fieldSettingFeature.toggleDrawer()},t.shouldMenuCheck=function(e){return!!this.hiddenFieldConnt(e)},t.getContent=function(e){var t,n=null===(t=e.getCurrentView())||void 0===t?void 0:t.type,i=z.FieldSettingFeature.getTitle(n);if(n&&[L.bW.GANTT,L.bW.GRID].includes(n)){var o=this.hiddenFieldConnt(e);i=o?""+i+p.Z.t(":")+o:i}return i},(0,d.Z)(e,[{key:"fieldSettingFeature",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.FIELD_SETTING,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],B.prototype,"handleFieldSettingMenuClick",null),(0,c.__decorate)([(0,F.o)(s.Ce.FIELD_SETTING,"shouldCheck"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],B.prototype,"shouldMenuCheck",null),(0,c.__decorate)([(0,F.o)(s.Ce.FIELD_SETTING,"tooltip"),(0,F.o)(s.Ce.FIELD_SETTING,"text"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],B.prototype,"getContent",null),B=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],toolbarItems:k}),(0,c.__param)(0,(0,T.aN)(P.o)),(0,c.__metadata)("design:paramtypes",[Object])],B);var W=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/filter-report.service.js"),G=[{name:s.Ce.FILTER,type:"text",text:p.Z.t("filter"),hasArrow:!1,tooltip:p.Z.t("filter_data"),icon:R().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT50b29sYmFyX2ZpbHRlcjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJ0b29sYmFyX2ZpbHRlciIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Il/lm77moIcv5bel5YW35qCPLzAyX+ihqOagvC/nrZvpgInlpIfku70iPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjQwNzk4NzEsNSBDMTguNjg0MTI5NSw1IDE4LjkwNzk4NzEsNS4yMjM4NTc2MyAxOC45MDc5ODcxLDUuNSBDMTguOTA3OTg3MSw1LjYwNzA4NTM3IDE4Ljg3MzYwNzEsNS43MTEzNDE3OSAxOC44MDk5MDgxLDUuNzk3NDIxNSBMMTIuOTk5OTgwOSwxMy42NDggTDEzLDE4LjI1IEwxMS40OTc1NTE0LDE5LjU2NDY0MjUgQzExLjM3Mjg2MDQsMTkuNjczNzQ3MiAxMS4xODMzMzE2LDE5LjY2MTExMTkgMTEuMDc0MjI3LDE5LjUzNjQyMDkgQzExLjAyNjM3NTUsMTkuNDgxNzMzNSAxMSwxOS40MTE1MzY1IDExLDE5LjMzODg2OTUgTDEwLjk5OTk4MDksMTMuNjQ5IEw1LjE5MDA5MTkxLDUuNzk3NDIxNSBDNS4wMjU4MzA1NSw1LjU3NTQ0NjY5IDUuMDcyNjE2NTUsNS4yNjIzNDA0MSA1LjI5NDU5MTM2LDUuMDk4MDc5MDUgQzUuMzgwNjcxMDcsNS4wMzQzODAwNyA1LjQ4NDkyNzQ5LDUgNS41OTIwMTI4Niw1IEwxOC40MDc5ODcxLDUgWiBNMTYuNjIxLDYuNCBMNy4zNzgsNi40IEwxMiwxMi42NDYgTDE2LjYyMSw2LjQgWiIgaWQ9IuW9oueKtiIgZmlsbD0iIzQ2NEQ1QSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"}),style:{width:"auto",padding:"0 4px"}}],Z=p.Z.t("filter_by_col"),H=[{name:r.z.FILTER,content:Z}],Y=[{name:o.BV.FILTER,content:Z,contextmenuType:i.Field}],V=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/filter/filter-condition.js"),Q=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/filter/filter-utils.js"),K=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/filter/filter.interface.js"),X=function(){function e(e){this.loader=e}var t=e.prototype;return t.getTextOfButton=function(e){var t=this.getValidFilterInfosCount(e),n=t>0?"："+p.Z.t("condition_count",{count:t}):"";return""+p.Z.t("filter")+n},t.shouldCheck=function(e){return this.getValidFilterInfosCount(e)>0},t.handleFilter=function(e){var t,n=D(e);if(0!==n.length){var i=e.getCurrentTable(),o=n[0],r=null===(t=i.getFieldByFieldId(o))||void 0===t?void 0:t.getType();if(r){var s={fieldId:o,fieldType:r,operator:(0,Q.E)(r),value:null};this.filterService.insertCondition(s),this.filterService.showDrawer(),h.A.filterByContextmenu()}}},t.toggleDrawer=function(){W.V.clickFilter(),this.filterService.toggleDrawer()},t.getValidFilterInfosCount=function(e){var t,n,i,o=null===(n=null===(t=e.getCurrentView())||void 0===t?void 0:t.properties.filterInfos)||void 0===n?void 0:n.conditions;return o&&null!==(i=o.filter((function(e){if(V.F7.includes(e.operator))return!0;var t=e.value;return null!==t&&void 0!==t})).length)&&void 0!==i?i:0},(0,d.Z)(e,[{key:"filterService",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.FILTER,"text"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],X.prototype,"getTextOfButton",null),(0,c.__decorate)([(0,F.o)(s.Ce.FILTER,"shouldCheck"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],X.prototype,"shouldCheck",null),(0,c.__decorate)([(0,_.x)(o.BV.FILTER,"onClick"),(0,b.v)(r.z.FILTER,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],X.prototype,"handleFilter",null),(0,c.__decorate)([(0,F.o)(s.Ce.FILTER,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],X.prototype,"toggleDrawer",null),X=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],menuItems:H,toolbarItems:G,contextMenuItems:Y}),(0,c.__param)(0,(0,T.aN)(K.R)),(0,c.__metadata)("design:paramtypes",[Object])],X);var J=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/record-report.service.js"),q=[{name:r.z.GANTT_TIME_RECORD_CLEAN,content:p.Z.t("time_record_clean")},{name:r.z.GANTT_RECORD_DETAIL,content:p.Z.t("expand_row")},{name:r.z.GANTT_TIME_SET,content:p.Z.t("time_line_set")},{name:r.z.GANTT_RECORD_DELETE,content:p.Z.t("record_del")}],$=[{name:r.z.GANTT_TIME_RECORD_CLEAN,content:p.Z.t("time_record_clean"),contextmenuType:i.GanttRecord},{name:r.z.GANTT_RECORD_DETAIL,content:p.Z.t("expand_row"),contextmenuType:i.GanttRecord},{name:r.z.GANTT_TIME_SET,content:p.Z.t("time_line_set"),contextmenuType:i.GanttRecord},{name:r.z.GANTT_RECORD_DELETE,content:p.Z.t("record_del"),contextmenuType:i.GanttRecord}],ee=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/gantt-record-operation/gantt-record-operation.interface.js"),te=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/gantt-setting/gantt-setting.interface.js"),ne=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/pc/index.interface.js"),ie=n("../node_modules/@tencent/xtable-render/es/views/gantt/utils/get-action-target/index.js"),oe=function(){function e(e,t,n,i,o){this.ganttRecordOperationServiceLoader=e,this.ganttSettingServiceLoader=t,this.ganttSettingFeatureLoader=n,this.recordDetailServiceLoader=i,this.customizedContextmenuFeature=o}var t=e.prototype;return t.ganttTimeClean=function(e){var t=this.getRecordIdByContextmenu(e);t&&this.ganttSettingService.timeRecordClean(e,t)},t.handleRecordDetail=function(e){var t=this.getRecordIdByContextmenu(e);if(t){this.recordDetailService.showDrawer(t);var n=e.getCurrentView();J.n.expandRecordByContextmenu(n.type)}},t.handleDeleteRecord=function(e){var t=this.getRecordIdByContextmenu(e);t&&this.ganttRecordOperationService.deleteRecord(e,t)},t.showDrawer=function(){this.ganttSettingFeature.showDrawer()},t.getRecordIdByContextmenu=function(e){var t=e.getRenderer().getView(),n=t.getCollector(),i=t.getTimeline().layout.size,o=this.customizedContextmenuFeature.getCurrentContextmenuOffset();return(0,ie.Ct)(o.y,n,i)},(0,d.Z)(e,[{key:"ganttRecordOperationService",get:function(){return this.ganttRecordOperationServiceLoader.instance}},{key:"ganttSettingService",get:function(){return this.ganttSettingServiceLoader.instance}},{key:"recordDetailService",get:function(){return this.recordDetailServiceLoader.instance}},{key:"ganttSettingFeature",get:function(){return this.ganttSettingFeatureLoader.instance}}]),e}();(0,c.__decorate)([(0,_.x)(o.BV.GANTT_TIME_RECORD_CLEAN,"onClick"),(0,b.v)(r.z.GANTT_TIME_RECORD_CLEAN,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],oe.prototype,"ganttTimeClean",null),(0,c.__decorate)([(0,_.x)(o.BV.GANTT_RECORD_DETAIL,"onClick"),(0,b.v)(r.z.GANTT_RECORD_DETAIL,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],oe.prototype,"handleRecordDetail",null),(0,c.__decorate)([(0,_.x)(o.BV.GANTT_RECORD_DELETE,"onClick"),(0,b.v)(r.z.GANTT_RECORD_DELETE,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],oe.prototype,"handleDeleteRecord",null),(0,c.__decorate)([(0,_.x)(o.BV.GANTT_TIME_SET,"onClick"),(0,b.v)(r.z.GANTT_TIME_SET,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],oe.prototype,"showDrawer",null),oe=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],menuItems:q,contextMenuItems:$}),(0,c.__param)(0,(0,T.aN)(ee.b)),(0,c.__param)(1,(0,T.aN)(te.BS)),(0,c.__param)(2,(0,T.aN)(te.lL)),(0,c.__param)(3,(0,T.aN)(ne.tM)),(0,c.__param)(4,(0,T.tB)(m)),(0,c.__metadata)("design:paramtypes",[Object,Object,Object,Object,Object])],oe);var re=[{name:s.Ce.GANTT_SETTING,type:"text",text:p.Z.t("gantt_setting"),hasArrow:!1,tooltip:p.Z.t("gantt_setting"),icon:R().createElement("img",{src:O}),style:{width:"auto",padding:"0 4px"},viewTypes:[L.bW.GANTT]}],se=function(){function e(e){this.loader=e}return e.prototype.handleMenuClick=function(){this.ganttSettingFeature.toggleDrawer()},(0,d.Z)(e,[{key:"ganttSettingFeature",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.GANTT_SETTING,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],se.prototype,"handleMenuClick",null),se=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],toolbarItems:re}),(0,c.__param)(0,(0,T.aN)(te.lL)),(0,c.__metadata)("design:paramtypes",[Object])],se);var ae=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/group-report.service.js"),le=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/styles/menu.module.css"),de="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9zbWFydHNoZWV0X2dyb3VwPC90aXRsZT4KICAgIDxnIGlkPSJQQ+aZuuiDveihqOagvOS4u+mhtemdoiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWIl+ihqOeKtuaAgSZhbXA75Zu+5qCH6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU0MC4wMDAwMDAsIC02NDAuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLlm77moIciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDAuMDAwMDAwLCA1ODIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgNTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9ImJnIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuNSwxMyBDMTkuNzc2MTQyNCwxMyAyMCwxMy4xODI3MDczIDIwLDEzLjQwODA4ODIgTDIwLDE4LjE0MTkxMTggQzIwLDE4LjM2NzI5MjcgMTkuNzc2MTQyNCwxOC41NSAxOS41LDE4LjU1IEw5LjUsMTguNTUgQzkuMjIzODU3NjMsMTguNTUgOSwxOC4zNjcyOTI3IDksMTguMTQxOTExOCBMOSwxMy40MDgwODgyIEM5LDEzLjE4MjcwNzMgOS4yMjM4NTc2MywxMyA5LjUsMTMgTDE5LjUsMTMgWiBNNC4yLDEzIEM0LjI0Njc4NzMsMTMgNC4yOTIwOTM4OCwxMy4wMTY0MDMyIDQuMzI4MDM2ODgsMTMuMDQ2MzU1NyBMNy40MTU2MjY4OSwxNS42MTkzNDc0IEM3LjUwMDQ4MjI3LDE1LjY5MDA2MDIgNy41MTE5NDcwOSwxNS44MTYxNzMyIDcuNDQxMjM0MjcsMTUuOTAxMDI4NiBMNy40MTU2MjY4OSwxNS45MjY2MzU5IEw0LjMyODAzNjg4LDE4LjQ5OTYyNzYgQzQuMjQzMTgxNSwxOC41NzAzNDA0IDQuMTE3MDY4NTYsMTguNTU4ODc1NiA0LjA0NjM1NTc0LDE4LjQ3NDAyMDIgQzQuMDE2NDAzMjQsMTguNDM4MDc3MiA0LDE4LjM5Mjc3MDcgNCwxOC4zNDU5ODM0IEw0LDEzLjIgQzQsMTMuMDg5NTQzMSA0LjA4OTU0MzA1LDEzIDQuMiwxMyBaIE0xOC42LDE0LjQgTDEwLjQsMTQuNCBMMTAuNCwxNy4xNSBMMTguNiwxNy4xNSBMMTguNiwxNC40IFogTTE5LjUsNSBDMTkuNzc2MTQyNCw1IDIwLDUuMTgyNzA3MzMgMjAsNS40MDgwODgyNCBMMjAsMTAuMTQxOTExOCBDMjAsMTAuMzY3MjkyNyAxOS43NzYxNDI0LDEwLjU1IDE5LjUsMTAuNTUgTDkuNSwxMC41NSBDOS4yMjM4NTc2MywxMC41NSA5LDEwLjM2NzI5MjcgOSwxMC4xNDE5MTE4IEw5LDUuNDA4MDg4MjQgQzksNS4xODI3MDczMyA5LjIyMzg1NzYzLDUgOS41LDUgTDE5LjUsNSBaIE00LjIsNSBDNC4yNDY3ODczLDUgNC4yOTIwOTM4OCw1LjAxNjQwMzI0IDQuMzI4MDM2ODgsNS4wNDYzNTU3NCBMNy40MTU2MjY4OSw3LjYxOTM0NzQyIEM3LjUwMDQ4MjI3LDcuNjkwMDYwMjQgNy41MTE5NDcwOSw3LjgxNjE3MzE4IDcuNDQxMjM0MjcsNy45MDEwMjg1NiBMNy40MTU2MjY4OSw3LjkyNjYzNTkzIEw0LjMyODAzNjg4LDEwLjQ5OTYyNzYgQzQuMjQzMTgxNSwxMC41NzAzNDA0IDQuMTE3MDY4NTYsMTAuNTU4ODc1NiA0LjA0NjM1NTc0LDEwLjQ3NDAyMDIgQzQuMDE2NDAzMjQsMTAuNDM4MDc3MiA0LDEwLjM5Mjc3MDcgNCwxMC4zNDU5ODM0IEw0LDUuMiBDNCw1LjA4OTU0MzA1IDQuMDg5NTQzMDUsNSA0LjIsNSBaIE0xOC42LDYuNCBMMTAuNCw2LjQgTDEwLjQsOS4xNSBMMTguNiw5LjE1IEwxOC42LDYuNCBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjNDY0RDVBIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",ce=[{name:s.Ce.GROUP,type:"text",text:p.Z.t("group"),hasArrow:!1,tooltip:p.Z.t("group"),icon:R().createElement("img",{src:de}),style:{width:"auto",padding:"0 4px"},viewTypes:[L.bW.GRID,L.bW.GANTT]}],ue=p.Z.t("group_by_col"),he=[{name:r.z.GROUP,content:ue}],ge=[{name:o.BV.GROUP,content:ue,contextmenuType:i.Field}],fe=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/group/group.interface.js"),me=n("../node_modules/@tencent/xtable-core/es/model/view/utils/type-guard/group.js"),pe=function(){function e(e){this.loader=e}var t=e.prototype;return t.getTextOfButton=function(e){var t=this.getGroupInfosCount(e),n=t>0?"："+p.Z.t("condition_count",{count:t}):"";return""+p.Z.t("group")+n},t.shouldCheck=function(e){return this.getGroupInfosCount(e)>0},t.shouldDisabled=function(e){var t,n=null===(t=D(e))||void 0===t?void 0:t[0];return(!n||!this.groupService.isFieldSetting(n))&&!this.groupService.isConditionAddable()},t.setMenuContent=function(e){var t=D(e);if(0===t.length)return ue;var n,i=t[0];return n=this.groupService.isFieldSetting(i)?p.Z.t("cancel_group_by_col"):p.Z.t("group_by_col"),R().createElement("p",{className:le.Z.titleGroup},R().createElement("span",{className:le.Z.titleLimit},n))},t.handleGroup=function(e){var t,n=null===(t=D(e))||void 0===t?void 0:t[0];n&&(this.groupService.handleMenuClick({fieldId:n,desc:!1}),this.groupService.showDrawer(),h.A.groupByContextmenu())},t.toggleDrawer=function(){ae.T.clickGroup(),this.groupService.toggleDrawer()},t.getGroupInfosCount=function(e){var t,n=null===e||void 0===e?void 0:e.getCurrentView();return n&&(0,me.r)(n)&&null!==(t=null===n||void 0===n?void 0:n.getGroupInfos().length)&&void 0!==t?t:0},(0,d.Z)(e,[{key:"groupService",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.GROUP,"text"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],pe.prototype,"getTextOfButton",null),(0,c.__decorate)([(0,F.o)(s.Ce.GROUP,"shouldCheck"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],pe.prototype,"shouldCheck",null),(0,c.__decorate)([(0,_.x)(o.BV.GROUP,"shouldDisabled"),(0,b.v)(r.z.GROUP,"shouldDisabled"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",Boolean)],pe.prototype,"shouldDisabled",null),(0,c.__decorate)([(0,_.x)(o.BV.GROUP,"content"),(0,b.v)(r.z.GROUP,"content"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],pe.prototype,"setMenuContent",null),(0,c.__decorate)([(0,_.x)(o.BV.GROUP,"onClick"),(0,b.v)(r.z.GROUP,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],pe.prototype,"handleGroup",null),(0,c.__decorate)([(0,F.o)(s.Ce.GROUP,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],pe.prototype,"toggleDrawer",null),pe=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],menuItems:he,toolbarItems:ce,contextMenuItems:ge}),(0,c.__param)(0,(0,T.aN)(fe.fM)),(0,c.__metadata)("design:paramtypes",[Object])],pe);var ve=[{name:s.Ce.KANBAN_GROUP_BY,type:"text",text:p.Z.t("group_by"),hasArrow:!1,tooltip:p.Z.t("group_by"),icon:R().createElement("img",{src:de}),style:{width:"auto",padding:"0 4px"},viewTypes:[L.bW.KANBAN]}],Ie=p.Z.t("group_by"),ye=[{name:r.z.KANBAN_GROUP_BY,content:Ie}],_e=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/kanban-group-by/kanban-group-by.interface.js"),be=function(){function e(e){this.loader=e}var t=e.prototype;return t.getGroupByName=function(e){var t,n,i=null===(t=e.getCurrentView())||void 0===t?void 0:t.getGroupInfos();if(!i||0===i.length)return p.Z.t("group_by");var o=i[0].fieldId,r=null===(n=e.getCurrentTable())||void 0===n?void 0:n.getFieldByFieldId(o);return r?p.Z.t("group_by")+"："+(null===r||void 0===r?void 0:r.getTitle()):p.Z.t("group_by")},t.shouldCheckGroupBy=function(e){var t,n=null===(t=e.getCurrentView())||void 0===t?void 0:t.getGroupInfos();return!(!n||0===n.length)},t.showGroupByDropdown=function(){U.m.clickGroupByBtn(L.bW.KANBAN),this.kanbanGroupByFeature.showGroupByDropdown()},(0,d.Z)(e,[{key:"kanbanGroupByFeature",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,b.v)(r.z.KANBAN_GROUP_BY,"content"),(0,F.o)(s.Ce.KANBAN_GROUP_BY,"text"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],be.prototype,"getGroupByName",null),(0,c.__decorate)([(0,F.o)(s.Ce.KANBAN_GROUP_BY,"shouldCheck"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],be.prototype,"shouldCheckGroupBy",null),(0,c.__decorate)([(0,F.o)(s.Ce.KANBAN_GROUP_BY,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],be.prototype,"showGroupByDropdown",null),be=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],menuItems:ye,toolbarItems:ve}),(0,c.__param)(0,(0,T.aN)(_e.a)),(0,c.__metadata)("design:paramtypes",[Object])],be);var Me=[{name:s.Ce.INSERT_RECORD,type:"text",text:p.Z.t("add_1_row"),hasArrow:!1,tooltip:p.Z.t("add_1_row"),icon:R().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9hZGQ8L3RpdGxlPgogICAgPGcgaWQ9IlBDIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5o+S5YWlIj4KICAgICAgICAgICAgPGcgaWQ9Iui3r+W+hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMy4wMDAwMDAsIDMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSLmpK3lnIblvaIiIHN0cm9rZT0iIzQ2NEQ1QSIgc3Ryb2tlLXdpZHRoPSIxLjI1IiBjeD0iOSIgY3k9IjkiIHI9IjguMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBmaWxsPSIjNDQ0RDVCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iOS42MSA1IDkuNjEgOC4zNjkgMTMgOC4zNyAxMyA5LjYyIDkuNjEgOS42MTkgOS42MSAxMyA4LjM2IDEzIDguMzYgOS42MTkgNSA5LjYyIDUgOC4zNyA4LjM2IDguMzY5IDguMzYgNSI+PC9wb2x5Z29uPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLDMgQzE2Ljk3MDU2MjcsMyAyMSw3LjAyOTQzNzI1IDIxLDEyIEMyMSwxNi45NzA1NjI3IDE2Ljk3MDU2MjcsMjEgMTIsMjEgQzcuMDI5NDM3MjUsMjEgMywxNi45NzA1NjI3IDMsMTIgQzMsNy4wMjk0MzcyNSA3LjAyOTQzNzI1LDMgMTIsMyBaIE0xMiw0LjI1IEM3LjcxOTc5MzE5LDQuMjUgNC4yNSw3LjcxOTc5MzE5IDQuMjUsMTIgQzQuMjUsMTYuMjgwMjA2OCA3LjcxOTc5MzE5LDE5Ljc1IDEyLDE5Ljc1IEMxNi4yODAyMDY4LDE5Ljc1IDE5Ljc1LDE2LjI4MDIwNjggMTkuNzUsMTIgQzE5Ljc1LDcuNzE5NzkzMTkgMTYuMjgwMjA2OCw0LjI1IDEyLDQuMjUgWiBNMTIuNjEsOCBMMTIuNjEsMTEuMzY5IEwxNiwxMS4zNyBMMTYsMTIuNjIgTDEyLjYxLDEyLjYxOSBMMTIuNjEsMTYgTDExLjM2LDE2IEwxMS4zNiwxMi42MTkgTDgsMTIuNjIgTDgsMTEuMzcgTDExLjM2LDExLjM2OSBMMTEuMzYsOCBMMTIuNjEsOCBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjNDY0RDVBIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",style:{width:20,height:20}}),style:{width:"auto",padding:"0 4px"},viewTypes:[L.bW.GRID,L.bW.GALLERY,L.bW.GANTT,L.bW.GANTT]}],Ce=[{name:r.z.RECORD_DETAIL,content:p.Z.t("expand_row")},{name:r.z.RECORD_INSERT_TOP,content:p.Z.t("insert_1_row_above")},{name:r.z.RECORD_INSERT_BOTTOM,content:p.Z.t("insert_1_row_below")},{name:r.z.RECORD_COPY,content:p.Z.t("record_copy")},{name:r.z.RECORD_DELETE,content:p.Z.t("record_del")}],we=[{name:o.BV.RECORD_DETAIL,content:p.Z.t("expand_row"),contextmenuType:i.Record},{name:o.BV.RECORD_INSERT_TOP,content:p.Z.t("insert_1_row_above"),contextmenuType:i.Record},{name:o.BV.RECORD_INSERT_BOTTOM,content:p.Z.t("insert_1_row_below"),contextmenuType:i.Record},{name:o.BV.RECORD_COPY,content:p.Z.t("record_copy"),contextmenuType:i.Record},{name:o.BV.RECORD_DELETE,content:p.Z.t("record_del"),contextmenuType:i.Record}],Te=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/record-operation/record-operation.interface.jsx"),Ee=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),je=n("../node_modules/@tencent/xtable-render/es/views/gallery/utils/scroll.js"),Ae=n("../node_modules/@tencent/xtable-render/es/views/kanban/utils/scroll.js"),xe=function(){function e(e,t,n){this.loader=e,this.recordDetailService=t,this.behaviorApplyService=n}var t=e.prototype;return t.handleInsertFirstRecord=function(e){this.recordOperationService.insertFirstRecord(e)},t.getInsertFirstRecordText=function(e){var t;return(null===(t=e.getCurrentView())||void 0===t?void 0:t.type)===L.bW.GALLERY?p.Z.t("add_1_record"):p.Z.t("add_1_row")},t.getInsertFirstRecordTooltip=function(e){var t;return(null===(t=e.getCurrentView())||void 0===t?void 0:t.type)===L.bW.GALLERY?p.Z.t("add_1_record"):p.Z.t("add_1_row")},t.handleInsertRecord=function(e,t){var n=De(e);if(0!==n.length){var i,r=n[0],s=e.getCurrentView(),a=s.getRecordIndexFromAllRecordIds(r);if(t.name===o.BV.RECORD_INSERT_BOTTOM&&(a+=1),s.type===L.bW.GRID||s.type===L.bW.GANTT){var l=s.getDisplayedRecordIds().indexOf(r);i=s.getGroupPathByRecordVisibleIndex(l)}else s.type===L.bW.KANBAN&&(i=function(e){return e.getRenderer().getView().getCollector().state.getContextMenuActivePoint().groupPath}(e));this.recordOperationService.insertRecord(e,a,i),J.n.insertByContextmenu(t.name===o.BV.RECORD_INSERT_TOP,s.type)}},t.handleRecordDetail=function(e){var t=e.getCurrentView(),n=De(e);0!==n.length&&(this.recordDetailService.instance.showDrawer(n[0]),J.n.expandRecordByContextmenu(t.type))},t.handleDeleteRecord=function(e){var t=e.getCurrentView(),n=De(e);Ee.k.debug("RecordOperationController|handleDeleteRecord",n),e.getBehaviorApi().deleteRecord({recordIds:n,tableId:e.getCurrentTable().id,viewId:e.getCurrentView().id}),e.rangeModel.resetSelection(),J.n.deleteByContextmenu(t.type)},t.handleCopyRecord=function(e){var t,n=e.getCurrentView(),i=e.getRenderer().getView(),o=De(e);if(0!==o.length){var r=o[0],s=e.getBehaviorApi().copyRecord({recordId:r,tableId:e.getCurrentTable().id,viewId:e.getCurrentView().id});s.isSuccess&&(null===(t=s.data)||void 0===t?void 0:t.recordId)&&(i.getType()===L.bW.KANBAN||i.getType()===L.bW.GALLERY)&&(i.getCollector().state.setActiveRecordId(s.data.recordId),e.getRenderer().emitter.service.expandRow.fire({recordId:s.data.recordId}),i.getType()===L.bW.KANBAN?(0,Ae.$)(s.data.recordId,e):i.getType()===L.bW.GALLERY&&(0,je.$)(s.data.recordId,e)),this.behaviorApplyService.instance.handleMutationError(s),J.n.copyByContextmenu(n.type)}},t.shouldDisabled=function(e){return e.floatState.isShow()},t.shouldHide=function(e){return De(e).length>1},t.getInsertTopContent=function(e){var t,n;return(null===(t=e.getCurrentView())||void 0===t?void 0:t.type)===L.bW.KANBAN?p.Z.t("insert_1_card_above"):(null===(n=e.getCurrentView())||void 0===n?void 0:n.type)===L.bW.GALLERY?p.Z.t("insert_1_card_left"):p.Z.t("insert_1_row_above")},t.getInsertBottomContent=function(e){var t,n;return(null===(t=e.getCurrentView())||void 0===t?void 0:t.type)===L.bW.KANBAN?p.Z.t("insert_1_card_below"):(null===(n=e.getCurrentView())||void 0===n?void 0:n.type)===L.bW.GALLERY?p.Z.t("insert_1_card_right"):p.Z.t("insert_1_row_below")},t.getDeleteRecordContent=function(e){var t=De(e);return 1===t.length?p.Z.t("record_del"):p.Z.t("selected_records_del",{count:t.length})},t.getCopyRecordContent=function(){return p.Z.t("record_copy")},t.getCardExpandContent=function(){return p.Z.t("expand_row")},(0,d.Z)(e,[{key:"recordOperationService",get:function(){return this.loader.instance}}]),e}();function De(e){var t=e.getCurrentView(),n=e.getRenderer().getView();return t&&n?n.getType()===L.bW.KANBAN||n.getType()===L.bW.GALLERY?[n.getCollector().state.getContextMenuActivePoint().recordId]:function(e,t){var n=e.floatState.getPosition();if(n)return[n.recordId];var i=t.getDisplayedRecordIds(),o=e.rangeModel.getCurrentSelection();if(o.isColumnSelection())return(0,a.Z)(i);if(o.isRowSelection()){var r=o.getRanges(),s=[];return r.forEach((function(e){for(var t=e.startRow;t<=e.endRow;t++)s.push(i[t])})),s}if(o.isRangeSelection()){var l=o.getRanges();if(!l)return[];for(var d=[],c=l.startRow;c<=l.endRow;c++)d.push(i[c]);return d}return[]}(e,t):[]}(0,c.__decorate)([(0,F.o)(s.Ce.INSERT_RECORD,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"handleInsertFirstRecord",null),(0,c.__decorate)([(0,F.o)(s.Ce.INSERT_RECORD,"text"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"getInsertFirstRecordText",null),(0,c.__decorate)([(0,F.o)(s.Ce.INSERT_RECORD,"tooltip"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"getInsertFirstRecordTooltip",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_INSERT_TOP,"onClick"),(0,_.x)(o.BV.RECORD_INSERT_BOTTOM,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__param)(1,(0,C.g)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"handleInsertRecord",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_DETAIL,"onClick"),(0,b.v)(r.z.RECORD_DETAIL,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"handleRecordDetail",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_DELETE,"onClick"),(0,b.v)(r.z.RECORD_DELETE,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"handleDeleteRecord",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_COPY,"onClick"),(0,b.v)(r.z.RECORD_COPY,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"handleCopyRecord",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_INSERT_BOTTOM,"shouldDisabled"),(0,_.x)(o.BV.RECORD_INSERT_TOP,"shouldDisabled"),(0,_.x)(o.BV.RECORD_COPY,"shouldDisabled"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"shouldDisabled",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_COPY,"shouldHide"),(0,_.x)(o.BV.RECORD_INSERT_BOTTOM,"shouldHide"),(0,_.x)(o.BV.RECORD_INSERT_TOP,"shouldHide"),(0,_.x)(o.BV.RECORD_DETAIL,"shouldHide"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"shouldHide",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_INSERT_TOP,"content"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"getInsertTopContent",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_INSERT_BOTTOM,"content"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"getInsertBottomContent",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_DELETE,"content"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"getDeleteRecordContent",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_COPY,"content"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"getCopyRecordContent",null),(0,c.__decorate)([(0,_.x)(o.BV.RECORD_DETAIL,"content"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],xe.prototype,"getCardExpandContent",null),xe=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],toolbarItems:Me,menuItems:Ce,contextMenuItems:we}),(0,c.__param)(0,(0,T.aN)(Te.aT)),(0,c.__param)(1,(0,T.aN)(ne.tM)),(0,c.__param)(2,(0,T.aN)(g.y)),(0,c.__metadata)("design:paramtypes",[Object,Object,Object])],xe),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.object.assign.js");var Se=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/row-height/config.jsx"),Ne=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/row-height/row-height.interface.js"),Re=n("../node_modules/@tencent/workbench/lib/esm/components/toolbar/common-dropdown/select-list/select-list.js"),Oe=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/row-height-report.service.js"),Le=function(){function e(e){this.loader=e}var t=e.prototype;return t.getIconOfButton=function(e){if(e){var t=e.getCurrentView(),n=t&&"getRowHeightLevel"in t&&t.getRowHeightLevel(),i=n?(0,Se.hV)(n):Se.SF.SHORT;return Se.Pc.find((function(e){return e.id===i})).icon}},t.handleRowHeight=function(){Oe.n.clickRowHeight()},t.rowHeightList=function(e){var t=this;if(!this.loader.isReady)return React.createElement(Re.E,null);var n=e.getCurrentView();if(!n||!("getRowHeightLevel"in n))return React.createElement(Re.E,null);var i={type:Re.R.Mix,style:{width:168},itemStyle:{fontSize:12},items:this.rowHeightService.getRowHeightListItems(),selected:this.rowHeightService.getCurrentRowHeightLevelId(),onChange:function(e){t.setRowHeight({size:e})}};return React.createElement(Re.E,Object.assign({},i))},t.setRowHeight=function(e){this.rowHeightService.setRowHeight(e.size)},(0,d.Z)(e,[{key:"rowHeightService",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.ROW_HEIGHT,"icon"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],Le.prototype,"getIconOfButton",null),(0,c.__decorate)([(0,F.o)(s.Ce.ROW_HEIGHT,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],Le.prototype,"handleRowHeight",null),(0,c.__decorate)([(0,F.o)(s.Ce.ROW_HEIGHT,"dropdownContent"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],Le.prototype,"rowHeightList",null),Le=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],toolbarItems:Se.OY}),(0,c.__param)(0,(0,T.aN)(Ne.Q)),(0,c.__metadata)("design:paramtypes",[Object])],Le);var ke=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/sort-report.service.js"),ze=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field.pc.interface.js"),Pe=[{name:s.Ce.SORT,type:"text",text:p.Z.t("sort"),hasArrow:!1,tooltip:p.Z.t("sort"),icon:R().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT50b29sYmFyX3NvcnQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0idG9vbGJhcl9zb3J0IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICA8ZyBpZD0i57yW57uELTIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1LjAwMDAwMCwgNS4wMDAwMDApIiBmaWxsPSIjNDY0RDVBIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hC0xMCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uELTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAwLjQwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjNDY0RDVBIiBzdHJva2Utd2lkdGg9IjAuMjUiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAwLjMwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNC4xNiwxMS41OSBMMS43MywxMS41OSBMMS4xMywxMy4zIEw3Ljk5MzYwNTc4ZS0xNSwxMy4zIEwyLjMzLDcuMyBMMy42LDcuMyBMNS45MiwxMy4zIEw0Ljc1LDEzLjMgTDQuMTYsMTEuNTkgWiBNMy45LDEwLjg1IEwzLjYsMTAuMDQgQzMuMzYsOS4zOSAzLjE1LDguNzIgMi45Myw4LjA0IEwyLjkzLDguMDQgQzIuNzMsOC43MyAyLjUxLDkuMzkgMi4yOCwxMC4wNCBMMS45OSwxMC44NSBMMy45LDEwLjg1IFoiIGlkPSLlvaLnirblpIfku70iPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9Iui3r+W+hOWkh+S7vSIgcG9pbnRzPSIwLjI4IDUuNDMgNC4xMSAwLjggMC42IDAuOCAwLjYgMCA1LjYgMCA1LjYgMC41NyAxLjc3IDUuMiA1LjYgNS4yIDUuNiA2IDAuMjggNiI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMS41LDAuMiBMMTQsNC4yIEwxMi4xNDksNC4xOTkgTDEyLjE1LDE0LjMgTDEwLjg1LDE0LjMgTDEwLjg0OSw0LjE5OSBMOSw0LjIgTDExLjUsMC4yIFoiIGlkPSLlvaLnirbnu5PlkIgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExLjUwMDAwMCwgNy4yNTAwMDApIHNjYWxlKDEsIC0xKSB0cmFuc2xhdGUoLTExLjUwMDAwMCwgLTcuMjUwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"}),style:{width:"auto",padding:"0 4px"}}],Fe=[{name:r.z.SORT_ASCEND,content:""},{name:r.z.SORT_DESCEND,content:""}],Ue=[{name:o.BV.SORT_ASCEND,content:"",contextmenuType:i.Field},{name:o.BV.SORT_DESCEND,content:"",contextmenuType:i.Field}],Be=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/sort/sort-condition.js"),We=function(e){var t=e.desc,n=e.fieldFeatureHelper.getSortOrderInfo()[(0,Be.jK)(t)].menuText;return"string"===typeof n?React.createElement("span",null,p.Z.t("sort_by_menu_text",{menuText:n})):n},Ge=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/sort/sort.interface.js"),Ze=function(){function e(e,t){this.loader=e,this.fieldServiceLoader=t}var t=e.prototype;return t.getTextOfButton=function(e){var t=this.getSortInfosCount(e),n=t>0?"："+p.Z.t("condition_count",{count:t}):"";return""+p.Z.t("sort")+n},t.setMenuContent=function(e,t){if(!this.fieldServiceLoader.loaded)return null;var n=t.name,i=D(e)[0];if(!i)return null;var r=e.getCurrentTable().getFieldByFieldId(i).getType(),s=this.fieldService.getFieldFeature(r);return R().createElement(We,{desc:n===o.BV.SORT_DESCEND,fieldFeatureHelper:s})},t.shouldCheck=function(e){return this.getSortInfosCount(e)>0},t.handleSort=function(e,t){var n=t.name,i=D(e);if(0!==i.length){var r=i[0],s={desc:n===o.BV.SORT_DESCEND,fieldId:r};this.sortService.handleMenuClick(s),this.sortService.showDrawer(),n===o.BV.SORT_DESCEND?h.A.reverseOrderByContextmenu():n===o.BV.SORT_ASCEND&&h.A.orderByContextmenu()}},t.toggleDrawer=function(){ke.y.clickSort(),this.sortService.toggleDrawer()},t.getSortInfosCount=function(e){var t,n,i=null===(t=null===e||void 0===e?void 0:e.getCurrentView())||void 0===t?void 0:t.properties;return(null===i||void 0===i?void 0:i.isAutoSort)&&null!==(n=null===i||void 0===i?void 0:i.sortInfos.length)&&void 0!==n?n:0},(0,d.Z)(e,[{key:"sortService",get:function(){return this.loader.instance}},{key:"fieldService",get:function(){return this.fieldServiceLoader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.SORT,"text"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],Ze.prototype,"getTextOfButton",null),(0,c.__decorate)([(0,_.x)(o.BV.SORT_ASCEND,"content"),(0,_.x)(o.BV.SORT_DESCEND,"content"),(0,b.v)(r.z.SORT_ASCEND,"content"),(0,b.v)(r.z.SORT_DESCEND,"content"),(0,c.__param)(0,(0,M.M)()),(0,c.__param)(1,(0,C.g)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object]),(0,c.__metadata)("design:returntype",void 0)],Ze.prototype,"setMenuContent",null),(0,c.__decorate)([(0,F.o)(s.Ce.SORT,"shouldCheck"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],Ze.prototype,"shouldCheck",null),(0,c.__decorate)([(0,_.x)(o.BV.SORT_ASCEND,"onClick"),(0,_.x)(o.BV.SORT_DESCEND,"onClick"),(0,b.v)(r.z.SORT_ASCEND,"onClick"),(0,b.v)(r.z.SORT_DESCEND,"onClick"),(0,c.__param)(0,(0,M.M)()),(0,c.__param)(1,(0,C.g)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object]),(0,c.__metadata)("design:returntype",void 0)],Ze.prototype,"handleSort",null),(0,c.__decorate)([(0,F.o)(s.Ce.SORT,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],Ze.prototype,"toggleDrawer",null),Ze=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],menuItems:Fe,toolbarItems:Pe,contextMenuItems:Ue}),(0,c.__param)(0,(0,T.aN)(Ge.sY)),(0,c.__param)(1,(0,T.aN)(ze.Y)),(0,c.__metadata)("design:paramtypes",[Object,Object])],Ze);var He=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/stat/stat-tools.interface.js"),Ye=[{name:s.Ce.STAT,type:"text",text:p.Z.t("field_stat"),hasArrow:!1,tooltip:p.Z.t("field_stat"),icon:R().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9zbWFydHNoZWV0X3N0YXRpc3RpY3M8L3RpdGxlPgogICAgPGcgaWQ9IlBDIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uEIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTgsNCBDMTguNTUyMjg0Nyw0IDE5LDQuNDQ3NzE1MjUgMTksNSBMMTksMTkgQzE5LDE5LjU1MjI4NDcgMTguNTUyMjg0NywyMCAxOCwyMCBMNiwyMCBDNS40NDc3MTUyNSwyMCA1LDE5LjU1MjI4NDcgNSwxOSBMNSw1IEM1LDQuNDQ3NzE1MjUgNS40NDc3MTUyNSw0IDYsNCBMMTgsNCBaIE0xNy42OTksOS4yNSBMNi4zLDkuMjUgTDYuMywxOC43IEwxNy43LDE4LjcgTDE3LjY5OSw5LjI1IFogTTEwLDE1IEMxMC41NTIyODQ3LDE1IDExLDE1LjQ0NzcxNTMgMTEsMTYgQzExLDE2LjU1MjI4NDcgMTAuNTUyMjg0NywxNyAxMCwxNyBDOS40NDc3MTUyNSwxNyA5LDE2LjU1MjI4NDcgOSwxNiBDOSwxNS40NDc3MTUzIDkuNDQ3NzE1MjUsMTUgMTAsMTUgWiBNMTQsMTUgQzE0LjU1MjI4NDcsMTUgMTUsMTUuNDQ3NzE1MyAxNSwxNiBDMTUsMTYuNTUyMjg0NyAxNC41NTIyODQ3LDE3IDE0LDE3IEMxMy40NDc3MTUzLDE3IDEzLDE2LjU1MjI4NDcgMTMsMTYgQzEzLDE1LjQ0NzcxNTMgMTMuNDQ3NzE1MywxNSAxNCwxNSBaIE0xMCwxMSBDMTAuNTUyMjg0NywxMSAxMSwxMS40NDc3MTUzIDExLDEyIEMxMSwxMi41NTIyODQ3IDEwLjU1MjI4NDcsMTMgMTAsMTMgQzkuNDQ3NzE1MjUsMTMgOSwxMi41NTIyODQ3IDksMTIgQzksMTEuNDQ3NzE1MyA5LjQ0NzcxNTI1LDExIDEwLDExIFogTTE0LDExIEMxNC41NTIyODQ3LDExIDE1LDExLjQ0NzcxNTMgMTUsMTIgQzE1LDEyLjU1MjI4NDcgMTQuNTUyMjg0NywxMyAxNCwxMyBDMTMuNDQ3NzE1MywxMyAxMywxMi41NTIyODQ3IDEzLDEyIEMxMywxMS40NDc3MTUzIDEzLjQ0NzcxNTMsMTEgMTQsMTEgWiBNMTcuNyw1LjMgTDYuMyw1LjMgTDYuMyw4IEwxNy42OTksOCBMMTcuNyw1LjMgWiIgaWQ9IuW9oueKtue7k+WQiCIgZmlsbD0iIzQ2NEQ1QSIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="}),style:{width:"auto",padding:"0 4px"},viewTypes:He.u}],Ve=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/stat-report.service.js"),Qe=function(){function e(e){this.loader=e}var t=e.prototype;return t.toggleStatStatus=function(){Ve.u.clcikStatistics(),this.statToolsService.toggleFieldStatStatus()},t.shouldCheck=function(e){var t;return!!(null===(t=null===e||void 0===e?void 0:e.getCurrentView())||void 0===t?void 0:t.isFieldStatEnabled())},(0,d.Z)(e,[{key:"statToolsService",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.STAT,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],Qe.prototype,"toggleStatStatus",null),(0,c.__decorate)([(0,F.o)(s.Ce.STAT,"shouldCheck"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],Qe.prototype,"shouldCheck",null),Qe=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],toolbarItems:Ye}),(0,c.__param)(0,(0,T.aN)(He.r)),(0,c.__metadata)("design:paramtypes",[Object])],Qe);var Ke=[{name:s.Ce.TABLE_DESCRIPTION,type:"text",text:p.Z.t("table_description"),hasArrow:!1,tooltip:p.Z.t("table_description"),icon:R().createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC45Mzc4IDE1LjE2MUwxNi40OTk4IDE2LjIwMDNWNi43NjUzNkwxNC45MjQ0IDcuNzkwMjhDMTQuNjc4MyA3Ljk1MDM5IDE0LjQwMTQgOC4wNTcxMiAxNC4xMTE1IDguMTAzNTdMNS40OTk3NiA5LjQ4MzVWMTMuNDA1OEwxNC4xMTg3IDE0LjgzNzhDMTQuNDExNSAxNC44ODY0IDE0LjY5MDcgMTQuOTk2NiAxNC45Mzc4IDE1LjE2MVpNNS4wMDk4OSA4LjA0Mjg2TDEzLjg3NDEgNi42MjI0N0MxMy45NTcgNi42MDkyIDE0LjAzNjEgNi41Nzg3IDE0LjEwNjQgNi41MzI5NkwxNy4wNzI2IDQuNjAzMTlDMTcuNDcxNyA0LjM0MzUxIDE3Ljk5OTggNC42Mjk5NCAxNy45OTk4IDUuMTA2MTJWMTcuODgwMUMxNy45OTk4IDE4LjM1OSAxNy40NjYyIDE4LjY0NDkgMTcuMDY3NCAxOC4zNzk2TDE0LjEwNjkgMTYuNDA5OEMxNC4wMzYzIDE2LjM2MjkgMTMuOTU2NSAxNi4zMzE0IDEzLjg3MjggMTYuMzE3NUw1LjAwMzA5IDE0Ljg0MzlDNC40MjQxOCAxNC43NDc3IDMuOTk5NzYgMTQuMjQ2OSAzLjk5OTc2IDEzLjY2MDFWOS4yMjc3NUMzLjk5OTc2IDguNjM4MyA0LjQyNzg3IDguMTM2MTMgNS4wMDk4OSA4LjA0Mjg2WiIgZmlsbD0iIzQ0NEQ1QiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE5LjMyOTEgNy4zMzQ5N0MxOS4zMjkyIDcuMzM1MTIgMTkuMzI5MyA3LjMzNTI3IDIwLjAwMDEgNi45OTk4NkMyMC42NzA5IDYuNjY0NDUgMjAuNjcxIDYuNjY0NjIgMjAuNjcxMSA2LjY2NDhMMjAuNjcxNyA2LjY2NjEzTDIwLjY3MjkgNi42Njg1NkwyMC42NzY0IDYuNjc1NkwyMC42ODc0IDYuNjk4MzlDMjAuNjk2NiA2LjcxNzM5IDIwLjcwOTEgNi43NDM5OSAyMC43MjQ3IDYuNzc3ODFDMjAuNzU1NyA2Ljg0NTQyIDIwLjc5ODYgNi45NDIwMyAyMC44NDkzIDcuMDY0NjZDMjAuOTUwNyA3LjMwOTY5IDIxLjA4NDEgNy42NjAwMyAyMS4yMTY5IDguMDkxOEMyMS40ODE2IDguOTUxODkgMjEuNzUwMSAxMC4xNTM3IDIxLjc1MDEgMTEuNDk5OUMyMS43NTAxIDEyLjg0NjEgMjEuNDgxNiAxNC4wNDc4IDIxLjIxNjkgMTQuOTA3OUMyMS4wODQxIDE1LjMzOTcgMjAuOTUwNyAxNS42OSAyMC44NDkzIDE1LjkzNTFDMjAuNzk4NiAxNi4wNTc3IDIwLjc1NTcgMTYuMTU0MyAyMC43MjQ3IDE2LjIyMTlDMjAuNzA5MSAxNi4yNTU3IDIwLjY5NjYgMTYuMjgyMyAyMC42ODc0IDE2LjMwMTNMMjAuNjc2NCAxNi4zMjQxTDIwLjY3MjkgMTYuMzMxMkwyMC42NzE3IDE2LjMzMzZMMjAuNjcxMyAxNi4zMzQ1QzIwLjY3MTIgMTYuMzM0NyAyMC42NzA5IDE2LjMzNTMgMjAuMDAwMSAxNS45OTk5QzE5LjMyOTMgMTUuNjY0NSAxOS4zMjkyIDE1LjY2NDYgMTkuMzI5MSAxNS42NjQ4TDE5LjMzNTIgMTUuNjUyMkMxOS4zNDA3IDE1LjY0MDcgMTkuMzQ5NiAxNS42MjE5IDE5LjM2MTQgMTUuNTk2MkMxOS4zODUxIDE1LjU0NDYgMTkuNDIwMyAxNS40NjU1IDE5LjQ2MzMgMTUuMzYxNUMxOS41NDk0IDE1LjE1MzQgMTkuNjY2MSAxNC44NDc1IDE5Ljc4MzIgMTQuNDY2OEMyMC4wMTg2IDEzLjcwMTkgMjAuMjUwMSAxMi42NTM3IDIwLjI1MDEgMTEuNDk5OUMyMC4yNTAxIDEwLjM0NjEgMjAuMDE4NiA5LjI5NzgzIDE5Ljc4MzIgOC41MzI5M0MxOS42NjYxIDguMTUyMiAxOS41NDk0IDcuODQ2MjggMTkuNDYzMyA3LjYzODE5QzE5LjQyMDMgNy41MzQyNiAxOS4zODUxIDcuNDU1MDkgMTkuMzYxNCA3LjQwMzU2QzE5LjM0OTYgNy4zNzc4MSAxOS4zNDA3IDcuMzU4OTkgMTkuMzM1MiA3LjM0NzQ4TDE5LjMyOTEgNy4zMzQ5N1oiIGZpbGw9IiM0NDRENUIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjI0OTc2IDE2LjkzOVYxNUg3Ljc0OTc2VjE2LjgyMzhMMTIuMjQ5OCAxOC4wMjM4VjE1LjhIMTMuNzQ5OFYxOC4yMTlDMTMuNzQ5OCAxOS4xMDYgMTIuOTA5IDE5Ljc1MiAxMi4wNTE5IDE5LjUyMzVMNy4yNTE5MSAxOC4yNDM1QzYuNjYwOTQgMTguMDg1OSA2LjI0OTc2IDE3LjU1MDcgNi4yNDk3NiAxNi45MzlaIiBmaWxsPSIjNDQ0RDVCIi8+Cjwvc3ZnPgo="}),style:{width:"auto",padding:"0 4px"}}],Xe=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/table-description/pc/interface.pc.js"),Je=function(){function e(e){this.loader=e}var t=e.prototype;return t.getTooltip=function(e){return this.getVisible(e)?p.Z.t("table_description_hide"):p.Z.t("table_description_show")},t.handleInsertTableDescription=function(){this.tableDescriptionFeature.toggleTableDescriptionVisible()},t.shouldCheck=function(e){return this.getVisible(e)},t.getVisible=function(e){var t=e.getCore().tableDescriptionService,n=e.getCurrentTable();return!!n&&t.getTableDescriptionVisible(n)},(0,d.Z)(e,[{key:"tableDescriptionFeature",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.TABLE_DESCRIPTION,"tooltip"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",void 0)],Je.prototype,"getTooltip",null),(0,c.__decorate)([(0,F.o)(s.Ce.TABLE_DESCRIPTION,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],Je.prototype,"handleInsertTableDescription",null),(0,c.__decorate)([(0,F.o)(s.Ce.TABLE_DESCRIPTION,"shouldCheck"),(0,c.__param)(0,(0,M.M)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object]),(0,c.__metadata)("design:returntype",Boolean)],Je.prototype,"shouldCheck",null),Je=(0,c.__decorate)([(0,w.Q)({adapters:["xtable"],toolbarItems:Ke}),(0,c.__param)(0,(0,T.aN)(Xe.v)),(0,c.__metadata)("design:paramtypes",[Object])],Je);var qe=[{name:s.Ce.UNDO,hasArrow:!1,type:"icon",tooltip:p.Z.t("undo"),shortcut:{win:"Ctrl+Z",mac:"⌘+Z"},icon:R().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT50b29sYmFyX3VuZG88L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0idG9vbGJhcl91bmRvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uELTExIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgc3Ryb2tlPSIjOTc5Nzk3IiBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hC0xMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC4wMDAwMDAsIDQuNjI1MDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNCwzLjYyNSBMMTAsMy42MjUgQzEyLjc2MTQyMzcsMy42MjUgMTUsNS42MTM1NzYyNSAxNSw4LjM3NSBDMTUsMTEuMTM2NDIzNyAxMi43NjE0MjM3LDEzLjM3NSAxMCwxMy4zNzUgTDMsMTMuMzc1IiBpZD0i6Lev5b6EIiBzdHJva2U9IiM0NjRENUEiIHN0cm9rZS13aWR0aD0iMS4yNSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUsMC43NDczNjg1MyBMNSw2LjI3NTQ5OTE0IEM1LDYuMzg1OTU2MDkgNC45MTA0NTY5NSw2LjQ3NTQ5OTE0IDQuOCw2LjQ3NTQ5OTE0IEM0Ljc2NDM3MTk4LDYuNDc1NDk5MTQgNC43MjkzOTA2OSw2LjQ2NTk4MTg5IDQuNjk4NjczNTUsNi40NDc5MzE1OSBMMC4yNzYxNjkwNjMsMy44NDkxMzYwMiBDMC4xODA5MzcyNSwzLjc5MzE3NDk2IDAuMTQ5MTAyMDEsMy42NzA2MDg5MyAwLjIwNTA2MzA2NCwzLjU3NTM3NzExIEMwLjIyMDQ4MDQyOCwzLjU0OTE0MDU5IDAuMjQxNjgxNTU1LDMuNTI2NzY4MTggMC4yNjcwNTE5MzYsMy41MDk5NjM2IEw0LjY4OTU1NjQyLDAuNTgwNjI4NTY1IEM0Ljc4MTY0NDM2LDAuNTE5NjMyMjYxIDQuOTA1NzQzNjYsMC41NDQ4MzcwMTIgNC45NjY3Mzk5NywwLjYzNjkyNDk1MiBDNC45ODg0MzIxNywwLjY2OTY3NDMyMyA1LDAuNzA4MDg2NTYgNSwwLjc0NzM2ODUzIFoiIGlkPSLot6/lvoQiIGZpbGw9IiM0NjRENUEiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"})},{name:s.Ce.REDO,hasArrow:!1,type:"icon",tooltip:p.Z.t("redo"),shortcut:{win:"Ctrl+Y",mac:"⌘+Y"},icon:R().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT50b29sYmFyX3JlZG88L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0idG9vbGJhcl9yZWRvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uELTEx5aSH5Lu9IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMi4wMDAwMDAsIDEyLjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtMTIuMDAwMDAwLCAtMTIuMDAwMDAwKSAiPgogICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBzdHJva2U9IiM5Nzk3OTciIGZpbGw9IiNEOEQ4RDgiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PC9yZWN0PgogICAgICAgICAgICA8ZyBpZD0i57yW57uELTEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgNC42MjUwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00LDMuNjI1IEwxMCwzLjYyNSBDMTIuNzYxNDIzNywzLjYyNSAxNSw1LjYxMzU3NjI1IDE1LDguMzc1IEMxNSwxMS4xMzY0MjM3IDEyLjc2MTQyMzcsMTMuMzc1IDEwLDEzLjM3NSBMMywxMy4zNzUiIGlkPSLot6/lvoQiIHN0cm9rZT0iIzQ2NEQ1QSIgc3Ryb2tlLXdpZHRoPSIxLjI1Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNSwwLjc0NzM2ODUzIEw1LDYuMjc1NDk5MTQgQzUsNi4zODU5NTYwOSA0LjkxMDQ1Njk1LDYuNDc1NDk5MTQgNC44LDYuNDc1NDk5MTQgQzQuNzY0MzcxOTgsNi40NzU0OTkxNCA0LjcyOTM5MDY5LDYuNDY1OTgxODkgNC42OTg2NzM1NSw2LjQ0NzkzMTU5IEwwLjI3NjE2OTA2MywzLjg0OTEzNjAyIEMwLjE4MDkzNzI1LDMuNzkzMTc0OTYgMC4xNDkxMDIwMSwzLjY3MDYwODkzIDAuMjA1MDYzMDY0LDMuNTc1Mzc3MTEgQzAuMjIwNDgwNDI4LDMuNTQ5MTQwNTkgMC4yNDE2ODE1NTUsMy41MjY3NjgxOCAwLjI2NzA1MTkzNiwzLjUwOTk2MzYgTDQuNjg5NTU2NDIsMC41ODA2Mjg1NjUgQzQuNzgxNjQ0MzYsMC41MTk2MzIyNjEgNC45MDU3NDM2NiwwLjU0NDgzNzAxMiA0Ljk2NjczOTk3LDAuNjM2OTI0OTUyIEM0Ljk4ODQzMjE3LDAuNjY5Njc0MzIzIDUsMC43MDgwODY1NiA1LDAuNzQ3MzY4NTMgWiIgaWQ9Iui3r+W+hCIgZmlsbD0iIzQ2NEQ1QSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="})}],$e=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/undo-redo/undo-redo.interface.js"),et=function(){function e(e){this.loader=e}var t=e.prototype;return t.canUndo=function(){var e,t;return!this.loader.isReady||null===(t=null===(e=this.undoRedoFeature)||void 0===e?void 0:e.canUndo())||void 0===t||t},t.canRedo=function(){var e,t;return!this.loader.isReady||null===(t=null===(e=this.undoRedoFeature)||void 0===e?void 0:e.canRedo())||void 0===t||t},t.undo=function(){this.undoRedoFeature.undo()},t.redo=function(){this.undoRedoFeature.redo()},(0,d.Z)(e,[{key:"undoRedoFeature",get:function(){return this.loader.instance}}]),e}();(0,c.__decorate)([(0,F.o)(s.Ce.UNDO,"shouldDisabled"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],et.prototype,"canUndo",null),(0,c.__decorate)([(0,F.o)(s.Ce.REDO,"shouldDisabled"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],et.prototype,"canRedo",null),(0,c.__decorate)([(0,F.o)(s.Ce.UNDO,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],et.prototype,"undo",null),(0,c.__decorate)([(0,F.o)(s.Ce.REDO,"onClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],et.prototype,"redo",null),et=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],toolbarItems:qe}),(0,c.__param)(0,(0,T.aN)($e.V)),(0,c.__metadata)("design:paramtypes",[Object])],et);var tt=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),nt=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/view-report.service.js"),it=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/request-listener-manager.js"),ot=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/xtable-feature/index.js"),rt=n("../node_modules/@tencent/dui/lib/components/Input/index.js");function st(e){e.stopPropagation(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}var at=function(){function e(){this.isShowNameEditor=!1}var t=e.prototype;return t.getNameContent=function(){return this.isShowNameEditor?this.getNameEditor({onChange:this.changeName}):this.getNameText(e.itemHeight)},t.showNameEditor=function(){this.isShowNameEditor=!0},t.hideNameEditor=function(){this.isShowNameEditor=!1},t.getNameText=function(e){var t=this.getName(),n=this.getIcon();return R().createElement("div",{className:le.Z.menuItem},n,R().createElement("div",{className:le.Z.menuItemTitle,style:{height:e+"px",lineHeight:e+"px"}},p.Z.t("view"),p.Z.t(":"),t))},t.getNameEditor=function(t){var n=t.text,i=t.key,o=t.onChange;return R().createElement(rt.default,{key:i,defaultValue:null!==n&&void 0!==n?n:this.getName(),inputStyle:{height:e.itemHeight+"px"},autoFocus:!0,onClick:function(e){st(e)},onBlur:function(e){o(e.target.value)},onKeyDown:function(e){st(e),"Enter"===e.key&&o(e.currentTarget.value)}})},t.getIcon=function(){},e}();at.itemHeight=26;var lt,dt,ct=[{name:s.Ce.VIEW_SWITCH,type:"custom",hasArrow:!0,tooltip:p.Z.t("view_switch"),style:{width:"auto",padding:"0 4px"}}],ut=n("../node_modules/classnames/index.js"),ht=n.n(ut),gt=function(e){var t,n=e.iconSource,i=e.className,o=e.style,r=e.onClick,s=e.onMouseEnter,a=e.onMouseLeave;return React.createElement("div",{className:ht()(le.Z.menuItemIcon,(t={},t[i]=!!i,t)),style:Object.assign({margin:"0"},o),onClick:function(e){return null===r||void 0===r?void 0:r(e)},onMouseEnter:s,onMouseLeave:a},React.createElement("img",{src:n}))},ft=n("../node_modules/@tencent/dui/lib/components/Divider/index.js"),mt=n("../node_modules/@tencent/dui/lib/components/Dropdown/index.js"),pt=n("../node_modules/@tencent/dui/lib/components/Menu/index.js"),vt="IcYSVsWwJNCEvbd8fjoI",It="ruT_cC1AN62kG8PkNG3m",yt="V0wZY8MRR4hqgHmHZ_yi",_t="B4KgSWWOJLFCw4npXtJk",bt="Zu9EMGgyTb8iPYfvmad2",Mt="rGiLkTwGE7Lb0BSyMhOI",Ct="bx_Fg6Ka2tXE_ngMWw21",wt="oyxnHYbcRzy8m3r1gXgM",Tt="hDmOZD2z3JPAchn10u4t",Et="KLCJDL_9IHJ_KezTXvdr",jt=function(e){var t=e.domRef,n=e.onCompositionStart,i=e.onCompositionEnd,o=(0,N.useRef)(!1),r=(0,N.useCallback)((function(){o.current=!0,null===n||void 0===n||n()}),[n]),s=(0,N.useCallback)((function(){o.current=!1,null===i||void 0===i||i()}),[i]),a=(0,N.useCallback)((function(){var e=null===t||void 0===t?void 0:t.current;e&&(e.addEventListener("compositionstart",r),e.addEventListener("compositionend",s))}),[t,s,r]),l=(0,N.useCallback)((function(){var e=null===t||void 0===t?void 0:t.current;e&&(e.removeEventListener("compositionstart",r),e.removeEventListener("compositionend",s))}),[t,s,r]);return(0,N.useEffect)((function(){return a(),function(){l()}}),[a,l]),{isCompposition:o}},At=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/utils/keydown.js"),xt=function(e){var t=e.key,n=e.text,i=e.maxLength,o=e.style,r=e.onChange,s=(0,N.useRef)(null),a=jt({domRef:s}).isCompposition;return R().createElement(rt.default,{inputRef:s,key:t,defaultValue:n,inputStyle:o,autoFocus:!0,maxLength:i,onClick:function(e){st(e)},onBlur:function(e){null===r||void 0===r||r(e.target.value)},onKeyDown:function(e){st(e);var t=e.key,n=e.keyCode;if("Enter"===t&&n!==At.O){if(a.current)return!1;null===r||void 0===r||r(e.currentTarget.value)}}})},Dt=function(e){return R().createElement("div",{className:ht()(wt,yt),onMouseDown:function(e){return st(e)}},e.icon,R().createElement(xt,Object.assign({},e)))},St=n("../node_modules/react-dnd/dist/esm/core/DndProvider.js"),Nt=n("../node_modules/react-dnd-html5-backend/dist/esm/index.js"),Rt=(0,N.createContext)({isDraggable:!1,dragMenuItems:[],prevMenuItems:[],setIsDragging:function(){},updateMenuItems:function(){},onDrop:function(){}}),Ot=function(e){return React.createElement(Rt.Provider,{value:e.context},React.createElement(St.W,{backend:Nt.PD},e.content))},Lt=n("../node_modules/@tencent/dui/lib/components/Tooltip/index.js"),kt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/hooks/use-drag-drop.js"),zt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/styles/drag.module.css"),Pt=function(e){var t=e.index,n=e.id,i=e.disableTip,o=e.draggable,r=(0,N.useContext)(Rt),s=r.dragMenuItems,a=r.prevMenuItems,l=r.onDrop,d=r.setIsDragging,c=r.updateMenuItems,u=(0,N.useRef)(null),h=(0,N.useCallback)((function(e,t,n){null===l||void 0===l||l(t,n)}),[l]),g=(0,kt.W)({index:t,id:n,type:"view-menu-item",dndOptions:s,originOptions:a,onDrop:h}),f=g.handlerId,m=g.isDragging,p=g.hasDraggingItem,v=g.sortedOptions,I=g.dragPreview,y=g.dragRef,_=g.dropRef;(0,N.useEffect)((function(){d(m)}),[m,d]),(0,N.useEffect)((function(){c(v)}),[v,c]),_(u),I(u);var b=R().createElement(pt.default.Item,Object.assign({},e),e.content);return o?R().createElement("div",{ref:u,style:{position:"relative"},onMouseDown:function(e){st(e)}},R().createElement(ft.default,{className:zt.Z.dragDivider,style:{opacity:m?1:0}}),R().createElement(Ft,{title:e.viewName,disabled:p||i,content:R().createElement("div",{ref:y,"data-handler-id":f,style:{opacity:m?0:1}},b)})):R().createElement(Ft,{content:b,title:e.viewName})},Ft=function(e){return R().createElement(Lt.default,{title:e.title,trigger:"hover",overlayHoverable:!1,disabled:e.disabled,style:{display:"block"}},e.content)};!function(e){e.VIEW_OPERATION="VIEW_OPERATION",e.VIEW_INSERT="VIEW_INSERT"}(lt||(lt={})),function(e){e.VIEW_RENAME="VIEW_RENAME",e.VIEW_COPY="VIEW_COPY",e.VIEW_DELETE="VIEW_DELETE"}(dt||(dt={}));var Ut="INSERT_VIEW_BUTTON",Bt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/view-switch.interface.js"),Wt=function(e){var t=e.dataSource,n=e.nameEditorIndex,i=e.onViewNameChange,o=e.onMoveView,r=e.onDragStart,s=(0,N.useState)(t),a=s[0],l=s[1],d=(0,N.useState)(!1),c=d[0],u=d[1];(0,N.useEffect)((function(){c&&(null===r||void 0===r||r())}),[c,r]);var h=(0,N.useMemo)((function(){return c?a:t}),[c,a,t]),g=(0,N.useCallback)((function(e){l(e)}),[]),f=(0,N.useMemo)((function(){return h.map((function(e,t){return t===n?R().createElement(Dt,{icon:e.icon,maxLength:Bt.C,text:e.viewName,key:e.id,onChange:i,style:{position:"relative",height:"26px",fontSize:"12px",paddingLeft:"6px",paddingRight:"6px",left:"-6px"}}):e.id===Ut?R().createElement(pt.default.Item,Object.assign({},e),e.title):R().createElement(Pt,Object.assign({},e,{key:e.id}))}))}),[n,i,h]);return R().createElement(Ot,{content:f,context:{isDraggable:!0,dragMenuItems:h,prevMenuItems:t,onDrop:o,updateMenuItems:g,setIsDragging:u}})},Gt=function(e){return React.createElement(React.Fragment,null,e.dataSource.map((function(t){var n=React.createElement(pt.default.Item,{id:t.id,icon:t.icon,disabled:t.disabled,onClick:t.onClick,className:e.className},t.content),i=t.title;return i?React.createElement(Lt.default,{title:i,trigger:"hover",placement:"right",overlayHoverable:!1,style:{display:"block"}},n):n})))},Zt=n("../node_modules/@tencent/docs-design-resources/pc/svg/floatingtoolbar_dele.svg"),Ht=function(e){function t(t){var n;return(n=e.call(this,t)||this).getViewOperationMenuProps=function(){return{dataSource:[{index:0,content:p.Z.t("rename"),icon:R().createElement(gt,{iconSource:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNi4zMDYzIDQuMTQ2OTFMMTkuODUzMSA3LjY5MzY0QzIwLjA0OSA3Ljg4OTUyIDIwLjA0OSA4LjIwNzExIDE5Ljg1MzEgOC40MDI5OUw5LjEwNDExIDE5LjE1MTlDOS4wMyAxOS4yMjYgOC45MzQ1MyAxOS4yNzUxIDguODMxMTIgMTkuMjkyMUw0LjU4MzI3IDE5Ljk5MzJDNC4zMDk5NSAyMC4wMzgzIDQuMDUxODEgMTkuODUzMyA0LjAwNjcgMTkuNThDMy45OTc3NyAxOS41MjU5IDMuOTk3NzcgMTkuNDcwNyA0LjAwNjcgMTkuNDE2N0w0LjcwNzggMTUuMTY4OEM0LjcyNDg2IDE1LjA2NTQgNC43NzM5IDE0Ljk2OTkgNC44NDgwMSAxNC44OTU4TDE1LjU5NyA0LjE0NjkxQzE1Ljc5MjkgMy45NTEwMyAxNi4xMTA1IDMuOTUxMDMgMTYuMzA2MyA0LjE0NjkxWk0xMy42MjU2IDcuODg0NDRMNS45MDIgMTUuNjA4TDUuNDEgMTguNTg5TDguMzkxIDE4LjA5N0wxNi4xMTQ2IDEwLjM3MzRMMTMuNjI1NiA3Ljg4NDQ0Wk0xNC41MDk0IDcuMDAwNTZMMTYuOTk4NCA5LjQ4OTU2TDE4LjQ0IDguMDQ4TDE1Ljk1MSA1LjU1OUwxNC41MDk0IDcuMDAwNTZaIiBmaWxsPSIjNDU0RDVBIi8+Cjwvc3ZnPgo=",style:{marginRight:"8px"}}),id:dt.VIEW_RENAME,onClick:n.props.showRenameEditor},{index:1,content:p.Z.t("copy_view"),icon:R().createElement(gt,{iconSource:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IiYjMjMwOyYjMTgxOyYjMTc0OyYjMjI5OyYjMTc3OyYjMTMwOy9QQy8mIzIzMDsmIzE4MTsmIzE3NDsmIzIyOTsmIzEzODsmIzE2ODsmIzIyOTsmIzE4MzsmIzE2NTsmIzIyOTsmIzEzMzsmIzE4MzsmIzIzMDsmIzE2MDsmIzE0MzsvJiMyMjk7JiMxNjQ7JiMxNDE7JiMyMjk7JiMxMzY7JiMxODI7Ij4KPGcgaWQ9IlVuaW9uIj4KPHBhdGggZD0iTTcuNSA0LjVDNy4yMjM4NiA0LjUgNyA0LjcyMzg2IDcgNUM3IDUuMjc2MTQgNy4yMjM4NiA1LjUgNy41IDUuNUgxOC41QzE4Ljc3NjEgNS41IDE5IDUuNzIzODYgMTkgNlYxN0MxOSAxNy4yNzYxIDE5LjIyMzkgMTcuNSAxOS41IDE3LjVDMTkuNzc2MSAxNy41IDIwIDE3LjI3NjEgMjAgMTdWNkMyMCA1LjE3MTU3IDE5LjMyODQgNC41IDE4LjUgNC41SDcuNVoiIGZpbGw9IiM0NTRENUEiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01IDcuNUM1IDYuOTQ3NzIgNS40NDc3MiA2LjUgNiA2LjVIMTdDMTcuNTUyMyA2LjUgMTggNi45NDc3MiAxOCA3LjVWMTguNUMxOCAxOS4wNTIzIDE3LjU1MjMgMTkuNSAxNyAxOS41SDZDNS40NDc3MiAxOS41IDUgMTkuMDUyMyA1IDE4LjVWNy41Wk02IDcuNUgxN1YxOC41SDZMNiA3LjVaIiBmaWxsPSIjNDU0RDVBIi8+CjwvZz4KPC9nPgo8L3N2Zz4K",style:{marginRight:"8px"}}),id:dt.VIEW_COPY,onClick:n.props.handleCopyView},{index:2,content:p.Z.t("del_view"),icon:R().createElement(gt,{iconSource:Zt,style:{marginRight:"8px"}}),disabled:!n.props.canDelete,id:dt.VIEW_DELETE,actionTriggersDropdownHide:!0,onClick:n.props.handleDeleteView}],className:Et}},n}return(0,tt.Z)(t,e),t.prototype.render=function(){var e=this.getViewOperationMenuProps();return R().createElement(pt.default,{className:_t},R().createElement(Gt,Object.assign({},e)))},t}(R().Component),Yt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/view-constant.js"),Vt=function(e){function t(t){var n;return(n=e.call(this,t)||this).getSubMenu=function(e,t){if(!n.isRenameView()){if(e===lt.VIEW_INSERT){var i=n.getViewInsertMenuProps();return R().createElement(Gt,Object.assign({},i))}if(e===lt.VIEW_OPERATION){var o=n.getCurrentTableId();return R().createElement(mt.default.Keep,null,R().createElement(Ht,{canDelete:!!o&&n.props.viewSwitchService.isTableCanDeleteView(o),showRenameEditor:function(){void 0!==t&&(nt.C.renameView(),n.showRenameEditor(t))},handleCopyView:function(){var e;if(void 0!==t){var i=null===(e=n.getViewInfoByIndex(t))||void 0===e?void 0:e.type;nt.C.copyView(i),n.handleCopyView(t)}},handleDeleteView:function(){void 0!==t&&n.handleDeleteView(t)}}))}}},n.viewMainMenu=function(e){var t,i=e.dataSource,o=e.selectedIds,r=e.itemStyle,s=e.itemClassName,a=e.className,l=e.onClick,d=n.getCurrentTableId();if(d&&n.props.viewSwitchService.isTableCanAddView(d)&&!n.isRenameView()){var c=n.getMenuInsertEntryProps(),u=c.subMenuName;t=R().createElement("div",{className:Mt},R().createElement(ft.default,{className:Ct}),R().createElement(pt.default.SubMenu,Object.assign({},c,{zIndex:9999,title:c.content,children:u&&n.getSubMenu(u)})))}return R().createElement(pt.default,{selectable:!0,selectedIds:o,className:a,itemStyle:r,itemClassName:s,children:R().createElement(R().Fragment,null,R().createElement("div",{className:bt},R().createElement(Wt,{dataSource:i,nameEditorIndex:n.state.viewRenameIndex,onViewNameChange:n.handleRenameView,onMoveView:n.handleMoveView})),t),onClick:l})},n.getViewInsertMenuProps=function(){var e=Yt.x.filter((function(e){return!(null===e||void 0===e?void 0:e.hide)}));return{dataSource:n.getMenuDataSource({viewInfoList:e,onClick:function(t){var i=e[t].type;nt.C.createView(i),n.handleInsertView(i)}}),className:Et}},n.getViewSwitchMenuProps=function(){var e=n.getCurrentTableId(),t=[];if(e){var i=n.props.viewSwitchService.isTableCanEdit(e),o=n.getCurrentViewInfoList();t=n.getMenuDataSource({viewInfoList:o,subMenuName:lt.VIEW_OPERATION,draggable:i,onClick:function(e){var t,i,o=null===(t=n.getViewInfoByIndex(e))||void 0===t?void 0:t.type;nt.C.checkView(o),n.handleSwitchView(null===(i=n.getViewInfoByIndex(e))||void 0===i?void 0:i.id)}})}var r=n.getCurrentViewId();return{dataSource:t,selectedIds:r?[r]:[],className:vt,itemClassName:ht()(wt,It)}},n.showRenameEditor=function(e){n.setState({viewRenameIndex:e})},n.handleRenameView=function(e){var t=n.getCurrentTableId(),i=n.state.viewRenameIndex;t&&-1!==i&&(n.props.viewSwitchService.changeViewName({viewName:e,viewIndex:i,tableId:t}),n.props.toolbarUpdate()),n.setState({viewRenameIndex:-1})},n.handleCopyView=function(e){var t,i=n.props.viewSwitchService,o=n.getCurrentTableId();if(o){var r=null===(t=n.getViewInfoByIndex(e))||void 0===t?void 0:t.id;r&&(i.copyView({tableId:o,viewId:r}),n.updateViewId(),n.showRenameEditor(e+1),n.props.toolbarUpdate())}},n.handleDeleteView=function(e){var t=n.getCurrentTableId();t&&-1!==e&&n.props.viewSwitchService.showDeleteViewModal({tableId:t,viewIndex:e})},n.handleMoveView=function(e,t){var i,o=n.state.tableId,r=null===(i=n.getViewInfoByIndex(e))||void 0===i?void 0:i.id;o&&r&&n.props.viewSwitchService.moveView({tableId:o,viewId:r,source:e,target:t}),n.props.toolbarUpdate()},n.initState(),n}(0,tt.Z)(t,e);var n=t.prototype;return n.render=function(){var e=this.viewMainMenu,t=this.getViewSwitchMenuProps();return R().createElement(e,Object.assign({},t))},n.componentDidMount=function(){var e,t;null===(t=(e=this.props).onMount)||void 0===t||t.call(e)},n.componentWillUnmount=function(){var e,t;null===(t=(e=this.props).onUnMount)||void 0===t||t.call(e)},n.getMenuInsertEntryProps=function(){return{index:-1,id:Ut,content:p.Z.t("add_view"),icon:R().createElement(gt,{iconSource:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dGl0bGViYXJfaG9tZV9hZGQ8L3RpdGxlPgogICAgPGcgaWQ9Iumhtemdoi0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5paH5qGj6K+m5oOF6aG15YiH5Zu+6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjcuMDAwMDAwLCAtMTMwLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i57yW57uELTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3LjAwMDAwMCwgMTMwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjIzNzUsNC4zIEwxMC4yMzc1LDkuMzc1IEwxNS4zMTI1LDkuMzc1IEwxNS4zMTI1LDEwLjQ3NSBMMTAuMjM2NSwxMC40NzUgTDEwLjIzNzUsMTUuNTUgTDkuMTM3NSwxNS41NSBMOS4xMzY1LDEwLjQ3NSBMNC4wNjI1LDEwLjQ3NSBMNC4wNjI1LDkuMzc1IEw5LjEzNzUsOS4zNzUgTDkuMTM3NSw0LjMgTDEwLjIzNzUsNC4zIFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiM0NjRENUEiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbD0iI0Q4RDhEOCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48L3JlY3Q+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",style:{marginRight:"8px"}}),subMenuName:lt.VIEW_INSERT}},n.getMenuDataSource=function(e){var t,n=this,i=e.viewInfoList,o=e.subMenuName,r=e.draggable,s=e.onClick,a=this.getCurrentTableId();if(!a)return[];var l=this.props.viewSwitchService.isTableCanEdit(a);return null!==(t=null===i||void 0===i?void 0:i.map((function(e,t){var i;return{id:null!==(i=e.id)&&void 0!==i?i:"",title:e.disabled?p.Z.t("work_in_progress"):void 0,index:t,content:R().createElement("span",{className:Tt},e.name),disabled:e.disabled,disableTip:n.isRenameView(),viewName:e.name,icon:R().createElement(gt,{iconSource:e.icon,style:{marginRight:"8px"}}),action:o&&l?n.getSubMenu(o,t):void 0,actionTriggersDropdownHide:!1,draggable:r,onClick:function(){return null===s||void 0===s?void 0:s(t)},onViewNameChange:n.handleRenameView}})))&&void 0!==t?t:[]},n.handleInsertView=function(e){var t=this.getCurrentTableId();t&&(this.props.viewSwitchService.insertView({tableId:t,viewType:e}),this.updateViewId())},n.handleSwitchView=function(e){var t=this.getCurrentTableId();t&&e&&(this.props.viewSwitchService.switchView({tableId:t,viewId:e}),this.updateViewId(),this.props.toolbarUpdate(),this.forceUpdate())},n.getViewInfoByIndex=function(e){var t,n=this.getCurrentTableId();if(n)return null===(t=this.props.viewSwitchService.getViewInfoListByTableId(n))||void 0===t?void 0:t[e]},n.getCurrentTableId=function(){var e=this.state.tableId;if(e)return e;var t=this.props.viewSwitchService.getCurrentTableId();if(t)return this.setState({tableId:t}),t;Ee.k.info("currentTableId is undefined")},n.getCurrentViewId=function(){return this.updateViewId(),this.state.viewId},n.getCurrentViewInfoList=function(){return this.updateCurrentViewInfoList(),this.state.currentViewInfoList},n.updateCurrentViewInfoList=function(){var e=this.getCurrentTableId();if(e){var t=this.props.viewSwitchService.getViewInfoListByTableId(e),n=this.state.currentViewInfoList;JSON.stringify(t)!==JSON.stringify(n)&&this.setState({currentViewInfoList:t})}},n.updateViewId=function(){this.props.viewSwitchService.getCurrentViewId()!==this.state.viewId&&this.setState({viewId:this.props.viewSwitchService.getCurrentViewId()})},n.initState=function(){this.state={viewId:"",tableId:"",viewRenameIndex:-1,currentViewInfoList:[]}},n.isRenameView=function(){return![void 0,-1].includes(this.state.viewRenameIndex)},t}(R().Component),Qt=n("../node_modules/@tencent/workbench/lib/esm/services/toolbar/toolbar-service.js"),Kt=Symbol.for("controller: IViewSwitchController"),Xt=function(e){function t(t,n){var i;return(i=e.call(this)||this).viewSwitchService=t,i.toolbarService=n,i.listenerEvent=null,i.requestListenerManager=new it.k,i.toolbarUpdate=function(){i.toolbarService.$forceUpdate()},i.getName=function(){var e;return null!==(e=i.viewSwitchService.getCurrentViewName())&&void 0!==e?e:""},i.changeName=function(e,t){i.tableId&&void 0!==t&&(i.viewSwitchService.switchViewByIndex({tableId:i.tableId,viewIndex:t}),i.hideNameEditor(),i.toolbarUpdate())},i.onRequestApplyListener=function(e){var t=e.mutations;i.requestListenerManager.handleMutationList(t).forEach((function(e){return i.requestListenerManager.handleMutation(e)}))},i.mutationHandler=function(){i.toolbarUpdate()},i.handleDropdownShow=function(){var e;nt.C.clickView(),null===i.listenerEvent&&(i.listenerEvent=null===(e=i.viewSwitchService.editorHelper)||void 0===e?void 0:e.getBehaviorApi().addRequestApplyListener(i.onRequestApplyListener))},i.registerRequestApplyListener(),i}(0,tt.Z)(t,e);var n=t.prototype;return n.$onViewOpen=function(){this.tableId=this.viewSwitchService.getCurrentTableId(),this.toolbarUpdate()},n.getToolbarContent=function(){return this.getNameContent()},n.editTableName=function(){nt.C.doubleClickView()},n.viewDropdownContent=function(){return this.isShowNameEditor?R().createElement(R().Fragment,null):R().createElement(Vt,{viewSwitchService:this.viewSwitchService,toolbarUpdate:this.toolbarUpdate,onMount:this.handleDropdownShow})},n.dispose=function(){var e;null===(e=this.listenerEvent)||void 0===e||e.dispose()},n.getIcon=function(){var e=this.viewSwitchService.getCurrentViewIcon();if(e)return R().createElement(gt,{iconSource:e,style:{marginRight:"2px"}})},n.registerRequestApplyListener=function(){this.requestListenerManager.registerList([3007,3008,3006,3009],this.mutationHandler)},t}(at);(0,c.__decorate)([(0,F.o)(s.Ce.VIEW_SWITCH,"content"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",Object)],Xt.prototype,"getToolbarContent",null),(0,c.__decorate)([(0,F.o)(s.Ce.VIEW_SWITCH,"onDoubleClick"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",void 0)],Xt.prototype,"editTableName",null),(0,c.__decorate)([(0,F.o)(s.Ce.VIEW_SWITCH,"dropdownContent"),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[]),(0,c.__metadata)("design:returntype",Object)],Xt.prototype,"viewDropdownContent",null),Xt=(0,c.__decorate)([(0,w.Q)({adapters:[u.q],toolbarItems:ct}),(0,ot.w)({adapters:[u.q],provide:Kt,views:Yt.x.map((function(e){return e.type}))}),(0,c.__param)(0,(0,T.tB)(Bt.m)),(0,c.__metadata)("design:paramtypes",[Object,Qt.O])],Xt);var Jt=[].concat((0,a.Z)(l.V),[Xt,B,X,pe,Ze,Le,et,Qe,x,xe,be,se,Je,oe]),qt=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/config/features/base.js"),$t=n("../node_modules/@tencent/workbench/lib/esm/services/settings/auto-sync-settings.js"),en=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/feature.js"),tn=n("../node_modules/@tencent/workbench/lib/esm/services/settings/setting-service.js"),nn=n("../node_modules/@tencent/xtable-core/es/service/table-description/event.js"),on=n("../node_modules/@tencent/xtable-render/es/views/gallery/utils/get-action-target.js"),rn=n("../node_modules/@tencent/xtable-render/es/views/group/utils/get-action-target.js"),sn=n("../node_modules/@tencent/xtable-render/es/views/group/utils/is-target.js"),an=n("../node_modules/@tencent/xtable-render/es/views/kanban/utils/get-action-target.js"),ln=n("../node_modules/@tencent/xtable-render/es/views/shared/kanban-gallery/utils/is-target.js"),dn=function(){function e(e){var t=this;this.workbenchSettingsService=e,this.disposerList=[],this.currentContextmenuType=i.None,this.offset={x:0,y:0},this.handleTableDescriptionContextmenu=function(){t.currentContextmenuType=i.None,t.workbenchSettingsService.set($t.R.DisableContextMenu,!0)},this.handleRendererContextmenu=function(e){var n=t.editor.getRenderer().getView();if(n){var i=n.getType(),o=e.currentTarget.getRelativePointerPosition(),r=o.x,s=o.y;i!==L.bW.GRID?i!==L.bW.KANBAN?i!==L.bW.GALLERY?i!==L.bW.GANTT||t.handleGantt(n,r,s):t.handleGallery(n,r,s):t.handleKanban(n,r,s):t.handleGrid(n,r,s)}}}var t=e.prototype;return t.$onEditorOpen=function(e){this.editor=e,this.disposerList.push(this.editor.getRenderer().emitter.global.contextMenu.event(this.handleRendererContextmenu)),this.disposerList.push(nn._.contextMenuEmitter.event(this.handleTableDescriptionContextmenu))},t.$onEditorClose=function(){this.disposerList.map((function(e){return e.dispose()})),this.disposerList=[]},t.getCurrentContextmenuType=function(){return this.currentContextmenuType},t.getCurrentContextmenuOffset=function(){return this.offset},t.handleGrid=function(e,t,n){var o,r=e.getCollector(),s=(0,rn.ZP)(t,n,r),a=(0,sn.Uy)(s),l=(0,sn.S6)(s);if(a||l){if(l&&s){var d=null===(o=s.unit)||void 0===o?void 0:o.recordId;if(!d)return;var c=r.getRangeModel();if(!c.getCurrentSelection().isRowSelection()){var u=r.getAllRecordIds().indexOf(d),g={row:u,column:0},f={startRow:u,endRow:u,startColumn:0,endColumn:0};c.selectRange(f,g)}}return this.workbenchSettingsService.set($t.R.DisableContextMenu,!1),this.currentContextmenuType=i.Record,void J.n.showRecordContextmenu()}if((0,sn.My)(s,r))return this.workbenchSettingsService.set($t.R.DisableContextMenu,!1),this.currentContextmenuType=i.Field,void h.A.showFieldContextmenu();this.currentContextmenuType=i.None,this.workbenchSettingsService.set($t.R.DisableContextMenu,!0)},t.handleKanban=function(e,t,n){var o=e.getCollector(),r=e.getRenderer().widgetTree,s=(0,an.Z)(t,n,o,r);if((0,ln.F_)(s))return this.workbenchSettingsService.set($t.R.DisableContextMenu,!1),void(this.currentContextmenuType=i.Record);this.currentContextmenuType=i.None,this.workbenchSettingsService.set($t.R.DisableContextMenu,!0)},t.handleGallery=function(e,t,n){var o=e.getCollector(),r=e.getRenderer().widgetTree,s=(0,on.Z)(t,n,o,r);if((0,ln.F_)(s))return this.workbenchSettingsService.set($t.R.DisableContextMenu,!1),void(this.currentContextmenuType=i.Record);this.currentContextmenuType=i.None,this.workbenchSettingsService.set($t.R.DisableContextMenu,!0)},t.handleGantt=function(e,t,n){var o=e,r=o.getCollector(),s=r.size;if((0,rn.oH)(t,s))this.handleGrid(e,t,n);else{var a=o.getTimeline().layout;if((0,ie.$q)(t,a.size)&&(0,ie.ls)(t,n,r,a))return this.offset={x:t,y:n},this.workbenchSettingsService.set($t.R.DisableContextMenu,!1),void(this.currentContextmenuType=i.GanttRecord);this.currentContextmenuType=i.None,this.workbenchSettingsService.set($t.R.DisableContextMenu,!0)}},e}();dn=(0,c.__decorate)([(0,en.L)({adapters:[u.q],provide:m}),(0,c.__metadata)("design:paramtypes",[tn.I])],dn);var cn=[].concat((0,a.Z)(qt.$),[dn]),un=n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/event/index.js"),hn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/right-drawer.service.interface.js"),gn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/styles/drawer.module.css"),fn=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/service.js"),mn=n("../node_modules/@tencent/workbench/lib/esm/services/drawer/drawer-service.js"),pn=n("../node_modules/@tencent/xtable-common/es/event/fire-event.js"),vn=function(){function e(e){var t=this;this.drawerService=e,this.content=function(e){var n=e.title,i=e.scrollable,o=e.container,r=e.header,s=t.contentHeader,a=t.contentContainer;return R().createElement(R().Fragment,null,R().createElement(s,{title:n,header:r}),R().createElement(a,{scrollable:i,container:o}))},this.baseHeader=function(e){var t=e.title,n=e.onRightIconClick;return R().createElement(R().Fragment,null,R().createElement("div",{className:gn.Z.drawerHeaderTitle},t),R().createElement("div",{className:gn.Z.drawerHeaderIcon,onClick:n}))},this.contentHeader=function(e){var n=e.title,i=e.header,o=t.baseHeader;return n||i?R().createElement("div",{className:gn.Z.drawerHeader},null!==i&&void 0!==i?i:R().createElement(o,{title:n,onRightIconClick:t.forceHide.bind(t)})):null},this.contentContainer=function(e){var t=e.scrollable,n=e.container;return!1===t?n:R().createElement("div",{style:{overflowY:"auto",height:"auto"}},n)}}var t=e.prototype;return t.show=function(e){var t;this.checkDrawerSame(e.name)&&this.checkDrawerOpen()||null===(t=null===e||void 0===e?void 0:e.beforeShowDrawer)||void 0===t||t.call(e),this.checkDrawerSame(e.name)&&this.currentDrawerConfig&&(this.currentDrawerConfig.isOpen=!1),this.showRightDrawer(e)},t.hide=function(e){this.checkDrawerSame(e)&&this.drawerService.closeRightDrawer(!0)},t.forceHide=function(){this.drawerService.closeRightDrawer(!0)},t.toggle=function(e){this.checkDrawerSame(e.name)&&this.checkDrawerOpen()?this.hide(e.name):this.show(e)},t.reset=function(e){this.checkDrawerSame(e.name)&&this.checkDrawerOpen()&&this.show(e)},t.checkDrawerSame=function(e){var t;return e===(null===(t=this.currentDrawerConfig)||void 0===t?void 0:t.name)},t.checkDrawerOpen=function(){var e;return!!(null===(e=this.currentDrawerConfig)||void 0===e?void 0:e.isOpen)},t.showRightDrawer=function(e){var t=this,n=e.style,i=this.content;this.drawerService.setRightDrawerMode("float"),this.drawerService.showRightDrawer({style:Object.assign(Object.assign({},this.getDrawerStyle()),n),type:"transparent",animation:"fadeIn",content:R().createElement(i,Object.assign({},e)),onOpen:function(){return t.handleOpen(e)},onClose:function(){return t.handleClose()}}),this.drawerService.updateRightDrawerStyle({zIndex:1501})},t.handleOpen=function(e){pn.B.execute(un.T.TOGGLE_SMART_SHEET_DRAWER,!0),this.currentDrawerConfig=e,this.currentDrawerConfig.isOpen=!0},t.handleClose=function(){var e,t;this.checkDrawerOpen()&&(pn.B.execute(un.T.TOGGLE_SMART_SHEET_DRAWER,!1),null===(t=null===(e=this.currentDrawerConfig)||void 0===e?void 0:e.afterHideDrawer)||void 0===t||t.call(e)),this.currentDrawerConfig&&(this.currentDrawerConfig.isOpen=!1)},t.getDrawerStyle=function(){return{display:"flex",flexDirection:"column",justifyContent:"flex-start",flexWrap:"nowrap",width:"320px",height:"100%",backgroundColor:"white",overflow:"visible",boxShadow:"0 4px 20px 0 rgba(0,0,0,0.08)",paddingTop:0}},e}();vn=(0,c.__decorate)([(0,fn.t)({provide:hn.I}),(0,c.__metadata)("design:paramtypes",[mn.zv])],vn);var In,yn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/config/services/base.js"),_n=n("../node_modules/lodash/isNull.js"),bn=n.n(_n),Mn=(n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/lodash/isEqual.js")),Cn=n.n(Mn),wn=n("../node_modules/@tencent/dui/lib/components/Button/index.js"),Tn=n("../node_modules/@tencent/dui/lib/components/Select/index.js"),En=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),jn=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),An=n("../node_modules/@tencent/dui/lib/components/Modal/index.js"),xn=jn.ZP.div(In||(In=(0,En.Z)(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row-reverse;\n\n  > button {\n    width: 88px;\n    margin-left: 16px;\n  }\n"]))),Dn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field-edit/field-type-editor/styled.js"),Sn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/styles/field-icon.style.js"),Nn=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),Rn=(n("../node_modules/core-js/modules/web.url-search-params.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.search.js"),n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js")),On="true"===new URLSearchParams(n.g.location.search).get("showAttachment"),Ln="true"===new URLSearchParams(n.g.location.search).get("showFormula"),kn=[];On||kn.push(Rn.f.ATTACHMENT),Ln||kn.push(Rn.f.FORMULA);var zn=n("../node_modules/@tencent/xtable-core/es/model/field/common/primary-field-types.js"),Pn=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),Fn=n("../node_modules/@tencent/xtable-core/es/utils/ability/index.js"),Un=function(e,t,n){var i=n.canEdit,o=n.isPrimaryField,r=n.isFieldEmpty,s=n.getDefaultFieldTitle,a=(o?zn.I:e.getFieldTypes()).filter((function(e){return!kn.includes(e)})).map((function(t){return e.getFieldFeature(t)}));return function(n){var o=n.onClose,l=n.onConfirm,d=n.onChange,c=n.mask,u=(0,N.useState)(n.type),h=u[0],g=u[1],f=(0,N.useState)(n.property),m=f[0],v=f[1],I=(0,N.useState)(n.title),y=I[0],_=I[1],b=(0,N.useRef)(null),M=(0,N.useCallback)((function(){var e=y.trim();l(h,m,e)}),[l,h,m,y]);!function(e){var t=e.onClose,n=e.onConfirm,i=e.mask,o=e.title,r=e.isChanged,s=(0,N.useRef)(null),a=(0,N.useCallback)((function(){var e;null===(e=s.current)||void 0===e||e.call(s)}),[]),l=(0,N.useCallback)((function(){var e;null===(e=s.current)||void 0===e||e.call(s),n()}),[n]),d=(0,N.useCallback)((function(){return R().createElement(xn,null,R().createElement(wn.default,{type:"primary",onClick:l},p.Z.t("save")),R().createElement(wn.default,{onClick:a},p.Z.t("continue_modify")))}),[a,l]),c=(0,N.useCallback)((function(){if(r){var e=An.default.confirm({title:p.Z.t("filed_modify"),content:p.Z.t("filed_confirm_modal_content",{title:o}),footer:d()}).close;s.current=e}else t()}),[t,d,o,r]);(0,N.useEffect)((function(){if(i)return i.addEventListener("mousedown",c),function(){i.removeEventListener("mousedown",c)}}),[i,c])}({isChanged:(0,N.useMemo)((function(){return!Cn()(n.property,m)||n.title!==y||n.type!==h}),[n,y,m,h]),mask:c,onClose:o,title:y,onConfirm:M}),(0,N.useEffect)((function(){setTimeout((function(){var e;null===(e=b.current)||void 0===e||e.select()}),100)}),[]);var C=(0,N.useCallback)((function(e){v(e),null===d||void 0===d||d(h,e,y)}),[d,h,y]),w=(0,N.useCallback)((function(e){var i=Number(e);if(i!==h){var o=i===n.type?n.property:Pn.p.get(i).getDefaultProperty(t);v(o),g(i);var a=y;(0,Fn.dv)(Nn.Y7.FIELD[h],y)&&r(i,o)&&(a=s(i),_(a)),null===d||void 0===d||d(i,o,a)}}),[d,y,h,n.property,n.type]),T=(0,N.useCallback)((function(e){var t;(0,At.m)(e,((t={}).Enter=M,t))}),[M]),E=(0,N.useCallback)((function(e){_(e)}),[]),j=(0,N.useCallback)((function(){return R().createElement("div",{className:"title-editor"},R().createElement("div",{className:"editor-title"},p.Z.t("field_title")),R().createElement(rt.default,{inputRef:b,value:y,onChange:E,onKeyDown:T}))}),[y,T,E]),A=(0,N.useCallback)((function(){return R().createElement("div",{className:"field-type"},R().createElement("div",{className:"editor-title"},p.Z.t("field_type")),R().createElement(Tn.default,{containerStyle:{display:"block"},defaultValue:String(h),onChange:w,placement:"auto",disabled:!i},a.map((function(e){var t=e.getIconComponent();return R().createElement(Tn.default.Option,{value:String(e.getType())},R().createElement(Dn.NT,null,R().createElement(t,Object.assign({},Sn.y)),R().createElement("div",{className:"option-title"},e.getTitle())))}))))}),[w,h]),x=(0,N.useCallback)((function(){var t=e.getFieldFeature(h).getPropertyEditor();return t?R().createElement("div",{className:"property-editor-wrapper"},R().createElement("div",{className:"editor-title"},p.Z.t("format_setting")),R().createElement(t,{canEdit:i,property:m,onChange:C})):null}),[m,h,C]),D=(0,N.useCallback)((function(){return R().createElement("div",{className:"button-group"},R().createElement(wn.default,{size:"small",type:"primary",onClick:M},p.Z.t("confirm")),R().createElement(wn.default,{className:"cancel-button",size:"small",onClick:o},p.Z.t("cancel")))}),[M,o]);return R().createElement(Dn.Ui,null,j(),A(),x(),D())}},Bn=n("../node_modules/@tencent/xtable-core/es/utils/list.js"),Wn=function(){function e(e){this.fieldService=e}var t=e.prototype;return t.getTypeEditor=function(e,t){var n=e.getCurrentTable(),i=e.getCurrentView(),o=n.getRecordIdList(),r=i.getDisplayedRecordIds(),s=(0,Bn.mD)(r,o).map((function(e){return t.getStandardCell(e)})),a=n.getFieldRestriction(t.getId()).canEdit,l=i.isPrimaryField(t.getId());return Un(this.fieldService,s,{canEdit:a,isPrimaryField:l,isFieldEmpty:this.isFieldEmpty(n,t),getDefaultFieldTitle:this.newFieldTitle(n)})},t.getDefaultTypeEditor=function(e){var t=e.getCurrentTable();return Un(this.fieldService,[],{canEdit:!0,isPrimaryField:!1,isFieldEmpty:function(){return!0},getDefaultFieldTitle:this.newFieldTitle(t)})},t.newFieldTitle=function(e){return function(t){return e.getDefaultFieldTitle(t)}},t.isFieldEmpty=function(e,t){return function(n,i){var o=e.createField({fieldId:t.getId(),fieldJSON:{type:n,property:i,title:t.getTitle()}});return!e.getRecordIdList().some((function(e){var n=t.getCellValue(e),i=t.getStandardCell(e),r=o.generateCellValueByStandardCell(i);return!bn()(n)||!bn()(r)}))}},e}();Wn=(0,c.__decorate)([(0,fn.t)({provide:f.L}),(0,c.__param)(0,(0,T.tB)(ze.Y)),(0,c.__metadata)("design:paramtypes",[Object])],Wn),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/es.array.join.js");var Gn=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/base-field-feature.service.jsx"),Zn=n("../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-tob/index.jsx"),Hn=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),Yn=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Vn=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Qn=(n("../node_modules/core-js/modules/es.object.keys.js"),{className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1}),Kn=function(e){var t=e.map((function(){return(0,N.useRef)()})),n=(0,N.useRef)(null);return(0,N.useEffect)((function(){var e=Date.now(),i=!1;Object.keys(t).forEach((function(o){var r=t[o].current;if(r){i=!0;var s=r.style;s.transitionDuration=".3s, .3s, .3s, .06s",n.current&&e-n.current<100&&(s.transitionDuration="0s, 0s")}})),i&&(n.current=Date.now())})),[t]},Xn=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],Jn=function(e){var t=e.className,n=e.percent,i=e.prefixCls,o=e.strokeColor,r=e.strokeLinecap,s=e.strokeWidth,a=e.style,l=e.trailColor,d=e.trailWidth,c=e.transition,u=(0,Vn.Z)(e,Xn);delete u.gapPosition;var h=Array.isArray(n)?n:[n],g=Array.isArray(o)?o:[o],f=Kn(h),m=(0,Yn.Z)(f,1)[0],p=s/2,v=100-s/2,I="M ".concat("round"===r?p:0,",").concat(p,"\n         L ").concat("round"===r?v:100,",").concat(p),y="0 0 100 ".concat(s),_=0;return N.createElement("svg",(0,Hn.Z)({className:ht()("".concat(i,"-line"),t),viewBox:y,preserveAspectRatio:"none",style:a},u),N.createElement("path",{className:"".concat(i,"-line-trail"),d:I,strokeLinecap:r,stroke:l,strokeWidth:d||s,fillOpacity:"0"}),h.map((function(e,t){var n=1;switch(r){case"round":n=1-s/100;break;case"square":n=1-s/2/100;break;default:n=1}var o={strokeDasharray:"".concat(e*n,"px, 100px"),strokeDashoffset:"-".concat(_,"px"),transition:c||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},a=g[t]||g[g.length-1];return _+=e,N.createElement("path",{key:t,className:"".concat(i,"-line-path"),d:I,strokeLinecap:r,stroke:a,strokeWidth:s,fillOpacity:"0",ref:m[t],style:o})})))};Jn.defaultProps=Qn,Jn.displayName="Line",n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.array.sort.js");var qn=n("../node_modules/@babel/runtime/helpers/esm/typeof.js"),$n=n("../node_modules/rc-util/es/Dom/canUseDom.js"),ei=0,ti=(0,$n.Z)(),ni=function(e){var t=N.useState(),n=(0,Yn.Z)(t,2),i=n[0],o=n[1];return N.useEffect((function(){o("rc_progress_".concat(function(){var e;return ti?(e=ei,ei+=1):e="TEST_OR_SSR",e}()))}),[]),e||i},ii=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function oi(e){return+e.replace("%","")}function ri(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}function si(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5?arguments[5]:void 0,s=50-i/2,a=0,l=-s,d=0,c=-2*s;switch(r){case"left":a=-s,l=0,d=2*s,c=0;break;case"right":a=s,l=0,d=-2*s,c=0;break;case"bottom":l=s,c=2*s}var u="M 50,50 m ".concat(a,",").concat(l,"\n   a ").concat(s,",").concat(s," 0 1 1 ").concat(d,",").concat(-c,"\n   a ").concat(s,",").concat(s," 0 1 1 ").concat(-d,",").concat(c),h=2*Math.PI*s,g={stroke:"string"===typeof n?n:void 0,strokeDasharray:"".concat(t/100*(h-o),"px ").concat(h,"px"),strokeDashoffset:"-".concat(o/2+e/100*(h-o),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:u,pathStyle:g}}var ai=function(e){var t=e.id,n=e.prefixCls,i=e.strokeWidth,o=e.trailWidth,r=e.gapDegree,s=e.gapPosition,a=e.trailColor,l=e.strokeLinecap,d=e.style,c=e.className,u=e.strokeColor,h=e.percent,g=(0,Vn.Z)(e,ii),f=ni(t),m="".concat(f,"-gradient"),p=si(0,100,a,i,r,s),v=p.pathString,I=p.pathStyle,y=ri(h),_=ri(u),b=_.find((function(e){return e&&"object"===(0,qn.Z)(e)})),M=Kn(y),C=(0,Yn.Z)(M,1)[0];return N.createElement("svg",(0,Hn.Z)({className:ht()("".concat(n,"-circle"),c),viewBox:"0 0 100 100",style:d,id:t},g),b&&N.createElement("defs",null,N.createElement("linearGradient",{id:m,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(b).sort((function(e,t){return oi(e)-oi(t)})).map((function(e,t){return N.createElement("stop",{key:t,offset:e,stopColor:b[e]})})))),N.createElement("path",{className:"".concat(n,"-circle-trail"),d:v,stroke:a,strokeLinecap:l,strokeWidth:o||i,fillOpacity:"0",style:I}),function(){var e=0;return y.map((function(t,o){var a=_[o]||_[_.length-1],d=a&&"object"===(0,qn.Z)(a)?"url(#".concat(m,")"):"",c=si(e,t,a,i,r,s);return e+=t,N.createElement("path",{key:o,className:"".concat(n,"-circle-path"),d:c.pathString,stroke:d,strokeLinecap:l,strokeWidth:i,opacity:0===t?0:1,fillOpacity:"0",style:c.pathStyle,ref:C[o]})}))}().reverse())};ai.defaultProps=Qn,ai.displayName="Circle";var li,di,ci,ui=ai,hi=n("../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-tob/index.interface.jsx"),gi=n("../node_modules/@tencent/dui/lib/index.js"),fi=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/styled.js");n("../node_modules/regenerator-runtime/runtime.js"),function(e){e[e.NONE=0]="NONE",e[e.LOADING=1]="LOADING",e[e.ERROR=2]="ERROR",e[e.NO_AUTH=3]="NO_AUTH",e[e.DELETE=4]="DELETE",e[e.SHOW=5]="SHOW"}(li||(li={})),function(e){e[e.AUTH=0]="AUTH",e[e.FAIL=1]="FAIL",e[e.DELETE=2]="DELETE"}(di||(di={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.DELETE=1]="DELETE"}(ci||(ci={}));var mi="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGZpbGw9IiM0ODkyRkUiIGN4PSI2IiBjeT0iNiIgcj0iNiIvPjxwYXRoIGQ9Ik02IDUuMzVhLjY1LjY1IDAgMDEuNjQzLjU1NEw2LjY1IDZ2M2EuNjUuNjUgMCAwMS0xLjI5My4wOTZMNS4zNSA5VjZBLjY1LjY1IDAgMDE2IDUuMzV6TTYgMi41YTEgMSAwIDExMCAyIDEgMSAwIDAxMC0yeiIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=",pi=(n("../node_modules/core-js/modules/es.string.split.js"),n("./node_modules/axios/index.js")),vi=n.n(pi),Ii=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js"),yi=function(){function e(){var e=this;this.cacheThumb={},this.cacheThumbSize={},this.hasCache=function(t){return!!e.cacheThumb[t]&&!!e.cacheThumbSize[t]},this.getThumb=function(t,n,i){return(0,c.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof this.cacheThumb[t]){e.next=3;break}return this.getThumbFromSvr(t,n).then((function(e){return null===i||void 0===i?void 0:i(e)})),e.abrupt("return",this.cacheThumb[t]);case 3:return e.abrupt("return",this.getThumbFromSvr(t,n));case 4:case"end":return e.stop()}}),e,this)})))},this.getThumbFromSvr=function(t,n){return(0,c.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchThumbnail(t);case 2:if("string"!==typeof(i=e.sent)){e.next=6;break}return this.cacheThumb[t]=this.fixUrl(i,n),e.abrupt("return",this.cacheThumb[t]);case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})))},this.getThumbSize=function(t,n,i,o){if(void 0===o&&(o={}),e.cacheThumbSize[t])return e.cacheThumbSize[t];var r=n,s=i,a=o,l=a.maxWidth,d=void 0===l?340:l,c=a.maxHeight,u=void 0===c?280:c,h=a.minHeight,g=void 0===h?40:h,f=a.minWidth,m=void 0===f?40:f;if(r&&s){for(var p=1,v=1,I=1;s>g&&r>m;){if(r<=d&&s<=u){I=1;break}r/=I=(p=r/d)>(v=s/u)?p:v,s/=I}(s<=g||r<=m)&&(s/=I=(p=r/m)<(v=s/g)?p:v,(r/=I)<=d&&s<=u||(r=r>d?d:r,s=s>u?u:s))}return e.cacheThumbSize[t]={width:r,height:s},e.cacheThumbSize[t]},this.getThumbSizeCache=function(t){return e.cacheThumbSize[t]||null},this.fetchThumbnail=function(t){return(0,c.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=di.FAIL,e.prev=1,e.next=4,vi().get("/board/batchgetshareurlinfo?share_urls="+encodeURIComponent(t),{timeout:3e3});case 4:0===(i=e.sent).data.head.ret?(o=i.data.body.share_url_infos,r=o[0],n=(null===r||void 0===r?void 0:r.has_permission)?r.thumb_url||"":di.AUTH,r.status===ci.DELETE&&(n=di.DELETE)):console.error("[CGI ERROR] /board/batchgetshareurlinfo "+i.data.head.ret+" "+i.data.head.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("[CGI ERROR] /board/batchgetshareurlinfo "+e.t0.message);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))},this.fixUrl=function(e,t){var n=e.split("?"),i=e;if(!n[0])return i;var o=n[1],r=o?"&"+o:"";switch(t){case Ii.hW.DOC:i=n[0]+"?imageMogr2/cut/680x360x70x80/"+r;break;case Ii.hW.SHEET:i=n[0]+"?imageMogr2/cut/680x360x4x4/"+r}return i}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}(),_i=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/hooks/stop-propagation.js"),bi=n("../node_modules/@tencent/tencent_doc_open_url/dist/index.js"),Mi=n("../node_modules/@tencent/wedocs-icons/esm/icon.js"),Ci={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"circle",attrs:{cx:8,cy:8,r:8,fill:"#FCBD35"}},{tag:"path",attrs:{fill:"#fff",d:"M8 10.75a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5zM8 2.5c.64 0 1.17.5 1.24 1.15l.01.15v3.9C9.25 8.42 8.69 9 8 9c-.64 0-1.17-.5-1.24-1.15l-.01-.15V3.8c0-.72.56-1.3 1.25-1.3z",fillRule:"evenodd",clipRule:"evenodd"}}]},wi=(0,N.forwardRef)((function(e,t){return(0,N.createElement)(Mi.A,Object.assign({},e,{id:"state-warning",ref:t,icon:Ci}))}));wi.displayName="StateWarning";var Ti,Ei,ji,Ai,xi,Di=wi,Si=n("../node_modules/@tencent/xtable-core/es/model/field/attachment/utils/index.js"),Ni=n("../node_modules/@tencent/xtable-render/es/base/icon/alias.js"),Ri="wXerx3Gk0vKBfZdnXVRe",Oi="h7WkYgnHeFKMmxDs3xYg",Li="Np9Bn38geWBgUoTNsPRc",ki="o5iZgqFu36PV1Bq0nqFw",zi="tjV9lurdkIRBKFyDgNyv",Pi="IaXUi0HsDLvhZEyENHEw",Fi="uVJZCp0phdQMFAVVUGaQ",Ui="ERb6GpwV7Sq8k0JUnDdn",Bi="pATwvVRWTQ7GzBiQfEtn",Wi="DkJtiElRnQm4HYZ1GToM",Gi="pJmL6rr8uzqGKdjtxQjW",Zi="d85SMvznNWjUeJG9UkFK",Hi="oCrzSRHoWTYuwJC34N7U",Yi="d6xlA3a0I4y8jAZKtlEV",Vi="iEfvq6wNVinJk0oepAwg",Qi="HlI5rjYff3gWzwRowWMh",Ki="vmxYcTYUY3tqOQYYT4mg",Xi="dALUwLBKG8dAezfcjrE4",Ji=["mousedown","mouseover"],qi=[Ii.hW.SHEET_LINK,Ii.hW.FORM,Ii.hW.BOARD],$i=[/^http(s):\/\/doc\.qq\.com/,/^http(s):\/\/docs\.qq\.com/],eo=function(e){var t=e.fileUrl,n=e.name,i=e.docType,o=e.size,r=e.adjustPosition,s=e.isReadOnly,a=e.onDelete,l=e.id,d=(0,N.useMemo)((function(){if(t&&i)return(0,Si.ad)(t,n,i)}),[i,t,n]),u=(0,N.useRef)(null),h=(0,N.useState)(""),g=h[0],f=h[1],m=(0,N.useState)(li.NONE),v=m[0],I=m[1],y=(0,N.useState)(),_=y[0],b=y[1],M=(0,N.useState)(),C=M[0],w=M[1],T=yi.getInstance(),E=(0,N.useRef)(null),j=(0,N.useRef)(null),A=(0,N.useRef)(null);(0,_i.$)({domRef:E,events:Ji});var x=(0,N.useCallback)((function(){var e,n;if(t){var i=T.getThumbSizeCache(t);if(i)w(i.height),b(i.width),I(li.SHOW),r();else{var o=null===(e=u.current)||void 0===e?void 0:e.naturalWidth,s=null===(n=u.current)||void 0===n?void 0:n.naturalHeight;if(o&&s){var a=T.getThumbSize(t,o,s,{}),l=a.width,d=a.height;w(d),b(l),I(li.SHOW),r()}}}}),[r,t,T]),D=(0,N.useCallback)((function(e,t){void 0===t&&(t=!1),e===di.FAIL?(f(""),I(li.ERROR)):e===di.AUTH?(f(""),I(li.NO_AUTH)):e===di.DELETE?(f(""),I(li.DELETE)):e?(f(e),I(t?li.SHOW:li.LOADING)):I(li.NONE)}),[]),S=(0,N.useCallback)((function(){return(0,c.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:if(t&&!$i.some((function(e){return e.test(t)}))&&!qi.includes(d)){e.next=4;break}return e.abrupt("return");case 4:return n=T.hasCache(t),e.next=7,T.getThumb(t,d,(function(e){return D(e,!0)}));case 7:i=e.sent,D(i,n);case 9:case"end":return e.stop()}}),e)})))}),[t,d,T,D]),O=(0,N.useCallback)((function(){f(""),I(li.ERROR)}),[]),L=(0,N.useCallback)((function(){return g?R().createElement("img",{style:v===li.SHOW?{}:{display:"none"},className:Oi,ref:u,width:_,height:C,src:g,onLoad:x,onError:O}):null}),[C,O,x,g,v,_]);(0,N.useEffect)((function(){var e;S(),t&&((null===(e=u.current)||void 0===e?void 0:e.complete)||T.getThumbSizeCache(t))&&x()}),[S,t,x,T]);var k=(0,N.useMemo)((function(){return d?Ni.LD[(0,Ni.UF)(d)]:""}),[d]),z=(0,N.useCallback)((function(e){s||(e.stopPropagation(),(0,bi.tencentDocOpenUrlForAll)({url:t}))}),[t,s]);(0,N.useEffect)((function(){if(j.current)return j.current.addEventListener("click",z,!1),function(){var e;return null===(e=j.current)||void 0===e?void 0:e.removeEventListener("click",z)}}),[z]);var P=(0,N.useCallback)((function(e){!s&&l&&(e.stopPropagation(),null===a||void 0===a||a(l))}),[l,s,a]);(0,N.useEffect)((function(){if(A.current)return A.current.addEventListener("click",P,!1),function(){var e;return null===(e=A.current)||void 0===e?void 0:e.removeEventListener("click",P)}}),[P]);var F=(0,N.useCallback)((function(){return s?null:R().createElement(R().Fragment,null,R().createElement("span",{className:Ui}),R().createElement("span",{className:Vi,"data-tooltip":"删除链接",ref:A}),R().createElement("span",{className:Ui}))}),[s]);return d?R().createElement("div",{className:Fi,ref:E},R().createElement("div",{className:Wi},R().createElement("div",{className:Gi},R().createElement("div",{className:Hi,title:n,ref:j},R().createElement("img",{className:Zi,src:k}),R().createElement("span",{className:Qi},n),R().createElement("span",{className:Ki},(0,Si.xx)(null!==o&&void 0!==o?o:0),"MB"))),R().createElement("div",{className:Yi},F())),R().createElement("div",{className:Bi,title:t},t),R().createElement("div",{className:Xi},R().createElement("div",{className:Ri},L(),v===li.LOADING&&R().createElement("div",{className:Li},R().createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJtYXJnaW46YXV0byIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGRpc3BsYXk9ImJsb2NrIj48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIzMCIgc3Ryb2tlPSIjZGFlOWZmODAiIHN0cm9rZS13aWR0aD0iMTAiIGZpbGw9Im5vbmUiLz48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIzMCIgc3Ryb2tlPSIjNDg5MmZlIiBzdHJva2Utd2lkdGg9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGZpbGw9Im5vbmUiIHRyYW5zZm9ybT0icm90YXRlKDcwOC45NTIgNTAgNTApIj48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGR1cj0iMS4yNXMiIHZhbHVlcz0iMCA1MCA1MDsxODAgNTAgNTA7NzIwIDUwIDUwIiBrZXlUaW1lcz0iMDswLjU7MSIvPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InN0cm9rZS1kYXNoYXJyYXkiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBkdXI9IjEuMjVzIiB2YWx1ZXM9IjE4Ljg0OTU1NTkyMTUzODc2IDE2OS42NDYwMDMyOTM4NDg4Mjs3NS4zOTgyMjM2ODYxNTUwMyAxMTMuMDk3MzM1NTI5MjMyNTQ7MTguODQ5NTU1OTIxNTM4NzYgMTY5LjY0NjAwMzI5Mzg0ODgyIiBrZXlUaW1lcz0iMDswLjU7MSIvPjwvY2lyY2xlPjwvc3ZnPg=="})),R().createElement("div",{className:ki,style:v===li.ERROR?{}:{display:"none"}},R().createElement(Di,null),R().createElement("span",{className:zi},p.Z.t("preview_fail")),R().createElement("span",{className:Pi,onClick:S},p.Z.t("retry"))),v===li.NO_AUTH&&R().createElement("div",{className:ki},R().createElement("img",{src:mi}),R().createElement("span",{className:zi},p.Z.t("no_auth_preivew"))),v===li.DELETE&&R().createElement("div",{className:ki},R().createElement("img",{src:mi}),R().createElement("span",{className:zi},Ii.hA.has(d)?p.Z.t("doc_delete"):p.Z.t("file_delete")))))):null},to=n("../node_modules/@tencent/xtable-common/es/domain-config/index.js"),no=function(e){var t=e.renderIcon,n=e.name,i=e.fileUrl,o=e.docType,r=e.size,s=e.isReadOnly,a=e.onDelete,l=e.id,d=(0,N.useState)({display:"none",zIndex:0}),c=d[0],u=d[1],h=(0,N.useRef)(null),g=(0,N.useRef)(null),f=(0,N.useCallback)((function(){var e;null===(e=h.current)||void 0===e||e.refreshDropContentMetric()}),[]),m=(0,N.useCallback)((function(){g.current=setTimeout((function(){u({display:"block",zIndex:9999})}),1e3)}),[]),p=(0,N.useCallback)((function(e){!1===e&&(g.current&&clearTimeout(g.current),u({display:"none",zIndex:0}))}),[]),v=(0,N.useCallback)((function(){return R().createElement(fi.H0,{className:"attachment-select",onMouseEnter:m},R().createElement("div",{className:"attachment-icon-container"},t()),R().createElement("div",{className:"name cell-editor-input"},n))}),[n,t,m]);return to.K.getIsToc()?R().createElement(R().Fragment,null,v()):R().createElement(gi.Dropdown,{trigger:"hover",ref:h,dropContentStyle:c,onVisibleChange:p,dropContent:R().createElement(eo,{adjustPosition:f,name:n,docType:o,fileUrl:i,size:r,isReadOnly:s,onDelete:a,id:l})},v())},io="VsExJeJgXWj3hkZZTmu1",oo="l9GVjpstcMm_dJ8V1BkJ",ro="MWiQNESGeKwesC1IMJhY",so=function(e){var t=e.status,n=e.progress,i=e.name,o=(0,N.useCallback)((function(){return t===hi.Lo.READY||t===hi.Lo.UPLOAD?R().createElement(ui,{percent:null!==n&&void 0!==n?n:0,strokeWidth:12,trailWidth:12,strokeColor:"#1e6fff",trailColor:"rgba(203, 205, 209, 0.6)",strokeLinecap:"butt",style:{width:"16px"}}):null}),[n,t]),r=(0,N.useCallback)((function(){return R().createElement("div",{className:oo},R().createElement(no,{name:i,renderIcon:o}))}),[i,o]);return R().createElement(R().Fragment,null,r())},ao=n("../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-toc/index.jsx"),lo=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/icon_smartsheet_control_add.svg"),co=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/attachment/attachment-dropdown.jsx"),uo=function(e){var t=e.status,n=e.progress,i=e.name,o=e.size,r=e.id,s=(0,N.useCallback)((function(){return t===hi.Lo.READY||t===hi.Lo.UPLOAD?R().createElement(ui,{percent:null!==n&&void 0!==n?n:0,strokeWidth:12,trailWidth:12,strokeColor:"#1e6fff",trailColor:"rgba(203, 205, 209, 0.6)",strokeLinecap:"butt",style:{width:"28px"}}):null}),[n,t]),a=(0,N.useCallback)((function(){Zn.H.remove(r)}),[r]),l=(0,N.useCallback)((function(){return R().createElement("div",{className:io,onClick:a})}),[a]),d=(0,N.useCallback)((function(){var e=(0,Si.xx)(o);return R().createElement("div",{className:ro},R().createElement(co.o,{name:i,size:e,renderIconContainer:l,imageElement:s()}))}),[i,s,l,o]);return R().createElement(R().Fragment,null,d())},ho=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/edit-cell.service.jsx"),go=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),fo=(0,N.createContext)(null),mo=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/select/pc/property-editor/styled.js"),po=function(e){var t=e.attachItemInfo,n=e.index,i=e.onDelete,o=e.onDownload,r=e.onDragEnd,s=e.onDragStart,a=(0,N.useContext)(fo),l=a.attachments,d=a.preAttachments,c=a.dropAttachment,u=a.updateAttachments,h=(0,N.useRef)(null),g=(0,N.useRef)(null),f=(0,kt.W)({index:n,id:t.id,type:"DND_OPTION",onDrop:c,dndOptions:l,originOptions:d}),m=f.handlerId,p=f.dropRef,v=f.dragRef,I=f.dragPreview,y=f.sortedOptions;(0,N.useEffect)((function(){u(y)}),[y,u]);var _=(0,N.useCallback)((function(){i(t)}),[t,i]),b=(0,N.useCallback)((function(e){var n;(null===(n=g.current)||void 0===n?void 0:n.contains(e.target))||o(t.fileUrl)}),[t.fileUrl,o]);p(h),I(h);var M=(0,N.useState)(!1),C=M[0],w=M[1],T=(0,N.useCallback)((function(){return w(!0)}),[]),E=(0,N.useCallback)((function(){return w(!1)}),[]),j=(0,N.useCallback)((function(){var e=C?1:0;return R().createElement("div",{className:"attachment-icon-container",ref:g},R().createElement("div",{className:"empty-icon"}),R().createElement(fi.lT,{onClick:_,style:{opacity:e}},R().createElement("div",{className:"delete-icon"})))}),[C,_]),A=(0,N.useCallback)((function(){return R().createElement(mo.zc,{ref:v,style:{opacity:C?1:0,width:"12px",height:"12px"}})}),[C,v]),x=(0,N.useCallback)((function(e){return R().createElement("img",{className:"attachment-icon",src:e})}),[]),D=(0,N.useCallback)((function(){var e=t.name,n=t.size,i=t.fileUrl,o=t.docType,a=(0,Si.xx)(n),l=(0,Si.ad)(i,e,o),d=(0,Ni.VE)(l);return R().createElement("div",{ref:h,"data-handler-id":m,onMouseOver:T,onMouseLeave:E,onDragEnd:r,onDragStart:s,style:{width:"100%"}},R().createElement(co.o,{name:e,size:a,renderIconContainer:j,renderDragIcon:A,imageElement:x(d),onDropdownAttachmentClick:b,containerStyle:{cursor:"pointer"}}))}),[t,b,E,T,m,r,s,A,j,x]);return R().createElement(fi.j,null,D())},vo=(0,N.createContext)(null),Io=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field-feature.pc.interface.js"),yo=function(e){var t=e.dropdownAttachments,n=e.position,i=e.onChange,o=e.dropdownRef,r=e.uploadingAttachmentDb,s=e.attachmentListContainerRef,a=(0,N.useState)(null!==t&&void 0!==t?t:[]),l=a[0],d=a[1],c=(0,N.useState)(null!==t&&void 0!==t?t:[]),u=c[0],h=c[1],g=(0,N.useState)("drop"),f=g[0],m=g[1],v=(0,N.useState)(!1),I=v[0],y=v[1],_=(0,N.useContext)(vo).draggerRef,b=(0,N.useCallback)((function(e){"dragleave"===e.type?(e.target.matches("canvas")||e.target.id===ho.CONTAINER_ID)&&m(e.type):m(e.type)}),[]);(0,N.useEffect)((function(){return document.body.addEventListener("dragover",b),document.body.addEventListener("dragleave",b),document.body.addEventListener("drop",b),function(){document.body.removeEventListener("dragover",b),document.body.removeEventListener("dragleave",b),document.body.removeEventListener("drop",b)}}),[_,b]);var M=(0,N.useCallback)((function(e){var t;e.preventDefault();var i=e.dataTransfer.files;Zn.H.upload(i,n),m(e.type),null===(t=o.current)||void 0===t||t.refreshDropContentMetric()}),[o,n]),C=(0,N.useCallback)((function(e){e.preventDefault()}),[]),w=(0,N.useState)(!1),T=w[0],E=w[1],j=(0,N.useCallback)((function(){return E(!0)}),[]),A=(0,N.useCallback)((function(){return E(!1)}),[]),x=(0,N.useCallback)((function(){return"dragover"!==f||I?null:R().createElement(fi.Sm,null,R().createElement("div",{className:"dragger-cover dragger-cover-show"},R().createElement("div",{className:"dragger dragger-over"},R().createElement("div",{className:"cover-content-position"},p.Z.t("field_drag_to_upload")))))}),[f,I]),D=(0,N.useCallback)((function(e){var t,i=e.clipboardData.files;Zn.H.upload(i,n),null===(t=o.current)||void 0===t||t.refreshDropContentMetric()}),[o,n]),S=(0,N.useCallback)((function(){return l.length>0||r.length>0?null:R().createElement(fi.lp,{onDragOver:C},R().createElement("div",{className:"dragger-list-empty"},R().createElement("div",{className:"dragger-content-position "},p.Z.t("attachment_drag_to_upload"))))}),[l.length,C,r.length]),O=(0,N.useCallback)((function(e){var t;d(e),h(e),null===(t=o.current)||void 0===t||t.refreshDropContentMetric()}),[o]);(0,N.useEffect)((function(){O(null!==t&&void 0!==t?t:[])}),[t,O]);var L=(0,N.useCallback)((function(){l.length?i(l,Io.S.CONFIRM):i(null,Io.S.CONFIRM)}),[l,i]),k=(0,N.useCallback)((function(e){var t=l.filter((function(t){return t.id!==e.id}));O(t),i(t,Io.S.CONFIRM)}),[l,O,i]),z=(0,N.useCallback)((function(e){(0,bi.tencentDocOpenUrlForAll)({url:e})}),[]),P=(0,N.useCallback)((function(){Zn.H.uploadFromLocal(n)}),[n]),F=(0,N.useCallback)((function(){O(l),y(!1),L()}),[l,L,O]),U=(0,N.useCallback)((function(){return R().createElement(fi._v,{className:"upload-button",id:"uploadButton",onClick:P,onMouseOver:j,onMouseLeave:A},T?R().createElement("div",{className:"newIcon"}):R().createElement(go.t,{src:lo,className:"attachment-color-icon",width:24,height:24,viewBox:"0 0 24 24"}),R().createElement("span",null,p.Z.t("field_upload_local_attachment")))}),[T,A,j,P]),B=(0,N.useCallback)((function(){h(l)}),[l]),W=(0,N.useCallback)((function(e){d(e)}),[]),G=(0,N.useCallback)((function(){return R().createElement("textarea",{onPaste:D,ref:_,style:{position:"fixed",top:-2e3,left:-2e3}})}),[_,D]),Z=(0,N.useCallback)((function(){var e;null===(e=_.current)||void 0===e||e.focus()}),[_]),H=(0,N.useCallback)((function(){return l&&u?R().createElement(gi.Dropdown.Keep,null,R().createElement(fi.PG,null,R().createElement("div",{ref:s,className:"attachment-list-container"},S(),x(),R().createElement(fo.Provider,{value:{attachments:l,preAttachments:u,updateAttachments:W,dropAttachment:B}},R().createElement(St.W,{backend:Nt.PD},l.map((function(e,t){return R().createElement(po,{attachItemInfo:e,index:t,onDelete:k,onDownload:z,onDragEnd:F,onDragStart:function(){return y(!0)}})}))),r.map((function(e){var t=e.instance,n=e.status,i=e.id,o=t.progress,r=t.name,s=t.size;return R().createElement(uo,{status:n,name:r,size:s,progress:o,id:i})})))),U())):U()}),[l,u,U,S,x,W,B,r,k,z,F,s]);return R().createElement("div",{className:"attachment-dragger-content",onClick:Z,onDragOver:C,onDrop:M,tabIndex:1},G(),H())},_o=(0,N.createContext)(null),bo={width:384,maxHeight:370,backgroundColor:"white",borderRadius:8,boxShadow:"0 6px 32px 2px rgba(68, 73, 77, 0.16), 0 4px 6px 2px rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.04)",marginTop:4,padding:0},Mo=["mousedown"],Co=function(e){var t=e.cellSize,n=e.renderAttachmentList,i=e.renderAttachmentLoadingList,o=e.renderPlus,r=e.renderDraggerContent,s=e.dropdownRef,a=e.onVisibleChange,l=(0,N.useRef)(null);return(0,_i.$)({domRef:l,events:Mo}),(0,N.useEffect)((function(){var e=l.current;if(e)return setTimeout((function(){e.scrollHeight<=e.clientHeight||e.addEventListener("wheel",_i.U)}),0),function(){e.removeEventListener("wheel",_i.U)}}),[]),R().createElement(gi.Dropdown,{dropContent:r(),dropContentStyle:bo,ref:s,alignment:"auto",placement:"auto",style:{width:"100%"},autoFocus:!1,destroyOnClose:!1,onVisibleChange:a},R().createElement(fi.JJ,{ref:l,style:{maxHeight:Math.max(t.height,180)+"px",minHeight:t.height-10+"px"}},n(),i(),o(),R().createElement(fi.dm,null,R().createElement("div",{className:"icon"}))))},wo=function(e){var t=e.value,n=e.uploadingAttachmentDb,i=e.onUpload,o=null!==t&&void 0!==t?t:[],r="26px",s=(0,N.useMemo)((function(){var e={right:o.length>0?r:"",left:o.length>0?"":"0px"};return n.length>0&&(e.right=r,e.left=""),e}),[o.length,n.length]),a=(0,N.useCallback)((function(){return R().createElement(fi.db,{onClick:i,style:s})}),[i,s]);return R().createElement(R().Fragment,null,a())},To=n("../node_modules/@tencent/docs-design-resources/pc/svg/file_drive_default_16.svg"),Eo=function(e){var t=e.attachments,n=e.isReadOnly,i=e.onDelete,o=(0,N.useCallback)((function(e,t,n){if(!t||!n)return To;var i=(0,Si.ad)(t,e,n);return(0,Ni.VE)(i)}),[]),r=(0,N.useCallback)((function(e,t){if(!t)return To;var n=(0,Ii.lN)(t,e);return(0,Ni.VE)(n)}),[]),s=(0,N.useCallback)((function(){return(null!==t&&void 0!==t?t:[]).map((function(e){var t=e.fileUrl,s=e.name,a=e.docType,l=e.classify,d=e.fileExt,c=e.size,u=e.id,h=to.K.getIsToc()?r(d,l):o(s,t,a);return R().createElement(no,{isReadOnly:n,onDelete:i,fileUrl:t,docType:a,name:s,renderIcon:function(){return R().createElement("img",{className:"icon",src:h})},size:c,id:u})}))}),[t,r,o,n,i]);return R().createElement(R().Fragment,null,s())},jo=function(e){var t=e.value,n=e.onChange,i=e.position,o=e.cellSize,r=e.isRecordDetail,s=(0,N.useState)(null!==t&&void 0!==t?t:[]),l=s[0],d=s[1],c=(0,N.useState)((function(){return Zn.H.getAttachmentDb().filter((function(e){return(0,ao.Y)(e.position,i)}))})),u=c[0],h=c[1],g=(0,N.useRef)(null),f=(0,N.useRef)(null),m=(0,N.useCallback)((function(e){var t;d(e),null===(t=g.current)||void 0===t||t.refreshDropContentMetric()}),[]);(0,N.useEffect)((function(){m(null!==t&&void 0!==t?t:[])}),[m,t]);var p=(0,N.useCallback)((function(e){e.stopPropagation(),Zn.H.uploadFromLocal(i)}),[i]),v=(0,N.useCallback)((function(e){var t=(0,a.Z)(l);e.forEach((function(e){var n=e.instance,i=n.id,o=n.fileUrl,r=n.size,s=n.fileExt,a=n.fileType,l=n.docType;e.status===hi.Lo.COMPLETE&&o&&s&&i&&a&&l&&(t.push({fileUrl:o,size:r,id:i,fileType:a,docType:l,name:n.name,fileExt:s}),m(t))}))}),[l,m]);(0,N.useLayoutEffect)((function(){var e=Zn.H.toBAttachmentStateChangeEvent.event((function(e){var t,n=e.attachmentDb.filter((function(e){return(0,ao.Y)(e.position,i)}));h(n),null===(t=g.current)||void 0===t||t.refreshDropContentMetric(),v(n)}));return function(){e.dispose()}}),[v,i]);var I=(0,N.useCallback)((function(){return R().createElement(yo,{dropdownAttachments:t,position:i,onChange:n,dropdownRef:g,uploadingAttachmentDb:u,attachmentListContainerRef:f})}),[n,i,u,t]),y=(0,N.useCallback)((function(){return R().createElement(wo,{value:t,uploadingAttachmentDb:u,onUpload:p})}),[p,u,t]),_=(0,N.useCallback)((function(e){var t=l.filter((function(t){return t.id!==e}));m(t),n(t,Io.S.CONFIRM)}),[l,n,m]),b=(0,N.useCallback)((function(){return R().createElement(Eo,{onDelete:_,attachments:l})}),[l,_]),M=(0,N.useCallback)((function(){return u.map((function(e){var t=e.status,n=e.instance,i=n.progress,o=n.name;return R().createElement(so,{status:t,name:o,progress:i})}))}),[u]),C=(0,N.useCallback)((function(){return R().createElement("div",{style:{minHeight:o.height+"px"}},I())}),[o.height,I]),w=(0,N.useCallback)((function(){setTimeout((function(){var e;null===(e=T.current)||void 0===e||e.focus()}),300)}),[]),T=(0,N.useRef)(null),E=(0,N.useCallback)((function(){return R().createElement(Co,{cellSize:o,renderAttachmentList:b,renderAttachmentLoadingList:M,renderPlus:y,renderDraggerContent:I,dropdownRef:g,onVisibleChange:w})}),[o,b,M,I,y,w]);return R().createElement(vo.Provider,{value:{draggerRef:T}},r?C():E())},Ao=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.position;return R().createElement(jo,{onChange:i,cellSize:n,value:t,position:o,isRecordDetail:!0})},xo=function(e){return{width:e.width+"px",minHeight:e.height+"px",background:"white",position:"relative"}},Do=Object.assign(Object.assign({},bo),{overflow:"auto"}),So={width:"100%",maxHeight:"180px",overflow:"auto"},No=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.position;return R().createElement("div",{style:xo(n)},R().createElement(jo,{position:o,onChange:i,cellSize:n,value:t}))},Ro="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+VXBsb2FkX2xvYWRpbmdfZmFpbGVkIDwvdGl0bGU+CiAgICA8ZyBpZD0i6aG16Z2iLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLotYTmupBf6ZO+5o6l5aSa5oCB5YiH5o2iIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcuMDAwMDAwLCAtMjQwLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNy4wMDAwMDAsIDI0MC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9IuakreWchuW9oiIgZmlsbD0iI0ZGNDc0NyIgY3g9IjEyIiBjeT0iMTIiIHI9IjkiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLDE0LjUgQzEyLjgyODQyNzEsMTQuNSAxMy41LDE1LjE3MTU3MjkgMTMuNSwxNiBDMTMuNSwxNi44Mjg0MjcxIDEyLjgyODQyNzEsMTcuNSAxMiwxNy41IEMxMS4xNzE1NzI5LDE3LjUgMTAuNSwxNi44Mjg0MjcxIDEwLjUsMTYgQzEwLjUsMTUuMTcxNTcyOSAxMS4xNzE1NzI5LDE0LjUgMTIsMTQuNSBaIE0xMy41LDYuNSBMMTMsMTMuNSBMMTEsMTMuNSBMMTAuNSw2LjUgTDEzLjUsNi41IFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",Oo=n("../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-toc/index.interface.js"),Lo="bbS5qsy4GNlUSrqjFigd",ko="FyxwdPkg6z4Hg_2Wf0th",zo="m1AibH6MyVGShfHviTnt",Po="c1bHBH9ulFFesZ2HTsSk",Fo="nBW64S32uACMhitia4vw",Uo=function(e){var t=e.status,n=e.progress,i=e.name,o=e.id,r=(0,N.useCallback)((function(){return t===Oo.Dm.PAUSING||t===Oo.Dm.UPLOADING||t===Oo.Dm.LOADING?R().createElement(ui,{percent:null!==n&&void 0!==n?n:0,strokeWidth:12,trailWidth:12,strokeColor:"#1e6fff",trailColor:"rgba(203, 205, 209, 0.6)",strokeLinecap:"butt",style:{width:"16px"}}):t===Oo.Dm.ERROR?R().createElement("div",{className:Po},R().createElement("img",{src:Ro})):null}),[n,t]),s=(0,N.useCallback)((function(){return R().createElement("div",{id:o,className:ko},R().createElement(no,{renderIcon:r,name:i}))}),[o,i,r]);return R().createElement(R().Fragment,null,s())},Bo=function(e){var t=e.status,n=e.progress,i=e.name,o=e.size,r=e.id,s=(0,N.useCallback)((function(){return t===Oo.Dm.PAUSING||t===Oo.Dm.UPLOADING||t===Oo.Dm.LOADING?R().createElement(ui,{percent:null!==n&&void 0!==n?n:0,strokeWidth:12,trailWidth:12,strokeColor:"#1e6fff",trailColor:"rgba(203, 205, 209, 0.6)",strokeLinecap:"butt",style:{width:"28px"}}):t===Oo.Dm.ERROR?R().createElement("div",{className:Fo},R().createElement("img",{src:Ro})):null}),[n,t]),a=(0,N.useCallback)((function(){ao.f.remove(r)}),[r]),l=(0,N.useCallback)((function(){return R().createElement("div",{className:"icon-container"},R().createElement("div",{className:Lo,onClick:a}))}),[a]),d=(0,N.useCallback)((function(){var e=(0,Si.xx)(o);return R().createElement("div",{id:r,className:zo},R().createElement(co.o,{name:i,size:e,renderIconContainer:l,imageElement:s()}))}),[r,i,s,l,o]);return R().createElement(R().Fragment,null,d())},Wo=function(e){var t=e.attachItemInfo,n=e.index,i=e.onDelete,o=e.onDownload,r=e.onDragEnd,s=(0,N.useContext)(_o),a=s.attachments,l=s.preAttachments,d=s.dropAttachment,c=s.updateAttachments,u=(0,N.useState)(!1),h=u[0],g=u[1],f=(0,N.useRef)(null),m=(0,N.useCallback)((function(){return g(!0)}),[]),p=(0,N.useCallback)((function(){return g(!1)}),[]),v=(0,kt.W)({index:n,id:t.id,type:"DND_OPTION",onDrop:d,dndOptions:a,originOptions:l}),I=v.handlerId,y=v.dropRef,_=v.dragRef,b=v.dragPreview,M=v.sortedOptions;(0,N.useEffect)((function(){c(M)}),[M,c]);var C=(0,N.useCallback)((function(){i(t)}),[t,i]),w=(0,N.useCallback)((function(){ao.f.getCanDownload()&&o(t.id)}),[t.id,o]),T=(0,N.useCallback)((function(){var e=h?1:0;return R().createElement("div",{className:"attachment-icon-container"},R().createElement(fi.CF,{onClick:w,style:{opacity:e}},R().createElement("div",{className:"download-icon"})),R().createElement(fi.lT,{onClick:C,style:{opacity:e}},R().createElement("div",{className:"delete-icon"})))}),[h,C,w]);y(f),b(f);var E=(0,N.useCallback)((function(){return R().createElement(mo.zc,{ref:_,style:{opacity:h?1:0,width:"12px",height:"12px"}})}),[h,_]),j=(0,N.useCallback)((function(e){return R().createElement("img",{className:"attachment-icon",src:e})}),[]),A=(0,N.useCallback)((function(e){var t=e.size,n=(0,Si.kR)(e),i=(0,Ni.VE)(n),o=(0,Si.xx)(t);return R().createElement("div",{ref:f,"data-handler-id":I,onMouseOver:m,onMouseLeave:p,onDragEnd:r,style:{width:"100%"}},R().createElement(co.o,{name:e.name,size:o,renderIconContainer:T,renderDragIcon:E,imageElement:j(i)}))}),[p,m,I,r,E,T,j]);return R().createElement(fi.j,null,A(t))},Go=function(){var e=(0,N.useCallback)((function(e){e.stopPropagation()}),[]);return{clearStopPropagation:(0,N.useCallback)((function(){for(var t=document.getElementsByTagName("input"),n=0,i=Array.from(t);n<i.length;n++)i[n].addEventListener("click",e);return function(){for(var n=0,i=Array.from(t);n<i.length;n++)i[n].removeEventListener("click",e)}}),[e])}},Zo=function(e){var t=e.dropdownAttachments,n=e.position,i=e.onChange,o=e.dropdownRef,r=e.uploadingAttachmentDb,s=e.attachmentListContainerRef,a=(0,N.useState)(null!==t&&void 0!==t?t:[]),l=a[0],d=a[1],c=(0,N.useState)(null!==t&&void 0!==t?t:[]),u=c[0],h=c[1],g=Go().clearStopPropagation,f=(0,N.useCallback)((function(e){var t;d(e),h(e),null===(t=o.current)||void 0===t||t.refreshDropContentMetric()}),[o]);(0,N.useEffect)((function(){f(null!==t&&void 0!==t?t:[])}),[t,f]);var m=(0,N.useCallback)((function(){g(),ao.f.insertAttachment(n)}),[g,n]),v=(0,N.useState)(!1),I=v[0],y=v[1],_=(0,N.useCallback)((function(){return y(!0)}),[]),b=(0,N.useCallback)((function(){return y(!1)}),[]),M=(0,N.useCallback)((function(){return R().createElement(fi._v,{className:"upload-button",id:"uploadButton",onClick:m,onMouseOver:_,onMouseLeave:b},I?R().createElement("div",{className:"newIcon"}):R().createElement(go.t,{src:lo,className:"attachment-color-icon",width:24,height:24,viewBox:"0 0 24 24"}),R().createElement("span",null,p.Z.t("field_upload_local_attachment")))}),[I,b,_,m]),C=(0,N.useCallback)((function(){h(l)}),[l]),w=(0,N.useCallback)((function(e){d(e)}),[]),T=(0,N.useCallback)((function(e){var t=l.filter((function(t){return t.id!==e.id}));f(t),i(t,Io.S.CONFIRM),ao.f.remove(e.id)}),[l,f,i]),E=(0,N.useCallback)((function(e){ao.f.downloadAttachment(e)}),[]),j=(0,N.useCallback)((function(){l.length?i(l,Io.S.CONFIRM):i(null,Io.S.CONFIRM)}),[l,i]),A=(0,N.useCallback)((function(){f(l),j()}),[l,j,f]),x=(0,N.useCallback)((function(){return l&&u?R().createElement(mt.default.Keep,null,R().createElement(fi.PG,null,R().createElement("div",{className:"attachment-list-container",ref:s},R().createElement(_o.Provider,{value:{attachments:l,preAttachments:u,updateAttachments:w,dropAttachment:C}},R().createElement(St.W,{backend:Nt.PD},l.map((function(e,t){return R().createElement(Wo,{attachItemInfo:e,index:t,onDelete:T,onDownload:E,onDragEnd:A})}))),r.map((function(e){var t=e.statusName,n=e.instance,i=n.type,o=n.progress,r=n.name,s=n.size,a=n.id;return R().createElement(Bo,{status:t,id:a,name:r,size:s,progress:o,fileType:i})})))),M())):M()}),[l,C,T,E,A,u,M,w,r,s]);return R().createElement(R().Fragment,null,x())},Ho=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/utils/index.js"),Yo=function(e){var t=e.value,n=e.onChange,i=e.position,o=e.cellSize,r=e.isRecordDetail,s=(0,N.useState)(null!==t&&void 0!==t?t:[]),l=s[0],d=s[1],c=(0,N.useState)((function(){return ao.f.getAttachmentDb().filter((function(e){return(0,ao.Y)(e.position,i)}))})),u=c[0],h=c[1],g=(0,N.useRef)(null),f=(0,N.useRef)(null),m=Go().clearStopPropagation;(0,N.useEffect)((function(){d(null!==t&&void 0!==t?t:[])}),[t]);var p=(0,N.useCallback)((function(e){m(),e.stopPropagation(),ao.f.insertAttachment(i)}),[m,i]),v=(0,N.useCallback)((function(e){var t;d(e),null===(t=g.current)||void 0===t||t.refreshDropContentMetric()}),[]),I=(0,N.useCallback)((function(e){var t=(0,a.Z)(l);e.forEach((function(e){var n=e.instance;e.statusName===Oo.Dm.SUCCESS&&n.id&&(t.push({classify:n.classify,size:n.size,id:n.id,name:n.name,fileExt:n.type}),v(t))}))}),[l,v]),y=(0,N.useCallback)((function(e){e.forEach((function(e){e.statusName===Oo.Dm.UPLOADING&&setTimeout((function(){return(0,Ho.O)(f)}),0)}))}),[]);(0,N.useLayoutEffect)((function(){var e=ao.f.attachmentStateChangeEvent.event((function(e){var t,n=e.attachmentDb.filter((function(e){return(0,ao.Y)(e.position,i)}));h(n),null===(t=g.current)||void 0===t||t.refreshDropContentMetric(),I(n),y(n)}));return function(){e.dispose()}}),[I,i,y]);var _=(0,N.useCallback)((function(){return R().createElement(Zo,{dropdownAttachments:t,position:i,onChange:n,dropdownRef:g,attachmentListContainerRef:f,uploadingAttachmentDb:u})}),[n,i,u,t]),b=(0,N.useCallback)((function(){return R().createElement(wo,{value:t,uploadingAttachmentDb:u,onUpload:p})}),[p,u,t]),M=(0,N.useCallback)((function(){return R().createElement(Eo,{attachments:l})}),[l]),C=(0,N.useCallback)((function(){return u.map((function(e){var t=e.statusName,n=e.instance,i=n.type,o=n.progress,r=n.name,s=n.size,a=n.id;return R().createElement(Uo,{status:t,id:a,name:r,size:s,progress:o,fileType:i})}))}),[u]),w=(0,N.useCallback)((function(){return R().createElement("div",{style:{minHeight:o.height+"px"}},_())}),[o.height,_]),T=(0,N.useCallback)((function(){return R().createElement(Co,{cellSize:o,renderAttachmentList:M,renderAttachmentLoadingList:C,renderPlus:b,renderDraggerContent:_,dropdownRef:g})}),[o,M,C,_,b]);return R().createElement(R().Fragment,null,r?w():T())},Vo=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.position;return R().createElement(Yo,{onChange:i,cellSize:n,value:t,position:o,isRecordDetail:!0})},Qo=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.position;return R().createElement("div",{style:xo(n)},R().createElement(Yo,{position:o,onChange:i,cellSize:n,value:t}))},Ko=function(e){var t=e.value,n=(0,N.useCallback)((function(){return R().createElement(fi.uu,null,R().createElement("div",{className:"empty"},p.Z.t("no_attachment")))}),[]),i=(0,N.useCallback)((function(e){return R().createElement("img",{className:"attachment-icon",src:e})}),[]),o=(0,N.useCallback)((function(){return R().createElement(mo.um,null)}),[]),r=(0,N.useCallback)((function(e){var t=e.size,n="";if(to.K.getIsToc()){var r=(0,Si.kR)(e);n=(0,Ni.VE)(r)}else{var s=e.docType,a=e.name,l=e.fileUrl,d=(0,Si.ad)(l,a,s);n=(0,Ni.VE)(d)}var c=(0,Si.xx)(t);return R().createElement(co.o,{name:e.name,size:c,imageElement:i(n),renderDragIcon:o})}),[o,i]),s=(0,N.useCallback)((function(){var e=null!==t&&void 0!==t?t:[];return e.length?R().createElement(gi.Dropdown.Keep,{style:{paddingBottom:"12px"}},R().createElement(fi.PG,null,R().createElement("div",{className:"attachment-list-container"},e.map((function(e){return R().createElement(fi.j,null,r(e))}))))):R().createElement(R().Fragment,null,n())}),[t,n,r]);return R().createElement(R().Fragment,null,s())},Xo=["mousedown"],Jo=function(e){var t=e.value,n=(0,N.useRef)(null);return(0,N.useEffect)((function(){var e=n.current;if(e)return setTimeout((function(){e.addEventListener("wheel",_i.U)}),0),function(){e.removeEventListener("wheel",_i.U)}}),[]),(0,_i.$)({domRef:n,events:Xo}),R().createElement(gi.Dropdown,{dropContent:R().createElement(Ko,{value:t}),dropContentStyle:Do,alignment:"auto",placement:"auto",style:So,autoFocus:!1,destroyOnClose:!1},R().createElement(fi.JJ,{style:{maxHeight:"180px"},className:"attachment-cell-editor",ref:n},R().createElement(Eo,{attachments:t,isReadOnly:!0}),R().createElement(fi.dm,null,R().createElement("div",{className:"icon"}))))},qo=function(e){var t=e.value,n=e.cellSize;return R().createElement("div",{style:xo(n),id:"attachment-reader-container"},R().createElement(Jo,{value:t}))},$o=function(e){var t=e.value;return R().createElement(Ko,{value:t})},er=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReaderWrapper=function(){return qo},n.getCellReader=function(){return $o},n.getCellEditorWrapper=function(e){return e.isWecom?No:Qo},n.getCellEditor=function(e){return e.isWecom?Ao:Vo},n.getPropertyEditor=function(){return null},n.getFilterConditionEditor=function(){return null},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.IN},t}(Gn.M),tr=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/checkbox/base-field-feature.service.jsx"),nr=n("../node_modules/@tencent/dui/lib/components/Checkbox/index.js"),ir=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.autoFocus,r=(0,N.useMemo)((function(){return null!==t&&void 0!==t&&t}),[t]),s=(0,N.useCallback)((function(e){i(e,Io.S.CONFIRM)}),[i]);return R().createElement(nr.default,{checked:r,onChange:s,iconStyle:{backgroundColor:r?"#06a357":void 0},style:{width:"48px",height:n.height+"px",marginLeft:"14px",marginTop:"12px"},autoFocus:o})},or=function(e){var t=e.value,n=e.autoFocus,i=(0,N.useMemo)((function(){return null!==t&&void 0!==t&&t}),[t]);return R().createElement("div",{className:"checkbox-reader",style:{width:"48px",height:"48px",boxSizing:"border-box",paddingTop:15,paddingLeft:15}},R().createElement(nr.default,{iconStyle:{backgroundColor:i?"#06a357":void 0},checked:i,autoFocus:n}))},rr=function(e){var t=e.cellSize,n=e.condition,i=e.onChange,o=n.value,r=(0,N.useCallback)((function(e){i(!0===e)}),[i]);return R().createElement("div",null,R().createElement(nr.default,{checked:!0===o,onChange:r,style:{border:"1px solid #e3e3e3",borderRadius:"4px",height:t.height+"px",width:t.width+"px"},iconStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}))},sr=n("../node_modules/@tencent/dui/lib/components/Switch/index.js"),ar=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/field-type.service.js"),lr=jn.ZP.div(Ti||(Ti=(0,En.Z)([""]))),dr=jn.ZP.div(Ei||(Ei=(0,En.Z)(["\n  :not(:first-child) {\n    margin-top: 8px;\n  }\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.88);\n\n  .label {\n    margin-right: 8px;\n    line-height: 36px;\n    height: auto;\n    flex: 1;\n  }\n\n  .iconCharacter {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),cr=function(e){var t=e.property,n=e.onChange,i=e.canEdit,o=(0,N.useState)(t.checked),r=o[0],s=o[1];(0,N.useEffect)((function(){n({checked:r})}),[n,r]);var a=(0,N.useCallback)((function(e){s(e),ar.f.modifyDefaultChecked(e)}),[]);return R().createElement(lr,null,R().createElement(dr,null,R().createElement("div",{className:"label"},p.Z.t("default_checked")),R().createElement(sr.default,{disabled:!i,checked:r,onChange:a})))},ur=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return or},n.getCellReaderWrapper=function(){return null},n.getCellEditorWrapper=function(){return null},n.getCellEditor=function(){return ir},n.getPropertyEditor=function(){return cr},n.getFilterConditionEditor=function(){return rr},n.getCellHTML=function(e){var t=e.data;return 0===t.length?p.Z.t("no"):t[0].text},n.getFilterOperatorTextMap=function(){return V.$Z},n.getSortOrderInfo=function(){return Be.jN},t}(tr.i),hr=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/created-time/base-field-feature.service.jsx"),gr=function(e,t){(0,N.useEffect)((function(){var n;e&&(null===(n=t.current)||void 0===n||n.focus())}),[t,e])},fr=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/number/mobile/cell-reader/index.jsx"),mr=jn.ZP.div(ji||(ji=(0,En.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  cursor: not-allowed;\n  font-size: 10pt;\n  min-height: ","px;\n  margin-left: 10px;\n\n  .time-picker {\n    width: 40%;\n  }\n\n  .calendar {\n    width: 60%;\n  }\n\n  .calendar_large {\n    width: 100%;\n  }\n"])),fr.v),pr=function(e){var t=e.standardCell,n=e.cellSize,i=e.autoFocus,o=(0,N.useMemo)((function(){return t&&0!==t.data.length?t.data[0].text:""}),[t]),r=(0,N.useRef)(null);return gr(i,r),R().createElement(mr,{style:n,tabIndex:0,ref:r},o)},vr=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.interface.js"),Ir=[{type:vr.c.YEAR_MONTH_DAY,text:"2018年4月20日"},{type:vr.c.YEAR_MONTH_DAY_WITH_LINE,text:"2018-04-20"},{type:vr.c.YEAR_MONTH_DAY_WITH_SLASH,text:"2018/4/20"},{type:vr.c.MONTH_DAY,text:"4月20日"},{type:vr.c.YEAR_MONTH_WEEK_DAY,text:"2018年4月20日 星期五"},{type:vr.c.YEAR_MONTH_DAY_TIME,text:"2018年4月20日 14:00"},{type:vr.c.YEAR_MONTH_DAY_TIME_WITH_LINE,text:"2018-04-20 14:00"},{type:vr.c.MONTH_DAY_YEAR_WITH_SLASH,text:"4/20/2018"},{type:vr.c.DAY_MONTH_YEAR_WITH_SLASH,text:"20/4/2018"}],yr=function(e){var t=e.format,n=e.onChange,i=e.canEdit,o=(0,N.useCallback)((function(){return Ir.map((function(e){return R().createElement(Tn.default.Option,{value:e.type,key:e.type},e.text)}))}),[]),r=(0,N.useCallback)((function(e){var t=e;n(t),ar.f.modifyDateTimeFormat(t)}),[n]);return R().createElement(dr,null,R().createElement(Tn.default,{containerStyle:{width:"100%"},defaultValue:t,onChange:r,disabled:!i},o()))},_r=function(e){var t=e.property,n=e.onChange,i=e.canEdit,o=(0,N.useState)(t.format),r=o[0],s=o[1];return(0,N.useEffect)((function(){n({format:r})}),[n,r]),React.createElement("div",{className:"created-time-property-editor"},React.createElement(yr,{canEdit:i,format:r,onChange:s}))},br=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/dropdown_24_hover.svg"),Mr=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/dropdown_24_nor.svg"),Cr="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZHJvcGRvd25fMjRfc2VsZWN0ZWQ8L3RpdGxlPgogICAgPGcgaWQ9IuS4u+ahhuaetiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWIl+ihqOeKtuaAgSZhbXA75Zu+5qCH6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjcwNi4wMDAwMDAsIC00NzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLlm77moIciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0NjYuMDAwMDAwLCAzMzcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uELTQ5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDQuMDAwMDAwLCAxMjIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuS4i+aLieeureWktCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDIwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0ic2VsZWN0ZWQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk2LjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGwtb3BhY2l0eT0iMC4wNzY5MDU4NTE5IiBmaWxsPSIjMDAwMDAwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iUEMv5Z+656GAL+eureWktC/kuIvlpIfku70tMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC4wMDAwMDAsIDQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJQQy/ln7rnoYAv566t5aS0L+S4iiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSBzY2FsZSgxLCAtMSkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik04LjIxMzMzMzMzLDUuNjE3Nzc3NzggTDExLjY4LDEwLjI0IEMxMS43NjgzNjU2LDEwLjM1NzgyMDcgMTEuNzQ0NDg3NCwxMC41MjQ5Njc4IDExLjYyNjY2NjcsMTAuNjEzMzMzMyBDMTEuNTgwNTA3NywxMC42NDc5NTI2IDExLjUyNDM2NTQsMTAuNjY2NjY2NyAxMS40NjY2NjY3LDEwLjY2NjY2NjcgTDQuNTMzMzMzMzMsMTAuNjY2NjY2NyBDNC4zODYwNTc0LDEwLjY2NjY2NjcgNC4yNjY2NjY2NywxMC41NDcyNzU5IDQuMjY2NjY2NjcsMTAuNCBDNC4yNjY2NjY2NywxMC4zNDIzMDEzIDQuMjg1MzgwNzcsMTAuMjg2MTU5IDQuMzIsMTAuMjQgTDcuNzg2NjY2NjcsNS42MTc3Nzc3OCBDNy44NzUwMzIyMyw1LjQ5OTk1NzAzIDguMDQyMTc5MjUsNS40NzYwNzg4OCA4LjE2LDUuNTY0NDQ0NDQgQzguMTgwMjE0ODQsNS41Nzk2MDU1OCA4LjE5ODE3MjIsNS41OTc1NjI5MyA4LjIxMzMzMzMzLDUuNjE3Nzc3NzggWiIgaWQ9IuS4ieinkuW9oiIgZmlsbD0iIzgxODY4RiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",wr=n("../node_modules/@tencent/xtable-render/es/constants/style.js");!function(e){e[e.one=35]="one",e[e.two=53]="two",e[e.four=95]="four",e[e.six=134]="six"}(xi||(xi={}));var Tr,Er,jr=jn.ZP.div(Ai||(Ai=(0,En.Z)(["\n  display: flex;\n  background-color: rgb(255, 255, 255);\n  border-radius: 4px;\n  color: #6495ed;\n  font-weight: 500;\n  min-height: ","px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding-left: ","px;\n\n  .link-icon {\n    width: ","px;\n    height: ","px;\n    padding: 7px ","px 0 0;\n  }\n\n  .content {\n    flex: 1;\n    padding: 6px 0;\n\n    .link-span {\n      cursor: pointer;\n      font-size: ","pt;\n      font-family: ",";\n      white-space: pre-wrap;\n      word-wrap: break-word;\n      word-break: break-all;\n      overflow-x: hidden;\n      line-height: ","px;\n\n      :hover {\n        text-decoration: underline;\n      }\n    }\n\n    .read-text-overflow {\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: ",";\n      overflow: hidden;\n    }\n\n    .read-status-link {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .text-editor {\n      white-space: pre-wrap;\n    }\n\n    // 只读态时隐藏 text-editor\n    .read.text-editor {\n      width: 0px;\n      height: 0px;\n      overflow: hidden;\n    }\n  }\n\n  .dropdown-icon {\n    width: ","px;\n    height: ","px;\n    // margin-top: 4.5px 使得 icon 在默认高度下居中\n    margin-top: 4.5px;\n    margin-right: 4px;\n    cursor: pointer;\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-image: url(",");\n\n    :hover {\n      background-image: url(",");\n    }\n    :focus {\n      background-image: url(",");\n    }\n  }\n"])),(function(e){var t;return null===(t=e.cellSize)||void 0===t?void 0:t.height}),7,16,16,4,10,wr.ut,21,(function(e){var t;if(!(null===(t=e.cellSize)||void 0===t?void 0:t.height))return null;switch(e.cellSize.height){case xi.one:return 1;case xi.two:return 2;case xi.four:return 4;case xi.six:return 6;default:return null}}),24,24,Mr,br,Cr),Ar=function(e){var t=e.standardCell,n=e.autoFocus,i=(0,N.useRef)(null),o=(0,N.useMemo)((function(){return t&&0!==t.data.length?t.data[0].text:""}),[t]);return gr(n,i),R().createElement("div",{ref:i,tabIndex:0,className:"date-time-reader",style:{lineHeight:xi.one+"px",padding:"0 8px",minHeight:xi.one+"px",boxSizing:"border-box"}},o)},xr=(n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/@tencent/form-ui-components/lib/components/calendar/dayjs.js")),Dr=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/edit-status/edit-status.interface.js"),Sr=n("../node_modules/@tencent/form-ui-components/lib/components/calendar/index.js"),Nr=function(e,t){return new Date(e.year(),e.month(),e.date(),t.hour(),t.minute(),t.second(),t.millisecond()).valueOf()},Rr=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.js"),Or=n("../node_modules/@tencent/xtable-core/es/model/field/date-time/date-time-field.js"),Lr=function(e,t,n){return t?Rr.od.getDateTimeStringList(n,e).dateString:""},kr=function(e){var t=e.onChange,n=e.dateTime,i=e.format,o=e.placeholder,r=e.autoFocus,s=e.value,a=e.onInputStatusChange,l=e.visible,d=e.onVisibleChange,c=e.onQuickEdit,u=e.setStatus,h=(0,N.useRef)(null),g=(0,N.useState)((function(){return Lr(i,s,n)})),f=g[0],m=g[1],p=(0,N.useRef)(null);(0,N.useEffect)((function(){var e=Lr(i,s,n);m(e)}),[n,i,s]),(0,N.useEffect)((function(){r&&setTimeout((function(){var e;null===(e=h.current)||void 0===e||e.focus()}),0)}),[r]);var v=(0,N.useCallback)((function(e){var n=Rr.od.getDateTimeStringList(e,i).dateString;m(n),t(e.valueOf(),Io.S.CONFIRM),d(!1),null===u||void 0===u||u(Dr.R.STABLE_EDIT)}),[i,t,d,u]),I=(0,N.useCallback)((function(e){return e.valueOf()>=Or.ZW.MAX||e.valueOf()<=Or.ZW.MIN}),[]),y=(0,N.useCallback)((function(){return R().createElement("div",{ref:p},R().createElement(mt.default.Keep,null,R().createElement(Sr.ZP,{disabledDate:I,defaultValue:n,showDateInput:!1,onSelect:v})))}),[n,v,I]),_=(0,N.useCallback)((function(e){l&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())}),[l]),b=(0,N.useCallback)((function(e){m(e),l||d(!0)}),[d,l]),M=(0,N.useCallback)((function(e,o){if(""!==e){var r=Rr.od.convertDayjsObj(e,Rr.Un,!0);if(r.isValid()){var a=Nr(r,n);t(a,o)}else{var l=Lr(i,s,n);m(l)}}else t(null,o)}),[t,n,i,s]),C=(0,N.useCallback)((function(){null===a||void 0===a||a(!0)}),[a]),w=(0,N.useCallback)((function(e){var t,n,i=e.currentTarget.value;null===a||void 0===a||a(!1),null===(n=null===(t=p.current)||void 0===t?void 0:t.contains(e.relatedTarget))||void 0===n||n||(M(i,Io.S.BLUR),null===u||void 0===u||u(Dr.R.STABLE_EDIT))}),[a,M,u]),T=(0,N.useCallback)((function(e){var t,n=e.currentTarget.value;(0,At.m)(e,((t={}).Enter=function(){return M(n,Io.S.ENTER)},t.Tab=function(){return M(n,Io.S.TAB)},t.Escape=function(){return M(n,Io.S.ESC)},t)),null===c||void 0===c||c(e)}),[M,c]);return R().createElement(mt.default,{dropContent:y(),alignment:"auto",placement:"auto",visible:l,onVisibleChange:d,autoFocus:!1,style:{width:"100%"}},R().createElement(rt.Input,{className:"input-container",inputClassName:"input cell-editor-input",value:f,onClick:_,onChange:b,onKeyDown:T,placeholder:o,inputRef:h,onBlur:w,onFocus:C,inputStyle:{fontSize:"10pt",borderRadius:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"0 0 4px 7px"}}))},zr=(n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/@tencent/dui/lib/components/TimePicker/index.js")),Pr=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/constant/zindex.js"),Fr=new RegExp(/^(?:[01]\d|2[0-3]):[0-5]\d$/),Ur=function(e,t,n){var i;return t&&null!==(i=Rr.od.getDateTimeStringList(n,e).timeString)&&void 0!==i?i:""},Br=function(e){var t=e.value,n=e.dateTime,i=e.format,o=e.visible,r=e.onChange,s=e.onVisibleChange,a=e.placeholder,l=e.onInputStatusChange,d=(0,N.useState)((function(){return Ur(i,t,n)})),c=d[0],u=d[1],h=(0,N.useRef)(null);(0,N.useEffect)((function(){var e=Ur(i,t,n);u(e)}),[i,t,n]);var g=(0,N.useCallback)((function(e){if(o)return e.stopPropagation(),void e.nativeEvent.stopImmediatePropagation();s(!0)}),[s,o]),f=(0,N.useCallback)((function(e){u(e)}),[u]),m=(0,N.useCallback)((function(e,o){var s=e.trim();if(Fr.test(s)){var a=s.split(":"),l=a[0],d=a[1],c=function(e,t,n){return new Date(e.year(),e.month(),e.date(),t,n,e.second(),e.millisecond())}(n,parseInt(l,10),parseInt(d,10));r(c.valueOf(),o)}else{var h=Ur(i,t,n);u(h)}}),[i,t,n,r]),p=(0,N.useCallback)((function(e){var t,n=e.currentTarget.value;(0,At.m)(e,((t={}).Enter=function(){return m(n,Io.S.ENTER)},t.Tab=function(){return m(n,Io.S.TAB)},t.Escape=function(){return m(n,Io.S.ESC)},t))}),[m]),v=(0,N.useCallback)((function(){null===l||void 0===l||l(!0)}),[l]),I=(0,N.useCallback)((function(e){var t,n,i=e.currentTarget.value;null===l||void 0===l||l(!1),null===(n=null===(t=h.current)||void 0===t?void 0:t.contains(e.relatedTarget))||void 0===n||n||m(i,Io.S.BLUR)}),[l,m]),y=(0,N.useCallback)((function(){return R().createElement(rt.Input,{className:"input-container",inputClassName:"input cell-editor-input",value:c,onClick:g,onKeyDown:p,onChange:f,placeholder:a,onBlur:I,onFocus:v,inputStyle:{fontSize:"10pt",borderRadius:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"0 6px 4px 0"}})}),[a,v,p,I,f,g,c]),_=(0,N.useCallback)((function(e){var t=Rr.od.getDateTimeStringList(e,i).timeString;u(null!==t&&void 0!==t?t:"")}),[i]),b=(0,N.useCallback)((function(e){_(e);var t=Nr(n,e);r(t,Io.S.CONFIRM)}),[_,r,n]);return R().createElement("div",{ref:h},R().createElement(zr.default,{defaultValue:n,input:y(),onChange:_,onOk:b,showSecond:!1,dropdownAutoFocus:!1,style:{zIndex:Pr.F},visible:o,onVisibleChange:s}))},Wr=jn.ZP.div(Tr||(Tr=(0,En.Z)(["\n  position: relative;\n  display: flex;\n  border-radius: 4px;\n\n  .input-container {\n    .input {\n      font-size: 10pt;\n      border: none;\n    }\n  }\n\n  .time-picker {\n    width: 35%;\n  }\n\n  .calendar {\n    width: 65%;\n  }\n"]))),Gr=function(e){var t=e.value,n=e.property,i=e.onChange,o=e.onInputStatusChange,r=e.onDropdownVisible,s=e.autoFocus,a=e.onQuickEdit,l=e.status,d=e.setStatus,c=e.getDefaultValue,u=n.format,h=(0,N.useMemo)((function(){if(t)return t;var e=null===c||void 0===c?void 0:c();return null!==e&&void 0!==e?e:Date.now()}),[t,c]),g=(0,N.useMemo)((function(){return(0,xr.Z)(h)}),[h]),f=(0,N.useMemo)((function(){return(0,Rr.EO)(u)}),[u]),m=(0,N.useState)(!1),p=m[0],v=m[1],I=(0,N.useState)(!1),y=I[0],_=I[1];(0,N.useEffect)((function(){if(l===Dr.R.READ)return _(!1);_(null!==s&&void 0!==s&&s)}),[s,l]),(0,N.useEffect)((function(){null===r||void 0===r||r(y||p)}),[y,r,p]);var b=(0,N.useCallback)((function(){return R().createElement(kr,{dateTime:g,value:t,format:u,placeholder:f.split(" ")[0],visible:y,onVisibleChange:_,onChange:i,autoFocus:s,onInputStatusChange:o,onQuickEdit:a,setStatus:d})}),[u,g,i,s,d,t,f,o,y,a]),M=(0,N.useCallback)((function(){return R().createElement(Br,{dateTime:g,value:t,format:u,placeholder:f.split(" ")[1],visible:p,onVisibleChange:v,onChange:i,onInputStatusChange:o})}),[t,g,u,f,p,i,o]),C=(0,N.useCallback)((function(){return R().createElement(R().Fragment,null,R().createElement("div",{className:"calendar"},b()),R().createElement("span",{className:"time-picker"},M()))}),[b,M]),w=(0,N.useCallback)((function(){return Rr.GI.includes(u)?b():Rr.Ol.includes(u)?C():null}),[b,C,u]);return R().createElement(Wr,null,w())},Zr=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/sort/editor/index.module.css"),Hr=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/type-operator/type-operation/date/date-duration.js"),Yr=function(e){var t=e.options,n=e.defaultValue,i=e.onChange,o=(0,N.useCallback)((function(e){var t=Number(e);W.V.modifyFilterDateDuration(t),i({timestamps:[],type:t})}),[i]);return t.length?R().createElement(Tn.default,{defaultValue:n.toString(),onChange:o},t.map((function(e){return R().createElement(Tn.default.Option,{value:e.toString()},V.QF[e.toString()])}))):(Ee.k.info("no options",e),null)},Vr=function(e){var t=e.condition,n=e.onChange,i=t.value,o=t.operator,r=(0,N.useMemo)((function(){return{options:V.Kb[o],defaultValue:Hr.Ot.DETAIL_DATE,onChange:n}}),[n,o]),s=(0,N.useCallback)((function(e){var t=null;null!==e&&(t={type:Hr.Ot.DETAIL_DATE,timestamps:[Number(e)]}),n(t)}),[n]),a=(0,N.useCallback)((function(e,t){switch(t){case Io.S.ENTER:case Io.S.BLUR:case Io.S.CONFIRM:s(e)}}),[s]),l=function(e){return R().createElement("div",{className:Zr.Z.formCol},R().createElement(Yr,Object.assign({},r)),R().createElement("div",null,R().createElement("div",{style:{border:"1px solid #e3e3e3",borderRadius:"4px"}},R().createElement(Gr,{value:e.cellValue,property:{autoFill:!1,format:e.format},onChange:a}))))};if(!Qr(i)||i.type===Hr.Ot.DETAIL_DATE){var d=e.property,c=Qr(i)?i.timestamps[0]:null,u=d.format,h=$r[u];return R().createElement(l,{cellValue:c,format:h})}return r.defaultValue=i.type,R().createElement(Yr,Object.assign({},r))};function Qr(e){return"object"===typeof e&&null!==e&&"type"in e&&"timestamps"in e}var Kr,Xr,Jr,qr,$r=((Er={})[vr.c.YEAR_MONTH_DAY]=vr.c.YEAR_MONTH_DAY,Er[vr.c.YEAR_MONTH_DAY_WITH_LINE]=vr.c.YEAR_MONTH_DAY_WITH_LINE,Er[vr.c.YEAR_MONTH_DAY_WITH_SLASH]=vr.c.YEAR_MONTH_DAY_WITH_SLASH,Er[vr.c.MONTH_DAY]=vr.c.MONTH_DAY,Er[vr.c.MONTH_DAY_YEAR_WITH_SLASH]=vr.c.MONTH_DAY_YEAR_WITH_SLASH,Er[vr.c.DAY_MONTH_YEAR_WITH_SLASH]=vr.c.DAY_MONTH_YEAR_WITH_SLASH,Er[vr.c.YEAR_MONTH_WEEK_DAY]=vr.c.YEAR_MONTH_DAY,Er[vr.c.YEAR_MONTH_DAY_TIME]=vr.c.YEAR_MONTH_DAY,Er[vr.c.YEAR_MONTH_DAY_TIME_WITH_LINE]=vr.c.YEAR_MONTH_DAY_WITH_LINE,Er),es=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return Ar},n.getCellReaderWrapper=function(){return null},n.getCellEditorWrapper=function(){return null},n.getCellEditor=function(){return pr},n.getPropertyEditor=function(){return _r},n.getFilterConditionEditor=function(){return Vr},n.getCellHTML=function(e){return e.data[0].text},n.getFilterOperatorTextMap=function(){return V.tX},n.getSortOrderInfo=function(){return Be.zI},t}(hr.h),ts=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/created-user/base-field-feature.service.jsx"),ns=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/user/pc/cell-reader/styled.js"),is=function(e){var t=e.standardCell,n=e.autoFocus,i=(0,N.useMemo)((function(){var e;return null!==(e=t.data[0])&&void 0!==e?e:null}),[t]),o=(0,N.useCallback)((function(e){return R().createElement(ns.B,null,R().createElement("img",{style:{width:24,height:24,objectFit:"cover",cursor:"pointer",borderRadius:wr.n_},src:null===e||void 0===e?void 0:e.avatarUrl}),R().createElement("span",{className:"nick-name"},null===e||void 0===e?void 0:e.name))}),[]),r=(0,N.useRef)(null);return gr(n,r),R().createElement("div",{className:"user-reader",style:{padding:"0 8px",height:33,display:"flex",alignItems:"center"},tabIndex:0,ref:r},i?o(i):null)},os=n("../node_modules/@tencent/xtable-common/es/palette/option.js"),rs=jn.ZP.div(Kr||(Kr=(0,En.Z)(["\n  width: ","px;\n  height: ","px;\n  flex-shrink: 0;\n\n  path {\n    fill: ",";\n  }\n"])),16,16,(function(e){return(0,os.F)(e.optionStyle).iconColor})),ss=jn.ZP.div(Xr||(Xr=(0,En.Z)(["\n  .select {\n    padding: 5px 3px 5px 8px;\n    height: auto;\n    // line-height placeholder 对齐 select-option\n    line-height: 25px;\n    font-size: 10pt;\n    border: none;\n    align-items: flex-start;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar {\n      width: 8px;\n      height: 12px;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background-color: rgba(31, 35, 41, 0.1);\n      background-clip: padding-box;\n      border: 1px solid hsla(0, 0%, 100%, 0.7);\n      border-radius: 6px;\n      min-height: 36px;\n    }\n\n    .select-arrow {\n      // 在默认行高时居中\n      width: 24px;\n      height: 24px;\n      transition: none;\n      background-size: cover;\n      background-position: center;\n      background-repeat: no-repeat;\n      background-image: url(",");\n\n      :hover {\n        background-image: url(",");\n      }\n      :focus {\n        background-image: url(",");\n      }\n    }\n  }\n"])),Mr,br,Cr),as=jn.ZP.div(Jr||(Jr=(0,En.Z)(["\n  font-size: 10pt;\n  color: #404657;\n\n  .search-box {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n\n    .search-input {\n      border: none;\n      font-size: 10pt;\n    }\n  }\n\n  .select-title {\n    color: rgba(0, 0, 0, 0.4);\n    font-weight: 400;\n    padding-left: 10pt;\n    line-height: 30px;\n  }\n\n  .menu {\n    /* 6 个选项高度 */\n    max-height: 180px;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar {\n      width: 8px;\n      height: 12px;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background-color: rgba(31, 35, 41, 0.1);\n      background-clip: padding-box;\n      border: 1px solid hsla(0, 0%, 100%, 0.7);\n      border-radius: 6px;\n      min-height: 36px;\n    }\n  }\n\n  .create-option {\n    padding: 0 12px;\n    line-height: 30px;\n    cursor: pointer;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n    max-width: 100%;\n\n    .search-value {\n      margin-left: 6px;\n      font-weight: 700;\n    }\n\n    :hover {\n      background-color: rgba(0, 0, 0, 0.04);\n    }\n  }\n"]))),ls=n("../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js"),ds=function(e){var t=e.searchInputRef,n=e.isQuickAdd,i=e.isMultiple,o=e.options,r=e.changeOptionIds,s=e.createOption,l=e.selectedOptionIds,d=e.renderOption,c=e.onkeydown,u=(0,N.useState)(""),h=u[0],g=u[1],f=(0,N.useMemo)((function(){return o.filter((function(e){return e.text.includes(h)}))}),[o,h]),m=(0,N.useCallback)((function(){var e=(0,ls.Wv)(o),t=e.usedIds,n=e.usedStyles,d=ls.dX.createOption(h,t,n);s(d);var c=i?[].concat((0,a.Z)(l),[d.id]):[d.id];r(c),g("")}),[s,r,o,h,i,l]),v=(0,N.useMemo)((function(){return o.find((function(e){return e.text===h}))}),[o,h]),I=(0,N.useMemo)((function(){return!!n&&""!==h&&!v}),[h,v,n]),y=(0,N.useCallback)((function(){return I?R().createElement("div",{className:"create-option",onClick:m},R().createElement("span",null,p.Z.t("create_option")),R().createElement("span",{className:"search-value"},h)):null}),[h,m,I]),_=(0,N.useCallback)((function(e){var t=e.key,o=e.keyCode;if("Enter"===t&&""!==h&&o!==At.O)if(v){if(!l.find((function(e){return e===v.id}))){var s=i?[].concat((0,a.Z)(l),[v.id]):[v.id];return r(s),void g("")}}else n&&m();else null===c||void 0===c||c(e)}),[c,h,v,l,n,m,i,r]);(0,N.useEffect)((function(){setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),100)}),[t]);var b=(0,N.useCallback)((function(){var e=n?p.Z.t("search_or_create_option"):p.Z.t("search_option");return R().createElement("div",{className:"search-box"},R().createElement(rt.default,{className:"search-input",inputClassName:"search-input",value:h,inputRef:t,onChange:g,placeholder:e,onKeyDown:_}))}),[n,h,_,t]),M=(0,N.useMemo)((function(){return 0===o.length?""===h?p.Z.t("no_choice"):"":i?p.Z.t("multiple_choice"):p.Z.t("single_choice")}),[o,i,h]);return R().createElement(as,null,R().createElement(mt.default.Keep,null,b()),R().createElement(mt.default.Keep,null,R().createElement("div",{className:"select-title"},M)),R().createElement("div",{className:"menu"},f.map(d)),R().createElement(mt.default.Keep,null,y()))},cs=jn.ZP.div(qr||(qr=(0,En.Z)(["\n  display: inline-flex;\n  align-items: center;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  margin: 2.5px 5px 2.5px 0;\n  padding-left: 5px;\n  font-size: 10pt;\n  font-family: ",";\n  border-radius: 2px;\n  line-height: 20px;\n  height: 20px;\n  max-width: ",";\n  min-width: 20px;\n  box-sizing: border-box;\n  overflow: hidden;\n  font-weight: 400;\n\n  .option-title:last-child {\n    // 为最后子元素（即没有 closeIcon 时，增加 paddingRight）\n    padding-right: 5px;\n  }\n\n  .option-title {\n    overflow: hidden;\n    white-space: pre;\n    text-overflow: ellipsis;\n  }\n"])),(function(e){return(0,os.F)(e.optionStyle).background}),(function(e){return(0,os.F)(e.optionStyle).textColor}),(function(e){return(0,os.F)(e.optionStyle).borderColor}),wr.ut,(function(e){return e.isMultiple?"auto":"100%"})),us=function(e){var t=e.value,n=e.selectStyle,i=e.property,o=e.onPropertyChange,r=e.onChange,s=e.dropdownMatchSelectWidth,l=void 0===s||s,d=e.selectRef,c=e.searchInputRef,u=e.onkeydown,h=e.onSelectEditorClick,g=e.onDropdownVisible,f=i.isQuickAdd,m=i.isMultiple,p=(0,N.useState)([]),v=p[0],I=p[1],y=(0,N.useState)([]),_=y[0],b=y[1];(0,N.useEffect)((function(){b((0,a.Z)(i.options))}),[i.options]),(0,N.useEffect)((function(){I(t?(0,a.Z)(t):[])}),[t]);var M=(0,N.useCallback)((function(e){null===o||void 0===o||o({options:e,isMultiple:m,isQuickAdd:f})}),[m,f,o]),C=(0,N.useCallback)((function(e){var t;t=m?(0,a.Z)(e):e?[e]:[],r(t.length?t:null),I(t)}),[m,r]),w=(0,N.useCallback)((function(e,t,n){e.stopPropagation(),n(t.value)}),[]),T=(0,N.useCallback)((function(e,t){var n=_.find((function(t){return t.id===e.value}));return R().createElement(cs,{title:n.text,key:n.id,isMultiple:m,optionStyle:n.style},R().createElement("div",{className:"option-title"},n.text),R().createElement(rs,{optionStyle:n.style,onClick:function(n){return w(n,e,t)}},R().createElement(go.t,{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfMjRfY2xvc2U8L3RpdGxlPgogICAgPGcgaWQ9IuaOp+S7tiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb24vYmFzaWMvMjQvY2xvc2UiPgogICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgPHBhdGggZD0iTTE2LjI4NTcxNDMsNi43MTcxNTcyOSBMMTcuMjgyODQyNyw3LjcxNDI4NTcxIEwxMi45OTcsMTIgTDE3LjI4Mjg0MjcsMTYuMjg1NzE0MyBMMTYuMjg1NzE0MywxNy4yODI4NDI3IEwxMiwxMi45OTcgTDcuNzE0Mjg1NzEsMTcuMjgyODQyNyBMNi43MTcxNTcyOSwxNi4yODU3MTQzIEwxMS4wMDMsMTIgTDYuNzE3MTU3MjksNy43MTQyODU3MSBMNy43MTQyODU3MSw2LjcxNzE1NzI5IEwxMiwxMS4wMDMgTDE2LjI4NTcxNDMsNi43MTcxNTcyOSBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjNDY0RDVBIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",width:16,height:16,viewBox:"0 0 24 24"})))}),[_,m,w]),E=(0,N.useCallback)((function(e){return R().createElement("div",{className:"option-line"},R().createElement(Tn.default.Option,{value:e.id,key:e.id,style:{height:"auto",padding:"2.5px 0 2.5px 28px"}},R().createElement(cs,{title:e.text,isMultiple:m,optionStyle:e.style},R().createElement("div",{className:"option-title"},e.text))))}),[m]),j=(0,N.useCallback)((function(e){M([].concat((0,a.Z)(_),[e])),b((function(t){return[].concat((0,a.Z)(t),[e])}))}),[M,_]),A=(0,N.useCallback)((function(e){r(e),I(e)}),[r]),x=(0,N.useCallback)((function(){return R().createElement("div",{className:"dropdown-container",style:{width:l?"auto":"120px"}},R().createElement(ds,{isMultiple:m,isQuickAdd:f,options:_,selectedOptionIds:v,createOption:j,changeOptionIds:A,renderOption:E,searchInputRef:c,onkeydown:u}))}),[l,m,f,_,v,j,A,E,c,u]),D=(0,N.useCallback)((function(e){null===g||void 0===g||g(e)}),[g]);return R().createElement(ss,{onClick:h},R().createElement(Tn.default,{className:"select",style:n,isMultiple:m,arrowClassName:"select-arrow",containerStyle:{display:"block"},listStyle:{padding:"0px",height:"auto"},value:v,onChange:C,renderTag:T,renderDropdown:x,placement:"auto",dropdownMatchSelectWidth:l,selectDomRef:d,onVisibleChange:D},_.map(E)))},hs=(n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/@tencent/xtable-core/es/model/field/common/last-modified.js")),gs=function(){function e(){this.userOptionGetterMap=new Map,this.initUserOptionGetterMap()}e.getUserIdList=function(e,t){var n=e.getRecordIdList(),i=new Set;return n.forEach((function(e){var n=t(e);n&&i.add(n)})),(0,a.Z)(i)},e.getOptionsByUserIdList=function(e,t){return e.map((function(e){var n=t(e);if(n)return{id:e,text:n.name,style:os.h.C1}})).filter((function(e){return e}))};var t=e.prototype;return t.getUserOptions=function(e){var t=e.condition.fieldType,n=this.userOptionGetterMap.get(t);return null===n||void 0===n?void 0:n(e.tableHelper)},t.initUserOptionGetterMap=function(){this.register(Rn.f.MODIFIED_USER,fs),this.register(Rn.f.CREATED_USER,ms)},t.register=function(e,t){this.userOptionGetterMap.set(e,t)},e}();function fs(e){var t=gs.getUserIdList(e,(function(t){var n,i=e.getRecordByRecordId(t);if(i){var o=(0,hs.k)(i);return null===(n=null===o||void 0===o?void 0:o.cell)||void 0===n?void 0:n.modifiedUserId}}));return gs.getOptionsByUserIdList(t,(function(t){return e.getUserInfo(t)}))}function ms(e){var t=gs.getUserIdList(e,(function(t){var n=e.getRecordMetaByRecordId(t);return null===n||void 0===n?void 0:n.createdUserId}));return gs.getOptionsByUserIdList(t,(function(t){return e.getUserInfo(t)}))}var ps,vs,Is,ys,_s,bs,Ms,Cs,ws,Ts,Es,js,As,xs,Ds,Ss,Ns,Rs,Os=new gs,Ls=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),ks=[Ls.m.CONTAINS,Ls.m.DOES_NOT_CONTAIN],zs=function(e){var t=e.condition,n=e.onChange,i=t.value,o=t.operator,r=(0,N.useCallback)((function(e){return Array.isArray(e)?e:[]}),[]),s=ks.includes(o),a=(0,N.useRef)(null),l=(0,N.useCallback)((function(e){var t=r(e);n(t.length?t:null)}),[r,n]),d=Os.getUserOptions(e);return d?R().createElement("div",null,R().createElement("div",{style:{border:"1px solid #e3e3e3",borderRadius:wr.n_}},R().createElement(us,{property:{isMultiple:s,isQuickAdd:!1,options:d},value:r(i),onChange:l,searchInputRef:a}))):null},Ps=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return is},n.getCellReaderWrapper=function(){return null},n.getCellEditorWrapper=function(){return null},n.getCellEditor=function(){return is},n.getPropertyEditor=function(){return null},n.getFilterConditionEditor=function(){return zs},n.getCellHTML=function(e){return e.data[0].text},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.IN},t}(ts.$),Fs=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/date-time/base-field-feature.service.jsx"),Us=function(e){var t=e.value,n=e.property,i=e.onChange,o=e.onDropdownVisible,r=e.autoFocus;return R().createElement(Gr,{value:t,property:n,onChange:i,onDropdownVisible:o,autoFocus:r})},Bs=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/utils/keycode.js"),Ws=function(e){return!((0,Bs.Q)(e.keyCode)||e.metaKey||e.ctrlKey||e.altKey)},Gs=jn.ZP.div(ps||(ps=(0,En.Z)(["\n  .read {\n    width: 0px;\n    height: 0px;\n    overflow: hidden;\n  }\n"]))),Zs=function(e){var t=e.value,n=e.property,i=e.cellSize,o=e.onChange,r=e.onInputStatusChange,s=e.editStatus,a=e.setEditStatus,l=e.onDropdownVisible,d=e.getDefaultValue,c=(0,N.useState)((function(){return s})),u=c[0],h=c[1];(0,N.useEffect)((function(){a(u)}),[u,a]);var g=(0,N.useCallback)((function(){u!==Dr.R.STABLE_EDIT&&h(Dr.R.STABLE_EDIT)}),[u]),f=(0,N.useCallback)((function(e){u===Dr.R.READ&&Ws(e.nativeEvent)&&h(Dr.R.QUICK_EDIT)}),[u]),m=(0,N.useMemo)((function(){return u===Dr.R.STABLE_EDIT?t:null}),[t,u]);return R().createElement(Gs,{className:"date-time-cell-editor-wrapper",onDoubleClick:g,style:{width:i.width,minHeight:i.height,background:u===Dr.R.READ?"transparent":"white"}},R().createElement("div",{className:""+u},R().createElement(Gr,{value:m,property:n,onInputStatusChange:r,onChange:o,onDropdownVisible:l,autoFocus:!0,onQuickEdit:f,status:u,setStatus:h,getDefaultValue:d})))},Hs=function(e){var t=e.property,n=e.onChange,i=e.canEdit,o=(0,N.useState)(t.format),r=o[0],s=o[1],a=(0,N.useState)(t.autoFill),l=a[0],d=a[1];return(0,N.useEffect)((function(){n({autoFill:l,format:r})}),[r,n,l]),R().createElement("div",{className:"date-time-property-editor"},R().createElement(yr,{canEdit:i,format:r,onChange:s}),R().createElement(dr,null,R().createElement("div",{className:"label"},p.Z.t("field_auto_fill_create_time")),R().createElement(sr.default,{disabled:!i,checked:l,onChange:d})))},Ys=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return Ar},n.getCellReaderWrapper=function(){return null},n.getCellEditorWrapper=function(){return Zs},n.getCellEditor=function(){return Us},n.getPropertyEditor=function(){return Hs},n.getFilterConditionEditor=function(){return Vr},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.tX},n.getSortOrderInfo=function(){return Be.zI},t}(Fs.$),Vs=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/email/base-field-feature.service.jsx"),Qs=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/utils/url.js"),Ks=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/hooks/set-inputting.js"),Xs=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/email/pc/cell-editor/email-input.jsx"),Js=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_email.svg"),qs=jn.ZP.div(vs||(vs=(0,En.Z)(["\n  background-color: white;\n  border-radius: 4px;\n\n  .input {\n    font-size: 10pt;\n    border: none;\n  }\n"]))),$s=jn.ZP.div(Is||(Is=(0,En.Z)(["\n  .read {\n    width: 0px;\n    height: 0px;\n    overflow: hidden;\n  }\n"]))),ea=jn.ZP.div(ys||(ys=(0,En.Z)(["\n  display: flex;\n  height: ","px;\n  background: white;\n  padding: 0 7px;\n\n  .placeholder {\n    color: rgba(32, 32, 32, 0.16);\n    margin: 6px 0;\n  }\n\n  .read-text-overflow {\n    display: -webkit-box;\n    flex: 1;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    word-break: break-all;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: ",";\n    line-height: 21px;\n    margin: 6px 0;\n    overflow: hidden;\n  }\n\n  .icon {\n    width: 24px;\n    height: 24px;\n    margin-top: 5px;\n    cursor: pointer;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    transform: scale(0.7);\n    :hover {\n      background-color: rgba(0, 0, 0, 0.04);\n      border-radius: 2px;\n    }\n    :active {\n      background-color: rgba(0, 0, 0, 0.08);\n    }\n  }\n"])),(function(e){return e.cellSize.height}),(function(e){switch(e.cellSize.height){case xi.one:return 1;case xi.two:return 2;case xi.four:return 4;case xi.six:return 6;default:return null}}),Js),ta=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.autoFocus,r=(0,Ks.E)(t),s=r.setInputting,a=r.inputValue,l=r.isInputting,d=(0,N.useRef)(null),c=(0,N.useCallback)((function(e){i(e,Io.S.BLUR),s(!1)}),[i,s]),u=(0,N.useCallback)((function(){t&&((0,Qs.aQ)(Qs._i.EMAIL,t),J.n.clickEmailFromRecordDetail())}),[t]),h=(0,N.useCallback)((function(){return!l&&t?R().createElement("div",{title:p.Z.t("send_email"),className:"icon",onClick:u}):null}),[u,l,t]),g=(0,N.useCallback)((function(){return s(!0)}),[]);return R().createElement(ea,{cellSize:n,style:{borderRadius:"4px",padding:"0px"}},R().createElement(Xs.U,{inputClassName:"email-record-detail-input",inputStyle:{width:n.width-24+"px",height:n.height+"px",textAlign:"left",border:"none",padding:"7px"},inputRef:d,value:a,onBlur:c,onFocus:g,placeholderTitle:p.Z.t("input_email"),autoFocus:o}),h())},na=function(e){var t=function(){var e=window.getSelection();null===e||void 0===e||e.removeAllRanges()};(0,N.useEffect)((function(){var n=null===e||void 0===e?void 0:e.current;return null===n||void 0===n||n.addEventListener("mousedown",t),function(){return null===n||void 0===n?void 0:n.removeEventListener("mousedown",t)}}),[e])},ia=["mousedown","contextmenu"],oa=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.onInputStatusChange,r=e.editStatus,s=e.setEditStatus,a=(0,N.useState)((function(){return r})),l=a[0],d=a[1],c=(0,N.useRef)(null);(0,_i.$)({domRef:c,events:ia}),na(c),(0,N.useEffect)((function(){setTimeout((function(){var e;null===(e=c.current)||void 0===e||e.focus()}),0)}),[l]),(0,N.useEffect)((function(){s(l)}),[l,s]);var u=(0,N.useMemo)((function(){return l===Dr.R.STABLE_EDIT?t:null}),[t,l]),h=(0,N.useCallback)((function(){l===Dr.R.READ&&d(Dr.R.STABLE_EDIT)}),[l]),g=(0,N.useCallback)((function(e){null===o||void 0===o||o(!1),l!==Dr.R.READ&&(d(Dr.R.READ),i(e,Io.S.BLUR))}),[i,o,l]),f=(0,N.useCallback)((function(){null===o||void 0===o||o(!0)}),[o]),m=(0,N.useCallback)((function(e,t){var n=t.key,o=t.keyCode;"Enter"===n&&l!==Dr.R.READ&&o!==At.O&&(d(Dr.R.READ),i(e,Io.S.ENTER))}),[i,l]),v=(0,N.useCallback)((function(e){l===Dr.R.READ&&Ws(e.nativeEvent)&&d(Dr.R.QUICK_EDIT)}),[l]),I=(0,N.useCallback)((function(e){l!==Dr.R.READ&&"Escape"===e.key&&(d(Dr.R.READ),i(null,Io.S.ESC))}),[l,i]),y=(0,N.useCallback)((function(e,t){l!==Dr.R.READ&&"Tab"===t.key&&i(e,Io.S.TAB)}),[i,l]),_=(0,N.useCallback)((function(e,t){m(e,t),y(e,t),I(t),v(t)}),[m,I,v,y]),b=(0,N.useCallback)((function(){setTimeout((function(){var e;null===(e=c.current)||void 0===e||e.focus()}),0)}),[]),M=(0,N.useMemo)((function(){return{width:n.width,height:"32px",border:"none",padding:"7px"}}),[n.width]),C=(0,N.useCallback)((function(){t&&((0,Qs.aQ)(Qs._i.EMAIL,t),J.n.clickEmailFromForm())}),[t]),w=(0,N.useCallback)((function(){return l===Dr.R.READ?t?R().createElement(ea,{cellSize:n},R().createElement("div",{className:"read-text-overflow"},t),R().createElement("div",{title:p.Z.t("send_email"),className:"icon",onClick:C})):R().createElement(ea,{cellSize:n},R().createElement("div",{className:"placeholder"},p.Z.t("input_email"))):null}),[n,C,l,t]);return R().createElement($s,{className:"email-cell-editor-wrapper "+l,onDoubleClick:h,onMouseDown:b,style:{width:n.width,height:n.height,background:"white"}},R().createElement("div",{className:l},R().createElement(qs,null,R().createElement(Xs.U,{inputClassName:"input cell-editor-input",inputStyle:M,inputRef:c,value:u,onBlur:g,onFocus:f,onKeyDown:_}))),w())},ra="OXsCvOGQgDzloypEtcxi",sa="KZ9aF7kURLwPFig3wLPO",aa="u2ApfqCV4roYOMSg3YJv",la=function(e){var t=e.standardCell,n=e.cellSize,i=(0,N.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]),o=(0,N.useCallback)((function(){i&&(0,Qs.aQ)(Qs._i.EMAIL,i)}),[i]),r=(0,N.useCallback)((function(e){return R().createElement("div",{style:{width:"20px",height:"20px",marginRight:"10px"},className:e,onClick:o})}),[o]),s=(0,N.useCallback)((function(){return i?r(aa):r()}),[i,r]);return R().createElement("div",{className:ra},R().createElement("div",{className:sa,style:{lineHeight:xi.one+"px",height:xi.one,border:"none",width:n.width-20-10+"px"}},i),s())},da=function(e){var t=e.standardCell,n=e.autoFocus,i=(0,N.useRef)(null),o=(0,N.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]),r=(0,N.useCallback)((function(){o&&(0,Qs.aQ)(Qs._i.EMAIL,o)}),[o]),s=(0,N.useCallback)((function(){return o?R().createElement("div",{title:p.Z.t("send_email"),className:aa,onClick:r}):null}),[r,o]);return gr(n,i),R().createElement("div",{className:ra,ref:i,tabIndex:0},R().createElement("div",{className:sa,style:{lineHeight:xi.one+"px",height:xi.one,border:"none"}},o),s())},ca=n("../node_modules/lodash/debounce.js"),ua=n.n(ca),ha=500,ga=function(e){var t=e.onChange,n=e.condition,i=(0,N.useRef)(null),o=(0,N.useCallback)((function(e){return String(null!==e&&void 0!==e?e:"")}),[]),r=(0,N.useMemo)((function(){return o(n.value)}),[n.value,o]),s=jt({domRef:i,onCompositionEnd:function(){var e,t;d(o(null!==(t=null===(e=i.current)||void 0===e?void 0:e.value)&&void 0!==t?t:""),!1)}}).isCompposition,a=(0,N.useCallback)((function(e){return t(""===e?null:e)}),[t]),l=(0,N.useMemo)((function(){return ua()((function(e){return a(e)}),ha)}),[a]),d=(0,N.useCallback)((function(e,t){t||l(""===e?null:e)}),[l]);return R().createElement(Xs.U,{inputRef:i,key:n.conditionId,value:r,onChange:function(e){return d(null!==e&&void 0!==e?e:"",s.current)},onBlur:function(e){return a(e)}})},fa=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReaderWrapper=function(){return la},n.getCellReader=function(){return da},n.getCellEditorWrapper=function(){return oa},n.getCellEditor=function(){return ta},n.getPropertyEditor=function(){return null},n.getFilterConditionEditor=function(){return ga},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.IN},t}(Vs.T),ma=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/formula/base-field-feature.service.jsx"),pa=function(e){var t=e.formulaStandardCell,n=(0,N.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]);return R().createElement("div",{className:"formula-editor",style:{lineHeight:xi.one+"px",padding:"0 6px",background:"white",height:xi.one,boxSizing:"border-box",borderRadius:"4px"}},n)},va=function(e){var t=e.standardCell;return R().createElement(pa,{formulaStandardCell:t})},Ia=function(e){var t=e.standardCell,n=e.editStatus,i=e.cellSize,o=(0,N.useState)((function(){return n}))[0];return R().createElement("div",{className:"formula-cell-editor-wrapper "+o,style:{width:i.width,height:i.height}},R().createElement("div",{className:""+o},R().createElement(pa,{formulaStandardCell:t})))},ya=function(e){var t=e.standardCell,n=e.autoFocus,i=(0,N.useRef)(null),o=(0,N.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]);return gr(n,i),R().createElement("div",{className:"formula-reader",style:{lineHeight:xi.one+"px",padding:"0 6px",background:"white",height:xi.one,boxSizing:"border-box",borderRadius:"4px"}},o)},_a=function(e){var t=e.onChange,n=e.condition,i=(0,N.useRef)(null),o=(0,N.useCallback)((function(e){return String(null!==e&&void 0!==e?e:"")}),[]),r=(0,N.useMemo)((function(){return o(n.value)}),[n.value,o]),s=jt({domRef:i,onCompositionEnd:function(){var e,t;l(o(null!==(t=null===(e=i.current)||void 0===e?void 0:e.value)&&void 0!==t?t:""),!1)}}).isCompposition,a=(0,N.useMemo)((function(){return ua()((function(e){return t(e)}),ha)}),[t]),l=(0,N.useCallback)((function(e,t){t||a(""===e?null:e)}),[a]);return React.createElement(rt.default,{inputRef:i,key:n.conditionId,defaultValue:r,onChange:function(e){return l(e,s.current)}})},ba=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReaderWrapper=function(){return null},n.getCellReader=function(){return ya},n.getCellEditorWrapper=function(){return Ia},n.getCellEditor=function(){return va},n.getPropertyEditor=function(){return null},n.getFilterConditionEditor=function(){return _a},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.IN},t}(ma.m),Ma=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/base-field-feature.service.jsx"),Ca=(n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/@tencent/image-components/dist/index.es2015.js")),wa=n("../node_modules/@tencent/dui/lib/components/Loading/index.js"),Ta=n("../node_modules/@tencent/dui/lib/components/Preview/index.js"),Ea=172,ja=204,Aa=368,xa="IMAGE_ID",Da=n("../node_modules/@tencent/xtable-common/es/image/index.js"),Sa="Bm9bepqFBaNcbBWtikjT",Na="IEodMWPr91u7VpB3fEdG",Ra="nzVuBe87JZhyOFzJD4fE",Oa="BCdybf57gy_4BCnLV1bX",La="DqwU6hyIPrxYLWwQrfz4",ka="bxelncR9nJNhltO7GnKE",za="xnP7ytixUCtq92D1Afkr",Pa="qUvq6vvjhzZZgH01JgtU",Fa="nV309JmL3d33jaH98j3x",Ua="YV3mg2piaOFRJKJH5gi8",Ba="jkXdQzinCnMsED7InPpQ",Wa="rMFOoU9kZ1ZL9mDqvbHe",Ga="lGKOSLK2EYZG3Bdf_IAQ",Za="fMfcMOVhKxw5uG04HZ02",Ha="XiseL6wpTbl1hHN787gw",Ya="ipVJ0HU9wH6jF_b82oiZ",Va="dHEejNvlXZFGa5Xd4zUY",Qa="pde4jzif766bOC6SSVRE",Ka="XaAXarY9GD77T0gi_ula",Xa="WNK2ioIyXjAg17YjHqRM",Ja="dis4s26R4JwtTHzWYYEh",qa="rX_tCT8BaelwqulE0SfL",$a="aNquhoLUTTNsLZozgJS1",el="nSio11Ac8gy6pniNQ3od",tl=function(e){var t=e.imageItem,n=e.onDelete,i=e.setPicDrag,o=e.onTranslate,r=e.isPicDrag,s=e.index,a=e.picDragIndex,l=e.imageUrls,d=(0,N.useState)(!1),c=d[0],u=d[1],h=(0,N.useState)(!1),g=h[0],f=h[1],m=(0,N.useState)(!1),p=m[0],v=m[1],I=(0,N.useState)(!1),y=I[0],_=I[1],b=(0,N.useCallback)((function(){v(!1)}),[]),M=(0,N.useMemo)((function(){return R().createElement(Ta.default,{urlList:l,visible:p,initialIndex:s,onClose:b})}),[b,l,p,s]),C=(0,N.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),w=(0,N.useCallback)((function(){(0,Da.GN)(t.imageUrl),J.n.cellDownloadImage()}),[t.imageUrl]),T=(0,N.useMemo)((function(){return c?R().createElement("div",{className:Xa},R().createElement("div",{className:Oa}),R().createElement("div",{style:{width:"100%",cursor:"default"},draggable:"true",onDragStart:C}),R().createElement("div",{className:Ja,draggable:"true",onDragStart:C},R().createElement("div",{className:Ra,onClick:w}),R().createElement("div",{className:Na,onClick:function(){return null===n||void 0===n?void 0:n()}}))):R().createElement("div",{className:Ka,onDragStart:C},t.title)}),[w,c,t.title,n,C]),E=(0,N.useCallback)((function(e){var n;i(!0,s),_(!0),null===(n=e.dataTransfer)||void 0===n||n.setData(xa,t.id)}),[t.id,s,i]),j=(0,N.useCallback)((function(e){if(r){i(!1,s),_(!1),f(!1);var n=e.dataTransfer.getData(xa);o(n,t.id)}}),[t.id,r,o,i,s]),A=(0,N.useCallback)((function(){return u(!0)}),[]),x=(0,N.useCallback)((function(){return u(!1)}),[]),D=(0,N.useCallback)((function(){return a===s?2:a>s?0:a<s?1:0}),[s,a]),S=(0,N.useCallback)((function(){-1!==a&&a!==s&&(g||f(!0))}),[s,g,a]),O=(0,N.useCallback)((function(){f(!1)}),[]),L=(0,N.useCallback)((function(){_(!1)}),[]),k=(0,N.useMemo)((function(){var e;if(e=y?{opacity:.6}:{opacity:1},!g)return e;var t=D();return 0===t?{"--left-color":"rgba(30, 111, 255, 1)","--right-color":"transparent"}:1===t?{"--right-color":"rgba(30, 111, 255, 1)","--left-color":"transparent"}:e}),[D,g,y]),z=(0,N.useCallback)((function(){v(!p),J.n.cellViewImage()}),[p]);return R().createElement("div",{style:k,className:Ha,onMouseOver:A,onMouseLeave:x,draggable:"true",onDragStart:E,onDrop:j,onDragOver:S,onDragLeave:O,onDragEnd:L},R().createElement("div",{className:Ya},R().createElement("div",{className:Va,onDragStart:C},R().createElement("img",{src:(0,Da.gu)(t.imageUrl),alt:t.title,className:Qa,onClick:z})),R().createElement("div",{className:qa},T)),R().createElement("div",null,M))},nl=function(){return R().createElement("div",{className:Ha},R().createElement("div",{className:Ya},R().createElement(wa.default,{visible:!0,tip:p.Z.t("uploading"),className:$a,tipClassName:el,style:{height:40,width:40},tipStyle:{color:"#999"}},R().createElement("div",{className:Va}))))},il=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/pc/cell-editor/upload-wrapper.jsx"),ol=function(e){var t=e.imageList,n=e.multiple,i=e.style,o=e.onDelete,r=e.defaultImageList,s=e.onTranslate,l=e.setImageList,d=e.uploadingLength,c=e.setUploadingLength,u=e.defaultUploadLength,h=e.successFileList,g=e.supportUpload,f=e.setSupportUpload,m=e.onImageChange,v=(0,N.useState)("drop"),I=v[0],y=v[1],_=(0,N.useState)(!1),b=_[0],M=_[1],C=(0,N.useState)(-1),w=C[0],T=C[1],E=R().useRef(null),j=(0,N.useCallback)((function(e){"dragleave"===e.type?(e.target.matches("canvas")||e.target.id===ho.CONTAINER_ID)&&y(e.type):y(e.type)}),[]),A=(0,N.useCallback)((function(e){e.stopPropagation=function(){}}),[]);(0,N.useEffect)((function(){return document.body.addEventListener("dragover",j),document.body.addEventListener("dragleave",j),function(){document.body.removeEventListener("dragover",j),document.body.removeEventListener("dragleave",j)}}),[j]);var x=(0,N.useCallback)((function(e){e.preventDefault(),"drop"===e.type&&J.n.cellDragImage(),y(e.type)}),[]),D=(0,N.useMemo)((function(){return R().createElement(il.t,{onChange:m,multiple:n,imageList:t,setImageList:l,uploadingLength:d,setUploadingLength:c,defaultUploadLength:u,successFileList:h,supportUpload:g,setSupportUpload:f},R().createElement("div",{className:La},R().createElement("div",{className:Sa}),R().createElement("span",null,p.Z.t("field_upload_local_file"))))}),[u,t,n,m,l,f,c,h,g,d]),S=(0,N.useCallback)((function(e,t){M(e),T(t)}),[]),O=(0,N.useMemo)((function(){return t.map((function(e){return e.imageUrl}))}),[t]),L=(0,N.useCallback)((function(e,t){return R().createElement(tl,{key:t,imageUrls:O,index:t,picDragIndex:w,imageItem:e,onDelete:function(){null===o||void 0===o||o(e),J.n.cellDelImage()},setPicDrag:S,onTranslate:s,isPicDrag:b})}),[S,O,o,s,b,w]),k=(0,N.useCallback)((function(e){return e.map(L)}),[L]),z=(0,N.useCallback)((function(e){return e.map((function(){return R().createElement(nl,null)}))}),[]),P=(0,N.useCallback)((function(){var e=R().createElement("div",{className:ka},R().createElement("div",{className:Fa},p.Z.t("field_field_paste_or_drag_to_add")));return[].concat((0,a.Z)(t),(0,a.Z)(r)).length>0&&(e=R().createElement("div",{className:za},k(t),z(r),R().createElement("div",{style:{height:10}}))),R().createElement(R().Fragment,null,R().createElement(il.t,{className:Pa,onChange:m,imageList:t,setImageList:l,uploadingLength:d,setUploadingLength:c,defaultUploadLength:u,successFileList:h,supportUpload:g,setSupportUpload:f,type:"drag",openFileDialogOnClick:!1,autoFocus:!0},e),R().createElement("div",{onClickCapture:A},D))}),[t,r,m,l,d,c,u,h,g,f,A,D,k,z]),F=(0,N.useMemo)((function(){return"dragover"!==I||b?Ga:ht()(Ga,Za)}),[I,b]),U=(0,N.useMemo)((function(){return"dragover"!==I||b?Ua:ht()(Ua,Ba)}),[I,b]),B=(0,N.useMemo)((function(){return R().createElement("div",{className:U,ref:E},R().createElement("div",{className:F},R().createElement("div",{className:Wa},p.Z.t("field_drag_to_upload"))))}),[U,F]);return R().createElement("div",{style:i,onDrop:x},P(),B)},rl="nxXg1H6jArrOpUl1u2CC",sl="jmRsIidcwbi20vqX5rqa",al="c3VYn8E31j8lyL1_vua0",ll="AkZtm2P4KGrvexaEFjKy",dl="KAcOGlcrS_H_c3hK9qKB",cl=n("../node_modules/@tencent/xtable-common/es/url-parameter/index.js"),ul=n("../node_modules/@tencent/xtable-render/es/cache/index.js"),hl=n("../node_modules/@tencent/xtable-render/es/constants/config.js"),gl=function(e){var t=e.imageHeight,n=e.image,i=e.imageUrls,o=e.index,r=e.onLoaded,s=(0,N.useState)(!1),a=s[0],l=s[1],d=(0,N.useMemo)((function(){return(0,Da.gu)(n.imageUrl)}),[n.imageUrl]),c=t,u=(0,N.useState)((function(){var e=ul.Z.getImage(d);if(e){l(!0);var t=(0,Da.EI)(e,c,hl.aP.maxRate);return(0,Da.mQ)(t,hl.aP.maxRate).width}var i=(0,cl.ol)(n.imageUrl),o=i.w,r=i.h;if(o&&r){var s=(0,Da.HE)(Number(o),Number(r),c,hl.aP.maxRate);return(0,Da.mQ)(s,hl.aP.maxRate).width}return c})),h=u[0],g=u[1],f=(0,N.useCallback)((function(e){var t=e.currentTarget;ul.Z.getImage(d)||ul.Z.setImage(d,t);var n=(0,Da.EI)(t,c,hl.aP.maxRate),i=(0,Da.mQ)(n,hl.aP.maxRate).width;g(i),l(!0),null===r||void 0===r||r()}),[r,d,c]),m=(0,N.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]);return R().createElement("img",{onDragStart:m,style:{width:h,height:c,objectFit:"cover",borderRadius:wr.n_,display:a?"":"none"},className:dl,src:d,key:d,onLoad:f,onClick:function(){Ta.default.show({urlList:i,initialIndex:o}),J.n.cellViewImage()}})},fl=function(e){var t=e.imageHeight,n=e.imageList,i=e.isListUploadComplete,o=(0,N.useMemo)((function(){return n.map((function(e){return e.imageUrl}))}),[n]),r=(0,N.useMemo)((function(){return n.length}),[n]),s=(0,N.useRef)(0),a=(0,N.useState)(!i),l=a[0],d=a[1],c=(0,N.useCallback)((function(){s.current+=1,s.current===r&&d(!1)}),[r]);return(0,N.useEffect)((function(){d(!i)}),[i]),R().createElement("div",{className:ll,style:{paddingLeft:6},onClick:function(e){e.stopPropagation()}},l&&R().createElement("div",{style:{marginTop:"6px",marginRight:"3px"}},R().createElement(wa.default,{visible:!0,style:{height:24,width:24}})),n.map((function(e,n){return R().createElement(Lt.default,{title:e.title,style:{marginTop:"6px",marginRight:"3px"}},R().createElement(gl,{key:e.imageUrl,imageHeight:t,image:e,imageUrls:o,index:n,onLoaded:c}))})))},ml=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/utils.js"),pl=n("../node_modules/@tencent/xtable-render/es/views/group/constants/style.js"),vl=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.onDropdownVisible,r=e.autoFocus,s=(0,N.useRef)(null),l=(0,N.useState)((function(){return(0,ml.m)(t)})),d=l[0],c=l[1],u=(0,N.useState)(0),h=u[0],g=u[1],f=(0,N.useRef)(0),m=(0,N.useState)(!0),p=m[0],v=m[1],I=(0,N.useState)((function(){return d.length>3?Aa:d.length>0?ja:Ea})),y=I[0],_=I[1];(0,N.useEffect)((function(){c((0,ml.m)(t))}),[t]);var b=(0,N.useCallback)((function(){var e;null===(e=s.current)||void 0===e||e.refreshDropContentMetric()}),[]),M=(0,N.useMemo)((function(){return Array.from({length:h},(function(){return{id:Ca.Lk.getAttachmentId(),title:"",imageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+Y2VsbF9pbWFnZV9kZWZhdWx0PC90aXRsZT4KICAgIDxnIGlkPSLpobXpnaItMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IlBDX+WbvueJh+euoeeQhuWZqF/lsZXlvIAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjE0LjAwMDAwMCwgLTkzLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjE0LjAwMDAwMCwgOTMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjRTlFQkVEIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSI0Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uEIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5LDUgQzE5LjU1MjI4NDcsNSAyMCw1LjQ0NzcxNTI1IDIwLDYgTDIwLDE4IEMyMCwxOC41NTIyODQ3IDE5LjU1MjI4NDcsMTkgMTksMTkgTDUsMTkgQzQuNDQ3NzE1MjUsMTkgNCwxOC41NTIyODQ3IDQsMTggTDQsNiBDNCw1LjQ0NzcxNTI1IDQuNDQ3NzE1MjUsNSA1LDUgTDE5LDUgWiBNMTguNyw2LjMgTDUuMyw2LjMgTDUuMywxNy43IEwxOC43LDE3LjcgTDE4LjcsNi4zIFogTTEzLjY2NjY2NjcsMTAgTDE3LDE2IEw3LDE2IEw5LjIyMjIyMjIyLDEyLjAxIEwxMC44ODIwOTEyLDE0LjczMzk0NSBMMTMuNjY2NjY2NywxMCBaIiBpZD0iU2hhcGUiIGZpbGw9IiNDQkNERDEiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="}}))}),[h]),C=(0,N.useRef)([]);(0,N.useEffect)((function(){var e=d.length+h;_(e>3?Aa:e>0?ja:Ea)}),[d.length,h]),(0,N.useEffect)((function(){b()}),[b,y]);var w=(0,N.useCallback)((function(e){var t=(0,a.Z)(d.filter((function(t){return t.id!==e.id})));c(t),i(t,Io.S.CONFIRM)}),[d,i]),T=(0,N.useCallback)((function(e,t){var n=(0,a.Z)(d),o=n.findIndex((function(t){return t.id===e})),r=n.findIndex((function(e){return e.id===t})),s=r;o<r&&(s+=1),n.splice(s,0,n[o]);var l=o;o>r&&(l+=1),n.splice(l,1),i(n,Io.S.CONFIRM)}),[d,i]),E=(0,N.useCallback)((function(){return R().createElement(mt.default.Keep,null,R().createElement(ol,{imageList:d,multiple:!0,onDelete:w,defaultImageList:M,onTranslate:T,setImageList:c,uploadingLength:h,setUploadingLength:g,defaultUploadLength:f,successFileList:C,supportUpload:p,setSupportUpload:v,onImageChange:i}))}),[w,T,d,i,p,M,h]),j=(0,N.useCallback)((function(){if(d.length+M.length===0)return null;var e=(0,a.Z)(d),t=n.height+2-2*pl.pK;return R().createElement(fl,{imageHeight:t,imageList:e,isListUploadComplete:0===M.length})}),[d,M.length,n.height]),A=(0,N.useMemo)((function(){return{width:392,maxHeight:400,backgroundColor:"white",borderRadius:8,boxShadow:"0 6px 32px 2px rgba(68, 73, 77, 0.16), 0 4px 6px 2px rgba(0, 0, 0, 0.04)",border:"1px solid rgba(0, 0, 0, 0.04)",marginTop:2,paddingTop:0,height:y}}),[y]),x=(0,N.useCallback)((function(e){e.stopPropagation(),J.n.cellAddImage()}),[]),D=(0,N.useMemo)((function(){return R().createElement(il.t,{onChange:i,autoFocus:r,multiple:!0,onClick:x,imageList:d,setImageList:c,uploadingLength:h,setUploadingLength:g,defaultUploadLength:f,successFileList:C,supportUpload:p,setSupportUpload:v},R().createElement("div",{className:rl}))}),[r,x,d,i,p,h]),S=(0,N.useRef)(null);return gr(r,S),R().createElement(mt.default,{dropContent:E(),onVisibleChange:o,dropContentStyle:A,alignment:"auto",placement:"auto",ref:s,style:{width:"100%"},autoFocus:!1},R().createElement("div",{className:"image-cell-editor",style:{height:n.height+"px"},ref:S,tabIndex:1},R().createElement("div",{className:al},j(),D,R().createElement("div",{className:sl}))))},Il=function(e){var t=e.value,n=e.standardCell,i=e.property,o=e.cellSize,r=e.onChange,s=e.editStatus,a=e.onDropdownVisible,l=e.onPropertyChange,d=e.position;return R().createElement("div",{className:"image-cell-editor-wrapper "+s,style:{width:o.width+"px",minHeight:o.height+"px",background:"white"}},R().createElement(vl,{standardCell:n,value:t,property:i,cellSize:o,onChange:r,onDropdownVisible:a,onPropertyChange:l,position:d}))},yl=jn.ZP.div(_s||(_s=(0,En.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 390px;\n  max-height: 300px;\n  margin-top: 2px;\n  padding-bottom: 12px;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 6px 32px 2px rgba(68, 73, 77, 0.16), 0 4px 6px 2px rgba(0, 0, 0, 0.04);\n  border: 1px solid rgba(0, 0, 0, 0.04);\n  box-sizing: border-box;\n  overflow-y: auto;\n\n  .image-container {\n    margin: 12px 0 0 12px;\n    position: relative;\n    cursor: pointer;\n    width: 110px;\n\n    .image-cover {\n      height: 110px;\n      box-sizing: border-box;\n      border: 1px solid rgba(0, 0, 0, 0.08);\n      border-radius: 4px;\n      background-color: #f3f5f7;\n\n      .image {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n      }\n    }\n\n    .image-title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      text-align: center;\n      line-height: 26px;\n    }\n  }\n\n  .empty {\n    border: 1px dashed #dee0e3;\n    border-radius: 4px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    background: #eff0f1;\n    height: 112px;\n    text-align: center;\n    margin: 12px 12px 0 12px;\n  }\n"]))),_l=function(e){var t=e.imageList,n=(0,N.useMemo)((function(){return t.map((function(e){return e.imageUrl}))}),[t]);return R().createElement(yl,null,t.map((function(e,t){return R().createElement("div",{className:"image-container"},R().createElement("div",{className:"image-cover"},R().createElement("img",{className:"image",src:(0,Da.gu)(e.imageUrl),key:e.id,alt:e.title,onClick:function(){return Ta.default.show({urlList:n,initialIndex:t})}})),R().createElement("div",{className:"image-title"},e.title))})),0===t.length?R().createElement("div",{className:"empty"},p.Z.t("no_image")):null)},bl=jn.ZP.div(bs||(bs=(0,En.Z)(["\n  .image-reader-dropdown {\n    display: block;\n  }\n\n  .image-reader {\n    display: flex;\n    justify-content: space-between;\n\n    .image-list {\n      flex-grow: 1;\n      display: flex;\n      overflow-x: hidden;\n\n      .image-tool-tip {\n        margin-top: 6px;\n        margin-right: 3px;\n      }\n    }\n\n    .dropdown-icon {\n      width: 24px;\n      height: 24px;\n      margin: 5px 0 0 3px;\n      flex-shrink: 0;\n      background-size: cover;\n      background-position: center;\n      background-repeat: no-repeat;\n\n      background-image: url(",");\n\n      :hover {\n        background-image: url(",");\n      }\n      :focus {\n        background-image: url(",");\n      }\n    }\n  }\n"])),Mr,br,Cr),Ml=function(e){var t=e.imageHeight,n=e.imageList,i=(0,N.useMemo)((function(){return n.map((function(e){return e.imageUrl}))}),[n]),o=(0,N.useCallback)((function(){return R().createElement(mt.default.Keep,null,R().createElement(_l,{imageList:n}))}),[n]);return R().createElement(bl,null,R().createElement(mt.default,{className:"image-reader-dropdown",alignment:"auto",placement:"auto",dropContent:o()},R().createElement("div",{className:"image-reader"},R().createElement("div",{className:"image-list"},n.map((function(e,n){return R().createElement(Lt.default,{className:"image-tool-tip",title:e.title},R().createElement(gl,{key:e.imageUrl,imageHeight:t,image:e,imageUrls:i,index:n}))}))),R().createElement("div",{className:"dropdown-icon"}))))},Cl=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/pc/components/body/constant.js"),wl=Cl._,Tl=function(e){var t=e.value,n=e.autoFocus,i=(0,N.useRef)(null);return gr(n,i),R().createElement("div",{className:"image-record-detail-reader",style:{padding:"0 8px",boxSizing:"border-box",height:Cl._+15},tabIndex:0,ref:i},R().createElement(Ml,{imageList:null!==t&&void 0!==t?t:[],imageHeight:wl}))},El=jn.ZP.div(Ms||(Ms=(0,En.Z)(["\n  background: white;\n  padding: 0 6px;\n  box-sizing: border-box;\n"]))),jl=function(e){var t=e.value,n=e.cellSize,i=(0,N.useMemo)((function(){return n.height+2-2*pl.pK}),[n.height]);return R().createElement(El,{className:"image-cell-reader-wrapper",style:{width:n.width+"px",height:n.height+"px"}},R().createElement(Ml,{imageList:null!==t&&void 0!==t?t:[],imageHeight:i}))},Al=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return Tl},n.getCellReaderWrapper=function(){return jl},n.getCellEditorWrapper=function(){return Il},n.getCellEditor=function(){return vl},n.getPropertyEditor=function(){return null},n.getFilterConditionEditor=function(){return null},n.getCellHTML=function(e){var t=this;return e.data.map((function(e,n){return'<img alt="'+e.text+'" src="'+e.imageUrl+'" '+(0!==n?t.getFloatImageAttribute(e.imageUrl,n):"")+" />"})).join("")},n.getFilterOperatorTextMap=function(){return V.lL},n.getSortOrderInfo=function(){return Be.IN},n.getFloatImageAttribute=function(e,t){var n=e.replace("&amp;","&"),i=(0,Qs.Qb)(n),o=1,r=null===i||void 0===i?void 0:i.w,s=null===i||void 0===i?void 0:i.h;return r&&s&&(o=Number(r)/Number(s)),'type="tencent-sheet-float-img" style="width:'+48*o+"px; height:48px; margin-left: "+50*t+'px;" data-clip="0px 0px 0px 0px"'},t}(Ma.S),xl=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return Ar},n.getCellReaderWrapper=function(){return null},n.getCellEditorWrapper=function(){return null},n.getCellEditor=function(){return pr},n.getPropertyEditor=function(){return _r},n.getFilterConditionEditor=function(){return Vr},n.getCellHTML=function(e){return e.data[0].text},n.getFilterOperatorTextMap=function(){return V.tX},n.getSortOrderInfo=function(){return Be.zI},t}(n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/modified-time/base-field-feature.service.jsx").b),Dl=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return is},n.getCellReaderWrapper=function(){return null},n.getCellEditorWrapper=function(){return null},n.getCellEditor=function(){return is},n.getPropertyEditor=function(){return null},n.getFilterConditionEditor=function(){return zs},n.getCellHTML=function(e){return e.data[0].text},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.IN},t}(n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/modified-user/base-field-feature.service.jsx").u),Sl=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/number/base-field-feature.service.jsx"),Nl=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/number-input/index.jsx"),Rl=jn.ZP.div(Cs||(Cs=(0,En.Z)(["\n  border-radius: 4px;\n"]))),Ol=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.autoFocus,r=(0,Ks.E)(t),s=r.setInputting,a=r.inputValue,l=(0,N.useRef)(null),d=(0,N.useCallback)((function(e){i(e,Io.S.BLUR),s(!1)}),[i,s]),c=(0,N.useCallback)((function(){return s(!0)}),[s]);return R().createElement(Rl,null,R().createElement(Nl.Y,{inputClassName:"input",inputStyle:{width:n.width+"px",height:n.height+"px",padding:"7px",border:"none"},inputRef:l,value:a,onBlur:d,onFocus:c,autoFocus:o}))},Ll=jn.ZP.div(ws||(ws=(0,En.Z)(["\n  .read {\n    width: 0px;\n    height: 0px;\n    overflow: hidden;\n  }\n"]))),kl=["mousedown","contextmenu"],zl=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.onInputStatusChange,r=e.editStatus,s=e.setEditStatus,a=(0,N.useState)((function(){return r})),l=a[0],d=a[1],c=(0,N.useRef)(null);(0,_i.$)({domRef:c,events:kl}),na(c),(0,N.useEffect)((function(){setTimeout((function(){var e;null===(e=c.current)||void 0===e||e.focus()}),0)}),[l]),(0,N.useEffect)((function(){s(l)}),[l,s]);var u=(0,N.useMemo)((function(){return l===Dr.R.STABLE_EDIT?t:null}),[t,l]),h=(0,N.useCallback)((function(){l===Dr.R.READ&&d(Dr.R.STABLE_EDIT)}),[l]),g=(0,N.useCallback)((function(e){null===o||void 0===o||o(!1),l!==Dr.R.READ&&(d(Dr.R.READ),i(e,Io.S.BLUR))}),[i,o,l]),f=(0,N.useCallback)((function(){null===o||void 0===o||o(!0)}),[o]),m=(0,N.useCallback)((function(e,t){"Enter"===t.key&&l!==Dr.R.READ&&(d(Dr.R.READ),i(e,Io.S.ENTER))}),[i,l]),p=(0,N.useCallback)((function(e){l===Dr.R.READ&&Ws(e.nativeEvent)&&d(Dr.R.QUICK_EDIT)}),[l]),v=(0,N.useCallback)((function(e){l!==Dr.R.READ&&"Escape"===e.key&&(d(Dr.R.READ),i(null,Io.S.ESC))}),[l,i]),I=(0,N.useCallback)((function(e,t){l!==Dr.R.READ&&"Tab"===t.key&&i(e,Io.S.TAB)}),[i,l]),y=(0,N.useCallback)((function(e,t){p(t),m(e,t),v(t),I(e,t)}),[m,v,p,I]),_=(0,N.useCallback)((function(){setTimeout((function(){var e;null===(e=c.current)||void 0===e||e.focus()}),0)}),[]);return R().createElement(Ll,{className:"number-cell-editor-wrapper "+l,onDoubleClick:h,onMouseDown:_,style:{width:n.width,height:n.height,background:l===Dr.R.READ?"transparent":"white"}},R().createElement("div",{className:l},R().createElement(Rl,null,R().createElement(Nl.Y,{inputStyle:{border:"none",width:n.width,height:33,textAlign:"right",padding:"7px"},inputRef:c,value:u,onBlur:g,onFocus:f,onKeyDown:y}))))},Pl=function(e){var t=e.standardCell,n=e.autoFocus,i=(0,N.useRef)(null),o=(0,N.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]);return gr(n,i),R().createElement("div",{tabIndex:0,ref:i,className:"number-reader",style:{padding:"0 6px",lineHeight:xi.one+"px",background:"white",height:xi.one,boxSizing:"border-box",borderRadius:"4px"}},o)},Fl=function(e){var t=e.condition,n=e.onChange,i=(0,N.useRef)(null),o=(0,N.useMemo)((function(){return t.value}),[t]),r=(0,N.useMemo)((function(){return ua()((function(e){return n(e)}),ha)}),[n]),s=(0,N.useCallback)((function(e){e!==t.value&&n(e)}),[t.value,n]);return R().createElement(Nl.Y,{key:t.conditionId,inputRef:i,value:o,onBlur:s,onChange:r})},Ul=jn.ZP.div(Ts||(Ts=(0,En.Z)(["\n  .select {\n    width: 132px;\n  }\n"]))),Bl=n("../node_modules/@tencent/xtable-core/es/model/field/number/number-field.js"),Wl=[{decimalPlaces:0,text:p.Z.t("field_integer")},{decimalPlaces:1,text:"1"+p.Z.t("digit")+"（1.0）"},{decimalPlaces:2,text:"2"+p.Z.t("digits")+"（1.00）"},{decimalPlaces:3,text:"3"+p.Z.t("digits")+"（1.000）"},{decimalPlaces:4,text:"4"+p.Z.t("digits")+"（1.0000）"}],Gl=function(e){var t=e.property,n=e.onChange,i=e.canEdit,o=(0,N.useState)(t.decimalPlaces),r=o[0],s=o[1],a=(0,N.useState)(t.useSeparate),l=a[0],d=a[1];(0,N.useEffect)((function(){n({decimalPlaces:r,useSeparate:l})}),[r,l,n]);var c=(0,N.useCallback)((function(e){var t=Number(e);s(t),ar.f.modifyDecimalPlaces(t)}),[]),u=(0,N.useCallback)((function(e){d(e),ar.f.modifySeparate(e)}),[]);return R().createElement(Ul,null,R().createElement(dr,null,R().createElement("div",{className:"label"},p.Z.t("decimal_digits")),R().createElement(Tn.default,{className:"select",defaultValue:String(r),onChange:c,dropdownMatchSelectWidth:!1,disabled:!i},Wl.map((function(e){return R().createElement(Tn.default.Option,{value:String(e.decimalPlaces)},e.text)})),R().createElement(ft.default,null),R().createElement(Tn.default.Option,{value:String(Bl.Qx)},p.Z.t("auto")))),R().createElement(dr,null,R().createElement("div",{className:"label"},p.Z.t("use_thousand_separator")),R().createElement(sr.default,{disabled:!i,checked:l,onChange:u})))},Zl=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReaderWrapper=function(){return null},n.getCellReader=function(){return Pl},n.getCellEditorWrapper=function(){return zl},n.getCellEditor=function(){return Ol},n.getPropertyEditor=function(){return Gl},n.getFilterConditionEditor=function(){return Fl},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.X4},n.getSortOrderInfo=function(){return Be.zI},t}(Sl.x),Hl=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/phone/base-field-feature.service.jsx"),Yl=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/phone/pc/cell-editor/phone-input.jsx"),Vl=jn.ZP.div(Es||(Es=(0,En.Z)(["\n  background-color: white;\n  border-radius: 4px;\n\n  .input {\n    font-size: 10pt;\n    border: none;\n  }\n"]))),Ql=jn.ZP.div(js||(js=(0,En.Z)(["\n  .read {\n    width: 0px;\n    height: 0px;\n    overflow: hidden;\n  }\n"]))),Kl=jn.ZP.div(As||(As=(0,En.Z)(["\n  display: flex;\n  height: ","px;\n  line-height: 33px;\n  background: white;\n  padding: 0 7px;\n\n  .placeholder {\n    color: rgba(32, 32, 32, 0.16);\n  }\n\n  .read-text-overflow {\n    display: -webkit-box;\n    flex: 1;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    word-break: break-all;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: ",";\n    line-height: 21px;\n    margin: 6px 0;\n    overflow: hidden;\n  }\n"])),(function(e){return e.cellSize.height}),(function(e){switch(e.cellSize.height){case xi.one:return 1;case xi.two:return 2;case xi.four:return 4;case xi.six:return 6;default:return null}})),Xl=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.autoFocus,r=(0,Ks.E)(t),s=r.setInputting,a=r.inputValue,l=(0,N.useRef)(null),d=(0,N.useCallback)((function(e){i(e,Io.S.BLUR),s(!1)}),[i,s]),c=(0,N.useCallback)((function(){return s(!0)}),[s]);return R().createElement(Kl,{cellSize:n,style:{borderRadius:"4px",padding:0}},R().createElement(Yl.sb,{inputClassName:"tel-record-detail-input",inputStyle:{width:n.width+"px",height:n.height+"px",textAlign:"left",border:"none",padding:"7px"},inputRef:l,value:a,onBlur:d,onFocus:c,placeholderTitle:p.Z.t("input_tel"),autoFocus:o}))},Jl=["mousedown","contextmenu"],ql=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.onInputStatusChange,r=e.editStatus,s=e.setEditStatus,a=(0,N.useState)((function(){return r})),l=a[0],d=a[1],c=(0,N.useRef)(null);(0,_i.$)({domRef:c,events:Jl}),na(c),(0,N.useEffect)((function(){setTimeout((function(){var e;null===(e=c.current)||void 0===e||e.focus()}),0)}),[l]),(0,N.useEffect)((function(){s(l)}),[l,s]);var u=(0,N.useMemo)((function(){return l===Dr.R.STABLE_EDIT?t:null}),[t,l]),h=(0,N.useCallback)((function(){l===Dr.R.READ&&d(Dr.R.STABLE_EDIT)}),[l]),g=(0,N.useCallback)((function(e){null===o||void 0===o||o(!1),l!==Dr.R.READ&&(d(Dr.R.READ),i(e,Io.S.BLUR))}),[i,o,l]),f=(0,N.useCallback)((function(){null===o||void 0===o||o(!0)}),[o]),m=(0,N.useCallback)((function(e,t){"Enter"===t.key&&l!==Dr.R.READ&&(d(Dr.R.READ),i(e,Io.S.ENTER))}),[i,l]),v=(0,N.useCallback)((function(e){l===Dr.R.READ&&Ws(e.nativeEvent)&&d(Dr.R.QUICK_EDIT)}),[l]),I=(0,N.useCallback)((function(e){l!==Dr.R.READ&&"Escape"===e.key&&(d(Dr.R.READ),i(null,Io.S.ESC))}),[l,i]),y=(0,N.useCallback)((function(e,t){l!==Dr.R.READ&&"Tab"===t.key&&i(e,Io.S.TAB)}),[i,l]),_=(0,N.useCallback)((function(e,t){y(e,t),m(e,t),v(t),I(t)}),[m,I,v,y]),b=(0,N.useCallback)((function(){setTimeout((function(){var e;null===(e=c.current)||void 0===e||e.focus()}),0)}),[]),M=(0,N.useMemo)((function(){return{width:n.width,height:"32px",border:"none",padding:"7px"}}),[n.width]),C=(0,N.useCallback)((function(){return l===Dr.R.READ?t?R().createElement(Kl,{cellSize:n},R().createElement("div",{className:"read-text-overflow"},t)):R().createElement(Kl,{cellSize:n},R().createElement("div",{className:"placeholder read-text-overflow"},p.Z.t("input_tel"))):null}),[n,l,t]);return R().createElement(Ql,{className:"tel-cell-editor-wrapper "+l,onDoubleClick:h,onMouseDown:b,style:{width:n.width,height:n.height,background:"white"}},R().createElement("div",{className:l},R().createElement(Vl,null,R().createElement(Yl.sb,{inputClassName:"input cell-editor-input",inputStyle:M,inputRef:c,value:u,onBlur:g,onFocus:f,onKeyDown:_}))),C())},$l="f8RleET3t1G7Auq15Fpy",ed="m4oz1dE0cYij4PeuEJAs",td="XgdzfUPojLPe4tjxlmrz",nd=function(e){var t=e.standardCell,n=e.cellSize,i=(0,N.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]),o=(0,N.useCallback)((function(){i&&(0,Qs.aQ)(Qs._i.TEL,i)}),[i]),r=(0,N.useCallback)((function(e){return R().createElement("div",{style:{width:"20px",height:"20px",marginRight:"10px"},className:e,onClick:o})}),[o]),s=(0,N.useCallback)((function(){return i?r(td):r()}),[i,r]);return R().createElement("div",{className:$l},R().createElement("div",{className:ed,style:{lineHeight:xi.one+"px",height:xi.one,border:"none",width:n.width-20-10+"px"}},i),s())},id=function(e){var t=e.standardCell,n=e.autoFocus,i=(0,N.useRef)(null),o=(0,N.useMemo)((function(){return 0===t.data.length?"":t.data[0].text}),[t]),r=(0,N.useCallback)((function(){o&&(0,Qs.aQ)(Qs._i.TEL,o)}),[o]),s=(0,N.useCallback)((function(){return o?R().createElement("div",{className:td,onClick:r}):null}),[r,o]);return gr(n,i),R().createElement("div",{className:$l,tabIndex:0,ref:i},R().createElement("div",{className:ed,style:{lineHeight:xi.one+"px",height:xi.one,border:"none"}},o),s())},od=function(e){var t=e.condition,n=e.onChange,i=(0,N.useRef)(null),o=(0,N.useMemo)((function(){return t.value}),[t]),r=(0,N.useMemo)((function(){return ua()((function(e){return n(""===e?null:e)}),ha)}),[n]),s=(0,N.useCallback)((function(e){e!==t.value&&n(""===e?null:e)}),[t.value,n]);return R().createElement(Yl.sb,{key:t.conditionId,inputRef:i,value:o,onBlur:s,onChange:r})},rd=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReaderWrapper=function(){return nd},n.getCellReader=function(){return id},n.getCellEditorWrapper=function(){return ql},n.getCellEditor=function(){return Xl},n.getPropertyEditor=function(){return null},n.getFilterConditionEditor=function(){return od},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.IN},t}(Hl.H),sd=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/progress/base-field-feature.service.jsx"),ad=function(e){return""===e||"%"===e?null:"%"===e.slice(-1)?Number(e.slice(0,-1)):Number(e)},ld=function(e){var t=e.onBlur,n=e.inputRef,i=e.inputStyle,o=e.inputClassName,r=e.onKeyDown,s=e.value,a=e.onFocus,l=e.onChange,d=e.placeholderTitle,c=(0,N.useState)(!1),u=c[0],h=c[1],g=(0,N.useState)(!1),f=g[0],m=g[1],v=(0,N.useState)(""),I=v[0],y=v[1];(0,N.useEffect)((function(){y(null===s||s>100||s<0?"":function(e){return e+"%"}(s))}),[s]);var _=(0,N.useCallback)((function(e){var t=e.target.value,n=t;return"%"===t.slice(-1)&&(n=t.slice(0,-1)),""===n?(y(t),void(null===l||void 0===l||l(ad(t)))):!isNaN(Number(n))&&-1===n.indexOf(" ")&&Number(n)>=0&&Number(n)<=100?(y(t),m(!1),h(!1),void(null===l||void 0===l||l(ad(t)))):void(f||(m(!0),h(!0),setTimeout((function(){return h(!1)}),3e3)))}),[f,l]),b=(0,N.useCallback)((function(e){var n=e.target.value,i=n;"-"===n&&(i=""),y(i),null===t||void 0===t||t(ad(i))}),[t]),M=(0,N.useCallback)((function(e){null===r||void 0===r||r(ad(I),e)}),[I,r]);return R().createElement(Lt.default,{title:p.Z.t("input_number_between_0_and_100"),trigger:"click",placement:"top",visible:u},R().createElement(rt.default,{placeholder:d,inputClassName:o,value:I,onInput:_,onBlur:b,onFocus:a,onKeyDown:M,inputRef:n,inputStyle:i}))},dd=jn.ZP.div(xs||(xs=(0,En.Z)(["\n  background-color: white;\n  border-radius: 4px;\n  // 避免进度条超出边框减去(padding + margin)\n  max-width: calc(100% - 18px);\n\n  .input {\n    font-size: 10pt;\n    border: none;\n  }\n"]))),cd=jn.ZP.div(Ds||(Ds=(0,En.Z)(["\n  .read {\n    width: 0px;\n    height: 0px;\n    overflow: hidden;\n  }\n"]))),ud=jn.ZP.div(Ss||(Ss=(0,En.Z)(["\n  height: 16px;\n  margin: 6px 8px;\n  padding: 2px 0;\n  border-radius: 2px;\n  position: relative;\n  font-size: 10pt;\n  color: #000;\n  line-height: 16px;\n  text-align: left;\n  background-color: #01c29cde;\n  width: ",";\n\n  .progress-text {\n    padding-left: 8px;\n  }\n"])),(function(e){return e.width+"%"})),hd=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.property,r=e.autoFocus,s=(0,N.useState)(t),a=s[0],l=s[1];(0,N.useEffect)((function(){return l(t)}),[t]);var d=(0,N.useRef)(null),c=(0,N.useState)(!1),u=c[0],h=c[1],g=(0,N.useCallback)((function(e){l(e),i(e,Io.S.BLUR),h(!1)}),[i]),f=gd(o.decimalPlaces);(0,N.useEffect)((function(){var e,t;u?null===(e=d.current)||void 0===e||e.focus():null===(t=d.current)||void 0===t||t.blur()}),[u]);var m=(0,N.useCallback)((function(){return u?R().createElement(ld,{inputClassName:"input",inputStyle:{width:n.width+"px",height:n.height+"px",textAlign:"left",fontSize:"10pt"},inputRef:d,value:t,onBlur:g,placeholderTitle:f}):null}),[n.height,n.width,g,f,u,t]),p=(0,N.useCallback)((function(){return u?null:R().createElement(ud,{className:"list-cell-progress",width:null!==a&&void 0!==a?a:0},R().createElement("span",{className:"progress-text"},a?a+"%":""))}),[a,u]),v=(0,N.useCallback)((function(){return h(!0)}),[]),I=(0,N.useRef)(null);return gr(r,I),R().createElement(dd,{onClick:v,tabIndex:0,ref:I},p(),m())},gd=function(e){if(e>4||e<=0)return"0%";for(var t="0.",n=0;n<e;n++)t+="0";return t+"%"},fd=["mousedown","contextmenu"],md=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.onInputStatusChange,r=e.editStatus,s=e.setEditStatus,a=e.property,l=(0,N.useState)((function(){return r})),d=l[0],c=l[1],u=(0,N.useRef)(null);(0,_i.$)({domRef:u,events:fd}),na(u),(0,N.useEffect)((function(){setTimeout((function(){if(u.current){if(d===Dr.R.STABLE_EDIT){var e=u.current.value.length;u.current.selectionStart=e-1,u.current.selectionEnd=e-1}u.current.focus()}}),0)}),[d]),(0,N.useEffect)((function(){s(d)}),[d,s]);var h=(0,N.useMemo)((function(){return d===Dr.R.STABLE_EDIT?t:null}),[t,d]),g=(0,N.useCallback)((function(){d===Dr.R.READ&&c(Dr.R.STABLE_EDIT)}),[d]),f=(0,N.useCallback)((function(e){null===o||void 0===o||o(!1),d!==Dr.R.READ&&(c(Dr.R.READ),i(e,Io.S.BLUR))}),[i,o,d]),m=(0,N.useCallback)((function(){null===o||void 0===o||o(!0)}),[o]),p=(0,N.useCallback)((function(e,t){"Enter"===t.key&&d!==Dr.R.READ&&(c(Dr.R.READ),i(e,Io.S.ENTER))}),[i,d]),v=(0,N.useCallback)((function(e){d===Dr.R.READ&&Ws(e.nativeEvent)&&c(Dr.R.QUICK_EDIT)}),[d]),I=(0,N.useCallback)((function(e){d!==Dr.R.READ&&"Escape"===e.key&&(c(Dr.R.READ),i(null,Io.S.ESC))}),[d,i]),y=(0,N.useCallback)((function(e,t){d!==Dr.R.READ&&"Tab"===t.key&&i(e,Io.S.TAB)}),[i,d]),_=(0,N.useCallback)((function(e,t){v(t),p(e,t),I(t),y(e,t)}),[p,I,v,y]),b=(0,N.useCallback)((function(){setTimeout((function(){var e;null===(e=u.current)||void 0===e||e.focus()}),0)}),[]),M=gd(a.decimalPlaces),C=(0,N.useMemo)((function(){return{width:n.width,height:33,textAlign:"right",border:"none",fontSize:"10pt",fontFamily:wr.ut}}),[n.width]),w=(0,N.useCallback)((function(){return d===Dr.R.READ&&null===t?R().createElement(rt.default,{disabled:!0,placeholder:M,inputStyle:C}):null}),[C,M,d,t]);return R().createElement(cd,{className:"progress-cell-editor-wrapper "+d,onDoubleClick:g,onMouseDown:b,style:{width:n.width,height:n.height,background:d===Dr.R.READ?"transparent":"white"}},w(),R().createElement("div",{className:d},R().createElement(dd,null,R().createElement(ld,{inputClassName:"input",inputStyle:C,inputRef:u,value:h,onBlur:f,onFocus:m,onKeyDown:_}))))},pd=function(e){var t=e.value,n=e.autoFocus,i=(0,N.useRef)(null);return gr(n,i),R().createElement(ud,{className:"list-cell-progress",width:null!==t&&void 0!==t?t:0,ref:i,tabIndex:0},R().createElement("span",{className:"progress-text"},t?t+"%":""))},vd=function(e){var t=e.condition,n=e.onChange,i=(0,N.useRef)(null),o=(0,N.useMemo)((function(){return t.value}),[t]),r=(0,N.useMemo)((function(){return ua()((function(e){return n(e)}),ha)}),[n]),s=(0,N.useCallback)((function(e){e!==t.value&&n(e)}),[t.value,n]);return React.createElement(ld,{key:t.conditionId,inputRef:i,value:o,onBlur:s,onChange:r})},Id=function(e){var t=e.property,n=e.onChange,i=e.canEdit,o=(0,N.useState)(t.decimalPlaces),r=o[0],s=o[1];(0,N.useEffect)((function(){n({decimalPlaces:r})}),[r,n]);var a=(0,N.useCallback)((function(e){s(Number(e))}),[]);return R().createElement(Ul,null,R().createElement(dr,null,R().createElement("div",{className:"label"},p.Z.t("decimal_digits")),R().createElement(Tn.default,{className:"select",defaultValue:String(r),onChange:a,dropdownMatchSelectWidth:!1,disabled:!i},Wl.map((function(e){return R().createElement(Tn.default.Option,{value:String(e.decimalPlaces)},e.text)})),R().createElement(ft.default,null),R().createElement(Tn.default.Option,{value:String(Bl.Qx)},p.Z.t("auto")))),R().createElement(dr,null))},yd=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReaderWrapper=function(){return null},n.getCellReader=function(){return pd},n.getCellEditorWrapper=function(){return md},n.getCellEditor=function(){return hd},n.getPropertyEditor=function(){return Id},n.getFilterConditionEditor=function(){return vd},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.X4},n.getSortOrderInfo=function(){return Be.zI},t}(sd.M),_d=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/select/base-field-feature.service.jsx"),bd=function(e){var t=e.property,n=e.value,i=e.onChange,o=e.onPropertyChange,r=e.autoFocus,s=e.onDropdownVisible,a=(0,N.useRef)(null),l=(0,N.useRef)(null),d=(0,N.useRef)(null),c=(0,N.useCallback)((function(e){i(e,Io.S.CONFIRM)}),[i]);return gr(r,d),R().createElement("div",{className:"select-record-detail-editor",ref:d,tabIndex:0},R().createElement(us,{searchInputRef:a,value:n,property:t,onChange:c,onPropertyChange:o,selectRef:l,onDropdownVisible:s}))},Md=["mousedown","mousemove"],Cd=function(e){var t=e.value,n=e.property,i=e.cellSize,o=e.onChange,r=e.editStatus,s=e.onPropertyChange,a=(0,N.useRef)(null),l=(0,N.useRef)(null),d=(0,N.useRef)(null);(0,N.useEffect)((function(){var e=l.current;if(e)return setTimeout((function(){e.scrollHeight<=e.clientHeight||e.addEventListener("wheel",_i.U)}),0),function(){e.removeEventListener("wheel",_i.U)}}),[t]),(0,_i.$)({domRef:a,events:Md});var c=(0,N.useCallback)((function(e){o(e,Io.S.CONFIRM)}),[o]),u=(0,N.useMemo)((function(){return i.width>120}),[i.width]);return R().createElement("div",{ref:a,className:"select-cell-editor-wrapper "+r,style:{width:i.width+"px",minHeight:i.height+"px",background:"white"}},R().createElement(us,{value:t,property:n,onChange:c,onPropertyChange:s,selectStyle:{width:i.width+"px",minHeight:i.height+"px",maxHeight:Math.max(i.height,180)+"px"},dropdownMatchSelectWidth:u,selectRef:l,searchInputRef:d}))},wd=jn.ZP.div(Ns||(Ns=(0,En.Z)(["\n  padding: 5px 8px;\n  box-sizing: border-box;\n  min-height: ","px;\n  overflow-x: hidden;\n  display: flex;\n  flex-wrap: wrap;\n"])),xi.one),Td=jn.ZP.div(Rs||(Rs=(0,En.Z)(["\n  background: white;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 8px;\n    height: 12px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: rgba(31, 35, 41, 0.1);\n    background-clip: padding-box;\n    border: 1px solid hsla(0, 0%, 100%, 0.7);\n    border-radius: 6px;\n    min-height: 36px;\n  }\n"]))),Ed=function(e){var t=e.standardCell,n=e.property,i=e.autoFocus,o=(0,N.useRef)(null),r=(0,N.useCallback)((function(e){return R().createElement(cs,{key:e.id,isMultiple:n.isMultiple,optionStyle:e.style},R().createElement("div",{className:"option-title"},e.text))}),[n.isMultiple]);return gr(i,o),R().createElement(wd,{ref:o,tabIndex:0},t.data.map(r))},jd=["mousedown","wheel","mousemove"],Ad=function(e){var t=e.standardCell,n=e.property,i=e.cellSize,o=e.value,r=(0,N.useRef)(null);return(0,_i.$)({domRef:r,events:jd}),na(r),R().createElement(Td,{className:"select-cell-reader-wrapper",ref:r,style:{minHeight:i.height+"px",maxHeight:Math.max(i.height,180)+"px",width:i.width+"px"}},null===o||0===o.length?null:R().createElement(Ed,{value:o,standardCell:t,property:n}))},xd=[Ls.m.CONTAINS,Ls.m.DOES_NOT_CONTAIN],Dd=function(e){var t=e.condition,n=e.onChange,i=t.value,o=t.operator,r=e.property,s={isMultiple:!!xd.includes(o)||r.isMultiple,options:r.options,isQuickAdd:!1},a=(0,N.useRef)(null),l=(0,N.useCallback)((function(e){return Array.isArray(e)?e:[]}),[]),d=(0,N.useCallback)((function(e){var t=l(e);n(t.length?t:null)}),[l,n]);return R().createElement("div",null,R().createElement("div",{style:{border:"1px solid #e3e3e3",borderRadius:"4px"}},R().createElement(us,{property:s,value:l(i),onChange:d,searchInputRef:a})))},Sd=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/option-style-picker/index.jsx"),Nd=function(e){var t=(0,N.useContext)(Rd),n=t.options,i=t.prevOptions,o=t.changeOptionText,r=t.dropOption,s=t.updateOptions,a=t.removeOption,l=t.changeOptionColor,d=e.style,c=e.text,u=e.id,h=e.canEdit,g=e.index,f=e.focusRef,m=e.onFocus,p=e.onKeydown,v=(0,kt.W)({index:g,id:u,type:"option",onDrop:r,dndOptions:n,originOptions:i}),I=v.handlerId,y=v.isDragging,_=v.dropRef,b=v.dragRef,M=v.dragPreview,C=v.sortedOptions,w=(0,N.useRef)(null),T=(0,N.useCallback)((function(e){o(g,e.target.value)}),[g,o]),E=(0,N.useCallback)((function(){return R().createElement(Sd.D,{selected:d,onSelect:function(e){return l(g,e)}})}),[l,g,d]),j=(0,N.useCallback)((function(){var e=R().createElement(mo.Lz,{optionStyle:(0,os.F)(d)},R().createElement("div",{className:"color"}));return h?R().createElement(mt.default,{dropContent:E()},e):e}),[E,d,h]);(0,N.useEffect)((function(){s(C)}),[C,s]);var A=(0,N.useCallback)((function(){a(g)}),[a,g]);return _(w),M(w),R().createElement(mo.o3,{ref:w,"data-handler-id":I,style:{opacity:y?0:1}},h?R().createElement(mo.Ul,{onClick:A}):null,j(),R().createElement(rt.default,{className:"text-input-container",inputClassName:"text-input",inputRef:f,defaultValue:c,onBlur:T,onFocus:m,onKeyDown:p,disabled:!h}),h?R().createElement("div",{className:"drag-icon-container"},R().createElement(mo.zc,{ref:b})):null)},Rd=(0,N.createContext)(null),Od=function(e){var t=e.property,n=e.onChange,i=e.canEdit,o=(0,N.useState)(t.isQuickAdd),r=o[0],s=o[1],l=(0,N.useState)(t.options),d=l[0],c=l[1],u=(0,N.useState)(t.options),h=u[0],g=u[1],f=(0,N.useRef)([]),m=(0,N.useRef)(d.length-1),v=(0,N.useRef)();(0,N.useEffect)((function(){var e=d.filter((function(e){return""!==e.text}));n({isQuickAdd:r,isMultiple:t.isMultiple,options:e})}),[n,t.isMultiple,r,d]);var I=(0,N.useCallback)((function(){var e=(0,ls.Wv)(d),t=e.usedIds,n=e.usedStyles,i=ls.dX.createOption("",t,n,v.current);c((function(e){return[].concat((0,a.Z)(e),[i])})),setTimeout((function(){var e,t;m.current=d.length,null===(t=null===(e=f.current[m.current])||void 0===e?void 0:e.current)||void 0===t||t.focus()}),0),ar.f.addOption()}),[d]),y=(0,N.useCallback)((function(e,t){c((function(n){var i=(0,a.Z)(n),o=i[e];return i[e]=Object.assign(Object.assign({},o),{text:t}),ar.f.modifyOptionTitle(),i}))}),[]),_=(0,N.useCallback)((function(e,t){c((function(n){var i=(0,a.Z)(n),o=i[e];return i[e]=Object.assign(Object.assign({},o),{style:t}),ar.f.modifyOptionStyle(t),i})),v.current=t}),[]),b=(0,N.useCallback)((function(){g(d),ar.f.moveOption()}),[d]),M=(0,N.useCallback)((function(e){c(e)}),[]),C=(0,N.useCallback)((function(e){f.current.splice(e,1),c((function(t){var n=(0,a.Z)(t);return n.splice(e,1),n})),ar.f.deleteOption()}),[]),w=(0,N.useCallback)((function(e){return f.current[e]||(f.current[e]=R().createRef()),f.current[e]}),[]),T=(0,N.useCallback)((function(e){var t,n;e.preventDefault(),m.current===f.current.length-1?I():(m.current+=1,null===(n=null===(t=f.current[m.current])||void 0===t?void 0:t.current)||void 0===n||n.focus())}),[I]),E=(0,N.useCallback)((function(){var e;if(0!==m.current){var t=null===(e=f.current[m.current])||void 0===e?void 0:e.current;t&&""===t.value&&(C(m.current),setTimeout((function(){var e,t;m.current-=1,null===(t=null===(e=f.current[m.current])||void 0===e?void 0:e.current)||void 0===t||t.focus()}),0))}}),[C]),j=(0,N.useCallback)((function(e){(0,At.m)(e,{Enter:T,Tab:T,Backspace:E})}),[T,E]),A=(0,N.useCallback)((function(e){m.current=e}),[]),x=(0,N.useCallback)((function(e){s(e),ar.f.modifyQuickAdd(e)}),[]);return R().createElement(mo.Hq,null,R().createElement("div",{className:"option-editor"},d.length?R().createElement("div",{className:"option-list"},R().createElement(Rd.Provider,{value:{options:d,prevOptions:h,updateOptions:M,dropOption:b,changeOptionText:y,removeOption:C,changeOptionColor:_}},R().createElement(St.W,{backend:Nt.PD},d.map((function(e,t){return R().createElement(Nd,Object.assign({key:e.id},e,{canEdit:i,index:t,focusRef:w(t),onFocus:function(){return A(t)},onKeydown:j}))}))))):null,i?R().createElement("div",{className:"add-option-button",onClick:I},R().createElement(mo.wA,null),R().createElement("span",null,p.Z.t("add_option"))):null),R().createElement("div",{className:"format-editor"},R().createElement(dr,null,R().createElement("div",{className:"label"},p.Z.t("allow_instant_option_creation")),R().createElement(sr.default,{disabled:!i,checked:r,onChange:x}))))},Ld=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return Ed},n.getCellReaderWrapper=function(){return Ad},n.getCellEditorWrapper=function(){return Cd},n.getCellEditor=function(){return bd},n.getPropertyEditor=function(){return Od},n.getFilterConditionEditor=function(){return Dd},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.BT},t}(_d.E),kd=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return Ed},n.getCellReaderWrapper=function(){return Ad},n.getCellEditorWrapper=function(){return Cd},n.getCellEditor=function(){return bd},n.getPropertyEditor=function(){return Od},n.getFilterConditionEditor=function(){return Dd},n.getCellHTML=function(e){return e.data.map((function(e){return e.text})).join(",")},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.BT},t}(_d.K),zd=(n("../node_modules/core-js/modules/es.string.link.js"),n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/text/base-field-feature.service.jsx")),Pd=window.innerHeight;function Fd(e){var t=e.dom,n=e.minHeight,i=e.maxHeight,o=e.gap,r=void 0===o?45:o,s=t.getBoundingClientRect().top;t.style.height=n+"px";var a=Math.max(t.offsetHeight,t.scrollHeight);if("undefined"===typeof i){var l=Pd<s+a+r;t.style.height=l?Pd-s-r+"px":a+"px"}else t.style.height=Math.min(a,i)+"px"}function Ud(e,t){void 0===t&&(t=45);var n=e.getBoundingClientRect().top;return Pd-n-t}var Bd,Wd,Gd,Zd,Hd,Yd,Vd,Qd,Kd,Xd,Jd,qd,$d=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/text/text-format.js"),ec=jn.ZP.textarea(Bd||(Bd=(0,En.Z)(["\n  width: 100%;\n  padding: ","px 7px;\n  white-space: pre-wrap;\n  word-break: break-word;\n  font-size: ","pt;\n  line-height: ","px;\n  height: ","px;\n  min-height: ","px;\n  overflow-y: auto;\n  box-sizing: border-box;\n  // focus 后光标为输入光标\n  cursor: auto;\n  border: none;\n  outline: none;\n  resize: none;\n  background: transparent;\n  display: block;\n  font-family: ",";\n"])),6,10,20,32,32,wr.ut),tc=function(e){var t=e.value,n=e.editorRef,i=e.onBlur,o=e.onFocus,r=e.onKeydown,s=e.onKeyup,a=e.autoFocus,l=e.maxHeight,d=(0,N.useMemo)((function(){return null!==t&&void 0!==t?t:[]}),[t]),c=(0,N.useCallback)((function(e){Fd({maxHeight:l,dom:e.currentTarget,minHeight:32})}),[l]),u=(0,N.useCallback)((function(e){var t=e.currentTarget.value;null===i||void 0===i||i(t)}),[i]);return(0,N.useEffect)((function(){if(n.current){var e=(0,$d.dF)(d);n.current.value=e,Fd({maxHeight:l,dom:n.current,minHeight:32})}}),[n,d,l]),R().createElement(ec,{ref:n,onKeyDown:r,onKeyUp:s,onChange:c,onBlur:u,onFocus:o,autoFocus:a})},nc=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.autoFocus,r=(0,Ks.E)(t),s=r.setInputting,a=r.inputValue,l=(0,N.useRef)(null),d=(0,N.useCallback)((function(e){s(!1);var t=(0,$d.Eh)(e);i(t,Io.S.BLUR)}),[i,s]),c=(0,N.useCallback)((function(){return s(!0)}),[s]),u=(0,N.useCallback)((function(e){var t;(0,At.m)(e,((t={}).Enter=$d.VH,t))}),[]);return R().createElement("div",{className:"text-record-detail-editor",style:{minHeight:n.height+"px"}},R().createElement(tc,{value:a,editorRef:l,onBlur:d,onFocus:c,onKeydown:u,autoFocus:o,maxHeight:160}))},ic=jn.ZP.div(Wd||(Wd=(0,En.Z)(["\n  width: ","px;\n  min-height: ","px;\n  background: ",";\n\n  div {\n    line-height: 16px;\n  }\n\n  .read {\n    width: 0px;\n    height: 0px;\n    overflow: hidden;\n  }\n"])),(function(e){return e.cellSize.width}),(function(e){return e.cellSize.height}),(function(e){return e.editStatus===Dr.R.READ?"none":"white"})),oc=["wheel","mouseup","mousedown","contextmenu"],rc=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.onInputStatusChange,r=e.editStatus,s=e.setEditStatus,a=(0,N.useState)((function(){return r})),l=a[0],d=a[1],c=(0,N.useRef)(null);(0,_i.$)({domRef:c,events:oc}),na(c);var u=(0,N.useRef)(!1);(0,N.useEffect)((function(){s(l)}),[l,s]);var h=(0,N.useCallback)((function(){var e=c.current;e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))}),[]);(0,N.useEffect)((function(){h()}),[l,h]);var g=(0,N.useMemo)((function(){return l===Dr.R.STABLE_EDIT?t:null}),[t,l]),f=(0,N.useCallback)((function(e){l===Dr.R.READ&&Ws(e.nativeEvent)&&d(Dr.R.QUICK_EDIT)}),[l]),m=(0,N.useCallback)((function(){l===Dr.R.READ&&d(Dr.R.STABLE_EDIT)}),[l]),p=(0,N.useCallback)((function(e){if(l!==Dr.R.READ){var t=(0,$d.Eh)(e.currentTarget.value);i(t,Io.S.TAB)}}),[i,l]),v=(0,N.useCallback)((function(e){if(e.preventDefault(),e.ctrlKey||e.metaKey||e.altKey)document.execCommand("insertText",!1,"\n");else if(l!==Dr.R.READ){d(Dr.R.READ);var t=(0,$d.Eh)(e.currentTarget.value);i(t,Io.S.ENTER)}}),[i,l]),I=(0,N.useCallback)((function(){l!==Dr.R.READ&&(d(Dr.R.READ),i(null,Io.S.ESC))}),[l,i]),y=(0,N.useCallback)((function(){o(!0)}),[o]),_=(0,N.useCallback)((function(e){if(o(!1),c.current&&l!==Dr.R.READ){var t=(0,$d.Eh)(e);i(t,Io.S.BLUR)}}),[i,o,l]),b=(0,N.useCallback)((function(e){var t;u.current=!0,f(e),(0,At.m)(e,((t={}).Enter=v,t.Tab=p,t.Escape=I,t))}),[f,v,p,I]),M=(0,N.useCallback)((function(e){u.current||"V"===e.key.toUpperCase()||f(e)}),[f]),C=(0,N.useCallback)((function(){setTimeout((function(){h()}),0)}),[h]);return R().createElement(ic,{className:"text-cell-editor-wrapper "+l,cellSize:n,editStatus:l,onDoubleClick:m,onMouseDown:C},R().createElement("div",{className:l},R().createElement(tc,{value:g,editorRef:c,onFocus:y,onBlur:_,onKeyup:M,onKeydown:b})))},sc=jn.ZP.div(Gd||(Gd=(0,En.Z)(["\n  padding: 6px 7px;\n  box-sizing: border-box;\n  min-height: ","px;\n  line-height: ","px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  white-space: pre-wrap;\n  word-break: break-word;\n"])),32,20),ac=function(e){var t=e.standardCell,n=e.readerRef,i=e.maxHeight,o=(0,N.useMemo)((function(){return(0,$d.dF)(t.data)}),[t]);return(0,N.useEffect)((function(){n.current&&Fd({maxHeight:i,dom:n.current,minHeight:32})}),[o,n,i]),R().createElement(sc,{ref:n,tabIndex:0,className:"text-reader"},o)},lc=function(e){var t=e.standardCell,n=e.autoFocus,i=(0,N.useRef)(null);return gr(n,i),R().createElement(ac,{standardCell:t,readerRef:i,maxHeight:160})},dc=jn.ZP.div(Zd||(Zd=(0,En.Z)(["\n  background: ",";\n"])),(function(e){return e.showDetail?"white":"none"})),cc=["mousedown","wheel"],uc=function(e){var t=e.standardCell,n=e.cellSize,i=e.value,o=(0,N.useState)(!1),r=o[0],s=o[1],a=(0,N.useRef)(null),l=(0,N.useRef)(null);(0,_i.$)({domRef:a,events:cc}),na(a);var d=(0,N.useCallback)((function(){s(!0)}),[]),c=(0,N.useMemo)((function(){return!(null===i||0===i.length||!r)}),[r,i]);return R().createElement(dc,{className:"text-cell-reader-wrapper",style:{minHeight:n.height+"px",width:n.width+"px"},showDetail:r,onDoubleClick:d},R().createElement("div",{className:"reader",ref:a},c?R().createElement(ac,{standardCell:t,readerRef:l}):null))},hc=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.interface.js"),gc=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return lc},n.getCellReaderWrapper=function(){return uc},n.getCellEditorWrapper=function(){return rc},n.getCellEditor=function(){return nc},n.getPropertyEditor=function(){return null},n.getFilterConditionEditor=function(){return _a},n.getCellHTML=function(e){return e.data.map((function(e){return e.type===hc.y.TEXT?e.text:'<a href="'+e.link+'">'+e.text+"</a>"})).join("<br/>")},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.IN},t}(zd.S),fc=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/url/base-field-feature.service.jsx"),mc=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/url/pc/cell-editor/dropdown-content/index.jsx"),pc=["B","I","U"],vc=jn.ZP.div(Hd||(Hd=(0,En.Z)(["\n  white-space: pre-wrap;\n  word-break: break-word;\n  box-sizing: border-box;\n  min-height: 20px;\n  // focus 后光标为输入光标\n  cursor: auto;\n  // safari 需要主动设置选中文本\n  user-select: text;\n"]))),Ic=function(e){var t=e.content,n=e.style,i=e.editorRef,o=e.onBlur,r=e.onFocus,s=e.onPaste,a=e.onBackspace,l=e.onKeydown,d=(0,N.useCallback)((function(e){var t=e.key;(e.metaKey||e.ctrlKey)&&pc.includes(t)&&e.preventDefault()}),[]),c=(0,N.useCallback)((function(e){e.preventDefault()}),[]),u=(0,N.useCallback)((function(e){var t;d(e),(0,At.m)(e,((t={}).Enter=c,t)),null===l||void 0===l||l(e)}),[d,l,c]),h=(0,N.useCallback)((function(e){var t=e.target.innerText;null===o||void 0===o||o(t)}),[o]);(0,N.useEffect)((function(){var e=null;return i.current&&(i.current.addEventListener("paste",s,!1),e=i.current),function(){return null===e||void 0===e?void 0:e.removeEventListener("paste",s)}}),[i,s]);var g=(0,N.useCallback)((function(e){"Backspace"===e.key&&a(e)}),[a]);return R().createElement(vc,{ref:i,contentEditable:!0,onKeyDown:u,onKeyUp:g,style:n,onBlur:h,onFocus:r,tabIndex:0},t)},yc=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.js"),_c=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-field.interface.js"),bc="link-span",Mc=function(e){var t=e.value,n=e.editorRef,i=e.status,o=e.property,r=e.inputStatusChange,s=e.onDropdownVisible,a=e.onBlur,l=e.cellSize,d=e.onConfirm,c=e.onEditStatusChange,u=e.onKeydown,h=e.maxHeight,g=void 0===h?113:h,f=(0,N.useState)(!1),m=f[0],p=f[1],v=(0,N.useState)(""),I=v[0],y=v[1],_=(0,N.useState)(""),b=_[0],M=_[1],C=(0,N.useMemo)((function(){return(0,Ii.KM)(b)}),[b]),w=(0,N.useMemo)((function(){return!(o.type!==_c.U.ICON_TEXT||!C)}),[C,o.type]),T=(0,N.useRef)(null),E=(0,N.useCallback)((function(){p(!1)}),[]);(0,N.useEffect)((function(){return document.body.addEventListener("mousewheel",E,!1),function(){return document.body.removeEventListener("mousewheel",E,!1)}}),[E]),(0,N.useEffect)((function(){var e;if(null===t||0===t.length)return y(""),void M("");var n=t[0];y(n.text),M(null!==(e=n.link)&&void 0!==e?e:"")}),[t]),(0,N.useEffect)((function(){null===s||void 0===s||s(m)}),[m,s]);var j=(0,N.useCallback)((function(){p((function(e){var t=!e;return t&&i!==Dr.R.STABLE_EDIT&&(null===c||void 0===c||c(Dr.R.STABLE_EDIT)),t}))}),[c,i]),A=(0,N.useCallback)((function(e,t){p(!1);var n=""===e.trim()?t:e,i=(0,Ii.AQ)(""===t?e:t);null===d||void 0===d||d(n,i)}),[d]),x=(0,N.useCallback)((function(){null===r||void 0===r||r(!0)}),[r]),D=(0,N.useCallback)((function(){null===r||void 0===r||r(!1)}),[r]),S=(0,N.useCallback)((function(e){D(),null===a||void 0===a||a((0,yc.xG)(e))}),[a,D]),O=(0,N.useCallback)((function(e){e.preventDefault();var t=e.clipboardData;if(t){var n=t.getData("text/plain").replace(/(\t)/g,"").replace(/(\n)/g,"");document.execCommand("insertText",!1,n)}}),[]),L=(0,N.useCallback)((function(e){var t=e.currentTarget;if(0===t.childNodes.length||"BR"===t.childNodes[0].tagName){var n=document.createElement("span");n.className=bc,n.innerHTML="\n",n.onclick=function(){return(0,bi.tencentDocOpenUrl)(b,"","","_blank")},T.current=n,t.innerHTML="",t.appendChild(n)}}),[b]),k=(0,N.useMemo)((function(){return R().createElement(mt.default.Keep,null,R().createElement(mc.W,{text:I,link:b,onConfirm:A,onCancel:j,onFocus:x,onBlur:D}))}),[I,b,A,j,x,D]);(0,N.useEffect)((function(){T.current&&(T.current.innerHTML=I)}),[n,I]);var z=(0,N.useCallback)((function(){return R().createElement("div",{className:"dropdown-icon",style:{transform:m?"rotate(180deg)":""},onClick:j})}),[j,m]),P=(0,N.useCallback)((function(){if(!l)return bc;var e=function(e){var t=e.width,n=e.fontSize,i=e.content,o=e.lineHeight,r=document.createElement("div");r.style.position="fixed",r.style.top="10000px",r.contentEditable="true",r.style.visibility="hidden",r.style.fontSize=n+"pt",r.style.width=t+"px",r.style.fontFamily=wr.ut,r.style.lineHeight=o+"px",r.style.whiteSpace="pre-wrap",document.body.appendChild(r),"undefined"!==typeof r.textContent?r.textContent=i:r.innerText=i;var s=r.offsetHeight-0;return document.body.removeChild(r),"\n"===i.slice(-1)?s+o:s}({width:w?l.width-4-24-16:l.width-7-24,fontSize:10,content:I,lineHeight:21});return i===Dr.R.READ&&e>l.height?"link-span read-text-overflow":bc}),[l,w,i,I]),F=(0,N.useCallback)((function(e){var t=P();return R().createElement("span",{className:t,onClick:function(){return(0,bi.tencentDocOpenUrl)(b,"","","_blank")}},(null!==e&&void 0!==e?e:"")+"\n")}),[P,b]),U=(0,N.useMemo)((function(){return i===Dr.R.STABLE_EDIT?t:null}),[t,i]),B=(0,N.useCallback)((function(){var e;return R().createElement("div",{className:"content"},i===Dr.R.READ?R().createElement("div",{className:"read-status-link"},F(I)):null,R().createElement("div",{className:"text-editor "+i},R().createElement(Ic,{onPaste:O,editorRef:n,content:F(null!==(e=null===U||void 0===U?void 0:U[0].text)&&void 0!==e?e:""),onBlur:S,onFocus:x,onBackspace:L,onKeydown:u})))}),[i,F,I,O,n,U,S,x,L,u]),W=(0,N.useCallback)((function(){return w&&C!==Ii.hW.OTHER?R().createElement("img",{className:"link-icon",src:Ni.LD[(0,Ni.UF)(C)]}):null}),[C,w]);return R().createElement(mt.default,{dropContent:k,visible:m,style:{display:"block"},alignment:"auto",placement:"auto"},R().createElement(jr,{style:{maxHeight:g+"px"},cellSize:l},W(),B(),z()))},Cc=function(e){var t=e.value,n=e.onChange,i=e.property,o=e.autoFocus,r=e.onDropdownVisible,s=(0,N.useRef)(null),a=(0,N.useCallback)((function(e){var n,i=null!==(n=null===t||void 0===t?void 0:t[0].link)&&void 0!==n?n:"";return i||(0,Ii.AQ)(e)}),[t]),l=(0,N.useCallback)((function(e){""!==e.trim()?n([{link:a(e),text:(0,yc.xG)(e),type:hc.y.URL}],Io.S.BLUR):n(null,Io.S.BLUR)}),[a,n]),d=(0,N.useCallback)((function(e,t){n([{text:e,link:t,type:hc.y.URL}],Io.S.CONFIRM)}),[n]);return gr(o,s),R().createElement(Mc,{value:t,property:i,status:Dr.R.STABLE_EDIT,editorRef:s,onBlur:l,onConfirm:d,onDropdownVisible:r})},wc=["mousedown"],Tc=jn.ZP.div(Yd||(Yd=(0,En.Z)(["\n  .read {\n    width: 0px;\n    height: 0px;\n    overflow: hidden;\n  }\n"]))),Ec=function(e){var t=e.value,n=e.cellSize,i=e.onChange,o=e.onInputStatusChange,r=e.editStatus,s=e.setEditStatus,a=e.property,l=e.onDropdownVisible,d=(0,N.useState)((function(){return r})),c=d[0],u=d[1],h=(0,N.useRef)(null),g=(0,N.useState)(void 0),f=g[0],m=g[1];(0,_i.$)({domRef:h,events:wc}),na(h),(0,N.useEffect)((function(){s(c)}),[c,s]),(0,N.useEffect)((function(){var e=h.current;if(c!==Dr.R.READ&&e)return e.addEventListener("wheel",_i.U),function(){e.removeEventListener("wheel",_i.U)}}),[c]);var p=(0,N.useRef)(null),v=(0,N.useCallback)((function(){var e=window.getSelection();p.current&&e&&(p.current.focus(),e.selectAllChildren(p.current),document.execCommand("delete",!1),document.execCommand("undo",!1),e.collapseToEnd())}),[]);(0,N.useEffect)((function(){c===Dr.R.READ&&setTimeout((function(){var e;null===(e=p.current)||void 0===e||e.focus()}),0)}),[c]),(0,N.useEffect)((function(){setTimeout((function(){if(h.current){var e=Ud(h.current);m(e)}}),0)}),[]);var I=(0,N.useCallback)((function(){c!==Dr.R.STABLE_EDIT&&(u(Dr.R.STABLE_EDIT),setTimeout((function(){v()}),0))}),[c,v]),y=(0,N.useCallback)((function(e){var n,i=null!==(n=null===t||void 0===t?void 0:t[0].link)&&void 0!==n?n:"";return i||(0,Ii.AQ)(e)}),[t]),_=(0,N.useCallback)((function(e,t){c!==Dr.R.READ&&(""!==e.trim()?i([{link:y(e),text:(0,yc.xG)(e),type:hc.y.URL}],t):i(null,t))}),[y,i,c]),b=(0,N.useCallback)((function(e){_(e,Io.S.BLUR)}),[_]),M=(0,N.useCallback)((function(e,t){i([{text:e,link:t,type:hc.y.URL}],Io.S.CONFIRM)}),[i]),C=(0,N.useCallback)((function(){c!==Dr.R.READ&&(u(Dr.R.READ),i(null,Io.S.ESC))}),[c,i]),w=(0,N.useCallback)((function(e){var t;c!==Dr.R.READ&&_(null!==(t=e.currentTarget.innerText)&&void 0!==t?t:"",Io.S.TAB)}),[c,_]),T=(0,N.useCallback)((function(e){var t;_(null!==(t=e.currentTarget.innerText)&&void 0!==t?t:"",Io.S.ENTER)}),[_]),E=(0,N.useCallback)((function(e){c===Dr.R.READ&&Ws(e.nativeEvent)&&u(Dr.R.QUICK_EDIT)}),[c]),j=(0,N.useCallback)((function(e){var t;E(e),(0,At.m)(e,((t={}).Escape=C,t.Tab=w,t.Enter=T,t))}),[C,E,w,T]);return R().createElement(Tc,null,R().createElement("div",{ref:h,className:"url-cell-editor-wrapper "+c,style:{width:n.width+"px",minHeight:n.height+"px",position:"relative"},onDoubleClick:I},R().createElement(Mc,{cellSize:n,value:t,onBlur:b,onConfirm:M,status:c,property:a,editorRef:p,onDropdownVisible:l,inputStatusChange:o,onEditStatusChange:u,onKeydown:j,maxHeight:f})))},jc=jn.ZP.div(Vd||(Vd=(0,En.Z)(["\n  display: flex;\n  padding: 7px;\n  line-height: 20px;\n  box-sizing: border-box;\n  min-height: ","px;\n  word-break: break-all;\n\n  .url {\n    cursor: pointer;\n    color: ",";\n    :hover {\n      text-decoration: underline;\n    }\n  }\n"])),xi.one,wr.nc),Ac=function(e){var t=e.standardCell,n=(0,N.useMemo)((function(){return 0===t.data.length?null:t.data[0]}),[t]),i=(0,N.useCallback)((function(e){var t;if(e.preventDefault(),n){var i=null!==(t=n.link)&&void 0!==t?t:n.text;(0,bi.tencentDocOpenUrl)((0,Ii.AQ)(i).trim(),"","","_blank")}}),[n]);return R().createElement(jc,{className:"url-reader"},R().createElement("div",{className:"url",onClick:i},null===n||void 0===n?void 0:n.text))},xc=function(e){var t=e.standardCell,n=e.autoFocus,i=(0,N.useRef)(null);return gr(n,i),R().createElement("div",{ref:i,tabIndex:0,style:{maxHeight:113,overflowY:"auto"}},R().createElement(Ac,{standardCell:t}))},Dc=["mousedown"],Sc=function(e){var t=e.standardCell,n=e.cellSize,i=(0,N.useRef)(null),o=(0,N.useState)(void 0),r=o[0],s=o[1];return(0,_i.$)({domRef:i,events:Dc}),na(i),(0,N.useEffect)((function(){setTimeout((function(){var e=i.current;if(e){var t=Ud(e);s(t)}}),0)}),[]),(0,N.useEffect)((function(){var e=i.current;if(e)return setTimeout((function(){e.scrollHeight<=e.clientHeight||e.addEventListener("wheel",_i.U)}),0),function(){e.removeEventListener("wheel",_i.U)}}),[t]),R().createElement("div",{className:"url-cell-reader-wrapper",style:{maxHeight:r,overflowY:"auto",minHeight:n.height+"px",width:n.width+"px",background:"white",boxSizing:"border-box"},ref:i},R().createElement(Ac,{standardCell:t}))},Nc=jn.ZP.div(Qd||(Qd=(0,En.Z)(["\n  width: 22px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n"]))),Rc=(0,jn.ZP)(Nc)(Kd||(Kd=(0,En.Z)(["\n  background-image: url(",");\n"])),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZmxvYXRpbmd0b29sYmFyX3R5cGVfaWNvbmxpbms8L3RpdGxlPgogICAgPGcgaWQ9ImZsb2F0aW5ndG9vbGJhcl90eXBlX2ljb25saW5rIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uELTIiPgogICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsLW9wYWNpdHk9IjAuMDQiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTksMTcgTDE5LDE4IEw1LDE4IEw1LDE3IEwxOSwxNyBaIE0xMCwxMCBMMTAsMTUgTDUsMTUgTDUsMTAgTDEwLDEwIFogTTksMTEgTDYsMTEgTDYsMTQgTDksMTQgTDksMTEgWiBNMTksMTIgTDE5LDEzIEwxMSwxMyBMMTEsMTIgTDE5LDEyIFogTTE5LDcgTDE5LDggTDUsOCBMNSw3IEwxOSw3IFoiIGlkPSLlvaLnirYiIGZpbGw9IiMzMzMzMzMiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="),Oc=(0,jn.ZP)(Nc)(Xd||(Xd=(0,En.Z)(["\n  background-image: url(",");\n"])),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZmxvYXRpbmd0b29sYmFyX3R5cGVfbGluazwvdGl0bGU+CiAgICA8ZyBpZD0iZmxvYXRpbmd0b29sYmFyX3R5cGVfbGluayIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgZmlsbC1vcGFjaXR5PSIwLjA0IiBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICA8cGF0aCBkPSJNMjAsMTcgTDIwLDE4IEw1LDE4IEw1LDE3IEwyMCwxNyBaIE02LjE0NTM0NDk0LDcgTDYuMTQ1MzQ0OTQsMTUgTDUsMTUgTDUsNyBMNi4xNDUzNDQ5NCw3IFogTTE2LjE5MjIzMDQsNyBMMTYuMTkyMjMwNCwxMS41NzE0Mjg2IEwxOC4zMjIxNzAxLDkuMzE4NjgxMzIgTDE5Ljc5OTA2MjMsOS4zMTg2ODEzMiBMMTcuNDk4MzI1NSwxMS42NzAzMjk3IEwyMCwxNSBMMTguNTMzMTU0NywxNSBMMTYuNzE0NjY4NSwxMi40NzI1Mjc1IEwxNi4xOTIyMzA0LDEzLjAxMDk4OSBMMTYuMTkyMjMwNCwxNSBMMTUuMDQ2ODg1NSwxNSBMMTUuMDQ2ODg1NSw3IEwxNi4xOTIyMzA0LDcgWiBNOC40NjI4MjY1Miw5LjMxODY4MTMyIEw4LjQ2MjgyNjUyLDE1IEw3LjMxNzQ4MTU4LDE1IEw3LjMxNzQ4MTU4LDkuMzE4NjgxMzIgTDguNDYyODI2NTIsOS4zMTg2ODEzMiBaIE0xMi4yMjcwNTk2LDkuMTY0ODM1MTYgQzEzLjQ2Njc1NzksOS4xNjQ4MzUxNiAxNC4xMTgxNTMxLDkuODY4NjMwNDIgMTQuMTcyNDUyNywxMS4yOTU0NTUxIEwxNC4xNzYxNTU0LDExLjQ5NDUwNTUgTDE0LjE3NjE1NTQsMTUgTDEzLjAzMDgxMDQsMTUgTDEzLjAzMDgxMDQsMTEuNjA0Mzk1NiBDMTMuMDMwODEwNCwxMC42NzAzMjk3IDEyLjYzODk4MTksMTAuMjA4NzkxMiAxMS44NTUzMjQ4LDEwLjIwODc5MTIgQzExLjU3NDAxMjEsMTAuMjA4NzkxMiAxMS4zMjI4Mzk5LDEwLjMxODY4MTMgMTEuMTExODU1MywxMC41Mzg0NjE1IEMxMC45MDUxNzY1LDEwLjc0NTY4MjkgMTAuNzcyMzExNiwxMS4wMzM2Mzk4IDEwLjcxMzI2MDUsMTEuMzk1NDEyMiBMMTAuNjg5ODg2MSwxMS41ODI0MTc2IEwxMC42ODk4ODYxLDE1IEw5LjU0NDU0MTE5LDE1IEw5LjU0NDU0MTE5LDkuMzE4NjgxMzIgTDEwLjY4OTg4NjEsOS4zMTg2ODEzMiBMMTAuNjg5ODg2MSw5Ljk3ODAyMTk4IEMxMC44OTA4MjM4LDkuNzE0Mjg1NzEgMTEuMTIxOTAyMiw5LjUwNTQ5NDUxIDExLjM3MzA3NDMsOS4zNzM2MjYzNyBDMTEuNjM0MjkzNCw5LjIzMDc2OTIzIDExLjkxNTYwNjIsOS4xNjQ4MzUxNiAxMi4yMjcwNTk2LDkuMTY0ODM1MTYgWiBNNy44OTAxNTQwNSw3IEM4LjExMTE4NTUzLDcgOC4zMDIwNzYzNiw3LjA3NjkyMzA4IDguNDUyNzc5NjQsNy4yMzA3NjkyMyBDOC41OTM0MzYwMyw3LjM4NDYxNTM4IDguNjczODExMTIsNy41ODI0MTc1OCA4LjY3MzgxMTEyLDcuODI0MTc1ODIgQzguNjczODExMTIsOC4wNjU5MzQwNyA4LjU5MzQzNjAzLDguMjc0NzI1MjcgOC40NDI3MzI3NSw4LjQyODU3MTQzIEM4LjI5MjAyOTQ3LDguNTgyNDE3NTggOC4xMTExODU1Myw4LjY1OTM0MDY2IDcuODkwMTU0MDUsOC42NTkzNDA2NiBDNy42NjkxMjI1Nyw4LjY1OTM0MDY2IDcuNDg4Mjc4NjMsOC41ODI0MTc1OCA3LjMzNzU3NTM1LDguNDI4NTcxNDMgQzcuMTg2ODcyMDcsOC4yNjM3MzYyNiA3LjExNjU0Mzg3LDguMDY1OTM0MDcgNy4xMTY1NDM4Nyw3LjgyNDE3NTgyIEM3LjExNjU0Mzg3LDcuNTgyNDE3NTggNy4xODY4NzIwNyw3LjM4NDYxNTM4IDcuMzM3NTc1MzUsNy4yMzA3NjkyMyBDNy40ODgyNzg2Myw3LjA3NjkyMzA4IDcuNjY5MTIyNTcsNyA3Ljg5MDE1NDA1LDcgWiIgaWQ9IuW9oueKtiIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg=="),Lc=jn.ZP.div(Jd||(Jd=(0,En.Z)(["\n  .select {\n    width: 150px;\n  }\n"]))),kc=jn.ZP.div(qd||(qd=(0,En.Z)(["\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.88);\n"]))),zc=function(e){var t=e.property,n=e.onChange,i=e.canEdit,o=(0,N.useState)(t.type),r=o[0],s=o[1],a=(0,N.useCallback)((function(e){var t=Number(e);s(t),ar.f.modifyLinkType(t)}),[]);return(0,N.useEffect)((function(){n({type:r})}),[n,r]),R().createElement(Lc,null,R().createElement(dr,null,R().createElement("div",{className:"label"},p.Z.t("display_style")),R().createElement(Tn.default,{className:"select",defaultValue:String(r),onChange:a,disabled:!i},R().createElement(Tn.default.Option,{value:String(_c.U.PURE_TEXT)},R().createElement(kc,null,R().createElement(Oc,null),R().createElement("span",null,p.Z.t("character")))),R().createElement(Tn.default.Option,{value:String(_c.U.ICON_TEXT)},R().createElement(kc,null,R().createElement(Rc,null),R().createElement("span",{className:"iconCharacter"},p.Z.t("icon_character")))))))},Pc=function(e){function t(){return e.apply(this,arguments)||this}(0,tt.Z)(t,e);var n=t.prototype;return n.getCellReader=function(){return xc},n.getCellReaderWrapper=function(){return Sc},n.getCellEditorWrapper=function(){return Ec},n.getCellEditor=function(){return Cc},n.getPropertyEditor=function(){return zc},n.getFilterConditionEditor=function(){return _a},n.getCellHTML=function(e){return e.data.map((function(e){return'<a href="'+e.link+'">'+e.text+"</a>"})).join("<br />")},n.getFilterOperatorTextMap=function(){return V.BN},n.getSortOrderInfo=function(){return Be.IN},t}(fc.L),Fc=function(){function e(){this.fieldMap=new Map,this.register(new gc),this.register(new Zl),this.register(new Ld),this.register(new kd),this.register(new Pc),this.register(new Ys),this.register(new ur),this.register(new er),this.register(new Al),this.register(new rd),this.register(new fa),this.register(new yd),this.register(new es),this.register(new xl),this.register(new Ps),this.register(new Dl),this.register(new ba)}var t=e.prototype;return t.getFieldFeature=function(e){return this.fieldMap.get(e)},t.getFieldTypes=function(){return(0,a.Z)(this.fieldMap.keys())},t.register=function(e){this.fieldMap.set(e.getType(),e)},e}();Fc=(0,c.__decorate)([(0,fn.t)({provide:ze.Y}),(0,c.__metadata)("design:paramtypes",[])],Fc);var Uc=n("../node_modules/@tencent/workbench/lib/esm/decorators/param/stop-action.js"),Bc=n("../node_modules/@tencent/workbench/lib/esm/decorators/param/ui-config.js"),Wc=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/middleware.js"),Gc=function(){function e(e){this.CustomizedContextmenuFeature=e}return e.prototype.use=function(e,t,n){if("divider"!==e.name)return"shouldHide"===e.trigger&&this.CustomizedContextmenuFeature.getCurrentContextmenuType()!==n.contextmenuType?(t(),!0):void 0},e}();(0,c.__decorate)([(0,c.__param)(0,(0,C.g)()),(0,c.__param)(1,(0,Uc.o)()),(0,c.__param)(2,(0,Bc.z)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Function,Object]),(0,c.__metadata)("design:returntype",void 0)],Gc.prototype,"use",null),Gc=(0,c.__decorate)([(0,Wc.d)({adapters:[u.q]}),(0,c.__param)(0,(0,T.tB)(m)),(0,c.__metadata)("design:paramtypes",[Object])],Gc);var Zc=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/utils/editable-toast.js"),Hc=n("../node_modules/@tencent/xtable-core/es/service/editable-status/index.interface.js"),Yc=function(){function e(){}return e.prototype.use=function(e,t,n){if("divider"!==t.name&&"onClick"===t.trigger){var i=e.getCurrentTable();i&&e.getCore().editableStatusService.getTableStatus(i.id)!==Hc.H.ALL_EDITABLE&&((0,Zc.l)(),n())}},e}();(0,c.__decorate)([(0,c.__param)(0,(0,M.M)()),(0,c.__param)(1,(0,C.g)()),(0,c.__param)(2,(0,Uc.o)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object,Function]),(0,c.__metadata)("design:returntype",void 0)],Yc.prototype,"use",null),Yc=(0,c.__decorate)([(0,Wc.d)({adapters:[u.q]})],Yc),n("../node_modules/core-js/modules/es.object.values.js");var Vc=n("../node_modules/@tencent/workbench/lib/esm/constants/service-name.js"),Qc=n("../node_modules/@tencent/xtable-core/es/event/index.js");function Kc(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xc(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Jc=function(){function e(){var e=this;this.shouldDisabledMenuMap={},this.shouldDisabledToolbarMap={},this.shouldDisabledContextMenuMap={},this.menuItems=Object.values(r.z),this.allContextMenuItems=Object.values(o.BV),this.contextMenuItems=this.allContextMenuItems.filter((function(e){return!o.P$.includes(e)})),this.allToolbarMenuItems=Object.values(s.Ce),this.toolbarMenuItems=this.allToolbarMenuItems.filter((function(e){return!s.UD.includes(e)})),this.onStatusChanged=function(){var t=!e.canEdit;e.changeToolbarStatus(t),e.changeMenuStatus(t),e.changeContextMenuStatus(t)}}var t=e.prototype;return t.use=function(e,t,n){this.initEditor(e);var i=t.trigger;if("shouldDisabled"===i||"shouldHide"===i){var o=this.getStatus(t.from,t.name);if(void 0!==o&&!1!==o)return n(),o}},t.initEditor=function(e){e&&!this.editor&&(this.editor=e,this.changeMenuStatus(!this.canEdit),this.changeToolbarStatus(!this.canEdit),this.changeContextMenuStatus(!this.canEdit),Qc.o.onPermissionChanged.event(this.onStatusChanged),e.onRendererViewChanged(this.onStatusChanged))},t.changeContextMenuStatus=function(e,t){void 0===t&&(t=this.contextMenuItems);for(var n,i=Kc(t);!(n=i()).done;){var o=n.value;this.shouldDisabledContextMenuMap[o]=e}},t.changeMenuStatus=function(e,t){void 0===t&&(t=this.menuItems);for(var n,i=Kc(t);!(n=i()).done;){var o=n.value;this.shouldDisabledMenuMap[o]=e}},t.changeToolbarStatus=function(e,t){void 0===t&&(t=this.toolbarMenuItems);for(var n,i=Kc(t);!(n=i()).done;){var o=n.value;this.shouldDisabledToolbarMap[o]=e}},t.getStatus=function(e,t){switch(e){case Vc.v.MENU:return this.shouldDisabledMenuMap[t];case Vc.v.TOOLBAR:return this.shouldDisabledToolbarMap[t];case Vc.v.CONTEXT_MENU:return this.shouldDisabledContextMenuMap[t]}},(0,d.Z)(e,[{key:"canEdit",get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.editor)||void 0===e?void 0:e.getCurrentTable())||void 0===t?void 0:t.getPermissionStatus())||void 0===n?void 0:n.canEdit}}]),e}();(0,c.__decorate)([(0,c.__param)(0,(0,M.M)()),(0,c.__param)(1,(0,C.g)()),(0,c.__param)(2,(0,Uc.o)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object,Function]),(0,c.__metadata)("design:returntype",void 0)],Jc.prototype,"use",null),Jc=(0,c.__decorate)([(0,Wc.d)({adapters:[u.q]})],Jc);var qc=function(){function e(){}return e.prototype.use=function(e,t,n,i){var o=null===e||void 0===e?void 0:e.getCurrentView();if("divider"!==t.name&&"shouldHide"===t.trigger&&o&&i.viewTypes)return i.viewTypes.includes(o.type)?void 0:(n(),!0)},e}();(0,c.__decorate)([(0,c.__param)(0,(0,M.M)()),(0,c.__param)(1,(0,C.g)()),(0,c.__param)(2,(0,Uc.o)()),(0,c.__param)(3,(0,Bc.z)()),(0,c.__metadata)("design:type",Function),(0,c.__metadata)("design:paramtypes",[Object,Object,Function,Object]),(0,c.__metadata)("design:returntype",void 0)],qc.prototype,"use",null),qc=(0,c.__decorate)([(0,Wc.d)({adapters:[u.q]})],qc);var $c=n("../node_modules/@tencent/workbench/lib/esm/services/contextmenu/context-menu-service.js"),eu=n("../node_modules/@tencent/workbench/lib/esm/services/middleware/middleware-service.js"),tu=function(e){this.middlewareService=e,this.middlewareService.use(Gc,{on:$c.L,callbackNames:["shouldHide"]}),this.middlewareService.use(qc,{on:Qt.O,callbackNames:["shouldHide"]}),this.middlewareService.use(Jc,{on:$c.L,callbackNames:["shouldHide"]}),this.middlewareService.use(Jc,{on:Qt.O,callbackNames:["shouldDisabled"]}),this.middlewareService.use(Yc,{on:Qt.O,callbackNames:["onClick"]}),this.middlewareService.use(Yc,{on:$c.L,callbackNames:["onClick"]})};tu=(0,c.__decorate)([(0,fn.t)(),(0,c.__metadata)("design:paramtypes",[eu.K])],tu);var nu=[].concat((0,a.Z)(yn.i),[tu]),iu={platform:"pc",menu:{schema:r.J},titlebar:{disabled:!0,schema:[]},toolbar:{schema:s.Vr,alignment:"left"},mount:{controllers:Jt,features:cn,services:nu},contextMenu:{schema:o.nq,hasOverlay:!1}}},"../node_modules/@tencent/smartsheet-sdk/es/schema/contextmenu.js":function(e,t,n){"use strict";var i;n.d(t,{BV:function(){return i},P$:function(){return l},nq:function(){return a}}),n("../node_modules/core-js/modules/es.array.concat.js"),function(e){e.FIELD_EDITOR="smart-sheet|field-editor",e.GROUP="smart-sheet|group",e.FILTER="smart-sheet|filter",e.SORT_ASCEND="smart-sheet|sort-ascend",e.SORT_DESCEND="smart-sheet|sort-descend",e.FIELD_INSERT_LEFT="smart-sheet|field-insert-left",e.FIELD_INSERT_RIGHT="smart-sheet|field-insert-right",e.FIELD_COPY="smart-sheet|field-copy",e.FIELD_HIDE="smart-sheet|field-hide",e.FIELD_DELETE="smart-sheet|field-delete",e.RECORD_DETAIL="smart-sheet|record-detail",e.RECORD_INSERT_TOP="smart-sheet|record-insert-top",e.RECORD_INSERT_BOTTOM="smart-sheet|record-insert-bottom",e.RECORD_COPY="smart-sheet|record-copy",e.RECORD_DELETE="smart-sheet|record-delete",e.GANTT_TIME_RECORD_CLEAN="smart-sheet|gantt-time-record-clean",e.GANTT_RECORD_DETAIL="smart-sheet|gantt-record-detail",e.GANTT_TIME_SET="smart-sheet|gantt-time-set",e.GANTT_RECORD_DELETE="smart-sheet|gantt-record-delete"}(i||(i={}));var o=[i.FIELD_EDITOR,"divider",i.GROUP,i.FILTER,i.SORT_ASCEND,i.SORT_DESCEND,"divider",i.FIELD_INSERT_LEFT,i.FIELD_INSERT_RIGHT,"divider",i.FIELD_COPY,i.FIELD_HIDE,"divider",i.FIELD_DELETE],r=[i.RECORD_DETAIL,"divider",i.RECORD_INSERT_TOP,i.RECORD_INSERT_BOTTOM,"divider",i.RECORD_COPY,"divider",i.RECORD_DELETE],s=[i.GANTT_TIME_RECORD_CLEAN,i.GANTT_RECORD_DETAIL,"divider",i.GANTT_TIME_SET,"divider",i.GANTT_RECORD_DELETE],a=[].concat(o,r,s),l=[i.RECORD_DETAIL,i.GANTT_RECORD_DETAIL]},"../node_modules/@tencent/smartsheet-sdk/es/schema/menu.js":function(e,t,n){"use strict";var i;n.d(t,{J:function(){return o},z:function(){return i}}),function(e){e.FIELD_CONTEXT="smart-sheet|field-context",e.FIELD_EDITOR="smart-sheet|field-editor",e.GROUP="smart-sheet|group",e.KANBAN_GROUP_BY="smart-sheet|kanban_group_by",e.FILTER="smart-sheet|filter",e.SORT_ASCEND="smart-sheet|sort-ascend",e.SORT_DESCEND="smart-sheet|sort-descend",e.FIELD_INSERT_LEFT="smart-sheet|field-insert-left",e.FIELD_INSERT_RIGHT="smart-sheet|field-insert-right",e.FIELD_COPY="smart-sheet|field-copy",e.FIELD_HIDE="smart-sheet|field-hide",e.FIELD_DELETE="smart-sheet|field-delete",e.RECORD_CONTEXT="smart-sheet|record-context",e.RECORD_DETAIL="smart-sheet|record-detail",e.RECORD_INSERT_TOP="smart-sheet|record-insert-top",e.RECORD_INSERT_BOTTOM="smart-sheet|record-insert-bottom",e.RECORD_COPY="smart-sheet|record-copy",e.RECORD_DELETE="smart-sheet|record-delete",e.SEARCH="smart-sheet|search",e.GANTT_RECORD_CONTEXT="smart-sheet|gantt-record-context",e.GANTT_TIME_RECORD_CLEAN="smart-sheet|gantt-time-record-clean",e.GANTT_RECORD_DETAIL="smart-sheet|gantt-record-detail",e.GANTT_TIME_SET="smart-sheet|gantt-time-set",e.GANTT_RECORD_DELETE="smart-sheet|gantt-record-delete"}(i||(i={}));var o=[{key:i.FIELD_CONTEXT,items:[i.FIELD_EDITOR,"divider",i.GROUP,i.FILTER,i.SORT_ASCEND,i.SORT_DESCEND,"divider",i.FIELD_INSERT_LEFT,i.FIELD_INSERT_RIGHT,"divider",i.FIELD_COPY,i.FIELD_HIDE,"divider",i.FIELD_DELETE]},{key:i.RECORD_CONTEXT,items:[i.RECORD_DETAIL,i.RECORD_INSERT_TOP,i.RECORD_INSERT_BOTTOM,i.RECORD_COPY,i.RECORD_DELETE]},{key:i.GANTT_RECORD_CONTEXT,items:[i.GANTT_TIME_RECORD_CLEAN,i.RECORD_DETAIL,i.GANTT_TIME_SET,i.RECORD_DELETE]}]},"../node_modules/@tencent/smartsheet-sdk/es/schema/toolbar.js":function(e,t,n){"use strict";var i;n.d(t,{Ce:function(){return i},UD:function(){return o},Vr:function(){return r}}),function(e){e.TABLE_NAME="smart-sheet|table-name",e.VIEW_SWITCH="smart-sheet|view-switch",e.UNDO="smart-sheet|undo",e.REDO="smart-sheet|redo",e.INSERT_RECORD="smart-sheet|insert-record",e.FIELD_SETTING="smart-sheet|field-setting",e.KANBAN_GROUP_BY="smart-sheet|kanban_group_by",e.GROUP="smart-sheet|group",e.GANTT_SETTING="smart-sheet|gantt-setting",e.FILTER="smart-sheet|filter",e.SORT="smart-sheet|sort",e.ROW_HEIGHT="smart-sheet|row-height",e.SEARCH="smart-sheet|search",e.STAT="smart-sheet|stat",e.FOLD="smart-sheet|fold",e.TABLE_DESCRIPTION="smart-sheet|table-description"}(i||(i={}));var o=[i.VIEW_SWITCH,i.UNDO,i.REDO,i.SEARCH,i.TABLE_DESCRIPTION],r={"toolbar-normal":{data:[[i.UNDO,i.REDO],[i.VIEW_SWITCH],[i.INSERT_RECORD],[i.FIELD_SETTING,i.GANTT_SETTING],[i.KANBAN_GROUP_BY,i.GROUP,i.FILTER,i.SORT],[i.ROW_HEIGHT],[i.STAT],[i.TABLE_DESCRIPTION]]},"toolbar-pinned":{data:[]}}},"../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-tob/index.interface.jsx":function(e,t,n){"use strict";var i,o;n.d(t,{Lo:function(){return o},Wl:function(){return r},vc:function(){return i}}),function(e){e[e.newCreateFile=1]="newCreateFile",e[e.newUploadResult=2]="newUploadResult"}(i||(i={})),function(e){e.UPLOAD="upload",e.READY="ready",e.COMPLETE="complete"}(o||(o={}));var r="hideFileSelector"},"../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-tob/index.jsx":function(e,t,n){"use strict";n.d(t,{H:function(){return T}});var i,o=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=(n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/tslib/tslib.es6.js")),a=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),l=n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js"),d=n("../node_modules/@tencent/ftnh5uploader/dist/FtnUploader.min.js"),c=n.n(d),u=(n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.object.entries.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/axios/index.js")),h=n.n(u);function g(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e){var t=/.*\.(.*)$/.exec(e);return(null===t||void 0===t?void 0:t[1])||""}!function(e){e.Wedoc="Wedoc",e.Wedrive="Wedrive"}(i||(i={}));var p=function(e){for(var t,n=e+"=",i=g(document.cookie.split(";"));!(t=i()).done;){for(var o=t.value;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null},v="/disk/filecreate",I=function(){var e;return p("tdoc_vid")||p("wedrive_uin")||p("docsuin")||p("docSuin")||(null===(e=window.settings)||void 0===e?void 0:e.vid)};function y(e){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){for(var o=new FormData,r=0,s=Object.entries(e);r<s.length;r++){var a=s[r],l=a[0],d=a[1];o.append(l,d)}h().post(v,o,{responseType:"json"}).then((function(e){var n=e.data.body.new_file_2;t({fileName:n.name,fileType:i.Wedrive,fileExt:m(n.name),fileId:n.file_id,spaceId:n.space_id,type:n.file_type})})).catch((function(e){n(e.message)}))})));case 1:case"end":return t.stop()}}),t)})))}function _(e){return new Promise((function(t){if(e.fileUrl)t(e.fileUrl);else{var n=I(),i=p("tdoc_corpid")||"";h().get("/wedoc/getfileurl",{params:{fileid:e.fileId,vid:n,corpid:i},responseType:"json",headers:{"Content-Type":"application/json; charset=utf-8"},timeout:5e3}).then((function(e){var n,i=e.data;(null===(n=i.body)||void 0===n?void 0:n.url)&&t(i.body.url)}))}}))}function b(e){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){for(var i=new FormData,o=0,r=Object.entries(e);o<r.length;o++){var s=r[o],a=s[0],l=s[1];i.append(a,l)}h().post(v,i,{responseType:"json"}).then((function(e){var n=e.data.body;return t({domain:n.dns,fileKey:n.key,fileId:n.store_id})})).catch((function(e){n(e.message)}))})));case 1:case"end":return t.stop()}}),t)})))}var M=n("../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-tob/index.interface.jsx"),C=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),w=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),T=new(function(){function e(){var e=this;this.toBAttachmentStateChangeEvent=new a.Emitter,this.attachmentDb=[],this.uploadFromLocal=function(t){var n=document.getElementById(M.Wl);n||(n=document.createElement("input")),n.setAttribute("id",M.Wl),n.setAttribute("type","file"),n.setAttribute("style","display:none"),n.setAttribute("multiple",""),document.body.appendChild(n);var i=function(i){var o=i.target.files;(null===o||void 0===o?void 0:o.length)&&(e.upload(o,t),document.body.removeChild(n))},o=function(e){e.stopPropagation()};e.lastEventHandler&&(n.removeEventListener("change",e.lastEventHandler),n.removeEventListener("click",o)),n.addEventListener("click",o),n.addEventListener("change",i),e.lastEventHandler=i,n.click()},this.fileAdd=function(t){var n=t.attributes,i=n.name,o=n.size,r=n.status;e.attachmentDb.push({status:r,position:e.position,id:t.id,instance:{name:i,size:o,status:r}}),e.fireAttachmentDbChangeEvent()},this.fileUpload=function(t,n){var i=e.getAttachment(n.id);if(i){var o=n.attributes.status;e.setAttachment({attachment:i,params:{status:o,progress:t}}),e.fireAttachmentDbChangeEvent()}},this.fileError=function(t,n){try{var i=n.get("h5File");w.k.error("upload file error",null===t||void 0===t?void 0:t.stack);var o=C.Z.t("上传文件 {{value}} 失败，请重试",{value:n.get("name")});"[sign]:fileHashError"!==t&&i.type||(o=C.Z.t("上传失败，暂不支持该文件格式")),l.Snackbar.show({message:o,type:"error",autoClose:!0,closable:!0,duration:3e3})}finally{e.deleteAttachment(n.id)}},this.initUploader()}var t=e.prototype;return t.init=function(e){this.editor=e},t.upload=function(e,t){var n;this.position=t,null===(n=this.fileUploader)||void 0===n||n.upload(e)},t.remove=function(e){var t;null===(t=this.fileUploader)||void 0===t||t.cancel(e),this.deleteAttachment(e)},t.getAttachmentDb=function(){return this.attachmentDb},t.initUploader=function(){return(0,s.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new(c())({events:{fileAdd:function(e){return n.fileAdd(e)},fileUpload:function(e,t){n.fileUpload(e,t)},fileError:function(e,t){return n.fileError(e,t)},fileComplete:function(e){return(0,s.__awaiter)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o,r,s,a,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(Object.assign(Object.assign({},this.defaultParam),{func:M.vc.newUploadResult,name:e.get("name"),size:e.get("size"),store_id:e.get("fileId")}));case 3:return n=t.sent,t.next=6,_(n);case 6:if(i=t.sent,o=n.fileType,r=n.type,s=n.fileExt,a=this.getAttachment(e.id)){t.next=11;break}return t.abrupt("return");case 11:l=e.attributes.status,this.setAttachment({attachment:a,params:{status:l,fileType:o,fileUrl:i,type:r,progress:100,fileExt:s}}),this.fireAttachmentDbChangeEvent(),this.setRecord(a),this.deleteAttachment(e.id),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),this.fileError(t.t0,e);case 21:case"end":return t.stop()}}),t,this,[[0,18]])})))},createFile:function(e,t){return(0,s.__awaiter)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b(Object.assign(Object.assign({},this.defaultParam),{func:M.vc.newCreateFile,name:e.get("name"),size:e.get("size"),sha:e.get("sha"),md5:e.get("md5")}));case 3:i=n.sent,t(e,i),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),this.fileError(n.t0,e);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}}}),this.fileUploader={upload:function(e){null===t||void 0===t||t.add(e)},retry:function(e){null===t||void 0===t||t.resumeUpload(e)},getFile:function(e){var n;return null===(n=null===t||void 0===t?void 0:t.fileQueueManager)||void 0===n?void 0:n.getFile(e)},cancel:function(e){return null===t||void 0===t?void 0:t.cancel(e)}};case 2:case"end":return e.stop()}}),e,this)})))},t.setAttachment=function(e){var t=e.params,n=e.attachment,i=t.status,o=t.progress,r=t.fileUrl,s=t.fileType,a=t.type,l=t.fileExt;n.status=i,n.instance.status=i,n.instance.progress=o,n.instance.fileUrl=r,n.instance.fileType=s,n.instance.docType=a,n.instance.fileExt=l},t.deleteAttachment=function(e){var t=this.attachmentDb.findIndex((function(t){return t.id===e}));if(t<0)return w.k.warn("link-attachment","=== id: "+e+" not found."),null;var n=this.attachmentDb.splice(t,1);return this.fireAttachmentDbChangeEvent(),n},t.fireAttachmentDbChangeEvent=function(){this.toBAttachmentStateChangeEvent.fire({attachmentDb:this.attachmentDb})},t.setRecord=function(e){var t=this.editor.getCurrentTable(),n=this.editor.getCurrentView(),i=e.id,r=e.instance,s=e.position,a=r.name,l=r.fileUrl,d=r.size,c=r.fileType,u=r.docType,h=r.fileExt,g=s.fieldId,f=s.recordId,m=t.getFieldByFieldId(g);if(m&&i&&l&&h&&u&&c){var p=m.getCellValue(f),v={name:a,size:d,id:i,fileUrl:l,fileType:c,docType:u,fileExt:h},I=[];p?(I=(0,o.Z)(p)).push(v):I.push(v);var y={};y[g]={value:I},this.editor.getBehaviorApi().setRecord({recordId:e.position.recordId,tableId:t.id,viewId:n.id,delta:y})}},t.getAttachment=function(e){var t=null;return this.attachmentDb.forEach((function(n){t||n.id===e&&(t=n)})),t},(0,r.Z)(e,[{key:"defaultParam",get:function(){return{vid:I(),from_wedoc:!0}}}]),e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-toc/index.interface.js":function(e,t,n){"use strict";var i,o,r;n.d(t,{Dm:function(){return o},S4:function(){return r}}),function(e){e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOC="DOC",e.IMAGE="IMAGE"}(i||(i={})),function(e){e.LOADING="LOADING",e.PENDING="PENDING",e.PAUSING="PAUSING",e.UPLOADING="UPLOADING",e.ERROR="ERROR",e.SUCCESS="SUCCESS"}(o||(o={})),function(e){e.SUCCESS="success",e.ERROR="error",e.PROCESS="process",e.FILEREAD="fileRead"}(r||(r={}))},"../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-toc/index.jsx":function(e,t,n){"use strict";n.d(t,{f:function(){return h},Y:function(){return g}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=(n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),s=n("../node_modules/@tencent/ark-extensions/lib/index.js"),a=n("../node_modules/@tencent/xtable/es/constants/index.js"),l={name:"docs-component-attachment",loadType:s.LoadType.EAGER,containerId:a.Lg},d=function(){var e=(0,s.createExtensionService)({metadataLoaderOptions:{specifiedVersion:1}});return e.scanAndHandleExtensions([l]),e},c=n("../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-toc/index.interface.js"),u=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),h=new(function(){function e(e){this.attachmentStateChangeEvent=new r.Emitter,this.maxUploadNumber=e.maxUploadNumber,this.isMultiple=e.isMultiple,this.uploadStatus=c.Dm.PENDING,this.attachmentDb=[]}var t=e.prototype;return t.init=function(e){return(0,o.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o,r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window,i=n.clientVars,!this.editor&&i){t.next=3;break}return t.abrupt("return");case 3:return u.k.info("attachmentCenterToC 开始注入"),o=e.editor,r=d(),t.next=8,r.getExtension(l.name);case 8:s=t.sent,r.updateDomainWithClientVars(i),this.attachmentExtension=s,this.mountAndRegisterAttachment(),this.editor=o;case 13:case"end":return t.stop()}}),t,this)})))},t.getCanDownload=function(){return this.editor.getCore().permissionService.getBasePermissionStatus().canCopy},t.insertAttachment=function(e){return(0,o.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.attachmentExtension.upload(),this.position=e}catch(n){u.k.error("link-attachment",n)}case 1:case"end":return t.stop()}}),t,this)})))},t.getAttachment=function(e){var t=null;return this.attachmentDb.forEach((function(n){t||n.id===e&&(t=n)})),t},t.deleteAttachment=function(e){var t=this.attachmentDb.findIndex((function(t){return t.id===e}));if(t<0)return u.k.warn("link-attachment","=== id: "+e+" not found."),null;var n=this.attachmentDb.splice(t,1);return this.attachmentStateChangeEvent.fire({attachmentDb:this.attachmentDb}),n},t.remove=function(e){this.attachmentExtension.removeAttachment(e),this.deleteAttachment(e)},t.abort=function(e){this.attachmentExtension.abortUpload(e)},t.getUploadStatus=function(){return this.uploadStatus},t.downloadAttachment=function(e){this.attachmentExtension.download(e)},t.getAttachmentDb=function(){return this.attachmentDb},t.registerCallback=function(e){var t=e.options;switch(e.statusName){case c.S4.FILEREAD:this.handleFileRead(t);break;case c.S4.PROCESS:this.handleProcess(t);break;case c.S4.SUCCESS:this.handleSuccess(t);break;default:this.handleFailure(t)}},t.addAttachment=function(e,t,n){var i=this;e.forEach((function(e){i.attachmentDb.push({statusName:n,position:t,id:e.id,instance:e})}))},t.handleFileRead=function(e){0!==e.length&&(this.addAttachment(e,this.position,c.Dm.UPLOADING),this.attachmentStateChangeEvent.fire({attachmentDb:this.attachmentDb}))},t.handleProcess=function(e){var t=e.id,n=e.progress;this.uploadStatus=c.Dm.LOADING;var i=this.getAttachment(t);i&&(i.instance.progress=n,i.statusName=c.Dm.LOADING,this.attachmentStateChangeEvent.fire({attachmentDb:this.attachmentDb}),u.k.log("link-attachment","=== process: "+n+" === id: "+t))},t.handleSuccess=function(e){var t=e.id,n=e.objKey;this.uploadStatus=c.Dm.SUCCESS;var i=this.getAttachment(t);i&&(i.statusName=c.Dm.SUCCESS,i.instance.objKey=n,this.setRecord(i),this.attachmentStateChangeEvent.fire({attachmentDb:this.attachmentDb}),this.deleteAttachment(t))},t.setRecord=function(e){var t=this.editor.getCurrentTable(),n=this.editor.getCurrentView(),o=e.instance,r=o.objKey,s=o.name,a=o.classify,l=o.size,d=o.type,c=e.position,u=c.fieldId,h=c.recordId,g=t.getFieldByFieldId(u);if(g&&r){var f=g.getCellValue(h),m={classify:a,name:s,size:l,fileExt:d,id:r},p=[];f?(p=(0,i.Z)(f)).push(m):p.push(m);var v={};v[u]={value:p},this.editor.getBehaviorApi().setRecord({recordId:e.position.recordId,tableId:t.id,viewId:n.id,delta:v})}},t.handleFailure=function(e){this.uploadStatus=c.Dm.ERROR;var t=e.error,n=t.code,i=t.message;this.deleteAttachment(e.id),u.k.error("link-attachment","=== upload falied, code: "+n+", msg: "+i)},t.mountAndRegisterAttachment=function(){var e=this;this.editor&&(this.attachmentExtension.mount({padId:this.editor.getCore().domainInfo.getPid(),maxUploadNumber:this.maxUploadNumber,multiple:this.isMultiple}),this.attachmentExtension.onStatusChange((function(t){e.registerCallback(t)})),u.k.log("link-attachment","=== mount and register finish"))},e}())({maxUploadNumber:9,isMultiple:!0}),g=function(e,t){return e.recordId===t.recordId&&e.fieldId===t.fieldId}},"../node_modules/@tencent/smartsheet-sdk/es/services/report/mobile/expand-mobile.service.js":function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new(function(){function e(){this.moduleName="expand_mobile"}var t=e.prototype;return t.expandRecord=function(){this.report("expand_record")},t.lastRecord=function(){this.report("last_record")},t.nextRecord=function(){this.report("next_record")},t.coverCheck=function(e){i.E.metricsTdw({action:"cover_check",module:"expand_mobile",ver5:e})},t.clickCover=function(e){i.E.metricsTdw({action:"cover_click",module:"expand_mobile",ver5:e})},t.expandSetting=function(){this.report("expand_setting")},t.expandDel=function(){this.report("expand_del")},t.expandCopy=function(){this.report("expand_copy")},t.recordPack=function(){this.report("record_pack")},t.addRecord=function(e){i.E.metricsTdw({action:"add",module:"record_mobile",ver5:e})},t.report=function(e){i.E.metricsTdw({action:e,module:this.moduleName})},e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/field-operation.service.js":function(e,t,n){"use strict";n.d(t,{A:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new function(){var e=this;this.moduleName="col",this.showFieldTypeEditor=function(){e.report("col_setting")},this.showFieldTypeEditorByDoubleClick=function(){e.report("col_double_click_setting")},this.showFieldTypeEditorByContextmenu=function(){e.report("col_menu_setting")},this.showFieldContextmenu=function(){e.report("col_menu")},this.renameByContextmenu=function(){e.report("col_menu_rename")},this.groupByContextmenu=function(){e.report("col_menu_group")},this.filterByContextmenu=function(){e.report("col_menu_filter")},this.orderByContextmenu=function(){e.report("col_menu_order")},this.reverseOrderByContextmenu=function(){e.report("col_menu_reverse_order")},this.insertByContextmenu=function(t){t?e.report("col_menu_add_left"):e.report("col_menu_add_right")},this.copyFieldByContextmenu=function(){e.report("col_menu_copy")},this.hideFieldByContextmenu=function(){e.report("col_menu_hidden")},this.deleteFieldByContextmenu=function(){e.report("col_menu_del")},this.insert=function(t){e.report("add_col",{ver5:t})},this.clickPhoneIcon=function(){e.report("phone")},this.report=function(t,n){void 0===n&&(n={}),i.E.metricsTdw(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}))}}},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/field-type.service.js":function(e,t,n){"use strict";n.d(t,{f:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new(function(){function e(){var e=this;this.moduleName="col_type",this.report=function(t,n){void 0===n&&(n={}),i.E.metrics(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}),2)}}var t=e.prototype;return t.modifyField=function(e){this.report("modify_col",{ver5:"type"in e?e.type:-1,ver6:"title"in e?1:-1,ver7:"property"in e?1:-1})},t.modifyDecimalPlaces=function(e){this.report("num_type_digit",{ver5:e})},t.modifySeparate=function(e){this.report("thousands_sep",{ver5:e})},t.modifyDefaultChecked=function(e){this.report("default_check",{ver5:e})},t.modifyLinkType=function(e){this.report("url_icon_text",{ver5:e})},t.modifyDateTimeFormat=function(e){this.report("date_time_format",{ver5:e})},t.addOption=function(){this.report("add_option")},t.deleteOption=function(){this.report("delete_option")},t.moveOption=function(){this.report("move_option")},t.modifyOptionTitle=function(){this.report("modify_option_title")},t.modifyOptionStyle=function(e){this.report("modify_option_style",{ver5:e})},t.modifyQuickAdd=function(e){this.report("modify_is_quick_add",{ver5:e})},e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/filter-report.service.js":function(e,t,n){"use strict";n.d(t,{V:function(){return a}}),n("../node_modules/core-js/modules/es.object.assign.js");var i,o=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),r=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),s=((i={})[r.S.AND]="all_condition",i[r.S.OR]="any_condition",i),a=new(function(){function e(){var e=this;this.moduleName="filter",this.modifyFilterField=function(t){e.report("modify_filter_col",{ver5:null!==t&&void 0!==t?t:0,ver6:0})},this.modifyFilterOperator=function(t,n){e.report("modify_filter_operator",{ver5:t,ver6:n})},this.modifyFilterDateDuration=function(t){e.report("modify_filter_date_duration",{ver5:t})},this.report=function(t,n){void 0===n&&(n={}),o.E.metricsTdw(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}))}}var t=e.prototype;return t.clickFilter=function(){this.report("cli_filter")},t.changeConjunction=function(e){this.report(s[e])},t.addFilterCondition=function(){this.report("add_filter_condition")},t.delFilterCondition=function(){this.report("del_filter_condition")},t.modifyFilterContent=function(){this.report("modify_filter_content")},e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/group-report.service.js":function(e,t,n){"use strict";n.d(t,{T:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new(function(){function e(){var e=this;this.moduleName="group",this.modifyGroupField=function(t){e.report("modify_group_col",{ver5:null!==t&&void 0!==t?t:0})},this.report=function(t,n){void 0===n&&(n={}),i.E.metricsTdw(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}))}}var t=e.prototype;return t.clickGroup=function(){this.report("cli_group")},t.addGroupCondition=function(){this.report("add_group_condition")},t.delGroupCondition=function(){this.report("del_group_condition")},t.modifyGroupDesc=function(){this.report("modify_group_desc")},t.moveGroupCondition=function(){this.report("move_group_condition")},e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/record-report.service.js":function(e,t,n){"use strict";n.d(t,{n:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new(function(){function e(){this.moduleName="record"}var t=e.prototype;return t.cellAddImage=function(){this.report("cell_add_image")},t.cellDragImage=function(){this.report("cell_drag_image")},t.cellPasteImage=function(){this.report("cell_paste_image")},t.cellDelImage=function(){this.report("cell_del_image")},t.cellViewImage=function(){this.report("cell_view_image")},t.cellDownloadImage=function(){this.report("cell_download_image")},t.cellUrlHint=function(){this.report("cell_url_hint")},t.showRecordContextmenu=function(){this.report("record_menu")},t.expandRecordByContextmenu=function(e){this.report("record_menu_expand",{ver5:e})},t.copyByContextmenu=function(e){this.report("record_menu_copy",{ver5:e})},t.deleteByContextmenu=function(e){this.report("record_menu_del",{ver5:e})},t.insertByContextmenu=function(e,t){e?this.report("record_menu_above",{ver5:t}):this.report("record_menu_down",{ver5:t})},t.insertByToolbar=function(){this.report("record_toolbar_add")},t.insert=function(){this.report("record_add")},t.selectCell=function(){this.report("select_cell")},t.editCell=function(){this.report("edit_cell")},t.editPropertyInCell=function(){this.report("cell_creat_option")},t.clickEmailFromRecordDetail=function(){this.report("email",{ver5:2})},t.clickEmailFromForm=function(){this.report("email",{ver5:1})},t.report=function(e,t){void 0===t&&(t={}),i.E.metricsTdw(Object.assign(Object.assign({},t),{action:e,module:this.moduleName}))},e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/row-height-report.service.js":function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var i,o=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/row-height/config.jsx"),r=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),s=((i={})[o.SF.SHORT]="normal_height",i[o.SF.MEDIUM]="medium_height",i[o.SF.TALL]="high_height",i[o.SF.EXTRATALL]="super_high_height",i),a=new(function(){function e(){this.moduleName="height"}var t=e.prototype;return t.clickRowHeight=function(){r.E.metricsTdw({action:"cli_height",module:this.moduleName})},t.changeRowHeight=function(e){r.E.metricsTdw({action:s[e],module:this.moduleName})},e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/sort-report.service.js":function(e,t,n){"use strict";n.d(t,{y:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.number.constructor.js");var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new(function(){function e(){var e=this;this.moduleName="sort",this.modifySortField=function(t){e.report("modify_sort_col",{ver5:null!==t&&void 0!==t?t:0})},this.report=function(t,n){void 0===n&&(n={}),i.E.metricsTdw(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}))}}var t=e.prototype;return t.clickSort=function(){this.report("cli_sort")},t.changeAutoSort=function(e){this.report("auto_sort",{ver5:Number(e)})},t.applySort=function(){this.report("apply_sort")},t.addSortCondition=function(){this.report("add_sort_condition")},t.delSortCondition=function(){this.report("del_sort_condition")},t.modifySortDesc=function(){this.report("modify_sort_desc")},t.moveSortCondition=function(){this.report("move_sort_condition")},e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/stat-report.service.js":function(e,t,n){"use strict";n.d(t,{u:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new(function(){function e(){var e=this;this.moduleName="statistics",this.modifyStatistics=function(t,n){e.report("modify_statistics",{ver5:t,ver6:n})},this.report=function(t,n){void 0===n&&(n={}),i.E.metricsTdw(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}))}}return e.prototype.clcikStatistics=function(){this.report("cli_statistics")},e}())},"../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/view-report.service.js":function(e,t,n){"use strict";n.d(t,{C:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new(function(){function e(){var e=this;this.moduleName="view",this.createView=function(t){e.report("create",{ver5:null!==t&&void 0!==t?t:0})},this.checkView=function(t){e.report("check",{ver5:null!==t&&void 0!==t?t:0})},this.delView=function(t){e.report("del",{ver5:null!==t&&void 0!==t?t:0})},this.copyView=function(t){e.report("copy",{ver5:null!==t&&void 0!==t?t:0})},this.report=function(t,n){void 0===n&&(n={}),i.E.metricsTdw(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}))}}var t=e.prototype;return t.clickView=function(){this.report("cli")},t.doubleClickView=function(){this.report("double_cli")},t.renameView=function(){this.report("rename")},e}())},"../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/entry/base.js":function(e,t,n){"use strict";n.d(t,{G:function(){return ie}});var i,o=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),a=(n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/regenerator-runtime/runtime.js"),n("./node_modules/tslib/tslib.es6.js")),l=n("../node_modules/lodash/isNumber.js"),d=n.n(l),c=(n("../node_modules/reflect-metadata/Reflect.js"),n("../node_modules/@tencent/dispose-tree/build/main/index.js")),u=n("../node_modules/@tencent/docs-collab/lib/src/messageCenter/index.js"),h=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/edit-status/edit-status.interface.js"),g=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/edit-status/edit-status.service.js"),f=n("../node_modules/@tencent/ioc/lib/esm/index.js");!function(e){e.OPENED="OPENED",e.EDITED="EDITED"}(i||(i={}));var m,p,v=function(){function e(e,t){this.editor=e,this.firstEditHandler=t,this.statusMap={},this.editStatusService=f.Am.get(g.q)}var t=e.prototype;return t.listenFirstEditEvent=function(){var e=this;this.editor.getBehaviorApi().requestApi.mutationApi.addBeforeMutationRunListener((function(t){e.statusMap[t.tableId]||3005!==t.id?e.setTableEditedIfOpened(t.tableId):e.statusMap[t.tableId]=i.OPENED})),this.editStatusService.editCellChangeEvent.event((function(){var t,n=null===(t=e.editor.getCurrentTable())||void 0===t?void 0:t.id;n&&e.isUserInputting()&&e.setTableEditedIfOpened(n)}))},t.setTableEditedIfOpened=function(e){var t;this.statusMap[e]===i.OPENED&&(this.statusMap[e]=i.EDITED,null===(t=this.firstEditHandler)||void 0===t||t.call(this,e))},t.isUserInputting=function(){return!!this.editStatusService.getEditCell()&&(this.editStatusService.getStatus()===h.R.DEFAULT?this.editStatusService.getIsInputting():this.editStatusService.getIsEditInputting())},e}(),I=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.function.name.js"),{onUserLeaveEmitter:new(n("../node_modules/@tencent/ark-utils/lib/event/index.js").Emitter)}),y=n("../node_modules/@tencent/xtable-common/es/decorators/execution/debounce.js"),_=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),b=n("../node_modules/@tencent/xtable-render/es/views/group/renderer/features/common/collaborator/event.js"),M=function(){function e(e,t,n){var i=this;this.handleCursorMessages=function(e){return(0,a.__awaiter)(i,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.k.info("收到协同消息",e),e.forEach((function(e){return(0,a.__awaiter)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userCenter.getCollaboratorInfo(e.changedBy);case 2:n=t.sent,this.shouldUpdateCursor(e,n)&&this.updateCursor(e,n);case 4:case"end":return t.stop()}}),t,this)})))}));case 2:case"end":return t.stop()}}),t)})))},this.removeCursor=function(e){var t=e.userId;i.cursorCache.delete(t),b.e.onCollabCursorRemovedEmitter.fire(t)},this.editor=e,this.userCenter=t,this.cursorCache=new Map,this.network=n,this.editStatusService=f.Am.get(g.q),this.listenEvents()}var t=e.prototype;return t.recoverCollabCursor=function(){var e=this;(0,o.Z)(this.cursorCache.values()).forEach((function(t){var n=t.cursorMessage,i=t.collaboratorInfo;e.updateCursor(n,i)}))},t.listenEvents=function(){var e=this;I.onUserLeaveEmitter.event(this.removeCursor),this.editStatusService.editCellChangeEvent.event((function(){var t=e.editStatusService.getEditCell();if(t){var n=e.editStatusService.getStatus()===h.R.DEFAULT?e.editStatusService.getIsInputting():e.editStatusService.getIsEditInputting();e.reportCursor(t,n)}else e.reportCursor(null,!1)}))},t.reportCursor=function(e,t){var n=this.editor.getCurrentTable();if(n&&n.getPermissionStatus().canEdit){var i=n.id;if(e){var o=e.fieldId,r=e.recordId;this.sendCursorMessage({tabId:i,cell:{fieldId:o,recordId:r},isEditing:t,openTime:Date.now()})}else this.sendCursorMessage({tabId:i,openTime:Date.now(),isEditing:t})}},t.updateCursor=function(e,t){var n,i=t.userId;this.cursorCache.get(i)&&this.removeCursor(t),this.cursorCache.set(i,{cursorMessage:e,collaboratorInfo:t}),(null===(n=this.editor.getCurrentTable())||void 0===n?void 0:n.id)===e.sheet.tabId&&e.sheet.cell&&b.e.onCollabCursorAddedEmitter.fire({userInfo:{userId:t.userId,name:t.name,avatar:t.avatar,bgcolor:t.bgColor},isEditing:!!e.sheet.isEditing,cell:{tableId:e.sheet.tabId,fieldId:e.sheet.cell.fieldId,recordId:e.sheet.cell.recordId}})},t.shouldUpdateCursor=function(e,t){if(!(null===t||void 0===t?void 0:t.name))return!1;if(this.isCollaboratorSameWithCurrentUser(t.userId))return!1;var n=e.sheet.tabId,i=this.editor.getCore().base.getTableByTableId(n);return!!i&&i.getPermissionStatus().canEdit},t.isCollaboratorSameWithCurrentUser=function(e){return"p."+this.getCurrentUserId()===e},t.sendCursorMessage=function(e){this.network.sendCursorMessage({type:"caret",sheet:e,changedBy:this.getCurrentUserId()})},t.getCurrentUserId=function(){return this.editor.getCore().userService.getCurrentUserId()},e}();(0,a.__decorate)([(0,y.Ds)(200),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],M.prototype,"reportCursor",null),function(e){e.grid="grid",e.smartsheet="smartsheet"}(m||(m={})),function(e){e.MESSAGE_CENTER="message_center",e.DATA_CENTER="data_center",e.UNDO_REDO_STACK="undo_redo_stack",e.PANEL_MANAGER="panel_manager",e.SPREAD_CONFIG="spread_config",e.USER_CENTER="user_center",e.PERMISSION="permission",e.SEARCH_CENTER="search_center",e.NATIVE_CENTER="native_center",e.MOBILE_UI_CENTER="ui_center",e.BROWSE_LOCATION="browse_location",e.MEETING_CENTER="meeting_center",e.COMMON_OPERATION="common_operation"}(p||(p={})),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/web.url.to-json.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js");var C,w=n("../node_modules/lodash/flattenDeep.js"),T=n.n(w),E=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),j=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.interface.js"),A=n("../node_modules/@tencent/xtable-core/es/utils/title.js");function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function S(e){return{sourceType:E.f.TEXT,data:e.split("\n").map((function(e){return{type:j.y.TEXT,text:e}}))}}function N(e,t){var n=t.sheetCellsArray,i=t.resourceMap,o=n.map((function(e){return e.map((function(e,t){return function(e,t,n){var i,o,r=null===(i=null===e||void 0===e?void 0:e.getFormattedValue())||void 0===i?void 0:i.value;return r?0===n?S(r):(null===(o=e.getMetadata())||void 0===o?void 0:o.customDataType)===C.IMAGE?{sourceType:E.f.IMAGE,data:e.getRefIds().map((function(e){return{text:r,imageUrl:t.get(e)}}))}:S(r):{sourceType:E.f.TEXT,data:[]}}(e,i,t)}))})),r=o[0],s=o.slice(1),a=function(e,t,n){var i=[];return t.map((function(o,r){for(var s,a=t[r],l=E.f.TEXT,d="文本",c=x(n);!(s=c()).done;){var u=s.value;if(u[r]&&u[r].sourceType===E.f.IMAGE){l=E.f.IMAGE,d="图片";break}}var h=a.data.map((function(e){return e.text})).join(" ")||d,g=(0,A.yG)(h,i);return i.push(g),e.createField({fieldId:e.getNewFieldId(),fieldJSON:{type:l,title:g}})}))}(e.createTable(),r,s),l=s.map((function(e){return e.map((function(e,t){return a[t].generateCellValueByStandardCell(e)}))}));return{fieldValues:a.map((function(e){return e.toJSON()})),cellValues:l}}function R(e){var t=[],n=e.chunkData,i=e.firstData;return(null===n||void 0===n?void 0:n.length)&&(t=t.concat(T()(n))),(null===i||void 0===i?void 0:i.length)&&(t=t.concat(T()(i))),t.filter((function(e){return e.t>3e3}))}!function(e){e[e.SELECT=1]="SELECT",e[e.CHECKBOX=2]="CHECKBOX",e[e.STAR=3]="STAR",e[e.PROGRESS=4]="PROGRESS",e[e.ID=5]="ID",e[e.PHONE_NUM=6]="PHONE_NUM",e[e.EMAIL=7]="EMAIL",e[e.TEMPERATURE=8]="TEMPERATURE",e[e.DATE_TIME=9]="DATE_TIME",e[e.IMAGE=10]="IMAGE"}(C||(C={}));var O,L=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),k=[{typeName:L.Z.t("operate"),keybindings:[{description:L.Z.t("copy"),kbOpts:{win:["Ctrl","C"],mac:["⌘","C"]}},{description:L.Z.t("paste"),kbOpts:{win:["Ctrl","V"],mac:["⌘","V"]}},{description:L.Z.t("cut"),kbOpts:{win:["Ctrl","X"],mac:["⌘","X"]}},{description:L.Z.t("undo"),kbOpts:{win:["Ctrl","Z"],mac:["⌘","Z"]}},{description:L.Z.t("redo"),kbOpts:{win:["Ctrl","Y"],mac:["⌘","Y"]}}]},{typeName:L.Z.t("navigation"),keybindings:[{description:L.Z.t("selectAll"),kbOpts:{win:["Ctrl","A"],mac:["⌘","A"]}}]},{typeName:L.Z.t("check"),keybindings:[{description:L.Z.t("search"),kbOpts:{win:["Ctrl","F"],mac:["⌘","F"]}},{description:L.Z.t("replace"),kbOpts:{win:["Ctrl","H"],mac:["⌘","⇧","H"]}}]}],z=n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/event/index.js"),P=n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/meeting-center/index.js"),F=n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/native-center/index.js"),U=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/@tencent/xtable-core/es/event/index.js")),B=n("../node_modules/@tencent/xtable-core/es/mutation/api.js"),W=function(){function e(e){this.changeCount=0,this.editor=e}e.getApplyTimeFromUserchange=function(e){var t,n,i,o,r;return null===(r=null===(o=null===(i=null===(n=null===(t=e.otherOptions)||void 0===t?void 0:t.result)||void 0===n?void 0:n.response)||void 0===i?void 0:i.body)||void 0===o?void 0:o.data)||void 0===r?void 0:r.applyTime};var t=e.prototype;return t.handleCallback=function(e){var t=this;if(e.changeSetCount){var n="";try{JSON.parse(e.changeset).forEach((function(i){i.forEach((function(i){var o=B.Z.deserializeMutation(i);n=o.tableId,t.handleAcceptCommitByMutation(o,e)}))}))}catch(i){_.k.error("Handle Accept Commit Error",i)}this.emitAndReset(n)}},t.handleAcceptCommitByMutation=function(t,n){switch(t.id){case 3010:this.setRecordCreateTime(t,e.getApplyTimeFromUserchange(n));break;case 3013:this.setRecordModifyTime(t,e.getApplyTimeFromUserchange(n));break;case 3005:this.handleInitTableMutationCallback(t,e.getApplyTimeFromUserchange(n))}},t.setRecordCreateTime=function(e,t){var n;if(t){var i=e.delta.recordId,o=this.editor.getCore().base.getTableByTableId(e.tableId);o&&o.getRecordByRecordId(i)&&(o.setPartialRecordsMeta(((n={})[i]={createdTime:t},n)),this.addChangeCount())}else _.k.error("setRecordCreateTime 无创建时间: applyTime = "+t)},t.setRecordModifyTime=function(e,t){if(t){var n=this.editor.getCore().base.getTableByTableId(e.tableId);if(n){var i=n.getRecordByRecordId(e.recordId),o=Object.keys(e.delta);n.setRecord(e.recordId,this.updateModifiedTime(i,o,t)),this.addChangeCount()}}else _.k.error("setRecordModifyTime 无修改时间: applyTime = "+t)},t.handleInitTableMutationCallback=function(e,t){var n=this;if(e.renewRecord)if(t){var i=this.editor.getCore().base.getTableByTableId(e.tableId);if(i){var o={};Object.keys(e.delta.recordMetaMap).forEach((function(e){o[e]={createdTime:t}})),i.setPartialRecordsMeta(o);var r=Object.keys(e.delta.fieldMap);Object.keys(e.delta.recordMap).forEach((function(e){var o=i.getRecordByRecordId(e);i.setRecord(e,n.updateModifiedTime(o,r,t))})),this.addChangeCount()}}else _.k.error("setRecordCreateTime 无创建时间: applyTime = "+t)},t.addChangeCount=function(){this.changeCount+=1},t.resetChangeCount=function(){this.changeCount=0},t.emitAndReset=function(e){this.changeCount>0&&e&&(U.o.onRequestRunFinishedEmitter.fire({tableId:e,mutations:[]}),this.resetChangeCount())},t.updateModifiedTime=function(e,t,n){return e?t.reduce((function(t,i){var o;if(!e[i])return t;var r=e[i].modifiedTime;return r&&r>n?t:Object.assign(Object.assign({},t),((o={})[i]=Object.assign(Object.assign({},e[i]),{modifiedTime:n}),o))}),{}):{}},e}(),G=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),Z=n("../node_modules/@tencent/xtable-common/es/report/zzs.js");!function(e){e.USER_LEAVE="USER_LEAVE"}(O||(O={}));var H=function(){function e(){var e=this;this.onUserLeaveEmitter=I.onUserLeaveEmitter,this.handleOtherMessage=function(t){var n=t.type,i=t.data;n===O.USER_LEAVE&&e.handleUserLeave(i)}}e.groupMutationsByTableId=function(e){return e.reduce((function(e,t){var n,i=t.tableId,o=e.length-1;return i!==(null===(n=e[o])||void 0===n?void 0:n.tableId)?(e.push({tableId:i,mutations:[t]}),e):(e[o].mutations.push(t),e)}),[])};var t=e.prototype;return t.init=function(e,t){var n=this;this.editor=t,this.messageCenter=e,t.getBehaviorApi().addCommitRequestListener((function(e){n.onCommitRequestListener(e)})),this.messageCenter.eventManager.onReceiveOtherMessage(this.handleOtherMessage)},t.sendCursorMessage=function(e){this.messageCenter.sendMessage({cmd:"CURSOR_MESSAGE",taskId:0,data:JSON.stringify(e),onError:function(e){_.k.error("光标消息发送失败: ",e)}})},t.onCommitRequestListener=function(t){var n,i;if(!1!==(null===(i=(n=window).checkBeforeCommitForSmartSheet)||void 0===i?void 0:i.call(n))){var o=e.groupMutationsByTableId(t),r=this.messageCenter,s=this.editor,a=new W(s);o.filter((function(e){return e.mutations.length>0})).forEach((function(e){var t=e.tableId,n=e.mutations.map((function(e){return B.Z.serializeMutation(e)})),i={baseRev:r.versionManager.getCurrentVersion(),subId:t,changesetType:u.CHANGESET_TYPE.SMARTSHEET,changeset:JSON.stringify([n]),head:!1,keydata:!1,offlineMsg:!1,isWorkbook:!1,time:Date.now(),onSuccess:function(e,t){a.handleCallback(t),G.E.metricsStatus({attrid:Z.Ql.SMART_SHEET_COMMIT_ERROR,status:0})},onFailed:function(){G.E.metricsStatus({attrid:Z.Ql.SMART_SHEET_COMMIT_ERROR,status:1})}};_.k.info("messageCenter.addUserChange",i),r.addUserChange(i)}))}},t.handleUserLeave=function(e){var t,n=this;null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.body.notice;(null===t||void 0===t?void 0:t.userId)?n.onUserLeaveEmitter.fire(t):_.k.error("USER_LEAVE 事件，未收到 UserId：userInfo=",t)}))},e}();(0,a.__decorate)([(0,y.ab)(!1),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"onCommitRequestListener",null);var Y=n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/ui-center/index.js"),V=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/search/search.interface.js"),Q=n("../node_modules/@tencent/workbench/lib/esm/services/drawer/drawer-service.js"),K=n("../node_modules/@tencent/xtable-common/es/domain-config/index.js"),X=n("../node_modules/@tencent/xtable-common/es/event/fire-event.js"),J=n("../node_modules/@tencent/xtable-common/es/report/performance/speed-report.js"),q=n("../node_modules/@tencent/xtable-common/es/url-parameter/index.js"),$=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),ee=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),te=n("../node_modules/@tencent/xtable-core/es/utils/convertor/table-json-convertor.js"),ne=n("../node_modules/@tencent/xtable/es/smart-sheet-editor.js"),ie=function(e){function t(){var t;return(t=e.call(this)||this).network=new H,t.handleScale=function(e){t.editor.stateManager.setScale(e);var n=t.editor.getRenderer();n&&n.rerender()},t.handleCommonOperation=function(e){return(0,a.__awaiter)((0,r.Z)(t),void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K.K.init(e),this.editor.getCore().domainInfo.init(e);case 2:case"end":return t.stop()}}),t,this)})))},t.handleMeetingCenter=function(e){P.X.init(e)},t.handleUICenter=function(e){Y.h.init(e)},t.handleMessageCenter=function(e){var n=e;t.network.init(n,t.editor),P.X.setMessageCenter(n)},t.handleUndoRedoStack=function(e){t.editor.registerUndoRedoStack(e)},t.handleSpreadConfig=function(e){t.spreadConfig=e;var n=t.spreadConfig,i=n.getConfig("userPic"),o=n.getConfig("userName"),r=n.getConfig("uid"),s=n.getConfig("padId");t.editor.getCore().userService.setCurrentUserInfo({id:r,avatarUrl:i,name:o}),t.editor.getCore().domainInfo.setPid(s)},t.handleNativeHeader=function(e){F.t.init(e)},t.handlePermission=function(e){var n;_.k.info("[sdk][sheet-adapter]处理权限逻辑"),null===(n=t.permission)||void 0===n||n.offChange(t.onPermissionChange),t.permission=e,t.permission.change(t.onPermissionChange),t.onPermissionChange()},t.handleUserCenter=function(e){t.userCenter=e,t.editor.getCore().userService.registerGetUserInfosMethod(t.getUserInfoFromSheet),t.collabCursorManager=new M(t.editor,t.userCenter,t.network)},t.handleSearchCenter=function(e){t.editor.stateManager.setSearchCenter(e)},t.handleBrowseLocation=function(e){var n=e;t._register(U.o.onActiveViewSwitched.event((function(e){var t=e.toTable,i=e.toView;t&&i&&n.updateBrowseLocation({sheetId:t.id,location:{viewId:i.id}})})))},t.getUserInfoFromSheet=function(e){return(0,a.__awaiter)((0,r.Z)(t),void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="["+e.toString()+"]",t.next=3,this.userCenter.getUserInfos(i);case 3:return o=t.sent,t.abrupt("return",null!==(n=null===o||void 0===o?void 0:o.map((function(e){return{id:e.reqUid,avatarUrl:e.userPic,name:e.markName}})))&&void 0!==n?n:[]);case 5:case"end":return t.stop()}}),t,this)})))},t.onPermissionChange=function(){var e=t.permission,n=e.canEdit,i=e.canComment,o=e.canCopy;_.k.debug("sheetAdapter onPermissionChange",{canEdit:n,canComment:i,canCopy:o}),t.editor.getCore().permissionService.setPartialBasePermissionStatus(t.permission)},t.editor=ne.E.getInstance().getCurrentEditor(),t.listenFirstEditEvent(),t.listenFirstSetRecordMutation(),t}(0,s.Z)(t,e);var n=t.prototype;return n.createSheet=function(e,t){this.editor.getDataManager().insertTableByTableJSON(e,t)},n.getTableJSONByTemplateMutations=function(e,t){return this.editor.getDataManager().getTableJSONByTemplateMutations(e,t)},n.getTableJSONByViewType=function(e){return this.editor.getDataManager().getDefaultTableJSONByViewType(e)},n.getTableJSONBySheetCellData=function(e,t){_.k.info("smartSheetSDK transformToTableJSON",e);var n=N(this.editor.getCore().base,{sheetCellsArray:e,resourceMap:t}),i=n.fieldValues,o=n.cellValues;return(0,te.C)({tableId:"fakeTableId",title:"fakeTitle",userInfo:this.editor.getCore().userService.getCurrentUserInfo(),fieldValues:i,cellValues:o,viewType:ee.bW.GRID})},n.getKeyframeBySheetId=function(e,t){return this.editor.getDataManager().getKeyframeBySheetId(e,t)},n.copySheet=function(e,t){this.editor.getDataManager().copyTable(e,t)},n.render=function(e){this.editor.getDataManager().render(e)},n.renderWatermark=function(e){this.editor.stateManager.setWatermarkConfig(e)},n.deleteSheet=function(e){this.editor.getDataManager().deleteTableById(e)},n.renderHistory=function(e,t){var n,i;_.k.info("smartSheetSDK renderHistory ",e,t);var o=null===t||void 0===t?void 0:t.rev,r=!1;void 0!==o&&this.recordDataRev!==o&&(this.recordDataRev=o,r=!0);var s=R({chunkData:null===(i=null===(n=t.initialAttributedText)||void 0===n?void 0:n.text)||void 0===i?void 0:i.actions});this.editor.getDataManager().renderHistory(e,s,r)},n.handleCreateSheetAcceptCommit=function(e,t){var n=W.getApplyTimeFromUserchange(t);n?this.editor.getDataManager().handleCreateTableAcceptCommit(e,n):_.k.error("CreateSheetAcceptCommit No CreatedTime: sheetId:"+e+", applyTime: "+n)},n.registerEvent=function(e,t){_.k.info("registerEvent",e,t),X.B.registry(e,t)},n.injectModule=function(e,t){var n;_.k.debug("injectModule",e);var i=this.getInjectModuleHandlers();null===(n=i[e])||void 0===n||n.call(i,t)},n.coverTableByTemplateMutations=function(e,t){this.editor.getDataManager().coverTableByTemplateMutations(e,t)},n.applySheetData=function(e,t){_.k.debug("smartSheetSDK applySheetData 收到 "+e+" 数据",t);var n=R(t);(n.length||d()(t.startRow)||d()(t.endRow))&&this.editor.getDataManager().applyChunkMutations(e,n,{start:t.startRow,end:t.endRow,isFinished:t.isFinished})},n.handleOfflineChangesets=function(e){var t=[];e.forEach((function(e){var n,i=e.changesetType,r=e.mutations,s=e.changeset;i===u.CHANGESET_TYPE.SMARTSHEET&&((null===r||void 0===r?void 0:r.length)&&(n=[]).concat.apply(n,(0,o.Z)(r)).forEach((function(e){t.push(B.Z.serializeMutation(e))})),s&&t.push.apply(t,(0,o.Z)(JSON.parse(s))))})),this.editor.getDataManager().handleOfflineMutations(t)},n.afterSyncOfflineChangesets=function(){this.editor.getDataManager().afterSyncOfflineChangesets()},n.switchFirstScreenReport=function(){J.r.setCanReport(!0)},n.handleSwitchSheet=function(e){var t,n=e.sheetType===m.smartsheet?e.sheetId:void 0;this.editor.activeStateService.switchView({tableId:n});var i=this.editor.activeStateService.getActiveTable(),o=!!i&&e.sheetType===m.grid,r=!i&&e.sheetType===m.smartsheet;if(U.o.onTableSwitched.fire({tableId:n,smartSheetToExcel:o,excelToSmartSheet:r}),i)try{f.Am.get(Q.zv).closeRightDrawer(!0),f.Am.get(V.x).close(),null===(t=this.collabCursorManager)||void 0===t||t.recoverCollabCursor()}catch(s){_.k.error(s)}},n.refreshURL=function(){var e=(0,q.oW)($.AL.VIEW_ID);window.history.replaceState({},"",e)},n.getShortcutKeybindings=function(){return k},n.handleScreenRotate=function(e){z.t.screenRotation.fire(e)},n.handleCursorMessages=function(e){var t;null===(t=this.collabCursorManager)||void 0===t||t.handleCursorMessages(e)},n.followRequestMutations=function(e,t,n){return this.editor.getRequestApi().followRequestMutations(e,t,n)},n.attachEditor=function(e){this.beforeAttachEditor(),this.editor.attachEditor(e)},n.serializeMutation=function(e){return this.editor.serializeMutation(e)},n.deserializeMutation=function(e){return this.editor.deserializeMutation(e)},n.deserializeRequests=function(e){return this.editor.deserializeRequests(e)},n.runMutations=function(e){return this.editor.runMutations(e)},n.getMutationClassByMutationId=function(e){return this.editor.getMutationApi().getMutationMap()[e]},n.beforeAttachEditor=function(){var e,t=null===(e=Y.h.uiCenter)||void 0===e?void 0:e.getScale();"number"===typeof t&&this.editor.stateManager.setScale(t)},n.listenFirstEditEvent=function(){new v(this.editor,(function(e){X.B.execute(z.T.FIRST_EDIT,e)})).listenFirstEditEvent()},n.listenFirstSetRecordMutation=function(){var e=this,t=U.o.onRequestRunFinishedEmitter.event((function(n){var i=n.mutations,o=e.editor.getCurrentTable();if(o){var r=i.find((function(e){if(3013!==e.id||o.id!==e.tableId)return!1;var t=e.delta;return Object.keys(t).some((function(e){return null!==t[e].value}))}));if(r){for(var s="",a=0,l=Object.keys(r.delta);a<l.length;a++){var d=l[a],c=o.getFieldByFieldId(d);if(c&&(s=c.generateStandardCellByCellValue(r.delta[d].value).data.map((function(e){return e.text||""})).join("")))break}s&&(e.editor.getCore().domainInfo.setTitle(s),t.dispose())}}}))},n.getInjectModuleHandlers=function(){var e;return(e={})[p.MESSAGE_CENTER]=this.handleMessageCenter,e[p.UNDO_REDO_STACK]=this.handleUndoRedoStack,e[p.SPREAD_CONFIG]=this.handleSpreadConfig,e[p.USER_CENTER]=this.handleUserCenter,e[p.PERMISSION]=this.handlePermission,e[p.NATIVE_CENTER]=this.handleNativeHeader,e[p.SEARCH_CENTER]=this.handleSearchCenter,e[p.BROWSE_LOCATION]=this.handleBrowseLocation,e[p.MEETING_CENTER]=this.handleMeetingCenter,e[p.COMMON_OPERATION]=this.handleCommonOperation,e[p.MOBILE_UI_CENTER]=this.handleUICenter,e},t}(c.Disposable);_.k.info("当前 Smartsheet-Sdk 代码版本：1.177.2")},"../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/entry/mobile.js":function(e,t,n){"use strict";n.r(t),n.d(t,{MobileSmartSheetSdkSheetAdapter:function(){return s}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/mobile.js"),r=n("../node_modules/@tencent/smartsheet-sdk/es/mobile.js"),s=function(e){function t(){return e.apply(this,arguments)||this}(0,i.Z)(t,e);var n=t.prototype;return n.getWorkbenchSettings=function(){return r.mobileWorkbenchOptions},n.getAdapter=function(){return o.H},t}(n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/entry/base.js").G)},"../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/entry/pc.js":function(e,t,n){"use strict";n.r(t),n.d(t,{PcSmartSheetSdkSheetAdapter:function(){return s}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/pc.js"),r=n("../node_modules/@tencent/smartsheet-sdk/es/pc.js"),s=function(e){function t(){return e.apply(this,arguments)||this}(0,i.Z)(t,e);var n=t.prototype;return n.getWorkbenchSettings=function(){return r.pcWorkbenchOptions},n.getAdapter=function(){return o.E},t}(n("../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/entry/base.js").G)},"../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/event/index.js":function(e,t,n){"use strict";n.d(t,{T:function(){return i},t:function(){return o}});var i,o={screenRotation:new(n("../node_modules/@tencent/ark-utils/lib/event/index.js").Emitter)};!function(e){e.FIRST_EDIT="first_edit",e.HIDE_SHEET_LIST="hide_sheet_list",e.TOGGLE_SMART_SHEET_DRAWER="toggle_smart_sheet_drawer",e.RENDER_FINISH="render_finish"}(i||(i={}))},"../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/meeting-center/index.js":function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var i=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),o=function(){function e(){this.isLoaded=!1}var t=e.prototype;return t.init=function(e){i.k.info("meetingCenter 开始注入"),this.meetingApi=e.meetingApi,this.meetingUtil=e.meetingUtil,this.networkEvent=e.networkEvent,this.isLoaded=!0},t.setMessageCenter=function(e){i.k.info("meetingCenter 开始注入消息模块"),this.messageCenter=e},e}(),r=new o},"../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/native-center/index.js":function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=new(function(){function e(){}var t=e.prototype;return t.init=function(e){this.nativeCenter=e},t.reInit=function(){return this.nativeCenter.reInit()},(0,i.Z)(e,[{key:"socketNetworkStatus",get:function(){var e;return null===(e=this.nativeCenter)||void 0===e?void 0:e.socketNetworkStatus}},{key:"nativeHeaderAPI",get:function(){var e;return null===(e=this.nativeCenter)||void 0===e?void 0:e.nativeHeaderAPI}}]),e}())},"../node_modules/@tencent/smartsheet-sdk/es/sheet-adapter/ui-center/index.js":function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var i=new(function(){function e(){this.uiCenter=null}return e.prototype.init=function(e){this.uiCenter=e},e}())},"../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/cell.interface.js":function(e,t,n){"use strict";n.d(t,{IT:function(){return r},wq:function(){return s},ww:function(){return a},xR:function(){return l}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("ICurrentCellService"),s=Symbol.for("IEditCellService");o.Ln.merge(s,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/edit-cell.service.jsx"));case 2:return t=e.sent,i=t.EditCellService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}});var a=Symbol.for("IReadonlyCellService"),l=Symbol.for("ICellFeature")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/edit-cell.service.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,{CONTAINER_ID:function(){return x},EditCellService:function(){return D}});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("react"),r=n.n(o),s=n("../node_modules/lodash/isEqual.js"),a=n.n(s),l=n("../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-tob/index.jsx"),d=n("../node_modules/@tencent/smartsheet-sdk/es/services/attachment-center/attachment-center-toc/index.jsx"),c=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/record-report.service.js"),u=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/cell.interface.js"),h=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/render-utils.js"),g=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/styled.js"),f=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.interface.js"),m=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/edit-status/edit-status.interface.js"),p=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field-feature.pc.interface.js"),v=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field.pc.interface.js"),I=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/selection/interface.js"),y=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/stage/index.jsx"),_=n("../node_modules/@tencent/workbench/lib/esm/services/settings/auto-sync-settings.js"),b=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/service.js"),M=n("../node_modules/@tencent/ioc/lib/esm/index.js"),C=n("../node_modules/@tencent/workbench/lib/esm/services/settings/setting-service.js"),w=n("../node_modules/@tencent/xtable-common/es/domain-config/index.js"),T=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),E=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),j=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),A=n("../node_modules/@tencent/xtable-render/es/views/group/renderer/features/desktop/smart-fill/index.js"),x="smartsheet-cell-editor-container",D=function(){function e(e,t,n,i,o,s){var l=this;this.workbenchSettingsService=e,this.fieldService=t,this.editStatusService=n,this.behaviorApplyService=i,this.currentCellService=o,this.selectionFeature=s,this.isShow=!1,this.init=function(e){l.props=e,l.editor=e.editor,l.initAttachmentCenter()},this.destroy=function(){var e;l.hideComponent(),null===(e=l.stage)||void 0===e||e.destroy(),l.stage=null},this.hideComponent=function(){var e;l.isShow&&(l.isShow=!1,null===(e=l.stage)||void 0===e||e.hide(),l.editStatusService.switchStatus(m.R.DEFAULT),l.editStatusService.setInputting(!1),l.editStatusService.setEditCell(null))},this.showComponent=function(){var e=l.currentCellService.getCurrentCell();if(e){var t=e.recordId,n=e.fieldId,i=e.tableId,o=e.viewId;l.editStatusService.switchStatus(m.R.READ),l.editStatusService.setEditCell({recordId:t,fieldId:n,viewId:o,tableId:i}),l.updateComponent(),l.isShow=!0}},this.updateComponent=function(){var e=l.currentCellService.getCurrentCell();if(e&&l.editor){var t=e.fieldId,n=e.cellValue,i=e.recordId,o=l.props.getTable().getFieldByFieldId(t);if(o){var s=o.getStandardCell(i),a=o.getType(),d=l.fieldService.getFieldFeature(a),c={isWecom:w.K.getIsWeCom(),isToc:w.K.getIsToc()},u=d.getCellEditorWrapper(c);if(u){var f=l.props.getView(),m=(0,h.I)(e,f),p=(0,h.P)(e,f);l.getStage().updateContainerStyle(p);var v=!l.props.getFloatState().isShow(),I={recordId:e.recordId,fieldId:e.fieldId},y=l.getStage().show(r().createElement(g.D,null,r().createElement(u,{editStatus:l.editStatusService.getStatus(),cellSize:(0,g.U)(m),value:n,standardCell:s,property:o.getProperty(),onChange:l.handleChange.bind(l,e),onPropertyChange:l.handlePropertyChange.bind(l,e),setEditStatus:l.handleEditStatusChange,onInputStatusChange:l.handleInputStatusChange,onDropdownVisible:l.handleDropdownVisible,getDefaultValue:l.getDefaultValue.bind(l,{cellValue:n,recordId:i,field:o,viewModel:l.props.getViewModel(),table:l.props.getTable()}),position:I}),r().createElement("div",{id:A.S4,style:{display:v?"block":"none"}},r().createElement("div",{className:"corner"}))),m),_=y.root,b=y.container;_.lastElementChild!==b&&_.appendChild(b)}}}},this.updateComponentOffset=function(){var e,t=l.currentCellService.getCurrentCell();if((null===(e=l.stage)||void 0===e?void 0:e.getShowState())&&t){var n=(0,h.I)(t,l.props.getView()),i=n.x,o=n.y;l.getStage().updateOffset({x:i,y:o})}},this.handleEditStatusChange=function(e){l.editStatusService.switchStatus(e)},this.getStage=function(){if(!l.stage){var e=l.props.getView().getStage().content;l.stage=new y.H({root:e,id:x,updateStageOffset:function(e,t){e.style.top=t.y+"px",e.style.left=t.x+"px"}})}return l.stage},this.handleChange=function(e,t,n){switch(T.k.debug("CellEditorService|handleChange: "+n),n){case p.S.BLUR:case p.S.CONFIRM:l.handleConfirm(e,t);break;case p.S.ENTER:l.handleEnter(e,t);break;case p.S.ESC:l.handleEsc();break;case p.S.TAB:l.handleTab(e,t)}c.n.editCell()},this.handleTab=function(e,t){l.setRecord(e,t),l.hideComponent(),l.currentCellService.updateCurrentCell(null),l.selectionFeature.moveActivePoint(I.N.RIGHT)},this.handleConfirm=function(e,t){l.setRecord(e,t)},this.handleEnter=function(e,t){l.setRecord(e,t),l.hideComponent(),l.currentCellService.updateCurrentCell(null),l.selectionFeature.moveActivePoint(I.N.DOWN)},this.handleEsc=function(){l.hideComponent(),l.showComponent()},this.setRecord=function(e,t){var n=e.fieldId,i=e.recordId,o=e.tableId,r=e.viewId,s=l.props.getTable().getFieldByFieldId(n);if(s){var d=s.getCellValue(i);if(a()(d,t))T.k.info("CellValue not changed. "+JSON.stringify(t));else{var c={};c[n]={value:t},l.behaviorApplyService.setRecord({tableId:o,viewId:r,recordId:i},c)}}},this.handlePropertyChange=function(e,t){var n=e.fieldId,i=l.props.getTable().getFieldByFieldId(n);if(i){var o={property:t,type:i.getType()};l.behaviorApplyService.checkFieldAttribute(o,i)&&(l.behaviorApplyService.setFieldAttributes({tableId:e.tableId,viewId:e.viewId},{delta:o,oldField:i}),c.n.editPropertyInCell())}},this.handleInputStatusChange=function(e){l.editStatusService.setInputting(e)},this.handleDropdownVisible=function(e){l.workbenchSettingsService.set(_.R.DisableContextMenu,e)}}var t=e.prototype;return t.getDefaultValue=function(e){var t=e.table,n=e.field,i=e.recordId,o=e.viewModel,r=e.cellValue;if(null!==r)return r;if(o.type!==j.bW.GANTT||n.getType()!==E.f.DATE_TIME)return r;var s=o.getGanttConfig(),a=s.startDateFieldId===n.getId(),l=s.endDateFieldId===n.getId();if(!a&&!l)return r;var d=a?s.endDateFieldId:s.startDateFieldId,c=d?t.getFieldByFieldId(d):null;if(!c)return r;var u=c.getCellValue(i);return null===u?r:u},t.initAttachmentCenter=function(){this.editor&&(w.K.getIsToc()?d.f.init({editor:this.editor}):l.H.init(this.editor))},e}();D=(0,i.__decorate)([(0,b.t)({provide:u.wq}),(0,i.__param)(1,(0,M.tB)(v.Y)),(0,i.__param)(2,(0,M.tB)(m.$)),(0,i.__param)(3,(0,M.tB)(f.y)),(0,i.__param)(4,(0,M.tB)(u.IT)),(0,i.__param)(5,(0,M.tB)(I.D)),(0,i.__metadata)("design:paramtypes",[C.I,Object,Object,Object,Object,Object])],D)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/render-utils.js":function(e,t,n){"use strict";n.d(t,{I:function(){return i},P:function(){return o}});var i=function(e,t){var n=e.isFrozen,i=t.getCollector(),o=t.getRenderer().feature.getFeature("ActivePoint").getRect(),r=o.x,s=o.y;return{x:n?r:r-i.size.activityStartX+1,y:s-i.size.activityStartY,width:o.width,height:o.height}},o=function(e,t){var n=t.getCollector().size;return e.isFrozen?{x:0,y:n.activityStartY}:{x:n.activityStartX-1,y:n.activityStartY,width:n.activityViewWidth+1}}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/cell/styled.js":function(e,t,n){"use strict";n.d(t,{D:function(){return d},U:function(){return l}});var i,o=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),r=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),a=n("../node_modules/@tencent/xtable-render/es/views/group/renderer/features/desktop/smart-fill/index.js"),l=function(e){return{width:e.width-2*s.YF,height:e.height-2*s.YF}},d=r.ZP.div(i||(i=(0,o.Z)(["\n  position: relative;\n  border: ","px solid rgba(1, 136, 251);\n  box-shadow: #4b8cff 0 0 0 ","px;\n  font-family: ",";\n  color: ",";\n  font-size: 10pt;\n\n  .cell-editor-input {\n    font-family: ",";\n    font-size: 10pt;\n  }\n  #"," {\n    position: absolute;\n    cursor: crosshair;\n    right: -","px;\n    bottom: -","px;\n    width: ","px;\n    height: ","px;\n\n    .corner {\n      box-sizing: border-box;\n      position: absolute;\n      top: 3px;\n      left: 3px;\n      width: ","px;\n      height: ","px;\n      background-color: ",";\n      border: ","px solid ",";\n      pointer-events: none;\n    }\n  }\n"])),s.YF,s.YF,s.ut,s.DM,s.ut,a.S4,5,5,10,10,6,6,a.oB.cornerBackground,a.oB.cornerBorderWidth,a.oB.cornerBorderColor)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/option-style-picker/index.jsx":function(e,t,n){"use strict";n.d(t,{D:function(){return g}});var i,o=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),r=(n("../node_modules/core-js/modules/es.array.map.js"),n("react")),s=n.n(r),a=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("../node_modules/@tencent/dui/lib/components/ColorPicker/index.js"),d=n("../node_modules/@tencent/dui/lib/components/Tooltip/index.js"),c=n("../node_modules/@tencent/xtable-common/es/palette/option.js"),u=[c.h.A1,c.h.B1,c.h.C1,c.h.D1,c.h.E1,c.h.F1,c.h.G1,c.h.H1,c.h.I1,c.h.A2,c.h.B2,c.h.C2,c.h.D2,c.h.E2,c.h.F2,c.h.G2,c.h.H2,c.h.I2,c.h.A3,c.h.B3,c.h.C3,c.h.D3,c.h.E3,c.h.F3,c.h.G3,c.h.H3,c.h.I3],h=a.ZP.div(i||(i=(0,o.Z)(["\n  padding: 8px 5px 5px 8px;\n  display: flex;\n  width: 222px;\n  flex-wrap: wrap;\n  border-radius: 4px;\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.12);\n  box-shadow: rgb(68 73 77 / 16%) 0px 2px 12px 2px;\n  box-sizing: border-box;\n"]))),g=function(e){var t=e.selected,n=e.onSelect;return s().createElement(h,null,u.map((function(e){var i=(0,c.F)(e);return s().createElement(d.default,{title:i.title,overlayHoverable:!1},s().createElement(l.default.Item,{key:e,color:i.background,onClick:function(){return n(e)},selected:t===e}))})))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx":function(e,t,n){"use strict";n.d(t,{t:function(){return s}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/react-inlinesvg/esm/index.js"),s=function(e){return o().createElement(r.Z,Object.assign({},e))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/constant/right-drawer-name.js":function(e,t,n){"use strict";var i;n.d(t,{o:function(){return i}}),function(e){e[e.FILTER=1]="FILTER",e[e.GROUP=2]="GROUP",e[e.SORT=3]="SORT",e[e.RECORD_DETAIL=4]="RECORD_DETAIL",e[e.FIELD_SETTING=5]="FIELD_SETTING",e[e.GANTT_SETTING=6]="GANTT_SETTING"}(i||(i={}))},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/events/index.js":function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var i=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),o={onGroupByChosed:new i.Emitter,unFollowEmitter:new i.Emitter,onViewCreated:new i.Emitter}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/hooks/use-drag-drop.js":function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=(n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.find-index.js"),n("react")),r=n("../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js"),s=n("../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js");function a(e){var t=e.type,n=e.index,a=e.onDrop,l=e.dndOptions,d=e.originOptions,c=e.frozen,u=void 0!==c&&c,h=(0,o.useRef)(null),g=(0,o.useState)(l),f=g[0],m=g[1];(0,o.useEffect)((function(){m(l)}),[l]);var p=(0,o.useCallback)((function(e,t,n){var o=(0,i.Z)(f),r=o.splice(t,1)[0];r.frozen||(o.splice(n,0,r),m(o.map((function(e,t){return Object.assign(Object.assign({},e),{index:t})}))))}),[f]),v=(0,r.c)({type:t,item:e,collect:function(e){return{isDragging:e.isDragging()}},end:function(e){var t=e.index,n=d.findIndex((function(t){return t.id===e.id}));a(e.id,n,t)},canDrag:!u},[e]),I=v[0].isDragging,y=v[1],_=v[2],b=(0,s.L)({accept:t,collect:function(e){return{handlerId:e.getHandlerId(),isDropping:e.isOver()||!1,hasDraggingItem:!!e.getItem()}},hover:function(e,t){if(h.current){var i=e.index,o=n;if(i!==o){var r=h.current.getBoundingClientRect(),s=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top;i<o&&a<s||i>o&&a>s||(p(e.id,i,o),e.index=o)}}}}),M=b[0],C=M.handlerId,w=M.isDropping,T=M.hasDraggingItem,E=b[1];return y(h),{handlerId:C,isDropping:w,isDragging:I,dragRef:h,sortedOptions:f,hasDraggingItem:T,dragPreview:_,dropRef:E}}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.interface.js":function(e,t,n){"use strict";n.d(t,{y:function(){return r}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("IBehaviorApplyService");o.Ln.merge(r,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.js"));case 2:return t=e.sent,i=t.BehaviorApplyService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.js":function(e,t,n){"use strict";n.r(t),n.d(t,{BehaviorApplyService:function(){return b}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js");var i,o,r=n("./node_modules/tslib/tslib.es6.js"),s=n("../node_modules/lodash/isEqual.js"),a=n.n(s),l=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),d=n("../node_modules/@tencent/dui/lib/components/Modal/index.js"),c=n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js"),u=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js"),h=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/field-type.service.js"),g=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.interface.js"),f=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js")),m=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),p=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js");!function(e){e.MODAL="modal",e.TOAST="toast"}(o||(o={}));var v=[p.jK.FIELD_EXIST_IN_KANBAN_GROUP,p.jK.SMART_SHEET_REQUEST_RUN_ERROR,p.jK.FIELD_EXIST_IN_GANTT_DATE_FIELD],I=((i={})[p.jK.UNKNOWN]=function(e){return void 0===e&&(e=""),{title:f.Z.t("unknown_error"),desc:e}},i[p.jK.MAXIMUM_FIELD_SIZE_REACHED]=function(){return{title:f.Z.t("field_insert_fail"),desc:f.Z.t("field_max_size_reach",{field:m.gU.MAXIMUM_FIELD_LIMIT})}},i[p.jK.MAXIMUM_RECORD_SIZE_REACHED]=function(){return{title:f.Z.t("record_insert_fail"),desc:f.Z.t("record_max_size_reach",{field:m.gU.MAXIMUM_RECORD_LIMIT})}},i[p.jK.MAXIMUM_CELL_SIZE_REACHED]=function(){return{title:f.Z.t("insert_fail"),desc:f.Z.t("cell_max_size_reach",{field:m.gU.MAXIMUM_CELL_LIMIT})}},i[p.jK.TITLE_DUPLICATED]=function(e){return{title:f.Z.t("field_rename_fail"),desc:e}},i[p.jK.VIEW_ID_DUPLICATED]=function(){return{title:"VIEW ID DUPLICATED",desc:"VIEW ID DUPLICATED ERROR"}},i[p.jK.VIEW_DATA_NOT_EXIST]=function(){return{title:"VIEW DATA NOT EXIST",desc:"VIEW DATA NOT EXIST ERROR"}},i[p.jK.MAXIMUM_VIEW_SIZE_REACHED]=function(){return{title:f.Z.t("view_insert_fail"),desc:f.Z.t("view_max_size_reach",{field:m.gU.MAXIMUM_VIEW_LIMIT})}},i[p.jK.TITLE_EMPTY]=function(e){return{title:f.Z.t("field_rename_fail"),desc:e}},i[p.jK.FIELD_EXIST_IN_KANBAN_GROUP]=function(e){return{title:f.Z.t("hint"),desc:e}},i[p.jK.FIELD_EXIST_IN_GANTT_DATE_FIELD]=function(e){return{title:f.Z.t("hint"),desc:e}},i[p.jK.SMART_SHEET_REQUEST_RUN_ERROR]=function(){return{title:f.Z.t("hint"),desc:f.Z.t("request_run_catch_error")}},i),y=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/feature.js"),_=n("../node_modules/@tencent/xtable/es/smart-sheet-editor.js"),b=function(){function e(){this.getFieldChangeDelta=function(e){var t=e.oldField,n=e.title,i=e.property,o=e.type,r=t.getTitle(),s=t.getType(),l=t.getProperty(),d=r!==n,c=!(s===o&&a()(l,i));return d||c?c&&d?{type:o,property:i,title:n}:!c&&d?{title:n}:{type:o,property:i}:null},this.addBehaviorCrashListener()}var t=e.prototype;return t.getBehaviorApi=function(){return _.E.getInstance().getCore().behaviorApi},t.setRecord=function(e,t,n){var i=e.tableId,o=e.viewId,r=e.recordId,s=Object.assign({},t);return(0,l.isFunction)(t)&&(s=t()),null===n||void 0===n||n(),this.getBehaviorApi().setRecord({tableId:i,recordId:r,viewId:o,delta:s})},t.addRecord=function(e,t,n,i){var o=e.tableId,r=e.viewId,s=this.getBehaviorApi().insertRecord({tableId:o,viewId:r,delta:{index:t,groupPath:n,cellValue:i}});return s.isSuccess||this.handleMutationError(s),s},t.checkFieldAttribute=function(e,t){var n=t.getProperty();return!(e.type===t.getType()&&a()(n,e.property))},t.handleMutationError=function(e,t){var n;if(!e.isSuccess){var i,r=e.error,s=r.errorCode,a=r.errorMessage,l=I[s](a);switch(i=s,v.includes(i)?o.MODAL:o.TOAST){case o.MODAL:var u=d.default.confirm({title:l.title,content:l.desc,onOk:function(){(null===t||void 0===t?void 0:t.onOk)?t.onOk():h()},onCancel:function(){var e;null===(e=null===t||void 0===t?void 0:t.onCancel)||void 0===e||e.call(t)},onClose:function(){var e;null===(e=null===t||void 0===t?void 0:t.onCancel)||void 0===e||e.call(t)}}),h=u.close;break;case o.TOAST:c.default.show({type:"info",message:l.desc,zIndex:19998}),null===(n=null===t||void 0===t?void 0:t.onCancel)||void 0===n||n.call(t)}}},t.setFieldAttributes=function(e,t){return this.modifyField(e,t).then((function(e){return h.f.modifyField(t.delta),Promise.resolve(e)}))},t.addBehaviorCrashListener=function(){var e=this;this.getBehaviorApi().addRequestCrashListener((function(t){e.handleMutationError(t)}))},t.modifyField=function(e,t,n){var i=this,o=e.tableId,s=e.viewId,a=t.delta,l=t.oldField,d=this.getBehaviorApi().setFieldAttributes({tableId:o,viewId:s,fieldId:l.getId(),delta:a},n);return new Promise((function(e,n){if(d.isSuccess)return e(d);i.handleMutationError(d,{onOk:function(){return(0,r.__awaiter)(i,void 0,void 0,regeneratorRuntime.mark((function i(){var r,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.modifyField({tableId:o,viewId:s},t,{ignoreCheck:(r={},r[d.error.errorCode]=!0,r)});case 3:a=i.sent,e(a),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),n(d);case 10:case"end":return i.stop()}}),i,this,[[0,7]])})))},onCancel:function(){n(d)}})}))},e}();b=(0,r.__decorate)([(0,y.L)({adapters:[u.q],provide:g.y}),(0,r.__metadata)("design:paramtypes",[])],b)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/request-listener-manager.js":function(e,t,n){"use strict";n.d(t,{k:function(){return o}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js");var i=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),o=function(){function e(){this.listenerMap=new Map}var t=e.prototype;return t.handleMutation=function(e,t){this.getHandler(e.id,t)(e)},t.handleMutationList=function(e){var t=e.filter((function(e){return 3013!==e.id}));return t.length>0?t:e},t.handleCommonMutation=function(){var e;null===(e=this.commonHandler)||void 0===e||e.call(this)},t.register=function(e,t){this.listenerMap.set(e,t)},t.registerList=function(e,t){var n=this;e.forEach((function(e){return n.register(e,t)}))},t.registerCommonHandler=function(e){this.commonHandler=e},t.clear=function(){this.listenerMap.clear()},t.getHandler=function(e,t){var n=this.listenerMap.get(e);return n||this.getCommonHandler(t)},t.getCommonHandler=function(e){return this.commonHandler?this.commonHandler:(e||i.k.warn("commonHandler not register."),function(){})},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/right-drawer.service.interface.js":function(e,t,n){"use strict";n.d(t,{I:function(){return i}}),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js");var i=Symbol.for("IRightDrawerService")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/utils/editable-toast.js":function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var i=n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js"),o=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js");function r(){i.default.show({id:"NOT_ALL_EDITABLE",message:o.Z.t("data_loading")})}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/utils/keycode.js":function(e,t,n){"use strict";n.d(t,{Q:function(){return o},n:function(){return i}});var i={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,VOLUME_DOWN:174,VOLUME_UP:175,NEXT:176,PREVIOUS:177,STOP:178,PLAY:179,A:65,X:88,C:67,S:83,V:86,Y:89,Z:90,F:70,H:72,SCRLK:144,NUMLK:145};function o(e){return-1!==[i.ARROW_DOWN,i.ARROW_UP,i.ARROW_LEFT,i.ARROW_RIGHT,i.HOME,i.END,i.DELETE,i.BACKSPACE,i.F1,i.F2,i.F3,i.F4,i.F5,i.F6,i.F7,i.F8,i.F9,i.F10,i.F11,i.F12,i.VOLUME_DOWN,i.VOLUME_UP,i.NEXT,i.PREVIOUS,i.STOP,i.PLAY,i.TAB,i.PAGE_DOWN,i.PAGE_UP,i.ENTER,i.ESCAPE,i.SHIFT,i.CAPS_LOCK,i.ALT,i.COMMAND_LEFT,i.CONTROL_LEFT,i.COMMAND_RIGHT,i.SCRLK,i.NUMLK].indexOf(e)}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/utils/url.js":function(e,t,n){"use strict";n.d(t,{Qb:function(){return a},YH:function(){return h},Zp:function(){return l},_i:function(){return i},aQ:function(){return u},eA:function(){return c},vX:function(){return d}}),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.string.match.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/esnext.global-this.js");var i,o=n("../node_modules/@tencent/docs-user-agent/dist/index.js"),r=n.n(o),s=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/field-operation.service.js"),a=function(e){var t=e.split("?")[1];if(!t)return null;var n={};return t.split("&").forEach((function(e){var t=e.split("="),i=t[0],o=t[1];n[i]=o})),n},l=function(e){return/^data:image\/(png|gif|jpeg|x-icon|jpg|tiff);base64,.+/i.test(e)},d=function(e){return[].concat(["docs.qq.com","open.txdocs.qq.com","oa.txdocs.qq.com","embed.txdocs.qq.com","picgzc.qpic.cn"],["qpic.cn"]).includes(function(e){var t=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n?=]+)/im);if(t){var n=t[1];return(t=n.match(/^[^.]+\.(.+\..+)$/))&&(n=t[1]),n}return""}(e))},c=function(e){return/^file:\/\/[/].+(gif|jpg|jpeg|tiff|png)$/i.test(e)};!function(e){e.EMAIL="mailto",e.TEL="tel",e.MESSAGE="sms"}(i||(i={}));var u=function(e,t){window.location.href=e+":"+t};function h(e){var t,n;if(!e)return null;if(r().isTencentDocsApp)return null===(n=null===(t=globalThis)||void 0===t?void 0:t.mqq)||void 0===n?void 0:n.invoke("nav","openSchema",{uri:"tel:"+e});var i=document.getElementById("dial-phone");i&&document.body.removeChild(i);var o=document.createElement("a");o.id="dial-phone",o.href="tel:"+e,document.body.appendChild(o),null===o||void 0===o||o.click(),s.A.clickPhoneIcon()}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/xtable-feature/index.js":function(e,t,n){"use strict";n.d(t,{V:function(){return a},w:function(){return s}}),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/feature.js"),o=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/view-constant.js"),r=n("../node_modules/@tencent/xtable/es/xtable-disposed-store.js");function s(e){return void 0===e&&(e={}),function(t){(0,i.L)(e)(t);var n=e,s=n.provide,l=n.views,d=void 0===l?o.x.map((function(e){return e.type})):l;if(s){var c=t.prototype.$onEditorOpen;t.prototype.$onEditorOpen=function(e){var t,n,i;null===c||void 0===c||c.call(this,e),null===(t=this.$onTableOpen)||void 0===t||t.call(this,e,{table:e.getCurrentTable()});var o=null===(n=e.getCurrentView())||void 0===n?void 0:n.type;void 0!==o&&d.includes(o)&&(null===(i=this.$onViewOpen)||void 0===i||i.call(this,e))};var u=t.prototype.$onEditorClose;return t.prototype.$onEditorClose=function(e){var t,n,i;null===u||void 0===u||u.call(this,e),null===(t=this.$onTableClose)||void 0===t||t.call(this,e,{table:e.getCurrentTable()});var o=null===(n=e.getCurrentView())||void 0===n?void 0:n.type;void 0!==o&&d.includes(o)&&(null===(i=this.$onViewClose)||void 0===i||i.call(this,e)),e.xTableDisposedStore.dispose(r.e.$onEditorClose)},a.table.push({provide:t}),d.forEach((function(e){var n=a.view.get(e)||[];n.push({provide:t}),a.view.set(e,n)})),t}}}var a={table:[],view:new Map}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/config/controllers/base.js":function(e,t,n){"use strict";n.d(t,{V:function(){return E}});var i,o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),r=n("./node_modules/tslib/tslib.es6.js"),s=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js"),a=n("../node_modules/@tencent/smartsheet-sdk/es/schema/menu.js");!function(e){e.FIND_REPLACE="smart-sheet|find-replace",e.FIND_REPLACE_SUB_FIND="smart-sheet|find-replace-sub-find",e.FIND_REPLACE_SUB_REPLACE="smart-sheet|find-replace-sub-replace",e.FIND="smart-sheet|find"}(i||(i={}));var l=n("../node_modules/@tencent/smartsheet-sdk/es/schema/toolbar.js"),d=n("react"),c=n.n(d),u=n("../node_modules/@tencent/docs-user-agent/dist/index.js"),h=n.n(u),g=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),f=[{name:l.Ce.SEARCH,type:"icon",hasArrow:!1,tooltip:g.Z.t("search_replace"),icon:c().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT50b29sYmFyX2ZpbmRfcmVwbGFjZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJ0b29sYmFyX2ZpbmRfcmVwbGFjZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTUuOTg5NTkyMzYsNi40ODk1OTIzNiBDOC41MjgwMDAyNiwzLjk1MTE4NDQ2IDEyLjY0MzU3MjYsMy45NTExODQ0NiAxNS4xODE5ODA1LDYuNDg5NTkyMzYgQzE3LjU0MTE2NjUsOC44NDg3NzgzMSAxNy43MDc3MzQ2LDEyLjU3MDI4MjMgMTUuNjgxNjg1LDE1LjEyMTgzODcgTDE4LjA5ODc5NiwxNy41MzgxMzU4IEMxOC4zNDI4NzM3LDE3Ljc4MjIxMzUgMTguMzQyODczNywxOC4xNzc5NDE2IDE4LjA5ODc5NiwxOC40MjIwMTkzIEMxNy44NTQ3MTgzLDE4LjY2NjA5NyAxNy40NTg5OTAyLDE4LjY2NjA5NyAxNy4yMTQ5MTI1LDE4LjQyMjAxOTMgTDE0LjgxNDc3ODUsMTYuMDIyMzU0OCBDMTIuMjYxMDM1MywxOC4yMTQ4MDU5IDguNDA4OTU5NjcsMTguMTAxMzQ3OCA1Ljk4OTU5MjM2LDE1LjY4MTk4MDUgQzMuNDUxMTg0NDYsMTMuMTQzNTcyNiAzLjQ1MTE4NDQ2LDkuMDI4MDAwMjYgNS45ODk1OTIzNiw2LjQ4OTU5MjM2IFogTTYuOTc5NTQxODUsNy40Nzk1NDE4NSBDNC45ODc4Njc5Nyw5LjQ3MTIxNTc0IDQuOTg3ODY3OTcsMTIuNzAwMzU3MSA2Ljk3OTU0MTg1LDE0LjY5MjAzMSBDOC45NzEyMTU3NCwxNi42ODM3MDQ5IDEyLjIwMDM1NzEsMTYuNjgzNzA0OSAxNC4xOTIwMzEsMTQuNjkyMDMxIEMxNi4xODM3MDQ5LDEyLjcwMDM1NzEgMTYuMTgzNzA0OSw5LjQ3MTIxNTc0IDE0LjE5MjAzMSw3LjQ3OTU0MTg1IEMxMi4yMDAzNTcxLDUuNDg3ODY3OTcgOC45NzEyMTU3NCw1LjQ4Nzg2Nzk3IDYuOTc5NTQxODUsNy40Nzk1NDE4NSBaIiBpZD0i5b2i54q2IiBmaWxsPSIjNDY0RDVBIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+"}),shortcut:{win:"Ctrl+F",mac:"⌘+F"}}],m=[{name:a.z.SEARCH,content:g.Z.t("search_replace"),description:(h().isMac?"⌘":"Ctrl")+"+F"}],p=[{name:"smart-sheet|find-replace",text:g.Z.t("search_replace")}],v=[{name:i.FIND_REPLACE,iconClass:"mobile-design-icon icon-menu-search",content:g.Z.t("search_and_replace")},{name:i.FIND_REPLACE_SUB_FIND,content:g.Z.t("search")},{name:i.FIND_REPLACE_SUB_REPLACE,content:g.Z.t("search_and_replace2")},{name:i.FIND,iconClass:"mobile-design-icon icon-menu-search",content:g.Z.t("search")}],I=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/search/search.interface.js"),y=n("../node_modules/@tencent/workbench/lib/esm/decorators/method/toolbar.js"),_=n("../node_modules/@tencent/workbench/lib/esm/decorators/method/menu.js"),b=n("../node_modules/@tencent/workbench/lib/esm/decorators/method/mobile-menu.js"),M=n("../node_modules/@tencent/workbench/lib/esm/decorators/method/mobile-toolbar.js"),C=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/controller.js"),w=n("../node_modules/@tencent/ioc/lib/esm/index.js"),T=function(){function e(e){this.loader=e}var t=e.prototype;return t.handleSearch=function(){this.searchService.show()},t.onHideFind=function(){return this.searchService.canEdit},t.onHideFindReplace=function(){return!this.searchService.canEdit},t.onMobileFind=function(){this.searchService.show(I.U.SEARCH)},t.onMobileReplace=function(){this.searchService.show(I.U.REPLACE)},t.onMobileFindReplace=function(){this.searchService.show(I.U.REPLACE)},(0,o.Z)(e,[{key:"searchService",get:function(){return this.loader.instance}}]),e}();(0,r.__decorate)([(0,y.o)(l.Ce.SEARCH,"onClick"),(0,_.v)(a.z.SEARCH,"onClick"),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],T.prototype,"handleSearch",null),(0,r.__decorate)([(0,b.n)(i.FIND,"shouldHide"),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],T.prototype,"onHideFind",null),(0,r.__decorate)([(0,b.n)(i.FIND_REPLACE,"shouldHide"),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],T.prototype,"onHideFindReplace",null),(0,r.__decorate)([(0,b.n)(i.FIND,"onClick"),(0,b.n)(i.FIND_REPLACE_SUB_FIND,"onClick"),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],T.prototype,"onMobileFind",null),(0,r.__decorate)([(0,b.n)(i.FIND_REPLACE_SUB_REPLACE,"onClick"),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],T.prototype,"onMobileReplace",null),(0,r.__decorate)([(0,M.n)("smart-sheet|find-replace","onClick"),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],T.prototype,"onMobileFindReplace",null);var E=[T=(0,r.__decorate)([(0,C.Q)({adapters:[s.q],menuItems:m,toolbarItems:f,mobileMenuItems:v,mobileToolbarItems:p}),(0,r.__param)(0,(0,w.aN)(I.x)),(0,r.__metadata)("design:paramtypes",[Object])],T)]},"../node_modules/@tencent/smartsheet-sdk/es/workbench/config/features/base.js":function(e,t,n){"use strict";n.d(t,{$:function(){return T}});var i=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/xtable-feature/index.js"),a=n("../node_modules/@tencent/ioc/lib/esm/index.js"),l=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),d=n("../node_modules/@tencent/xtable/es/event/index.js"),c=n("../node_modules/@tencent/xtable/es/xtable-disposed-store.js"),u=function(){function e(){var e=this;this.handleViewChange=function(t){var n=t.editor,i=t.fromTable,o=t.fromView,r=t.toTable,s=t.toView;(null===i||void 0===i?void 0:i.id)!==(null===r||void 0===r?void 0:r.id)&&(i&&(e.runTableLifeCycle("$onTableClose",n,{table:i}),n.xTableDisposedStore.dispose(c.e.$onTableClose)),r&&e.runTableLifeCycle("$onTableOpen",n,{table:r})),(null===o||void 0===o?void 0:o.id)===(null===s||void 0===s?void 0:s.id)&&(null===i||void 0===i?void 0:i.id)===(null===r||void 0===r?void 0:r.id)||(o&&(e.runViewLifeCycle("$onViewClose",n,o),n.xTableDisposedStore.dispose(c.e.$onViewClose)),s&&e.runViewLifeCycle("$onViewOpen",n,s))},this.runEditorFocusBlurLifeCycle=function(e,t){l.k.info("runLifeCycle",e),s.V.table.forEach((function(n){a.Am.emitAt(e,n.provide,t)}))},this.runTableLifeCycle=function(e,t,n){l.k.info("runLifeCycle",e),s.V.table.forEach((function(i){a.Am.emitAt(e,i.provide,t,n)}))}}var t=e.prototype;return t.$onEditorOpen=function(e){var t=this;e.xTableDisposedStore.get(c.e.$onEditorClose).add(e.onRendererViewChanged(this.handleViewChange)),d.e.onActiveEditorSwitched.event((function(n){var i=n.fromEditor,o=n.toEditor;i&&(t.runEditorFocusBlurLifeCycle("$onEditorBlur",i),e.xTableDisposedStore.dispose(c.e.$onEditorBlur)),o&&t.runEditorFocusBlurLifeCycle("$onEditorFocus",o)}))},t.runViewLifeCycle=function(e,t,n){l.k.info("runLifeCycle",e),(s.V.view.get(n.type)||[]).forEach((function(n){a.Am.emitAt(e,n.provide,t)}))},e}();u=(0,o.__decorate)([(0,s.w)({adapters:[r.q]})],u),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.map.js");var h=n("../node_modules/@tencent/docs-design-resources/pc/svg/toolbar_smartsheet_excel.svg"),g=n("../node_modules/@tencent/dui/lib/components/Modal/index.js"),f=n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js"),m=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/view-report.service.js"),p=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/events/index.js"),v=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/behavior-apply.interface.js"),I=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/request-listener-manager.js"),y=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/view-constant.js"),_=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/view-switch.interface.js"),b=n("../node_modules/@tencent/workbench/lib/esm/services/drawer/drawer-service.js"),M=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),C=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),w=function(){function e(e,t){var n=this;this.drawerService=e,this.loader=t,this.viewInfoMap=new Map,this.listenerEvent=null,this.requestListenerManager=new I.k,this.tableLastViewManager=new Map,this.onRequestApplyListener=function(e){var t=e.mutations;n.requestListenerManager.handleMutationList(t).forEach((function(e){return n.requestListenerManager.handleMutation(e,!0)}))},this.delViewHandler=function(e){var t=e,i=t.tableId,o=t.viewId;if(n.getCurrentTableId()===i){var r=n.tableLastViewManager.get(i);if((null===r||void 0===r?void 0:r.viewId)===o){var s=t.delta.index;n.switchOtherView({tableId:i,viewIndex:s}),3===e.operationType&&f.default.show({message:M.Z.t("view_del_by_collab",{title:r.viewName}),type:"info"})}}},this.insertViewHandler=function(e){var t=e;if(2===t.operationType){var i=n.getCurrentTableId(),o=t.tableId,r=t.delta.viewId;i!==o?n.editor.getCore().tableCacheService.setItem({tableId:o,key:C.T9.LAST_VIEW_ID,value:r}):n.switchView({tableId:o,viewId:r})}},y.x.forEach((function(e){n.viewInfoMap.set(e.type,e)})),this.registerRequestApplyListener()}var t=e.prototype;return t.$onViewOpen=function(e){var t;this.editor=e,this.editorHelper=e,this.markCurrentView(),null===(t=this.listenerEvent)||void 0===t||t.dispose(),this.listenerEvent=this.editor.getBehaviorApi().addRequestApplyListener(this.onRequestApplyListener)},t.$onViewClose=function(){this.drawerService.closeRightDrawer(!0)},t.isTableCanEdit=function(e){var t,n,i=this.getTableByTableId(e);return null!==(n=null===(t=null===i||void 0===i?void 0:i.getPermissionStatus())||void 0===t?void 0:t.canEdit)&&void 0!==n&&n},t.isTableCanAddView=function(e){var t=this.getTableByTableId(e);return!(!t||!this.isTableCanEdit(e))&&t.getViewCount()<C.gU.MAXIMUM_VIEW_LIMIT},t.isTableCanDeleteView=function(e){var t=this.getViewCountByTableId(e);return!!t&&t>1},t.getCurrentTableId=function(){var e,t;return null===(t=null===(e=this.editor)||void 0===e?void 0:e.getCurrentTable())||void 0===t?void 0:t.id},t.getCurrentViewName=function(){var e;return null===(e=this.getCurrentView())||void 0===e?void 0:e.getTitle()},t.getCurrentViewId=function(){var e;return null===(e=this.getCurrentView())||void 0===e?void 0:e.id},t.getCurrentViewIcon=function(){var e,t=null===(e=this.getCurrentView())||void 0===e?void 0:e.type;if(t)return this.getViewIconByViewType(t)},t.getViewInfoListByTableId=function(e){var t,n,i=this,o=null===(t=this.getTableByTableId(e))||void 0===t?void 0:t.getAllViews();return null!==(n=null===o||void 0===o?void 0:o.map((function(e){return{id:e.id,type:e.type,name:e.getTitle(),icon:i.getViewIconByViewType(e.type)}})))&&void 0!==n?n:[]},t.getViewIdListByTableId=function(e){var t=this.getTableByTableId(e);return null===t||void 0===t?void 0:t.getViewIdList()},t.getViewCountByTableId=function(e){var t=this.getTableByTableId(e);if(t)return t.getViewCount()},t.getTalbeLastViewId=function(e){var t;return null===(t=this.tableLastViewManager.get(e))||void 0===t?void 0:t.viewId},t.insertView=function(e){var t,n,i,o=e.tableId,r=e.viewType,s=this.getViewCountByTableId(o);if(void 0!==s){var a=null===(n=null===(t=this.editor)||void 0===t?void 0:t.getBehaviorApi())||void 0===n?void 0:n.insertView({tableId:o,delta:{index:s,type:r}});(null===a||void 0===a?void 0:a.isSuccess)&&(this.switchViewByIndex({tableId:o,viewIndex:s}),p.M.onViewCreated.fire({viewId:null===(i=a.data)||void 0===i?void 0:i.viewId}))}},t.copyView=function(e){var t,n,i=e.tableId,o=e.viewId,r=this.getViewIndexInTable(e);if(-1!==r){var s=null===(n=null===(t=this.editor)||void 0===t?void 0:t.getBehaviorApi())||void 0===n?void 0:n.copyView({tableId:i,viewId:o});(null===s||void 0===s?void 0:s.isSuccess)&&this.switchViewByIndex({tableId:i,viewIndex:r+1})}},t.switchViewByIndex=function(e){var t,n=null===(t=this.getViewByIndex(e))||void 0===t?void 0:t.id;n&&this.switchView({tableId:e.tableId,viewId:n})},t.switchView=function(e){var t,n=this.getCurrentTableId(),i=this.getCurrentViewId();n===e.tableId&&i===e.viewId||null===(t=this.editor)||void 0===t||t.activeStateService.switchView(e)},t.moveView=function(e){var t,n=e.tableId,i=e.viewId,o=e.source,r=e.target;null===(t=this.editor)||void 0===t||t.getBehaviorApi().moveView({tableId:n,viewId:i,delta:{source:o,target:r}})},t.changeViewName=function(e){var t,n,i=e.viewName,o=e.tableId,r=this.getViewByIndex(e),s=null===r||void 0===r?void 0:r.id;if(s){if(r.getTitle()===i)return;if(i.length>_.C)return void f.default.show({message:M.Z.t("view_name_length_over",{length:_.C}),type:"info"});var a=null===(n=null===(t=this.editor)||void 0===t?void 0:t.getBehaviorApi())||void 0===n?void 0:n.setViewAttributes({tableId:o,viewId:s,delta:{title:i}});this.loader.instance.handleMutationError(a)}},t.showDeleteViewModal=function(e){var t,n,i=this,o=e.tableId,r=null===(t=this.getViewByIndex(e))||void 0===t?void 0:t.id;if(r){var s=null===(n=this.getView({viewId:r,tableId:o}))||void 0===n?void 0:n.getTitle();g.default.confirm({title:M.Z.t("del_view"),content:M.Z.t("confirm_del_title",{title:s,type:M.Z.t("view")}),okText:M.Z.t("del"),zIndex:1e4,onOk:function(){return i.deleteView({viewId:r,tableId:o})}})}},t.getView=function(e){var t,n=e.tableId,i=e.viewId;return null===(t=this.getTableByTableId(n))||void 0===t?void 0:t.getViewByViewId(i)},t.deleteView=function(e){var t,n,i,o=this.getCurrentViewId(),r=e.tableId,s=e.viewId,a=this.getViewIndexInTable(e),l=null===(n=null===(t=this.editor)||void 0===t?void 0:t.getBehaviorApi())||void 0===n?void 0:n.deleteView({tableId:r,viewId:s}),d=null===(i=this.getViewByIndex({tableId:r,viewIndex:a}))||void 0===i?void 0:i.type;m.C.delView(d),l.isSuccess&&o===s&&this.switchOtherView({tableId:r,viewIndex:a})},t.getCurrentView=function(){var e;return null===(e=this.editor)||void 0===e?void 0:e.getCurrentView()},t.getViewIconByViewType=function(e){var t,n=null===(t=this.getViewInfoByViewType(e))||void 0===t?void 0:t.icon;return n||h},t.getViewInfoByViewType=function(e){return this.viewInfoMap.get(e)},t.getViewByIndex=function(e){var t,n=e.tableId,i=e.viewIndex,o=this.getTableByTableId(n);return null===(t=null===o||void 0===o?void 0:o.getAllViews())||void 0===t?void 0:t[i]},t.getViewIndexInTable=function(e){var t,n,i=e.tableId,o=e.viewId,r=this.getTableByTableId(i);return null!==(n=null===(t=null===r||void 0===r?void 0:r.getViewIdList())||void 0===t?void 0:t.indexOf(o))&&void 0!==n?n:-1},t.getTableByTableId=function(e){return this.editor.getCore().base.getTableByTableId(e)},t.markCurrentView=function(){var e=this.getCurrentTableId(),t=this.getCurrentView();e&&t&&this.tableLastViewManager.set(e,{viewId:t.id,viewType:t.type,viewName:t.getTitle()})},t.switchOtherView=function(e){var t=e.tableId,n=e.viewIndex;if(void 0===n){var i=this.getCurrentViewId();n=void 0===i?0:this.getViewIndexInTable({tableId:t,viewId:i})}0!==n&&(n-=1),this.switchViewByIndex({tableId:t,viewIndex:n})},t.registerRequestApplyListener=function(){this.requestListenerManager.register(3007,this.delViewHandler),this.requestListenerManager.register(3006,this.insertViewHandler)},e}(),T=[u,w=(0,o.__decorate)([(0,s.w)({adapters:[r.q],provide:_.m,views:y.x.map((function(e){return e.type}))}),(0,o.__param)(0,(0,a.tB)(b.zv)),(0,o.__param)(1,(0,a.aN)(v.y)),(0,o.__metadata)("design:paramtypes",[b.zv,Object])],w),i.BehaviorApplyService]},"../node_modules/@tencent/smartsheet-sdk/es/workbench/config/services/base.js":function(e,t,n){"use strict";n.d(t,{i:function(){return i}}),n("../node_modules/@tencent/smartsheet-sdk/es/workbench/edit-status/edit-status.service.js");var i=[]},"../node_modules/@tencent/smartsheet-sdk/es/workbench/copy-paste/utils/parser.js":function(e,t,n){"use strict";n.d(t,{k$:function(){return l},qs:function(){return s},um:function(){return a}}),n("../node_modules/core-js/modules/es.string.starts-with.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@tencent/xtable-common/es/image/index.js");function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=function(e){var t,n=[];if(!(null===(t=null===e||void 0===e?void 0:e.clipboardData)||void 0===t?void 0:t.items))return n;for(var i=e.clipboardData.items,o=0;o<i.length;o++){var r=i[o];if(r.type.startsWith("image")){var s=r.getAsFile();s&&n.push(s)}}return n},a=function(e){var t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"),n=[];t.length>1&&""===t[t.length-1]&&t.pop();for(var i,r=o(t);!(i=r()).done;){var s=i.value;n.push(s.split("\t"))}return n},l=function(e){return new Promise((function(t){var n=new Image;n.src=e,n.setAttribute("crossOrigin","Anonymous"),n.onload=function(){var e,o=document.createElement("canvas");o.width=n.width,o.height=n.height,null===(e=o.getContext("2d"))||void 0===e||e.drawImage(n,0,0,n.width,n.height),o.toBlob((function(e){e&&(0,i.Ix)({imageBlob:e,ratio:1,successCallback:function(e,n){t(n)},errorCallback:function(){t("")}})}))}}))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/edit-status/edit-status.interface.js":function(e,t,n){"use strict";var i;n.d(t,{$:function(){return o},R:function(){return i}}),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),function(e){e.DEFAULT="default",e.READ="read",e.QUICK_EDIT="quick-edit",e.STABLE_EDIT="stable-edit"}(i||(i={}));var o=Symbol.for("feature: IEditStatusService")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/edit-status/edit-status.service.js":function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/lodash/isEqual.js"),r=n.n(o),s=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),a=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/edit-status/edit-status.interface.js"),l=n("../node_modules/@tencent/workbench/lib/esm/decorators/class/service.js"),d=function(){var e=this;this.editCellChangeEvent=new s.Emitter,this.status=a.R.DEFAULT,this.isInputting=!1,this.editCell=null,this.getEditCell=function(){return e.editCell},this.setEditCell=function(t){r()(t,e.editCell)||(e.editCell=t,e.editCellChangeEvent.fire())},this.getIsInputting=function(){return e.isInputting},this.getIsEditInputting=function(){return e.isInputting&&e.isEditing()},this.setInputting=function(t){e.isInputting!==t&&(e.isInputting=t,e.editCellChangeEvent.fire())},this.getStatus=function(){return e.status},this.switchStatus=function(t){e.status!==t&&(e.status=t,e.editCellChangeEvent.fire())},this.isEditing=function(t){return void 0===t&&(t=e.status),t===a.R.QUICK_EDIT||t===a.R.STABLE_EDIT},this.isReading=function(t){return void 0===t&&(t=e.status),t===a.R.READ}};d=(0,i.__decorate)([(0,l.t)({provide:a.$})],d)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field-edit/field-edit.interface.js":function(e,t,n){"use strict";n.d(t,{L:function(){return s},m:function(){return r}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("feature: IFieldEditFeature");o.Ln.merge(r,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_field-edit_field-edit_feature_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/field-edit/field-edit.feature.jsx"));case 2:return t=e.sent,i=t.FieldEditFeature,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}});var s=Symbol.for("service: IFieldEditService")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field-edit/field-type-editor/styled.js":function(e,t,n){"use strict";n.d(t,{NT:function(){return l},Ui:function(){return d},hp:function(){return a}});var i,o,r=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),s=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=284,l=s.ZP.div(i||(i=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  height: 22px;\n  line-height: 22px;\n\n  .option-title {\n    margin-left: 8px;\n  }\n"]))),d=s.ZP.div(o||(o=(0,r.Z)(["\n  padding: 0 16px 16px 16px;\n  width: ","px;\n  box-shadow: 0 6px 32px 2px rgba(68, 73, 77, 0.16), 0 4px 6px 2px rgba(0, 0, 0, 0.04);\n  border: solid 1px rgba(0, 0, 0, 0.04);\n  border-radius: 4px;\n  background-color: white;\n  box-sizing: border-box;\n  color: #1f1f1f;\n\n  .editor-title {\n    margin-top: 16px;\n    line-height: 30px;\n    font-size: 12px;\n    color: #999999;\n  }\n\n  .button-group {\n    display: flex;\n    flex-direction: row-reverse;\n    margin-top: 16px;\n\n    .cancel-button {\n      margin-right: 10px;\n      border: 1px solid #eee;\n    }\n  }\n"])),a)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field-operation/field-operation.interface.jsx":function(e,t,n){"use strict";n.d(t,{Qd:function(){return i},sA:function(){return a},wS:function(){return s}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ioc/lib/esm/index.js");!function(e){e.LEFT="left",e.RIGHT="right"}(i||(i={}));var s=Symbol.for("service: IFieldOperationService");r.Ln.merge(s,{useFactory:function(){return(0,o.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_field-operation_field-operation_service_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/field-operation/field-operation.service.jsx"));case 2:return t=e.sent,i=t.FieldOperationService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}});var a=Symbol.for("feature: IFieldOperationFeature")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field-setting/field-setting.feature.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,{FieldSettingFeature:function(){return re}}),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("react"),s=n.n(r),a=n("../node_modules/@tencent/smartsheet-sdk/es/editor-adapter/base.js"),l=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),d=new(function(){function e(){var e=this;this.moduleName="col_setting",this.toggle=function(t,n){n?e.hiddenCol(t):e.displayCol(t)},this.displayCol=function(t){e.report("display_col",{ver5:null!==t&&void 0!==t?t:0})},this.hiddenCol=function(t){e.report("hidden_col",{ver5:null!==t&&void 0!==t?t:0})},this.report=function(t,n){void 0===n&&(n={}),l.E.metricsTdw(Object.assign(Object.assign({},n),{action:t,module:e.moduleName}))}}var t=e.prototype;return t.clickColSetting=function(){this.report("cli_col_setting")},t.moveCol=function(){this.report("move_col")},e}()),c=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/constant/right-drawer-name.js"),u=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/request-listener-manager.js"),h=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/service/right-drawer.service.interface.js"),g=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/xtable-feature/index.js"),f=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),m=n("../node_modules/react-dnd/dist/esm/core/DndProvider.js"),p=n("../node_modules/react-dnd-html5-backend/dist/esm/index.js"),v=n("../node_modules/@tencent/docs-design-resources/pc/svg/toolbar_add_photo.svg"),I=n("../node_modules/@tencent/dui/lib/components/Divider/index.js"),y=n("../node_modules/@tencent/dui/lib/components/Select/index.js"),_=n("../node_modules/@tencent/dui/lib/components/Switch/index.js"),b="DFQZ5vhs_2CONDjNcOuL",M="o7Bao0VkWykZSPScyc7M",C="uUuse2KbWUMIkLHkxCOB",w="vwcYcT36QCrw1TU5Y7pk",T="zLCDkQengxD9XE5c202h",E="UHYDm1gSoNOvQnzsUqK3",j="dXwayQ77VZ1NZqTpvqdQ",A=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js");function x(e){var t=(0,r.useState)(e.isShowFieldTitle),n=t[0],i=t[1],o=(0,r.useState)(e.fieldId),a=o[0],l=o[1];return(0,r.useEffect)((function(){l(e.fieldId)}),[e.fieldId]),(0,r.useEffect)((function(){i(e.isShowFieldTitle)}),[e.isShowFieldTitle]),s().createElement("div",{className:b},s().createElement("div",{className:M},s().createElement("div",{className:C},A.Z.t("cover_content")),s().createElement(y.default,{onChange:function(t){"string"===typeof t&&(l(t),e.onChangeCoverFieldId(t))},value:a,className:w},s().createElement(y.default.Option,{key:"",value:""},s().createElement("div",{className:T},s().createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAAEi6oPRAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAAK7UlEQVR4Ae1ba2wcVxW+d9aPtUvcxEnJw4UQCCL0R0HQqiUVj6hQCRWFAMLlBxRKS61SUj+a4LWTtRvb8a5JiNcktLglpCAkwEI0AcQPCBUV4qUIBPlRKhKoAtiOUZxQJ3575/Kdmb3ju7MzszOz6+QHM5J97z33nHO/PXMfZ86cYaxcF1cVHegfFDFNu0fX9bsFY1/t7mzN62fEQH+qUE//4Bi1NUmEyHaSVBkhsTGPCY33EMHOmMdEGIhAl2TkTNtL7TxghEEOQQxdnc2HielGXvLny7IolgOpzJE8pp5U5kd5BFvDtDhnF2x052Zf/9Bn1R4VV54xzQ4+xZioK5gBqoYVredBchqJrCOEuJ9r/OmuREurE48rTf3xdiYylFe/xa8yqXWLIVfx6qMlNW8XoLaT0IH+zGtOvBbNSUh2qn1qXfYXlMRUMCdzXNSHG6AXCEWE62cBzyVyID34Ya7zo4ILsaq64fa2tsZZN2iOinr6M6cFE/dyzl58w4bV94+PT79xiS+9jDUXi8Xjt+5ve2zUTaFFN+aQ7cCwOlEx5lF/5i6VRnXrMKHG4ODgaio555NA9Q+q2y/aqID293Z6nqKpWXaFGLs6WtbhAKlzU6Yx7fPoe0FVlqdI7fBSluxsPgFUu1R+V0XE5KVMVUJ1T0XE4FdZgaKRkZEYKVAvuzKs/r/hhuxWeQrqdHsLiDkCFFyiG+DEU4AIm/xnnBhJV01F/WYYeYvTWeU4s+nn/fX86JITMiclTnwRLbLAjbOA47T2gpNOD9+8IGb/js17rRcf9WGtJeFQ9RXjU/t9A1IXMde0B7oSzSOqInud1uor50cvYBtpoD7aCADuu3Y+e7soIGw9xvEmBTnjr3Z1trxZtv2Ufemh7Vld/w3xvn1rQ0VjY2PWTc4TEO2FdGu0WOyTyfYnfkhKJC0MMGnlKl5d39HxxStOoFwBkefAdPYzOvi7OlrvtQuHBSZBuW2xBZu+NbBgx6hOXohFUyp0NBlKcaTTIG7HuiLiq+oOiME+uMgl8tJUbmCugMjBIyDkn3kBkn1+gA0PD9cSPw55xwcUo08qdCp70pn9Qhe9mGijXZ2ttzrxuNHsc+zQoe/cNLM4eY343eYP9blOauqkq+/IMw3Zubl/Ux3M2wHsd1T3e0lgBj9nl7o7Wm/xki0KSApj0t6lOrDkg5L7KPvVkm7NxOXZP2PLeCvRyTE2/DOVyaXuG5Aqn0o9vWZRLHzL7stKntwc2QMQxkqV9KiMLBBZILJAZIEQFgi1U9M4xvFwZa4Xx8PdnIl34ICYA/kMAiTPJDtbfhwCiyESGFBvanCfLljRJwl4mlfX19duaGpqmgkCztUfsisZGDi6iTxDBcyCxnkiVlX5JnIn4rG6Oo2zHfiFvyZZIdiqi5Mz05A5Y9fl1fZlod7UULcu9KdIEQ7Oc8lE8zaUnrHU3oHMw3pWfNMcnM91d7bUmHXv/0UB9aUyD2SF+D6p0TTtSwDzdW+V+b3wh+Ywz6ppjvkB5XnLoIhLMDQM3kMdS6eHPH3sfDhG0CtuuiMi7uf2eQLqSQ39lwbABH22opJjJTE2r+sXwoAiWVx3SL/abBb+dwVEPjC9kyERPJc17dvbcrYUUFqMP0K6Ji7PXKTS7XIFNLs0eZKEONe+IIVLAZVsbzlOemj1SX1OpSsgCH6QBLo6mnMrxRQvBZTcEnr7MzudwBDNFZCbANHDgsJc7CJ5wdljVDpdoQCRojCgqrS6P+ZA3OkEhmhFAHHjwc5NOCio9vaHr5q6RNxNZxFA4nVugpIeBFTf4WObSU4w/hcpby+LALKzO7f9ghKLS58iDdgoC96YSM0egLhxSh8+PLxOMnuVfkDpQvSQjvVr4kk3Xa6AOBePk9D0wuxLbsJ2uhcoHEM0VhXJeLkkroCwOz9Pwrjjtx05MuLrpCZuN1C96aFXqB8uyn4q3S5XQCSAXbqJyqtzo4GcLDsogHkcFjICD8mO1oOk0+3yBIRd+lnsruMkjOjHf9yUONFVUOQlEE88VmGEiJ34Jc0TEDEhHrSJSkQ6biGPMcjtyy6Z85DkNY0/2t6+28iMobbbVdRBk4Jqigtu5ss3VdW8f8+epkuyXy3htjwihP6cRdO0Xd2J5lNW26PiGxDpwECPYqDhQn20ozttonwKt3019h3X94J2XYEASeGe1ODn4EzClRVGEFPSZYlD9HRNxdpde/c+OC1pURlZILJAZIHIApEFIgtEFogsEFmgVAuEcl7DDErBwdmlyw/hwWUnXmy/z4zJBtHEZwD254yLU5Ws+pRb1kgQjX54V8xA9BCP/Jwn8SC3D3HBm/2AwXMVst4pWOX06FKoAeDHkZH01La3bDzulftTKOmfUnYDIaX7E/iB38BMKQjf4LnsHNfYwOtX13zPK/LhBJ/CQTOLMzvx2PUk9N9m5zGMxfjHkGT1B3tfKe2yGUh9L5MPiD9XW1nfWu5nRQotXJ0fO4h4d8HHC37T3PJxOrdKNhC9PZvXs2expAqSByk7rUrjH0gkmv/pPHx5qJRqp+viJMVlpEaaUVo8fqevTHQp5FCWZKCe/qE9gumHVL1IbGzHXf2yarDrZSgz8sHy8oYo9EfRNhVjkHpoA8kUMGswzs7XVqx9p1xKBw9lbs8usRevt6Fo6V2bGz2HIJQVMgyT9ip/VygDIZC6G7HLr1lKPN4F3whDmWnyY2fVzRxxs4eWo9sSefEysIFyKW6XMTPwbtl4UzG/vr6mvtipdL0NZZ56sxeBM/fJBJ9ZFd+0zutzGydzFQ1M24UmzAQPwziGgZAYWcw4xEeRc8oVpDfHOO4niYZNdQu91qbE2aCvtkne6zJi1NgLl3lE7bWFsf7ltr9aYANhAza+MJXqeWWFkeUg28XK62moClb5UxUPZtNH1LafeuAlhpPiGjxj5BTQxaeQvuHTSzYl7P9Xeunh60e81rU88wUk7liz347FqR18Bpl5Uzldom5g4LhnXoLToCptJWfUiRMn8K7bMg4eAfm/1LH91EMYiJ1RFS/oU+9W22HrK2Go0Ympd+Xh4QwnW7ArsIEo404dAsutR22XWi+noZCS1qviwYejyy8Q1Q6PeuA9iHTh1HkBJ5D1kaRX5rvH2L66wu5R+fl32C0Z/wUeZO/zNajCFMpARvY9m7+A2WPtP5S8JfOlFP1lqwYxVE96qFHo+g/k4ORW0EeZ0suXdD9lKAORYsNhnJw5D5d+ozUQ54PdHS1tVnsFKsUMhVMLz13CSpCDB/1aFa/dnEg0eX/L74I1tIFIX+7LV8r5uUPqx92ah6+0I+iXMFLeb+lkKLssltUvkx3N9wGTZzqsXU5tl2Qgqcj8Gof9CncOx6p5kaE0wZv2dzZ/W9JWouxNZdqRD5VWdWNsxNW0j3YnnviJSg9TL4uB5MB4wv+00BlOimVDUR8GGeUx3v22LZueLzU0Cm9Y6/vK0Y/rejaFZ5WtcmxjHBgGS6opmWgJfFqpetR6WQ0kFec+PKOEWWvpyT4qcYezWIa/RfUkftCfYqJyLBarGZfJjOTgjU5Or2dL2QYY5L04MXH68HtQd/SCaSlVx2IP+klCUnH4qa+IgdSBzS8YZtvMINryqafyBK3DwJOYlpkqVnM07Obrd8wVN5ATEApqTc+NfQjJizuwTLZhhmzFLFiDGbIKM2oRJ+ME2hOQvYjp9iqilqc3rKl9yU/UwGm8iBZZILJAZIHIApEF/j8t8D//xx3kuZpZYgAAAABJRU5ErkJggg==",alt:"NO_COVER",className:E}),s().createElement("span",{className:j},A.Z.t("no_cover")))),e.fields.map((function(e){return s().createElement(y.default.Option,{key:e.getId(),value:e.getId()},s().createElement("div",{className:T},s().createElement("img",{src:v,alt:e.getTitle(),className:E}),s().createElement("span",{className:j},e.getTitle())))})))),s().createElement(I.default,null),s().createElement("div",{className:M},s().createElement("div",{className:C},A.Z.t("show_content_title")),s().createElement(_.default,{checked:n,onChange:function(t){i(t),e.changeShowFieldTitle(t)}})))}var D,S=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/hooks/use-drag-drop.js"),N=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/styles/drag.module.css"),R="wIHBbo7TNDjYflt1PSjS",O="Nd1eW_0wRDooAx1xgEK2",L="EdVac7S5BJjPUJYBRyWX",k="PJst5mXaPCrb4NKLAXVD",z="sc5tnOzcXsN7eR__DE2g",P="FeHJA_QyHd01DnAoEwQL",F="njE_BgN7gqH15RBljl8f",U="J4dt0t03lp_t0JZAYmw5",B="lclA6KtjauXIU2mg5cT0",W=function(e){var t=e.id,n=e.title,i=e.hidden,o=e.icon,a=e.index,l=e.frozen,d=e.label,c=(0,r.useRef)(null),u=(0,r.useContext)(Q),h=u.fieldSettings,g=u.prevFieldSettings,f=u.toggleFieldSetting,m=u.dropFieldSetting,p=u.updateFieldSettings,v=(0,r.useCallback)((function(e,t,n){var i=h.find((function(t){return t.id===e}));m(i,n)}),[m,h]),y=(0,S.W)({index:a,id:t,frozen:l,type:"field-setting",onDrop:v,dndOptions:h,originOptions:g}),b=y.handlerId,M=y.isDragging,C=y.dragRef,w=y.dragPreview,T=y.dropRef,E=y.sortedOptions,j=(0,r.useCallback)((function(){f(e)}),[e,f]);return(0,r.useEffect)((function(){p(E)}),[E,p]),T(c),w(c),s().createElement("div",{style:{position:"relative"}},s().createElement(I.default,{className:N.Z.dragDivider,style:{opacity:M?1:0}}),s().createElement("div",{className:M?B:R,ref:c,"data-handler-id":b},s().createElement("div",{className:P,ref:C}),s().createElement("div",{className:O},s().createElement("div",{className:U},o),s().createElement("div",{className:L},n),s().createElement("div",{className:k},d)),s().createElement(_.default,{className:z,checked:!i,onChange:j})))},G=function(e){var t=e.id,n=e.title,i=e.icon;return React.createElement("div",{className:R,key:t},React.createElement("div",{className:F}),React.createElement("div",{className:O},React.createElement("div",{className:U},i),React.createElement("div",{className:L},n)),React.createElement(_.default,{className:z,disabled:!0,checked:!0}))},Z=function(){var e=(0,r.useContext)(Q).fieldSettings;return s().createElement(s().Fragment,null,e.map((function(e,t){return function(e,t){return e.frozen?s().createElement(G,Object.assign({key:e.id},e,{index:t})):s().createElement(W,Object.assign({key:e.id},e,{index:t}))}(e,t)})))},H=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),Y="hq8IcvVf4TjDRrad2uBw",V="G4lDftJa7YcbyjjeuiaB",Q=(0,r.createContext)(null),K=(0,r.forwardRef)((function(e,t){var n=e.fieldSettings,i=e.onToggleField,o=e.onMoveField,a=e.minVisibleNum,l=(0,r.useState)(n),d=l[0],c=l[1],u=(0,r.useState)(e.isShowFieldTitle),h=u[0],g=u[1],v=(0,r.useState)(n),I=v[0],y=v[1],_=(0,r.useState)(e.coverFieldId),b=_[0],M=_[1];(0,r.useEffect)((function(){M(e.coverFieldId)}),[e.coverFieldId]);var C=(0,r.useCallback)((function(e){e.filter((function(e){return!e.hidden})).length<a?H.k.error("The visible field can't be less than "+a):c(e.map((function(e,t){return Object.assign(Object.assign({},e),{index:t})})))}),[a]),w=(0,r.useCallback)((function(e){var t=(0,f.Z)(d);t[e.index].hidden=!e.hidden,C(t),i(e.id,!e.hidden)}),[d,C,i]),T=(0,r.useCallback)((function(e,t){o(e.id,t),y(d)}),[d,o]),E=(0,r.useCallback)((function(){return s().createElement(m.W,{backend:p.PD},s().createElement("div",{className:V},s().createElement(Z,null)))}),[]),j=(0,r.useCallback)((function(e){c(e)}),[]);return(0,r.useEffect)((function(){c(n)}),[n]),(0,r.useEffect)((function(){g(e.isShowFieldTitle)}),[e.isShowFieldTitle]),(0,r.useImperativeHandle)(t,(function(){return{updateFieldSettings:function(e){c(e)},updateCardCoverFieldId:function(e){M(e)}}}),[c]),s().createElement(Q.Provider,{value:{fieldSettings:d,prevFieldSettings:I,toggleFieldSetting:w,dropFieldSetting:T,updateFieldSettings:j}},s().createElement("div",{className:Y},e.showImageCover&&s().createElement(x,{fields:e.imageFields,fieldId:b,isShowFieldTitle:h,onChangeCoverFieldId:e.onChangeCoverFieldId,changeShowFieldTitle:e.changeShowFieldTitle}),E()))})),X=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field-setting/field-setting.interface.js"),J=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/styles/field-icon.style.js"),q=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field.pc.interface.js"),$=n("../node_modules/@tencent/ioc/lib/esm/index.js"),ee=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),te=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),ne=n("../node_modules/@tencent/xtable-render/es/report/kanban-gallery-report.service.js");function ie(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var re=D=function(){function e(e,t){var n=this;this.fieldService=e,this.rightDrawerService=t,this.requestListenerManager=new u.k,this.listenerEvent=null,this.ref=s().createRef(),this.toggleDrawer=function(){var e=n.getDrawerContentProps();e&&n.rightDrawerService.toggle(e)},this.$onViewOpen=function(e){n.editor=e,n.registerRequestApplyListener(),n.listenerEvent=n.editor.getBehaviorApi().addRequestApplyListener(n.onRequestApplyListener)},this.$onViewClose=function(){var e;null===(e=n.listenerEvent)||void 0===e||e.dispose(),n.listenerEvent=null},this.getDrawerContentProps=function(){var e,t=n.editor.getCurrentView(),i=n.editor.getCurrentTable();if(!t||!i)return H.k.error("Can't get current table"),null;var o=n.getFieldSettings();return{name:c.o.FIELD_SETTING,title:n.getTitle(),container:s().createElement(K,{maxVisibleNum:6,minVisibleNum:1,fieldSettings:o,onToggleField:n.handleToggleField,onMoveField:n.handleMoveField,showImageCover:n.getShowImageCover(),imageFields:n.getImageFields(),coverFieldId:n.getCoverFieldId(),onChangeCoverFieldId:n.onChangeCoverFieldId,changeShowFieldTitle:n.changeShowFieldTitle,isShowFieldTitle:null===(e=n.getCardConfig())||void 0===e?void 0:e.isShowFieldTitle,ref:n.ref})}},this.getFieldSettings=function(){var e=n.editor.getCurrentView(),t=n.editor.getCurrentTable(),i=[];if(!e||!t)return i;for(var o,r=e.properties.fieldIds||[],a=("getFrozenFieldCount"in e?e.getFrozenFieldCount():0),l=0,d=ie(r);!(o=d()).done;){var c=o.value,u=t.getFieldByFieldId(c);if(u){var h=u.getId(),g=n.fieldService.getFieldFeature(u.getType()).getIconComponent();i.push({id:h,index:l,title:u.getTitle()||"",hidden:e.isFieldHidden(c),fieldType:(null===u||void 0===u?void 0:u.getType())||ee.f.TEXT,icon:s().createElement(g,Object.assign({},J.y)),frozen:n.isFrozenOrPrimary(c,a,l),label:n.getFieldLabel(h)}),l+=1}}return i},this.handleToggleField=function(e,t){var i,o;void 0===t&&(t=!0);var r=n.getFieldSettings(),s=r.find((function(t){return t.id===e}));s.hidden=t,null===(o=null===(i=n.ref)||void 0===i?void 0:i.current)||void 0===o||o.updateFieldSettings(r);var a=null===s||void 0===s?void 0:s.fieldType;d.toggle(a,t),n.setFieldHidden(e,t)},this.handleMoveField=function(e,t){d.moveCol(),n.editor.getBehaviorApi().moveField({tableId:n.editor.getCurrentTable().id,viewId:n.editor.getCurrentView().id,fieldIds:[e],delta:{target:t}})},this.onRequestApplyListener=function(e){var t,i=e.tableId,o=e.mutations;(null===(t=n.editor.getCurrentTable())||void 0===t?void 0:t.id)===i&&n.requestListenerManager.handleMutationList(o).forEach((function(e){return n.requestListenerManager.handleMutation(e,!0)}))},this.mutationCommonHandler=function(){var e=n.getDrawerContentProps();e&&n.rightDrawerService.reset(e)},this.onChangeCoverFieldId=function(e){var t=n.editor.getBehaviorApi(),i=n.editor.getCurrentView(),o=n.editor.getCurrentTable();if(i&&o){var r={tableId:o.id,viewId:i.id,delta:{isShowCover:""!==e}};r.delta.isShowCover&&(r.delta.coverFieldId=e),ne.m.clickSwitchCover(i.type),t.setCardConfig(r)}},this.changeShowFieldTitle=function(e){var t=n.editor.getBehaviorApi(),i=n.editor.getCurrentView(),o=n.editor.getCurrentTable();if(!i||!o)return[];ne.m.clickShowFieldTitle(i.type),t.setCardConfig({tableId:o.id,viewId:i.id,delta:{isShowFieldTitle:e}})},this.getCoverFieldId=function(){var e=n.getCardConfig(),t=e.coverFieldId,i=e.isShowCover;return n.getImageFields().findIndex((function(e){return e.getId()===t}))<0||!i?"":t},this.setFieldHidden=function(e,t){var i,o;void 0===t&&(t=!0);var r=null===(i=n.editor.getCurrentTable())||void 0===i?void 0:i.id,s=null===(o=n.editor.getCurrentView())||void 0===o?void 0:o.id;r&&s&&n.editor.getBehaviorApi().setFieldHidden({fieldIds:[e],tableId:r,viewId:s,delta:{hidden:t}})}}e.getTitle=function(e){return e===te.bW.KANBAN?A.Z.t("card_setting"):e===te.bW.GALLERY?A.Z.t("gallery_setting"):e===te.bW.GANTT?A.Z.t("col_hidden"):A.Z.t("col_setting")};var t=e.prototype;return t.isFrozenOrPrimary=function(e,t,n){var i=this.editor.getCurrentView();return n<t||i.isPrimaryField(e)},t.getTitle=function(){var e,t=null===(e=this.editor.getCurrentView())||void 0===e?void 0:e.type;return D.getTitle(t)},t.registerRequestApplyListener=function(){this.requestListenerManager.registerList([3017,3015,3014,3018,3016,3026],this.mutationCommonHandler)},t.getImageFields=function(){var e=this.editor.getCurrentView(),t=this.editor.getCurrentTable();return e&&t?e.getAllFieldIds().filter((function(e){var n;return(null===(n=t.getFieldByFieldId(e))||void 0===n?void 0:n.getType())===ee.f.IMAGE})).map((function(e){return t.getFieldByFieldId(e)})):[]},t.getCardConfig=function(){var e,t,n;return null!==(n=null===(t=null===(e=this.viewModel)||void 0===e?void 0:e.getCardConfig)||void 0===t?void 0:t.call(e))&&void 0!==n?n:{}},t.getShowImageCover=function(){var e,t=null===(e=this.editor.getRenderer().getView())||void 0===e?void 0:e.getType();return t===te.bW.KANBAN||t===te.bW.GALLERY},t.getFieldLabel=function(e){var t,n=this.editor.getCurrentView();if((null===n||void 0===n?void 0:n.type)===te.bW.GANTT){var i=n.getGanttConfig(),o=i.startDateFieldId,r=i.endDateFieldId;return((t={})[o]=A.Z.t("start_point"),t[r]=A.Z.t("end_point"),t)[e]}},(0,i.Z)(e,[{key:"viewModel",get:function(){return this.editor.getCurrentView()}}]),e}();re=D=(0,o.__decorate)([(0,g.w)({adapters:[a.q],views:[te.bW.GRID,te.bW.KANBAN,te.bW.GALLERY,te.bW.GANTT],provide:X.o}),(0,o.__param)(0,(0,$.tB)(q.Y)),(0,o.__param)(1,(0,$.tB)(h.I)),(0,o.__metadata)("design:paramtypes",[Object,Object])],re)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field-setting/field-setting.interface.js":function(e,t,n){"use strict";n.d(t,{o:function(){return r}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("feature: IFieldSettingFeature");o.Ln.merge(r,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/field-setting/field-setting.feature.jsx"));case 2:return t=e.sent,i=t.FieldSettingFeature,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{M:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_appendix.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.ATTACHMENT},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_attachment")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/styled.js":function(e,t,n){"use strict";n.d(t,{Sm:function(){return U},lp:function(){return F},H0:function(){return O},JJ:function(){return k},PG:function(){return G},uu:function(){return B},lT:function(){return S},CF:function(){return R},j:function(){return z},Ib:function(){return L},dm:function(){return x},QN:function(){return W},db:function(){return N},_v:function(){return P}});var i,o,r,s,a,l,d,c,u,h,g,f,m,p,v,I,y,_,b=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),M=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),C=n("../node_modules/@tencent/docs-design-resources/pc/svg/floatingtoolbar_dele.svg"),w="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfYWRkX2JsdWU8L3RpdGxlPgogICAgPGcgaWQ9Iumhtemdoi0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iUENf5Zu+54mH566h55CG5ZmoX+WxleW8gCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMTQuMDAwMDAwLCAtMTczLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iX+Wbvuaghy/lt6XlhbfmoI8vMDRf5bm754Gv54mHL+mhtemdouaUvuWkpyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIxNC4wMDAwMDAsIDE3My4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiNEOEQ4RDgiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLDcgTDEzLDExIEwxNywxMSBMMTcsMTMgTDEzLDEzIEwxMywxNyBMMTEsMTcgTDExLDEzIEw3LDEzIEw3LDExIEwxMSwxMSBMMTEsNyBMMTMsNyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9IiMxRTZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",T=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/dropdown_24_hover.svg"),E=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/dropdown_24_nor.svg"),j=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/icon_smartsheet_control_add.svg"),A=M.ZP.div(i||(i=(0,b.Z)(["\n  width: ","px;\n  height: ","px;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  cursor: pointer;\n"])),24,24),x=(0,M.ZP)(A)(o||(o=(0,b.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  flex-shrink: 0;\n  margin-left: auto;\n  margin-right: 4px;\n  margin-top: 6px;\n  background: white;\n  border-radius: 4px;\n\n  &:hover .icon {\n    background-image: url(",");\n  }\n\n  &:active .icon {\n    background-image: url(",");\n  }\n\n  .icon {\n    background-image: url(",");\n    height: 24px;\n    border-radius: 4px;\n  }\n"])),T,T,E),D=M.ZP.div(r||(r=(0,b.Z)(["\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.04);\n  }\n\n  &:active {\n    background-color: rgba(0, 0, 0, 0.08);\n  }\n"]))),S=(0,M.ZP)(D)(s||(s=(0,b.Z)(["\n  .delete-icon {\n    width: 20px;\n    height: 20px;\n    background-image: url(",");\n    border-radius: 2px;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center;\n  }\n"])),C),N=(0,M.ZP)(A)(a||(a=(0,b.Z)(["\n  background-image: url(",");\n  position: absolute;\n  top: 0;\n  margin: 6px 4px;\n  border-radius: 4px;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.04);\n  }\n\n  &:active {\n    background-color: rgba(0, 0, 0, 0.08);\n  }\n"])),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+Y2VsbF9hZGQ8L3RpdGxlPgogICAgPGcgaWQ9Iumhtemdoi0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iUENf5Zu+54mH566h55CG5ZmoX+WxleW8gCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMTQuMDAwMDAwLCAtNTMuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSIrIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjE0LjAwMDAwMCwgNTMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjRTlFQkVEIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSI0Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMsNyBMMTMsMTAuOTk5IEwxNywxMSBMMTcsMTMgTDEzLDEyLjk5OSBMMTMsMTcgTDExLDE3IEwxMSwxMi45OTkgTDcsMTMgTDcsMTEgTDExLDEwLjk5OSBMMTEsNyBMMTMsNyBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjODE4NjhGIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="),R=(0,M.ZP)(D)(l||(l=(0,b.Z)(["\n  margin-right: 8px;\n\n  .download-icon {\n    background-image: url(",");\n    border-radius: 2px;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center;\n  }\n"])),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZmxvYXRpbmd0b29sYmFyX2Rvd25sb2FkPC90aXRsZT4KICAgIDxnIGlkPSJQQyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IlBDL+a1ruWKqOW3peWFt+agjy/kuIvovb0iIGZpbGw9IiM0NjRENUEiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTYsMTMgTDYsMTcgTDE5LDE3IEwxOSwxMyBMMjAsMTMgTDIwLDE3IEMyMCwxNy41NTIyODQ3IDE5LjU1MjI4NDcsMTggMTksMTggTDYsMTggQzUuNDQ3NzE1MjUsMTggNSwxNy41NTIyODQ3IDUsMTcgTDUsMTMgTDYsMTMgWiBNMTMsNSBMMTMsMTEgTDE1LDExIEwxMi41LDE1IEwxMCwxMSBMMTIsMTEgTDEyLDUgTDEzLDUgWiIgaWQ9IuW9oueKtue7k+WQiCI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="),O=M.ZP.div(d||(d=(0,b.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 2px;\n  padding: 0 2px 4px 0;\n  width: auto;\n  height: 24px;\n  border-radius: 2px;\n  align-self: stretch;\n  flex-grow: 0;\n  max-width: 100%;\n\n  &:first-child {\n    padding-left: 0px;\n  }\n\n  .attachment-icon-container {\n    background: rgba(0, 0, 0, 0.04);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 24px;\n    border-radius: 2px 0px 0px 2px;\n    padding-left: 4px;\n    margin: 0;\n    .icon {\n      height: 16px;\n    }\n  }\n\n  .name {\n    height: 24px;\n    line-height: 24px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    background: rgba(0, 0, 0, 0.04);\n    padding: 0 4px;\n    max-width: 256px;\n    border-radius: 0px 2px 2px 0px;\n  }\n"]))),L=M.ZP.div(c||(c=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n  width: 100%;\n  position: relative;\n\n  &:first-child {\n    margin-top: 0px;\n  }\n\n  &:last-child {\n    margin-bottom: 0px;\n  }\n\n  .drag-divider {\n    position: absolute;\n    top: 0;\n    border-top: 2px rgba(30, 111, 255, 0.64) solid;\n  }\n\n  .attachment-container {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    height: 62px;\n    background: rgba(0, 0, 0, 0.04);\n    box-sizing: border-box;\n    border-radius: 4px;\n    padding: 10px;\n    width: 100%;\n    flex: 1;\n    min-width: 0px;\n    border: 1px solid rgba(0, 0, 0, 0.08);\n\n    &:hover {\n      border: 1px solid rgba(0, 0, 0, 0.24);\n    }\n    .type-container {\n      display: flex;\n      align-items: center;\n      .attachment-icon {\n        height: 28px;\n      }\n      .title-container {\n        margin-left: 8px;\n        font-size: 10px;\n        .name {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          line-height: 20px;\n          width: 230px;\n        }\n        .size {\n          line-height: 14px;\n          color: rgba(0, 0, 0, 0.4);\n        }\n      }\n    }\n\n    //todo 看下 styled-component 怎么解决样式覆盖问题\n    .attachment-icon-container {\n      display: flex;\n      padding-right: 6px;\n      width: 56px;\n      .empty-icon {\n        width: 32px;\n        height: 24px;\n      }\n    }\n  }\n"]))),k=M.ZP.div(u||(u=(0,b.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  background: white;\n  border-radius: 4px;\n  padding: 6px 3px 0px 8px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  min-height: 25px;\n"]))),z=M.ZP.div(h||(h=(0,b.Z)(["\n  margin: 8px 12px 0 0;\n  max-height: 316px;\n  overflow: auto;\n  overflow-x: hidden;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n\n  &:first-child {\n    margin-top: 12px;\n  }\n"]))),P=M.ZP.div(g||(g=(0,b.Z)(["\n  bottom: 0;\n  width: 100%;\n  height: 36px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgba(0, 0, 0, 0.4);\n\n  .attachment-color-icon {\n    path {\n      fill: #d8d8d8;\n    }\n  }\n\n  &:hover {\n    cursor: pointer;\n    color: #175ceb;\n  }\n\n  &:active {\n    cursor: pointer;\n    color: #134ae0;\n  }\n\n  &:hover .newIcon {\n    background-image: url(",");\n  }\n\n  &:active .newIcon {\n    background-image: url(",");\n  }\n\n  .newIcon {\n    width: 24px;\n    height: 24px;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center;\n    cursor: pointer;\n  }\n"])),w,w,j),F=(M.ZP.div(f||(f=(0,b.Z)(["\n  border: rgba(0, 0, 0, 0.04);\n  margin-left: 20px;\n  border-radius: 4px;\n"]))),M.ZP.div(m||(m=(0,b.Z)(["\n  .dragger-list-empty {\n    border: 1px dashed #dee0e3;\n    border-radius: 4px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #eff0f1;\n    height: 112px;\n    text-align: center;\n    margin: 12px 12px 0 12px;\n  }\n\n  .dragger-content-position {\n    height: 22px;\n    line-height: 22px;\n    font-size: 14px;\n    color: #646a73;\n  }\n"])))),U=M.ZP.div(p||(p=(0,b.Z)(["\n  .dragger-cover {\n    border-radius: 8px;\n    max-height: 400px;\n    background-color: #fff;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: none;\n    z-index: 1;\n    pointer-events: none;\n    padding: 12px;\n    .dragger {\n      border: 1px dashed #dee0e3;\n      border-radius: 4px;\n      .cover-content-position {\n        height: 22px;\n        line-height: 22px;\n        font-size: 14px;\n        color: #646a73;\n      }\n    }\n    .dragger-over {\n      border: 1px dashed #1890ff59;\n      background-color: #175ceb12;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100%;\n    }\n\n    &-show {\n      display: block;\n    }\n  }\n"]))),B=M.ZP.div(v||(v=(0,b.Z)(["\n  .empty {\n    border: 1px dashed #dee0e3;\n    border-radius: 4px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #eff0f1;\n    height: 112px;\n    text-align: center;\n    margin: 12px;\n  }\n"]))),W=M.ZP.div(I||(I=(0,b.Z)(["\n  min-height: 20px;\n  max-height: 320px;\n  overflow: auto;\n  .empty {\n    color: rgba(0, 0, 0, 0.4);\n    text-align: center;\n  }\n"]))),G=M.ZP.div(y||(y=(0,b.Z)(["\n  position: relative;\n  .attachment-list-container {\n    max-height: 330px;\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n\n  .upload-button {\n    background-color: #fff;\n    border-radius: 0px 0px 8px 8px;\n    border: none;\n  }\n"])));M.ZP.div(_||(_=(0,b.Z)(["\n  overflow: auto;\n"])))},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/utils/index.js":function(e,t,n){"use strict";n.d(t,{O:function(){return r},x:function(){return s}});var i=n("../node_modules/@tencent/dui-mobile/lib/components/Snackbar/index.js"),o=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),r=function(e){e.current&&(e.current.scrollTop=e.current.scrollHeight)},s=function(){i.Snackbar.show({message:o.Z.t("upload_mobile_not_support_check"),duration:2e3})}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/checkbox/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{i:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_checkbox.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.CHECKBOX},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("checkbox")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/attachment/attachment-dropdown.jsx":function(e,t,n){"use strict";n.d(t,{o:function(){return a}}),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/dui/lib/components/Divider/index.js"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/attachment/styled.js"),a=function(e){var t=e.imageElement,n=e.name,a=e.size,l=e.renderDragIcon,d=e.renderIconContainer,c=e.containerStyle,u=e.dropdownAttachmentStyle,h=e.onDropdownAttachmentClick,g=(0,i.useState)(!1),f=g[0],m=g[1],p=(0,i.useMemo)((function(){var e=f?"0":"1";return Object.assign({opacity:e},c)}),[c,f]),v=(0,i.useCallback)((function(){m(!0)}),[]),I=(0,i.useCallback)((function(){m(!1)}),[]);return o().createElement(s.Ib,{onDragEnter:v,onDragLeave:I,onDragOver:v,onDrop:I,className:"dropdown-attachment-select",style:u},o().createElement(r.default,{className:"drag-divider",style:{opacity:f?1:0}}),null===l||void 0===l?void 0:l(),o().createElement("div",{className:"attachment-container cell-editor-input",style:Object.assign({},p),onClick:h},o().createElement("div",{className:"type-container"},t,o().createElement("div",{className:"title-container"},o().createElement("div",{className:"name"},n),o().createElement("div",{className:"size"},a+"MB"))),null===d||void 0===d?void 0:d()))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/number-input/error.js":function(e,t,n){"use strict";n.d(t,{hB:function(){return a},jS:function(){return s}}),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.number.is-nan.js"),n("../node_modules/core-js/modules/es.number.max-safe-integer.js"),n("../node_modules/core-js/modules/es.number.min-safe-integer.js");var i,o,r=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js");!function(e){e[e.LESS_OUT_OF_RANGE=1]="LESS_OUT_OF_RANGE",e[e.MORE_OUT_OF_RANGE=2]="MORE_OUT_OF_RANGE",e[e.NOT_NUMBER=3]="NOT_NUMBER"}(o||(o={}));var s=((i={})[o.LESS_OUT_OF_RANGE]=r.Z.t("field_number_out_of_range",{type:r.Z.t("field_number_less")}),i[o.MORE_OUT_OF_RANGE]=r.Z.t("field_number_out_of_range",{type:r.Z.t("field_number_more")}),i[o.NOT_NUMBER]=r.Z.t("field_only_number_allow"),i),a=function(e){if(""===e||"-"===e)return null;if(-1!==e.indexOf(" "))return o.NOT_NUMBER;var t=Number(e);return Number.isNaN(t)?o.NOT_NUMBER:t>Number.MAX_SAFE_INTEGER?o.MORE_OUT_OF_RANGE:t<Number.MIN_SAFE_INTEGER?o.LESS_OUT_OF_RANGE:null}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/number-input/index.jsx":function(e,t,n){"use strict";n.d(t,{Y:function(){return c},i:function(){return d}}),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/dui/lib/components/Input/index.js"),s=n("../node_modules/@tencent/dui/lib/components/Tooltip/index.js"),a=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/components/number-input/error.js"),l=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),d=function(e){return""===e||"-"===e?null:Number(e)},c=function(e){var t=e.onBlur,n=e.inputRef,c=e.inputStyle,u=e.inputClassName,h=e.onKeyDown,g=e.value,f=e.onFocus,m=e.onChange,p=e.autoFocus,v=(0,i.useState)(!1),I=v[0],y=v[1],_=(0,i.useState)(!1),b=_[0],M=_[1],C=(0,i.useState)(""),w=C[0],T=C[1],E=(0,i.useState)(""),j=E[0],A=E[1];(0,i.useEffect)((function(){var e,t;if(null!==g){var n=null!==(t=null===(e=String(g).split(".")[1])||void 0===e?void 0:e.length)&&void 0!==t?t:0;T(g.toLocaleString("en-IN",{useGrouping:!1,minimumFractionDigits:n}))}else T("")}),[g]);var x=(0,i.useCallback)((function(e){var t=e.target.value;if(""===t||"-"===t)return T(t),void(null===m||void 0===m||m(d(t)));var n=(0,a.hB)(t);if(null===n)return T(t),M(!1),y(!1),void(null===m||void 0===m||m(d(t)));A(a.jS[n]),b||(M(!0),y(!0),setTimeout((function(){return y(!1)}),3e3))}),[b,m]),D=(0,i.useCallback)((function(e){var n=e.target.value,i=n;"-"===n&&(i=""),T(i),null===t||void 0===t||t(d(i))}),[t]),S=(0,i.useCallback)((function(e){null===h||void 0===h||h(d(w),e)}),[w,h]);return o().createElement(s.default,{title:j,trigger:"click",placement:"top",visible:I},o().createElement(r.default,{inputClassName:u,value:w,onInput:x,onBlur:D,onFocus:f,onKeyDown:S,inputRef:n,inputStyle:Object.assign({fontSize:"10pt",fontFamily:l.ut},c),autoFocus:p}))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/constant/zindex.js":function(e,t,n){"use strict";n.d(t,{F:function(){return i},o:function(){return o}});var i=9998,o=9999},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/hooks/set-inputting.js":function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var i=n("react"),o=function(e,t){var n=(0,i.useState)(!1),o=n[0],r=n[1],s=(0,i.useState)(e),a=s[0],l=s[1];return(0,i.useEffect)((function(){o&&!t||l(e)}),[t,o,l,e]),{inputValue:a,setInputting:r,isInputting:o}}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/hooks/stop-propagation.js":function(e,t,n){"use strict";n.d(t,{$:function(){return r},U:function(){return o}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js");var i=n("react"),o=function(e){e.stopPropagation()},r=function(e){var t=e.events,n=e.domRef;(0,i.useEffect)((function(){var e=null===n||void 0===n?void 0:n.current;return t.forEach((function(t){null===e||void 0===e||e.addEventListener(t,o)})),function(){t.forEach((function(t){null===e||void 0===e||e.removeEventListener(t,o)}))}}),[n,t])}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/styles/field-icon.style.js":function(e,t,n){"use strict";n.d(t,{C:function(){return a},y:function(){return s}});var i,o=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),r=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),s={width:24,height:24},a=r.ZP.div(i||(i=(0,o.Z)(["\n  height: ","px;\n\n  path {\n    fill: #81868f;\n  }\n"])),(function(e){return e.height}))},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/utils/keydown.js":function(e,t,n){"use strict";n.d(t,{O:function(){return i},m:function(){return o}});var i=229;function o(e,t){var n=e.key;if(e.keyCode!==i){var o=t[n];null===o||void 0===o||o(e)}}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/created-time/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{h:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_date31.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.CREATED_TIME},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_create_time")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/created-user/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{$:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_contact.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.CREATED_USER},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_creator")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/date-time/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{$:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_date31.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.DATE_TIME},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_datetime")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/email/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{T:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_email.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.EMAIL},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_email")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/email/pc/cell-editor/email-input.jsx":function(e,t,n){"use strict";n.d(t,{Q:function(){return c},U:function(){return u}}),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.string.replace.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/dui/lib/components/Input/index.js"),s=n("../node_modules/@tencent/dui/lib/components/Tooltip/index.js"),a=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/phone/base-field-feature.service.jsx"),l=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/email/email-field.js"),c=function(e,t,n){return n===a.G.delete||n===a.G.cut||!(!t&&n!==a.G.paste)&&d.Y.isLegalEmail(e)},u=function(e){var t=e.onBlur,n=e.inputRef,a=e.inputStyle,d=e.inputClassName,u=e.onKeyDown,h=e.value,g=e.onFocus,f=e.placeholderTitle,m=e.disabled,p=e.onChange,v=e.autoFocus,I=(0,i.useState)(!1),y=I[0],_=I[1],b=(0,i.useState)(!1),M=b[0],C=b[1],w=(0,i.useState)(null!==h&&void 0!==h?h:""),T=w[0],E=w[1],j=(0,i.useState)(!1),A=j[0],x=j[1];(0,i.useEffect)((function(){E(null!==h&&void 0!==h?h:"")}),[h]);var D=(0,i.useCallback)((function(){C(!1),null===p||void 0===p||p(T)}),[T,p]),S=(0,i.useCallback)((function(e){var t=e.target.value,n=new RegExp(/[^A-Za-z0-9@_——.-]+/,"g"),i=t.replace(n,""),o=e.nativeEvent,r=o.data,s=o.inputType;if(A){var a=c(t,r,s);return!/[\u4e00-\u9fa5]/.test(t)&&a||_(!0),a&&(E(i),D()),void setTimeout((function(){return _(!1)}),3e3)}if(c(t,r,s))return E(i),_(!1),void D();M||(C(!0),_(!0),setTimeout((function(){return _(!1)}),3e3))}),[A,M,D]),N=(0,i.useCallback)((function(){null===t||void 0===t||t(T)}),[T,t]),R=(0,i.useCallback)((function(e){null===u||void 0===u||u(T,e)}),[T,u]);return o().createElement(s.default,{title:l.Z.t("input_valid_email"),trigger:"click",placement:"top",visible:y},o().createElement(r.default,{placeholder:f,inputClassName:d,value:T,onInput:S,onBlur:N,onFocus:g,onKeyDown:R,inputRef:n,inputStyle:a,disabled:m,onCompositionStart:function(){return x(!0)},onCompositionEnd:function(){return x(!1)},autoFocus:v}))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field-feature.pc.interface.js":function(e,t,n){"use strict";var i;n.d(t,{S:function(){return i}}),function(e){e.CHANGE="change",e.CONFIRM="confirm",e.ENTER="enter",e.TAB="tab",e.ESC="esc",e.BLUR="blur"}(i||(i={}))},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field.mobile.interface.js":function(e,t,n){"use strict";n.d(t,{Q:function(){return i}}),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js");var i=Symbol.for("IMobileFieldService")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field.pc.interface.js":function(e,t,n){"use strict";n.d(t,{Y:function(){return i}}),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js");var i=Symbol.for("IFieldService")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/formula/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{m:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_number.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.FORMULA},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_formula")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{S:function(){return c}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/toolbar_add_photo.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/styles/field-icon.style.js"),l=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),c=function(){function e(){}var t=e.prototype;return t.getType=function(){return d.f.IMAGE},t.getIconComponent=function(){return function(e){return o().createElement(a.C,{height:e.height},o().createElement(s.t,Object.assign({src:r},e)))}},t.getTitle=function(){return l.Z.t("field_type_image")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/mobile/cell-editor/upload-container.jsx":function(e,t,n){"use strict";n.d(t,{d:function(){return b}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=(n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("react"),s=n.n(r),a=n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js"),l=n("../node_modules/@tencent/image-components/dist/index.es2015.js"),d=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field-feature.pc.interface.js"),c=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/utils.js"),u=n("../node_modules/@tencent/xtable-common/es/domain-config/index.js"),h=n("../node_modules/@tencent/xtable-common/es/image/index.js"),g=(n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/@tencent/docs-scenario-components-mobile-camera/dist/index.js")),f=n("../node_modules/@tencent/docs-user-agent/dist/index.js"),m=n.n(f),p=function(e){return new Promise((function(t,n){(new l.m6).selectLocalImageFile({maxCount:1,callback:function(e){(null===e||void 0===e?void 0:e.length)>0?t(e):n({retCode:4})},capture:e,errCallback:n})}))},v=function(e){return"0"===e},I=function(e){return(0,o.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=v(e),!m().isAndroid||!m().isWeChat){t.next=6;break}return t.next=5,p(n);case 5:return t.abrupt("return",t.sent);case 6:if(!n||!m().isMobile){t.next=12;break}return t.next=10,(0,g.pickImageFromCamera)();case 10:return i=t.sent,t.abrupt("return",[i]);case 12:return t.next=14,(0,o.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("input")).setAttribute("id",Date.now().toString(36)+"_"+(1e3*Math.random()%1e3|0)),t.setAttribute("type","file"),t.setAttribute("style","display:none"),t.setAttribute("multiple","true"),m().isWxWork||"undefined"===typeof external||"undefined"===typeof external.nativeCall?t.setAttribute("accept","image/*"):t.setAttribute("accept","*.*"),e.abrupt("return",new Promise((function(e){t.addEventListener("change",(function(){t.files&&(e(t.files),document.body.removeChild(t))})),document.body.appendChild(t),t.click()})));case 7:case"end":return e.stop()}}),e)})));case 14:return r=t.sent,t.abrupt("return",Array.from(r));case 18:throw t.prev=18,t.t0=t.catch(0),Error("uploadImage unknown error");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},y=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),_=function(){a.default.show({message:c.n,duration:h.QE,autoClose:!0,closable:!0,style:{zIndex:19998}})},b=(0,r.forwardRef)((function(e,t){var n=e.cellValue,g=e.onDataChange,f=e.recordId,m=e.children,p=e.containerClassname,b=e.onClickContainer,M=(0,r.useMemo)((function(){return(0,c.m)(n)}),[n]),C=(0,r.useState)(0),w=C[0],T=C[1],E=(0,r.useRef)([]),j=(0,r.useRef)(0),A=(0,r.useCallback)((function(){E.current=[],j.current=0}),[]),x=(0,r.useCallback)((function(e,t,n){if(t&&n){var o={id:e,imageUrl:t,title:n};E.current.push(o);var r=j.current-E.current.length;T(r),r>0||(null===g||void 0===g||g([].concat((0,i.Z)(M),(0,i.Z)(E.current)),d.S.CONFIRM,f),A())}}),[M,g,f,A]),D=(0,r.useCallback)((function(e,t,n){a.default.show({message:n,duration:h.QE,autoClose:!0,closable:!0,style:{zIndex:19998}}),T(w-1),w-1>0||0!==E.current.length&&(null===g||void 0===g||g([].concat((0,i.Z)(M),(0,i.Z)(E.current)),d.S.CONFIRM),A())}),[M,g,A,w]),S=(0,r.useCallback)((function(e){var t=e.map((function(e){return{id:l.Lk.getAttachmentId(),title:l.Lk.getAttachmentId(),imageUrl:e.url}}));e.length+M.length>y.gU.MAXIMUM_IMAGE_LIMIT_PER_CELL?_():null===g||void 0===g||g([].concat((0,i.Z)(M),(0,i.Z)(t)),d.S.CONFIRM,f)}),[M,g,f]),N=(0,r.useCallback)((function(e,t){switch(t){case 1:a.default.show({message:"没有相机权限",duration:3e3,autoClose:!0});break;case 2:a.default.show({message:"调起相机失败",duration:3e3,autoClose:!0})}}),[]),R=(0,r.useCallback)((function(e){return(0,o.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u.K.getIsWeCom()){t.next=8;break}if(n=y.gU.MAXIMUM_IMAGE_LIMIT_PER_CELL-M.length,!(i=v(e))||9!==M.length){t.next=6;break}return _(),t.abrupt("return");case 6:return l.m6.selectImageFromWeWorkSDK(i,S,N,n),t.abrupt("return");case 8:return t.next=10,I(e);case 10:if(o=t.sent,!(M.length+o.length>y.gU.MAXIMUM_IMAGE_LIMIT_PER_CELL)){t.next=14;break}return _(),t.abrupt("return");case 14:r=o.filter((function(e){return(0,h.z0)(e)&&!(0,h.zf)(e)})),T(r.length),j.current=r.length,r.forEach((function(e){return(0,h.Ix)({imageBlob:e,ratio:1,successCallback:x,errorCallback:D})}));case 18:case"end":return t.stop()}}),t)})))}),[M.length,D,x,N,S]);(0,r.useImperativeHandle)(t,(function(){return{handleImageAdd:R}}));var O=(0,r.useCallback)((function(e){b?b(e):R("1")}),[R,b]);return s().createElement("div",{onClick:O,className:p},m)}))},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/pc/cell-editor/upload-wrapper.jsx":function(e,t,n){"use strict";n.d(t,{t:function(){return B}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("react")),r=n.n(o),s=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),a=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),d=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("../node_modules/@babel/runtime/helpers/esm/createSuper.js"),u=(n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js")),h=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),g=n("../node_modules/@babel/runtime/regenerator/index.js"),f=n.n(g),m=n("../node_modules/@babel/runtime/helpers/esm/typeof.js"),p=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),v=n("../node_modules/classnames/index.js"),I=n.n(v),y=n("../node_modules/rc-util/es/pickAttrs.js");function _(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}function b(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach((function(t){var i=e.data[t];Array.isArray(i)?i.forEach((function(e){n.append("".concat(t,"[]"),e)})):n.append(t,i)})),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),i=new Error(n);return i.status=t.status,i.method=e.method,i.url=e.action,i}(e,t),_(t)):e.onSuccess(_(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var i=e.headers||{};return null!==i["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(i).forEach((function(e){null!==i[e]&&t.setRequestHeader(e,i[e])})),t.send(n),{abort:function(){t.abort()}}}var M=+new Date,C=0;function w(){return"rc-upload-".concat(M,"-").concat(++C)}n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/core-js/modules/es.string.ends-with.js");var T=n("../node_modules/rc-util/es/warning.js"),E=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",o=e.type||"",r=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){var n=i.toLowerCase(),s=t.toLowerCase(),a=[s];return".jpg"!==s&&".jpeg"!==s||(a=[".jpg",".jpeg"]),a.some((function(e){return n.endsWith(e)}))}return/\/\*$/.test(t)?r===t.replace(/\/.*$/,""):o===t||!!/^\w+$/.test(t)&&((0,T.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(t,"'.Skip for check.")),!0)}))}return!0},j=function(e,t,n){var i=function e(i,o){i.path=o||"",i.isFile?i.file((function(e){n(e)&&(i.fullPath&&!e.webkitRelativePath&&(Object.defineProperties(e,{webkitRelativePath:{writable:!0}}),e.webkitRelativePath=i.fullPath.replace(/^\//,""),Object.defineProperties(e,{webkitRelativePath:{writable:!1}})),t([e]))})):i.isDirectory&&function(e,t){var n=e.createReader(),i=[];!function e(){n.readEntries((function(n){var o=Array.prototype.slice.apply(n);i=i.concat(o),o.length?e():t(i)}))}()}(i,(function(t){t.forEach((function(t){e(t,"".concat(o).concat(i.name,"/"))}))}))};e.forEach((function(e){i(e.webkitGetAsEntry())}))},A=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],x=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={uid:w()},e.reqs={},e.fileInput=void 0,e._isMounted=void 0,e.onChange=function(t){var n=e.props,o=n.accept,r=n.directory,s=t.target.files,a=(0,i.Z)(s).filter((function(e){return!r||E(e,o)}));e.uploadFiles(a),e.reset()},e.onClick=function(t){var n=e.fileInput;if(n){var i=e.props,o=i.children,r=i.onClick;if(o&&"button"===o.type){var s=n.parentNode;s.focus(),s.querySelector("button").blur()}n.click(),r&&r(t)}},e.onKeyDown=function(t){"Enter"===t.key&&e.onClick(t)},e.onFileDrop=function(t){var n=e.props.multiple;if(t.preventDefault(),"dragover"!==t.type)if(e.props.directory)j(Array.prototype.slice.call(t.dataTransfer.items),e.uploadFiles,(function(t){return E(t,e.props.accept)}));else{var o=(0,i.Z)(t.dataTransfer.files).filter((function(t){return E(t,e.props.accept)}));!1===n&&(o=o.slice(0,1)),e.uploadFiles(o)}},e.uploadFiles=function(t){var n=(0,i.Z)(t),o=n.map((function(t){return t.uid=w(),e.processFile(t,n)}));Promise.all(o).then((function(t){var n=e.props.onBatchStart;null===n||void 0===n||n(t.map((function(e){return{file:e.origin,parsedFile:e.parsedFile}}))),t.filter((function(e){return null!==e.parsedFile})).forEach((function(t){e.post(t)}))}))},e.processFile=function(){var t=(0,p.Z)(f().mark((function t(n,i){var o,r,s,a,l,d,c,u,h;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.props.beforeUpload,r=n,!o){t.next=14;break}return t.prev=3,t.next=6,o(n,i);case 6:r=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),r=!1;case 12:if(!1!==r){t.next=14;break}return t.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(s=e.props.action)){t.next=21;break}return t.next=18,s(n);case 18:a=t.sent,t.next=22;break;case 21:a=s;case 22:if("function"!==typeof(l=e.props.data)){t.next=29;break}return t.next=26,l(n);case 26:d=t.sent,t.next=30;break;case 29:d=l;case 30:return c="object"!==(0,m.Z)(r)&&"string"!==typeof r||!r?n:r,u=c instanceof File?c:new File([c],n.name,{type:n.type}),(h=u).uid=n.uid,t.abrupt("return",{origin:n,data:d,parsedFile:h,action:a});case 35:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.saveFileInput=function(t){e.fileInput=t},e}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(e){var t=this,n=e.data,i=e.origin,o=e.action,r=e.parsedFile;if(this._isMounted){var s=this.props,a=s.onStart,l=s.customRequest,d=s.name,c=s.headers,u=s.withCredentials,h=s.method,g=i.uid,f=l||b,m={action:o,filename:d,data:n,file:r,headers:c,withCredentials:u,method:h||"post",onProgress:function(e){var n=t.props.onProgress;null===n||void 0===n||n(e,r)},onSuccess:function(e,n){var i=t.props.onSuccess;null===i||void 0===i||i(e,r,n),delete t.reqs[g]},onError:function(e,n){var i=t.props.onError;null===i||void 0===i||i(e,n,r),delete t.reqs[g]}};a(i),this.reqs[g]=f(m)}}},{key:"reset",value:function(){this.setState({uid:w()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]}))}},{key:"render",value:function(){var e,t=this.props,n=t.component,i=t.prefixCls,o=t.className,a=t.disabled,l=t.id,d=t.style,c=t.multiple,g=t.accept,f=t.capture,m=t.children,p=t.directory,v=t.openFileDialogOnClick,_=t.onMouseEnter,b=t.onMouseLeave,M=(0,h.Z)(t,A),C=I()((e={},(0,u.Z)(e,i,!0),(0,u.Z)(e,"".concat(i,"-disabled"),a),(0,u.Z)(e,o,o),e)),w=p?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},T=a?{}:{onClick:v?this.onClick:function(){},onKeyDown:v?this.onKeyDown:function(){},onMouseEnter:_,onMouseLeave:b,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return r().createElement(n,(0,s.Z)({},T,{className:C,role:"button",style:d}),r().createElement("input",(0,s.Z)({},(0,y.Z)(M,{aria:!0,data:!0}),{id:l,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:g},w,{multiple:c,onChange:this.onChange},null!=f?{capture:f}:{})),m)}}]),n}(o.Component),D=x;function S(){}var N=function(e){(0,d.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).uploader=void 0,e.saveUploader=function(t){e.uploader=t},e}return(0,l.Z)(n,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return r().createElement(D,(0,s.Z)({},this.props,{ref:this.saveUploader}))}}]),n}(o.Component);N.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:S,onError:S,onSuccess:S,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};var R=N,O=n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js"),L=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/record-report.service.js"),k=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/copy-paste/utils/parser.js"),z=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/field-feature.pc.interface.js"),P=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/utils.js"),F=n("../node_modules/@tencent/xtable-common/es/image/index.js"),U=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),B=function(e){var t=e.children,n=e.onChange,s=e.autoFocus,a=e.onClick,l=e.multiple,d=e.imageList,c=e.setImageList,u=e.uploadingLength,h=e.setUploadingLength,g=e.defaultUploadLength,f=e.successFileList,m=e.supportUpload,p=e.setSupportUpload,v=e.className,I=e.openFileDialogOnClick,y=e.type,_=(0,o.useCallback)((function(){f.current=[],g.current=0}),[g,f]),b=(0,o.useCallback)((function(e){if(e){f.current.push(e);var t=g.current-f.current.length;h(t),t>0||(c([].concat((0,i.Z)(d),(0,i.Z)(f.current))),null===n||void 0===n||n([].concat((0,i.Z)(d),(0,i.Z)(f.current)),z.S.CONFIRM),_())}}),[g,d,n,_,c,h,f]),M=(0,o.useCallback)((function(e,t,o){O.default.show({message:o,duration:F.QE,autoClose:!0,closable:!0}),h(u-1),u-1>0||0!==f.current.length&&(c([].concat((0,i.Z)(d),(0,i.Z)(f.current))),null===n||void 0===n||n([].concat((0,i.Z)(d),(0,i.Z)(f.current)),z.S.CONFIRM))}),[d,n,c,h,f,u]),C=(0,o.useCallback)((function(e){if(m&&(0,F.z0)(e)){var t=e.name;(0,F.Ix)({imageBlob:e,ratio:1,successCallback:function(e,n){b({id:e,imageUrl:n,title:t})},errorCallback:M})}}),[M,b,m]),w=(0,o.useCallback)((function(e){var t=e.file;C(t)}),[C]),T=(0,o.useCallback)((function(e){if(e.length+d.length>U.gU.MAXIMUM_IMAGE_LIMIT_PER_CELL)return O.default.show({message:P.n,duration:F.QE,autoClose:!0,closable:!0}),p(!1),!1;var t=e.filter((function(e){return(0,F.z0)(e)&&!(0,F.zf)(e)}));return 0!==t.length&&(h(t.length),g.current=t.length,!0)}),[g,d.length,p,h]),E=(0,o.useCallback)((function(e){T(e.map((function(e){return e.file})))}),[T]),j=(0,o.useCallback)((function(e){e&&T(e)&&(e.forEach((function(e){return C(e)})),L.n.cellPasteImage())}),[T,C]),A=(0,o.useCallback)((function(e){var t=(0,k.qs)(e);j(t)}),[j]),x=(0,o.useRef)(null),D=(0,o.useMemo)((function(){return r().createElement("textarea",{ref:x,style:{position:"fixed",top:-2e3,left:-2e3}})}),[]);return(0,o.useEffect)((function(){setTimeout((function(){var e;s&&(null===(e=x.current)||void 0===e||e.focus())}),300)}),[s]),r().createElement("div",{onPaste:A},D,r().createElement(R,{multiple:l,customRequest:w,onBatchStart:E,onClick:a,autoFocus:s,className:v,onPaste:A,openFileDialogOnClick:I,type:y},t))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/image/utils.js":function(e,t,n){"use strict";n.d(t,{m:function(){return r},n:function(){return s}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),r=function(e){return(0,i.Z)(null!==e&&void 0!==e?e:[])},s=o.Z.t("file_not_over")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/modified-time/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{b:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_date31.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.MODIFIED_TIME},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_last_edit_time")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/modified-user/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{u:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_contact.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.MODIFIED_USER},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_last_editor")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/number/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{x:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_number.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.NUMBER},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_number")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/number/mobile/cell-reader/index.jsx":function(e,t,n){"use strict";n.d(t,{a:function(){return l},v:function(){return a}}),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.number.constructor.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/dui/lib/components/Input/index.js"),s="ShspFQvEhQ76JpJDkZMg",a=20,l=function(e){var t=e.value,n={margin:"7px 8px",background:"none",border:"none",padding:0,color:"#2b2b2b",height:a+"px"},l=(0,i.useMemo)((function(){var e,n,i=String(null!==t&&void 0!==t?t:"");if(""===i)return"";var o=null!==(n=null===(e=i.split(".")[1])||void 0===e?void 0:e.length)&&void 0!==n?n:0;return Number(i).toLocaleString("en-IN",{useGrouping:!1,minimumFractionDigits:o})}),[t]);return o().createElement("div",{className:s},o().createElement(r.Input,{inputStyle:n,disabled:!0,value:l,className:"mobile-number-reader-editor"}))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/phone/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{G:function(){return i},H:function(){return c}}),n("../node_modules/core-js/modules/es.object.assign.js");var i,o=n("react"),r=n.n(o),s=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_phonenumber.svg"),a=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),l=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),c=function(){function e(){}var t=e.prototype;return t.getType=function(){return d.f.PHONE},t.getIconComponent=function(){return function(e){return r().createElement(a.t,Object.assign({src:s},e))}},t.getTitle=function(){return l.Z.t("field_tel")},e}();!function(e){e.insertText="insertText",e.delete="deleteContentBackward",e.paste="insertFromPaste",e.cut="deleteByCut"}(i||(i={}))},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/phone/pc/cell-editor/phone-input.jsx":function(e,t,n){"use strict";n.d(t,{OA:function(){return c},nH:function(){return u},sb:function(){return h}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.string.replace.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/dui/lib/components/Input/index.js"),s=n("../node_modules/@tencent/dui/lib/components/Tooltip/index.js"),a=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/phone/base-field-feature.service.jsx"),l=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/phone/phone-field.js"),c=function(e,t,n){return n===a.G.delete||n===a.G.cut||" "===t||!(!t&&n!==a.G.paste)&&d.$S.checkPhoneLimitString(e)},u=function(e){if(!e)return"";var t=e;return"，（） ".split("").forEach((function(e){var n=new RegExp(e,"g");switch(e){case"，":t=t.replace(n,",");break;case"（":t=t.replace(n,"(");break;case"）":t=t.replace(n,")");break;case" ":t=t.replace(n,"")}})),t},h=function(e){var t=e.onBlur,n=e.inputRef,a=e.inputStyle,d=e.inputClassName,h=e.onKeyDown,g=e.value,f=e.onFocus,m=e.placeholderTitle,p=e.onChange,v=e.autoFocus,I=(0,i.useState)(!1),y=I[0],_=I[1],b=(0,i.useState)(!1),M=b[0],C=b[1],w=(0,i.useState)(null!==g&&void 0!==g?g:""),T=w[0],E=w[1];(0,i.useEffect)((function(){E(null!==g&&void 0!==g?g:"")}),[g]);var j=(0,i.useCallback)((function(e){var t=e.target.value,n=u(t),i=e.nativeEvent,o=i.data,r=i.inputType;if(c(n,u(o),r))return E(t),C(!1),_(!1),void(null===p||void 0===p||p(n));M||(C(!0),_(!0),setTimeout((function(){return _(!1)}),3e3))}),[M,p]),A=(0,i.useCallback)((function(){null===t||void 0===t||t(u(T))}),[T,t]),x=(0,i.useCallback)((function(e){null===h||void 0===h||h(u(T),e)}),[T,h]);return o().createElement(s.default,{title:l.Z.t("input_valid_tel"),trigger:"click",placement:"top",visible:y},o().createElement(r.default,{placeholder:m,inputClassName:d,value:T,onInput:j,onBlur:A,onFocus:f,onKeyDown:x,inputRef:n,inputStyle:a,autoFocus:v}))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/progress/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{M:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_progress.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.PROGRESS},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("field_progress")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/select/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{E:function(){return c},K:function(){return u}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_dropdown.svg"),s=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/data_multiselect.svg"),a=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),l=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),c=function(){function e(){}var t=e.prototype;return t.getType=function(){return d.f.SINGLE_SELECT},t.getIconComponent=function(){return function(e){return o().createElement(a.t,Object.assign({src:r},e))}},t.getTitle=function(){return l.Z.t("single_select")},e}(),u=function(){function e(){}var t=e.prototype;return t.getType=function(){return d.f.MULTIPLE_SELECT},t.getIconComponent=function(){return function(e){return o().createElement(a.t,Object.assign({src:s},e))}},t.getTitle=function(){return l.Z.t("multiple_select")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/select/pc/property-editor/styled.js":function(e,t,n){"use strict";n.d(t,{wA:function(){return y},Lz:function(){return M},zc:function(){return v},o3:function(){return b},um:function(){return I},Ul:function(){return p},Hq:function(){return _}});var i,o,r,s,a,l,d,c,u=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),h=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),g=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/basic_16_drag.svg"),f=n("../node_modules/@tencent/xtable-common/es/palette/text.js"),m=h.ZP.div(i||(i=(0,u.Z)(["\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  cursor: pointer;\n"]))),p=(0,h.ZP)(m)(o||(o=(0,u.Z)(["\n  margin-right: 8px;\n  width: 24px;\n  height: 24px;\n  background-image: url(",");\n"])),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9yZW1vdmU8L3RpdGxlPgogICAgPGcgaWQ9IjdXNF9QQ+aVsOaNrumqjOivgeiuvue9rumdouadvyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuaVsOaNrumqjOivgei1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ0Mi4wMDAwMDAsIC0xMzIuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzkuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQwMy4wMDAwMDAsIDgwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9IuakreWchuW9oiIgc3Ryb2tlPSIjQ0JDREQxIiBjeD0iMTIiIGN5PSIxMiIgcj0iNy41Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjQ0JDREQxIiB4PSI4IiB5PSIxMSIgd2lkdGg9IjgiIGhlaWdodD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="),v=(0,h.ZP)(m)(r||(r=(0,u.Z)(["\n  width: 16px;\n  height: 16px;\n  background-image: url(",");\n  cursor: grab;\n"])),g),I=h.ZP.div(s||(s=(0,u.Z)(["\n  width: 12px;\n  height: 12px;\n"]))),y=(0,h.ZP)(m)(a||(a=(0,u.Z)(["\n  margin-right: 8px;\n  width: 24px;\n  height: 24px;\n  background-image: url(",");\n"])),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfMjRfYWRkX2NpcmNsZTwvdGl0bGU+CiAgICA8ZyBpZD0i5o6n5Lu2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5o+S5YWlIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgb3BhY2l0eT0iMCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iaWNvbi9jb21wb25lbnQvdGFibGUiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIHN0cm9rZT0iIzk3OTc5NyIgZmlsbD0iI0Q4RDhEOCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5LjUsNSBDMTkuNzc2MTQyNCw1IDIwLDUuMjIzODU3NjMgMjAsNS41IEwyMCwxOC41IEMyMCwxOC43NzYxNDI0IDE5Ljc3NjE0MjQsMTkgMTkuNSwxOSBMNC41LDE5IEM0LjIyMzg1NzYzLDE5IDQsMTguNzc2MTQyNCA0LDE4LjUgTDQsNS41IEM0LDUuMjIzODU3NjMgNC4yMjM4NTc2Myw1IDQuNSw1IEwxOS41LDUgWiBNOSwxNS4wMjggTDUuMjk5LDE1LjAyOCBMNS4zLDE3LjcgTDksMTcuNyBMOSwxNS4wMjggWiBNMTguNywxNS4wMjggTDEwLjI1LDE1LjAyOCBMMTAuMjUsMTcuNyBMMTguNywxNy43IEwxOC43LDE1LjAyOCBaIE05LDEwLjc1IEw1LjI5OSwxMC43NSBMNS4yOTksMTMuNzc4IEw5LDEzLjc3OCBMOSwxMC43NSBaIE0xOC43LDEwLjc1IEwxMC4yNSwxMC43NSBMMTAuMjUsMTMuNzc4IEwxOC43LDEzLjc3OCBMMTguNywxMC43NSBaIE05LDYuMjk5IEw1LjMsNi4zIEw1LjI5OSw5LjUgTDksOS41IEw5LDYuMjk5IFogTTE4LjcsNi4zIEwxMC4yNSw2LjI5OSBMMTAuMjUsOS41IEwxOC43LDkuNSBMMTguNyw2LjMgWiIgaWQ9IlNoYXBlIiBmaWxsPSIjNDY0RDVBIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBpZD0i57yW57uELTE0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjUwMDAwMCwgNC41MDAwMDApIiBmaWxsPSIjNDQ0RDVCIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNSwwIEMxMS42NDIxMzU2LDAgMTUsMy4zNTc4NjQzOCAxNSw3LjUgQzE1LDExLjY0MjEzNTYgMTEuNjQyMTM1NiwxNSA3LjUsMTUgQzMuMzU3ODY0MzgsMTUgMCwxMS42NDIxMzU2IDAsNy41IEMwLDMuMzU3ODY0MzggMy4zNTc4NjQzOCwwIDcuNSwwIFogTTcuNSwxLjI1IEM0LjA0ODIyMDMxLDEuMjUgMS4yNSw0LjA0ODIyMDMxIDEuMjUsNy41IEMxLjI1LDEwLjk1MTc3OTcgNC4wNDgyMjAzMSwxMy43NSA3LjUsMTMuNzUgQzEwLjk1MTc3OTcsMTMuNzUgMTMuNzUsMTAuOTUxNzc5NyAxMy43NSw3LjUgQzEzLjc1LDQuMDQ4MjIwMzEgMTAuOTUxNzc5NywxLjI1IDcuNSwxLjI1IFogTTguMTEsMy41IEw4LjExLDYuODY5IEwxMS41LDYuODcgTDExLjUsOC4xMiBMOC4xMSw4LjExOSBMOC4xMSwxMS41IEw2Ljg2LDExLjUgTDYuODYsOC4xMTkgTDMuNSw4LjEyIEwzLjUsNi44NyBMNi44Niw2Ljg2OSBMNi44NiwzLjUgTDguMTEsMy41IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="),_=h.ZP.div(l||(l=(0,u.Z)(["\n  .option-editor {\n    border-radius: 4px;\n    border: solid 1px #e0e0e0;\n\n    .option-list {\n      /* 3 个 选项高度 */\n      margin-top: 8px;\n      max-height: 108px;\n      overflow-y: auto;\n\n      ::-webkit-scrollbar {\n        width: 8px;\n        height: 12px;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      }\n\n      ::-webkit-scrollbar-thumb {\n        background-color: rgba(31, 35, 41, 0.1);\n        background-clip: padding-box;\n        border: 1px solid hsla(0, 0%, 100%, 0.7);\n        border-radius: 6px;\n        min-height: 36px;\n      }\n    }\n\n    .add-option-button {\n      line-height: 36px;\n      margin-left: 8px;\n      font-size: 14px;\n      display: flex;\n      align-items: center;\n      cursor: pointer;\n    }\n  }\n\n  .format-editor {\n    margin-top: 12px;\n  }\n"]))),b=h.ZP.div(d||(d=(0,u.Z)(["\n  padding: 0 8px;\n  line-height: 36px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .text-input-container {\n    flex: 1;\n\n    .text-input {\n      padding: 0 8px;\n      border: none;\n      background: transparent;\n    }\n  }\n\n  .drag-icon-container {\n    opacity: 0;\n  }\n\n  :hover {\n    background-color: rgba(0, 0, 0, 0.04);\n\n    .drag-icon-container {\n      opacity: 1;\n    }\n  }\n"]))),M=h.ZP.div(c||(c=(0,u.Z)(["\n  box-sizing: border-box;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  .color {\n    box-sizing: border-box;\n    width: 16px;\n    height: 16px;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  &:hover {\n    border: 1px solid ",";\n  }\n"])),(function(e){return e.optionStyle.background}),(function(e){return e.optionStyle.borderColor}),f.J)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/text/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{S:function(){return d}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_text.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=function(){function e(){}var t=e.prototype;return t.getType=function(){return l.f.TEXT},t.getIconComponent=function(){return function(e){return o().createElement(s.t,Object.assign({src:r},e))}},t.getTitle=function(){return a.Z.t("text")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/text/text-format.js":function(e,t,n){"use strict";n.d(t,{Eh:function(){return s},VH:function(){return r},dF:function(){return a}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js");var i=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.js"),o=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.interface.js"),r=function(e){e.preventDefault(),document.execCommand("insertText",!1,"\n")},s=function(e){if(""===e)return null;var t=[];return e.split("\n").forEach((function(e){t.push({text:e+"\n",type:o.y.TEXT})})),t},a=function(e){var t="";return e.forEach((function(e){e.text.includes("\n")?t+=e.text:t+=e.text+"\n"})),(0,i.xG)(t)}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/url/base-field-feature.service.jsx":function(e,t,n){"use strict";n.d(t,{L:function(){return c}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("react"),o=n.n(i),r=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/icon_smartsheet_attribute_link.svg"),s=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/components/svg-wrapper/index.jsx"),a=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/styles/field-icon.style.js"),l=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),c=function(){function e(){}var t=e.prototype;return t.getType=function(){return d.f.URL},t.getIconComponent=function(){return function(e){return o().createElement(a.C,{height:e.height},o().createElement(s.t,Object.assign({src:r},e)))}},t.getTitle=function(){return l.Z.t("hyperlink")},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/url/pc/cell-editor/dropdown-content/index.jsx":function(e,t,n){"use strict";n.d(t,{W:function(){return f}}),n("../node_modules/core-js/modules/es.string.link.js");var i,o=n("react"),r=n.n(o),s=n("../node_modules/@tencent/dui/lib/components/Button/index.js"),a=n("../node_modules/@tencent/dui/lib/components/Input/index.js"),l=n("../node_modules/@tencent/smartsheet-sdk/es/services/report/pc/record-report.service.js"),d=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/field/common/utils/keydown.js"),c=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),u=n("../node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.div(i||(i=(0,c.Z)(["\n  border: 1px solid #eee;\n  border-radius: 8px;\n  box-shadow: rgb(68 73 77 / 16%) 0px 6px 32px 2px, rgb(0 0 0 / 4%) 0px 4px 6px 2px;\n  background: #fff;\n  width: 310px;\n  padding: 6px 24px 12px;\n\n  .span {\n    padding: 7px 0;\n    display: block;\n    height: 16px;\n    width: 74px;\n    color: #333;\n    margin-right: 6px;\n    font-size: 14px;\n  }\n\n  .button-wrap {\n    display: flex;\n    height: 64px;\n    padding-left: 102px;\n  }\n\n  .warn-span {\n    color: #ef4e2f;\n    font-size: 10pt;\n    margin-top: 4px;\n    margin-left: 80px;\n    margin-bottom: -10px;\n  }\n\n  .link-modify-line {\n    padding-top: 16px;\n    display: flex;\n  }\n\n  .link-input {\n    width: 232px;\n    height: 32px;\n    border-radius: 5px;\n    border: 1px solid #d9d9d9;\n    font-size: 14px;\n    padding: 1px 8px;\n    outline: none;\n    box-sizing: border-box;\n\n    &.check-input {\n      border-color: ",";\n    }\n  }\n\n  .link-button {\n    width: 88px;\n    height: 32px;\n    border-radius: 4px;\n    text-align: center;\n    line-height: 30px;\n    margin-left: 16px;\n    margin-top: 18px;\n  }\n"])),(function(e){return e.isShowWarn?"#ef4e2f":""})),h=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),g=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-field.js"),f=function(e){var t=e.onConfirm,n=e.onCancel,i=e.onBlur,c=e.onFocus,f=e.textInputDisabled,m=(0,o.useState)(e.text),p=m[0],v=m[1],I=(0,o.useState)(e.link),y=I[0],_=I[1],b=(0,o.useState)(!1),M=b[0],C=b[1],w=(0,o.useRef)(null);(0,o.useEffect)((function(){v(e.text),_(e.link)}),[e.text,e.link]),(0,o.useEffect)((function(){setTimeout((function(){var e;null===(e=w.current)||void 0===e||e.focus()}),100)}),[w]);var T=(0,o.useMemo)((function(){return!y}),[y]),E=(0,o.useCallback)((function(e){C(!1),_(e)}),[]),j=(0,o.useCallback)((function(){if(!y||!g.i.isUrl(y))return l.n.cellUrlHint(),void C(!0);t(p,y)}),[p,y,t]),A=(0,o.useCallback)((function(e){var t=e.key,n=e.keyCode;"Enter"===t&&n!==d.O&&(e.currentTarget.blur(),j())}),[j]);return r().createElement(u,{isShowWarn:M},r().createElement("div",{className:"link-modify-line"},r().createElement("span",{className:"span"},h.Z.t("display_text")),r().createElement(a.default,{onChange:v,onKeyDown:A,value:p,inputClassName:"link-input",inputRef:w,placeholder:h.Z.t("please_input_text"),onFocus:c,onBlur:i,disabled:f})),r().createElement("div",{className:"link-modify-line"},r().createElement("span",{className:"span"},h.Z.t("link")),r().createElement(a.default,{inputClassName:"link-input check-input",onChange:E,onKeyDown:A,value:y,placeholder:h.Z.t("please_input_link"),onFocus:c,onBlur:i})),M?r().createElement("div",{className:"warn-span"},r().createElement("span",null,h.Z.t("please_input_valid_link"))):null,r().createElement("div",{className:"button-wrap"},r().createElement(s.default,{className:"link-button",onClick:n},h.Z.t("cancel")),r().createElement(s.default,{className:"link-button",onClick:j,type:"primary",disabled:T},h.Z.t("confirm"))))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/field/user/pc/cell-reader/styled.js":function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var i,o=n("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"),r=n("../node_modules/styled-components/dist/styled-components.browser.esm.js").ZP.div(i||(i=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  cursor: not-allowed;\n  min-height: 19px;\n\n  .nick-name {\n    padding-left: 10px;\n  }\n"])))},"../node_modules/@tencent/smartsheet-sdk/es/workbench/filter/filter-condition.js":function(e,t,n){"use strict";n.d(t,{$Z:function(){return I},BN:function(){return p},F7:function(){return g},Kb:function(){return y},QF:function(){return _},X4:function(){return m},lL:function(){return f},tX:function(){return v}}),n("../node_modules/core-js/modules/es.object.assign.js");var i,o,r,s,a,l,d,c=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),h=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/type-operator/type-operation/date/date-duration.js"),g=[u.m.IS_EMPTY,u.m.IS_NOT_EMPTY],f=((i={})[u.m.IS_EMPTY]=c.Z.t("empty"),i[u.m.IS_NOT_EMPTY]=c.Z.t("not_empty"),i),m=Object.assign(Object.assign({},f),((o={})[u.m.IS]="=",o[u.m.IS_NOT]="≠",o[u.m.IS_GREATER]=">",o[u.m.IS_GREATER_OR_EQUAL]="≥",o[u.m.IS_LESS]="<",o[u.m.IS_LESS_OR_EQUAL]="≤",o)),p=Object.assign(Object.assign({},f),((r={})[u.m.IS]=c.Z.t("eq"),r[u.m.IS_NOT]=c.Z.t("neq"),r[u.m.CONTAINS]=c.Z.t("contain"),r[u.m.DOES_NOT_CONTAIN]=c.Z.t("not_contain"),r)),v=Object.assign(Object.assign({},f),((s={})[u.m.IS]=c.Z.t("eq"),s[u.m.IS_NOT]=c.Z.t("neq"),s[u.m.IS_GREATER]=c.Z.t("later_than"),s[u.m.IS_LESS]=c.Z.t("earlier_than"),s)),I=((a={})[u.m.IS]=c.Z.t("eq"),a),y=((l={})[u.m.IS]=[h.Ot.DETAIL_DATE,h.Ot.TODAY,h.Ot.TOMORROW,h.Ot.YESTERDAY,h.Ot.CURRENT_WEEK,h.Ot.LAST_WEEK,h.Ot.CURRENT_MONTH,h.Ot.LAST_MONTH,h.Ot.THE_PAST_7_DAYS,h.Ot.THE_NEXT_7_DAYS,h.Ot.THE_PAST_30_DAYS,h.Ot.THE_NEXT_30_DAYS],l[u.m.IS_NOT]=[h.Ot.DETAIL_DATE,h.Ot.TODAY,h.Ot.TOMORROW,h.Ot.YESTERDAY,h.Ot.CURRENT_WEEK,h.Ot.LAST_WEEK,h.Ot.CURRENT_MONTH,h.Ot.LAST_MONTH,h.Ot.THE_PAST_7_DAYS,h.Ot.THE_NEXT_7_DAYS,h.Ot.THE_PAST_30_DAYS,h.Ot.THE_NEXT_30_DAYS],l[u.m.IS_LESS]=[h.Ot.DETAIL_DATE,h.Ot.TODAY,h.Ot.TOMORROW,h.Ot.YESTERDAY],l[u.m.IS_GREATER]=[h.Ot.DETAIL_DATE,h.Ot.TODAY,h.Ot.TOMORROW,h.Ot.YESTERDAY],l[u.m.IS_EMPTY]=[],l[u.m.IS_NOT_EMPTY]=[],l),_=((d={})[h.Ot.DETAIL_DATE]=c.Z.t("detail_date"),d[h.Ot.TODAY]=c.Z.t("today"),d[h.Ot.TOMORROW]=c.Z.t("tomorrow"),d[h.Ot.YESTERDAY]=c.Z.t("yesterday"),d[h.Ot.CURRENT_WEEK]=c.Z.t("current_week"),d[h.Ot.LAST_WEEK]=c.Z.t("last_week"),d[h.Ot.CURRENT_MONTH]=c.Z.t("current_month"),d[h.Ot.LAST_MONTH]=c.Z.t("last_month"),d[h.Ot.THE_PAST_7_DAYS]=c.Z.t("past_7_days"),d[h.Ot.THE_NEXT_7_DAYS]=c.Z.t("next_7_days"),d[h.Ot.THE_PAST_30_DAYS]=c.Z.t("past_30_days"),d[h.Ot.THE_NEXT_30_DAYS]=c.Z.t("next_30_days"),d)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/filter/filter-utils.js":function(e,t,n){"use strict";n.d(t,{E:function(){return a},m:function(){return s}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),r=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js");function s(e){return o.p.get(e).getSupportFilterOperators()}function a(e){var t;return null!==(t=(0,i.Z)(s(e))[0])&&void 0!==t?t:r.m.IS_EMPTY}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/filter/filter.interface.js":function(e,t,n){"use strict";n.d(t,{R:function(){return a},a:function(){return s}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),s=[r.bW.GRID,r.bW.KANBAN,r.bW.GALLERY,r.bW.GANTT],a=Symbol.for("feature: IFilterService");o.Ln.merge(a,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_filter_filter_service_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/filter/filter.service.jsx"));case 2:return t=e.sent,i=t.FilterService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/gantt-record-operation/gantt-record-operation.interface.js":function(e,t,n){"use strict";n.d(t,{b:function(){return r},c:function(){return s}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("service: IGanttRecordOperationService");o.Ln.merge(r,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_gantt-record-operation_gantt-record-operatio-825294").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/gantt-record-operation/gantt-record-operation.service.js"));case 2:return t=e.sent,i=t.GanttRecordOperationService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}});var s=Symbol.for("feature: IGanttRecordOperationFeature")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/gantt-setting/gantt-setting.interface.js":function(e,t,n){"use strict";n.d(t,{BS:function(){return s},lL:function(){return a},xz:function(){return i}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ioc/lib/esm/index.js");!function(e){e[e.START=0]="START",e[e.END=1]="END"}(i||(i={}));var s=Symbol.for("service: IGanttSettingService");r.Ln.merge(s,{useFactory:function(){return(0,o.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_gantt-setting_gantt-setting_service_js").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/gantt-setting/gantt-setting.service.js"));case 2:return t=e.sent,i=t.GanttSettingService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}});var a=Symbol.for("feature: IGanttSettingFeature")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/group/group.interface.js":function(e,t,n){"use strict";n.d(t,{CL:function(){return l},IU:function(){return s},fM:function(){return a}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),s=[r.bW.GRID,r.bW.GANTT],a=Symbol.for("feature: IGroupService"),l=3;o.Ln.merge(a,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_group_group_service_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/group/group.service.jsx"));case 2:return t=e.sent,i=t.GroupService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/kanban-group-by/kanban-group-by.interface.js":function(e,t,n){"use strict";n.d(t,{a:function(){return r}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("IKanbanGroupByFeature");o.Ln.merge(r,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_kanban-group-by_kanban-group-by_feature_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/kanban-group-by/kanban-group-by.feature.jsx"));case 2:return t=e.sent,i=t.KanbanGroupByFeature,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/mobile/components/forms/index.jsx":function(e,t,n){"use strict";n.d(t,{E:function(){return T},Z:function(){return E}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.map.js"),n("react")),r=n.n(o),s=n("../node_modules/lodash/isEqual.js"),a=n.n(s),l=n("../node_modules/@tencent/docs-user-agent/dist/index.js"),d=n.n(l),c=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/utils/event.js"),u=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),{width:16,height:16,viewBox:"0 0 24 24"}),h=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),g=n("../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js"),f="xhhCrYwpTVsT7QorXuaQ",m="Nr8QYzl8RH3DKKoj9LZV",p="lCjucjv34h2zgOaqrN7b",v="R2CqjVLBYJuhnRnUQLLm",I="FefnWUSSprHcs7VCIB7P",y="UhK6ASWL6G3LA4ycp7wv",_="uTuyech4gBEF9565S8i_",b="nqyA88NQ_4a7SzghJYjk",M="ytupvLioT_Pb3x1oBMes",C=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleCellChange=function(e,t,i){var o=n.props.item,r=o.field,s=o.recordId;n.props.cellCallbackService.handleCellChange(e,null!==i&&void 0!==i?i:s,r.getId(),t)},n.handlePropertyChangeByCellEditor=function(e){var t=n.props.item.field,i=t.getTitle(),o=t.getType();n.props.cellCallbackService.handlePropertyChange({property:e,title:i,type:o,oldField:t})},n.handleClickCell=function(){c.v.CELL_EDITING.fire({recordId:n.props.item.recordId,fieldId:n.props.item.field.getId()}),n.props.cellCallbackService.handleCellClick(n.props.item.field.getId(),n.props.item.recordId)},n}(0,i.Z)(t,e);var n=t.prototype;return n.render=function(){if(!this.props.item)return null;var e=this.props.item.field.getTitle(),t=this.props.item.Icon;return r().createElement("div",{className:f},r().createElement("div",{className:m},r().createElement(t,Object.assign({},u)),r().createElement("div",{className:p},e)),this.renderData())},n.customizeStyleForFieldType=function(e){var t={cursor:"pointer",padding:"7px 8px",border:"1px solid #e3e3e3",borderRadius:"4px"},n=[h.f.CREATED_USER,h.f.MODIFIED_USER],i=[h.f.MODIFIED_TIME,h.f.CREATED_TIME],o=[h.f.NUMBER,h.f.TEXT,h.f.PROGRESS,h.f.PHONE,h.f.EMAIL];return i.includes(e)?Object.assign({background:"rgb(233, 235, 237, 0.68)"},t):n.includes(e)?Object.assign(t,{background:"rgb(233, 235, 237, 0.68)",padding:0}):o.includes(e)?{padding:0,borderWidth:0}:g.dX.isSelectFieldType(e)?Object.assign(t,{padding:0}):t},n.renderData=function(){var e=this.props.item,t=e.CellEditor,n=e.field,i=e.value,o=e.recordId;if(!t)return null;var s=n.getType(),a=this.customizeStyleForFieldType(s),l={recordId:o,fieldId:n.getId()};return r().createElement("div",{className:v,style:a,onClick:this.handleClickCell},r().createElement(t,{key:o,cellPosition:l,value:null!==i&&void 0!==i?i:null,property:n.getProperty(),standardCell:n.getStandardCell(o),onChange:this.handleCellChange,onPropertyChange:this.handlePropertyChangeByCellEditor}))},t}(o.Component),w=function(e){return e.map((function(e){return{value:e.value,fieldJSON:e.fieldJSON,recordId:e.recordId,canEdit:e.canEdit}}))},T=(0,o.createContext)(null),E=function(e){function t(t){var n,i;return(n=e.call(this,t)||this).shouldScrollIntoView=function(e){return!(!d().isAndroid||!d().isWxWork&&!d().isTencentDocsApp)&&e.getBoundingClientRect().top>window.innerHeight/2},n.scrollIntoView=function(e,t){n.listEl.current&&n.shouldScrollIntoView(t)&&(n.originListScrollHeight||(n.originListScrollHeight=n.listEl.current.scrollHeight),e?(n.listEl.current.style.height=n.originListScrollHeight+200+"px",setTimeout((function(){var e;null===(e=n.listEl.current)||void 0===e||e.scrollTo({top:n.originListScrollHeight+200,behavior:"smooth"}),t.scrollIntoView({block:"center",behavior:"smooth"})}),500)):n.listEl.current.style.height=n.originListScrollHeight+"px")},n.clickSplit=function(){n.props.cellCallbackService.setHiddenStatus(!n.state.showHide),n.setState({showHide:!n.state.showHide}),c.v.CLICK_HIDE_ROW.fire({showHideRecord:!n.state.showHide})},n.handleClickHideRow=function(e){n.setState({showHide:e.showHideRecord})},n.getSplit=function(){return 0===n.props.hideItemDataList.length?null:(e=n.state.showHide?M:b,r().createElement("div",{className:y,onClick:n.clickSplit},r().createElement("div",{className:e}),r().createElement("span",{className:_},n.props.hideItemDataList.length," 个隐藏字段")));var e},n.getHideItemList=function(){return n.state.showHide?r().createElement("div",{className:"list"},n.props.hideItemDataList.map((function(e){return r().createElement(C,{key:""+e.field.getId(),item:e,cellCallbackService:n.props.cellCallbackService})}))):null},n.listEl=r().createRef(),n.state={showHide:null!==(i=t.cellCallbackService.getHiddenStatus())&&void 0!==i&&i},n}(0,i.Z)(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){var n=w(this.props.itemDataList),i=w(e.itemDataList),o=w(this.props.hideItemDataList),r=w(e.hideItemDataList),s=this.props.itemDataList[0].recordId,l=e.itemDataList[0].recordId;return this.state.showHide!==t.showHide||s!==l||!a()(n,i)||!a()(o,r)},n.componentDidMount=function(){var e;(null===(e=this.props.cellCallbackService)||void 0===e?void 0:e.isMeetingAudience())&&(this.clickHideRowHandler=c.v.CLICK_HIDE_ROW.event(this.handleClickHideRow))},n.componentWillUnmount=function(){var e;null===(e=this.clickHideRowHandler)||void 0===e||e.dispose()},n.render=function(){var e=this,t={scrollIntoView:this.scrollIntoView};return r().createElement("div",{className:"quick-fill-forms",style:{padding:"8px 18px 16px"}},r().createElement(T.Provider,{value:t},r().createElement("div",{className:"list",ref:this.listEl},this.props.itemDataList.map((function(t){return r().createElement(C,{key:""+t.field.getId(),item:t,cellCallbackService:e.props.cellCallbackService})}))),this.getSplit(),this.getHideItemList()),r().createElement("div",{className:I}))},t}(o.Component)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/mobile/index.interface.js":function(e,t,n){"use strict";n.d(t,{F:function(){return s},_:function(){return i}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ioc/lib/esm/index.js");!function(e){e.GRID="表格",e.KANBAN="看板",e.GALLERY="画册",e.GANTT="甘特"}(i||(i={}));var s=Symbol.for("feature: IMobileRecordDetailService");r.Ln.merge(s,{useFactory:function(){return(0,o.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e("initial_vendors_public_1"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_field_common_components_carousel_pla-87542f"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_record-detail_mobile_index_jsx"),n.e("node_modules_tencent_smartsheet-sdk_es_workbench_field_common_components_carousel_mobile_inde-d16be9")]).then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/mobile/index.jsx"));case 2:return t=e.sent,i=t.MobileRecordDetailService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/pc/components/body/constant.js":function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var i=120},"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/pc/index.interface.js":function(e,t,n){"use strict";n.d(t,{Oy:function(){return r},gV:function(){return a},tM:function(){return s}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=480,s=Symbol.for("feature: IRecordDetailService");o.Ln.merge(s,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_field_common_components_carousel_pla-87542f"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_record-detail_pc_index_jsx"),n.e("node_modules_tencent_smartsheet-sdk_es_workbench_field_common_components_carousel_pc_index_cs-f96436")]).then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/pc/index.jsx"));case 2:return t=e.sent,i=t.RecordDetail,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}});var a=Symbol.for("feature: IRecordDetailController")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-detail/utils/event.js":function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var i=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),o={SCROLL_START:new i.Emitter,CAROUSEL_SCROLL_START:new i.Emitter,CAROUSEL_SCROLL_END:new i.Emitter,SCROLL_END:new i.Emitter,TRANSITION_END:new i.Emitter,CELL_EDITING:new i.Emitter,HIDE_FIELD:new i.Emitter,SHOW_DRAWER:new i.Emitter,HIDE_DRAWER:new i.Emitter,CLICK_HIDE_ROW:new i.Emitter,panel:{SCROLL_TO:new i.Emitter}}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-operation/record-operation.interface.jsx":function(e,t,n){"use strict";n.d(t,{PV:function(){return a},aT:function(){return s}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ioc/lib/esm/index.js");!function(e){e.TOP="top",e.BOTTOM="bottom"}(i||(i={}));var s=Symbol.for("service: IRecordOperationService");r.Ln.merge(s,{useFactory:function(){return(0,o.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_record-operation_record-operation_service_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/record-operation/record-operation.service.jsx"));case 2:return t=e.sent,i=t.RecordOperationService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}});var a=Symbol.for("feature: IRecordOperationFeature")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/row-height/config.jsx":function(e,t,n){"use strict";n.d(t,{Pc:function(){return p},SF:function(){return o},OY:function(){return h},hV:function(){return f},TN:function(){return m}}),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.object.keys.js");var i,o,r=n("react"),s=n.n(r),a="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT50b29sYmFyX3BhcmFncmFwaF9saW5lX3NwYWNpbmc8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0idG9vbGJhcl9wYXJhZ3JhcGhfbGluZV9zcGFjaW5nIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iX+Wbvuaghy/lt6XlhbfmoI8vMDRf5bm754Gv54mHL+ihjOmXtOi3nSI+CiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGXlpI3liLYtMjciIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNNyw1IEw5LDggTDcuNTk5LDggTDcuNTk5LDE2IEw5LDE2IEw3LDE5IEw1LDE2IEw2LjQsMTYgTDYuNCw4IEw1LDggTDcsNSBaIE0yMCwxNi41IEwyMCwxNy43NSBMMTAuNSwxNy43NSBMMTAuNSwxNi41IEwyMCwxNi41IFogTTIwLDExLjM4IEwyMCwxMi42MyBMMTAuNSwxMi42MyBMMTAuNSwxMS4zOCBMMjAsMTEuMzggWiBNMjAsNi4yNSBMMjAsNy41IEwxMC41LDcuNSBMMTAuNSw2LjI1IEwyMCw2LjI1IFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiM0NjRENUEiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",l=n("../node_modules/@tencent/smartsheet-sdk/es/schema/toolbar.js"),d=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/base-view/index.interface.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),h=[{name:l.Ce.ROW_HEIGHT,type:"text",text:d.Z.t("row_height"),hasArrow:!1,tooltip:d.Z.t("row_height_setting"),icon:s().createElement("img",{src:a}),viewTypes:[u.bW.GRID]}];!function(e){e.SHORT="1",e.MEDIUM="2",e.TALL="3",e.EXTRATALL="4"}(o||(o={}));var g=((i={})[o.SHORT]=c.K.Short,i[o.MEDIUM]=c.K.Medium,i[o.TALL]=c.K.Tall,i[o.EXTRATALL]=c.K.ExtraTall,i);function f(e){return Object.keys(g).find((function(t){return g[t]===e}))}function m(e){return g[e]}var p=[{id:f(c.K.Short),content:d.Z.t("row_height_default"),icon:s().createElement("img",{src:a})},{id:f(c.K.Medium),content:d.Z.t("row_height_medium"),icon:s().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9yb3dfc3BhY2luZ19tPC90aXRsZT4KICAgIDxnIGlkPSJQQyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb24iPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xl5aSN5Yi2LTI3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03LDUgTDksOCBMNy41OTksOCBMNy41OTksMTYgTDksMTYgTDcsMTkgTDUsMTYgTDYuMzk5LDE2IEw2LjM5OSw4IEw1LDggTDcsNSBaIE0xOS41LDEzIEMxOS43NzYxNDI0LDEzIDIwLDEzLjIyMzg1NzYgMjAsMTMuNSBMMjAsMTcuNSBDMjAsMTcuNzc2MTQyNCAxOS43NzYxNDI0LDE4IDE5LjUsMTggTDEwLjUsMTggQzEwLjIyMzg1NzYsMTggMTAsMTcuNzc2MTQyNCAxMCwxNy41IEwxMCwxMy41IEMxMCwxMy4yMjM4NTc2IDEwLjIyMzg1NzYsMTMgMTAuNSwxMyBMMTkuNSwxMyBaIE0xOC44LDE0LjIgTDExLjIsMTQuMiBMMTEuMiwxNi44IEwxOC44LDE2LjggTDE4LjgsMTQuMiBaIE0xOS41LDYgQzE5Ljc3NjE0MjQsNiAyMCw2LjIyMzg1NzYzIDIwLDYuNSBMMjAsMTAuNSBDMjAsMTAuNzc2MTQyNCAxOS43NzYxNDI0LDExIDE5LjUsMTEgTDEwLjUsMTEgQzEwLjIyMzg1NzYsMTEgMTAsMTAuNzc2MTQyNCAxMCwxMC41IEwxMCw2LjUgQzEwLDYuMjIzODU3NjMgMTAuMjIzODU3Niw2IDEwLjUsNiBMMTkuNSw2IFogTTE4LjgsNy4yIEwxMS4yLDcuMiBMMTEuMiw5LjggTDE4LjgsOS44IEwxOC44LDcuMiBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjNDY0RDVBIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="})},{id:f(c.K.Tall),content:d.Z.t("row_height_high"),icon:s().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9yb3dfc3BhY2luZ19oPC90aXRsZT4KICAgIDxnIGlkPSJQQyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb24iPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xl5aSN5Yi2LTI3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik03LDUgTDksOCBMNy41OTksOCBMNy41OTksMTYgTDksMTYgTDcsMTkgTDUsMTYgTDYuMzk5LDE2IEw2LjM5OSw4IEw1LDggTDcsNSBaIE0yMCwxNi41IEwyMCwxNy43NSBMMTAuNSwxNy43NSBMMTAuNSwxNi41IEwyMCwxNi41IFogTTE5LjUsNiBDMTkuNzc2MTQyNCw2IDIwLDYuMjIzODU3NjMgMjAsNi41IEwyMCwxMy41IEMyMCwxMy43NzYxNDI0IDE5Ljc3NjE0MjQsMTQgMTkuNSwxNCBMMTAuNSwxNCBDMTAuMjIzODU3NiwxNCAxMCwxMy43NzYxNDI0IDEwLDEzLjUgTDEwLDYuNSBDMTAsNi4yMjM4NTc2MyAxMC4yMjM4NTc2LDYgMTAuNSw2IEwxOS41LDYgWiBNMTguOCw3LjIgTDExLjIsNy4yIEwxMS4yLDEyLjggTDE4LjgsMTIuOCBMMTguOCw3LjIgWiIgaWQ9IuW9oueKtue7k+WQiCIgZmlsbD0iIzQ2NEQ1QSIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="})},{id:f(c.K.ExtraTall),content:d.Z.t("row_height_super_high"),icon:s().createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9yb3dfc3BhY2luZ19ocGx1czwvdGl0bGU+CiAgICA8ZyBpZD0iUEMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZeWkjeWIti0yNyIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNNyw1IEw5LDggTDcuNTk5LDggTDcuNTk5LDE2IEw5LDE2IEw3LDE5IEw1LDE2IEw2LjM5OSwxNiBMNi4zOTksOCBMNSw4IEw3LDUgWiBNMTkuNSw2IEMxOS43NzYxNDI0LDYgMjAsNi4yMjM4NTc2MyAyMCw2LjUgTDIwLDE3LjUgQzIwLDE3Ljc3NjE0MjQgMTkuNzc2MTQyNCwxOCAxOS41LDE4IEwxMC41LDE4IEMxMC4yMjM4NTc2LDE4IDEwLDE3Ljc3NjE0MjQgMTAsMTcuNSBMMTAsNi41IEMxMCw2LjIyMzg1NzYzIDEwLjIyMzg1NzYsNiAxMC41LDYgTDE5LjUsNiBaIE0xOC44LDcuMiBMMTEuMiw3LjIgTDExLjIsMTYuOCBMMTguOCwxNi44IEwxOC44LDcuMiBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjNDY0RDVBIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="})}]},"../node_modules/@tencent/smartsheet-sdk/es/workbench/row-height/row-height.interface.js":function(e,t,n){"use strict";n.d(t,{Q:function(){return r}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("feature: IRowHeightService");o.Ln.merge(r,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_row-height_row-height_service_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/row-height/row-height.service.jsx"));case 2:return t=e.sent,i=t.RowHeightService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/search/search.interface.js":function(e,t,n){"use strict";n.d(t,{U:function(){return i},x:function(){return s}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ioc/lib/esm/index.js"),s=Symbol.for("feature: ISearchService");r.Ln.merge(s,{useFactory:function(){return(0,o.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e("initial_vendors_tencent_dui"),n.e("initial_vendors_public_1"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_search_search_service_jsx"),n.e("node_modules_tencent_smartsheet-sdk_es_workbench_search_components_mobile_button-group_module-9bfbe5")]).then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/search/search.service.jsx"));case 2:return t=e.sent,i=t.SearchService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}}),function(e){e.SEARCH="SEARCH",e.REPLACE="REPLACE"}(i||(i={}))},"../node_modules/@tencent/smartsheet-sdk/es/workbench/selection/interface.js":function(e,t,n){"use strict";var i;n.d(t,{D:function(){return o},N:function(){return i}}),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(i||(i={}));var o=Symbol.for("ISelectionFeature")},"../node_modules/@tencent/smartsheet-sdk/es/workbench/sort/sort-condition.js":function(e,t,n){"use strict";n.d(t,{zI:function(){return C},jN:function(){return E},BT:function(){return T},IN:function(){return w},jK:function(){return M}});var i,o,r,s,a,l,d,c,u=n("../node_modules/classnames/index.js"),h=n.n(u),g="lSfGzmVXyNmMrk5b8S4r",f="eLvia79V4GTUco9HPl3g",m="OVaz8ouZEGn8P8kBHVvV",p="jYHYXBPtWpqXIq41QhEn",v="EBiWBfNvK5rog4bK8AsB",I=function(e){var t=e.order,n=[m,p];return t||n.reverse(),React.createElement("div",{className:g},React.createElement("div",{className:h()(n[0],f)}),React.createElement("div",{className:v}),React.createElement("div",{className:h()(n[1],f)}))},y=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),_=((i={})[0]=y.Z.t("number_asc"),i[1]=y.Z.t("number_desc"),i[2]=y.Z.t("string_asc"),i[3]=y.Z.t("string_desc"),i[4]=y.Z.t("select_asc"),i[5]=y.Z.t("select_desc"),i[6]=I({order:!1}),i[7]=I({order:!0}),i[8]=y.Z.t("other_asc"),i[9]=y.Z.t("other_desc"),i),b=((o={})[0]=y.Z.t("number_menu_asc"),o[1]=y.Z.t("number_menu_desc"),o[2]=y.Z.t("string_menu_asc"),o[3]=y.Z.t("string_menu_desc"),o[4]=y.Z.t("select_menu_asc"),o[5]=y.Z.t("select_menu_desc"),o[6]=y.Z.t("option_menu_asc"),o[7]=y.Z.t("option_menu_desc"),o[8]=y.Z.t("other_menu_asc"),o[9]=y.Z.t("other_menu_desc"),o);function M(e){return e?c.DESC:c.ASC}!function(e){e.ASC="ASC",e.DESC="DESC"}(c||(c={}));var C=((r={})[c.ASC]={panelText:_[0],menuText:b[0]},r[c.DESC]={panelText:_[1],menuText:b[1]},r),w=((s={})[c.ASC]={panelText:_[2],menuText:b[2]},s[c.DESC]={panelText:_[3],menuText:b[3]},s),T=((a={})[c.ASC]={panelText:_[4],menuText:b[4]},a[c.DESC]={panelText:_[5],menuText:b[5]},a),E=((l={})[c.ASC]={panelText:_[6],menuText:b[6]},l[c.DESC]={panelText:_[7],menuText:b[7]},l);(d={})[c.ASC]={panelText:_[8],menuText:b[8]},d[c.DESC]={panelText:_[9],menuText:b[9]}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/sort/sort.interface.js":function(e,t,n){"use strict";n.d(t,{YP:function(){return a},eD:function(){return s},sY:function(){return l}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),s={isAutoSort:!1,sortInfos:[]},a=[r.bW.GRID,r.bW.KANBAN,r.bW.GALLERY,r.bW.GANTT],l=Symbol.for("feature: ISortService");o.Ln.merge(l,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_sort_sort_service_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/sort/sort.service.jsx"));case 2:return t=e.sent,i=t.SortService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/stage/index.jsx":function(e,t,n){"use strict";n.d(t,{H:function(){return h}});var i=n("react"),o=n.n(i),r=n("../node_modules/lodash/isUndefined.js"),s=n.n(r),a=n("react-dom"),l=n.n(a),d="MTjbGvraEr0JxhCc0z9K",c="WwERHbcjEGKLaiYBWLtF",u="ub34OS9FqRSmJEDuevnf",h=function(){function e(e){var t,n=this;this.container=document.createElement("div"),this.stage=document.createElement("div"),this.showState=!1,this.destroy=function(){n.hide(),n.root.removeChild(n.container)},this.show=function(e,t){return l().render(o().createElement(o().Fragment,null,e),n.stage),n.toggleVisible(!0),n.updateOffset(t),{root:n.root,container:n.container}},this.hide=function(){n.showState&&(n.toggleVisible(!1),l().unmountComponentAtNode(n.stage))},this.updateOffset=function(e){var t=e.x,i=e.y,o=n.adjustLeft(t);n.updateStageOffset(n.stage,{x:o,y:i})},this.getShowState=function(){return n.showState},this.updateContainerStyle=function(e){n.container.style.left=e.x+"px",n.container.style.top=e.y+"px";var t=e.width;t&&(n.container.style.width=t+"px")},this.adjustLeft=function(e){if(s()(n.stageWidth))return e;if(e<0)return 0;var t=n.container.clientWidth,i=e+n.stageWidth;return i<=t?e:e-(i-t)},this.toggleVisible=function(e){n.showState=e,n.container.style.display=e?"block":"none"},this.initDOM=function(e){var t=e.id,i=e.root,o=e.showMask,r=void 0!==o&&o;n.container.id=t,n.container.className=n.containerClassName?n.containerClassName:d,r&&(n.mask=document.createElement("div"),n.mask.className=c,n.container.appendChild(n.mask)),n.stage.className=n.stageClassName?n.stageClassName:u,n.container.appendChild(n.stage),i.appendChild(n.container)},this.root=e.root,this.stageClassName=e.stageClassName,this.containerClassName=e.containerClassName,this.stageWidth=e.stageWidth,this.updateStageOffset=null!==(t=e.updateStageOffset)&&void 0!==t?t:this.defaultUpdateStageOffset,this.initDOM(e)}var t=e.prototype;return t.getMask=function(){return this.mask},t.defaultUpdateStageOffset=function(e,t){e.style.transform="translate3d("+t.x+"px, "+t.y+"px, 1px)"},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/stat/stat-tools.interface.js":function(e,t,n){"use strict";n.d(t,{r:function(){return s},u:function(){return r}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=[n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js").bW.GRID],s=Symbol.for("IStatToolsService");o.Ln.merge(s,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_stat_stat-tools_service_jsx").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/stat/stat-tools.service.jsx"));case 2:return t=e.sent,i=t.StatToolsService,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/table-description/pc/interface.pc.js":function(e,t,n){"use strict";n.d(t,{v:function(){return r}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("IPcTableDescriptionFeature");o.Ln.merge(r,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e("bundle_vendors_workbench"),n.e("bundle_clipboard_lib"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_table-description_common_alloy-edito-f82f37"),n.e("vendors-node_modules_tencent_smartsheet-sdk_es_workbench_table-description_pc_feature_pc_jsx--6273b7"),n.e("node_modules_tencent_smartsheet-sdk_es_workbench_common_service_notice-modal_interface_js-nod-69d73f")]).then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/table-description/pc/feature.pc.jsx"));case 2:return t=e.sent,i=t.TableDescriptionFeature,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/undo-redo/undo-redo.interface.js":function(e,t,n){"use strict";n.d(t,{V:function(){return r}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/ioc/lib/esm/index.js"),r=Symbol.for("IUndoRedoFeature");o.Ln.merge(r,{useFactory:function(){return(0,i.__awaiter)(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e("node_modules_tencent_smartsheet-sdk_es_workbench_undo-redo_undo-redo_feature_js").then(n.bind(n,"../node_modules/@tencent/smartsheet-sdk/es/workbench/undo-redo/undo-redo.feature.js"));case 2:return t=e.sent,i=t.UndoRedoFeature,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))}})},"../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/mobile/bottom-drawer.jsx":function(e,t,n){"use strict";n.d(t,{l:function(){return h}}),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.function.name.js");var i=n("react"),o=n.n(i),r=n("../node_modules/classnames/index.js"),s=n.n(r),a=n("../node_modules/@tencent/dui/lib/components/Divider/index.js"),l=n("../node_modules/@tencent/dui/lib/components/Drawer/index.js"),d=n("../node_modules/@tencent/dui/lib/components/Menu/index.js"),c=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/common/styles/menu.module.css"),u=n("../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/mobile/index.module.css"),h=function(e){var t=e.visible,n=e.title,i=e.items,r=e.selectedIds,h=e.onClose,g=e.onClick;return o().createElement(l.default,{visible:t,onClose:h,title:"",closable:!1,mask:!0,className:u.Z.bottomDrawer,contentClassName:u.Z.bottomDrawerContent,containerClassName:u.Z.bottomDrawerContainer,titleStyle:{display:"none"},placement:"bottom"},o().createElement("div",{className:u.Z.bottomDrawerHeader},o().createElement("span",{className:s()(u.Z.bottomDrawerTitle,c.Z.titleLimit)},n),o().createElement("div",{className:u.Z.closeBtn,onClick:h})),o().createElement(a.default,{className:u.Z.bottomDrawerDivider}),o().createElement("div",{className:u.Z.bottomDrawerMenu},i.map((function(e,t){return o().createElement("div",{className:u.Z.bottomDrawerMenuItemGroup},o().createElement(d.default.Item,{className:u.Z.menuItem,icon:o().createElement("img",{className:u.Z.menuItemIcon,src:e.icon}),selected:!!e.id&&r.includes(e.id),onClick:function(){return g(e.id)}},o().createElement("span",{className:u.Z.menuItemTitle},e.name)),i.length-t!==1&&o().createElement(a.default,{className:s()(u.Z.bottomDrawerDivider,u.Z.menuItemDivider)}))}))))}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/view-constant.js":function(e,t,n){"use strict";n.d(t,{x:function(){return d}}),n("../node_modules/core-js/modules/es.array.find.js");var i=n("../node_modules/@tencent/docs-design-resources/pc/svg/toolbar_smartsheet_excel.svg"),o=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),r=n("../node_modules/lodash/isEqual.js"),s=n.n(r),a=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),l=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),d=[{icon:i,name:o.Z.t("view_table"),type:l.bW.GRID},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMCA1LjVDMjAgNS4yMjM4NiAxOS43NzYxIDUgMTkuNSA1SDQuNUM0LjIyMzg2IDUgNCA1LjIyMzg2IDQgNS41VjE4LjVDNCAxOC43NzYxIDQuMjIzODYgMTkgNC41IDE5SDE5LjVDMTkuNzc2MSAxOSAyMCAxOC43NzYxIDIwIDE4LjVWNS41Wk01LjI1IDYuMjVIMTguNzVWMTcuNzVINS4yNVY2LjI1Wk0xMC44NzUgOEMxMC45NDQgOCAxMSA4LjEyNzkyIDExIDguMjg1NzFWMTUuNzE0M0MxMSAxNS44NzIxIDEwLjk0NCAxNiAxMC44NzUgMTZINy4xMjVDNy4wNTU5NiAxNiA3IDE1Ljg3MjEgNyAxNS43MTQzVjguMjg1NzFDNyA4LjEyNzkyIDcuMDU1OTYgOCA3LjEyNSA4SDEwLjg3NVpNMTcgOC4xNDI4NkMxNyA4LjA2Mzk2IDE2Ljk0NCA4IDE2Ljg3NSA4SDEzLjEyNUMxMy4wNTYgOCAxMyA4LjA2Mzk2IDEzIDguMTQyODZWMTEuODU3MUMxMyAxMS45MzYgMTMuMDU2IDEyIDEzLjEyNSAxMkgxNi44NzVDMTYuOTQ0IDEyIDE3IDExLjkzNiAxNyAxMS44NTcxVjguMTQyODZaIiBmaWxsPSIjNDU0RDVBIi8+Cjwvc3ZnPgo=",name:o.Z.t("view_kanban"),type:l.bW.KANBAN},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOS41IDVDMTkuNzc2MSA1IDIwIDUuMjIzODYgMjAgNS41VjE4LjVDMjAgMTguNzc2MSAxOS43NzYxIDE5IDE5LjUgMTlINC41QzQuMjIzODYgMTkgNCAxOC43NzYxIDQgMTguNVY1LjVDNCA1LjIyMzg2IDQuMjIzODYgNSA0LjUgNUgxOS41Wk0xOC43NSA2LjI1SDUuMjVWMTcuNzVIMTguNzVWNi4yNVpNMTcuMTI1IDEyLjYyNVYxMS4zNzVIOC44NzVWMTIuNjI1SDE3LjEyNVpNMTQuMTI1IDE0LjM3NVYxNS42MjVINi44NzVWMTQuMzc1SDE0LjEyNVpNMTQuMTI1IDkuNjI1VjguMzc1SDYuODc1VjkuNjI1SDE0LjEyNVoiIGZpbGw9IiM0NTRENUEiLz4KPC9zdmc+Cg==",name:o.Z.t("view_gantt"),type:l.bW.GANTT,hide:!0},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMCA1LjVDMjAgNS4yMjM4NiAxOS43NzYxIDUgMTkuNSA1SDQuNUM0LjIyMzg2IDUgNCA1LjIyMzg2IDQgNS41VjE4LjVDNCAxOC43NzYxIDQuMjIzODYgMTkgNC41IDE5SDE5LjVDMTkuNzc2MSAxOSAyMCAxOC43NzYxIDIwIDE4LjVWNS41Wk01LjI1IDYuMjVIMTguNzVWMTcuNzVINS4yNVY2LjI1Wk0xMC44NzUgOEMxMC45NDQgOCAxMSA4LjA0Nzk3IDExIDguMTA3MTRWMTAuODkyOUMxMSAxMC45NTIgMTAuOTQ0IDExIDEwLjg3NSAxMUg3LjEyNUM3LjA1NTk2IDExIDcgMTAuOTUyIDcgMTAuODkyOVY4LjEwNzE0QzcgOC4wNDc5NyA3LjA1NTk2IDggNy4xMjUgOEgxMC44NzVaTTExIDEzLjEwNzFDMTEgMTMuMDQ4IDEwLjk0NCAxMyAxMC44NzUgMTNINy4xMjVDNy4wNTU5NiAxMyA3IDEzLjA0OCA3IDEzLjEwNzFWMTUuODkyOUM3IDE1Ljk1MiA3LjA1NTk2IDE2IDcuMTI1IDE2SDEwLjg3NUMxMC45NDQgMTYgMTEgMTUuOTUyIDExIDE1Ljg5MjlWMTMuMTA3MVpNMTYuODc1IDhDMTYuOTQ0IDggMTcgOC4wNDc5NyAxNyA4LjEwNzE0VjEwLjg5MjlDMTcgMTAuOTUyIDE2Ljk0NCAxMSAxNi44NzUgMTFIMTMuMTI1QzEzLjA1NiAxMSAxMyAxMC45NTIgMTMgMTAuODkyOVY4LjEwNzE0QzEzIDguMDQ3OTcgMTMuMDU2IDggMTMuMTI1IDhIMTYuODc1Wk0xNyAxMy4xMDcxQzE3IDEzLjA0OCAxNi45NDQgMTMgMTYuODc1IDEzSDEzLjEyNUMxMy4wNTYgMTMgMTMgMTMuMDQ4IDEzIDEzLjEwNzFWMTUuODkyOUMxMyAxNS45NTIgMTMuMDU2IDE2IDEzLjEyNSAxNkgxNi44NzVDMTYuOTQ0IDE2IDE3IDE1Ljk1MiAxNyAxNS44OTI5VjEzLjEwNzFaIiBmaWxsPSIjNDU0RDVBIi8+Cjwvc3ZnPgo=",name:o.Z.t("view_photo"),type:l.bW.GALLERY}];(function(e,t){var n=localStorage.getItem(e);if(null===n)return!1;if(void 0===t)return!0;try{var i=JSON.parse(n);return s()(i,t)}catch(o){a.k.debug(o)}return!1})("SMART_SHEET_SHOW_GANTT_VIEW")&&(d.find((function(e){return e.type===l.bW.GANTT})).hide=!1)},"../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/view-switch.interface.js":function(e,t,n){"use strict";n.d(t,{C:function(){return i},m:function(){return o}}),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.object.to-string.js");var i=30,o=Symbol.for("feature: IViewSwitchService")},"../node_modules/@tencent/xtable-common/es/decorators/execution/debounce.js":function(e,t,n){"use strict";n.d(t,{Ds:function(){return s},LF:function(){return d},ab:function(){return l}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/lodash/debounce.js")),r=n.n(o);function s(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),function(n,i,o){var s=o.value;return o.value=r()(s,e,t),o}}var a=function(){var e=[],t=[],n=function(e){var t=e[0],n=e[1],o=e[2];n.call.apply(n,[t].concat((0,i.Z)(o)))},o=r()((function(){for(;t.length;)n(t.shift());for(;e.length;)n(e.shift())})),s=function(e,t,n){n&&function(e,t,n){return e.some((function(e){return t===e[0]&&n===e[1]}))}(e,t[0],t[1])||e.push(t)};return{debounceLowPriority:function(t){return void 0===t&&(t=!0),function(n,i,r){var a=r.value;return r.value=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];s(e,[this,a,i],t),o()},r}},debounceHighPriority:function(e){return void 0===e&&(e=!0),function(n,i,r){var a=r.value;return r.value=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];s(t,[this,a,i],e),o()},r}}}}(),l=a.debounceLowPriority,d=a.debounceHighPriority},"../node_modules/@tencent/xtable-common/es/decorators/execution/throttle.js":function(e,t,n){"use strict";n.d(t,{P:function(){return a},c:function(){return l}});var i=n("../node_modules/lodash/debounce.js"),o=n.n(i),r=n("../node_modules/lodash/throttle.js"),s=n.n(r);function a(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),function(n,i,o){var r=o.value;return o.value=s()(r,e,t),o}}function l(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),function(n,i,r){var a=r.value;return r.value=o()(s()(a,e,t),0),r}}},"../node_modules/@tencent/xtable-common/es/delegator/index.js":function(e,t,n){"use strict";n.d(t,{U:function(){return r},s:function(){return i}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.entries.js");var i,o=n("../node_modules/@tencent/xtable-common/es/logger/index.js");!function(e){e.METHOD="method",e.GETTER="getter"}(i||(i={}));var r=function(){function e(e,t){this.proto=e,this.target=t,this.methods=new Set,this.getters=new Set,this.setters=new Set}e.delegates=function(t,n,i){var o=new e(t,n);return Object.entries(i).forEach((function(e){var t=e[0],n=e[1];o[n](t)})),o};var t=e.prototype;return t.method=function(e){this.methods.has(e)&&o.k.error("[common][delegator]出现相同的方法名"),this.methods.add(e);var t=this.target;return this.proto[e]=function(){var n;return(n=this[t])[e].apply(n,arguments)},this},t.getter=function(e){this.getters.add(e);var t=this.target;return Object.defineProperty(this.proto,e,{get:function(){return this[t][e]}}),this},t.setter=function(e){this.setters.add(e);var t=this.target;return Object.defineProperty(this.proto,e,{set:function(n){return this[t][e]=n}}),this},e}()},"../node_modules/@tencent/xtable-common/es/domain-config/index.js":function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var i=new(function(){function e(){}var t=e.prototype;return t.init=function(e){this.module=e},t.getIsWeCom=function(){return this.module.isWeCom()},t.getIsToc=function(){return this.module.isToc()},e}())},"../node_modules/@tencent/xtable-common/es/event/fire-event.js":function(e,t,n){"use strict";n.d(t,{B:function(){return i}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=new(function(){function e(){this.eventMap=new Map}var t=e.prototype;return t.registry=function(e,t){this.eventMap.set(e,t)},t.execute=function(e,t){var n=this.eventMap.get(e);null===n||void 0===n||n(t)},e}())},"../node_modules/@tencent/xtable-common/es/image/index.js":function(e,t,n){"use strict";n.d(t,{EI:function(){return p},GN:function(){return f},HE:function(){return m},Ix:function(){return g},QE:function(){return d},UE:function(){return y},Vt:function(){return a},_g:function(){return _},gu:function(){return I},mQ:function(){return v},vx:function(){return l},z0:function(){return u},zf:function(){return h}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.match.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/web.url.js"),n("../node_modules/core-js/modules/web.url-search-params.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.string.search.js");var i=n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js"),o=n("../node_modules/@tencent/image-components/dist/index.es2015.js"),r=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),s=["dui-preview","sheet-tab-name","rc-calendar"],a=200,l=function(e){if(!e)return!1;var t=e.classList;return s.some((function(e){return t.toString().includes(e)}))},d=2e3;function c(e,t){var n=e;return Object.keys(t).forEach((function(e){var i=new RegExp("([?&])"+e+"=.*?(&|$)","i"),o=t[e],r=-1!==n.indexOf("?")?"&":"?";n=n.match(i)?n.replace(i,"$1"+e+"="+o+"$2"):n+r+e+"="+o})),n}var u=function(e){var t=!(!e||-1===e.type.indexOf("image")||e.type.indexOf("image/tif")>=0||e.type.indexOf("image/tiff")>=0);return t||i.default.show({message:r.Z.t("file_not_support_type"),duration:d,autoClose:!1,closable:!0,id:"file_not_support_type"}),t},h=function(e,t){var n=null!==t&&void 0!==t?t:new o.Mj,s=e.size>n.maxSize;return s&&i.default.show({message:r.Z.t("file_size_limit"),duration:d,autoClose:!0,id:"file_size_limit"}),s},g=function(e){var t=e.imageBlob,n=e.ratio,i=void 0===n?1:n,s=e.successCallback,a=e.errorCallback,l=e.progressCallback;if(!t)return null===a||void 0===a||a("",void 0,r.Z.t("file_not_empty")),"";var d=new o.Mj,g=o.Lk.getAttachmentId();return o.dL.maybeShrinkImage(t,d,(function(e,n,r){var f=i<=0?1:i,m=n*f,p=r*f,v=null!==e&&void 0!==e?e:t;u(v)&&!h(v,d)&&o.wA.uploadImageFile(g,v,(function(e,n,i){var o=n;o=c(o,{w:m,h:p}),"image/gif"===i&&(o=c(o,{type:i}));var r=t.name;null===s||void 0===s||s(e,o,void 0===r?i:r,i)}),(function(e,t,n){null===a||void 0===a||a(e,t,n)}),null!==l&&void 0!==l?l:null)})),g},f=function(e){var t=e.split("?"),n=t[0],i=t[1],o="timestamp="+Date.now(),r=n+"?"+(i?i+"&"+o:o),s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType="blob",s.onload=function(){if(200===s.status&&s.response&&s.response.type&&s.response.type.indexOf("image/")>=0){var e=function(e){e.stopPropagation()},t=(window.URL?window.URL:window.webkitURL).createObjectURL(s.response),n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=t,n.download="image",n.addEventListener("click",e),n.click(),setTimeout((function(){n.removeEventListener("click",e),document.body.removeChild(n),(window.URL?window.URL:window.webkitURL).revokeObjectURL(t)}),1e3)}},s.send()},m=function(e,t,n,i){var o=e/t,r=0,s=0;if(o>1)r=e/t*n,s=n;else{var a=n/i;o<1/i?(r=a,s=t/e*a):(r=e/t*n,s=n)}return{width:Math.floor(r),height:Math.floor(s)}},p=function(e,t,n){var i=e.naturalHeight,o=e.naturalWidth;return m(o,i,t,n)},v=function(e,t){var n=e.width,i=e.height,o=n/i,r=n,s=i;return o>t?r=i*t:o<1/t&&(s=n*t),{width:r,height:s}},I=function(e,t){void 0===e&&(e=""),void 0===t&&(t=a);var n=e.split("?")[0];return n?n+"?imageMogr2/"+function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=200),!e.split("?")[0])return"";var n=new URL(e).searchParams,i=Number(n.get("w"));return"thumbnail/"+t/Number(n.get("h"))*i+"x"+t+"/interlace/0"}(e,t):""},y=function(e,t,i){if(void 0===e&&(e=""),void 0===i&&(i=a),!e)return e;var o=e.split("?")[0],r="true"===new URLSearchParams(n.g.location.search).get("useScrop"),s="thumbnail/"+t.width*i/t.height+"x"+i+"/interlace/0";return r?o+"?imageMogr2/scrop/"+t.width+"x"+t.height+"/"+s:o+"?imageMogr2/cut/"+t.width+"x"+t.height+"x"+t.x+"x"+t.y+"/"+s},_=function(e,t){if(void 0===e&&(e=""),!e)return{x:0,y:0,width:0,height:0};var n=new URL(e).searchParams,i=Number(n.get("w")),o=Number(n.get("h")),r={x:0,y:0,width:i,height:o};return i/o<t?(r.width=i,r.height=Math.ceil(i/t),r.y=Math.ceil((o-r.height)/2)):(r.height=o,r.width=Math.ceil(o*t),r.x=Math.ceil((i-r.width)/2)),r}},"../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return J},q:function(){return X}}),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.match.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/core-js/modules/esnext.array.last-index.js"),n("../node_modules/core-js/modules/es.object.keys.js");var i=n("../node_modules/@babel/runtime/helpers/esm/typeof.js"),o=n("../node_modules/@babel/runtime/helpers/esm/objectSpread.js"),r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),c=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.init(t,n)}return(0,s.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||u,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,(0,o.Z)({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}(),g=new h,f=function(){function e(){(0,r.Z)(this,e),this.observers={}}return(0,s.Z)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){var o=[].concat(this.observers[e]);o.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var r=[].concat(this.observers["*"]);r.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function m(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function p(e){return null==e?"":""+e}function v(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function I(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"===typeof e}for(var r="string"!==typeof t?[].concat(t):t.split(".");r.length>1;){if(o())return{};var s=i(r.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return o()?{}:{obj:e,k:i(r.shift())}}function y(e,t,n){var i=I(e,t,Object);i.obj[i.k]=n}function _(e,t){var n=I(e,t),i=n.obj,o=n.k;if(i)return i[o]}function b(e,t,n){var i=_(e,n);return void 0!==i?i:_(t,n)}function M(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"===typeof e[i]||e[i]instanceof String||"string"===typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):M(e[i],t[i],n):e[i]=t[i]);return e}function C(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function T(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return w[e]})):e}var E="undefined"!==typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(n),o=e,r=0;r<i.length;++r){if(!o)return;if("string"===typeof o[i[r]]&&r+1<i.length)return;if(void 0===o[i[r]]){for(var s=2,a=i.slice(r,r+s).join(n),l=o[a];void 0===l&&i.length>r+s;)s++,l=o[a=i.slice(r,r+s).join(n)];if(void 0===l)return;if("string"===typeof l)return l;if(a&&"string"===typeof l[a])return l[a];var d=i.slice(r+s).join(n);return d?j(l,d,n):void 0}o=o[i[r]]}return o}}var A=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,r.Z)(this,t),n=(0,a.Z)(this,(0,l.Z)(t).call(this)),E&&f.call((0,d.Z)(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return(0,c.Z)(t,e),(0,s.Z)(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,r=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!==typeof n&&(s=s.concat(n)),n&&"string"===typeof n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."));var a=_(this.data,s);return a||!r||"string"!==typeof n?a:j(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var s=[e,t];n&&(s=s.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=t,t=(s=e.split("."))[1]),this.addNamespaces(t),y(this.data,s,i),o.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!==typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var l=_(this.data,a)||{};i?M(l,n,r):l=(0,o.Z)({},l,n),y(this.data,a,l),s.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?(0,o.Z)({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(f),x={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,o){var r=this;return e.forEach((function(e){r.processors[e]&&(t=r.processors[e].process(t,n,i,o))})),t}},D={},S=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)(this,t),n=(0,a.Z)(this,(0,l.Z)(t).call(this)),E&&f.call((0,d.Z)(n)),v(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,(0,d.Z)(n)),n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=g.create("translator"),n}return(0,c.Z)(t,e),(0,s.Z)(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var r=e.match(this.interpolator.nestingRegexp);if(r&&r.length>0)return{key:e,namespaces:o};var s=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(s[0])>-1)&&(o=s.shift()),e=s.join(i)}return"string"===typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(e,n,r){var s=this;if("object"!==(0,i.Z)(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],n),d=l.key,c=l.namespaces,u=c[c.length-1],h=n.lng||this.language,g=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(g){var f=n.nsSeparator||this.options.nsSeparator;return u+f+d}return d}var m=this.resolve(e,n),p=m&&m.res,v=m&&m.usedKey||d,I=m&&m.exactUsedKey||d,y=Object.prototype.toString.apply(p),_=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,C="string"!==typeof p&&"boolean"!==typeof p&&"number"!==typeof p;if(M&&p&&C&&_.indexOf(y)<0&&("string"!==typeof b||"[object Array]"!==y)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,p,(0,o.Z)({},n,{ns:c})):"key '".concat(d," (").concat(this.language,")' returned an object instead of string.");if(a){var w="[object Array]"===y,T=w?[]:{},E=w?I:v;for(var j in p)if(Object.prototype.hasOwnProperty.call(p,j)){var A="".concat(E).concat(a).concat(j);T[j]=this.translate(A,(0,o.Z)({},n,{joinArrays:!1,ns:c})),T[j]===A&&(T[j]=p[j])}p=T}}else if(M&&"string"===typeof b&&"[object Array]"===y)(p=p.join(b))&&(p=this.extendTranslation(p,e,n,r));else{var x=!1,D=!1,S=void 0!==n.count&&"string"!==typeof n.count,N=t.hasDefaultValue(n),R=S?this.pluralResolver.getSuffix(h,n.count):"",O=n["defaultValue".concat(R)]||n.defaultValue;!this.isValidLookup(p)&&N&&(x=!0,p=O),this.isValidLookup(p)||(D=!0,p=d);var L=n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,k=L&&D?void 0:p,z=N&&O!==p&&this.options.updateMissing;if(D||x||z){if(this.logger.log(z?"updateKey":"missingKey",h,u,d,z?O:p),a){var P=this.resolve(d,(0,o.Z)({},n,{keySeparator:!1}));P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var B=0;B<U.length;B++)F.push(U[B]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(n.lng||this.language):F.push(n.lng||this.language);var W=function(e,t,i){s.options.missingKeyHandler?s.options.missingKeyHandler(e,u,t,z?i:k,z,n):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(e,u,t,z?i:k,z,n),s.emit("missingKey",e,u,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?F.forEach((function(e){s.pluralResolver.getSuffixes(e).forEach((function(t){W([e],d+t,n["defaultValue".concat(t)]||O)}))})):W(F,d,O))}p=this.extendTranslation(p,e,n,m,r),D&&p===d&&this.options.appendNamespaceToMissingKey&&(p="".concat(u,":").concat(d)),(D||x)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p}},{key:"extendTranslation",value:function(e,t,n,i,r){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init((0,o.Z)({},n,{interpolation:(0,o.Z)({},this.options.interpolation,n.interpolation)}));var a,l=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(l){var d=e.match(this.interpolator.nestingRegexp);a=d&&d.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=(0,o.Z)({},this.options.interpolation.defaultVariables,c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),l){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return r&&r[0]===i[0]&&!n.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):s.translate.apply(s,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,g="string"===typeof h?[h]:h;return void 0!==e&&null!==e&&g&&g.length&&!1!==n.applyPostProcessor&&(e=x.handle(g,e,t,this.options&&this.options.postProcessPassResolved?(0,o.Z)({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,o,r,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var l=s.extractFromKey(e,a),d=l.key;n=d;var c=l.namespaces;s.options.fallbackNS&&(c=c.concat(s.options.fallbackNS));var u=void 0!==a.count&&"string"!==typeof a.count,h=void 0!==a.context&&("string"===typeof a.context||"number"===typeof a.context)&&""!==a.context,g=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);c.forEach((function(e){s.isValidLookup(t)||(r=e,!D["".concat(g[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(r)&&(D["".concat(g[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(n){if(!s.isValidLookup(t)){o=n;var r,l,c=d,g=[c];for(s.i18nFormat&&s.i18nFormat.addLookupKeys?s.i18nFormat.addLookupKeys(g,d,n,e,a):(u&&(r=s.pluralResolver.getSuffix(n,a.count)),u&&h&&g.push(c+r),h&&g.push(c+="".concat(s.options.contextSeparator).concat(a.context)),u&&g.push(c+=r));l=g.pop();)s.isValidLookup(t)||(i=l,t=s.getResource(n,e,l,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:r}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),t}(f);function N(e){return e.charAt(0).toUpperCase()+e.slice(1)}var R=function(){function e(t){(0,r.Z)(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=g.create("languageUtils")}return(0,s.Z)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=N(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=N(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=N(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],r=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"===typeof e&&r(this.formatLanguageCode(e)),i.forEach((function(e){o.indexOf(e)<0&&r(n.formatLanguageCode(e))})),o}}]),e}(),O=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],L={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function k(){var e={};return O.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:L[t.fc]}}))})),e}var z=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.languageUtils=t,this.options=n,this.logger=g.create("pluralResolver"),this.rules=k()}return(0,s.Z)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,i=this.getRule(e);if(i){var o=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),r=i.numbers[o];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var s=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"===typeof r?"_plural_".concat(r.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.logger=g.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,s.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:T,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?C(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?C(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?C(t.nestingPrefix):t.nestingPrefixEscaped||C("$t("),this.nestingSuffix=t.nestingSuffix?C(t.nestingSuffix):t.nestingSuffixEscaped||C(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,s,a,l=this,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(l.formatSeparator)<0){var r=b(t,d,e);return l.alwaysFormat?l.format(r,void 0,n,(0,o.Z)({},i,t,{interpolationkey:e})):r}var s=e.split(l.formatSeparator),a=s.shift().trim(),c=s.join(l.formatSeparator).trim();return l.format(b(t,d,a),c,n,(0,o.Z)({},i,t,{interpolationkey:a}))};this.resetRegExp();var h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return l.escapeValue?c(l.escape(e)):c(e)}}].forEach((function(t){for(a=0;r=t.regex.exec(e);){if(void 0===(s=u(r[1].trim())))if("function"===typeof h){var n=h(e,r,i);s="string"===typeof n?n:""}else{if(g){s=r[0];continue}l.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),s=""}else"string"===typeof s||l.useRawValueToEscape||(s=p(s));var o=t.safeValue(s);if(e=e.replace(r[0],o),g?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++a>=l.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,o.Z)({},s);function l(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0],r=(r=this.interpolate(r,a)).replace(/'/g,'"');try{a=JSON.parse(r),t&&(a=(0,o.Z)({},t,a))}catch(s){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),s),"".concat(e).concat(n).concat(r)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var d=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),d=u,c=!0}if((i=t(l.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!==typeof i)return i;"string"!==typeof i&&(i=p(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),c&&(i=d.reduce((function(e,t){return r.format(e,t,s.lng,(0,o.Z)({},s,{interpolationkey:n[1].trim()}))}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}(),F=function(e){function t(e,n,i){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,r.Z)(this,t),o=(0,a.Z)(this,(0,l.Z)(t).call(this)),E&&f.call((0,d.Z)(o)),o.backend=e,o.store=n,o.services=i,o.languageUtils=i.languageUtils,o.options=s,o.logger=g.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,s.backend,s),o}return(0,c.Z)(t,e),(0,s.Z)(t,[{key:"queueLoad",value:function(e,t,n,i){var o=this,r=[],s=[],a=[],l=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[a]=2:o.state[a]<0||(1===o.state[a]?s.indexOf(a)<0&&s.push(a):(o.state[a]=1,i=!1,s.indexOf(a)<0&&s.push(a),r.indexOf(a)<0&&r.push(a),l.indexOf(t)<0&&l.push(t)))})),i||a.push(e)})),(r.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:i}),{toLoad:r,pending:s,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),o=i[0],r=i[1];t&&this.emit("failedLoading",o,r,t),n&&this.store.addResourceBundle(o,r,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){!function(e,t,n,i){var o=I(e,t,Object),r=o.obj,s=o.k;r[s]=r[s]||[],i&&(r[s]=r[s].concat(n)),i||r[s].push(n)}(n.loaded,[o],r),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,l){a&&l&&o<5?setTimeout((function(){i.read.call(i,e,t,n,o+1,2*r,s)}),r):s(a,l)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var r=this.queueLoad(e,t,i,o);if(!r.toLoad.length)return r.pending.length||o(),null;r.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),o=i[0],r=i[1];this.read(o,r,"read",void 0,void 0,(function(i,s){i&&t.logger.warn("".concat(n,"loading namespace ").concat(r," for language ").concat(o," failed"),i),!i&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(r," for language ").concat(o),s),t.loaded(e,i,s)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,(0,o.Z)({},s,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),t}(f);function U(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,i.Z)(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===(0,i.Z)(e[2])||"object"===(0,i.Z)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function B(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function W(){}var G=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,r.Z)(this,t),e=(0,a.Z)(this,(0,l.Z)(t).call(this)),E&&f.call((0,d.Z)(e)),e.options=B(n),e.services={},e.logger=g,e.modules={external:[]},i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),(0,a.Z)(e,(0,d.Z)(e));setTimeout((function(){e.init(n,i)}),0)}return e}return(0,c.Z)(t,e),(0,s.Z)(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(e){return e?"function"===typeof e?new e:e:null}if("function"===typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=(0,o.Z)({},U(),this.options,B(t)),this.format=this.options.interpolation.format,n||(n=W),!this.options.isClone){this.modules.logger?g.init(i(this.modules.logger),this.options):g.init(null,this.options);var r=new R(this.options);this.store=new A(this.options.resources,this.options);var s=this.services;s.logger=g,s.resourceStore=this.store,s.languageUtils=r,s.pluralResolver=new z(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new P(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new F(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new S(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var d=["addResource","addResources","addResourceBundle","removeResourceBundle"];d.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=m(),u=function(){var t=function(t,i){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W,i=n,o="string"===typeof e?e:this.language;if("function"===typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return i();var r=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};if(o)s(o);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(r,this.options.ns,i)}else i(null)}},{key:"reloadResources",value:function(e,t,n){var i=m();return e||(e=this.languages),t||(t=this.options.ns),n||(n=W),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&x.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=m();this.emit("languageChanging",e);var o=function(o){e||o||!n.services.languageDetector||(o=[]);var r="string"===typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);r&&(n.language||(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r)),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){!function(e,o){o?(n.language=o,n.languages=n.services.languageUtils.toResolveHierarchy(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var r=this,s=function e(t,s){var a;if("object"!==(0,i.Z)(s)){for(var l=arguments.length,d=new Array(l>2?l-2:0),c=2;c<l;c++)d[c-2]=arguments[c];a=r.options.overloadTranslationOptionHandler([t,s].concat(d))}else a=(0,o.Z)({},s);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns;var u=r.options.keySeparator||".",h=n?"".concat(n).concat(u).concat(t):t;return r.t(h,a)};return"string"===typeof e?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=n,s}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],o=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||!(!s(i,e)||o&&!s(r,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=m();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=m();"string"===typeof e&&(e=[e]);var i=this.options.preload||[],o=e.filter((function(e){return i.indexOf(e)<0}));return o.length?(this.options.preload=i.concat(o),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W,r=(0,o.Z)({},this.options,n,{isClone:!0}),s=new t(r),a=["store","services","language"];return a.forEach((function(t){s[t]=e[t]})),s.services=(0,o.Z)({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new S(s.services,s.options),s.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];s.emit.apply(s,[e].concat(n))})),s.init(r,i),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),t}(f),Z=new G,H=n("../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js"),Y=n("../node_modules/@tencent/xtable-common/es/locales/index.js"),V="smartsheet",Q=new H.default;Q.addDetector({name:"userAgent",lookup:function(){var e=navigator.userAgent.match(/language\/([a-zA-Z'-_]+)/i);if(e)return e[1].replace("_","-")}});var K=Z.createInstance();function X(){}K.use(Q).init({resources:Y,fallbackLng:{"zh-TW":["zh-HK","zh-CN"],default:["zh-CN"]},detection:{order:["querystring","userAgent","cookie"],lookupCookie:"language",caches:[]},nsSeparator:"|",ns:V});var J=Object.assign(Object.assign({},K),{t:function(e,t){return K.t(e,Object.assign(Object.assign({},t),{ns:V}))}})},"../node_modules/@tencent/xtable-common/es/logger/index.js":function(e,t,n){"use strict";var i;n.d(t,{k:function(){return s}});var o="function"===typeof(null===(i=window.log)||void 0===i?void 0:i.getLogger)?window.log.getLogger("smartsheet"):window.log,r=null!==o&&void 0!==o?o:console,s={debug:function(){r.debug.apply(r,arguments)},info:function(){r.info.apply(r,arguments)},log:function(){r.log.apply(r,arguments)},warn:function(){r.warn.apply(r,arguments)},error:function(){r.error.apply(r,arguments)},time:function(e){},timeEnd:function(e){},report:function(e,t){r.report(e,t)}}},"../node_modules/@tencent/xtable-common/es/palette/option.js":function(e,t,n){"use strict";n.d(t,{F:function(){return a},h:function(){return o}});var i,o,r=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),s=n("../node_modules/@tencent/xtable-common/es/palette/text.js");function a(e){return d[e]}!function(e){e[e.E1=1]="E1",e[e.F1=2]="F1",e[e.C1=3]="C1",e[e.D1=4]="D1",e[e.H1=5]="H1",e[e.I1=6]="I1",e[e.A2=7]="A2",e[e.A1=8]="A1",e[e.A3=9]="A3",e[e.B1=10]="B1",e[e.B2=11]="B2",e[e.B3=12]="B3",e[e.C2=13]="C2",e[e.C3=14]="C3",e[e.D2=15]="D2",e[e.D3=16]="D3",e[e.E2=17]="E2",e[e.E3=18]="E3",e[e.F2=19]="F2",e[e.F3=20]="F3",e[e.G1=21]="G1",e[e.G2=22]="G2",e[e.G3=23]="G3",e[e.H2=24]="H2",e[e.H3=25]="H3",e[e.I2=26]="I2",e[e.I3=27]="I3"}(o||(o={}));var l="rgba(0,0,0,0.64)",d=((i={})[o.A1]={background:"#ffffff",borderColor:"rgba(0,0,0,0.08)",textColor:s.J,iconColor:l,id:o.A1,title:r.Z.t("color_white")},i[o.A2]={background:"#DCDFE4",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.A2,title:""+r.Z.t("color_light")+r.Z.t("color_gray")},i[o.A3]={background:"#81868F",borderColor:"transparent",textColor:s.o,iconColor:s.o,id:o.A3,title:r.Z.t("color_gray")},i[o.B1]={background:"#D6E5FF",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.B1,title:""+r.Z.t("color_light")+r.Z.t("color_blue")+"1"},i[o.B2]={background:"#ADCBFF",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.B2,title:""+r.Z.t("color_light")+r.Z.t("color_blue")+"2"},i[o.B3]={background:"#2972F4",borderColor:"transparent",textColor:s.o,iconColor:s.o,id:o.B3,title:r.Z.t("color_blue")},i[o.C1]={background:"#D6F1FF",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.C1,title:""+r.Z.t("color_light")+r.Z.t("color_sky_blue")+"1"},i[o.C2]={background:"#ADE4FF",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.C2,title:""+r.Z.t("color_light")+r.Z.t("color_sky_blue")+"2"},i[o.C3]={background:"#00A3F5",borderColor:"transparent",textColor:s.o,iconColor:s.o,id:o.C3,title:r.Z.t("color_sky_blue")},i[o.D1]={background:"#D3F3E2",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.D1,title:""+r.Z.t("color_light")+r.Z.t("color_green")+"1"},i[o.D2]={background:"#ACE2C5",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.D2,title:""+r.Z.t("color_light")+r.Z.t("color_green")+"2"},i[o.D3]={background:"#45B076",borderColor:"transparent",textColor:s.o,iconColor:s.o,id:o.D3,title:r.Z.t("color_green")},i[o.E1]={background:"#FFDCDB",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.E1,title:""+r.Z.t("color_light")+r.Z.t("color_red")+"1"},i[o.E2]={background:"#FFB5B3",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.E2,title:""+r.Z.t("color_light")+r.Z.t("color_red")+"2"},i[o.E3]={background:"#DE3C36",borderColor:"transparent",textColor:s.o,iconColor:s.o,id:o.E3,title:r.Z.t("color_red")},i[o.F1]={background:"#FFECDB",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.F1,title:""+r.Z.t("color_light")+r.Z.t("color_orange")+"1"},i[o.F2]={background:"#FFCEA3",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.F2,title:""+r.Z.t("color_light")+r.Z.t("color_orange")+"2"},i[o.F3]={background:"#F88825",borderColor:"transparent",textColor:s.o,iconColor:s.o,id:o.F3,title:r.Z.t("color_orange")},i[o.G1]={background:"#FFF5CC",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.G1,title:""+r.Z.t("color_light")+r.Z.t("color_yellow")+"1"},i[o.G2]={background:"#FFEA99",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.G2,title:""+r.Z.t("color_light")+r.Z.t("color_yellow")+"2"},i[o.G3]={background:"#F5C400",borderColor:"transparent",textColor:s.o,iconColor:s.o,id:o.G3,title:r.Z.t("color_yellow")},i[o.H1]={background:"#FBDBFF",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.H1,title:""+r.Z.t("color_light")+r.Z.t("color_purple")+"1"},i[o.H2]={background:"#E7B4FF",borderColor:"transparent",id:o.H2,textColor:s.J,iconColor:l,title:""+r.Z.t("color_light")+r.Z.t("color_purple")+"2"},i[o.H3]={background:"#9A38D7",borderColor:"transparent",id:o.H3,textColor:s.o,iconColor:s.o,title:r.Z.t("color_purple")},i[o.I1]={background:"#FFDBEA",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.I1,title:""+r.Z.t("color_light")+r.Z.t("color_pink")+"1"},i[o.I2]={background:"#FFB3DC",borderColor:"transparent",textColor:s.J,iconColor:l,id:o.I2,title:""+r.Z.t("color_light")+r.Z.t("color_pink")+"2"},i[o.I3]={background:"#DD4097",borderColor:"transparent",textColor:s.o,iconColor:s.o,id:o.I3,title:r.Z.t("color_pink")},i)},"../node_modules/@tencent/xtable-common/es/palette/text.js":function(e,t,n){"use strict";n.d(t,{J:function(){return i},o:function(){return o}});var i="rgba(0, 0, 0, 0.88)",o="#FFFFFF"},"../node_modules/@tencent/xtable-common/es/report/decorator/index.js":function(e,t,n){"use strict";n.d(t,{Eb:function(){return l},hY:function(){return a}}),n("../node_modules/core-js/modules/es.array.concat.js");var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/@tencent/xtable-common/es/logger/index.js")),r=function(){function e(){this.performanceStore=null}var t=e.prototype;return t.markStart=function(){this.getInstance().StartTime=performance.now()},t.markEnd=function(){this.getInstance().EndTime=performance.now()},t.getCost=function(){var e=this.getInstance().EndTime-this.getInstance().StartTime;if(!(e<0))return e},t.dispose=function(){this.performanceStore=null},t.getInstance=function(){return this.performanceStore||(this.performanceStore={StartTime:0,EndTime:0}),this.performanceStore},e}(),s=new(function(){function e(){this.rangeMap=new Map}var t=e.prototype;return t.register=function(e){this.rangeMap.set(e,null)},t.clear=function(){this.rangeMap.clear()},t.markStart=function(e){this.setInstance(e).markStart()},t.getCost=function(e){var t=this.getInstance(e);if(t)return t.markEnd(),t.getCost();o.k.warn("getCost error! instance not created")},t.dispose=function(e){var t;null===(t=this.rangeMap.get(e))||void 0===t||t.dispose(),this.rangeMap.delete(e)},t.setInstance=function(e){var t=this.rangeMap.get(e);return t||(t=new r,this.rangeMap.set(e,t)),t},t.getInstance=function(e){return this.rangeMap.get(e)},e}()),a=function(e){return function(t,n,i){var o=i.value;i.value=function(){s.register(e),s.markStart(e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o.call.apply(o,[this].concat(n))}}},l=function(e,t){return function(n,o,r){var a=r.value;r.value=function(){var n=s.getCost(e);if(n){i.E.metricsList({attrid:e,value:n},t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];var d=a.call.apply(a,[this].concat(r));return s.dispose(e),d}}}}},"../node_modules/@tencent/xtable-common/es/report/performance/speed-report.js":function(e,t,n){"use strict";n.d(t,{r:function(){return d}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.number.constructor.js");var i,o=n("../node_modules/@tencent/xtable-common/es/event/fire-event.js"),r=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),s=n("../node_modules/@tencent/xtable-common/es/report/zzs.js"),a={reportPV:function(){r.E.metricsList({attrid:s.cx.SMART_SHEET_PV,action:"cli_smartsheet",module:"smartsheet"},[0,2])}};!function(e){e.WHITE_SCREEN="white_screen",e.FIRST_SCREEN="first_screen",e.INTERACT="interact",e.FIRST_CHUNK_EDITABLE="first_chunk_editable",e.ALL_CHUNK_EDITABLE="all_chunk_editable"}(i||(i={}));var l=n("../node_modules/@tencent/xtable-common/es/url-parameter/index.js"),d=new(function(){function e(){this.performanceData=new Map,this.hasReported=!1,this.canReport=!1}var t=e.prototype;return t.firstScreenCanView=function(){this.performanceData.has(i.FIRST_SCREEN)||this.performanceData.set(i.FIRST_SCREEN,Date.now())},t.firstScreenCanEdit=function(){this.performanceData.has(i.INTERACT)||this.performanceData.set(i.INTERACT,Date.now())},t.whiteScreen=function(){this.performanceData.has(i.WHITE_SCREEN)||this.performanceData.set(i.WHITE_SCREEN,Date.now())},t.firstChunkEditable=function(){this.performanceData.has(i.FIRST_CHUNK_EDITABLE)||this.performanceData.set(i.FIRST_CHUNK_EDITABLE,Date.now())},t.allChunkEditable=function(){this.performanceData.has(i.ALL_CHUNK_EDITABLE)||this.performanceData.set(i.ALL_CHUNK_EDITABLE,Date.now())},t.setCanReport=function(e){this.canReport=e},t.doSpeedReport=function(e){var t;if(!this.hasReported&&!(0,l.IZ)("devMode")){if(!this.canReport)return a.reportPV(),void(this.hasReported=!0);a.reportPV(),this.whiteScreenFlag(e),this.hasReported=!0;var o=null===(t=n.g.performance)||void 0===t?void 0:t.timing.requestStart,r=this.performanceData.get(i.FIRST_SCREEN);if(r){if(r-o>4e4)return;this.reportFirstScreen(r,o)}var d=this.performanceData.get(i.WHITE_SCREEN);if(d){var c=d-o;this.reportCost(s.cx.SMART_SHEET_WHITE_SCREEN,c)}var u=this.performanceData.get(i.INTERACT);u&&this.reportInteract(u,o),this.reportChunkEditable(o)}},t.whiteScreenFlag=function(e){o.B.execute(e)},t.reportFirstScreen=function(e,t){var n=e-t;this.reportCost(s.cx.SMART_SHEET_FIRST_SCREEN,e-t),this.reportStatus(s.cx.SMART_SHEET_FIRST_SCREEN_IN_1S,Number(!(n<1e3))),this.reportStatus(s.cx.SMART_SHEET_FIRST_SCREEN_IN_3S,Number(!(n<3e3))),this.reportStatus(s.cx.SMART_SHEET_FIRST_SCREEN_IN_10S,Number(!(n<1e4)))},t.reportInteract=function(e,t){var n=e-t;this.reportCost(s.cx.SMART_SHEET_INTERACT,n),this.reportStatus(s.cx.SMART_SHEET_INTERACT_IN_5s,Number(!(n<5e3)))},t.reportChunkEditable=function(e){var t=this.performanceData.get(i.FIRST_CHUNK_EDITABLE);t&&this.reportCost(s.cx.SMART_SHEET_FIRST_CHUNK_EDITABLE,t-e);var n=this.performanceData.get(i.ALL_CHUNK_EDITABLE);n&&this.reportCost(s.cx.SMART_SHEET_ALL_CHUNK_EDITABLE,n-e)},t.reportCost=function(e,t){r.E.metricsValue({attrid:e,value:t})},t.reportStatus=function(e,t){r.E.metricsStatus({attrid:e,status:t})},e}())},"../node_modules/@tencent/xtable-common/es/report/proxy/index.js":function(e,t,n){"use strict";n.d(t,{H:function(){return o},Q:function(){return i}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js");var i=function(){function e(t){this.cache=[],this.functionName=t,e.stack.push(this)}e.eachLoad=function(t){e.stack.forEach((function(e){e.initLoad(t)}))};var t=e.prototype;return t.getProxyFunction=function(e){var t=this;return void 0===e&&(e=!1),function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=t.module,s=t.execute,a=t.cache;if(r)return s.apply(t,i);e||a.push((function(){return s.apply(t,i)}))}},t.execute=function(){for(var e=this.functionName.split("."),t=this.getExecuteFunction(this.module,e),n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.func.apply(t.self,i)},t.getExecuteFunction=function(e,t){var n=t.shift();return n?0===t.length?{self:e,func:e[n]}:this.getExecuteFunction(e[n],t):e},t.initLoad=function(e){this.module=e,this.cache.length&&(this.cache.forEach((function(e){e()})),this.cache.length=0)},e}();i.stack=[];var o={tdwReport:new i("tdwReport").getProxyFunction(),tdwSingleReport:new i("tdwSingleReport").getProxyFunction(),zzsStatus:new i("zzsStatus").getProxyFunction(),zzsValue:new i("zzsValue").getProxyFunction()}},"../node_modules/@tencent/xtable-common/es/report/reporter/index.js":function(e,t,n){"use strict";n.d(t,{E:function(){return g}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js");var i=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),o=(n("../node_modules/core-js/modules/es.object.assign.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/xtable-common/es/decorators/execution/debounce.js"),s=n("../node_modules/@tencent/xtable-common/es/report/proxy/index.js"),a=function(){function e(){var e=this;this.defaultData={opername:"doc_smartsheet_editor",file_type:13},this.dataAdapter=function(t){var n=Object.assign(Object.assign({},e.defaultData),t),i=n.opername,o=n.module;return{action:n.action,opername:i,module:o,file_type:n.file_type,ver5:n.ver5,ver6:n.ver6,ver7:n.ver7}}}return e.prototype.metrics=function(e){s.H.tdwReport(this.dataAdapter(e))},e}();(0,o.__decorate)([(0,r.ab)(!1),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],a.prototype,"metrics",null);var l=new a,d=function(){function e(){}var t=e.prototype;return t.metrics=function(e){s.H.zzsStatus(this.dataAdapter(e))},t.dataAdapter=function(e){return{attrid:e.attrid,status:e.status||0,errmsg:e.errmsg}},e}();(0,o.__decorate)([(0,r.ab)(!1),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],d.prototype,"metrics",null);var c=new d,u=function(){function e(){}var t=e.prototype;return t.metrics=function(e){s.H.zzsValue(this.dataAdapter(e))},t.dataAdapter=function(e){return{attrid:e.attrid,value:e.value}},e}();(0,o.__decorate)([(0,r.ab)(!1),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"metrics",null);var h=new u,g=new(function(){function e(){this.reporterMap=new Map,this.init()}var t=e.prototype;return t.metrics=function(e,t){var n=this.reporterMap.get(t);n?n.metrics(e):i.k.warn("adapter初始化失败")},t.metricsList=function(e,t){var n=this;t.forEach((function(t){var o=n.reporterMap.get(t);o?o.metrics(e):i.k.warn("adapter初始化失败")}))},t.metricsStatus=function(e){var t=this.reporterMap.get(0);t?t.metrics(e):i.k.warn("adapter初始化失败")},t.metricsValue=function(e){var t=this.reporterMap.get(1);t?t.metrics(e):i.k.warn("adapter初始化失败")},t.metricsTdw=function(e){var t=this.reporterMap.get(2);t?t.metrics(e):i.k.warn("adapter初始化失败")},t.init=function(){this.reporterMap.set(0,c),this.reporterMap.set(1,h),this.reporterMap.set(2,l)},e}())},"../node_modules/@tencent/xtable-common/es/report/zzs.js":function(e,t,n){"use strict";n.d(t,{GY:function(){return r},Ql:function(){return o},cx:function(){return i}});var i={SMART_SHEET_PV:"smartsheet_pv",SMART_SHEET_JS_ERROR:"JS报错数",SMART_SHEET_FIRST_SCREEN:"首屏可见耗时",SMART_SHEET_FIRST_SCREEN_SSR:"首屏 SSR 耗时",SMART_SHEET_WHITE_SCREEN:"白屏",SMART_SHEET_FIRST_SCREEN_IN_1S:"smart_sheet_first_screen_in_1s",SMART_SHEET_FIRST_SCREEN_IN_3S:"smart_sheet_first_screen_in_3s",SMART_SHEET_FIRST_SCREEN_IN_10S:"smart_sheet_first_screen_in_10s",SMART_SHEET_INTERACT:"可编辑耗时",SMART_SHEET_INTERACT_IN_5s:"5s打开成功率",SMART_SHEET_PC_JS_ERROR:"pc端js报错",SMART_SHEET_MOBILE_JS_ERROR:"移动端js报错",SMART_SHEET_FIRST_CHUNK_EDITABLE:"smartsheet 数据首片可编辑时间",SMART_SHEET_ALL_CHUNK_EDITABLE:"smartsheet 数据全文可编辑时间"},o={SMART_SHEET_ORDER_COST:"smart_sheet_order_cost",SMART_SHEET_GROUP_COST:"smart_sheet_group_cost",SMART_SHEET_FILTER_COST:"smart_sheet_filter_cost",SMART_SHEET_FIELD_COUNT_ASYNC_COST:"smart_sheet_field_async_count_cost",SMART_SHEET_FIELD_COUNT_SYNC_COST:"smart_sheet_field_sync_count_cost",SMART_SHEET_MODULE_TOTAL_COST:"smart_sheet_module_total_cost",VIEW_DATA_NOT_MATCH_TABLE:"视图数据与表格数据不一致",SMART_SHEET_REQUEST_RUN_ERROR:"mutation应用到数据层出错",SMART_SHEET_APPLY_NEW_CHANGES_ERROR:"协同数据应用失败",SMART_SHEET_COMMIT_ERROR:"关键请求失败"},r={SMART_SHEET_RENDER_DRAW_INIT_COST:"smart_sheet_render_draw_init_cost",SMART_SHEET_RENDER_COLLECT_INIT_COST:"smart_sheet_render_collect_init_cost",SMART_SHEET_RENDER_DRAW_UPDATE_COST:"smart_sheet_render_draw_update_cost",SMART_SHEET_RENDER_COLLECT_UPDATE_COST:"smart_sheet_render_collect_update_cost",SMART_SHEET_RENDER_SWITCH_VIEW_COST:"smart_sheet_render_switch_view_cost",SMART_SHEET_RENDER_ERROR:"mutation应用到渲染层出错"}},"../node_modules/@tencent/xtable-common/es/url-parameter/index.js":function(e,t,n){"use strict";function i(e,t){var i;void 0===t&&(t=n.g.location.href);var o=null,r=(t?"?"+(t.split("?")[1]||""):null===(i=n.g.location)||void 0===i?void 0:i.search)||"";return r&&(o=r.match(new RegExp("(\\?|&)"+e+"=([^&]*)(&|$)"))),o?decodeURIComponent(o[2]):""}function o(e){void 0===e&&(e=n.g.location.href);for(var t={},i=(e.split("?")[1]||"").split("&"),o=0,r=i.length;o<r;o++)if(i[o]){var s=i[o].split("=");if(s.length>1){var a=s[0],l=s[1];t[a]=decodeURIComponent(l)}}return t}function r(e,t){void 0===t&&(t=n.g.location.href);var i=t.split("?"),o=i[0],r=i[1],s=Array.isArray(e)?e:[e];if(i.length>=2){for(var a=r.split(/[&;]/g),l=0,d=s.length;l<d;l++)for(var c=encodeURIComponent(s[l])+"=",u=a.length-1;u>=0;u--)-1!==a[u].lastIndexOf(c,0)&&a.splice(u,1);return o+(a.length>0?"?"+a.join("&"):"")}return t}function s(e,t){void 0===t&&(t=n.g.location.href);var i=t;return Object.keys(e).forEach((function(t){var n=new RegExp("([?&#])"+t+"=?.*?(&|#|$)","i"),o=e[t],r=-1!==i.indexOf("?")?"&":"?";i=i.match(n)?i.replace(n,"$1"+t+"="+encodeURIComponent(o)+"$2"):i+r+t+"="+encodeURIComponent(o)})),i}n.d(t,{IZ:function(){return i},XK:function(){return s},oW:function(){return r},ol:function(){return o}}),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.string.search.js"),n("../node_modules/core-js/modules/es.string.match.js"),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.string.replace.js")},"../node_modules/@tencent/xtable-core/es/constant/config/base.js":function(e,t,n){"use strict";n.d(t,{AL:function(){return c},T9:function(){return d},Y7:function(){return l},_E:function(){return a},gU:function(){return s}});var i,o=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),r=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),s={MAXIMUM_TABLE_LIMIT:1e3,MAXIMUM_VIEW_LIMIT:50,MAXIMUM_RECORD_LIMIT:4e4,MAXIMUM_FIELD_LIMIT:120,MAXIMUM_CELL_LIMIT:3e5,MAXIMUM_IMAGE_LIMIT_PER_CELL:9},a={COLUMN_DEFAULT_WIDTH:150,COLUMN_MIN_WIDTH:80,COLUMN_MAX_WIDTH:800},l={TABLE:o.Z.t("unnamed_data_table"),FIELD:(i={},i[r.f.TEXT]=o.Z.t("text"),i[r.f.NUMBER]=o.Z.t("field_number"),i[r.f.SINGLE_SELECT]=o.Z.t("single_select"),i[r.f.MULTIPLE_SELECT]=o.Z.t("multiple_select"),i[r.f.URL]=o.Z.t("hyperlink"),i[r.f.DATE_TIME]=o.Z.t("date"),i[r.f.CHECKBOX]=o.Z.t("checkbox"),i[r.f.IMAGE]=o.Z.t("field_type_image"),i[r.f.PROGRESS]=o.Z.t("field_progress"),i[r.f.CREATED_TIME]=o.Z.t("field_create_time"),i[r.f.MODIFIED_TIME]=o.Z.t("field_last_edit_time"),i[r.f.CREATED_USER]=o.Z.t("field_creator"),i[r.f.MODIFIED_USER]=o.Z.t("field_last_editor"),i[r.f.PHONE]=o.Z.t("field_tel"),i[r.f.EMAIL]=o.Z.t("field_email"),i[r.f.ATTACHMENT]=o.Z.t("field_attachment"),i[r.f.FORMULA]=o.Z.t("field_formula"),i.default=o.Z.t("unname"),i),GRID_VIEW:o.Z.t("view_table"),KANBAN_VIEW:o.Z.t("view_kanban"),GANTT_VIEW:o.Z.t("view_gantt"),GALLERY_VIEW:o.Z.t("view_photo"),VIEW:o.Z.t("view")},d={TABLE_CACHE_CAPACITY:50,LAST_VIEW_ID:"lastViewId"},c={VIEW_ID:"viewId"}},"../node_modules/@tencent/xtable-core/es/constant/config/id.js":function(e,t,n){"use strict";n.d(t,{V:function(){return o},t:function(){return i}});var i={RANDOM_ID_LENGTH:5},o={VIEW:"v",RECORD:"r",FIELD:"f",TABLE:"t",OPTION:"o"}},"../node_modules/@tencent/xtable-core/es/constant/config/view.js":function(e,t,n){"use strict";n.d(t,{U:function(){return s},m:function(){return r}});var i,o=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),r=((i={})[o.bW.KANBAN]=1,i[o.bW.GRID]=3,i[o.bW.GANTT]=3,i[o.bW.GALLERY]=0,i),s=3},"../node_modules/@tencent/xtable-core/es/constant/excute-result.js":function(e,t,n){"use strict";n.d(t,{GP:function(){return o},QJ:function(){return i},jK:function(){return r},s7:function(){return l}});var i,o,r,s=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),a=n("../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js");!function(e){e.BEHAVIOR_CALL="Behavior-Call",e.REQUEST_LOAD="Request-Load",e.REQUEST_CHECK="Request-Check",e.REQUEST_RUN="Request-Run",e.MUTATION_CHECK="Mutation-Check",e.MUTATION_RUN="Mutation-Run",e.MODEL_RUN="Model-Run"}(i||(i={})),function(e){e.TERMINATE_AND_IGNORE="TerminateAndIgnore",e.TERMINATE_AND_WARNING="TerminateAndWarning",e.NEED_CONFIRM="NeedConfirm",e.FATAL_ERROR="FatalError"}(o||(o={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TITLE_DUPLICATED=1]="TITLE_DUPLICATED",e[e.MAXIMUM_FIELD_SIZE_REACHED=2]="MAXIMUM_FIELD_SIZE_REACHED",e[e.MAXIMUM_RECORD_SIZE_REACHED=3]="MAXIMUM_RECORD_SIZE_REACHED",e[e.VIEW_ID_DUPLICATED=4]="VIEW_ID_DUPLICATED",e[e.VIEW_DATA_NOT_EXIST=5]="VIEW_DATA_NOT_EXIST",e[e.MAXIMUM_VIEW_SIZE_REACHED=6]="MAXIMUM_VIEW_SIZE_REACHED",e[e.TITLE_EMPTY=7]="TITLE_EMPTY",e[e.FIELD_EXIST_IN_KANBAN_GROUP=8]="FIELD_EXIST_IN_KANBAN_GROUP",e[e.SMART_SHEET_REQUEST_RUN_ERROR=9]="SMART_SHEET_REQUEST_RUN_ERROR",e[e.MAXIMUM_CELL_SIZE_REACHED=10]="MAXIMUM_CELL_SIZE_REACHED",e[e.FIELD_EXIST_IN_GANTT_DATE_FIELD=11]="FIELD_EXIST_IN_GANTT_DATE_FIELD"}(r||(r={}));var l=function(e){function t(t,n,i,o){var s;return void 0===o&&(o=r.UNKNOWN),(s=e.call(this,i)||this).phase=t,s.type=n,s.errorMessage=i,s.errorCode=o,s}return(0,s.Z)(t,e),t}((0,a.Z)(Error))},"../node_modules/@tencent/xtable-core/es/event/index.js":function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var i=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),o={onActiveViewSwitched:new i.Emitter,onRequestRunFinishedEmitter:new i.Emitter,onCommitRequestEmitter:new i.Emitter,onRequestCrashEmitter:new i.Emitter,onPermissionChanged:new i.Emitter,onBeforeMutationRunEmitter:new i.Emitter,onTableSwitched:new i.Emitter,onRecordMoved:new i.Emitter}},"../node_modules/@tencent/xtable-core/es/model/field/attachment/utils/index.js":function(e,t,n){"use strict";n.d(t,{ad:function(){return s},kR:function(){return a},xx:function(){return l}}),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.number.to-fixed.js");var i,o=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js"),r=((i={})[o.hW.TXT]="txt,rtf,plist,ini,xml,log,md".split(","),i[o.hW.HTML]="html,htm,xhtml,mht,shtml,shtm,h,hpp,m,js,jsp,java,c,cpp,stp,json,asp,aspx,cs,css,cxx,php,vbs,py".split(","),i[o.hW.IMAGE]="jpg,jpeg,jpe,png,bmp,gif,tiff,ico,icns,cr2".split(","),i[o.hW.MUSIC]="mp3,mp2,ac3,aif,amr,au,kar,m3u,mid,midi,mpeg,ra,ram,rmi,snd,wav,wma,m4a,f4a,ogg,flac,f4a,aac,ac3,ogg".split(","),i[o.hW.VIDEO]="wav,mp2,ape,mkv,rmvb,wmv,mp4,f4v,flv,avi,mov,qt,m4v,asf,rm,mpe,mpeg,mpg,vob,ts,3gp,3gpp,3gp2,ogv,mp4,webm,f4m,avi,fla,swf,m4u,movie,mxu".split(","),i[o.hW.ZIP]="zip,7z,rar,bz2,gz,tar,tbz,tgz,cab,gzip,bzip2,deb,xz,wim,lzh,iso".split(","),i[o.hW.FONT]="ttf,ttc,otf,eot,woff,woff2".split(","),i[o.hW.MAIL]="eml".split(","),i[o.hW.XMIND]="xmind,mmap".split(","),i[o.hW.EXE]="exe,msi,scr,cmd,bat,com".split(","),i[o.hW.OFFICE_EXCEL]="xls,xlsx,xlsm,et,ett,csv".split(","),i[o.hW.OFFICE_PPT]="ppt,pptx,pptm,dps,dpt".split(","),i[o.hW.OFFICE_WORD]="doc,docx,wps,wpt,docm,dot,dotm".split(","),i[o.hW.NUMBERS]="numbers".split(","),i[o.hW.KEYNOTE]="key".split(","),i[o.hW.PAGES]="pages".split(","),i[o.hW.CAD]="dwg,dxf,dws,dwt".split(","),i[o.hW.CDR]="cdr".split(","),i[o.hW.SOLID_WORK]="sldprt,step,slddrw".split(","),i[o.hW.PSD]="psd,psb".split(","),i[o.hW.AI]="ai,eps,svg,svgz".split(","),i[o.hW.PDF]="pdf".split(","),i[o.hW.SKETCH]="sketch".split(","),i[o.hW.ANDROID]="apk".split(","),i[o.hW.MAC]="dmg,pkg".split(","),i[o.hW.FOLDER]="folder".split(","),i),s=function(e,t,n){var i,s,a;return(i=function(e){var t=e.split("#tab=");if(!t||2!==t.length)return null;var n=t[0],i=t[1];return""!==n?null:i}(s=e)?o.hW.SHEET_LINK:(0,o.KM)(s))===o.hW.OTHER&&(i=function(e){var t,n=(null===(t=/.*\.(.*)$/.exec(e))||void 0===t?void 0:t[1])||"",i=null;return Object.keys(r).forEach((function(e){r[e].includes(n.toLowerCase())&&(i=parseInt(e,10))})),i}(t)||(a=n,{1:o.hW.FOLDER}[a]||null)||o.hW.OTHER),i},a=function(e){var t=e.classify,n=e.fileExt;return(0,o.lN)(t,n)},l=function(e){var t=(e/1e6).toFixed(1);return"0.0"===t?"0.1":t}},"../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.interface.js":function(e,t,n){"use strict";var i;n.d(t,{c:function(){return i}}),function(e){e.YEAR_MONTH_DAY='yyyy"年"m"月"d"日"',e.YEAR_MONTH_DAY_WITH_LINE="yyyy-mm-dd",e.YEAR_MONTH_DAY_WITH_SLASH="yyyy/m/d",e.MONTH_DAY='m"月"d"日"',e.YEAR_MONTH_WEEK_DAY='[$-804]yyyy"年"m"月"d"日" dddd',e.MONTH_DAY_YEAR_WITH_SLASH="m/d/yyyy",e.DAY_MONTH_YEAR_WITH_SLASH="d/m/yyyy",e.YEAR_MONTH_DAY_TIME='yyyy"年"m"月"d"日" hh:mm',e.YEAR_MONTH_DAY_TIME_WITH_LINE="yyyy-mm-dd hh:mm"}(i||(i={}))},"../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.js":function(e,t,n){"use strict";n.d(t,{EO:function(){return p},GI:function(){return h},Ol:function(){return g},Un:function(){return f},od:function(){return v}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/@tencent/form-ui-components/lib/components/calendar/dayjs.js")),s=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.interface.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.js"),l=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js"),d=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js"),h=[s.c.YEAR_MONTH_DAY,s.c.YEAR_MONTH_DAY_WITH_LINE,s.c.YEAR_MONTH_DAY_WITH_SLASH,s.c.MONTH_DAY,s.c.YEAR_MONTH_WEEK_DAY,s.c.MONTH_DAY_YEAR_WITH_SLASH,s.c.DAY_MONTH_YEAR_WITH_SLASH],g=[s.c.YEAR_MONTH_DAY_TIME,s.c.YEAR_MONTH_DAY_TIME_WITH_LINE],f=[].concat(g,h),m=new Map([[s.c.YEAR_MONTH_DAY,"YYYY年M月D日"],[s.c.YEAR_MONTH_DAY_WITH_LINE,"YYYY-MM-DD"],[s.c.YEAR_MONTH_DAY_WITH_SLASH,"YYYY/M/D"],[s.c.MONTH_DAY,"M月D日"],[s.c.YEAR_MONTH_WEEK_DAY,"YYYY年M月D日 dddd"],[s.c.MONTH_DAY_YEAR_WITH_SLASH,"M/D/YYYY"],[s.c.DAY_MONTH_YEAR_WITH_SLASH,"D/M/YYYY"],[s.c.YEAR_MONTH_DAY_TIME,"YYYY年M月D日 HH:mm"],[s.c.YEAR_MONTH_DAY_TIME_WITH_LINE,"YYYY-MM-DD HH:mm"]]),p=function(e){return m.get(e)},v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isSupportSearch=!1,t}(0,o.Z)(t,e),t.getSupportFilterOperators=function(){return new Set([d.m.IS,d.m.IS_NOT,d.m.IS_GREATER,d.m.IS_LESS,d.m.IS_EMPTY,d.m.IS_NOT_EMPTY])},t.getSupportStatOperators=function(){return[l.w.NONE,l.w.COUNT,l.w.EMPTY,l.w.FILLED,l.w.UNIQUE,l.w.EMPTY_PERCENT,l.w.FILLED_PERCENT,l.w.UNIQUE_PERCENT,l.w.LATEST,l.w.EARLIEST,l.w.DAY_RANGE,l.w.MONTH_RANGE]},t.convertDayjsObj=function(e,t,n){var i,o=null!==(i=null===t||void 0===t?void 0:t.map(p))&&void 0!==i?i:[];return(0,r.Z)(e,o,n)},t.convertString=function(e,t){return(0,r.Z)(e).format(p(t))},t.getDateTimeStringList=function(e,t){var n=e.format(p(t));return t===s.c.YEAR_MONTH_WEEK_DAY?{dateString:n}:{dateString:n.split(" ")[0],timeString:n.split(" ")[1]}};var n=t.prototype;return n.getSortKey=function(e){var n,i=this.getTimestamp(e);if(null===i)return null;var o=t.convertString(i,this.property.format);return null===(n=t.convertDayjsObj(o,[this.property.format]))||void 0===n?void 0:n.valueOf()},n.getFilterKey=function(e){return this.getSortKey(e)},n.compare=function(e,t){return(0,u.$P)(e,t)},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return c.Z.DATE}}]),t}(a.n)},"../node_modules/@tencent/xtable-core/es/model/field/common/group-field-types.js":function(e,t,n){"use strict";n.d(t,{q:function(){return r}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),o=new Set([i.f.SINGLE_SELECT]),r=function(e){return o.has(e)}},"../node_modules/@tencent/xtable-core/es/model/field/common/is-field-editable.js":function(e,t,n){"use strict";n.d(t,{Hp:function(){return l},IV:function(){return o},Pl:function(){return a},iH:function(){return r},uB:function(){return s}}),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js");var i=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),o=[i.f.CREATED_TIME,i.f.MODIFIED_TIME],r=[i.f.CREATED_USER,i.f.MODIFIED_USER],s=[].concat(o,r),a=[i.f.MULTIPLE_SELECT,i.f.SINGLE_SELECT];function l(e){return!s.includes(e)}},"../node_modules/@tencent/xtable-core/es/model/field/common/last-modified.js":function(e,t,n){"use strict";function i(e){var t=0,n={};return e?(Object.entries(e).forEach((function(e){var i=e[0],o=e[1];(null===o||void 0===o?void 0:o.modifiedTime)&&o.modifiedTime>t&&(t=o.modifiedTime,n.fieldId=i,n.cell=o)})),0===t?null:n):null}n.d(t,{k:function(){return i}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.entries.js")},"../node_modules/@tencent/xtable-core/es/model/field/common/primary-field-types.js":function(e,t,n){"use strict";n.d(t,{I:function(){return o},e:function(){return r}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js");var i=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),o=[i.f.TEXT,i.f.NUMBER,i.f.DATE_TIME,i.f.URL,i.f.PROGRESS,i.f.EMAIL,i.f.PHONE],r=function(e){return o.includes(e)}},"../node_modules/@tencent/xtable-core/es/model/field/common/replace.js":function(e,t,n){"use strict";n.d(t,{H:function(){return i}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.array.join.js");var i=function(e,t,n){var i=e.toLowerCase(),o=t.toLowerCase();if(i.includes(o)){var r=i.split(o),s=[];return r.reduce((function(n,i,o){var a=n.length,l=n.length+i.length;return s.push(e.slice(a,l)),n+(o!==r.length-1?t:"")+i}),""),s.join(n)}return e}},"../node_modules/@tencent/xtable-core/es/model/field/date-time/date-time-field.js":function(e,t,n){"use strict";n.d(t,{ZW:function(){return p},ln:function(){return I},wv:function(){return v}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/dayjs/dayjs.min.js")),s=n.n(r),a=n("../node_modules/lodash/isNumber.js"),l=n.n(a),d=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),c=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.js"),u=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.interface.js"),h=n("../node_modules/@tencent/xtable-core/es/model/field/common/replace.js"),g=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),f=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),m=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/type-operator/type-operation/date/date-duration.js"),p={MAX:s()("9999-12-31 23:59:59").valueOf(),MIN:new Date("0-01-01").setFullYear(0).valueOf()},v=[].concat((0,o.Z)(c.Un.map(c.EO)),["YYYY年MM月D日","YYYY/MM/DD","YYYY年MM月D日 dddd","DD/MM/YYYY","MM/DD/YYYY","MM月DD日","YYYY年MM月D日 HH:mm"]),I=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=g.f.DATE_TIME,t}(0,i.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{format:u.c.YEAR_MONTH_DAY,autoFill:!1}},t.serializeProperty=function(e){return{1:e.format,2:e.autoFill}},t.deserializeProperty=function(e){return{format:e[1],autoFill:e[2]}},t.serializeCell=function(e){return null===e||void 0===e?null:String(e)},t.deserializeCell=function(e){return null===e||void 0===e?null:Number(e)},t.getDefaultCellValueByFilterCondition=function(e,t){var n;if(e!==f.m.IS||null===t)return null;var i=t.type,o=t.timestamps;return[m.Ot.DETAIL_DATE,m.Ot.TODAY,m.Ot.TOMORROW,m.Ot.YESTERDAY].includes(i)&&null!==(n=m.BI[i](o)[0])&&void 0!==n?n:null};var n=t.prototype;return n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.isCellValidated=function(e){return!!(0,d.isType)("Null",e)||!!l()(e)&&s()(e).isValid()},n.generateStandardCellByCellValue=function(e){return this.isCellValidated(e)&&null!==e?{sourceType:this.type,data:[{text:c.od.convertString(e,this.property.format),timestamp:e}]}:this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){if(0===e.data.length)return null;var t=e.data[0];if("timestamp"in t)return t.timestamp;t.text=t.text.trim();var n=s()(t.text,v,!0);return n.isValid()?n.valueOf():null},n.getReplaceDelta=function(e,t,n,i,o){var r;if(!isNaN(Number(o))&&!isNaN(Number(i))){var s=(0,h.H)(e[0].text,i,o),a=t.getProperty().format,l=c.od.convertDayjsObj(s,[a]);if(l.isValid()){var d=l.valueOf(),u=t.getId();return(r={})[u]=Object.assign(Object.assign({},n[u]),{value:d}),r}}},n.getTimestamp=function(e){return this.getCellValue(e)},t}(c.od)},"../node_modules/@tencent/xtable-core/es/model/field/email/email-field.js":function(e,t,n){"use strict";n.d(t,{Y:function(){return g}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.number.is-integer.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/@tencent/ark-utils/lib/types/index.js")),s=n("../node_modules/@tencent/xtable-core/es/model/field/common/replace.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js"),h=/^[A-Za-z0-9@_——.-]+$/,g=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=l.f.EMAIL,t.isSupportSearch=!1,t}(0,o.Z)(t,e),t.getDefaultProperty=function(){return null},t.serializeProperty=function(){return null},t.deserializeProperty=function(){return null},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null!==e&&void 0!==e?e:null},t.isLegalEmail=function(e){return h.test(e)},t.getSupportFilterOperators=function(){return new Set([d.m.CONTAINS,d.m.DOES_NOT_CONTAIN,d.m.IS,d.m.IS_NOT,d.m.IS_EMPTY,d.m.IS_NOT_EMPTY])},t.getDefaultCellValueByFilterCondition=function(e,t){return e!==d.m.IS?null:t};var n=t.prototype;return n.getReplaceDelta=function(e,n,i,o,r){var a,l=e[0].text,d=(0,s.H)(l,o,r);if(t.isLegalEmail(d)){var c=n.getId();return(a={})[c]=Object.assign(Object.assign({},i[c]),{value:d}),a}},n.isCellValidated=function(e){return!!(0,r.isType)("Null",e)||t.isLegalEmail(e)},n.generateStandardCellByCellValue=function(e){return this.isCellValidated(e)&&null!==e?{sourceType:this.type,data:[{text:e}]}:this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){var n=e.data,i=e.sourceType;if(0===n.length||i===l.f.IMAGE)return null;if(t.disabledFieldType.includes(i))return null;var o=n[0].text;if(i===l.f.PROGRESS){var r=o.replace("%","");return t.isLegalEmail(r)?r:null}return Number.isInteger(Number(o))?o.replace(/(\.\d+?)0*$/,""):t.isLegalEmail(o)?o.trim():null},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.compare=function(e,t){return(0,u.Ew)(e,t)},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return c.Z.STRING}}]),t}(a.n);g.disabledFieldType=[l.f.MODIFIED_USER,l.f.CREATED_USER,l.f.CREATED_TIME,l.f.MODIFIED_TIME,l.f.DATE_TIME,l.f.IMAGE,l.f.PHONE,l.f.CHECKBOX]},"../node_modules/@tencent/xtable-core/es/model/field/field-helper.js":function(e,t,n){"use strict";n.d(t,{e:function(){return B},p:function(){return W}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.sort.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/@tencent/xtable-core/es/model/field/field.js")),s=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),a=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),l=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js"),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.ATTACHMENT,t.isSupportSearch=!1,t}(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),null},t.serializeProperty=function(){return null},t.deserializeProperty=function(){return null},t.serializeCell=function(e){return e?e.map((function(e){return{1:e.name,2:e.size,3:e.fileExt,4:e.id,5:e.classify,6:e.fileUrl,7:e.fileType,8:e.docType}})):null},t.deserializeCell=function(e){return e?e.map((function(e){return{name:e[1],size:e[2],fileExt:e[3],id:e[4],classify:e[5],fileUrl:e[6],fileType:e[7],docType:e[8]}})):null};var n=t.prototype;return n.getFilterKey=function(e){var t=this.getCellValue(e);return!!(null===t||void 0===t?void 0:t.length)||null},n.isCellValidated=function(e){return!!Array.isArray(e)},n.generateStandardCellByCellValue=function(e){return this.isCellValidated(e)&&0!==(null===e||void 0===e?void 0:e.length)&&null!==e?{sourceType:this.type,data:e.map((function(e){return{text:e.name,attachment:e}}))}:this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){var t=e.data;if(0===t.length)return null;if(e.sourceType===s.f.ATTACHMENT){var n=[];return t.forEach((function(e){n.push(e.attachment)})),n}return null},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getSortKey=function(e){var t=this.getCellValue(e);return(null===t||void 0===t?void 0:t.length)?t.map((function(e){return e.name.trim()})).sort(l.Ew).join(" "):null},n.compare=function(e,t){var n=function(e){return null===e?[]:e.split(" ").sort(l.Ew)};return(0,l.VY)(n(e),n(t))},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return a.Z.BOOLEAN}}]),t}(r.n),c=(n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/@tencent/ark-utils/lib/types/index.js")),u=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),h=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js"),g=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),f=u.Z.t("yes"),m=u.Z.t("no"),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.CHECKBOX,t.isSupportSearch=!1,t}(0,o.Z)(t,e),t.getDefaultWidth=function(){return 90},t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{checked:!1}},t.serializeProperty=function(e){return{1:e.checked}},t.deserializeProperty=function(e){return{checked:e[1]}},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null!==e&&void 0!==e?e:null},t.getSupportFilterOperators=function(){return new Set([g.m.IS,g.m.IS_EMPTY,g.m.IS_NOT_EMPTY])},t.getSupportStatOperators=function(){return[h.w.NONE,h.w.COUNT,h.w.CHECKED,h.w.UNCHECKED,h.w.CHECKED_PERCENT,h.w.UNCHECKED_PERCENT]},t.getDefaultCellValueByFilterCondition=function(e,t){return e!==g.m.IS?null:t};var n=t.prototype;return n.getFilterKey=function(e){return this.getStandardCell(e).data[0].checked},n.isCellValidated=function(e){return(0,c.isType)("Null",e)||(0,c.isBoolean)(e)},n.generateStandardCellByCellValue=function(e){return this.isCellValidated(e)&&null!==e?{sourceType:this.type,data:[{checked:e,text:e?f:m}]}:this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){if(0===e.data.length)return null;var n=e.data[0].text.trim().toLocaleLowerCase();return!!t.trueStringArray.includes(n)||!t.falseStringArray.includes(n)&&null},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getSortKey=function(e){return this.getStandardCell(e).data[0].checked},n.compare=function(e,t){return(0,l.$P)(Number(e),Number(t))},n.getEmptyCellStandardCell=function(){return{sourceType:this.type,data:[{text:m,checked:!1}]}},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return a.Z.BOOLEAN}}]),t}(r.n);p.trueStringArray=["yes","real","真","是","true"],p.falseStringArray=["no","fake","false","假","否","不是"];var v=n("../node_modules/lodash/isUndefined.js"),I=n.n(v),y=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.js"),_=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.interface.js"),b=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.CREATED_TIME,t}(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{format:_.c.YEAR_MONTH_DAY}},t.serializeProperty=function(e){return{1:e.format}},t.deserializeProperty=function(e){return{format:e[1]}},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null};var n=t.prototype;return n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getCellValue=function(e){return null},n.getStandardCell=function(e){var t=this.getTimestamp(e);return null===t?this.getEmptyCellStandardCell():{sourceType:this.type,data:[{text:y.od.convertString(t,this.property.format),timestamp:t}]}},n.isCellValidated=function(e){return!!(0,c.isType)("Null",e)},n.generateStandardCellByCellValue=function(e){return this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){return null},n.getTimestamp=function(e){var t=this.tableHelper.getRecordMetaByRecordId(e),n=null===t||void 0===t?void 0:t.createdTime;return I()(n)?null:n},t}(y.od),M=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.CREATED_USER,t.isSupportSearch=!1,t.compare=function(e,n){var i=function(e){return null===e?[]:e.split(" ").map((function(e){var n,i;return null!==(i=null===(n=t.tableHelper.getUserInfo(e))||void 0===n?void 0:n.name)&&void 0!==i?i:null}))},o=i(e),r=i(n);return(0,l.VY)(o,r)},t}(0,o.Z)(t,e),t.getDefaultProperty=function(){return null},t.serializeProperty=function(){return null},t.deserializeProperty=function(){return null},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null},t.getSupportFilterOperators=function(){return new Set([g.m.IS,g.m.IS_NOT,g.m.CONTAINS,g.m.DOES_NOT_CONTAIN,g.m.IS_EMPTY,g.m.IS_NOT_EMPTY])};var n=t.prototype;return n.getCellValue=function(e){return null},n.getStandardCell=function(e){var t=this.tableHelper.getRecordMetaByRecordId(e),n=null===t||void 0===t?void 0:t.createdUserId;if(!n)return this.getEmptyCellStandardCell();var i=this.tableHelper.getUserInfo(n);return i?{sourceType:this.type,data:[{text:i.name,name:i.name,avatarUrl:i.avatarUrl,id:i.id}]}:this.getEmptyCellStandardCell()},n.isCellValidated=function(e){return!!(0,c.isType)("Null",e)},n.generateStandardCellByCellValue=function(e){return this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){return null},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getSortKey=function(e){var t,n=this.getFilterKey(e);return null!==(t=null===n||void 0===n?void 0:n.join(" "))&&void 0!==t?t:null},n.getFilterKey=function(e){var t=this.tableHelper.getRecordMetaByRecordId(e),n=null===t||void 0===t?void 0:t.createdUserId;return n?[n]:null},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return a.Z.ARRAY}}]),t}(r.n),C=n("../node_modules/@tencent/xtable-core/es/model/field/date-time/date-time-field.js"),w=n("../node_modules/@tencent/xtable-core/es/model/field/email/email-field.js"),T=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.FORMULA,t.isSupportSearch=!1,t}(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{decimalPlaces:1,useSeparate:!1}},t.serializeProperty=function(e){return{1:e.decimalPlaces,2:e.useSeparate}},t.deserializeProperty=function(e){return{decimalPlaces:e[1],useSeparate:e[2]}},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null};var n=t.prototype;return n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getCellValue=function(e){return null},n.getStandardCell=function(e){return this.getEmptyCellStandardCell()},n.isCellValidated=function(e){return!!(0,c.isType)("Null",e)},n.generateStandardCellByCellValue=function(e){return this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){return null},t}(r.n),E=n("../node_modules/@tencent/image-components/dist/index.es2015.js"),j=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.IMAGE,t.isSupportSearch=!1,t}(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),null},t.serializeProperty=function(){return null},t.deserializeProperty=function(){return null},t.serializeCell=function(e){return e?e.map((function(e){return{1:e.id,2:e.title,3:e.imageUrl}})):null},t.deserializeCell=function(e){return e?e.map((function(e){return{id:e[1],title:e[2],imageUrl:e[3]}})):null};var n=t.prototype;return n.getFilterKey=function(e){var t=this.getCellValue(e);return!!(null===t||void 0===t?void 0:t.length)||null},n.isCellValidated=function(e){return!!Array.isArray(e)&&(!!e&&e.every((function(e){return e.imageUrl&&e.title&&e.id})))},n.generateStandardCellByCellValue=function(e){return this.isCellValidated(e)&&null!==e?{sourceType:this.type,data:e.map((function(e){return{text:e.title,imageUrl:e.imageUrl}}))}:this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){return e.sourceType!==s.f.IMAGE||0===e.data.length?null:e.data.map((function(e){return{id:E.Lk.getAttachmentId(),title:e.text,imageUrl:e.imageUrl}}))},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getSortKey=function(e){var t=this.getCellValue(e);return(null===t||void 0===t?void 0:t.length)?t.map((function(e){return e.title.trim()})).sort(l.Ew).join(" "):null},n.compare=function(e,t){var n=function(e){return null===e?[]:e.split(" ").sort(l.Ew)};return(0,l.VY)(n(e),n(t))},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return a.Z.BOOLEAN}}]),t}(r.n),A=n("../node_modules/@tencent/xtable-core/es/model/field/common/last-modified.js"),x=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.MODIFIED_TIME,t}(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{format:_.c.YEAR_MONTH_DAY}},t.serializeProperty=function(e){return{1:e.format}},t.deserializeProperty=function(e){return{format:e[1]}},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null};var n=t.prototype;return n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getCellValue=function(e){return null},n.getStandardCell=function(e){var t=this.getTimestamp(e);return null===t?this.getEmptyCellStandardCell():{sourceType:this.type,data:[{text:y.od.convertString(t,this.property.format),timestamp:t}]}},n.isCellValidated=function(e){return!!(0,c.isType)("Null",e)},n.generateStandardCellByCellValue=function(e){return this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){return null},n.getTimestamp=function(e){var t,n=this.tableHelper.getRecordByRecordId(e),i=(0,A.k)(n),o=null===(t=null===i||void 0===i?void 0:i.cell)||void 0===t?void 0:t.modifiedTime;return I()(o)?null:o},t}(y.od),D=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.MODIFIED_USER,t.isSupportSearch=!1,t.compare=function(e,n){var i=function(e){return e.split(" ").map((function(e){var n,i;return null!==(i=null===(n=t.tableHelper.getUserInfo(e))||void 0===n?void 0:n.name)&&void 0!==i?i:null}))},o=e?i(e):[],r=n?i(n):[];return(0,l.VY)(o,r)},t}(0,o.Z)(t,e),t.getDefaultProperty=function(){return null},t.serializeProperty=function(){return null},t.deserializeProperty=function(){return null},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null},t.getSupportFilterOperators=function(){return new Set([g.m.IS,g.m.IS_NOT,g.m.CONTAINS,g.m.DOES_NOT_CONTAIN,g.m.IS_EMPTY,g.m.IS_NOT_EMPTY])};var n=t.prototype;return n.getCellValue=function(e){return null},n.getStandardCell=function(e){var t,n,i=this.tableHelper.getRecordByRecordId(e),o=(0,A.k)(i);if(!(null===(t=null===o||void 0===o?void 0:o.cell)||void 0===t?void 0:t.modifiedUserId))return this.getEmptyCellStandardCell();var r=this.tableHelper.getUserInfo(null===(n=o.cell)||void 0===n?void 0:n.modifiedUserId);return r?{sourceType:this.type,data:[{text:r.name,name:r.name,avatarUrl:r.avatarUrl,id:r.id}]}:this.getEmptyCellStandardCell()},n.isCellValidated=function(e){return!!(0,c.isType)("Null",e)},n.generateStandardCellByCellValue=function(e){return this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){return null},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getSortKey=function(e){var t,n=this.getFilterKey(e);return null!==(t=null===n||void 0===n?void 0:n.join(" "))&&void 0!==t?t:null},n.getFilterKey=function(e){var t,n,i=this.tableHelper.getRecordByRecordId(e),o=null===(n=null===(t=(0,A.k)(i))||void 0===t?void 0:t.cell)||void 0===n?void 0:n.modifiedUserId;return o?[o]:null},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return a.Z.ARRAY}}]),t}(r.n),S=n("../node_modules/@tencent/xtable-core/es/model/field/number/number-field.js"),N=n("../node_modules/@tencent/xtable-core/es/model/field/phone/phone-field.js"),R=(n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.number.is-nan.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/lodash/lodash.js")),O=n("../node_modules/@tencent/xtable-core/es/model/field/common/replace.js"),L=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.PROGRESS,t.isSupportSearch=!0,t}(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{decimalPlaces:0}},t.serializeProperty=function(e){return{1:e.decimalPlaces}},t.deserializeProperty=function(e){return{decimalPlaces:e[1]}},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return e},t.getRealNumber=function(e){return S.FG.test(e)?Number(e.replace(/%$/,"")):Number(e.replace(/^(\$|HK\$|￥|¥)/,"").replace(/,/g,""))},t.getSupportFilterOperators=function(){return new Set([g.m.IS,g.m.IS_NOT,g.m.IS_GREATER,g.m.IS_GREATER_OR_EQUAL,g.m.IS_LESS,g.m.IS_LESS_OR_EQUAL,g.m.IS_EMPTY,g.m.IS_NOT_EMPTY])},t.getSupportStatOperators=function(){return[h.w.NONE,h.w.COUNT,h.w.MAX,h.w.MIN,h.w.AVERAGE,h.w.EMPTY,h.w.FILLED,h.w.UNIQUE,h.w.EMPTY_PERCENT,h.w.FILLED_PERCENT,h.w.UNIQUE_PERCENT]},t.getFormattedValue=function(e){return e>=0&&e<=100?e:null},t.getDefaultCellValueByFilterCondition=function(e,t){return e!==g.m.IS?null:t};var n=t.prototype;return n.getReplaceDelta=function(e,t,n,i,o){var r,s=this.removePerfect(o);if(this.isProgressValid(s)){var a=e[0].text,l=(0,O.H)(a,i,s);if(this.isProgressValid(l)){var d=t.getId();return(r={})[d]=Object.assign(Object.assign({},n[d]),{value:Number(this.removePerfect(l))}),r}}},n.isMatchField=function(e,t){var n=!1;return e.forEach((function(e){e.text.toLowerCase().includes(t.toLowerCase())&&(n=!0)})),n},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.isCellValidated=function(e){return!!(0,c.isType)("Null",e)||!!(0,R.isNumber)(e)},n.generateStandardCellByCellValue=function(e){return this.isCellValidated(e)&&null!==e&&null!==this.getFormattedValueByCellValue(e)?{sourceType:this.type,data:[{text:this.getFormattedValueByCellValue(e)+"%",number:t.getFormattedValue(e)/100}]}:this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){var n=e.data,i=e.sourceType;if(0===n.length)return null;if(t.disabledFieldType.includes(i))return null;var o=n[0],r=o.text,s=o.number;return s?t.getFormattedValue(100*this.getPrecisionNumber(s)):S.Ki.isValueValid(r)?t.getFormattedValue(t.getRealNumber(r)):null},n.getFilterKey=function(e){return this.getSortKey(e)},n.getSortKey=function(e){var t=this.getCellValue(e);if(null===t)return null;var n=Number(this.getFormattedValueByCellValue(t));return Number.isNaN(n)?null:n},n.compare=function(e,t){return(0,l.$P)(e,t)},n.getFormattedValueByCellValue=function(e){var n=this.getDecimalPlaces(e),i=t.getFormattedValue(e);return null===i?null:i.toLocaleString("zh",{minimumFractionDigits:n,maximumFractionDigits:n})},n.getDecimalPlaces=function(e){var t,n,i=this.property.decimalPlaces;return i===S.Qx?null!==(n=null===(t=String(e).split(".")[1])||void 0===t?void 0:t.length)&&void 0!==n?n:0:i},n.isInteger=function(e){return Math.floor(e)===e},n.getPrecisionNumber=function(e){if(this.isInteger(e))return e;var t=""+e,n=t.indexOf("."),i=t.substr(n+1).length,o=Math.pow(10,i);return Number(e.toString().replace(".",""))/o},n.removePerfect=function(e){return e.replace(/%/g,"")},n.isProgressValid=function(e){var t=this.removePerfect(e);return!(isNaN(Number(t))||Number(t)>100)},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return a.Z.NUMBER}}]),t}(r.n);L.disabledFieldType=[s.f.MODIFIED_USER,s.f.CREATED_USER,s.f.IMAGE];var k=n("../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js"),z=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.MULTIPLE_SELECT,t}return(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{options:(0,k.Ah)([],e),isMultiple:!0,isQuickAdd:!0}},t.serializeProperty=function(e){var t=e.options;return{1:!0,2:e.isQuickAdd,3:t.map((function(e){var t=e.id,n=e.style;return{1:t,2:e.text,3:n}}))}},t.deserializeProperty=function(e){return{isMultiple:!0,isQuickAdd:e[2],options:e[3].map((function(e){return{id:e[1],text:e[2],style:e[3]}}))}},t.getDefaultCellValueByFilterCondition=function(e,t){return e!==g.m.IS?null:t},t.prototype.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty([]),this.property.isMultiple=!0},t}(k.dX),P=n("../node_modules/@tencent/xtable-core/es/model/field/select/single-select-field.js"),F=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.js"),U=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-field.js"),B=function(){function e(){this.fieldStaticMap=new Map,this.register(s.f.TEXT,F.nv),this.register(s.f.NUMBER,S.Ki),this.register(s.f.CHECKBOX,p),this.register(s.f.DATE_TIME,C.ln),this.register(s.f.MULTIPLE_SELECT,z),this.register(s.f.SINGLE_SELECT,P.n),this.register(s.f.URL,U.i),this.register(s.f.IMAGE,j),this.register(s.f.CREATED_TIME,b),this.register(s.f.MODIFIED_TIME,x),this.register(s.f.CREATED_USER,M),this.register(s.f.MODIFIED_USER,D),this.register(s.f.PROGRESS,L),this.register(s.f.PHONE,N.$S),this.register(s.f.EMAIL,w.Y),this.register(s.f.ATTACHMENT,d),this.register(s.f.FORMULA,T)}var t=e.prototype;return t.get=function(e){var t=this.fieldStaticMap.get(e);if(!t)throw Error(e+" can't find field static");return t},t.register=function(e,t){this.fieldStaticMap.set(e,t)},e}(),W=new B},"../node_modules/@tencent/xtable-core/es/model/field/field.interface.js":function(e,t,n){"use strict";var i;n.d(t,{f:function(){return i}}),function(e){e[e.TEXT=1]="TEXT",e[e.NUMBER=2]="NUMBER",e[e.CHECKBOX=3]="CHECKBOX",e[e.DATE_TIME=4]="DATE_TIME",e[e.IMAGE=5]="IMAGE",e[e.ATTACHMENT=6]="ATTACHMENT",e[e.URL=8]="URL",e[e.MULTIPLE_SELECT=9]="MULTIPLE_SELECT",e[e.SINGLE_SELECT=17]="SINGLE_SELECT",e[e.CREATED_USER=10]="CREATED_USER",e[e.MODIFIED_USER=11]="MODIFIED_USER",e[e.CREATED_TIME=12]="CREATED_TIME",e[e.MODIFIED_TIME=13]="MODIFIED_TIME",e[e.PROGRESS=14]="PROGRESS",e[e.PHONE=15]="PHONE",e[e.EMAIL=16]="EMAIL",e[e.FORMULA=19]="FORMULA"}(i||(i={}))},"../node_modules/@tencent/xtable-core/es/model/field/field.js":function(e,t,n){"use strict";n.d(t,{n:function(){return c}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/web.url.to-json.js"),n("../node_modules/lodash/cloneDeep.js")),r=n.n(o),s=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js"),a=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),l=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),d=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js"),c=function(){function e(e,t){var n=e.id,i=e.title,o=e.property;this.tableHelper=t,this.id=n,this.setTitle(i),this.setProperty(o)}e.getDefaultWidth=function(){return 140},e.getSupportFilterOperators=function(){return new Set([a.m.IS_EMPTY,a.m.IS_NOT_EMPTY])},e.getSupportStatOperators=function(){return[s.w.NONE,s.w.COUNT,s.w.EMPTY,s.w.FILLED,s.w.UNIQUE,s.w.EMPTY_PERCENT,s.w.FILLED_PERCENT,s.w.UNIQUE_PERCENT]},e.getDefaultCellValueByFilterCondition=function(e,t){return null};var t=e.prototype;return t.getId=function(){return this.id},t.getType=function(){return this.type},t.getTitle=function(){return this.title},t.getProperty=function(){return this.property},t.setTitle=function(e){this.title=e},t.toJSON=function(){return{id:this.id,title:this.title,type:this.type,property:r()(this.property)}},t.getStandardCell=function(e){var t=this.tableHelper.getCell(e,this.getId());return t?this.generateStandardCellByCellValue(t.value):this.getEmptyCellStandardCell()},t.getCellValue=function(e){var t=this.tableHelper.getCell(e,this.getId());if(!t)return null;var n=t.value;return this.isCellValidated(n)?n:null},t.getFilterKey=function(e){return this.getCellValue(e)},t.getSortKey=function(e){return this.getCellValue(e)},t.compare=function(e,t){return(0,d.cz)(e,t)},t.getEmptyCellStandardCell=function(){return{sourceType:this.type,data:[]}},(0,i.Z)(e,null,[{key:"filterKeyType",get:function(){return l.Z.STRING}}]),e}()},"../node_modules/@tencent/xtable-core/es/model/field/number/number-field.js":function(e,t,n){"use strict";n.d(t,{FG:function(){return m},Ki:function(){return v},Qx:function(){return g}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.number.is-nan.js"),n("../node_modules/@tencent/ark-utils/lib/types/index.js")),s=n("../node_modules/@tencent/xtable-core/es/model/field/common/replace.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),h=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js"),g=-1,f=/^(\$|HK\$|￥|¥|[+-])?\d+(,\d{3})*\.?\d*$/,m=/^[+-]?\d+\.?\d*%$/,p=/^[+-]?\d(\.\d*)?([Ee][+-]?\d+)?$/,v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=l.f.NUMBER,t.isSupportSearch=!0,t}(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{decimalPlaces:1,useSeparate:!1}},t.serializeProperty=function(e){return{1:e.decimalPlaces,2:e.useSeparate}},t.deserializeProperty=function(e){return{decimalPlaces:e[1],useSeparate:e[2]}},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null!==e&&void 0!==e?e:null},t.isValueValid=function(e){return f.test(e)||m.test(e)||p.test(e)},t.getRealNumber=function(e){return m.test(e)?Number(e.replace(/%$/,""))/100:Number(e.replace(/^(\$|HK\$|￥|¥)/,"").replace(/,/g,""))},t.getSupportFilterOperators=function(){return new Set([c.m.IS,c.m.IS_NOT,c.m.IS_GREATER,c.m.IS_GREATER_OR_EQUAL,c.m.IS_LESS,c.m.IS_LESS_OR_EQUAL,c.m.IS_EMPTY,c.m.IS_NOT_EMPTY])},t.getSupportStatOperators=function(){return[d.w.NONE,d.w.COUNT,d.w.MAX,d.w.MIN,d.w.SUM,d.w.AVERAGE,d.w.EMPTY,d.w.FILLED,d.w.UNIQUE,d.w.EMPTY_PERCENT,d.w.FILLED_PERCENT,d.w.UNIQUE_PERCENT]},t.getDefaultCellValueByFilterCondition=function(e,t){return e!==c.m.IS?null:t};var n=t.prototype;return n.getReplaceDelta=function(e,t,n,i,o){var r;if(!isNaN(Number(o))){var a=e[0].text.split(",").join(""),l=(0,s.H)(a,i,o),d=t.getId();return(r={})[d]=Object.assign(Object.assign({},n[d]),{value:Number(l)}),r}},n.isMatchField=function(e,t){var n=!1;return e.forEach((function(e){var i=e.text;(i=i.split(",").join("")).toLowerCase().includes(t.toLowerCase())&&(n=!0)})),n},n.isCellValidated=function(e){return(0,r.isType)("Null",e)||(0,r.isNumber)(e)},n.generateStandardCellByCellValue=function(e){return this.isCellValidated(e)&&null!==e?{sourceType:this.type,data:[{text:this.getFormattedValueByCellValue(e),number:e}]}:this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){var n=e.data;if(0===n.length)return null;var i=n[0],o=i.text,r=i.number;return r||(t.isValueValid(o)?t.getRealNumber(o):null)},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getFilterKey=function(e){return this.getSortKey(e)},n.getSortKey=function(e){var t=this.getCellValue(e);if(null===t)return null;var n=Number(this.getFormattedValueByCellValue(t).replace(/,/g,""));return Number.isNaN(n)?null:n},n.compare=function(e,t){return(0,h.$P)(e,t)},n.getFormattedValueByCellValue=function(e){var t=this.getDecimalPlaces(e);return this.toExponential(e).toLocaleString("zh",{minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:this.property.useSeparate})},n.getDecimalPlaces=function(e){var t,n,i=this.property.decimalPlaces;return i===g?null!==(n=null===(t=String(e).split(".")[1])||void 0===t?void 0:t.length)&&void 0!==n?n:0:i},n.toExponential=function(e){return e>999999999999999||e<-999999999999999?e.toExponential():e},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return u.Z.NUMBER}}]),t}(a.n)},"../node_modules/@tencent/xtable-core/es/model/field/phone/phone-field.js":function(e,t,n){"use strict";n.d(t,{$S:function(){return p}}),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js");var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.number.is-integer.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/@tencent/ark-utils/lib/types/index.js")),s=n("../node_modules/@tencent/xtable-core/es/model/field/common/replace.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),d=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js");function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var f=/^[\d ,，()（）+-]+$/,m="+()（）,，".split(""),p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=l.f.PHONE,t.isSupportSearch=!1,t}(0,o.Z)(t,e),t.getDefaultProperty=function(){return null},t.serializeProperty=function(){return null},t.deserializeProperty=function(){return null},t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null!==e&&void 0!==e?e:null},t.checkPhoneLimitString=function(e){if(!f.test(e))return!1;for(var n,i=h(m);!(n=i()).done;){var o=n.value;if(!t.checkPhoneLimitHelper(e,o))return!1}return!0},t.getDefaultCellValueByFilterCondition=function(e,t){return e!==d.m.IS?null:t},t.getSupportFilterOperators=function(){return new Set([d.m.CONTAINS,d.m.DOES_NOT_CONTAIN,d.m.IS,d.m.IS_NOT,d.m.IS_EMPTY,d.m.IS_NOT_EMPTY])},t.checkPhoneLimitHelper=function(e,t){return e.indexOf(t)===e.lastIndexOf(t)};var n=t.prototype;return n.getReplaceDelta=function(e,n,i,o,r){var a,l=e[0].text,d=(0,s.H)(l,o,r);if(t.checkPhoneLimitString(d)){var c=n.getId();return(a={})[c]=Object.assign(Object.assign({},i[c]),{value:d}),a}},n.getFilterKey=function(e){return this.getSortKey(e)},n.getSortKey=function(e){return this.getCellValue(e)},n.compare=function(e,t){return(0,u.Ew)(e,t)},n.isCellValidated=function(e){var n;return!!(0,r.isType)("Null",e)||!!(0,r.isString)(e)&&t.checkPhoneLimitString(null!==(n=e)&&void 0!==n?n:"")},n.generateStandardCellByCellValue=function(e){return this.isCellValidated(e)&&null!==e?{sourceType:this.type,data:[{text:e}]}:this.getEmptyCellStandardCell()},n.generateCellValueByStandardCell=function(e){var n=e.data,i=e.sourceType;if(0===n.length||t.disabledFieldType.includes(i))return null;var o=n[0].text;if(i===l.f.PROGRESS){var r=o.replace("%","");return t.checkPhoneLimitString(r)?this.getPhoneText(r):null}return Number.isInteger(Number(o))?o.replace(/(\.\d+?)0*$/,""):t.checkPhoneLimitString(o)?this.getPhoneText(o):null},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getPhoneText=function(e){var t=e;return[{zhString:"（",enString:"("},{zhString:"）",enString:")"},{zhString:"，",enString:","},{zhString:" ",enString:""}].forEach((function(e){var n=new RegExp(e.zhString,"g");t=t.replace(n,e.enString)})),t},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return c.Z.STRING}}]),t}(a.n);p.disabledFieldType=[l.f.EMAIL,l.f.MODIFIED_USER,l.f.CREATED_USER,l.f.CREATED_TIME,l.f.MODIFIED_TIME,l.f.DATE_TIME,l.f.IMAGE]},"../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js":function(e,t,n){"use strict";n.d(t,{Ah:function(){return T},Wv:function(){return w},dX:function(){return E},jq:function(){return b}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),s=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.sort.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/@tencent/xtable-common/es/logger/index.js")),a=n("../node_modules/@tencent/xtable-common/es/palette/option.js"),l=n("../node_modules/@tencent/xtable-core/es/constant/config/id.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/field.js"),c=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),h=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),g=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js"),f=n("../node_modules/@tencent/xtable-core/es/utils/id.js");function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var v=[a.h.B1,a.h.C1,a.h.D1,a.h.E1,a.h.F1,a.h.G1,a.h.H1,a.h.I1],I=[a.h.A2,a.h.B2,a.h.C2,a.h.D2,a.h.E2,a.h.F2,a.h.G2,a.h.H2,a.h.I2],y=[a.h.A3,a.h.B3,a.h.C3,a.h.D3,a.h.E3,a.h.F3,a.h.G3,a.h.H3,a.h.I3],_=[a.h.A1],b=(a.h.E1,a.h.F1,a.h.C1,a.h.D1,a.h.H1,a.h.I1,a.h.A2,a.h.A1,",");function M(e,t){if(0===e.length)return a.h.B1;for(var n,i=(s=null!==t&&void 0!==t?t:e[e.length-1],_.includes(s)||v.includes(s)?v:I.includes(s)?I:y),o=m(i);!(n=o()).done;){var r=n.value;if(!e.includes(r))return r}var s;return i[Math.floor(Math.random()*i.length)]}function C(e,t){return[c.f.NUMBER,c.f.PHONE].includes(t)?[e]:e.split(b).filter((function(e){return""!==e}))}function w(e){var t=[],n=[];return e.forEach((function(e){t.push(e.id),n.includes(e.style)||n.push(e.style)})),{usedIds:t,usedStyles:n}}function T(e,t){var n=(0,r.Z)(e),i=w(n),o=i.usedIds,s=i.usedStyles;return t.forEach((function(e){e.data.forEach((function(t){(E.isSelectFieldType(e.sourceType)?[t.text]:C(t.text,e.sourceType)).forEach((function(e){if(!E.getOptionByText(e,n)){var t=E.createOption(e,o,s);n.push(t),o.push(t.id),s.push(t.style)}}))}))})),n}var E=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isSupportSearch=!0,t.getSortKey=function(e){var n=t.getCellValue(e);return(null===n||void 0===n?void 0:n.length)?(n.sort((function(e,n){return t.getIndexByOptionId(e)-t.getIndexByOptionId(n)})),n.join(" ")):null},t.compare=function(e,n){var i=function(e){return e.split(" ").map(t.getIndexByOptionId)};return(0,g.oT)(e?i(e):null,n?i(n):null)},t.getIndexByOptionId=function(e){return t.property.options.findIndex((function(t){return t.id===e}))},t}(0,o.Z)(t,e),t.serializeCell=function(e){return e},t.deserializeCell=function(e){return null!==e&&void 0!==e?e:null},t.getOptionByText=function(e,t){return t.find((function(t){return t.text===e}))},t.getSupportFilterOperators=function(){return new Set([u.m.IS,u.m.IS_NOT,u.m.CONTAINS,u.m.DOES_NOT_CONTAIN,u.m.IS_EMPTY,u.m.IS_NOT_EMPTY])},t.createOption=function(e,t,n,i){return{text:e,style:M(n,i),id:this.getNewOptionId(t)}},t.getNewOptionId=function(e){return(0,f.JU)({usedIds:e,prefix:l.V.OPTION})},t.isSelectFieldType=function(e){return e===c.f.MULTIPLE_SELECT||e===c.f.SINGLE_SELECT},t.isSelectField=function(e){var n=e.getType();return t.isSelectFieldType(n)};var n=t.prototype;return n.isMatchField=function(e,t){return!!e.map((function(e){return e.text.toLowerCase()})).join(",").includes(t.toLowerCase())},n.isCellValidated=function(e){return null===e||!!Array.isArray(e)&&(0===e.length||"string"===typeof e[0])},n.getCellValue=function(t){var n=e.prototype.getCellValue.call(this,t);return(null===n||void 0===n?void 0:n.length)?this.property.isMultiple?n:[n[0]]:null},n.generateStandardCellByCellValue=function(e){if(!this.isCellValidated(e)||null===e)return this.getEmptyCellStandardCell();var t=this.getFormattedValueByCellValue(e);return{sourceType:this.type,data:t}},n.generateCellValueByStandardCell=function(e){var n=this,i=e.sourceType,o=[];return e.data.forEach((function(r){var s=n.isSelectStandardCellData(r,e.sourceType);s&&n.getOptionById(r.id)?o.push(r.id):(s?[r.text]:C(r.text,i)).forEach((function(e){var i=t.getOptionByText(e,n.property.options);i&&o.push(i.id)}))})),0===o.length?null:o},n.getFormattedValueByCellValue=function(e){var t=this;return(null===e||void 0===e?void 0:e.length)?(this.property.isMultiple?e:[e[0]]).reduce((function(e,n){var i=t.getOptionById(n);return i?(e.push(i),e):(s.k.error("select can't find optionId: "+n),e)}),[]):[]},n.getOptionById=function(e){return this.property.options.find((function(t){return t.id===e}))},n.isSelectStandardCellData=function(e,n){return t.isSelectFieldType(n)},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return h.Z.ARRAY}}]),t}(d.n)},"../node_modules/@tencent/xtable-core/es/model/field/select/single-select-field.js":function(e,t,n){"use strict";n.d(t,{n:function(){return d}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/lodash/cloneDeep.js")),r=n.n(o),s=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js"),l=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),d=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=s.f.SINGLE_SELECT,t}(0,i.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{options:(0,a.Ah)([],e),isMultiple:!1,isQuickAdd:!0}},t.serializeProperty=function(e){var t=e.options;return{1:!1,2:e.isQuickAdd,3:t.map((function(e){var t=e.id,n=e.style;return{1:t,2:e.text,3:n}}))}},t.deserializeProperty=function(e){return{isMultiple:!1,isQuickAdd:e[2],options:e[3].map((function(e){return{id:e[1],text:e[2],style:e[3]}}))}},t.getDefaultCellValueByFilterCondition=function(e,t){var n;return e===l.m.IS||null===t||e===l.m.CONTAINS&&1===(null===(n=t)||void 0===n?void 0:n.length)?t:null};var n=t.prototype;return n.getGroups=function(e){var t=r()(this.property.options).map((function(e){return e.id}));return t.unshift(null),{groupIds:t,groupRecordIds:this.getGroupRecordIds(t,e)}},n.getGroupValues=function(){var e=this,t=r()(this.property.options).reduce((function(t,n){return t.set(n.id,{sourceType:e.type,data:[n]}),t}),new Map);return t.set(null,this.getEmptyCellStandardCell()),t},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty([]),this.property.isMultiple=!1},n.getGroupRecordIds=function(e,t){var n=this,i=new Map;return e.forEach((function(e){return i.set(e,[])})),t.forEach((function(e){var t=n.getCellValue(e),o=null===t||0===t.length?null:t[0],r=i.get(o);r&&r.push(e)})),i},t}(a.dX)},"../node_modules/@tencent/xtable-core/es/model/field/text/text-field.interface.js":function(e,t,n){"use strict";var i;n.d(t,{y:function(){return i}}),function(e){e.URL="url",e.TEXT="text"}(i||(i={}))},"../node_modules/@tencent/xtable-core/es/model/field/text/text-field.js":function(e,t,n){"use strict";n.d(t,{nv:function(){return p},xG:function(){return m}}),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js");var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.string.link.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/@tencent/xtable-core/es/model/field/common/replace.js")),s=n("../node_modules/@tencent/xtable-core/es/model/field/field.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.interface.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),h=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js");function g(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var m=function(e){return"\n"===e.slice(-1)?e.slice(0,-1):e},p=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=a.f.TEXT,t.isSupportSearch=!1,t}(0,o.Z)(t,e),t.getDefaultProperty=function(e){return void 0===e&&(e=[]),null},t.serializeProperty=function(){return null},t.deserializeProperty=function(){return null},t.serializeCell=function(e){return e?e.map((function(e){var t={1:e.type,2:e.text};return e.type===d.y.URL&&(t[3]=e.link),t})):null},t.deserializeCell=function(e){return e?e.map((function(e){var t={type:e[1],text:e[2]};return e.type===d.y.URL?Object.assign(t,{link:e[3]}):t})):null},t.getDefaultCellValueByFilterCondition=function(e,t){return e!==c.m.IS?null:t?[{type:d.y.TEXT,text:t}]:null},t.getSupportFilterOperators=function(){return new Set([c.m.CONTAINS,c.m.DOES_NOT_CONTAIN,c.m.IS,c.m.IS_NOT,c.m.IS_EMPTY,c.m.IS_NOT_EMPTY])};var n=t.prototype;return n.getReplaceDelta=function(e,t,n,i,o){var s,a=e.map((function(e){if(e.type!==d.y.TEXT)return e;if(e.text.toLowerCase().includes(i.toLowerCase())){var t=(0,r.H)(e.text,i,o);return Object.assign(Object.assign({},e),{text:t})}return e}));a.length>1&&(a=a.map((function(e){return Object.assign(Object.assign({},e),{text:e.text+"\n"})})));var l=t.getId();return(s={})[l]=Object.assign(Object.assign({},n[l]),{value:a}),s},n.getFilterKey=function(e){return this.getSortKey(e)},n.isCellValidated=function(e){if(null===e)return!0;if(!Array.isArray(e))return!1;for(var t,n=g(e);!(t=n()).done;)if(!t.value.text)return!1;return!0},n.generateStandardCellByCellValue=function(e){if(!this.isCellValidated(e)||null===e)return this.getEmptyCellStandardCell();var t=function(e){var t=[],n=[];return e.forEach((function(e){e.text.includes("\n")?(n.push(e),t.push(n),n=[]):n.push(e)})),n.length&&t.push(n),t}(e).map((function(e){var t=e.reduce((function(e,t){return e+t.text}),"");return{type:d.y.TEXT,text:m(t)}}));return{sourceType:this.type,data:null!==t&&void 0!==t?t:[]}},n.generateCellValueByStandardCell=function(e){if(0===e.data.length)return null;var t=e.sourceType;return l.dX.isSelectFieldType(t)?[{text:e.data.map((function(e){return e.text})).join(l.jq)+"\n",type:d.y.TEXT}]:e.data.map((function(e){return e.type===d.y.URL?{text:e.text+"\n",type:d.y.URL,link:e.link}:{text:e.text+"\n",type:d.y.TEXT}}))},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getSortKey=function(e){var t=this.getCellValue(e);if(!(null===t||void 0===t?void 0:t.length))return null;var n=t.map((function(e){return m(e.text)})).join("");return""===n?null:n},n.compare=function(e,t){return(0,h.Ew)(e,t)},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return u.Z.STRING}}]),t}(s.n)},"../node_modules/@tencent/xtable-core/es/model/field/url/url-field.interface.js":function(e,t,n){"use strict";var i;n.d(t,{U:function(){return i}}),function(e){e[e.PURE_TEXT=1]="PURE_TEXT",e[e.ICON_TEXT=2]="ICON_TEXT"}(i||(i={}))},"../node_modules/@tencent/xtable-core/es/model/field/url/url-field.js":function(e,t,n){"use strict";n.d(t,{i:function(){return m}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.string.link.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/@tencent/xtable-core/es/model/field/common/replace.js")),s=n("../node_modules/@tencent/xtable-core/es/model/field/field.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/text/text-field.interface.js"),c=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-field.interface.js"),u=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js"),h=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),g=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js"),f=n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js"),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).type=a.f.URL,t.isSupportSearch=!1,t}(0,o.Z)(t,e),t.isUrl=function(e){return/\.com$/i.test(e)||/^www\./i.test(e)||/^((http(s)?|ftp|file):\/\/)/i.test(e)},t.getDefaultProperty=function(e){return void 0===e&&(e=[]),{type:c.U.PURE_TEXT}},t.serializeProperty=function(e){return{1:e.type}},t.deserializeProperty=function(e){return{type:e[1]}},t.serializeCell=function(e){return e?e.map((function(e){return{1:e.type,2:e.text,3:e.link}})):null},t.deserializeCell=function(e){return e?e.map((function(e){return{type:e[1],text:e[2],link:e[3]}})):null},t.getDefaultCellValueByFilterCondition=function(e,t){return e!==h.m.IS?null:t?[{type:d.y.URL,text:t}]:null},t.getSupportFilterOperators=function(){return new Set([h.m.CONTAINS,h.m.DOES_NOT_CONTAIN,h.m.IS,h.m.IS_NOT,h.m.IS_EMPTY,h.m.IS_NOT_EMPTY])};var n=t.prototype;return n.getReplaceDelta=function(e,t,n,i,o){var s,a=e.map((function(e){var t;if(e.type!==d.y.URL)return e;if(e.text.toLowerCase().includes(i.toLowerCase())){var n=(0,r.H)(null!==(t=e.text)&&void 0!==t?t:"",i,o);return Object.assign(Object.assign({},e),{text:n})}return e})),l=t.getId();return(s={})[l]=Object.assign(Object.assign({},n[l]),{value:a}),s},n.getFilterKey=function(e){return this.getSortKey(e)},n.isCellValidated=function(e){return!!Array.isArray(e)},n.generateStandardCellByCellValue=function(e){if(!this.isCellValidated(e)||0===(null===e||void 0===e?void 0:e.length)||null===e)return this.getEmptyCellStandardCell();var t=e[0],n=t.text,i=t.link,o=[{text:n,link:i,type:d.y.URL,hyperlinkType:this.getHyperlinkType(i)}];return{sourceType:this.type,data:null!==o&&void 0!==o?o:[]}},n.generateCellValueByStandardCell=function(e){var t;if(0===e.data.length)return null;if(l.dX.isSelectFieldType(e.sourceType)){var n=e.data.map((function(e){return e.text})).join(l.jq),i=(0,u.AQ)(n);return[{link:i,text:n,type:d.y.URL,hyperlinkType:this.getHyperlinkType(i)}]}var o=e.data[0],r="link"in o?null!==(t=o.link)&&void 0!==t?t:"":o.text;return[{text:o.text,type:d.y.URL,link:(0,u.AQ)(r),hyperlinkType:this.getHyperlinkType((0,u.AQ)(r))}]},n.setProperty=function(e){this.property=null!==e&&void 0!==e?e:t.getDefaultProperty()},n.getSortKey=function(e){var t=this.getCellValue(e);if(!(null===t||void 0===t?void 0:t.length))return null;var n=t[0].text;return""===n?null:n},n.compare=function(e,t){return(0,f.Ew)(e,t)},n.getHyperlinkType=function(e){if(!e)return u.hW.OTHER;var t=this.property.type,n=u.hW.OTHER;return t===c.U.ICON_TEXT&&(n=(0,u.KM)(e)),n},(0,i.Z)(t,null,[{key:"filterKeyType",get:function(){return g.Z.STRING}}]),t}(s.n)},"../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js":function(e,t,n){"use strict";n.d(t,{AQ:function(){return h},Br:function(){return m},JX:function(){return f},KM:function(){return u},hA:function(){return l},hW:function(){return i},lN:function(){return v},wI:function(){return g}}),n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.array.includes.js");var i,o=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/axios/index.js"),s=n.n(r),a=n("../node_modules/@tencent/xtable-common/es/logger/index.js");!function(e){e[e.NORMAL=-1]="NORMAL",e[e.IMAGE=1]="IMAGE",e[e.MUSIC=2]="MUSIC",e[e.VIDEO=3]="VIDEO",e[e.DOC=4]="DOC",e[e.SHEET=5]="SHEET",e[e.SLIDE=6]="SLIDE",e[e.FORM=7]="FORM",e[e.FOLDER=8]="FOLDER",e[e.PDF=9]="PDF",e[e.TENCENTDOC=10]="TENCENTDOC",e[e.FOLDER_SHARE=11]="FOLDER_SHARE",e[e.MIND=12]="MIND",e[e.FLOWCHART=13]="FLOWCHART",e[e.SHEET_LINK=14]="SHEET_LINK",e[e.EMAIL_LINK=15]="EMAIL_LINK",e[e.PHONE_NUMBER_LINK=16]="PHONE_NUMBER_LINK",e[e.AUDIO=17]="AUDIO",e[e.ATTACHMENT_IMAGE=18]="ATTACHMENT_IMAGE",e[e.DEFAULT=19]="DEFAULT",e[e.PLACEHOLDER_ERROR=20]="PLACEHOLDER_ERROR",e[e.FONT=1e3]="FONT",e[e.EXE=1001]="EXE",e[e.HTML=1002]="HTML",e[e.CAD=1003]="CAD",e[e.SKETCH=1004]="SKETCH",e[e.KEYNOTE=1005]="KEYNOTE",e[e.OFFICE_EXCEL=1006]="OFFICE_EXCEL",e[e.OFFICE_WORD=1007]="OFFICE_WORD",e[e.OFFICE_PPT=1008]="OFFICE_PPT",e[e.MAC=1009]="MAC",e[e.ANDROID=1010]="ANDROID",e[e.AI=1011]="AI",e[e.PAGES=1012]="PAGES",e[e.CDR=1013]="CDR",e[e.PSD=1014]="PSD",e[e.MAIL=1015]="MAIL",e[e.XMIND=1016]="XMIND",e[e.VECTOR=1017]="VECTOR",e[e.NUMBERS=1018]="NUMBERS",e[e.TXT=1019]="TXT",e[e.SOLID_WORK=1020]="SOLID_WORK",e[e.ZIP=1021]="ZIP",e[e.OTHER=1022]="OTHER",e[e.BOARD=1023]="BOARD"}(i||(i={}));var l=new Set([i.DOC,i.SHEET,i.SLIDE,i.FORM,i.FOLDER,i.PDF,i.TENCENTDOC,i.FOLDER_SHARE,i.MIND,i.FLOWCHART]),d="(?:"+["docs.qq.com","open.txdocs.qq.com","oa.txdocs.qq.com","embed.txdocs.qq.com"].map((function(e){return e.replace(/\./g,"\\.")})).join("|")+")(/|$)",c="(?:"+["doc.weixin.qq.com"].map((function(e){return e.replace(/\./g,"\\.")})).join("|")+")(/|$)";function u(e){for(var t=0,n=[["doc",i.DOC],["sheet",i.SHEET],["slide",i.SLIDE],["form",i.FORM],["pdf",i.PDF],["image",i.IMAGE],["mind",i.MIND],["flowchart",i.FLOWCHART],["desktop/mydoc/folder/",i.FOLDER],["desktop/shared/folder",i.FOLDER_SHARE],["txdoc/word",i.DOC],["txdoc/excel",i.SHEET],["formcol",i.FORM],["",i.TENCENTDOC]];t<n.length;t++){var o=n[t],r=o[0],s=o[1],a=new RegExp("(https://)?"+d+r),l=new RegExp("(https://)?"+c+r);if(a.test(e)||l.test(e))return l.test(e)&&""===r?i.OTHER:s}return i.OTHER}["drive.weixin.qq.com"].map((function(e){return e.replace(/\./g,"\\.")})).join("|");var h=function(e){return/^((http(s)?):\/\/)/i.test(e)&&!/((http(s)?):\/\/)$/i.test(e)?e:"https://"+e};function g(e){return(0,o.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s().get("/wedoc/getfileinfobyurl?url="+encodeURIComponent(e),{timeout:2e3});case 3:if(0!==(n=t.sent).data.head.ret){t.next=6;break}return t.abrupt("return",{fileName:n.data.body.filename});case 6:throw new Error("[CGI ERROR] /wedoc/getfileinfobyurl "+n.data.head.ret+" "+n.data.head.msg);case 9:return t.prev=9,t.t0=t.catch(0),a.k.error("[CGI ERROR] /wedoc/getfileinfobyurl "+t.t0.message),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))}function f(e){var t=this;return new Promise((function(n,i){return(0,o.__awaiter)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,s()({method:"post",url:"/v2/file/link/getinfo",timeout:2e3,data:JSON.stringify({docUrl:e}),headers:{"Content-type":"application/json"}});case 4:o=t.sent,(r=null===o||void 0===o?void 0:o.data)&&0===r.retcode?n(r.result.linkInfo):i(),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(1),new Error("[CGI ERROR] /v2/file/link/getinfo");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))}))}var m=function(e){return"https://"+location.host+"/scenario/link.html?url="+encodeURIComponent(e)},p={doc:i.DEFAULT,image:i.ATTACHMENT_IMAGE,video:i.VIDEO,audio:i.AUDIO};function v(e,t){return["ppt","pptx"].includes(t)?i.OFFICE_PPT:["doc","docx"].includes(t)?i.OFFICE_WORD:["xls","xlsx"].includes(t)?i.OFFICE_EXCEL:"pdf"===t?i.PDF:p[e]}},"../node_modules/@tencent/xtable-core/es/model/manager/dirty-pipeline/index.interface.js":function(e,t,n){"use strict";var i,o;n.d(t,{Of:function(){return s},bs:function(){return o},kF:function(){return i},kk:function(){return r}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),function(e){e[e.FILTER=1]="FILTER",e[e.SORT=2]="SORT",e[e.GROUP=3]="GROUP",e[e.FIELD_STAT=4]="FIELD_STAT"}(i||(i={})),function(e){e[e.FORCE_CHANGE=1]="FORCE_CHANGE",e[e.RECORD_MAY_AFFECT=2]="RECORD_MAY_AFFECT",e[e.RECORD_NOT_AFFECTED=3]="RECORD_NOT_AFFECTED",e[e.CELL_VALUE_CHANGED=4]="CELL_VALUE_CHANGED",e[e.SORT_CONFIG_CHANGE=5]="SORT_CONFIG_CHANGE",e[e.FILTER_CONFIG_CHANGE=6]="FILTER_CONFIG_CHANGE",e[e.GROUP_CONFIG_CHANGE=7]="GROUP_CONFIG_CHANGE"}(o||(o={}));var r=[i.FILTER,i.SORT,i.GROUP],s=new Set([i.FIELD_STAT])},"../node_modules/@tencent/xtable-core/es/model/selected-range/index.interface.js":function(e,t,n){"use strict";var i,o,r;n.d(t,{HI:function(){return o},RT:function(){return i},lZ:function(){return r}}),function(e){e[e.ROW_SELECTION=1]="ROW_SELECTION",e[e.COLUMN_SELECTION=2]="COLUMN_SELECTION",e[e.RANGE_SELECTION=3]="RANGE_SELECTION"}(i||(i={})),function(e){e[e.UNSELECTED=0]="UNSELECTED",e[e.SELECTED=1]="SELECTED"}(o||(o={})),function(e){e[e.MEETING=1]="MEETING",e[e.OTHERS=2]="OTHERS",e[e.RECALCULATE=3]="RECALCULATE",e[e.RENDER_DESTROY=4]="RENDER_DESTROY",e[e.SWITCH_SHEET=5]="SWITCH_SHEET",e[e.CLICK_OUTSIDE_CANVAS=6]="CLICK_OUTSIDE_CANVAS"}(r||(r={}))},"../node_modules/@tencent/xtable-core/es/model/table/partial/description/default-settings.js":function(e,t,n){"use strict";n.d(t,{$R:function(){return d},$e:function(){return o},Og:function(){return r},_4:function(){return s},rk:function(){return i},ve:function(){return l}}),n("../node_modules/core-js/modules/es.object.assign.js");var i="Helvetica Neue, Helvetica, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, sans-serif",o={"font-family":i,"font-size":"10pt",color:"","font-weight":"normal","font-style":"normal","text-decoration":"none","text-decoration-skip-ink":"none"},r={bold:!1,italic:!1,fontColor:"#000000",fontName:i,fontSize:"10",strikeThrough:!1,underline:!1,hyperlink:""},s="#ffffff",a={backgroundColor:s},l={value:"",textFormat:[]},d=function(){return Object.assign(Object.assign({},l),{editorProperties:Object.assign({},a)})}},"../node_modules/@tencent/xtable-core/es/model/view/base-view/index.interface.js":function(e,t,n){"use strict";var i,o;n.d(t,{K:function(){return i},t:function(){return o}}),function(e){e[e.Short=1]="Short",e[e.Medium=2]="Medium",e[e.Tall=3]="Tall",e[e.ExtraTall=4]="ExtraTall"}(i||(i={})),function(e){e[e.PUBLIC=1]="PUBLIC",e[e.LOCKED=2]="LOCKED",e[e.PERSONAL=3]="PERSONAL"}(o||(o={}))},"../node_modules/@tencent/xtable-core/es/model/view/base-view/index.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return J}}),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js");var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),r=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),s=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/tslib/tslib.es6.js")),a=n("../node_modules/@tencent/containerized/build/main/index.js"),l=n("../node_modules/@tencent/xtable-common/es/delegator/index.js"),d=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),c=(n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/@tencent/xtable-common/es/decorators/execution/debounce.js")),u=n("../node_modules/@tencent/xtable-core/es/model/manager/dirty-pipeline/index.interface.js"),h=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).dirtyCache=new Map,t.registeredHandlerMap=new Map,t}(0,r.Z)(t,e);var n=t.prototype;return n.registerDirtyHandler=function(e,t){this.registeredHandlerMap.has(e)?d.k.error("[model][dirty-pipeline]请勿重复注册，避免覆盖"):this.registeredHandlerMap.set(e,t)},n.markAllDirtyFalse=function(){this.clearDirtyCacheSync()},n.markDirty=function(e,t){if(this.shouldMarkDirty(e,t))switch(e){case u.bs.RECORD_NOT_AFFECTED:return void this.markNonRecordChangeAbilityDirty(t);case u.bs.CELL_VALUE_CHANGED:case u.bs.RECORD_MAY_AFFECT:return void this.markRecordMayAffectDirty(t);case u.bs.FORCE_CHANGE:case u.bs.SORT_CONFIG_CHANGE:case u.bs.FILTER_CONFIG_CHANGE:case u.bs.GROUP_CONFIG_CHANGE:default:return void this.markForceDirty()}},n.dispose=function(){e.prototype.dispose.call(this),this.clearDirtyCacheSync(),this.registeredHandlerMap.clear()},n.clearDirtyCacheSync=function(){this.dirtyCache.clear()},n.isRecordAffected=function(e){var t=this;return u.kk.some((function(n){var i=t.registeredHandlerMap.get(n);if(!i)return!1;var o=i.hasRecordBeenAffected;return!!(0,i.isDirty)({fieldId:e})||o(e)}))},n.markForceDirty=function(){this.markRecordChangeAffectedDirty(),this.markNonRecordChangeAbilityDirty(),this.clearDirtyCacheSync()},n.markRecordMayAffectDirty=function(e){var t=null===e||void 0===e?void 0:e.fieldId,n=e;t&&!this.isRecordAffected(t)||(n=void 0,this.markRecordChangeAffectedDirty(n)),this.markNonRecordChangeAbilityDirty(n)},n.markRecordChangeAffectedDirty=function(e){var t=this;u.kk.forEach((function(n){var i,o=null===(i=t.registeredHandlerMap.get(n))||void 0===i?void 0:i.markDirty;o&&o(e)}))},n.markNonRecordChangeAbilityDirty=function(e){var t=this;u.Of.forEach((function(n){var i,o=null===(i=t.registeredHandlerMap.get(n))||void 0===i?void 0:i.markDirty;o&&o(e)}))},n.shouldMarkDirty=function(e,t){var n=null===t||void 0===t?void 0:t.fieldId,i=this.dirtyCache.get(e);if(i){if(i.has(n))return!1}else i=new Set,this.dirtyCache.set(e,i);return i.add(n),this.clearCacheDebounced(),!0},n.clearCacheDebounced=function(){this.clearDirtyCacheSync()},t}(a.JT);(0,s.__decorate)([(0,c.Ds)(0),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype",void 0)],h.prototype,"clearCacheDebounced",null);var g=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),f=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),m=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/type-operator/type-operation/date/date-duration.js"),p=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js");function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function y(e,t){var n=new Set(e),i=new Set(t);if(n.size!==i.size)return!1;for(var o,r=v(n);!(o=r()).done;){var s=o.value;if(!i.has(s))return!1}return!0}function _(e,t){for(var n,i=new Set(e),o=new Set(t),r=v(i);!(n=r()).done;){var s=n.value;if(o.has(s))return!0}return!1}var b=new Map;b.set(f.m.IS,(function(e,t){return y(e,t)})),b.set(f.m.IS_NOT,(function(e,t){return!y(e,t)})),b.set(f.m.CONTAINS,(function(e,t){return _(e,t)})),b.set(f.m.DOES_NOT_CONTAIN,(function(e,t){return!_(e,t)}));var M=new Map;function C(e,t){var n=T(t),i=n[0],o=n[1];return!i||i<=e&&e<o}M.set(f.m.IS,(function(e,t){return e===t}));var w=new Map;function T(e){var t=e.type,n=e.timestamps,i=m.BI[t];return i?i(n):(d.k.error("Can't find durationMethod on DurationMethodMap",{type:t}),m.BI[m.Ot.TODAY](n))}w.set(f.m.IS,C),w.set(f.m.IS_NOT,(function(e,t){return!C(e,t)})),w.set(f.m.IS_GREATER,(function(e,t){var n=T(t)[1];return!n||e>=n})),w.set(f.m.IS_LESS,(function(e,t){var n=T(t)[0];return!n||e<n}));var E=new Map;E.set(f.m.IS,(function(e,t){return e===t})),E.set(f.m.IS_NOT,(function(e,t){return e!==t})),E.set(f.m.IS_GREATER,(function(e,t){return e>t})),E.set(f.m.IS_GREATER_OR_EQUAL,(function(e,t){return e>=t})),E.set(f.m.IS_LESS,(function(e,t){return e<t})),E.set(f.m.IS_LESS_OR_EQUAL,(function(e,t){return e<=t}));var j=new Map;function A(e){return e?e.toLowerCase():""}j.set(f.m.IS,(function(e,t){return A(e)===A(t)})),j.set(f.m.IS_NOT,(function(e,t){return A(e)!==A(t)})),j.set(f.m.CONTAINS,(function(e,t){return A(e).includes(A(t))})),j.set(f.m.DOES_NOT_CONTAIN,(function(e,t){return!A(e).includes(A(t))}));var x=new(function(){function e(){this.typeOperator=new Map,this.initTypeOperator()}var t=e.prototype;return t.getTypeOperationMap=function(e){return this.typeOperator.get(e)},t.initTypeOperator=function(){this.register(p.Z.ARRAY,b),this.register(p.Z.STRING,j),this.register(p.Z.NUMBER,E),this.register(p.Z.DATE,w),this.register(p.Z.BOOLEAN,M)},t.register=function(e,t){this.typeOperator.set(e,t)},e}()),D=function(){function e(e,t){this.checkEmptyOperators=new Set,this.supportOperators=new Set,this.operationMap=new Map,this.initOperationMap(e,t),this.initDefaultOperators(),this.updateSupportOperators()}var t=e.prototype;return t.getSupportOperators=function(){return this.supportOperators},t.isMeetCondition=function(t,n){var i=n.operator,o=n.value;return this.checkEmptyOperators.has(i)?this.checkOperator(t,o,i):!!this.isConditionValueEmpty(o)||(null===t?!!e.allowEmptyToPassOperators.has(i):this.checkOperator(t,o,i))},t.initDefaultOperators=function(){this.checkEmptyOperators.add(f.m.IS_EMPTY),this.register(f.m.IS_EMPTY,S),this.checkEmptyOperators.add(f.m.IS_NOT_EMPTY),this.register(f.m.IS_NOT_EMPTY,N)},t.updateSupportOperators=function(){var e=this;this.supportOperators.clear(),this.operationMap.forEach((function(t,n){e.supportOperators.add(n)}))},t.initOperationMap=function(e,t){var n=this,i=x.getTypeOperationMap(e);i?t.forEach((function(e){var t=i.get(e);t&&n.register(e,t)})):d.k.error("Wrong filterKeyType: "+e)},t.getTypeOperation=function(e){return this.operationMap.get(e)},t.register=function(e,t){this.operationMap.set(e,t)},t.checkOperator=function(e,t,n){var i=this.getTypeOperation(n);return i?i(e,t):(d.k.error("Cannot find typeOperation when using: "+{operator:n}),!0)},t.isConditionValueEmpty=function(e){return null===e||void 0===e||!(!(0,m.QI)(e)||![m.Ot.DETAIL_DATE,m.Ot.DETAIL_DATE_RANGE].includes(e.type))&&!e.timestamps.length},e}();function S(e){return null===e}function N(e){return null!==e}D.allowEmptyToPassOperators=new Set([f.m.IS_NOT,f.m.DOES_NOT_CONTAIN,f.m.IS_EMPTY]);var R=n("../node_modules/@tencent/xtable-core/es/model/view/manager/record-processor/index.js"),O=n("../node_modules/@tencent/xtable-core/es/model/view/manager/record-processor/index.interface.js"),L=n("../node_modules/@tencent/xtable-core/es/utils/report/model-performance-report.service.js"),k=function(e){function t(t){var n;return(n=e.call(this)||this).viewModel=t,n.type=O.o.FILTERABLE,n.fieldHelper=g.p,n.fieldFilterManagerMap=new Map,n}(0,r.Z)(t,e);var n=t.prototype;return n.hasWatchCondition=function(){var e=this.viewModel.getFilterInfos();return!!e&&e.conditions.some((function(e){return(0,m.QI)(e.value)}))},n.getProcessedRecordIds=function(e){var t=this,n=this.viewModel.getFilterInfos();if(!n||!n.conditions.length)return e;L.p.markFilterStart();var i=e.filter((function(e){return t.checkRecordId(e,n)}));return L.p.markFilterEnd(),i},n.getSupportOperators=function(e){var t=this.getFieldFilterManager(e);return t?t.getSupportOperators():new Set},n.checkRecordId=function(e,t){var n,i=this;return void 0===t&&(t=this.viewModel.getFilterInfos()),!(null===(n=null===t||void 0===t?void 0:t.conditions)||void 0===n?void 0:n.length)||(t.conjunction===f.S.AND?t.conditions.every((function(t){return i.checkRecordIdByCondition(e,t)})):t.conjunction===f.S.OR?t.conditions.some((function(t){return i.checkRecordIdByCondition(e,t)})):(d.k.error("Wrong conjunction type: "+t.conjunction),!0))},n.markClean=function(){e.prototype.markClean.call(this),this.viewModel.dirtyPipeline.markAllDirtyFalse()},n.isSupportOperator=function(e,t){return this.getSupportOperators(e).has(t)},n.registerFieldFilter=function(e){var t=this.fieldHelper.get(e),n=t.getSupportFilterOperators();this.fieldFilterManagerMap.set(e,new D(t.filterKeyType,n))},n.getFieldFilterManager=function(e){return this.fieldFilterManagerMap.has(e)||this.registerFieldFilter(e),this.fieldFilterManagerMap.get(e)},n.checkRecordIdByCondition=function(e,t){var n=t.fieldId,i=t.fieldType,o=this.getFieldFilterManager(i);if(!o)return!0;var r=t.operator;if(!this.isSupportOperator(i,r))return d.k.error("Unsupported operator: "+r),!0;var s=this.viewModel.table.getFieldByFieldId(n);if(!s)return!1;var a=s.getFilterKey(e);return o.isMeetCondition(a,t)},t}(R.C),z=n("../node_modules/@tencent/xtable-core/es/model/view/utils/field.js"),P=n("../node_modules/@tencent/xtable-core/es/utils/decorators/model/mark-dirty.js"),F=function(){function e(e){var t=this;this.viewModel=e,this.viewFilter=new k(this.viewModel),this.viewModel.dirtyPipeline.registerDirtyHandler(u.kF.FILTER,{isDirty:function(e){return t.viewFilter.isDirty()},markDirty:function(e){return t.viewFilter.markDirty()},hasRecordBeenAffected:function(e){return t.hasRecordBeenAffected(e)}})}var t=e.prototype;return t.setFilterInfos=function(e){return this.viewModel.properties.filterInfos=e,!0},t.getFilterInfos=function(){return this.viewModel.properties.filterInfos},t.hasRecordBeenAffected=function(e){var t=this,n=this.getFilterInfos();return!!n&&n.conditions.some((function(n){var i;if(n.fieldId===e)return!0;var o=null===(i=t.viewModel.table.getFieldByFieldId(n.fieldId))||void 0===i?void 0:i.getType();return(0,z.C)(o)}))},t.markClean=function(){this.viewFilter.markClean()},t.markDirty=function(e){this.viewFilter.markDirty()},e}();(0,s.__decorate)([(0,P.sY)(u.bs.RECORD_MAY_AFFECT),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",Boolean)],F.prototype,"setFilterInfos",null);var U,B=n("../node_modules/lodash/cloneDeep.js"),W=n.n(B);function G(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.sort.js"),n("../node_modules/core-js/modules/es.array.concat.js"),function(e){e.ACTION="ACTION",e.FORMULAS_DIRTY="FORMULAS_DIRTY",e.TABLE_DATA_CHANGE="TABLE_DATA_CHANGE"}(U||(U={}));var H=function(e){function t(t){var n;return(n=e.call(this)||this).viewModel=t,n.type=O.o.SORTABLE,n.checkDirtyRecordsLimit=1,n}(0,r.Z)(t,e);var n=t.prototype;return n.getProcessedRecordIds=function(e){if(!this.viewModel.isAutoSort()||!this.isDirty())return e;var t=this.viewModel.getSortInfos();L.p.markOrderStart();var n=this.sortRecordIdsBySortInfos(e,t);return L.p.markOrderEnd(),n},n.getSortInfos=function(){return this.viewModel.getProperties().sortInfos},n.addDirtySource=function(e){return this.markDirty(),this.dirtySourceList.push(e)},n.checkAutoSortRecords=function(){var e=this.viewModel.getAllRecordIds();if(this.viewModel.isAutoSort()&&this.isDirty()){var t=this.getDirtyRecordIds(),n=t.length;return n>=1&&n<=this.checkDirtyRecordsLimit?this.sortRecords(t):this.sortAllRecords()}return(0,i.Z)(e)},n.sortAllRecords=function(){var e=this.viewModel.getSortInfos();if(e.length){var t=this.getSortedRecordIds(e);return this.setRecordIdsAndClearDirty(t)}return(0,i.Z)(this.viewModel.getAllRecordIds())},n.getSortedRecordIds=function(e){var t=this.viewModel.getAllRecordIds();return this.sortRecordIdsBySortInfos(t,e)},n.getSortFieldIds=function(){return this.viewModel.getSortInfos().map((function(e){return e.fieldId}))},n.isDirty=function(){return!!this.viewModel.isAutoSort()&&e.prototype.isDirty.call(this)},n.markClean=function(){e.prototype.markClean.call(this),this.viewModel.dirtyPipeline.markAllDirtyFalse()},n.sortRecordIdsBySortInfos=function(e,t){var n=this;return(0,i.Z)(e).sort((function(e,i){return n.compareRecord(e,i,t,n.viewModel.table)}))},n.sortRecords=function(e){var t=this,n=(0,i.Z)(this.viewModel.getAllRecordIds());return n=function(e,t){var n=t.map((function(t){return e.indexOf(t)}));return e.filter((function(e,t){return!n.includes(t)}))}(n,e),e.forEach((function(e){n=t.insertRecord(n,e)})),this.setRecordIdsAndClearDirty(n)},n.insertRecord=function(e,t){var n=this.getInsertIndex(e,t);return e.splice(n,0,t),e},n.getInsertIndex=function(e,t){var n,i,o,r=this.viewModel.getSortInfos();for(n=0,o=e.length-1,i=Math.ceil((n+o)/2);n<=o;i=Math.ceil((n+o)/2))this.compareRecord(t,e[i],r,this.viewModel.table)<0?o=i-1:n=i+1;return n},n.resetDirtySourceList=function(){this.dirtySourceList=[]},n.setRecordIdsAndClearDirty=function(e){return this.markDirty(),this.resetDirtySourceList(),this.viewModel.setRecordIds(e),e},n.getDirtyRecordIds=function(){return this.dirtySourceList.filter((function(e){return e.type===U.ACTION&&e.recordIds})).reduce((function(e,t){var n;return[].concat((0,i.Z)(e),(0,i.Z)(null!==(n=t.recordIds)&&void 0!==n?n:[]))}),[])},n.compareRecord=function(e,t,n,i){for(var o,r=G(n);!(o=r()).done;){var s=o.value,a=s.fieldId,l=s.desc,d=i.getFieldByFieldId(a);if(d){var c=d.getSortKey(e),u=d.getSortKey(t),h=d.compare(c,u);if(0!==h)return h*(l?-1:1)}}return 0},t}(R.C),Y=n("../node_modules/@tencent/xtable-core/es/model/view/partial/card-view.js"),V=function(){function e(e){var t=this;this.viewModel=e,this.viewSort=new H(this.viewModel),this.viewModel.dirtyPipeline.registerDirtyHandler(u.kF.SORT,{isDirty:function(e){return t.viewSort.isDirty()},markDirty:function(e){return t.viewSort.markDirty()},hasRecordBeenAffected:function(e){return t.hasRecordBeenAffected(e)}})}e.generateDefaultConfig=function(){return{isShowCover:!1,coverFieldId:"",coverFitType:Y.tI.CONTAIN,isShowFieldTitle:!0,showMode:Y.E7.STANDARD}};var t=e.prototype;return t.isAutoSort=function(){return this.viewModel.properties.isAutoSort},t.setAutoSort=function(e){return e!==this.isAutoSort()&&(this.viewModel.properties.isAutoSort=e,!0)},t.setSortInfos=function(e){return this.viewModel.properties.sortInfos=W()(e),!0},t.getSortInfos=function(){return this.viewModel.properties.sortInfos},t.markSortClean=function(){this.viewSort.markClean()},t.hasRecordBeenAffected=function(e){var t=this;return this.viewModel.properties.sortInfos.some((function(n){var i;if(n.fieldId===e)return!0;var o=null===(i=t.viewModel.table.getFieldByFieldId(n.fieldId))||void 0===i?void 0:i.getType();return(0,z.C)(o)}))},e}();(0,s.__decorate)([(0,P.sY)(u.bs.SORT_CONFIG_CHANGE),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Boolean]),(0,s.__metadata)("design:returntype",Boolean)],V.prototype,"setAutoSort",null),(0,s.__decorate)([(0,P.sY)(u.bs.SORT_CONFIG_CHANGE),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Array]),(0,s.__metadata)("design:returntype",Boolean)],V.prototype,"setSortInfos",null);var Q=n("../node_modules/@tencent/xtable-core/es/utils/list.js");function K(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var J=function(e){function t(t,n){var i;return(i=e.call(this)||this).table=t,i.dirtyPipeline=new h,i.sortPartial=new V((0,o.Z)(i)),i.filterPartial=new F((0,o.Z)(i)),i.oldDisplayedRecordIds=[],i.processedRecordIds=[],i.recordIdsProcessorMap=new Map,i.recordDirty=!0,i.id=n.id,i.title=n.title,i.properties=n.properties,i.viewPermission={publicLevel:n.publicLevel,owner:n.owner},i._register(i.dirtyPipeline),i}(0,r.Z)(t,e);var n=t.prototype;return n.isPrimaryField=function(e){return this.properties.fieldIds[0]===e},n.getPrimaryField=function(){var e=this.getAllFieldIds()[0];return this.table.getFieldByFieldId(e)},n.setAttributes=function(e){var t=e.publicLevel,n=void 0===t?this.viewPermission.publicLevel:t,i=e.title,o=void 0===i?this.title:i;return this.viewPermission.publicLevel=n,this.title=o,!0},n.getAllFieldIds=function(){return this.properties.fieldIds},n.getPublicLevel=function(){return this.viewPermission.publicLevel},n.getAllRecordIds=function(){return this.properties.recordIds},n.getAndUpdateProcessedRecordIds=function(){return this.isProcessorsDirty()?(this.processedRecordIds=this.iterateRecordIdsProcessors(this.getAllRecordIdsExistInTable()),{recordIds:this.processedRecordIds,isRecalculate:!0}):{recordIds:this.processedRecordIds,isRecalculate:!1}},n.deleteFieldIndex=function(e,t){var n=this.properties.fieldIds;return!!this.getCorrectedFieldIndex(e,t)&&(n.splice(t,1),!0)},n.deleteRecordIndex=function(e,t){var n=this.properties.recordIds,i=this.getCorrectedRecordIndex(e,t);return!(i<0)&&(n.splice(i,1),!0)},n.getFieldIndex=function(e){return this.getAllFieldIds().indexOf(e)},n.getFieldIndexFromVisibleFieldIds=function(e){return this.getVisibleFieldIds().indexOf(e)},n.getFieldIndexByVisibleFieldIndex=function(e){var t=this.getVisibleFieldIds()[e];return this.getFieldIndex(t)},n.getOwnerId=function(){return this.viewPermission.owner},n.getProperties=function(){return this.properties},n.getProperty=function(e){return this.getProperties()[e]},n.getRecordIndexFromVisibleRecordIds=function(e){return this.getDisplayedRecordIds().indexOf(e)},n.getRecordIndexFromAllRecordIds=function(e){return this.getAllRecordIds().indexOf(e)},n.getTitle=function(){return this.title},n.moveFieldIndex=function(e,t,n){if(!this.getCorrectedFieldIndex(e,t))return!1;var i=this.getAllFieldIds();return this.properties.fieldIds=(0,Q.J2)(i,t,n),!0},n.insertField=function(e,t){var n=this.getAllFieldIds();return!(n.includes(e)||!this.table.fields[e])&&((0,Q.ZQ)(n,e,t),!0)},n.moveRecordIndex=function(e,t){var n=this.getAllRecordIds(),i=this.getRecordIndexFromAllRecordIds(e);i<0||t>=n.length||(this.properties.recordIds=(0,Q.J2)(n,i,t))},n.getRecordById=function(e){return this.table.records[e]||null},n.getVisibleFieldIds=function(){var e=this;return this.getAllFieldIds().filter((function(t){return!e.isFieldHidden(t)}))},n.insertRecord=function(e,t){var n=this.getAllRecordIds();return!(n.includes(e)||!this.table.records[e])&&((0,Q.ZQ)(n,e,t),!0)},n.getDisplayedRecordIds=function(){var e=this.processedRecordIds,t=this.getAndUpdateProcessedRecordIds(),n=t.recordIds;return(t.isRecalculate||this.recordDirty)&&(this.oldDisplayedRecordIds=e),this.markRecordClean(),n},n.getOldDisplayedRecordIds=function(){return this.getDisplayedRecordIds(),this.oldDisplayedRecordIds},n.setRecordIds=function(e){return this.properties.recordIds=(0,i.Z)(e),this.markSortClean(),!0},n.getStandardValueFromMergedRange=function(e){void 0===e&&(e=[]);var t=[],n=[],o=this.getDisplayedRecordIds(),r=this.getVisibleFieldIds();return e.forEach((function(e){var s=e.startRow,a=void 0===s?0:s,l=e.endRow,d=void 0===l?o.length-1:l,c=e.startColumn,u=void 0===c?0:c,h=e.endColumn,g=void 0===h?r.length-1:h;t.push.apply(t,(0,i.Z)(o.slice(a,d+1))),n.push.apply(n,(0,i.Z)(r.slice(u,g+1)))})),this.getStandardValueFromIds({recordIds:t,fieldIds:n})},n.getAllRangeStandardValue=function(){var e=this.getDisplayedRecordIds(),t=this.getVisibleFieldIds();return this.getStandardValueFromMergedRange([{startRow:0,endRow:e.length-1,startColumn:0,endColumn:t.length-1}])},n.isFieldStatEnabled=function(){var e;return null!==(e=this.properties.isFieldStatEnabled)&&void 0!==e&&e},n.displayFieldStat=function(){this.properties.isFieldStatEnabled=!0},n.hideFieldStat=function(){this.properties.isFieldStatEnabled=!1},n.markRecordDirty=function(){this.recordDirty=!0},n.isRecordDirty=function(){return this.recordDirty},n.markRecordClean=function(){this.recordDirty=!1,this.dirtyPipeline.clearDirtyCacheSync()},n.getAllRecordIdsExistInTable=function(){var e=this;return this.table.isLoading()?this.getAllRecordIds().filter((function(t){return!!e.table.records[t]})):this.getAllRecordIds()},n.isValid=function(){return!0},n.registerRecordIdsProcessor=function(e){this.recordIdsProcessorMap.set(e.type,e)},n.iterateRecordIdsProcessors=function(e){var t=e;return this.recordIdsProcessorMap.forEach((function(e){t=e.getProcessedRecordIds(t),e.markClean()})),t},n.isProcessorsDirty=function(){for(var e,t=K(this.recordIdsProcessorMap.values());!(e=t()).done;)if(e.value.isDirty())return!0;return!1},n.getCorrectedFieldIndex=function(e,t){var n=this.getAllFieldIds();return n[t]===e?t:(d.k.info("[model][base-view]检查传入的 fieldId "+e+" 和其索引 "+t+" 不匹配"),n.indexOf(e))},n.getCorrectedRecordIndex=function(e,t){var n=this.getAllRecordIds();return n[t]===e?t:(d.k.info("[model][base-view]检查传入的 recordId "+e+" 和其索引 "+t+" 不匹配"),n.indexOf(e))},n.getStandardValueFromIds=function(e){var t=e.recordIds,n=e.fieldIds;return Object.assign({viewId:this.id},this.table.getStandardValueMatrixFromIds({recordIds:t,fieldIds:n}))},t}(a.JT);(0,s.__decorate)([(0,P.no)(u.bs.RECORD_MAY_AFFECT),(0,s.__param)(0,P.YT),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[String,Number]),(0,s.__metadata)("design:returntype",Boolean)],J.prototype,"deleteFieldIndex",null),(0,s.__decorate)([(0,P.no)(u.bs.RECORD_MAY_AFFECT),(0,s.__param)(0,P.R6),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[String,Number]),(0,s.__metadata)("design:returntype",Boolean)],J.prototype,"deleteRecordIndex",null),(0,s.__decorate)([(0,P.no)(u.bs.RECORD_MAY_AFFECT),(0,s.__param)(0,P.R6),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[String,Number]),(0,s.__metadata)("design:returntype",void 0)],J.prototype,"moveRecordIndex",null),(0,s.__decorate)([(0,P.no)(u.bs.RECORD_MAY_AFFECT),(0,s.__param)(0,P.R6),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[String,Number]),(0,s.__metadata)("design:returntype",Boolean)],J.prototype,"insertRecord",null),(0,s.__decorate)([(0,P.no)(u.bs.SORT_CONFIG_CHANGE),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Array]),(0,s.__metadata)("design:returntype",Boolean)],J.prototype,"setRecordIds",null),l.U.delegates(J.prototype,"sortPartial",{viewSort:l.s.GETTER,getSortInfos:l.s.METHOD,setSortInfos:l.s.METHOD,setAutoSort:l.s.METHOD,isAutoSort:l.s.METHOD,markSortClean:l.s.METHOD}),l.U.delegates(J.prototype,"filterPartial",{viewFilter:l.s.GETTER,setFilterInfos:l.s.METHOD,getFilterInfos:l.s.METHOD})},"../node_modules/@tencent/xtable-core/es/model/view/gantt/index.interface.js":function(e,t,n){"use strict";var i,o;n.d(t,{I:function(){return o},L:function(){return i}}),function(e){e[e.BLUE=1]="BLUE",e[e.DARK_BLUE=2]="DARK_BLUE",e[e.GREEN=3]="GREEN",e[e.LIGHT_BLUE=4]="LIGHT_BLUE",e[e.YELLOW=5]="YELLOW",e[e.ORANGE=6]="ORANGE",e[e.RED=7]="RED",e[e.BLACK=8]="BLACK"}(i||(i={})),function(e){e[e.BY_SELECT_FIELD=1]="BY_SELECT_FIELD",e[e.BY_SPECIFIC_COLOR=3]="BY_SPECIFIC_COLOR"}(o||(o={}))},"../node_modules/@tencent/xtable-core/es/model/view/gantt/index.js":function(e,t,n){"use strict";n.d(t,{X:function(){return x}});var i=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/web.url.to-json.js"),n("../node_modules/lodash/cloneDeep.js")),s=n.n(r),a=n("../node_modules/lodash/isEqual.js"),l=n.n(a),d=n("../node_modules/lodash/pickBy.js"),c=n.n(d),u=n("../node_modules/@tencent/xtable-common/es/delegator/index.js"),h=n("../node_modules/@tencent/xtable-core/es/model/view/base-view/index.js"),g=n("../node_modules/@tencent/xtable-core/es/model/view/base-view/index.interface.js"),f=n("../node_modules/@tencent/xtable-core/es/model/view/gantt/index.interface.js"),m=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),p=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/index.js"),v=n("../node_modules/@tencent/xtable-core/es/model/view/partial/column-info.js"),I=n("../node_modules/@tencent/xtable-core/es/model/view/partial/frozen-field.js"),y=n("../node_modules/@tencent/xtable-core/es/model/view/partial/group.js"),_=n("../node_modules/@tencent/xtable-core/es/model/view/partial/row-height-level.js"),b=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/column-infos.js"),M=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/filter.js");function C(e){var t=e.startDateFieldId,n=e.endDateFieldId,i=e.labelFieldId,o=e.shouldHideWeekends,r=e.colorConfig,s=void 0;return r.type===f.I.BY_SPECIFIC_COLOR?s={1:f.I.BY_SPECIFIC_COLOR,2:r.specificColor}:r.type===f.I.BY_SELECT_FIELD&&(s={1:f.I.BY_SELECT_FIELD,3:r.selectFieldId}),{1:t,2:n,3:i,4:o,5:s}}function w(e){var t,n,i=void 0;return(null===(t=null===e||void 0===e?void 0:e[5])||void 0===t?void 0:t[1])===f.I.BY_SPECIFIC_COLOR?i={type:f.I.BY_SPECIFIC_COLOR,specificColor:e[5][2]}:(null===(n=null===e||void 0===e?void 0:e[5])||void 0===n?void 0:n[1])===f.I.BY_SELECT_FIELD&&(i={type:f.I.BY_SELECT_FIELD,selectFieldId:e[5][3]}),{startDateFieldId:e[1],endDateFieldId:e[2],labelFieldId:e[3],shouldHideWeekends:e[4],colorConfig:i}}var T=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/group.js"),E=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/sort.js");function j(e){var t,n=s()(e);return{1:n.recordIds,2:n.fieldIds,3:n.rowHeightLevel,4:n.frozenFieldCount,5:b.Z(n.colInfos),6:n.isAutoSort,7:E.Z(n.sortInfos),8:M.Z(n.filterInfos),9:T.Z(n.groupInfos),10:null!==(t=n.isFieldStatEnabled)&&void 0!==t&&t,12:C(n.ganttConfig)}}function A(e){return{recordIds:e[1],fieldIds:e[2],rowHeightLevel:e[3],frozenFieldCount:e[4],colInfos:b.n(e[5]),isAutoSort:e[6],sortInfos:E.n(e[7]),filterInfos:M.n(e[8]),groupInfos:T.n(e[9]),isFieldStatEnabled:e[10],ganttConfig:w(e[12])}}var x=function(e){function t(t,n){var o;return(o=e.call(this,t,n)||this).type=m.bW.GANTT,o.columnInfoPartial=new v.i((0,i.Z)(o)),o.frozenFieldPartial=new I.H((0,i.Z)(o)),o.viewGroupPartial=new y.t((0,i.Z)(o)),o.rowHeightLevelPartial=new _.F((0,i.Z)(o)),o.viewStatistics=new p.u((0,i.Z)(o)),o.registerRecordIdsProcessor(o.viewSort),o.registerRecordIdsProcessor(o.viewFilter),o.registerRecordIdsProcessor(o.viewGroup),o}(0,o.Z)(t,e),t.generateDefaultProperty=function(e,n){return void 0===n&&(n={}),Object.assign({ganttConfig:t.generateDefaultConfig(),frozenFieldCount:1,recordIds:[],fieldIds:[],filterInfos:null,sortInfos:[],groupInfos:[],colInfos:{},rowHeightLevel:g.K.Short,isAutoSort:!0},n)},t.generateDefaultConfig=function(){return{startDateFieldId:"",endDateFieldId:"",labelFieldId:"",shouldHideWeekends:!1,colorConfig:{type:f.I.BY_SPECIFIC_COLOR,specificColor:f.L.BLUE}}},t.serializeProperty=function(e){return j(e)},t.deserializeProperty=function(e){return A(e)},t.serializeGanttConfig=function(e){var t=e.startDateFieldId,n=e.endDateFieldId,i=e.labelFieldId,o=e.shouldHideWeekends,r=e.colorConfig,s=void 0;(null===r||void 0===r?void 0:r.type)===f.I.BY_SPECIFIC_COLOR?s={1:f.I.BY_SPECIFIC_COLOR,2:r.specificColor}:(null===r||void 0===r?void 0:r.type)===f.I.BY_SELECT_FIELD&&(s={1:f.I.BY_SELECT_FIELD,3:r.selectFieldId});var a={1:t,2:n,3:i,4:o,5:s};return c()(a,(function(e){return void 0!==e}))},t.deserializeGanttConfig=function(e){var t,n,i=void 0;(null===(t=null===e||void 0===e?void 0:e[5])||void 0===t?void 0:t[1])===f.I.BY_SPECIFIC_COLOR?i={type:f.I.BY_SPECIFIC_COLOR,specificColor:e[5][2]}:(null===(n=null===e||void 0===e?void 0:e[5])||void 0===n?void 0:n[1])===f.I.BY_SELECT_FIELD&&(i={type:f.I.BY_SELECT_FIELD,selectFieldId:e[5][3]});var o={startDateFieldId:e[1],endDateFieldId:e[2],labelFieldId:e[3],shouldHideWeekends:e[4],colorConfig:i};return c()(o,(function(e){return void 0!==e}))};var n=t.prototype;return n.toJSON=function(){return{id:this.id,title:this.title,owner:this.viewPermission.owner,publicLevel:this.viewPermission.publicLevel,type:this.type,properties:s()(this.properties)}},n.getGanttConfig=function(){var e;return null!==(e=s()(this.properties.ganttConfig))&&void 0!==e?e:t.generateDefaultConfig()},n.setGanttConfig=function(e){var n,i=null!==(n=this.properties.ganttConfig)&&void 0!==n?n:t.generateDefaultConfig();return l()(i,e)||(this.properties.ganttConfig=Object.assign(Object.assign({},i),e)),!0},t}(h.Z);u.U.delegates(x.prototype,"columnInfoPartial",{isFieldHidden:u.s.METHOD,setFieldsHidden:u.s.METHOD,getColumnWidth:u.s.METHOD,setColumnWidth:u.s.METHOD,getFieldStatTypeConfig:u.s.METHOD,getFieldStatType:u.s.METHOD,setFieldStatType:u.s.METHOD,getFieldStatResults:u.s.METHOD,getFieldStatRecordIds:u.s.METHOD,markStatDirty:u.s.METHOD}),u.U.delegates(x.prototype,"frozenFieldPartial",{getFrozenFieldCount:u.s.METHOD,setFrozenFieldCount:u.s.METHOD}),u.U.delegates(x.prototype,"viewGroupPartial",{viewGroup:u.s.GETTER,getGroupInfos:u.s.METHOD,setGroupInfos:u.s.METHOD,getGroupTree:u.s.METHOD,getGroupFields:u.s.METHOD,getFormattedTree:u.s.METHOD,getGroupLayoutInfos:u.s.METHOD,getGroupRecordIdsByPath:u.s.METHOD,getGroupPathByRecordVisibleIndex:u.s.METHOD,getStandardValueMapByPath:u.s.METHOD}),u.U.delegates(x.prototype,"rowHeightLevelPartial",{getRowHeightLevel:u.s.METHOD,setRowHeightLevel:u.s.METHOD})},"../node_modules/@tencent/xtable-core/es/model/view/index.interface.js":function(e,t,n){"use strict";n.d(t,{Jx:function(){return l},Ql:function(){return a},bW:function(){return o}});var i,o,r=n("../node_modules/@tencent/containerized/build/main/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js");!function(e){e[e.GRID=1]="GRID",e[e.KANBAN=2]="KANBAN",e[e.GALLERY=3]="GALLERY",e[e.GANTT=4]="GANTT"}(o||(o={}));var a=((i={})[o.GRID]=s.Y7.GRID_VIEW,i[o.GALLERY]=s.Y7.GALLERY_VIEW,i[o.KANBAN]=s.Y7.KANBAN_VIEW,i[o.GANTT]=s.Y7.GANTT_VIEW,i),l=(0,r.yh)("IViewModelHelper")},"../node_modules/@tencent/xtable-core/es/model/view/index.js":function(e,t,n){"use strict";n.d(t,{N:function(){return Q}});var i=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/web.url.to-json.js"),n("../node_modules/lodash/cloneDeep.js")),s=n.n(r),a=n("../node_modules/@tencent/xtable-common/es/delegator/index.js"),l=n("../node_modules/@tencent/xtable-core/es/constant/config/view.js"),d=n("../node_modules/@tencent/xtable-core/es/model/view/base-view/index.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/partial/card-view.js");function h(e,t){g(e,{fieldId:t,attrKey:"hidden",attrValue:!0})}function g(e,t){var n,i,o=t.fieldId,r=t.attrKey,s=t.attrValue;null!==(n=e.sectionInfos)&&void 0!==n||(e.sectionInfos={});var a=e.sectionInfos;if(null===s){if(!a[o])return;return delete a[o][r],void(0===Object.keys(a[o]).length&&delete a[o])}null!==(i=a[o])&&void 0!==i||(a[o]={}),a[o][r]=s}n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js");var f=function(){function e(e){this.viewModel=e}var t=e.prototype;return t.isFieldHidden=function(e){var t=this.viewModel.properties.sectionInfos[e];return Boolean(null===t||void 0===t?void 0:t.hidden)},t.setFieldsHidden=function(e,t){var n=this;return this.viewModel.properties.sectionInfos||(this.viewModel.properties.sectionInfos={}),e.forEach((function(e){t?h(n.viewModel.properties,e):function(e,t){g(e,{fieldId:t,attrKey:"hidden",attrValue:null})}(n.viewModel.properties,e)})),!0},e}();function m(e,t){var n=t.hiddenFieldIndex,i=void 0===n?-1:n,o=t.hiddenCount,r=e.fieldIds[i];r&&h(e,r);var s=e.fieldIds.filter((function(e,t){return 0!==t&&t!==i})),a=o-(e.fieldIds.length-s.length)+(i>-1?1:0);s.slice(a>=0?a:0).forEach((function(t){h(e,t)}))}n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.array.find.js");var p=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js");function v(e){return{1:e.isShowCover,2:e.coverFieldId,3:e.coverFitType,4:e.isShowFieldTitle,5:e.showMode}}function I(e){return{isShowCover:e[1],coverFieldId:e[2],coverFitType:e[3],isShowFieldTitle:e[4],showMode:e[5]}}var y=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/column-infos.js"),_=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/filter.js"),b=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/sort.js");function M(e){var t=s()(e),n=t.recordIds,i=t.fieldIds,o=t.sectionInfos,r=t.filterInfos,a=t.isAutoSort,l=t.sortInfos,d=t.cardConfig;return{1:n,2:i,5:y.Z(o),6:a,7:b.Z(l),8:_.Z(r),11:v(d)}}function C(e){return{recordIds:e[1],fieldIds:e[2],sectionInfos:y.n(e[5]),isAutoSort:e[6],sortInfos:b.n(e[7]),filterInfos:_.n(e[8]),cardConfig:I(e[11])}}var w=function(e){function t(t,n){var o;return(o=e.call(this,t,n)||this).type=c.bW.GALLERY,o.viewGroup=void 0,o.sectionInfoPartial=new f((0,i.Z)(o)),o.cardViewPartial=new u.Jg((0,i.Z)(o)),o.viewStatistics=void 0,o.registerRecordIdsProcessor(o.viewSort),o.registerRecordIdsProcessor(o.viewFilter),o}return(0,o.Z)(t,e),t.generateDefaultProperty=function(e,t){void 0===t&&(t={});var n=Object.assign({cardConfig:u.Jg.generateDefaultConfig({isShowFieldTitle:!1}),recordIds:[],fieldIds:[],sectionInfos:{},filterInfos:null,sortInfos:[],isAutoSort:!0},t);if(!n.cardConfig.coverFieldId){var i=function(e,t){var n=t.fieldIds.find((function(t){var n;return(null===(n=e.getFieldByFieldId(t))||void 0===n?void 0:n.getType())===p.f.IMAGE}));return null!==n&&void 0!==n?n:null}(e,n);n.cardConfig.coverFieldId=null!==i&&void 0!==i?i:"",n.cardConfig.isShowCover=!!i}return m(n,{hiddenCount:l.U}),n},t.serializeProperty=function(e){return M(e)},t.deserializeProperty=function(e){return C(e)},t.prototype.toJSON=function(){return{id:this.id,title:this.title,owner:this.viewPermission.owner,publicLevel:this.viewPermission.publicLevel,type:this.type,properties:s()(this.properties)}},t}(d.Z);a.U.delegates(w.prototype,"sectionInfoPartial",{setFieldsHidden:a.s.METHOD,isFieldHidden:a.s.METHOD}),a.U.delegates(w.prototype,"cardViewPartial",{getCardConfig:a.s.METHOD,setCardConfig:a.s.METHOD});var T=n("../node_modules/@tencent/xtable-core/es/model/view/gantt/index.js"),E=n("../node_modules/@tencent/xtable-core/es/model/view/base-view/index.interface.js"),j=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/index.js"),A=n("../node_modules/@tencent/xtable-core/es/model/view/partial/column-info.js"),x=n("../node_modules/@tencent/xtable-core/es/model/view/partial/frozen-field.js"),D=n("../node_modules/@tencent/xtable-core/es/model/view/partial/group.js"),S=n("../node_modules/@tencent/xtable-core/es/model/view/partial/row-height-level.js"),N=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),R=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/group.js"),O=function(e){function t(t,n){var o;return(o=e.call(this,t,n)||this).type=c.bW.GRID,o.viewGroupPartial=new D.t((0,i.Z)(o)),o.columnInfoPartial=new A.i((0,i.Z)(o)),o.frozenFieldPartial=new x.H((0,i.Z)(o)),o.rowHeightLevelPartial=new S.F((0,i.Z)(o)),o.viewStatistics=new j.u((0,i.Z)(o)),o.registerRecordIdsProcessor(o.viewSort),o.registerRecordIdsProcessor(o.viewFilter),o.registerRecordIdsProcessor(o.viewGroup),o}(0,o.Z)(t,e),t.generateDefaultProperty=function(e,t){void 0===t&&(t={});var n=Object.assign({rowHeightLevel:E.K.Short,recordIds:[],fieldIds:[],colInfos:{},filterInfos:null,sortInfos:[],frozenFieldCount:1,groupInfos:[],isAutoSort:!0,isFieldStatEnabled:!1},t);return function(e,t){var n=t.colInfos;t.fieldIds.forEach((function(t,i){var o,r=e.getFieldByFieldId(t);if(r){var s=0===i?180:N.p.get(r.getType()).getDefaultWidth();n[t]=Object.assign(Object.assign({},null!==(o=n[t])&&void 0!==o?o:{}),{width:s})}}))}(e,n),n},t.serializeProperty=function(e){return function(e){var t=s()(e),n=t.recordIds,i=t.fieldIds,o=t.colInfos,r=t.filterInfos,a=t.isAutoSort,l=t.sortInfos,d=t.frozenFieldCount,c=t.groupInfos,u=t.rowHeightLevel,h=t.isFieldStatEnabled;return{1:n,2:i,3:u,4:d,5:y.Z(o),6:a,7:b.Z(l),8:_.Z(r),9:R.Z(c),10:null!==h&&void 0!==h&&h}}(e)},t.deserializeProperty=function(e){return function(e){return{recordIds:e[1],fieldIds:e[2],rowHeightLevel:e[3],frozenFieldCount:e[4],colInfos:y.n(e[5]),isAutoSort:e[6],sortInfos:b.n(e[7]),filterInfos:_.n(e[8]),groupInfos:R.n(e[9]),isFieldStatEnabled:e[10]}}(e)};var n=t.prototype;return n.toJSON=function(){return{id:this.id,title:this.title,owner:this.viewPermission.owner,publicLevel:this.viewPermission.publicLevel,type:this.type,properties:s()(this.properties)}},n.isFiltered=function(e){var t=this.getFilterInfos();return!!t&&t.conditions.some((function(t){return t.fieldId===e}))},n.isGrouped=function(e){return this.viewGroup.getGroupInfos().some((function(t){return t.fieldId===e}))},t}(d.Z);a.U.delegates(O.prototype,"columnInfoPartial",{isFieldHidden:a.s.METHOD,setFieldsHidden:a.s.METHOD,setColumnWidth:a.s.METHOD,getColumnWidth:a.s.METHOD,getFieldStatType:a.s.METHOD,getFieldStatTypeConfig:a.s.METHOD,setFieldStatType:a.s.METHOD,getFieldStatResults:a.s.METHOD,getFieldStatRecordIds:a.s.METHOD,markStatDirty:a.s.METHOD}),a.U.delegates(O.prototype,"frozenFieldPartial",{getFrozenFieldCount:a.s.METHOD,setFrozenFieldCount:a.s.METHOD}),a.U.delegates(O.prototype,"viewGroupPartial",{viewGroup:a.s.GETTER,getGroupInfos:a.s.METHOD,setGroupInfos:a.s.METHOD,getGroupTree:a.s.METHOD,getGroupFields:a.s.METHOD,getFormattedTree:a.s.METHOD,getGroupLayoutInfos:a.s.METHOD,getGroupRecordIdsByPath:a.s.METHOD,getGroupPathByRecordVisibleIndex:a.s.METHOD,getStandardValueMapByPath:a.s.METHOD}),a.U.delegates(O.prototype,"rowHeightLevelPartial",{getRowHeightLevel:a.s.METHOD,setRowHeightLevel:a.s.METHOD});var L=n("../node_modules/@tencent/xtable-core/es/model/view/manager/group/index.js"),k=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),z=n("./node_modules/tslib/tslib.es6.js"),P=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),F=n("../node_modules/@tencent/xtable-core/es/model/manager/dirty-pipeline/index.interface.js"),U=n("../node_modules/@tencent/xtable-core/es/model/view/utils/ability/group.js"),B=n("../node_modules/@tencent/xtable-core/es/model/view/utils/field.js"),W=n("../node_modules/@tencent/xtable-core/es/utils/decorators/model/mark-dirty.js"),G=function(){function e(e){var t=this;this.viewModel=e,this.dirty=!0,this.cachedGroups=void 0,this.viewModel.dirtyPipeline.registerDirtyHandler(F.kF.GROUP,{isDirty:function(e){return t.isDirty()},markDirty:function(e){return t.markDirty(e)},hasRecordBeenAffected:function(e){return t.hasRecordBeenAffected(e)}})}var t=e.prototype;return t.setGroupInfos=function(e){this.viewModel.properties.groupInfos=e},t.getGroupInfos=function(){if(!this.viewModel.isValid())return[];var e=this.viewModel.properties.groupInfos;return e.length<=1?e:e.slice(0,1)},t.getGroups=function(){var e=this.getGroupField();if(e){var t=this.getFieldGroups(e).groups;if(t)return Object.assign(Object.assign({},t),{groupValues:e.getGroupValues()})}},t.getStandardValueMapByPath=function(e){var t=this.getGroupInfos(),n=t.reduce((function(e,t){return e[t.fieldId]=void 0,e}),{}),i=this.getGroups();return i?(e.forEach((function(e,o){var r;n[t[o].fieldId]=null!==(r=i.groupValues.get(e))&&void 0!==r?r:void 0})),n):n},t.getGroupField=function(){var e;if(this.viewModel.isValid()){var t=null===(e=this.getGroupInfos())||void 0===e?void 0:e[0].fieldId,n=this.viewModel.table.getFieldByFieldId(t);if(n&&(0,U.Tb)(n))return n}else P.k.info("[model][kanban] kanban 必须设置分组: "+this.viewModel.id)},t.isDirty=function(){return this.dirty},t.getOldDisplayedRecordIds=function(){return this.oldDisplayedRecordIds},t.getFieldGroups=function(e){if(!this.dirty)return this.updateOldDisplayedIfNecessary(),{groups:this.cachedGroups,isRecalculate:!1};var t=this.viewModel.getAndUpdateProcessedRecordIds(),n=t.recordIds;t.isRecalculate&&this.markDirty();var i=e.getGroups(n);return this.oldDisplayedRecordIds=this.getDisplayedRecordIdsFromGroups(this.cachedGroups),this.cachedGroups=i,this.markClean(),{groups:i,isRecalculate:!0}},t.getDisplayedRecordIdsFromGroups=function(e){if(!e)return[];var t=[];return e.groupIds.forEach((function(n){var i=e.groupRecordIds.get(n);i&&t.push.apply(t,(0,k.Z)(i))})),t},t.hasRecordBeenAffected=function(e){var t=this;return this.getGroupInfos().some((function(n){var i;if(n.fieldId===e)return!0;var o=null===(i=t.viewModel.table.getFieldByFieldId(n.fieldId))||void 0===i?void 0:i.getType();return(0,B.C)(o)}))},t.updateOldDisplayedIfNecessary=function(){this.viewModel.isRecordDirty()&&(this.oldDisplayedRecordIds=this.getDisplayedRecordIdsFromGroups(this.cachedGroups),this.viewModel.markRecordClean())},t.markDirty=function(e){this.dirty=!0},t.markClean=function(){this.dirty=!1},e}();function Z(e){var t=s()(e),n=t.recordIds,i=t.fieldIds,o=t.sectionInfos,r=t.filterInfos,a=t.isAutoSort,l=t.sortInfos,d=t.groupInfos,c=t.cardConfig;return{1:n,2:i,5:y.Z(o),6:a,7:b.Z(l),8:_.Z(r),9:R.Z(d),11:v(c)}}function H(e){return{recordIds:e[1],fieldIds:e[2],sectionInfos:y.n(e[5]),isAutoSort:e[6],sortInfos:b.n(e[7]),filterInfos:_.n(e[8]),groupInfos:R.n(e[9]),cardConfig:I(e[11])}}(0,z.__decorate)([(0,W.sY)(F.bs.RECORD_MAY_AFFECT),(0,z.__metadata)("design:type",Function),(0,z.__metadata)("design:paramtypes",[Array]),(0,z.__metadata)("design:returntype",void 0)],G.prototype,"setGroupInfos",null);var Y,V=function(e){function t(t,n){var o;return(o=e.call(this,t,n)||this).type=c.bW.KANBAN,o.viewGroup=new L.W((0,i.Z)(o)),o.sectionInfoPartial=new f((0,i.Z)(o)),o.cardViewPartial=new u.Jg((0,i.Z)(o)),o.kanbanGroupPartial=new G((0,i.Z)(o)),o.viewStatistics=void 0,o.registerRecordIdsProcessor(o.viewSort),o.registerRecordIdsProcessor(o.viewFilter),o.registerRecordIdsProcessor(o.viewGroup),o}(0,o.Z)(t,e),t.generateDefaultProperty=function(e,t){void 0===t&&(t={});var n=Object.assign({cardConfig:u.Jg.generateDefaultConfig(),recordIds:[],fieldIds:[],sectionInfos:{},filterInfos:null,sortInfos:[],groupInfos:[],isAutoSort:!0},t);return m(n,{hiddenCount:l.U}),n},t.serializeProperty=function(e){return Z(e)},t.deserializeProperty=function(e){return H(e)};var n=t.prototype;return n.getDisplayedRecordIds=function(){var e=this.getGroups();return e?this.getDisplayedRecordIdsFromGroups(e):[]},n.toJSON=function(){return{id:this.id,title:this.title,owner:this.viewPermission.owner,publicLevel:this.viewPermission.publicLevel,type:this.type,properties:s()(this.properties)}},n.isValid=function(){var e;return!!(null===(e=this.properties.groupInfos)||void 0===e?void 0:e[0])&&(0,U.Xb)(this.table,this.properties.groupInfos,this.type)},t}(d.Z);a.U.delegates(V.prototype,"sectionInfoPartial",{setFieldsHidden:a.s.METHOD,isFieldHidden:a.s.METHOD}),a.U.delegates(V.prototype,"cardViewPartial",{getCardConfig:a.s.METHOD,setCardConfig:a.s.METHOD}),a.U.delegates(V.prototype,"kanbanGroupPartial",{getGroups:a.s.METHOD,setGroupInfos:a.s.METHOD,getGroupInfos:a.s.METHOD,getStandardValueMapByPath:a.s.METHOD,getGroupField:a.s.METHOD,getFieldGroups:a.s.METHOD,getOldDisplayedRecordIds:a.s.METHOD,getDisplayedRecordIdsFromGroups:a.s.METHOD});var Q=function(){function e(){}return e.get=function(t){var n=e.viewModelCtorMap[t];if(!n)throw Error(t+" can't find view model constructor");return n},e.prototype.createViewModel=function(t,n){return new(e.get(n.type))(t,n)},e}();Q.viewModelCtorMap=((Y={})[c.bW.GRID]=O,Y[c.bW.KANBAN]=V,Y[c.bW.GALLERY]=w,Y[c.bW.GANTT]=T.X,Y)},"../node_modules/@tencent/xtable-core/es/model/view/manager/computer/index.js":function(e,t,n){"use strict";n.d(t,{u:function(){return ye}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/@tencent/containerized/build/main/index.js")),r=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),s=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),l=(n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),function(){function e(){this.map=new Map}e.pathToKey=function(e){return JSON.stringify(e)},e.keyToPath=function(e){return JSON.parse(e)};var t=e.prototype;return t.clear=function(){this.map.clear()},t.delete=function(t){return this.map.delete(e.pathToKey(t))},t.set=function(t,n){return this.map.set(e.pathToKey(t),n)},t.get=function(t){return this.map.get(e.pathToKey(t))},t.has=function(t){return this.map.has(e.pathToKey(t))},t.getSize=function(){return this.map.size},t.forEach=function(t){var n=this;return this.map.forEach((function(i,o){var r=e.keyToPath(o);t(i,r,n)}))},e}()),d=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js");function c(e){return{resultType:d.W.SYNC,value:u(e)}}function u(e){var t=e.recordIds.length;return String(t)}var h=100,g=(n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.promise.finally.js"),function(){function e(e,t){this.iterator=e,this.scheduler=t,this.task=null}var t=e.prototype;return t.abort=function(){var e;this.task&&this.scheduler.remove(this.task),null===(e=this.task)||void 0===e||e.reject(new Error("abort")),this.task=null},t.reduce=function(e,t){return this.loop(e,t)},t.forEach=function(e){return this.loop(e)},t.next=function(){return this.iterator.next()},t.loop=function(e,t){var n=this;return new Promise((function(i,o){var r={run:function(){var o=n.next();return null!==o?(t=e(o,t),1):(n.task=null,i(t),2)},reject:o};n.task=r,n.scheduler.add(r)}))},e}()),f=function(e){function t(t){var n;return(n=e.call(this)||this).current=-1,n.end=t,n}return(0,i.Z)(t,e),t.prototype.next=function(){return this.current+=1,this.current<this.end?this.current:null},t}(function(){function e(){}return e.prototype.nonBlocking=function(e){return new g(this,e)},e}()),m=(n("../node_modules/core-js/modules/es.array.filter.js"),function(){function e(e,t){var n=this;void 0===t&&(t=16),this.idle=e,this.runtime=t,this.tasks=[],this.isRunning=!1,this.idleCallback=function(){var e=n.idle.getCurrentTime();do{var t=n.tasks.shift();if(!t)break;2!==t.run.call(t.context)&&n.tasks.push(t)}while(n.idle.getCurrentTime()-e<n.runtime);n.isRunning=!1,n.run()}}var t=e.prototype;return t.add=function(e){this.tasks.push(e),this.run()},t.remove=function(e){this.tasks=this.tasks.filter((function(t){return t!==e})),this.run()},t.removeAll=function(){this.tasks=[],this.isRunning=!1,this.idle.unRegisterIdleCallback(this.idleCallback)},t.run=function(){if(!this.isRunning){if(0===this.tasks.length)return this.isRunning=!1,void this.idle.unRegisterIdleCallback(this.idleCallback);this.isRunning=!0,this.idle.registerIdleCallback(this.idleCallback)}},e}()),p=(n("../node_modules/core-js/modules/esnext.global-this.js"),n("../node_modules/core-js/modules/es.array.splice.js"),function(){function e(){this.idleCallbacks=[],this.timerId=e.initialId,this.idleStartTime=0,this.isRunning=!1,this.threshold=200}var t=e.prototype;return t.registerIdleCallback=function(e){this.idleCallbacks.push(e),this.start()},t.unRegisterIdleCallback=function(e){var t=this.idleCallbacks.indexOf(e);t>-1&&this.idleCallbacks.splice(t,1),0===this.idleCallbacks.length&&this.stop()},t.nextTick=function(e){this.setTimer(e)},t.checkIdle=function(){if(!this.isIdle)return this.idleStartTime=0,!1;var e=this.getCurrentTime();return 0===this.idleStartTime&&(this.idleStartTime=e),!(e-this.idleStartTime<this.threshold)},t.handleIdleCallback=function(){0!==this.idleCallbacks.length&&(this.isRunning=!1,this.idleCallbacks.shift()(),0===this.idleCallbacks.length?this.isRunning=!1:this.nextTick(this.handle.bind(this)))},t.handle=function(){return this.timerId=e.initialId,this.isRunning=!1,this.checkIdle()?this.handleIdleCallback():this.start()},t.start=function(){this.isRunning||this.timerId===e.initialId&&(this.timerId=this.setTimer(this.handle.bind(this)))},t.stop=function(){this.timerId!==e.initialId&&(this.cancelTimer(this.timerId),this.timerId=e.initialId)},e}());p.initialId=0;var v=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isIdle=!0,t}(0,i.Z)(t,e);var n=t.prototype;return n.getCurrentTime=function(){return performance.now()},n.setTimer=function(e){return globalThis.setTimeout(e,20)},n.cancelTimer=function(e){return globalThis.clearTimeout(e)},n.nextTick=function(e){setTimeout(e,0)},n.checkIsIdle=function(){return this.isIdle},n.setIdle=function(){this.isIdle=!0},n.setNotIdle=function(){this.isIdle=!1},t}(p),I=new v;function y(e){var t=e.recordIds,n=e.initialValue,i=e.unitCallback,o=e.finishCallback,r=new m(I),s=new f(t.length).nonBlocking(r);return{promise:s.reduce(i,n).then((function(e){return o(e)})).finally((function(){return s=null})),abort:function(){s&&(s.abort(),s=null)}}}n("../node_modules/core-js/modules/es.number.to-fixed.js");var _=n("../node_modules/dayjs/dayjs.min.js"),b=n.n(_);function M(e,t){return e&&t?(e/t*100).toFixed(2)+"%":"0.00%"}var C,w,T="0.00%";function E(e,t){return e.recordIds.length>=h?{resultType:d.W.ASYNC,value:A(e,t)}:{resultType:d.W.SYNC,value:j(e,t)}}function j(e,t){var n=e.field;return D(e,t,e.recordIds.reduce((function(e,t){return x(n,t,e)}),new Set))}function A(e,t){var n=e.field,i=e.recordIds;return y({recordIds:i,initialValue:new Set,unitCallback:function(e,t){return x(n,i[e],t)},finishCallback:function(n){return D(e,t,n)}})}function x(e,t,n){var i=e.getSortKey(t);return n.add(i),n}function D(e,t,n){if(!n)return function(e){return e?T:"0"}(t);n.delete(null);var i=n.size;return t?M(i,e.recordIds.length):String(i)}function S(e,t){return!!e.getCellValue(t)}function N(e,t){return 0===e.getStandardCell(t).data.length}!function(e){e[e.CHECKED=1]="CHECKED",e[e.UNCHECKED=2]="UNCHECKED",e[e.EMPTY=3]="EMPTY",e[e.NOT_EMPTY=4]="NOT_EMPTY"}(C||(C={}));var R=((w={})[C.CHECKED]=S,w[C.UNCHECKED]=function(e,t){return!S(e,t)},w[C.EMPTY]=N,w[C.NOT_EMPTY]=function(e,t){return!N(e,t)},w),O="0.00%";function L(e,t,n){return e.recordIds.length>=h?{resultType:d.W.ASYNC,value:z(e,t,n)}:{resultType:d.W.SYNC,value:k(e,t,n)}}function k(e,t,n){var i=e.field;return F(e,n,e.recordIds.reduce((function(e,n){return P(i,n,t,e)}),0))}function z(e,t,n){var i=e.field,o=e.recordIds;return y({recordIds:o,initialValue:0,unitCallback:function(e,n){return P(i,o[e],t,n)},finishCallback:function(t){return F(e,n,t)}})}function P(e,t,n,i){return i+((0,R[n])(e,t)?1:0)}function F(e,t,n){return n?t?M(n,e.recordIds.length):String(n):function(e){return e?O:"0"}(t)}function U(e,t){var n,i=function(e,t){return function(e,t){return 0===e.getStandardCell(t).data.length}(e,t)?[]:e.getStandardCell(t).data}(e,t),o=i[0];return(n=o)&&"timestamp"in n?{statKey:o.timestamp,statValue:o.text}:function(e){return!!e&&"number"in e}(o)?e.getType()===a.f.PROGRESS?{statKey:100*o.number,statValue:o.text}:{statKey:o.number,statValue:o.text}:null}var B=1/0,W=[B,-1/0];function G(e,t){return e.recordIds.length>=h?{resultType:d.W.ASYNC,value:H(e,t)}:{resultType:d.W.SYNC,value:Z(e,t)}}function Z(e,t){var n=e.field;return V(e.recordIds.reduce((function(e,t){return Y(n,t,e)}),W),t)}function H(e,t){var n=e.field,i=e.recordIds;return y({recordIds:i,initialValue:W,unitCallback:function(e,t){return Y(n,i[e],t)},finishCallback:function(e){return V(e,t)}})}function Y(e,t,n){var i,o=null===(i=U(e,t))||void 0===i?void 0:i.statKey;return void 0===o?n:[o<n[0]?o:n[0],o>n[1]?o:n[1]]}function V(e,t){return e&&e[0]!==B?String(function(e,t,n){var i=b()(e),o=b()(t);return i.diff(o,n)}(e[1],e[0],t)):"0"}function Q(e){return e.recordIds.length>=h?{resultType:d.W.ASYNC,value:X(e)}:{resultType:d.W.SYNC,value:K(e)}}function K(e){var t=e.field;return q(e,e.recordIds.reduce((function(e,n){return J(t,n,e)}),[]))}function X(e){var t=e.field,n=e.recordIds;return y({recordIds:n,initialValue:[],unitCallback:function(e,i){return J(t,n[e],i)},finishCallback:function(t){return q(e,t)}})}function J(e,t,n){var i=U(e,t);return null!==i&&n.push(i.statKey),n}function q(e,t){var n=e.field;if(null===t||void 0===t?void 0:t.length){var i=t.length,o=t.reduce((function(e,t){return e+t}),0),r=o/i,s=$(e.field,r);if(s)return s}return function(e){var t;return null!==(t=$(e,0))&&void 0!==t?t:"0"}(n)}function $(e,t){var n,i;return null===(i=null===(n=e.generateStandardCellByCellValue(t).data)||void 0===n?void 0:n[0])||void 0===i?void 0:i.text}var ee={statValue:"",statKey:-1/0};function te(e){return e.recordIds.length>=h?{resultType:d.W.ASYNC,value:ie(e)}:{resultType:d.W.SYNC,value:ne(e)}}function ne(e){var t=e.field;return re(e.recordIds.reduce((function(e,n){return oe(t,n,e)}),ee))}function ie(e){var t=e.field,n=e.recordIds;return y({recordIds:n,initialValue:ee,unitCallback:function(e,i){return oe(t,n[e],i)},finishCallback:function(e){return re(e)}})}function oe(e,t,n){var i=U(e,t);if(null===i)return n;var o=i;return o.statKey>n.statKey?o:n}function re(e){var t;return null!==(t=null===e||void 0===e?void 0:e.statValue)&&void 0!==t?t:""}var se={statValue:"",statKey:1/0};function ae(e){return e.recordIds.length>=h?{resultType:d.W.ASYNC,value:de(e)}:{resultType:d.W.SYNC,value:le(e)}}function le(e){var t=e.field;return ue(e.recordIds.reduce((function(e,n){return ce(t,n,e)}),se))}function de(e){var t=e.field,n=e.recordIds;return y({recordIds:n,initialValue:se,unitCallback:function(e,i){return ce(t,n[e],i)},finishCallback:function(e){return ue(e)}})}function ce(e,t,n){var i=U(e,t);if(null===i)return n;var o=i;return o.statKey<n.statKey?o:n}function ue(e){var t;return null!==(t=null===e||void 0===e?void 0:e.statValue)&&void 0!==t?t:""}function he(e){return e.recordIds.length>=h?{resultType:d.W.ASYNC,value:fe(e)}:{resultType:d.W.SYNC,value:ge(e)}}function ge(e){var t=e.field;return pe(e,e.recordIds.reduce((function(e,n){return me(t,n,e)}),0))}function fe(e){var t=e.field,n=e.recordIds;return y({recordIds:n,initialValue:0,unitCallback:function(e,i){return me(t,n[e],i)},finishCallback:function(t){return pe(e,t)}})}function me(e,t,n){var i,o;return n+(null!==(o=null===(i=U(e,t))||void 0===i?void 0:i.statKey)&&void 0!==o?o:0)}function pe(e,t){var n=e.field;if(t){var i=function(e,t){var n,i;return null===(i=null===(n=e.generateStandardCellByCellValue(t).data)||void 0===n?void 0:n[0])||void 0===i?void 0:i.text}(n,t);if(i)return i}return function(e){var t,n,i;return null!==(i=null===(n=null===(t=e.generateStandardCellByCellValue(0).data)||void 0===t?void 0:t[0])||void 0===n?void 0:n.text)&&void 0!==i?i:"0"}(n)}var ve=n("../node_modules/@tencent/xtable-core/es/utils/report/model-performance-report.service.js"),Ie=new(function(){function e(){var e;this.statOperatorMap=((e={})[d.w.NONE]=function(){return null},e[d.w.COUNT]=c,e[d.w.EMPTY]=function(e){return L(e,C.EMPTY,!1)},e[d.w.FILLED]=function(e){return L(e,C.NOT_EMPTY,!1)},e[d.w.UNIQUE]=function(e){return E(e,!1)},e[d.w.EMPTY_PERCENT]=function(e){return L(e,C.EMPTY,!0)},e[d.w.FILLED_PERCENT]=function(e){return L(e,C.NOT_EMPTY,!0)},e[d.w.UNIQUE_PERCENT]=function(e){return E(e,!0)},e[d.w.SUM]=he,e[d.w.AVERAGE]=Q,e[d.w.MAX]=te,e[d.w.MIN]=ae,e[d.w.LATEST]=te,e[d.w.EARLIEST]=ae,e[d.w.DAY_RANGE]=function(e){return G(e,"day")},e[d.w.MONTH_RANGE]=function(e){return G(e,"month")},e[d.w.UNCHECKED]=function(e){return L(e,C.UNCHECKED,!1)},e[d.w.UNCHECKED_PERCENT]=function(e){return L(e,C.UNCHECKED,!0)},e[d.w.CHECKED]=function(e){return L(e,C.CHECKED,!1)},e[d.w.CHECKED_PERCENT]=function(e){return L(e,C.CHECKED,!0)},e)}var t=e.prototype;return t.handler=function(e,t,n){var i=this.getOperator(t);ve.p.markFieldCountStart();var o=i({field:e,recordIds:n});return ve.p.markFieldCountEnd(null===o||void 0===o?void 0:o.resultType),o},t.getOperator=function(e){return this.statOperatorMap[null!==e&&void 0!==e?e:d.w.NONE]},e}()),ye=function(e){function t(t){var n;return(n=e.call(this)||this).viewModel=t,n.dirtyFields=new Set,n.computeResultMap=new Map,n}(0,i.Z)(t,e);var n=t.prototype;return n.getFieldStatResult=function(e,t){var n=this.getResultCacheOrAbortLastCalculation(e,t);if(n)return n;var i=this.calculate(e,t);if(this.dirtyFields.delete(e),i.resultType===d.W.HIDDEN)return i;var o=i.statType;return this.setFieldStatResultCache(e,t,i),i.resultType===d.W.SYNC?{resultType:d.W.SYNC,statType:o,value:i.value}:this.getAsyncTaskResult({task:i,fieldId:e,groupPath:t,statType:o})},n.isDirty=function(e){if(0===this.computeResultMap.size)return!0;var t=null===e||void 0===e?void 0:e.fieldId;return!!t&&this.dirtyFields.has(t)},n.markDirty=function(){this.clearAllFieldStatResultCache()},n.markDirtyByFieldId=function(e){this.dirtyFields.add(e),this.clearFieldStatResultCache(e)},n.getFieldStatType=function(e){var t=s.p.get(e.getType()).getSupportStatOperators(),n=this.viewModel.getFieldStatTypeConfig(e.getId());return null!==n&&t.includes(n)?n:this.getDefaultStatType(e)},n.calculate=function(e,t){var n=this.viewModel.getFieldStatRecordIds(t),i=this.viewModel.table.getFieldByFieldId(e);if("undefined"===typeof i)return r.k.debug("计算需要获取 "+e+" 对应列实例时，该列不存在"),{statType:d.w.NONE,resultType:d.W.HIDDEN};var o=this.getFieldStatType(i),s=Ie.handler(i,o,n);return s?Object.assign(Object.assign({},s),{statType:o}):{resultType:d.W.HIDDEN,statType:o}},n.getFieldStatResultCache=function(e,t){var n=this.computeResultMap.get(e);return"undefined"===typeof n?n:n.get(t)},n.setFieldStatResultCache=function(e,t,n){var i=this.computeResultMap.get(e);if(i)i.set(t,n);else{var o=new l;o.set(t,n),this.computeResultMap.set(e,o)}},n.clearFieldStatResultCache=function(e){var t=this.computeResultMap.get(e);t&&t.clear()},n.clearAllFieldStatResultCache=function(){this.computeResultMap.clear()},n.deleteGroupedStatCache=function(e,t){var n=this.computeResultMap.get(e);n&&n.delete(t)},n.isFieldDirty=function(e){return this.dirtyFields.has(e)},n.getResultCacheOrAbortLastCalculation=function(e,t){if(!this.isFieldDirty(e)){var n=this.getFieldStatResultCache(e,t);if(n)return n.resultType===d.W.SYNC?{resultType:d.W.SYNC,value:n.value,statType:n.statType}:void n.value.abort()}},n.getAsyncTaskResult=function(e){var t=this,n=e.task,i=e.fieldId,o=e.groupPath,s=e.statType;return n.value.promise.then((function(e){t.setFieldStatResultCache(i,o,{resultType:d.W.SYNC,statType:s,value:e})})).catch((function(e){r.k.debug("abort non blocking iter "+e.message),t.deleteGroupedStatCache(i,o)})),{statType:s,resultType:d.W.ASYNC,value:n.value}},n.getDefaultStatType=function(e){var t=e.getType();return this.viewModel.isPrimaryField(e.getId())?t===a.f.NUMBER?d.w.SUM:d.w.COUNT:t===a.f.NUMBER?d.w.SUM:d.w.NONE},n.isAllFieldsDirty=function(){return 0===this.computeResultMap.size},t}(o.JT)},"../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js":function(e,t,n){"use strict";var i,o;n.d(t,{W:function(){return o},w:function(){return i}}),function(e){e[e.NONE=20]="NONE",e[e.COUNT=1]="COUNT",e[e.EMPTY=2]="EMPTY",e[e.FILLED=3]="FILLED",e[e.UNIQUE=4]="UNIQUE",e[e.EMPTY_PERCENT=5]="EMPTY_PERCENT",e[e.FILLED_PERCENT=6]="FILLED_PERCENT",e[e.UNIQUE_PERCENT=7]="UNIQUE_PERCENT",e[e.SUM=8]="SUM",e[e.AVERAGE=9]="AVERAGE",e[e.MAX=10]="MAX",e[e.MIN=11]="MIN",e[e.LATEST=12]="LATEST",e[e.EARLIEST=13]="EARLIEST",e[e.DAY_RANGE=14]="DAY_RANGE",e[e.MONTH_RANGE=15]="MONTH_RANGE",e[e.UNCHECKED=16]="UNCHECKED",e[e.CHECKED=17]="CHECKED",e[e.UNCHECKED_PERCENT=18]="UNCHECKED_PERCENT",e[e.CHECKED_PERCENT=19]="CHECKED_PERCENT"}(i||(i={})),function(e){e[e.SYNC=1]="SYNC",e[e.ASYNC=2]="ASYNC",e[e.HIDDEN=3]="HIDDEN"}(o||(o={}))},"../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js":function(e,t,n){"use strict";var i,o;n.d(t,{S:function(){return i},m:function(){return o}}),function(e){e[e.AND=1]="AND",e[e.OR=2]="OR"}(i||(i={})),function(e){e[e.IS=1]="IS",e[e.IS_NOT=2]="IS_NOT",e[e.CONTAINS=3]="CONTAINS",e[e.DOES_NOT_CONTAIN=4]="DOES_NOT_CONTAIN",e[e.IS_GREATER=5]="IS_GREATER",e[e.IS_GREATER_OR_EQUAL=6]="IS_GREATER_OR_EQUAL",e[e.IS_LESS=7]="IS_LESS",e[e.IS_LESS_OR_EQUAL=8]="IS_LESS_OR_EQUAL",e[e.IS_EMPTY=9]="IS_EMPTY",e[e.IS_NOT_EMPTY=10]="IS_NOT_EMPTY"}(o||(o={}))},"../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js":function(e,t,n){"use strict";var i;n.d(t,{Z:function(){return i}}),function(e){e.STRING="STRING",e.ARRAY="ARRAY",e.NUMBER="NUMBER",e.DATE="DATE",e.BOOLEAN="BOOLEAN"}(i||(i={}))},"../node_modules/@tencent/xtable-core/es/model/view/manager/filter/type-operator/type-operation/date/date-duration.js":function(e,t,n){"use strict";var i,o;n.d(t,{BI:function(){return r},Ot:function(){return o},QI:function(){return s}}),function(e){e[e.DETAIL_DATE=1]="DETAIL_DATE",e[e.DETAIL_DATE_RANGE=2]="DETAIL_DATE_RANGE",e[e.TODAY=3]="TODAY",e[e.TOMORROW=4]="TOMORROW",e[e.YESTERDAY=5]="YESTERDAY",e[e.CURRENT_WEEK=6]="CURRENT_WEEK",e[e.LAST_WEEK=7]="LAST_WEEK",e[e.CURRENT_MONTH=8]="CURRENT_MONTH",e[e.THE_PAST_7_DAYS=9]="THE_PAST_7_DAYS",e[e.THE_NEXT_7_DAYS=10]="THE_NEXT_7_DAYS",e[e.LAST_MONTH=11]="LAST_MONTH",e[e.THE_PAST_30_DAYS=12]="THE_PAST_30_DAYS",e[e.THE_NEXT_30_DAYS=13]="THE_NEXT_30_DAYS"}(o||(o={}));var r=((i={})[o.CURRENT_MONTH]=function(){return[u(),u(1)]},i[o.CURRENT_WEEK]=function(){return[c(),c(1)]},i[o.LAST_MONTH]=function(){return[u(-1),u()]},i[o.LAST_WEEK]=function(){return[c(-1),c()]},i[o.THE_PAST_30_DAYS]=function(){return[d(-29),d(1)]},i[o.THE_PAST_7_DAYS]=function(){return[d(-6),d(1)]},i[o.THE_NEXT_30_DAYS]=function(){return[d(),d(30)]},i[o.THE_NEXT_7_DAYS]=function(){return[d(),d(7)]},i[o.TODAY]=function(){return[d(),d(1)]},i[o.TOMORROW]=function(){return[d(1),d(2)]},i[o.YESTERDAY]=function(){return[d(-1),d()]},i[o.DETAIL_DATE]=h,i[o.DETAIL_DATE_RANGE]=h,i);function s(e){return!!e&&!Array.isArray(e)&&"object"===typeof e&&e.type in r}function a(e){var t=e?new Date(e):new Date;return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t}function l(e){return a(e).getTime()}function d(e,t){void 0===e&&(e=0);var n=a(t);return n.setDate(n.getDate()+e)}function c(e){void 0===e&&(e=0);var t=a(),n=t.getDay()||7,i=t.getDate()+1-n+7*e;return t.setDate(i)}function u(e){void 0===e&&(e=0);var t=a();return t.setDate(1),t.setMonth(t.getMonth()+e)}function h(e){var t=e[0],n=e[1];return t?n?[l(t),l(n)]:[l(t),d(1,t)]:n?[l(n),d(1,n)]:[]}},"../node_modules/@tencent/xtable-core/es/model/view/manager/group/index.js":function(e,t,n){"use strict";n.d(t,{W:function(){return y}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/lodash/cloneDeep.js")),s=n.n(r),a=n("../node_modules/lodash/flatten.js"),l=n.n(a),d=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),c=(n("../node_modules/core-js/modules/es.array.sort.js"),n("../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js"));function u(e){return"boolean"===typeof e?e?"1":"0":"number"===typeof e?String(e):e}var h=function(){function e(e,t){var n=this;this.tableHelper=e,this.groupCondition=t,this.sortKeys=[],this.nodeMap=new Map,this.isNodeDirty=!1,this.getGroupKeys=function(){return n.trySortKeys(),n.sortKeys.map(u)},this.values=function(){return n.nodeMap},this.trySortKeys=function(){var e;if(n.isNodeDirty){var t=n.groupCondition,i=t.fieldId,o=t.desc,r=n.tableHelper.getFieldByFieldId(i),s=null!==(e=null===r||void 0===r?void 0:r.compare)&&void 0!==e?e:c.cz;n.sortKeys.sort((function(e,t){return s(e,t)*(o?-1:1)})),n.isNodeDirty=!1}}}var t=e.prototype;return t.hasChild=function(e){return this.nodeMap.has(e)},t.getChild=function(e){return this.nodeMap.get(e)},t.setChild=function(e,t){var n=u(e),i=this.hasChild(n);this.nodeMap.set(n,t),i||(this.sortKeys.push(e),this.isNodeDirty=!0)},e}(),g=function(){function e(e,t){this.level=t,this.recordIds=[],this.recordIds=e}return e.prototype.values=function(){return this.recordIds},e}(),f=n("../node_modules/@tencent/xtable-core/es/model/view/manager/record-processor/index.js"),m=n("../node_modules/@tencent/xtable-core/es/model/view/manager/record-processor/index.interface.js"),p=n("../node_modules/@tencent/xtable-core/es/utils/report/model-performance-report.service.js");function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var y=function(e){function t(t){var n;return(n=e.call(this)||this).viewModel=t,n.type=m.o.GROUPABLE,n.groupTree=null,n.flattenFormattedGroupList=null,n.generateFlattenFormattedGroupList=function(e,t){var i;if("string"===typeof t)return e;var o=n.getGroupInfos().length;if(t.level!==o-1)return t.children.reduce(n.generateFlattenFormattedGroupList,e);var r=null!==(i=e.start)&&void 0!==i?i:0,s=r+t.count;return e.list.push({start:r,end:r+t.count,path:t.path}),e.start=s,e},n}(0,o.Z)(t,e);var n=t.prototype;return n.getProcessedRecordIds=function(e){if(!this.dirty)return e;p.p.markGroupStart();var t=this.sortRecordIdsByGroupInfo(e);return p.p.markGroupEnd(),t},n.getGroupInfos=function(){return this.viewModel.getProperties().groupInfos},n.setGroupInfos=function(e){this.viewModel.getProperties().groupInfos=s()(e),this.markDirty()},n.getGroupTree=function(){return this.dirty&&this.viewModel.getDisplayedRecordIds(),this.groupTree},n.markDirty=function(){e.prototype.markDirty.call(this),this.flattenFormattedGroupList=null},n.markClean=function(){e.prototype.markClean.call(this),this.viewModel.dirtyPipeline.markAllDirtyFalse()},n.getGroupPathByRecordVisibleIndex=function(e){var t=this.groupTree;if(0===this.getGroupInfos().length||!t)return[];if(e<0)return d.k.error("给定的 recordId: "+e+" 不存在"),[];var n=this.getFlattenFormattedGroupList(t).find((function(t){return t.start<=e&&e<t.end}));return n?n.path:[]},n.getFormattedTree=function(e,t,n){var o=this;if(void 0===e&&(e=this.getGroupTree()),void 0===t&&(t=[]),void 0===n&&(n=0),!e)return null;var r=e.groupCondition.fieldId,s=this.viewModel.table.getFieldByFieldId(r);if(!s)return d.k.error("无法根据 fieldId 找到对应的 field "+r),[];var a=e.getGroupKeys(),l=(0,i.Z)(t);return a.map((function(a){var d=e.getChild(a),c=[],u=0;l=[].concat((0,i.Z)(t),[a]),u=_(d)?(c=o.getFormattedTree(d,l,n+1)).reduce((function(e,t){return e+t.count}),0):(c=d.values()).length;var h=o.getGroupRecordIdsByPath(l),g=h.length?o.viewModel.table.getCellStandardValueById(h[0],r):null;return{level:n,field:s,value:g,children:c,count:u,path:l}}))},n.getGroupLayoutInfos=function(){var e=this.getGroupTree();return e?this.getGroupLayoutInfosByGroupTree(e):null},n.sortRecordIdsByGroupInfo=function(e){return this.groupTree=this.updateAndGetGroupTree(e),this.groupTree?this.getRecordIdsByGroupTree(this.groupTree):e},n.getGroupFields=function(){var e=this,t=this.getGroupInfos();return 0===t.length?[]:t.filter((function(t){return!!e.viewModel.table.getFieldByFieldId(t.fieldId)||(d.k.info("Cannot find group field "+t.fieldId),!1)})).map((function(t){return e.viewModel.table.getFieldByFieldId(t.fieldId)}))},n.getGroupRecordIdsByPath=function(e){var t=this.getGroupTree();if(!t)return[];for(var n=e.length,i=t,o=0;o<n;o++){var r=e[o];if(!i.hasChild(r))return d.k.error("Path error, this node does not exist: ",r),[];var s=i.getChild(r);if(!_(s))return s.values();i=s}return this.getGroupRecordIdsByInnerNode(i)},n.getStandardValueMapByPath=function(e){var t=this.getFormattedTree();if(!t)return{};for(var n,i={},o=e.length,r=t,s=function(t){if(!r||!function(e){var t=e[0];return"string"!==typeof t&&"children"in t}(r))return{v:i};if(!(n=r.find((function(n){return n.path[t]===e[t]}))))return d.k.error("can't find formattedTree by path",{path:e}),"break";r=n.children;var o=n.field.getId(),s=n.value;i[o]=null!==s&&void 0!==s?s:void 0},a=0;a<o;a++){var l=s(a);if("break"===l)break;if("object"===typeof l)return l.v}return i},n.getGroupLayoutInfosByGroupTree=function(e,t,n,o){var r=this;if(void 0===t&&(t=[]),void 0===n&&(n=0),void 0===o&&(o=[]),!e)return[];var s=[];if(_(e)){var a=e.getGroupKeys(),c=e.groupCondition.fieldId;s.push.apply(s,(0,i.Z)(l()(a.map((function(s){var a=[].concat((0,i.Z)(t),[s]),l=e.getChild(s);return r.viewModel.table.getFieldByFieldId(c)?r.getGroupLayoutInfosByGroupTree(l,a,n+1,o):(d.k.info("[xtable-core][view-group] 找不到 field",{fieldId:c}),[])})))))}else{var u=e.values(),h=this.getGroupFields().map((function(e){return e.getId()}));s.push({level:n,recordIds:e.values(),path:t,values:h.map((function(e){return r.viewModel.table.getCellStandardValueById(u[0],e)}))})}return s},n.getFlattenFormattedGroupList=function(e){if(this.flattenFormattedGroupList)return this.flattenFormattedGroupList;var t=this.getFormattedTree(e);return this.flattenFormattedGroupList=t.reduce(this.generateFlattenFormattedGroupList,{list:[],start:0}).list,this.flattenFormattedGroupList},n.getGroupRecordIdsByInnerNode=function(e){var t=this,n=e.getGroupKeys();return l()(n.map((function(n){var i=e.getChild(n);return _(i)?t.getGroupRecordIdsByInnerNode(i):i.values()})))},n.updateAndGetGroupTree=function(e){var t=this.getGroupInfos();return t.length?this.creatGroupTree(t,e):null},n.creatGroupTree=function(e,t){var n=this.creatGroupTreeRootNode(e);return this.groupTreeInsertNode(n,t,e),n},n.creatGroupTreeRootNode=function(e){var t=e[0];return new h(this.viewModel.table,t)},n.groupTreeInsertNode=function(e,t,n,i){var o=this;void 0===i&&(i=0);var r=n[i];this.getGroupSourceMap(t,r.fieldId).forEach((function(t,r){var s,a=i+1;a===n.length?s=new g(t,a):(s=new h(o.viewModel.table,n[a]),o.groupTreeInsertNode(s,t,n,a)),e.setChild(r,s)}))},n.getGroupSourceMap=function(e,t){for(var n,i,o=new Map,r=v(e);!(i=r()).done;){var s=i.value,a=this.getSortKey(s,t),l=null!==(n=o.get(a))&&void 0!==n?n:[];l.push(s),o.set(a,l)}return o},n.getRecordIdsByGroupTree=function(e){for(var t,n=[],o=v(e.getGroupKeys());!(t=o()).done;){var r=t.value,s=e.getChild(r);if(s){var a=[];a=_(s)?this.getRecordIdsByGroupTree(s):s.values(),n.push.apply(n,(0,i.Z)(a))}}return n},n.getSortKey=function(e,t){var n=this.viewModel.table.getFieldByFieldId(t);return n?n.getSortKey(e):null},t}(f.C);function _(e){return e instanceof h}},"../node_modules/@tencent/xtable-core/es/model/view/manager/record-processor/index.interface.js":function(e,t,n){"use strict";var i;n.d(t,{o:function(){return i}}),function(e){e.GROUPABLE="groupable",e.SORTABLE="sortable",e.FILTERABLE="filterable",e.STATISTICAL="statistical"}(i||(i={}))},"../node_modules/@tencent/xtable-core/es/model/view/manager/record-processor/index.js":function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=function(e){function t(){return e.apply(this,arguments)||this}return(0,i.Z)(t,e),t}(function(){function e(){this.dirty=!0}var t=e.prototype;return t.markDirty=function(){this.dirty=!0},t.markClean=function(){this.dirty=!1},t.isDirty=function(){return this.dirty},e}())},"../node_modules/@tencent/xtable-core/es/model/view/manager/sort/sort-utils.js":function(e,t,n){"use strict";function i(e,t){return l(e,t)?d(e,t):e.localeCompare(t)}function o(e,t){return a(i)(e,t)}function r(e,t){return e===t?0:l(e,t)?d(e,t):e<t?-1:1}function s(e,t){return a(r)(e,t)}function a(e){return function(t,n){var i,o;if(l(t,n))return d(t,n);for(var r=t,s=n,a=Math.max(r.length,s.length),c=0;c<a;c++){var u=null!==(i=r[c])&&void 0!==i?i:null,h=null!==(o=s[c])&&void 0!==o?o:null,g=e(u,h);if(0!==g)return g}return 0}}function l(e,t){return[e,t].includes(null)}function d(e,t){return null===e?null!==t?1:0:null===t?-1:0}n.d(t,{$P:function(){return r},Ew:function(){return i},VY:function(){return o},cz:function(){return d},oT:function(){return s}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js")},"../node_modules/@tencent/xtable-core/es/model/view/partial/card-view.js":function(e,t,n){"use strict";n.d(t,{E7:function(){return o},Jg:function(){return u},tI:function(){return i}}),n("../node_modules/core-js/modules/es.object.assign.js");var i,o,r=n("../node_modules/lodash/cloneDeep.js"),s=n.n(r),a=n("../node_modules/lodash/isEqual.js"),l=n.n(a),d=n("../node_modules/lodash/pickBy.js"),c=n.n(d);!function(e){e[e.CONTAIN=1]="CONTAIN",e[e.COVER=2]="COVER"}(i||(i={})),function(e){e[e.STANDARD=1]="STANDARD",e[e.COMPACT=2]="COMPACT"}(o||(o={}));var u=function(){function e(e){this.viewModel=e}e.generateDefaultConfig=function(e){var t,n,r,s;return{isShowCover:null!==(t=null===e||void 0===e?void 0:e.isShowCover)&&void 0!==t&&t,coverFieldId:null!==(n=null===e||void 0===e?void 0:e.coverFieldId)&&void 0!==n?n:"",coverFitType:i.CONTAIN,isShowFieldTitle:null===(r=null===e||void 0===e?void 0:e.isShowFieldTitle)||void 0===r||r,showMode:null!==(s=null===e||void 0===e?void 0:e.showMode)&&void 0!==s?s:o.STANDARD}},e.serializeCardConfig=function(e){var t={1:e.isShowCover,2:e.coverFieldId,3:e.coverFitType,4:e.isShowFieldTitle,5:e.showMode};return c()(t,(function(e){return void 0!==e}))},e.deserializeCardConfig=function(e){var t={isShowCover:e[1],coverFieldId:e[2],coverFitType:e[3],isShowFieldTitle:e[4],showMode:e[5]};return c()(t,(function(e){return void 0!==e}))};var t=e.prototype;return t.getCardConfig=function(){var t;return null!==(t=s()(this.viewModel.properties.cardConfig))&&void 0!==t?t:e.generateDefaultConfig()},t.setCardConfig=function(t){var n,i=null!==(n=this.viewModel.properties.cardConfig)&&void 0!==n?n:e.generateDefaultConfig();return l()(i,t)||(this.viewModel.properties.cardConfig=Object.assign(Object.assign({},i),t)),!0},e}()},"../node_modules/@tencent/xtable-core/es/model/view/partial/column-info.js":function(e,t,n){"use strict";n.d(t,{i:function(){return l}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),r=n("../node_modules/@tencent/xtable-core/es/model/manager/dirty-pipeline/index.interface.js"),s=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/index.js"),a=n("../node_modules/@tencent/xtable-core/es/utils/decorators/model/mark-dirty.js"),l=function(){function e(e){var t=this;this.viewModel=e,this.viewComputer=new s.u(this.viewModel),this.viewModel.dirtyPipeline.registerDirtyHandler(r.kF.FIELD_STAT,{isDirty:function(e){return t.viewComputer.isDirty(e)},markDirty:function(e){return t.markStatDirty(e)},hasRecordBeenAffected:function(e){return null!==t.getFieldStatTypeConfig(e)}})}var t=e.prototype;return t.isFieldHidden=function(e){var t=this.viewModel.properties.colInfos[e];return Boolean(null===t||void 0===t?void 0:t.hidden)},t.setFieldsHidden=function(e,t){var n=this;return e.forEach((function(e){n.setFieldHidden(e,t)})),!0},t.getColumnWidth=function(e,t){var n,i;void 0===t&&(t=o._E.COLUMN_DEFAULT_WIDTH);var r=null!==(n=this.viewModel.properties.colInfos[e])&&void 0!==n?n:{};return r.hidden?0:null!==(i=null===r||void 0===r?void 0:r.width)&&void 0!==i?i:t},t.setColumnWidth=function(e,t){return!!this.viewModel.table.getFieldByFieldId(e)&&(this.setColInfoAttribute(e,"width",t),!0)},t.setFieldStatType=function(e,t){var n,i;return!!this.viewModel.table.getFieldByFieldId(e)&&(this.setColInfoAttribute(e,"statType",t),null===(i=(n=this.viewModel).markStatDirty)||void 0===i||i.call(n,{fieldId:e}),!0)},t.getFieldStatTypeConfig=function(e){var t,n,i;return null!==(i=null===(n=null===(t=this.viewModel.properties.colInfos)||void 0===t?void 0:t[e])||void 0===n?void 0:n.statType)&&void 0!==i?i:null},t.getFieldStatType=function(e){return this.viewComputer.getFieldStatType(e)},t.getFieldStatResults=function(e,t){return this.viewComputer.getFieldStatResult(e,t)},t.getFieldStatRecordIds=function(e){var t=this.viewModel;return 0===t.getGroupInfos().length?t.getDisplayedRecordIds():t.getGroupRecordIdsByPath(e)},t.markStatDirty=function(e){var t=this.viewComputer,n=null===e||void 0===e?void 0:e.fieldId;"undefined"!==typeof n?t.markDirtyByFieldId(n):t.markDirty()},t.setColInfoAttribute=function(e,t,n){var i,o,r;null!==(i=(r=this.viewModel.properties).colInfos)&&void 0!==i||(r.colInfos={});var s=this.viewModel.properties.colInfos;null!==n?(null!==(o=s[e])&&void 0!==o||(s[e]={}),s[e][t]=n):s[e]&&delete s[e][t]},t.setFieldHidden=function(e,t){return this.viewModel.properties.colInfos||(this.viewModel.properties.colInfos={}),this.setColInfoAttribute(e,"hidden",t||null),!0},e}();(0,i.__decorate)([(0,a.sY)(r.bs.RECORD_NOT_AFFECTED),(0,i.__param)(0,a.YT),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Object]),(0,i.__metadata)("design:returntype",Boolean)],l.prototype,"setFieldStatType",null),(0,i.__decorate)([(0,a.sY)(r.bs.RECORD_MAY_AFFECT),(0,i.__param)(0,a.YT),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Boolean]),(0,i.__metadata)("design:returntype",Boolean)],l.prototype,"setFieldHidden",null)},"../node_modules/@tencent/xtable-core/es/model/view/partial/frozen-field.js":function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var i=function(){function e(e){this.viewModel=e}var t=e.prototype;return t.getFrozenFieldCount=function(){return this.viewModel.properties.frozenFieldCount},t.setFrozenFieldCount=function(e){return e!==this.viewModel.properties.frozenFieldCount&&(this.viewModel.properties.frozenFieldCount=e,!0)},e}()},"../node_modules/@tencent/xtable-core/es/model/view/partial/group.js":function(e,t,n){"use strict";n.d(t,{t:function(){return l}}),n("../node_modules/core-js/modules/es.array.filter.js");var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/xtable-core/es/model/manager/dirty-pipeline/index.interface.js"),r=n("../node_modules/@tencent/xtable-core/es/model/view/manager/group/index.js"),s=n("../node_modules/@tencent/xtable-core/es/model/view/utils/field.js"),a=n("../node_modules/@tencent/xtable-core/es/utils/decorators/model/mark-dirty.js"),l=function(){function e(e){var t=this;this.viewModel=e,this.viewGroup=new r.W(this.viewModel),this.viewModel.dirtyPipeline.registerDirtyHandler(o.kF.GROUP,{isDirty:function(e){return t.viewGroup.isDirty()},markDirty:function(e){return t.markGroupDirty(e)},hasRecordBeenAffected:function(e){return t.hasRecordBeenAffected(e)}})}var t=e.prototype;return t.getGroupInfos=function(){var e=this;return this.viewGroup.getGroupInfos().filter((function(t){return e.viewModel.table.getFieldByFieldId(t.fieldId)}))},t.setGroupInfos=function(e){return this.viewGroup.setGroupInfos(e)},t.getGroupTree=function(){return this.viewGroup.getGroupTree()},t.getGroupFields=function(){return this.viewGroup.getGroupFields()},t.getFormattedTree=function(){return this.viewGroup.getFormattedTree()},t.getGroupLayoutInfos=function(){return this.viewGroup.getGroupLayoutInfos()},t.getGroupRecordIdsByPath=function(e){return this.viewGroup.getGroupRecordIdsByPath(e)},t.getGroupPathByRecordVisibleIndex=function(e){return this.viewGroup.getGroupPathByRecordVisibleIndex(e)},t.getStandardValueMapByPath=function(e){return this.viewGroup.getStandardValueMapByPath(e)},t.hasRecordBeenAffected=function(e){var t=this;return this.getGroupInfos().some((function(n){var i;if(n.fieldId===e)return!0;var o=null===(i=t.viewModel.table.getFieldByFieldId(n.fieldId))||void 0===i?void 0:i.getType();return(0,s.C)(o)}))},t.markGroupDirty=function(e){this.viewGroup.markDirty()},e}();(0,i.__decorate)([(0,a.sY)(o.bs.RECORD_MAY_AFFECT),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",void 0)],l.prototype,"setGroupInfos",null)},"../node_modules/@tencent/xtable-core/es/model/view/partial/row-height-level.js":function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var i=function(){function e(e){this.viewModel=e}var t=e.prototype;return t.getRowHeightLevel=function(){return this.viewModel.properties.rowHeightLevel},t.setRowHeightLevel=function(e){var t=this.viewModel.properties;return t.rowHeightLevel!==e&&(t.rowHeightLevel=e,!0)},e}()},"../node_modules/@tencent/xtable-core/es/model/view/utils/ability/group.js":function(e,t,n){"use strict";n.d(t,{Tb:function(){return c},Xb:function(){return d},hn:function(){return a},mR:function(){return l}});var i=n("../node_modules/@tencent/xtable-core/es/constant/config/view.js"),o=n("../node_modules/@tencent/xtable-core/es/model/field/common/group-field-types.js"),r=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),s=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js");function a(e,t){return"groupInfos"in e&&e.groupInfos?{groupInfos:t(e.groupInfos)}:{}}function l(e,t,n){switch(n){case s.bW.GANTT:case s.bW.GRID:return!0;case s.bW.KANBAN:return(0,o.q)(e)}}function d(e,t,n){return!t||!(n!==s.bW.KANBAN&&n!==s.bW.GRID&&n!==s.bW.GANTT||t.length>i.m[n])&&t.every((function(t){var i=e.getFieldByFieldId(t.fieldId);return i&&l(i.getType(),i.getProperty(),n)}))}function c(e){return e.getType()===r.f.SINGLE_SELECT&&["getGroups","getGroupValues"].every((function(t){return t in e}))}},"../node_modules/@tencent/xtable-core/es/model/view/utils/field.js":function(e,t,n){"use strict";n.d(t,{C:function(){return r}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),o=new Set([i.f.MODIFIED_TIME,i.f.MODIFIED_USER]);function r(e){return!!e&&o.has(e)}},"../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/column-infos.js":function(e,t,n){"use strict";function i(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],i=e[1],o=i.hidden,r=void 0!==o&&o,s=i.width,a=void 0===s?0:s,l=i.statType;t[n]={1:a,2:r,3:l}})),t}function o(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],i=e[1],o=i[1],r=i[2],s=i[3],a={};!0===r&&(a.hidden=r),o>0&&(a.width=o),s&&(a.statType=s),Object.keys(a).length>0&&(t[n]=a)})),t}n.d(t,{Z:function(){return i},n:function(){return o}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.entries.js"),n("../node_modules/core-js/modules/es.object.keys.js")},"../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/filter.js":function(e,t,n){"use strict";n.d(t,{n:function(){return E},Z:function(){return T}});var i={};n.r(i),n.d(i,{deserialize:function(){return h},serialize:function(){return u}});var o={};n.r(o),n.d(o,{deserialize:function(){return f},serialize:function(){return g}});var r={};n.r(r),n.d(r,{deserialize:function(){return p},serialize:function(){return m}});var s={};n.r(s),n.d(s,{deserialize:function(){return I},serialize:function(){return v}});var a={};n.r(a),n.d(a,{deserialize:function(){return _},serialize:function(){return y}}),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.object.assign.js");var l,d=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-key.js");function u(e,t){var n;return(n={})[e]=t,n}function h(e,t){var n;return null!==(n=t[e])&&void 0!==n?n:null}function g(e,t){var n;return(n={})[e]=t,n}function f(e,t){var n;return null!==(n=t[e])&&void 0!==n?n:null}function m(e,t){var n,i=null;return t&&(i={1:t.type,2:t.timestamps}),(n={})[e]=i,n}function p(e,t){var n=t[e];return n?{type:n[1],timestamps:n[2]}:null}function v(e,t){var n;return(n={})[e]=t,n}function I(e,t){var n;return null!==(n=t[e])&&void 0!==n?n:null}function y(e,t){var n;return(n={})[e]=t,n}function _(e,t){var n;return null!==(n=t[e])&&void 0!==n?n:null}var b=((l={})[c.Z.STRING]=a,l[c.Z.BOOLEAN]=o,l[c.Z.DATE]=r,l[c.Z.NUMBER]=s,l[c.Z.ARRAY]=i,l);function M(e,t){var n=d.p.get(e).filterKeyType;return(0,b[n].deserialize)(e,t)}function C(e){return e.map((function(e){var t=e.fieldId,n=e.fieldType,i=e.operator,o=e.value;return Object.assign({30:t,31:n,32:i},function(e,t){var n=d.p.get(e).filterKeyType;return(0,b[n].serialize)(e,t)}(n,o))}))}function w(e){return e.map((function(e){var t=e[30],n=e[31];return{fieldId:t,fieldType:n,operator:e[32],value:M(n,e)}}))}function T(e){if(null===e)return null;var t=e.conditions;return{1:e.conjunction,2:C(t)}}function E(e){return e?{conjunction:e[1],conditions:w(e[2])}:null}},"../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/group.js":function(e,t,n){"use strict";function i(e){return e.map((function(e){return{1:e.fieldId,2:e.desc}}))}function o(e){return e.map((function(e){return{fieldId:e[1],desc:e[2]}}))}n.d(t,{Z:function(){return i},n:function(){return o}}),n("../node_modules/core-js/modules/es.array.map.js")},"../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/sort.js":function(e,t,n){"use strict";function i(e){return e.map((function(e){return{1:e.fieldId,2:e.desc}}))}function o(e){return e.map((function(e){return{fieldId:e[1],desc:e[2]}}))}n.d(t,{Z:function(){return i},n:function(){return o}}),n("../node_modules/core-js/modules/es.array.map.js")},"../node_modules/@tencent/xtable-core/es/model/view/utils/type-guard/group.js":function(e,t,n){"use strict";n.d(t,{_:function(){return r},r:function(){return o}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js");var i=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js");function o(e){return(e.type===i.bW.GRID||e.type===i.bW.GANTT)&&["setGroupInfos","getGroupInfos","getGroupTree","getGroupFields","getFormattedTree"].every((function(t){return t in e}))}function r(e){return!![i.bW.GRID,i.bW.GANTT,i.bW.KANBAN].includes(e.type)&&["getStandardValueMapByPath"].every((function(t){return t in e}))}},"../node_modules/@tencent/xtable-core/es/mutation/api.js":function(e,t,n){"use strict";var i=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),o=n("../node_modules/@tencent/xtable-core/es/event/index.js"),r=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-map.js"),s=function(){function e(){this.mutationEmitter=o.o.onBeforeMutationRunEmitter}e.serializeMutation=function(e){return{t:e.id,v:e.version,c:e.serialize(),r:e.requestId,o:e.operationType}},e.deserializeMutation=function(e){var t=e.t,n=e.c,i=e.r,o=e.v,s=e.o,a=(0,r.Z[t].deserialize)(n);return a.setVersion(o),a.setRequestId(i),a.setOperationType(s),a};var t=e.prototype;return t.getMutationMap=function(){return r.Z},t.run=function(e,t){this.mutationEmitter.fire(e);var n=e.checkAndRun(t);return n.isSuccess||i.k.error("MutationApi run result: "+JSON.stringify(n)),n},t.invert=function(e,t){return e.invert(t)},t.addBeforeMutationRunListener=function(e){this.mutationEmitter.event(e)},e}();t.Z=s},"../node_modules/@tencent/xtable-core/es/mutation/base-mutation.js":function(e,t,n){"use strict";var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=function(e){function t(t){return e.call(this,t)||this}(0,i.Z)(t,e);var n=t.prototype;return n.run=function(e){this.runOnBase(e)},n.check=function(e){return this.checkOnBase(e)},n.invert=function(e){return this.invertOnBase(e)},t}(n("../node_modules/@tencent/xtable-core/es/mutation/mutation.js").Z);t.Z=o},"../node_modules/@tencent/xtable-core/es/mutation/decorator.js":function(e,t,n){"use strict";n.d(t,{v:function(){return l},w:function(){return a}});var i=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),o=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),r=n("../node_modules/@tencent/xtable-core/es/utils/check/check-id-param.js");function s(e,t){var n=null,i=void 0;return"getTableByTableId"in e?i=(n=e).getTableByTableId(t):"getRecordCount"in e&&(i=e),{base:n,table:i}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,a){var l=a.value;a.value=function(e){var n=s(e,this.tableId),a=n.base,d=n.table,c=(0,r.p)(this,a,d,t);return c.isSuccess?l.call(this,e):{isSuccess:c.isSuccess,error:(0,o.d)(i.GP.TERMINATE_AND_WARNING,c.msg)}}}}function l(){return function(e,t,n){var i=n.value;n.value=function(e,t){return this.isSameTable(e)?i.call(this,e,t):[this]}}}},"../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.object.entries.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/field/insert-field.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/field/move-field.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/filter/set-filter.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/group/set-group.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/sort/sort-records.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),m=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),p=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3015,n.tableId=t.tableId,n.viewId=t.viewId,n.fieldId=t.fieldId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],fieldId:e[3],delta:{indexes:e[4][1]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:this.fieldId,4:{1:this.delta.indexes}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithInsertViewMutation=function(e){var n=this,i=e.delta,o=i.properties.fieldIds,r=i.viewId,s=o.findIndex((function(e){return e===n.fieldId})),a=Object.assign({},this.delta.indexes);return s>=0&&(a[r]=s),[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{indexes:a}})]},n.transformWithDeleteViewMutation=function(e){var n=e.viewId,i=Object.assign({},this.delta.indexes);return delete i[n],[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{indexes:i}})]},n.transformWithInsertFieldMutation=function(e){var n=this,i={};return Object.keys(this.delta.indexes).forEach((function(t){i[t]=(0,f.XE)(n.delta.indexes[t],e.delta.indexes[t])})),[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{indexes:i}})]},n.transformWithDeleteFieldMutation=function(e){var n=this;if(this.fieldId===e.fieldId)return[];var i={};return Object.keys(this.delta.indexes).forEach((function(t){i[t]=(0,f.HN)(n.delta.indexes[t],e.delta.indexes[t])})),[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{indexes:i}})]},n.transformWithMoveFieldMutation=function(e){var n,i=e.delta,o=i.source,r=i.target,s=e.viewId,a=this.delta.indexes[s],l=Object.assign(Object.assign({},this.delta.indexes),((n={})[s]=(0,f.Ph)(a,{source:o,target:r}),n));return[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{indexes:l}})]},n.transformWithSetGroupMutation=function(e){var t=this,n=[],i=e.groupDelta.filter((function(e){return e.fieldId!==t.fieldId}));return i.length!==e.groupDelta.length&&n.push(new c.Z({tableId:this.tableId,viewId:this.viewId,delta:{groups:i}})),[].concat(n,[this])},n.transformWithSetFilterMutation=function(e){var t=this;if(!e.delta)return[this];var n=[],i=e.delta.conditions.filter((function(e){return e.fieldId!==t.fieldId}));return i.length!==e.delta.conditions.length&&n.push(new d.Z({tableId:this.tableId,viewId:this.viewId,delta:i.length?Object.assign(Object.assign({},e.delta),{conditions:i}):null})),[].concat(n,[this])},n.transformWithSortRecordsMutation=function(e){var t=this,n=[],i=e.delta.sortInfos.filter((function(e){return e.fieldId!==t.fieldId}));return i.length!==e.delta.sortInfos.length&&n.push(new u.Z({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},e.delta),{sortInfos:i})})),[].concat(n,[this])},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){e.deleteField(this.fieldId);for(var t=0,n=Object.entries(this.delta.indexes);t<n.length;t++){var i=n[t],o=i[0],r=i[1],s=e.getViewByViewId(o);null===s||void 0===s||s.deleteFieldIndex(this.fieldId,r)}},n.invertOnTable=function(e){var t=e.getFieldByFieldId(this.fieldId);return[new s.Z({tableId:this.tableId,viewId:this.viewId,delta:{fieldId:this.fieldId,type:t.getType(),title:t.getTitle(),indexes:this.delta.indexes}}),new l.Z({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{type:t.getType(),title:t.getTitle(),property:t.getProperty()}})]},t}(h.Z);(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithInsertViewMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[m.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[s.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithInsertFieldMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[v]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[a.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithMoveFieldMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithSetGroupMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithSetFilterMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithSortRecordsMutation",null),(0,o.__decorate)([(0,r.w)("view","field"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],v.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/field/insert-field.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.object.values.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/field/move-field.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),m=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),p=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js"),v=n("../node_modules/@tencent/xtable-core/es/utils/check/check-size-limit.js"),I=n("../node_modules/@tencent/xtable-core/es/utils/title.js"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3014,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:{fieldId:e[3][1],type:e[3][2],title:e[3][3],indexes:e[3][4]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:{1:this.delta.fieldId,2:this.delta.type,3:this.delta.title,4:this.delta.indexes}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithInsertViewMutation=function(e){var n,i=e.delta.properties.fieldIds.length,o=e.delta.viewId,r=Object.assign(Object.assign({},this.delta.indexes),((n={})[o]=i,n));return[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:r})})]},n.transformWithDeleteViewMutation=function(e){var n=e.viewId,i=Object.assign({},this.delta.indexes);return delete i[n],[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:i})})]},n.transformWithInsertFieldMutation=function(e,n){var i=this,o={};return Object.keys(this.delta.indexes).forEach((function(t){o[t]=(0,f.nn)(i.delta.indexes[t],e.delta.indexes[t],n)})),this.delta.title!==e.delta.title?[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:o})})]:n?[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:o,title:(0,I.KD)(this.delta.title,this.delta.fieldId)})})]:[new c.Z({tableId:e.tableId,viewId:e.viewId,fieldId:e.delta.fieldId,delta:{title:(0,I.KD)(e.delta.title,e.delta.fieldId)}}),new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:o})})]},n.transformWithSetFieldAttributesMutation=function(e,n){return this.delta.title&&e.delta.title===this.delta.title?n?[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{title:(0,I.KD)(this.delta.title,this.delta.fieldId)})})]:[new c.Z({tableId:e.tableId,viewId:e.viewId,fieldId:e.fieldId,delta:{title:(0,I.KD)(e.delta.title,e.fieldId)}}),this]:[this]},n.transformWithMoveFieldMutation=function(e){var n,i=Object.assign(Object.assign({},this.delta.indexes),((n={})[this.viewId]=(0,f.Fd)(this.delta.indexes[this.viewId],e.delta),n));return[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:i})})]},n.transformWithDeleteFieldMutation=function(e){var n=this,i={};return Object.keys(this.delta.indexes).forEach((function(t){i[t]=(0,f.pS)(n.delta.indexes[t],e.delta.indexes[t])})),[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:i})})]},n.checkOnTable=function(e){var t;if(!this.delta.title||!this.delta.type||!this.delta.fieldId)return{isSuccess:!1,error:(0,u.d)(s.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [id:"+this.delta.fieldId+",title:"+this.delta.title+",type:"+this.delta.type+"]")};if(e.getViewIdList().length!==Object.keys(null===(t=this.delta)||void 0===t?void 0:t.indexes).length)return{isSuccess:!1,error:(0,u.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation Params: viewIds num not match")};var n=e.getFieldCount(),i=(0,v.ez)(n+1);if(!i.isValid)return{isSuccess:!1,error:(0,u.d)(s.GP.TERMINATE_AND_WARNING,i.msg,i.code)};var o=(0,v.HK)(e.getRecordCount(),n+1);if(!o.isValid)return{isSuccess:!1,error:(0,u.d)(s.GP.TERMINATE_AND_WARNING,o.msg,o.code)};var a=Object.values(this.delta.indexes).find((function(e){return!(0,r.isNumber)(e)||e<0||e>n}));return a?{isSuccess:!1,error:(0,u.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation Indexes Params:"+a)}:{isSuccess:!0}},n.runOnTable=function(e){e.insertField({fieldId:this.delta.fieldId,delta:{title:this.delta.title,type:this.delta.type,indexes:this.delta.indexes}})},n.invertOnTable=function(e){return[new l.Z({tableId:this.tableId,viewId:this.viewId,fieldId:this.delta.fieldId,delta:{indexes:this.delta.indexes}})]},t}(h.Z);(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],y.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.Z]),(0,o.__metadata)("design:returntype",Array)],y.prototype,"transformWithInsertViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[m.Z]),(0,o.__metadata)("design:returntype",Array)],y.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[y,Boolean]),(0,o.__metadata)("design:returntype",Array)],y.prototype,"transformWithInsertFieldMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z,Boolean]),(0,o.__metadata)("design:returntype",Array)],y.prototype,"transformWithSetFieldAttributesMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.Z]),(0,o.__metadata)("design:returntype",Array)],y.prototype,"transformWithMoveFieldMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.Z]),(0,o.__metadata)("design:returntype",Array)],y.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,a.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],y.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/field/move-field.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/field/insert-field.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3016,n.tableId=t.tableId,n.viewId=t.viewId,n.fieldId=t.fieldId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],fieldId:e[3],delta:{source:e[4][1],target:e[4][2]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:this.fieldId,4:{1:this.delta.source,2:this.delta.target}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithInsertFieldMutation=function(e){var n=(0,g.iG)(this.delta,e.delta.indexes[this.viewId]);return[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:n})]},n.transformWithDeleteFieldMutation=function(e){var n=(0,g.k)(this.delta,e.delta.indexes[this.viewId]);return n?[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:n})]:[]},n.transformWithMoveFieldMutation=function(e,n){if(this.viewId!==e.viewId)return[this];var i=(0,g._Z)(this.delta,e.delta,n);return i?[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:i})]:[]},n.checkOnTable=function(e){var t=e.getViewByViewId(this.viewId);return this.delta.source!==(null===t||void 0===t?void 0:t.getFieldIndex(this.fieldId))?{isSuccess:!1,error:(0,c.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation Source Params:"+this.delta.source)}:!(0,r.isNumber)(this.delta.target)||this.delta.target<0||this.delta.target>=e.getFieldCount()?{isSuccess:!1,error:(0,c.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation Target Params:"+this.delta.target)}:{isSuccess:!0}},n.runOnTable=function(e){var t=e.getViewByViewId(this.viewId);null===t||void 0===t||t.moveFieldIndex(this.fieldId,this.delta.source,this.delta.target)},n.invertOnTable=function(e){return[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{source:this.delta.target,target:this.delta.source}})]},t}(u.Z);(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[f.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithInsertFieldMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[m,Boolean]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithMoveFieldMutation",null),(0,o.__decorate)([(0,a.w)("view","field"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],m.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return v},l:function(){return p}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/lodash/pick.js"),s=n.n(r),a=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/field/insert-field.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/filter/set-filter.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),f=n("../node_modules/@tencent/xtable-core/es/utils/object.js"),m=n("../node_modules/@tencent/xtable-core/es/utils/title.js");function p(e){return(0,f.n)(e,"type")&&(0,f.n)(e,"property")}var v=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3017,n.tableId=t.tableId,n.viewId=t.viewId,n.fieldId=t.fieldId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){var n=e[4],i={};if((0,f.n)(n,31)){var o=n[31];i={type:o},n[o]?i.property=a.p.get(o).deserializeProperty(n[o]):i.property=null}return(0,f.n)(n,30)&&(i.title=n[30]),new t({tableId:e[1],viewId:e[2],fieldId:e[3],delta:i})};var n=t.prototype;return n.serialize=function(){var e={};if(p(this.delta)){var t=this.delta.type;e[31]=t;var n=a.p.get(t).serializeProperty(this.delta.property);null!==n&&(e[t]=n)}return(0,f.n)(this.delta,"title")&&(e[30]=this.delta.title),{1:this.tableId,2:this.viewId,3:this.fieldId,4:e}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithInsertFieldMutation=function(e,n){return e.delta.title!==this.delta.title?[this]:n?[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:Object.assign(Object.assign({},this.delta),{title:(0,m.KD)(this.delta.title,this.fieldId)})})]:[this,new t({tableId:e.tableId,viewId:e.viewId,fieldId:e.delta.fieldId,delta:{title:(0,m.KD)(e.delta.title,e.delta.fieldId)}})]},n.transformWithDeleteFieldMutation=function(e){return this.fieldId===e.fieldId?[]:[this]},n.transformWithSetFieldAttributesMutation=function(e,n){return this.fieldId!==e.fieldId?this.delta.title&&e.delta.title===this.delta.title?n?[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:Object.assign(Object.assign({},this.delta),{title:(0,m.KD)(this.delta.title,this.fieldId)})})]:[this,new t({tableId:e.tableId,viewId:e.viewId,fieldId:e.fieldId,delta:{title:(0,m.KD)(e.delta.title,e.fieldId)}})]:[this]:(i=e,p(this.delta)===p(i.delta)?n?[this]:[]:[this]);var i},n.transformWithSetFilterMutation=function(e){var t=this;if(!p(this.delta))return[this];if(!e.delta)return[this];var n=[],i=e.delta.conditions.filter((function(e){return e.fieldId!==t.fieldId}));return i.length!==e.delta.conditions.length&&n.push(new u.Z({tableId:this.tableId,viewId:this.viewId,delta:i.length?Object.assign(Object.assign({},e.delta),{conditions:i}):null})),[].concat(n,[this])},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){e.setFieldAttributes(this.fieldId,this.delta)},n.invertOnTable=function(e){var n=e.getFieldByFieldId(this.fieldId),i={type:n.getType(),title:n.getTitle(),property:n.getProperty()},o=s()(i,Object.keys(this.delta));return[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:o})]},t}(h.Z);(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z,Boolean]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithInsertFieldMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[v,Boolean]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithSetFieldAttributesMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithSetFilterMutation",null),(0,o.__decorate)([(0,l.w)("view","field"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],v.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/field/set-field-stat-type.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3019,n.tableId=t.tableId,n.viewId=t.viewId,n.fieldId=t.fieldId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],fieldId:e[3],delta:{statType:e[4][1]||null}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:this.fieldId,4:{1:this.delta.statType}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithDeleteFieldMutation=function(e){return this.fieldId===e.fieldId?[]:[this]},n.transformWithSetFieldStatTypeMutation=function(e,t){return this.viewId!==e.viewId||this.fieldId!==e.fieldId||t?[this]:[]},n.checkOnTable=function(e){return(0,r.isNumber)(this.delta.statType)||null===this.delta.statType?{isSuccess:!0}:{isSuccess:!1,error:(0,d.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation StatType Params:"+this.delta.statType)}},n.runOnTable=function(e){var t=e.getViewByViewId(this.viewId);null===t||void 0===t||t.setFieldStatType(this.fieldId,this.delta.statType)},n.invertOnTable=function(e){return[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{statType:e.getViewByViewId(this.viewId).getFieldStatTypeConfig(this.fieldId)}})]},t}(c.Z);(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g,Boolean]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithSetFieldStatTypeMutation",null),(0,o.__decorate)([(0,a.w)("view","field"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],g.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/field/set-fields-hidden.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/lodash/intersection.js"),s=n.n(r),a=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3018,n.tableId=t.tableId,n.viewId=t.viewId,n.fieldIds=t.fieldIds,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],fieldIds:e[3],delta:{hidden:e[4][1]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:this.fieldIds,4:{1:this.delta.hidden}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithDeleteFieldMutation=function(e){if(this.fieldIds.includes(e.fieldId)){var n=this.fieldIds.filter((function(t){return t!==e.fieldId}));return n.length?[new t({tableId:this.tableId,viewId:this.viewId,fieldIds:n,delta:Object.assign({},this.delta)})]:[]}return[this]},n.transformWithSetFieldHiddenMutation=function(e,n){if(this.viewId!==e.viewId)return[this];var i=s()(this.fieldIds,e.fieldIds);if(i.length&&!n){var o=this.fieldIds.filter((function(e){return!i.includes(e)}));return o.length?[new t({tableId:this.tableId,viewId:this.viewId,fieldIds:o,delta:Object.assign({},this.delta)})]:[]}return[this]},n.checkOnTable=function(e){if(!this.fieldIds.length)return{isSuccess:!1,error:(0,c.d)(a.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [fieldIdsLength:"+this.fieldIds.length+"]")};var t=this.fieldIds.find((function(t){return!e.getFieldByFieldId(t)}));return void 0!==t?{isSuccess:!1,error:(0,c.d)(a.GP.TERMINATE_AND_WARNING,"Field Not Exist:"+t)}:{isSuccess:!0}},n.runOnTable=function(e){var t=e.getViewByViewId(this.viewId);null===t||void 0===t||t.setFieldsHidden(this.fieldIds,this.delta.hidden)},n.invertOnTable=function(e){return[new t({tableId:this.tableId,viewId:this.viewId,fieldIds:this.fieldIds,delta:{hidden:!this.delta.hidden}})]},t}(u.Z);(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h.Z]),(0,o.__metadata)("design:returntype",Array)],f.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],f.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.Z]),(0,o.__metadata)("design:returntype",Array)],f.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[f,Boolean]),(0,o.__metadata)("design:returntype",Array)],f.prototype,"transformWithSetFieldHiddenMutation",null),(0,o.__decorate)([(0,l.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],f.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/filter/set-filter.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/filter.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3021,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:r.n(e[3])})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:r.Z(this.delta)}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithDeleteFieldMutation=function(e){if(!this.delta)return[this];var n=this.delta.conditions.filter((function(t){return t.fieldId!==e.fieldId}));return[new t({tableId:this.tableId,viewId:this.viewId,delta:n.length?Object.assign(Object.assign({},this.delta),{conditions:n}):null})]},n.transformWithSetFieldAttributesMutation=function(e){if(!(0,l.l)(e.delta))return[this];if(!this.delta)return[this];var n=this.delta.conditions.filter((function(t){return t.fieldId!==e.fieldId}));return[new t({tableId:this.tableId,viewId:this.viewId,delta:n.length?Object.assign(Object.assign({},this.delta),{conditions:n}):null})]},n.transformWithSetFilterMutation=function(e,t){return this.viewId!==e.viewId||t?[this]:[]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){e.getViewByViewId(this.viewId).setFilterInfos(this.delta)},n.invertOnTable=function(e){var n=e.getViewByViewId(this.viewId).getFilterInfos();return[new t({tableId:this.tableId,viewId:this.viewId,delta:n})]},t}(d.Z);(0,o.__decorate)([(0,s.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,s.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,s.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[a.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,s.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithSetFieldAttributesMutation",null),(0,o.__decorate)([(0,s.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h,Boolean]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithSetFilterMutation",null),(0,o.__decorate)([(0,s.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],h.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/group/set-group.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),s=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),a=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/group.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3020,n.tableId=t.tableId,n.viewId=t.viewId,n.groupDelta=t.delta.groups,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:{groups:a.n(e[3][1])}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:{1:a.Z(this.groupDelta)}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithDeleteFieldMutation=function(e){var n=this.groupDelta.filter((function(t){return t.fieldId!==e.fieldId}));return[new t({tableId:this.tableId,viewId:this.viewId,delta:{groups:n}})]},n.transformWithSetGroupMutation=function(e,t){return this.viewId!==e.viewId||t?[this]:[]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){var t=e.getViewByViewId(this.viewId);t.type===s.bW.GRID||t.type===s.bW.KANBAN||t.type===s.bW.GANTT?t.setGroupInfos(this.groupDelta):r.k.error(t.id+" 类型为 "+t.type+"，不支持设置分组")},n.invertOnTable=function(e){var n=e.getViewByViewId(this.viewId);return[new t({tableId:this.tableId,viewId:this.viewId,delta:{groups:"getGroupInfos"in n?n.getGroupInfos():[]}})]},t}(c.Z);(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g,Boolean]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithSetGroupMutation",null),(0,o.__decorate)([(0,l.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],g.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js":function(e,t,n){"use strict";n.d(t,{N:function(){return r},d:function(){return o}});var i=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js");function o(e,t,n){return new i.s7(i.QJ.MUTATION_CHECK,e,t,n)}function r(e,t,n){return new i.s7(i.QJ.MUTATION_RUN,e,t,n)}},"../node_modules/@tencent/xtable-core/es/mutation/mutation-map.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var i,o=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),r=n("../node_modules/@tencent/xtable-core/es/mutation/field/insert-field.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/field/move-field.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-stat-type.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-fields-hidden.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/filter/set-filter.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/group/set-group.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-card-config.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-col-width.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-field-stat-status.js"),m=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-gannt-config.js"),p=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-row-height.js"),v=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),I=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),y=n("../node_modules/@tencent/xtable-core/es/utils/serialization/record-map.js"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).tableId=t.tableId,n.delta=t.delta,n}(0,v.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],delta:{recordMap:(0,y.US)(e[2][1]),recordMetaMap:(0,y.YZ)(e[2][2])}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:{1:(0,y.fX)(this.delta.recordMap),2:(0,y.EW)(this.delta.recordMetaMap)}}},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){e.appendRecords(this.delta)},n.invertOnTable=function(e){return[]},t}(I.Z),b=n("../node_modules/@tencent/xtable-core/es/mutation/record/delete-record.js"),M=n("../node_modules/@tencent/xtable-core/es/mutation/record/insert-record.js"),C=n("../node_modules/@tencent/xtable-core/es/mutation/record/move-record.js"),w=n("../node_modules/@tencent/xtable-core/es/mutation/record/set-record.js"),T=n("../node_modules/@tencent/xtable-core/es/mutation/sort/sort-records.js"),E=n("../node_modules/@tencent/xtable-core/es/mutation/table/delete-table.js"),j=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),A=n("../node_modules/@tencent/xtable-core/es/mutation/table/insert-table.js"),x=n("../node_modules/@tencent/xtable-core/es/mutation/table/move-table.js"),D=n("../node_modules/@tencent/xtable-core/es/mutation/table/set-table-attributes.js"),S=n("../node_modules/@tencent/xtable-core/es/mutation/table/set-table-description.js"),N=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),R=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js"),O=n("../node_modules/@tencent/xtable-core/es/mutation/view/move-view.js"),L=n("../node_modules/@tencent/xtable-core/es/mutation/view/set-view-attributes.js"),k=((i={})[3005]=j.Z,i[3001]=A.Z,i[3002]=E.Z,i[3003]=x.Z,i[3004]=D.Z,i[3006]=R.Z,i[3007]=N.Z,i[3008]=O.Z,i[3009]=L.Z,i[3010]=M.Z,i[3011]=b.Z,i[3012]=C.Z,i[3013]=w.Z,i[3014]=r.Z,i[3015]=o.Z,i[3016]=s.Z,i[3017]=a.Z,i[3018]=d.Z,i[3019]=l.Z,i[3020]=u.Z,i[3021]=c.Z,i[3022]=T.Z,i[3023]=p.Z,i[3024]=g.Z,i[3025]=f.Z,i[3026]=h.Z,i[3027]=S.Z,i[3028]=_,i[3029]=m.Z,i)},"../node_modules/@tencent/xtable-core/es/mutation/mutation.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),o={VERSION:5},r=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),s=function(){function e(e){this.setVersion(e.version),this.setRequestId(e.requestId),this.setOperationType(e.operationType)}var t=e.prototype;return t.setVersion=function(e){this.version=null!==e&&void 0!==e?e:o.VERSION},t.setRequestId=function(e){this.requestId=null!==e&&void 0!==e?e:-1},t.setOperationType=function(e){this.operationType=null!==e&&void 0!==e?e:0},t.invert=function(e){return this.invert(e)},t.checkAndRun=function(e){var t=this.check(e);if(!t.isSuccess)return t;try{this.run(e)}catch(n){return{isSuccess:!1,error:(0,r.N)(i.GP.TERMINATE_AND_WARNING,null===n||void 0===n?void 0:n.stack)}}return{isSuccess:!0}},t.transform=function(e,t){var n,i=((n={})[3005]=this.transformWithInitTableMutation,n[3001]=this.transformWithInsertTableMutation,n[3002]=this.transformWithDeleteTableMutation,n[3003]=this.transformWithMoveTableMutation,n[3004]=this.transformWithSetTableAttributesMutation,n[3006]=this.transformWithInsertViewMutation,n[3007]=this.transformWithDeleteViewMutation,n[3008]=this.transformWithMoveViewMutation,n[3009]=this.transformWithSetViewAttributesMutation,n[3010]=this.transformWithInsertRecordMutation,n[3011]=this.transformWithDeleteRecordMutation,n[3012]=this.transformWithMoveRecordMutation,n[3013]=this.transformWithSetRecordMutation,n[3014]=this.transformWithInsertFieldMutation,n[3015]=this.transformWithDeleteFieldMutation,n[3016]=this.transformWithMoveFieldMutation,n[3017]=this.transformWithSetFieldAttributesMutation,n[3018]=this.transformWithSetFieldHiddenMutation,n[3019]=this.transformWithSetFieldStatTypeMutation,n[3022]=this.transformWithSortRecordsMutation,n[3020]=this.transformWithSetGroupMutation,n[3021]=this.transformWithSetFilterMutation,n[3023]=this.transformWithSetRowHeightMutation,n[3024]=this.transformWithSetColWidthMutation,n[3025]=this.transformWithSetFieldStatStatusMutation,n[3026]=this.transformWithSetCardConfigMutation,n[3027]=this.transformWithSetTableDescriptionMutation,n[3028]=this.transformWithAppendRecordsMutation,n)[e.id];if(!i)throw new Error("找不到 mutation id "+this.id+" 和 mutation id "+e.id+" 的冲突处理方法。");return i.bind(this)(e,t)},t.isSameTable=function(e){return this.tableId===e.tableId},t.transformWithInsertTableMutation=function(e,t){return[this]},t.transformWithDeleteTableMutation=function(e,t){return[this]},t.transformWithMoveTableMutation=function(e,t){return[this]},t.transformWithSetTableAttributesMutation=function(e,t){return[this]},t.transformWithInsertViewMutation=function(e,t){return[this]},t.transformWithDeleteViewMutation=function(e,t){return[this]},t.transformWithMoveViewMutation=function(e,t){return[this]},t.transformWithSetViewAttributesMutation=function(e,t){return[this]},t.transformWithInsertRecordMutation=function(e,t){return[this]},t.transformWithDeleteRecordMutation=function(e,t){return[this]},t.transformWithMoveRecordMutation=function(e,t){return[this]},t.transformWithSetRecordMutation=function(e,t){return[this]},t.transformWithInsertFieldMutation=function(e,t){return[this]},t.transformWithDeleteFieldMutation=function(e,t){return[this]},t.transformWithMoveFieldMutation=function(e,t){return[this]},t.transformWithSetFieldAttributesMutation=function(e,t){return[this]},t.transformWithSetFieldHiddenMutation=function(e,t){return[this]},t.transformWithSetFieldStatTypeMutation=function(e,t){return[this]},t.transformWithSortRecordsMutation=function(e,t){return[this]},t.transformWithSetGroupMutation=function(e,t){return[this]},t.transformWithSetFilterMutation=function(e,t){return[this]},t.transformWithSetRowHeightMutation=function(e,t){return[this]},t.transformWithSetColWidthMutation=function(e,t){return[this]},t.transformWithSetFieldStatStatusMutation=function(e,t){return[this]},t.transformWithInitTableMutation=function(e,t){return[]},t.transformWithSetCardConfigMutation=function(e,t){return[this]},t.transformWithSetTableDescriptionMutation=function(e,t){return[this]},t.transformWithAppendRecordsMutation=function(e,t){return[this]},t.transformWithSetGanttConfigMutation=function(e,t){return[this]},e}(),a=s},"../node_modules/@tencent/xtable-core/es/mutation/other/set-card-config.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/lodash/pick.js"),s=n.n(r),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),l=n("../node_modules/@tencent/xtable-core/es/model/view/partial/card-view.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/table/delete-table.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3026,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:l.Jg.deserializeCardConfig(e[3])})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:l.Jg.serializeCardConfig(this.delta)}},n.transformWithDeleteTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithDeleteFieldMutation=function(e){return this.delta.coverFieldId&&this.delta.coverFieldId===e.fieldId?[this.buildSetCardConfigMutationWithNoCoverFieldId()]:[this]},n.transformWithSetFieldAttributesMutation=function(e){return this.isNeedTransformWithSetFieldAttributesMutation(e)?[this.buildSetCardConfigMutationWithNoCoverFieldId()]:[this]},n.transformWithSetCardConfigMutation=function(e,t){return this.viewId!==e.viewId||t?[this]:[]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){e.getViewByViewId(this.viewId).setCardConfig(this.delta)},n.invertOnTable=function(e){var n=e.getViewByViewId(this.viewId).getCardConfig(),i=s()(n,Object.keys(this.delta));return[new t({tableId:this.tableId,viewId:this.viewId,delta:i})]},n.isNeedTransformWithSetFieldAttributesMutation=function(e){if(!this.delta.coverFieldId)return!1;var t=e.fieldId;if(this.delta.coverFieldId!==t)return!1;var n=e.delta;return!(!n.type||[a.f.IMAGE].includes(n.type))},n.buildSetCardConfigMutationWithNoCoverFieldId=function(){var e=Object.assign({},this.delta);return delete e.coverFieldId,e.isShowCover=!1,new t({tableId:this.tableId,viewId:this.viewId,delta:e})},t}(h.Z);(0,o.__decorate)([(0,d.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithDeleteTableMutation",null),(0,o.__decorate)([(0,d.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[f.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,d.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,d.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithSetFieldAttributesMutation",null),(0,o.__decorate)([(0,d.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],m.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/other/set-col-width.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3024,n.tableId=t.tableId,n.viewId=t.viewId,n.fieldId=t.fieldId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],fieldId:e[3],delta:{width:e[4][1]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:this.fieldId,4:{1:this.delta.width}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithDeleteFieldMutation=function(e){return this.fieldId===e.fieldId?[]:[this]},n.transformWithSetColWidthMutation=function(e,t){return this.viewId!==e.viewId||this.fieldId!==e.fieldId||t?[this]:[]},n.checkOnTable=function(e){return(0,r.isNumber)(this.delta.width)?"setColumnWidth"in e.getViewByViewId(this.viewId)?{isSuccess:!0}:{isSuccess:!1,error:(0,d.d)(s.GP.TERMINATE_AND_WARNING,"View doesn't support column")}:{isSuccess:!1,error:(0,d.d)(s.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [width:"+this.delta.width+"]")}},n.runOnTable=function(e){e.getViewByViewId(this.viewId).setColumnWidth(this.fieldId,this.delta.width)},n.invertOnTable=function(e){var n=e.getViewByViewId(this.viewId);return[new t({tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:{width:n.getColumnWidth(this.fieldId)}})]},t}(c.Z);(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.Z]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g,Boolean]),(0,o.__metadata)("design:returntype",Array)],g.prototype,"transformWithSetColWidthMutation",null),(0,o.__decorate)([(0,a.w)("view","field"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],g.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/other/set-field-stat-status.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3025,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:{isFieldStatEnabled:e[3][1]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:{1:this.delta.isFieldStatEnabled}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithSetFieldStatStatusMutation=function(e,t){return this.viewId!==e.viewId||t?[this]:[]},n.checkOnTable=function(e){return(0,r.isBoolean)(this.delta.isFieldStatEnabled)?{isSuccess:!0}:{isSuccess:!1,error:(0,l.d)(s.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [isFieldStatEnabled:"+this.delta.isFieldStatEnabled+"]")}},n.runOnTable=function(e){var t=e.getViewByViewId(this.viewId);this.delta.isFieldStatEnabled?t.displayFieldStat():t.hideFieldStat()},n.invertOnTable=function(e){return[new t({tableId:this.tableId,viewId:this.viewId,delta:{isFieldStatEnabled:e.getViewByViewId(this.viewId).isFieldStatEnabled()}})]},t}(d.Z);(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h,Boolean]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithSetFieldStatStatusMutation",null),(0,o.__decorate)([(0,a.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],h.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/other/set-gannt-config.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/lodash/pick.js"),s=n.n(r),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),l=n("../node_modules/@tencent/xtable-core/es/model/view/gantt/index.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/table/delete-table.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3029,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:l.X.deserializeGanttConfig(e[3])})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:l.X.serializeGanttConfig(this.delta)}},n.transformWithDeleteTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithDeleteFieldMutation=function(e){return[this.delta.startDateFieldId,this.delta.endDateFieldId,this.delta.labelFieldId].includes(e.fieldId)?[this.buildSetGanttConfigMutationWithNoFieldId(e.fieldId)]:[this]},n.transformWithSetFieldAttributesMutation=function(e){return this.isNeedTransformWithSetFieldAttributesMutation(e)?[this.buildSetGanttConfigMutationWithNoFieldId(e.fieldId)]:[this]},n.transformWithSetGanttConfigMutation=function(e,t){return this.viewId!==e.viewId||t?[this]:[]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){e.getViewByViewId(this.viewId).setGanttConfig(this.delta)},n.invertOnTable=function(e){var n=e.getViewByViewId(this.viewId).getGanttConfig(),i=s()(n,Object.keys(this.delta));return[new t({tableId:this.tableId,viewId:this.viewId,delta:i})]},n.isNeedTransformWithSetFieldAttributesMutation=function(e){var t=e.fieldId;return[this.delta.startDateFieldId,this.delta.endDateFieldId].some((function(n){if(n!==t)return!1;var i=e.delta;return!(!i.type||[a.f.DATE_TIME].includes(i.type))}))},n.buildSetGanttConfigMutationWithNoFieldId=function(e){var n=Object.assign({},this.delta);return["startDateFieldId","endDateFieldId","labelFieldId"].forEach((function(t){n[t]===e&&delete n[t]})),new t({tableId:this.tableId,viewId:this.viewId,delta:n})},t}(h.Z);(0,o.__decorate)([(0,d.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithDeleteTableMutation",null),(0,o.__decorate)([(0,d.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[f.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,d.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithDeleteFieldMutation",null),(0,o.__decorate)([(0,d.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithSetFieldAttributesMutation",null),(0,o.__decorate)([(0,d.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],m.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/other/set-row-height.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3023,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:{rowHeightLevel:e[3][1]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:{1:this.delta.rowHeightLevel}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithSetRowHeightMutation=function(e,t){return this.viewId!==e.viewId||t?[this]:[]},n.checkOnTable=function(e){return(0,r.isNumber)(this.delta.rowHeightLevel)?"setRowHeightLevel"in e.getViewByViewId(this.viewId)?{isSuccess:!0}:{isSuccess:!1,error:(0,l.d)(s.GP.TERMINATE_AND_WARNING,"View doesn't support row height level")}:{isSuccess:!1,error:(0,l.d)(s.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [rowHeightLevel:"+this.delta.rowHeightLevel+"]")}},n.runOnTable=function(e){e.getViewByViewId(this.viewId).setRowHeightLevel(this.delta.rowHeightLevel)},n.invertOnTable=function(e){return[new t({tableId:this.tableId,viewId:this.viewId,delta:{rowHeightLevel:e.getViewByViewId(this.viewId).getRowHeightLevel()}})]},t}(d.Z);(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h,Boolean]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithSetRowHeightMutation",null),(0,o.__decorate)([(0,a.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],h.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/record/delete-record.js":function(e,t,n){"use strict";var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),a=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/record/insert-record.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/record/move-record.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/record/set-record.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/sort/sort-records.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),m=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),p=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),v=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),I=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js");function y(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var b=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3011,n.tableId=t.tableId,n.viewId=t.viewId,n.recordId=t.recordId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],recordId:e[3],delta:{indexes:e[4][1]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:this.recordId,4:{1:this.delta.indexes}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteRecordMutation=function(e){var n=this;if(this.recordId===e.recordId)return[];var i={};return Object.keys(this.delta.indexes).forEach((function(t){i[t]=(0,p.HN)(n.delta.indexes[t],e.delta.indexes[t])})),[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:{indexes:i}})]},n.transformWithInsertRecordMutation=function(e){var n=this,i={};return Object.keys(this.delta.indexes).forEach((function(t){i[t]=(0,p.XE)(n.delta.indexes[t],e.delta.indexes[t])})),[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:{indexes:i}})]},n.transformWithMoveRecordMutation=function(e){var n,i=e.delta,o=i.source,r=i.target,s=e.viewId,a=this.delta.indexes[s],l=(0,p.Ph)(a,{source:o,target:r}),d=Object.assign(Object.assign({},this.delta.indexes),((n={})[s]=l,n));return[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:{indexes:d}})]},n.transformWithInsertViewMutation=function(e){var n=this,i=e.delta,o=i.properties.recordIds,r=i.viewId,s=o.findIndex((function(e){return e===n.recordId})),a=Object.assign({},this.delta.indexes);return s>=0&&(a[r]=s),[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:{indexes:a}})]},n.transformWithDeleteViewMutation=function(e){var n=e.viewId,i=Object.assign({},this.delta.indexes);return delete i[n],[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:{indexes:i}})]},n.transformWithSortRecordsMutation=function(e){var n;return[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:{indexes:Object.assign(Object.assign({},this.delta.indexes),(n={},n[e.viewId]=e.delta.recordIds.indexOf(this.recordId),n))}})]},n.checkOnTable=function(e){for(var t=this.delta.indexes,n=Object.keys(t),i=e.getRecordCount(),o=0,l=n;o<l.length;o++){var c=l[o],u=t[c];if(!(0,r.isNumber)(u)||u<0||u>=i)return{isSuccess:!1,error:(0,d.d)(a.GP.TERMINATE_AND_WARNING,s.Z.t("record_invalid_delete_index",{viewId:c,index:u,recordCount:i}))}}return{isSuccess:!0}},n.runOnTable=function(e){var t=this.delta.indexes;e.deleteRecord(this.recordId,t)},n.invertOnTable=function(e){for(var t,n={},i=y(e.getViewIdList());!(t=i()).done;){var o=t.value,r=e.getViewByViewId(o).getRecordIndexFromAllRecordIds(this.recordId);n[o]=r}var s=e.getRecordByRecordId(this.recordId),a=this.addDeltaType(s,e),l=e.getRecordMetaByRecordId(this.recordId),d=e.getUserInfo(l.createdUserId);return[new c.Z({tableId:this.tableId,viewId:this.viewId,delta:{recordId:this.recordId,createdTime:l.createdTime,createdUserId:l.createdUserId,indexes:n},userInfo:d}),new h.Z({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:a,userInfo:d})]},n.addDeltaType=function(e,t){for(var n={},i=0,o=Object.keys(e);i<o.length;i++){var r=o[i],s=e[r],a=s.value,l=s.modifiedTime,d=s.modifiedUserId;n[r]={type:t.getFieldByFieldId(r).getType(),value:a,modifiedTime:l,modifiedUserId:d}}return n},t}(f.Z);(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[m.Z]),(0,o.__metadata)("design:returntype",Array)],b.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[b]),(0,o.__metadata)("design:returntype",Array)],b.prototype,"transformWithDeleteRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],b.prototype,"transformWithInsertRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],b.prototype,"transformWithMoveRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[I.Z]),(0,o.__metadata)("design:returntype",Array)],b.prototype,"transformWithInsertViewMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[v.Z]),(0,o.__metadata)("design:returntype",Array)],b.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],b.prototype,"transformWithSortRecordsMutation",null),(0,o.__decorate)([(0,l.w)("view","record"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],b.prototype,"checkOnTable",null),t.Z=b},"../node_modules/@tencent/xtable-core/es/mutation/record/insert-record.js":function(e,t,n){"use strict";var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),a=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/record/delete-record.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/record/move-record.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),m=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),p=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js"),v=n("../node_modules/@tencent/xtable-core/es/utils/check/check-size-limit.js"),I=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3010,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n.userInfo=t.userInfo,n}(0,i.Z)(t,e),t.deserialize=function(e){var n=e[3][4];return new t({tableId:e[1],viewId:e[2],delta:{recordId:e[3][1],indexes:e[3][2],createdUserId:e[3][3],createdTime:n?Number(n):void 0},userInfo:{id:e[4][1],name:e[4][2],avatarUrl:e[4][3]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:{1:this.delta.recordId,2:this.delta.indexes,3:this.delta.createdUserId,4:this.delta.createdTime},4:{1:this.userInfo.id,2:this.userInfo.name,3:this.userInfo.avatarUrl}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithInsertRecordMutation=function(e,n){var i=this,o={};return Object.keys(this.delta.indexes).forEach((function(t){o[t]=(0,f.nn)(i.delta.indexes[t],e.delta.indexes[t],n)})),[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:o}),userInfo:this.userInfo})]},n.transformWithDeleteRecordMutation=function(e){var n=this,i={};return Object.keys(this.delta.indexes).forEach((function(t){i[t]=(0,f.pS)(n.delta.indexes[t],e.delta.indexes[t])})),[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:i}),userInfo:this.userInfo})]},n.transformWithMoveRecordMutation=function(e){var n,i=(0,f.Fd)(this.delta.indexes[this.viewId],e.delta),o=Object.assign(Object.assign({},this.delta.indexes),((n={})[this.viewId]=i,n));return[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:o}),userInfo:this.userInfo})]},n.transformWithInsertViewMutation=function(e){var n,i=this.delta.indexes,o=e.delta.properties.recordIds.length,r=e.delta.viewId,s=Object.assign(Object.assign({},i),((n={})[r]=o,n));return[new t({tableId:this.tableId,viewId:this.viewId,delta:{recordId:this.delta.recordId,indexes:s,createdUserId:this.delta.createdUserId,createdTime:this.delta.createdTime},userInfo:this.userInfo})]},n.transformWithDeleteViewMutation=function(e){var n=e.viewId,i=Object.assign({},this.delta.indexes);return delete i[n],[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{indexes:i}),userInfo:this.userInfo})]},n.checkOnTable=function(e){var t=e.getRecordCount(),n=(0,v.tH)(t+1);if(!n.isValid)return{isSuccess:!1,error:(0,d.d)(a.GP.TERMINATE_AND_WARNING,n.msg,n.code)};var i=(0,v.HK)(t+1,e.getFieldCount());if(!i.isValid)return{isSuccess:!1,error:(0,d.d)(a.GP.TERMINATE_AND_WARNING,i.msg,i.code)};for(var o=this.delta.indexes,l=0,c=Object.keys(o);l<c.length;l++){var u=c[l],h=o[u];if(!(0,r.isNumber)(h)||h<0||h>t)return{isSuccess:!1,error:(0,d.d)(a.GP.TERMINATE_AND_WARNING,s.Z.t("record_invalid_delete_index",{viewId:u,index:h,recordCount:t}))}}return{isSuccess:!0}},n.runOnTable=function(e){var t;e.setUserInfo(this.userInfo);var n=this.delta,i=n.recordId,o=n.indexes,r=n.createdTime,s=n.createdUserId;e.insertRecord(i,o),e.setPartialRecordsMeta(((t={})[i]={createdTime:r,createdUserId:s},t))},n.invertOnTable=function(e){var t=this.delta,n=t.recordId,i=t.indexes,o=[];return o.push(new c.Z({tableId:this.tableId,viewId:this.viewId,recordId:n,delta:{indexes:i}})),o},t}(h.Z);(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],I.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[I,Boolean]),(0,o.__metadata)("design:returntype",Array)],I.prototype,"transformWithInsertRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],I.prototype,"transformWithDeleteRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],I.prototype,"transformWithMoveRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.Z]),(0,o.__metadata)("design:returntype",Array)],I.prototype,"transformWithInsertViewMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[m.Z]),(0,o.__metadata)("design:returntype",Array)],I.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,l.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],I.prototype,"checkOnTable",null),t.Z=I},"../node_modules/@tencent/xtable-core/es/mutation/record/move-record.js":function(e,t,n){"use strict";var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),s=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),a=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/record/delete-record.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/record/insert-record.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/sort/sort-records.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),m=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),p=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3012,n.tableId=t.tableId,n.viewId=t.viewId,n.recordId=t.recordId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],recordId:e[3],delta:{source:e[4][1],target:e[4][2]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:this.recordId,4:{1:this.delta.source,2:this.delta.target}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithInsertRecordMutation=function(e){var n=e.viewId,i=e.delta.indexes[n],o=this.delta,r=(0,m.iG)(o,i);return[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:r})]},n.transformWithDeleteRecordMutation=function(e){var n=e.viewId,i=e.delta.indexes[n],o=this.delta,r=(0,m.k)(o,i);return r?[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:r})]:[]},n.transformWithMoveRecordMutation=function(e,n){if(this.viewId!==e.viewId)return[this];var i=(0,m._Z)(this.delta,e.delta,n);return i?[new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:i})]:[]},n.transformWithSortRecordsMutation=function(e){return[]},n.checkOnTable=function(e){var t=this.delta,n=t.source,i=t.target,o=e.getRecordCount();return!(0,s.isNumber)(n)||n<0||n>=o?{isSuccess:!1,error:(0,d.d)(a.GP.TERMINATE_AND_WARNING,r.Z.t("record_invalid_move_source_index",{source:n,recordCount:o}))}:!(0,s.isNumber)(i)||i<0||i>=o?{isSuccess:!1,error:(0,d.d)(a.GP.TERMINATE_AND_WARNING,r.Z.t("record_invalid_move_target_index",{target:i,recordCount:o}))}:{isSuccess:!0}},n.runOnTable=function(e){e.getViewByViewId(this.viewId).moveRecordIndex(this.recordId,this.delta.target)},n.invertOnTable=function(){var e=[];return e.push(new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:{source:this.delta.target,target:this.delta.source}})),e},t}(g.Z);(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[f.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithInsertRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithDeleteRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[v,Boolean]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithMoveRecordMutation",null),(0,o.__decorate)([(0,l.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h.Z]),(0,o.__metadata)("design:returntype",Array)],v.prototype,"transformWithSortRecordsMutation",null),(0,o.__decorate)([(0,l.w)("view","record"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],v.prototype,"checkOnTable",null),t.Z=v},"../node_modules/@tencent/xtable-core/es/mutation/record/set-record.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),s=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),a=n("../node_modules/lodash/difference.js"),l=n.n(a),d=n("../node_modules/lodash/intersection.js"),c=n.n(d),u=n("../node_modules/lodash/isEmpty.js"),h=n.n(u),g=n("../node_modules/lodash/isEqual.js"),f=n.n(g),m=function(){function e(e,t){this.recordIds=e,this.fieldIds=t}var t=e.prototype;return t.isEqual=function(e){return f()(this.recordIds,e.recordIds)&&f()(this.fieldIds,e.fieldIds)},t.isContain=function(e){var t=l()(this.recordIds,e.recordIds),n=l()(this.fieldIds,e.fieldIds);return h()(t)&&h()(n)},t.isCross=function(e){var t=c()(this.recordIds,e.recordIds).length>0,n=c()(this.fieldIds,e.fieldIds).length>0;return t&&n},t.getCross=function(t){return this.isCross(t)?new e(c()(this.recordIds,t.recordIds),c()(this.fieldIds,t.fieldIds)):null},t.getExcept=function(t){if(!this.isCross(t))return[this];var n=this.getCross(t),i=l()(this.recordIds,n.recordIds),o=l()(this.recordIds,n.fieldIds);if(h()(i)&&h()(o))return[];if(h()(o))return[new e(i,this.fieldIds)];if(h()(i))return[new e(this.recordIds,o)];var r=[];return r.push(new e(i,this.fieldIds)),r.push(new e(n.recordIds,o)),r},e}(),p=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),v=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),I=n("../node_modules/@tencent/xtable-core/es/mutation/record/delete-record.js"),y=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),_=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js");function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var C=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3013,n.tableId=t.tableId,n.viewId=t.viewId,n.recordId=t.recordId,n.delta=t.delta,n.userInfo=t.userInfo,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],recordId:e[3],delta:t.deserializeDelta(e[4]),userInfo:{id:e[5][1],name:e[5][2],avatarUrl:e[5][3]}})},t.deserializeDelta=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n],r=e[o],a=r[30],l=r[31],d=r[32],c=r[a];t[o]={type:a,modifiedUserId:l,modifiedTime:d?Number(d):void 0,value:s.p.get(a).deserializeCell(c)}}return t};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:this.recordId,4:this.serializeDelta(this.delta),5:{1:this.userInfo.id,2:this.userInfo.name,3:this.userInfo.avatarUrl}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteTableMutation=function(e){return this.isSameTable(e)?[]:[this]},n.transformWithSetRecordMutation=function(e,t){var n=new m([this.recordId],Object.keys(this.delta)),i=new m([e.recordId],Object.keys(e.delta));if(!n.isCross(i))return[this];if(t)return[this];if(i.isContain(n))return[];var o=n.getExcept(i);return this.transformExceptGridRange(o)},n.transformWithDeleteRecordMutation=function(e){return this.recordId===e.recordId?[]:[this]},n.checkOnTable=function(e){for(var t=0,n=Object.keys(this.delta);t<n.length;t++){var i=n[t];if(!e.getFieldByFieldId(i))return{isSuccess:!1,error:(0,v.d)(r.GP.TERMINATE_AND_WARNING,"set record mutation field id "+i+" not exist")}}return{isSuccess:!0}},n.runOnTable=function(e){e.setUserInfo(this.userInfo);var t=this.removeDeltaType(this.delta);e.setRecord(this.recordId,t)},n.invertOnTable=function(e){for(var n=[],i={},o=0,r=Object.keys(this.delta);o<r.length;o++){var s=r[o],a=e.getCell(this.recordId,s),l=e.getFieldByFieldId(s).getType();i[s]={type:l,value:a?a.value:null,modifiedUserId:this.delta[s].modifiedUserId}}return n.push(new t({tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:i,userInfo:this.userInfo})),n},n.serializeDelta=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var o,r=i[n],a=e[r],l=a.type,d=a.value,c=a.modifiedTime,u=a.modifiedUserId;t[r]=((o={})[l]=s.p.get(l).serializeCell(d),o[30]=l,o[31]=u,o[32]=c,o)}return t},n.removeDeltaType=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n],r=e[o],s=r.value,a=r.modifiedTime,l=r.modifiedUserId;t[o]={value:s,modifiedUserId:l},a&&(t[o].modifiedTime=a)}return t},n.transformExceptGridRange=function(e){for(var n,i=[],o=b(e);!(n=o()).done;)for(var r,s=n.value,a=s.recordIds,l=s.fieldIds,d=b(a);!(r=d()).done;){for(var c,u=r.value,h={},g=b(l);!(c=g()).done;){var f=c.value;h[f]=this.delta[f]}i.push(new t({tableId:this.tableId,viewId:this.viewId,recordId:u,delta:h,userInfo:this.userInfo}))}return i},t}(y.Z);(0,o.__decorate)([(0,p.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[_.Z]),(0,o.__metadata)("design:returntype",Array)],C.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,p.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[C,Boolean]),(0,o.__metadata)("design:returntype",Array)],C.prototype,"transformWithSetRecordMutation",null),(0,o.__decorate)([(0,p.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[I.Z]),(0,o.__metadata)("design:returntype",Array)],C.prototype,"transformWithDeleteRecordMutation",null),(0,o.__decorate)([(0,p.w)("view","record"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],C.prototype,"checkOnTable",null);var w=C},"../node_modules/@tencent/xtable-core/es/mutation/sort/sort-records.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("./node_modules/tslib/tslib.es6.js")),s=n("../node_modules/@tencent/xtable-core/es/model/view/utils/serializer/sort.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/record/delete-record.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/record/insert-record.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3022,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,o.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:{autoSort:e[3][1],sortInfos:s.n(e[3][2]),recordIds:e[3][3]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:{1:this.delta.autoSort,2:s.Z(this.delta.sortInfos),3:this.delta.recordIds}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithDeleteFieldMutation=function(e){var n=this.delta.sortInfos.filter((function(t){return t.fieldId!==e.fieldId}));return[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{sortInfos:n})})]},n.transformWithInsertRecordMutation=function(e){var n=e.delta;return[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{recordIds:(0,i.Z)(this.delta.recordIds).splice(n.indexes[this.viewId],0,n.recordId)})})]},n.transformWithDeleteRecordMutation=function(e){return[new t({tableId:this.tableId,viewId:this.viewId,delta:Object.assign(Object.assign({},this.delta),{recordIds:this.delta.recordIds.filter((function(t){return t!==e.recordId}))})})]},n.transformWithSortRecordsMutation=function(e,t){return this.viewId!==e.viewId||t?[this]:[]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){var t=this.delta,n=t.sortInfos,i=t.recordIds,o=t.autoSort,r=e.getViewByViewId(this.viewId);r.setSortInfos(n),r.setRecordIds(i),r.setAutoSort(o)},n.invertOnTable=function(e){var n=e.getViewByViewId(this.viewId);return[new t({tableId:this.tableId,viewId:this.viewId,delta:{sortInfos:n.getSortInfos(),recordIds:(0,i.Z)(n.getAllRecordIds()),autoSort:n.isAutoSort()}})]},t}(u.Z);(0,r.__decorate)([(0,a.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[h.Z]),(0,r.__metadata)("design:returntype",Array)],f.prototype,"transformWithInitTableMutation",null),(0,r.__decorate)([(0,a.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[g.Z]),(0,r.__metadata)("design:returntype",Array)],f.prototype,"transformWithDeleteViewMutation",null),(0,r.__decorate)([(0,a.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[l.Z]),(0,r.__metadata)("design:returntype",Array)],f.prototype,"transformWithDeleteFieldMutation",null),(0,r.__decorate)([(0,a.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[c.Z]),(0,r.__metadata)("design:returntype",Array)],f.prototype,"transformWithInsertRecordMutation",null),(0,r.__decorate)([(0,a.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[d.Z]),(0,r.__metadata)("design:returntype",Array)],f.prototype,"transformWithDeleteRecordMutation",null),(0,r.__decorate)([(0,a.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[f,Boolean]),(0,r.__metadata)("design:returntype",Array)],f.prototype,"transformWithSortRecordsMutation",null),(0,r.__decorate)([(0,a.w)("view"),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Object)],f.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js":function(e,t,n){"use strict";var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),s=function(e){function t(t){return e.call(this,t)||this}(0,i.Z)(t,e);var n=t.prototype;return n.run=function(e){var t=e.getTableByTableId(this.tableId);this.runOnTable(t)},n.check=function(e){var t=e.getTableByTableId(this.tableId);return this.checkOnTable(t)},n.invert=function(e){var t=e.getTableByTableId(this.tableId);return this.invertOnTable(t)},t}(n("../node_modules/@tencent/xtable-core/es/mutation/mutation.js").Z);(0,o.__decorate)([(0,r.w)("table"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],s.prototype,"check",null),t.Z=s},"../node_modules/@tencent/xtable-core/es/mutation/table/delete-table.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/xtable-core/es/mutation/base-mutation.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/table/insert-table.js"),l=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3002,n.tableId=t.tableId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){throw new Error("Method not implemented.")};var n=t.prototype;return n.serialize=function(){return{}},n.checkOnBase=function(e){return{isSuccess:!0}},n.runOnBase=function(e){e.deleteTable(this.tableId)},n.invertOnBase=function(e){var t=e.getTableByTableId(this.tableId),n={tableId:this.tableId,renewRecord:!1,isRecover:!0,delta:{title:t.getTitle(),index:e.getTableIndexById(this.tableId)}};return[new a.Z(n)]},t}(r.Z);(0,o.__decorate)([(0,s.w)("table"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],l.prototype,"checkOnBase",null)},"../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/web.url.to-json.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),s=n("../node_modules/@tencent/xtable-core/es/model/table/partial/description/default-settings.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),d=n("../node_modules/@tencent/xtable-core/es/utils/convertor/mutation-convertor.js");n("../node_modules/core-js/modules/es.object.keys.js");var c=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js");function u(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var o=e[i[n]],r=o[30],s=o[31],a=c.p.get(s).deserializeProperty(o[s]);t[i[n]]={title:r,type:s,property:a}}return t}var h=n("../node_modules/@tencent/xtable-core/es/utils/serialization/record-map.js"),g=n("../node_modules/@tencent/xtable-core/es/utils/serialization/table-description.js");n("../node_modules/core-js/modules/es.object.values.js"),n("../node_modules/core-js/modules/es.function.name.js");var f=n("../node_modules/@tencent/xtable-core/es/model/view/index.js"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3005,n.tableId=t.tableId,n.renewRecord=t.renewRecord,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],renewRecord:e[2],delta:{recordMap:(0,h.US)(e[3][1]),recordMetaMap:(0,h.YZ)(e[3][2]),fieldMap:u(e[3][3]),views:e[3][4].map((function(e){return function(e){var t=e[32];return{id:e[30],title:e[31],type:t,owner:e[34],publicLevel:e[35],properties:f.N.get(t).deserializeProperty(e[t])}}(e)})),userMap:(i=e[3][5],Object.values(i).reduce((function(e,t){return e[t[1]]={id:t[1],name:t[2],avatarUrl:t[3]},e}),{})),externalDataSourceMap:e[3][6]?(n=e[3][6],Object.keys(n).reduce((function(e,t){return e[t]={resourceId:n[t][1],dataSourceConfig:{dataSourceType:n[t][2][1],externalFieldIdByFieldId:n[t][2][2]}},e}),{})):void 0,description:e[3][7]?(0,g.uI)(e[3][7]):(0,s.$R)()}});var n,i};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.renewRecord,3:{1:(0,h.fX)(this.delta.recordMap),2:(0,h.EW)(this.delta.recordMetaMap),3:(n=this.delta.fieldMap,Object.keys(n).reduce((function(e,t){var i,o=n[t],r=o.title,s=o.type,a=o.property;return e[t]=((i={30:r,31:s})[s]=c.p.get(s).serializeProperty(a),i),e}),{})),4:this.delta.views.map((function(e){return function(e){var t,n=e.id,i=e.title,o=e.type,r=e.owner,s=e.publicLevel,a=e.properties;return(t={30:n,31:i,32:o,34:r,35:s})[o]=f.N.get(o).serializeProperty(a),t}(e)})),5:(t=this.delta.userMap,Object.values(t).reduce((function(e,t){return e[t.id]={1:t.id,2:t.name,3:t.avatarUrl},e}),{})),6:this.delta.externalDataSourceMap?(e=this.delta.externalDataSourceMap,Object.keys(e).reduce((function(t,n){return t[n]={1:e[n].resourceId,2:{1:e[n].dataSourceConfig.dataSourceType,2:e[n].dataSourceConfig.externalFieldIdByFieldId}},t}),{})):null,7:(0,g.ex)(this.delta.description)}};var e,t,n},n.transformWithInitTableMutation=function(e,t){return t?[this]:[e]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){var t=e.fromSnapshot({recordMap:this.delta.recordMap,recordMetaMap:this.delta.recordMetaMap,fieldMap:this.delta.fieldMap,views:this.delta.views.map((function(e){return e.id})),viewMap:this.delta.views.reduce((function(e,t){return e[t.id]=t,e}),{}),userMap:this.delta.userMap,resourceMap:{attachments:{}},commentMap:{},mentionMap:{},externalDataSourceMap:this.delta.externalDataSourceMap||void 0,description:this.delta.description||null});t.isSuccess||r.k.error("Init Table Error，Error Message: "+t.error.errorMessage)},n.invertOnTable=function(e){return[(0,d.Xr)(e.toJSON())]},t}(l.Z);(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[m,Boolean]),(0,o.__metadata)("design:returntype",Array)],m.prototype,"transformWithInitTableMutation",null)},"../node_modules/@tencent/xtable-core/es/mutation/table/insert-table.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),r=n("../node_modules/@tencent/xtable-core/es/mutation/base-mutation.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/table/delete-table.js"),l=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3001,n.tableId=t.tableId,n.isRecover=t.isRecover,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){throw new Error("Method not implemented.")};var n=t.prototype;return n.serialize=function(){return{}},n.checkOnBase=function(e){return this.tableId?this.delta.title?this.delta.index<0||this.delta.index>e.getTableCount()?{isSuccess:!1,error:(0,s.d)(o.GP.TERMINATE_AND_WARNING,"Wrong Mutation Index Param:"+this.delta.index)}:{isSuccess:!0}:{isSuccess:!1,error:(0,s.d)(o.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [title:"+this.delta.title+"]")}:{isSuccess:!1,error:(0,s.d)(o.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [tableId:"+this.tableId+"]")}},n.runOnBase=function(e){e.insertTable({tableId:this.tableId,renewRecord:this.renewRecord,isRecover:this.isRecover,delta:this.delta})},n.invertOnBase=function(e){return[new a.Z({tableId:this.tableId,delta:{index:this.delta.index}})]},t}(r.Z)},"../node_modules/@tencent/xtable-core/es/mutation/table/move-table.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/base-mutation.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),c=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3003,n.tableId=t.tableId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){throw new Error("Method not implemented.")};var n=t.prototype;return n.serialize=function(){return{}},n.checkOnBase=function(e){if(this.delta.source!==e.getTableIndexById(this.tableId))return{isSuccess:!1,error:(0,d.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation Source Params:"+this.delta.source)};var t=e.getTableCount();return!(0,r.isNumber)(this.delta.target)||this.delta.target<0||this.delta.target>=t?{isSuccess:!1,error:(0,d.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation Target Params:"+this.delta.target)}:{isSuccess:!0}},n.runOnBase=function(e){e.moveTable(this.tableId,this.delta.source,this.delta.target)},n.invertOnBase=function(e){return[new t({tableId:this.tableId,delta:{source:this.delta.target,target:this.delta.source}})]},t}(a.Z);(0,o.__decorate)([(0,l.w)("table"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],c.prototype,"checkOnBase",null)},"../node_modules/@tencent/xtable-core/es/mutation/table/set-table-attributes.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.string.link.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/xtable-core/es/mutation/base-mutation.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),l=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3004,n.tableId=t.tableId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){var n={};return e[2][1]&&(n.title=e[2][1]),e[2][2]&&(n.externalDataSourceMap=function(e){var t={};return e[1]&&(t.link=Object.keys(e[1]).reduce((function(t,n){var i;return Object.assign(Object.assign({},t),((i={})[n]={resourceId:e[1][n][1],dataSourceConfig:{dataSourceType:e[1][n][2][1],externalFieldIdByFieldId:e[1][n][2][2]}},i))}),{})),e[2]&&(t.unlink=e[2]),t}(e[2][2])),new t({tableId:e[1],delta:n})};var n=t.prototype;return n.serialize=function(){var e={};return this.delta.title&&(e[1]=this.delta.title),this.delta.externalDataSourceMap&&(e[2]=function(e){var t={};return e.link&&(t[1]=Object.keys(e.link).reduce((function(t,n){var i;return Object.assign(Object.assign({},t),((i={})[n]={1:e.link[n].resourceId,2:{1:e.link[n].dataSourceConfig.dataSourceType,2:e.link[n].dataSourceConfig.externalFieldIdByFieldId}},i))}),{})),e.unlink&&(t[2]=e.unlink),t}(this.delta.externalDataSourceMap)),{1:this.tableId,2:e}},n.transformWithInitTableMutation=function(e){return[]},n.checkOnBase=function(e){return{isSuccess:!0}},n.runOnBase=function(e){var t=e.getTableByTableId(this.tableId);this.delta.title&&t.setTitle(this.delta.title),this.delta.externalDataSourceMap&&(this.delta.externalDataSourceMap.link&&t.linkExternalDataSource(this.delta.externalDataSourceMap.link),this.delta.externalDataSourceMap.unlink&&t.unlinkExternalDataSource(this.delta.externalDataSourceMap.unlink))},n.invertOnBase=function(e){var n=e.getTableByTableId(this.tableId);return this.delta.title?[new t({tableId:this.tableId,delta:{title:n.getTitle()}})]:[]},t}(r.Z);(0,o.__decorate)([(0,s.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[a.Z]),(0,o.__metadata)("design:returntype",Array)],l.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,s.w)("table"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],l.prototype,"checkOnBase",null)},"../node_modules/@tencent/xtable-core/es/mutation/table/set-table-description.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/xtable-core/es/model/table/partial/description/default-settings.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/table/delete-table.js"),d=n("../node_modules/@tencent/xtable-core/es/utils/serialization/table-description.js"),c=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3027,n.tableId=t.tableId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],delta:e[2]?{value:e[2][1],textFormat:(0,d.AB)(e[2][2]),editorProperties:(0,d.BL)(e[2][3])}:null})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.delta?{1:this.delta.value,2:(0,d.pk)(this.delta.textFormat),3:(0,d.Do)(this.delta.editorProperties)}:null}},n.transformWithDeleteTableMutation=function(e){return[]},n.transformWithSetTableDescriptionMutation=function(e,t){return t?[this]:[]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){this.delta?e.setDescription(this.delta):e.setDescription((0,r.$R)())},n.invertOnTable=function(e){return[new t({tableId:this.tableId,delta:e.getClonedDescription()})]},t}(a.Z);(0,o.__decorate)([(0,s.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.Z]),(0,o.__metadata)("design:returntype",Array)],c.prototype,"transformWithDeleteTableMutation",null),(0,o.__decorate)([(0,s.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c,Boolean]),(0,o.__metadata)("design:returntype",Array)],c.prototype,"transformWithSetTableDescriptionMutation",null)},"../node_modules/@tencent/xtable-core/es/mutation/transform-util.js":function(e,t,n){"use strict";function i(e,t){var n=t.source,i=t.target;return n<e&&e<=i?e-1:i<=e&&e<n?e+1:e===n?i:e}function o(e,t){var n=e.source,i=e.target;return n<t&&t<=i?{source:n,target:i-1}:i<=t&&t<n?{source:n-1,target:i}:n===t?null:t<n&&t<i?{source:n-1,target:i-1}:{source:n,target:i}}function r(e,t){var n=e.source,i=e.target;return n<t&&t<=i?{source:n,target:i+1}:i<t&&t<=n?{source:n+1,target:i}:t<=n&&t<=i?{source:n+1,target:i+1}:{source:n,target:i}}function s(e,t,n){var i=e.source,o=e.target,r=t.source,s=t.target,h=i,g=o;if(i===r)return n?{source:s,target:g}:null;var f=u(t);return(l(i,r,s)||i===s)&&(h+=f,i===s&&o===r&&d(e)&&(h-=f)),l(o,r,s)&&(g+=f),o===r&&(c(e,t)||i===s&&d(e))&&(g+=f),{source:h,target:o!==s?g:a(g,e,t,n)}}function a(e,t,n,i){return c(t,n)?i?e+u(t):e:e-u(t)}function l(e,t,n){var i=Math.max(t,n),o=Math.min(t,n);return e<i&&e>o}function d(e){return e.source>e.target}function c(e,t){return(e.source-e.target)*(t.source-t.target)>=0}function u(e){return function(e){return e.source<e.target}(e)?-1:d(e)?1:0}function h(e,t){var n=t.source,i=t.target;return n<e&&e<=i?e-1:i<e&&e<n?e+1:e}function g(e,t,n){return e>t||e===t&&n?e+1:e}function f(e,t){return e>t?e-1:e}function m(e,t){return e>=t?e+1:e}function p(e,t){return e>t?e-1:e}n.d(t,{Fd:function(){return h},HN:function(){return p},Ph:function(){return i},XE:function(){return m},_Z:function(){return s},iG:function(){return r},k:function(){return o},nn:function(){return g},pS:function(){return f}})},"../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/view/move-view.js"),u=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3007,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:{index:e[3][1]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:{1:this.delta.index}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithDeleteViewMutation=function(e){var n=this.delta.index,i=e.delta.index;return n===i?[]:[new t({tableId:this.tableId,viewId:this.viewId,delta:{index:(0,l.HN)(n,i)}})]},n.transformWithInsertViewMutation=function(e){var n=this.delta.index,i=e.delta.index;return[new t({tableId:this.tableId,viewId:this.viewId,delta:{index:(0,l.XE)(n,i)}})]},n.transformWithMoveViewMutation=function(e){var n=e.delta,i=n.source,o=n.target,r=this.delta.index,s=(0,l.Ph)(r,{source:i,target:o});return[new t({tableId:this.tableId,viewId:this.viewId,delta:{index:s}})]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){e.deleteView(this.viewId)},n.invertOnTable=function(e){var t=e.getViewByViewId(this.viewId),n={tableId:this.tableId,delta:{viewId:this.viewId,type:t.type,title:t.getTitle(),index:e.getViewIndex(this.viewId),owner:t.getOwnerId(),publicLevel:t.getPublicLevel(),properties:t.getProperties()}};return[new d.Z(n)]},t}(s.Z);(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[a.Z]),(0,o.__metadata)("design:returntype",Array)],u.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[u]),(0,o.__metadata)("design:returntype",Array)],u.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.Z]),(0,o.__metadata)("design:returntype",Array)],u.prototype,"transformWithInsertViewMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],u.prototype,"transformWithMoveViewMutation",null),(0,o.__decorate)([(0,r.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],u.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/tslib/tslib.es6.js")),s=n("../node_modules/lodash/cloneDeep.js"),a=n.n(s),l=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),d=n("../node_modules/@tencent/xtable-core/es/model/view/index.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/utils/ability/group.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/field/insert-field.js"),f=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js"),m=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),p=n("../node_modules/@tencent/xtable-core/es/mutation/record/delete-record.js"),v=n("../node_modules/@tencent/xtable-core/es/mutation/record/insert-record.js"),I=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),y=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),_=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),b=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),M=n("../node_modules/@tencent/xtable-core/es/mutation/view/move-view.js"),C=n("../node_modules/@tencent/xtable-core/es/mutation/view/set-view-attributes.js"),w=n("../node_modules/@tencent/xtable-core/es/utils/title.js"),T=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3006,n.tableId=t.tableId,n.delta=t.delta,n}(0,o.Z)(t,e),t.deserialize=function(e){var n=e[2][32];return new t({tableId:e[1],delta:{viewId:e[2][30],title:e[2][31],type:n,index:e[2][33],owner:e[2][34],publicLevel:e[2][35],properties:d.N.get(n).deserializeProperty(e[2][n])}})};var n=t.prototype;return n.serialize=function(){var e;return{1:this.tableId,2:(e={30:this.delta.viewId,31:this.delta.title,32:this.delta.type,33:this.delta.index,34:this.delta.owner,35:this.delta.publicLevel},e[this.delta.type]=d.N.get(this.delta.type).serializeProperty(this.delta.properties),e)}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithInsertViewMutation=function(e,n){var i=(0,_.nn)(this.delta.index,e.delta.index,n);return this.delta.title!==e.delta.title?[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{index:i})})]:n?[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{index:i,title:(0,w.KD)(this.delta.title,this.delta.viewId)})})]:[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{index:i})}),new C.Z({tableId:e.tableId,viewId:e.delta.viewId,delta:{title:(0,w.KD)(e.delta.title,e.delta.viewId)}})]},n.transformWithDeleteViewMutation=function(e){return[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{index:(0,_.pS)(this.delta.index,e.delta.index)})})]},n.transformWithMoveViewMutation=function(e){return[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{index:(0,_.Fd)(this.delta.index,e.delta)})})]},n.transformWithSetViewAttributesMutation=function(e,n){return e.delta.title!==this.delta.title?[this]:n?[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{title:(0,w.KD)(this.delta.title,this.delta.viewId)})})]:[this,new C.Z({tableId:e.tableId,viewId:e.viewId,delta:{title:(0,w.KD)(e.delta.title,e.viewId)}})]},n.transformWithInsertRecordMutation=function(e){return[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{properties:Object.assign(Object.assign({},this.delta.properties),{recordIds:[].concat((0,i.Z)(this.delta.properties.recordIds),[e.delta.recordId])})})})]},n.transformWithDeleteRecordMutation=function(e){return[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{properties:Object.assign(Object.assign({},this.delta.properties),{recordIds:this.delta.properties.recordIds.filter((function(t){return t!==e.recordId}))})})})]},n.transformWithSetFieldAttributesMutation=function(e){if(!(0,f.l)(e.delta))return[this];var n=this.delta.properties,i=n.colInfos,o=void 0===i?{}:i,r=n.sortInfos,s=void 0===r?[]:r,a=n.filterInfos,l=void 0===a?null:a,d=l;if(l){var u=l.conditions.filter((function(t){return t.fieldId!==e.fieldId}));d=u.length?Object.assign(Object.assign({},l),{conditions:u}):null}return[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{properties:Object.assign(Object.assign(Object.assign({},this.delta.properties),{colInfos:Object.keys(o).reduce((function(t,n){var i;return Object.assign(Object.assign({},t),((i={})[n]=e.fieldId===n?Object.assign(Object.assign({},o[n]),{statType:void 0}):o[n],i))}),{}),sortInfos:s.filter((function(t){return t.fieldId!==e.fieldId})),filterInfos:d}),(0,c.hn)(this.delta.properties,(function(t){return t.filter((function(t){return t.fieldId!==e.fieldId}))})))})})]},n.transformWithInsertFieldMutation=function(e){return[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{properties:Object.assign(Object.assign({},this.delta.properties),{fieldIds:[].concat((0,i.Z)(this.delta.properties.fieldIds),[e.delta.fieldId])})})})]},n.transformWithDeleteFieldMutation=function(e){var n=this.delta.properties,i=n.fieldIds,o=n.colInfos,r=void 0===o?{}:o,s=n.sectionInfos,a=void 0===s?{}:s,l=n.sortInfos,d=void 0===l?[]:l,u=n.filterInfos,h=void 0===u?null:u,g=h;if(h){var f=h.conditions.filter((function(t){return t.fieldId!==e.fieldId}));g=f.length?Object.assign(Object.assign({},h),{conditions:f}):null}return[new t({tableId:this.tableId,delta:Object.assign(Object.assign({},this.delta),{properties:Object.assign(Object.assign(Object.assign({},this.delta.properties),{fieldIds:i.filter((function(t){return t!==e.fieldId})),colInfos:this.removeSpecifiedFieldInfo(r,[e.fieldId]),sectionInfos:this.removeSpecifiedFieldInfo(a,[e.fieldId]),sortInfos:d.filter((function(t){return t.fieldId!==e.fieldId})),filterInfos:g}),(0,c.hn)(this.delta.properties,(function(t){return t.filter((function(t){return t.fieldId!==e.fieldId}))})))})})]},n.checkOnTable=function(e){return this.delta.viewId?this.delta.title&&this.delta.type?this.delta.index<0||this.delta.index>e.getViewCount()?{isSuccess:!1,error:(0,m.d)(l.GP.TERMINATE_AND_WARNING,"Wrong Mutation Index Param:"+this.delta.index)}:{isSuccess:!0}:{isSuccess:!1,error:(0,m.d)(l.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [title:"+this.delta.title+",type:"+this.delta.type+"]")}:{isSuccess:!1,error:(0,m.d)(l.GP.TERMINATE_AND_WARNING,"Invalid Mutation Params [viewId: "+this.delta.viewId+"]")}},n.runOnTable=function(e){e.insertView(a()(this.delta))},n.invertOnTable=function(e){return[new b.Z({tableId:this.tableId,viewId:this.delta.viewId,delta:{index:this.delta.index}})]},n.removeSpecifiedFieldInfo=function(e,t){var n=new Set(t);return Object.keys(e).reduce((function(t,i){return n.has(i)||(t[i]=e[i]),t}),{})},t}(I.Z);(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[y.Z]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithInitTableMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[T,Boolean]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithInsertViewMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[b.Z]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithDeleteViewMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[M.Z]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithMoveViewMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[C.Z,Boolean]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithSetViewAttributesMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[v.Z]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithInsertRecordMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[p.Z]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithDeleteRecordMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[f.Z]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithSetFieldAttributesMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[g.Z]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithInsertFieldMutation",null),(0,r.__decorate)([(0,u.v)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[h.Z]),(0,r.__metadata)("design:returntype",Array)],T.prototype,"transformWithDeleteFieldMutation",null)},"../node_modules/@tencent/xtable-core/es/mutation/view/move-view.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("./node_modules/tslib/tslib.es6.js"),r=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-error.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),c=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),u=n("../node_modules/@tencent/xtable-core/es/mutation/transform-util.js"),h=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),g=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js"),f=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3008,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){return new t({tableId:e[1],viewId:e[2],delta:{source:e[3][1],target:e[3][2]}})};var n=t.prototype;return n.serialize=function(){return{1:this.tableId,2:this.viewId,3:{1:this.delta.source,2:this.delta.target}}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithInsertViewMutation=function(e){return[new t({tableId:this.tableId,viewId:this.viewId,delta:(0,u.iG)(this.delta,e.delta.index)})]},n.transformWithDeleteViewMutation=function(e){var n=(0,u.k)(this.delta,e.delta.index);return n?[new t({tableId:this.tableId,viewId:this.viewId,delta:n})]:[]},n.transformWithMoveViewMutation=function(e,n){var i=(0,u._Z)(this.delta,e.delta,n);return i?[new t({tableId:this.tableId,viewId:this.viewId,delta:i})]:[]},n.checkOnTable=function(e){if(this.delta.source!==e.getViewIndex(this.viewId))return{isSuccess:!1,error:(0,l.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation Source Params:"+this.delta.source)};var t=e.getViewCount();return!(0,r.isNumber)(this.delta.target)||this.delta.target<0||this.delta.target>=t?{isSuccess:!1,error:(0,l.d)(s.GP.TERMINATE_AND_WARNING,"Wrong Mutation Target Params:"+this.delta.target)}:{isSuccess:!0}},n.runOnTable=function(e){e.moveView(this.viewId,this.delta.source,this.delta.target)},n.invertOnTable=function(e){return[new t({tableId:this.tableId,viewId:this.viewId,delta:{source:this.delta.target,target:this.delta.source}})]},t}(d.Z);(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[c.Z]),(0,o.__metadata)("design:returntype",Array)],f.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[g.Z]),(0,o.__metadata)("design:returntype",Array)],f.prototype,"transformWithInsertViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h.Z]),(0,o.__metadata)("design:returntype",Array)],f.prototype,"transformWithDeleteViewMutation",null),(0,o.__decorate)([(0,a.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[f,Boolean]),(0,o.__metadata)("design:returntype",Array)],f.prototype,"transformWithMoveViewMutation",null),(0,o.__decorate)([(0,a.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],f.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/mutation/view/set-view-attributes.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/tslib/tslib.es6.js")),r=n("../node_modules/@tencent/xtable-core/es/mutation/decorator.js"),s=n("../node_modules/@tencent/xtable-core/es/mutation/table-mutation.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),d=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js"),c=n("../node_modules/@tencent/xtable-core/es/utils/object.js"),u=n("../node_modules/@tencent/xtable-core/es/utils/title.js"),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).id=3009,n.tableId=t.tableId,n.viewId=t.viewId,n.delta=t.delta,n}(0,i.Z)(t,e),t.deserialize=function(e){var n=e[3],i={};return(0,c.n)(n,1)&&(i.title=n[1]),(0,c.n)(n,2)&&(i.publicLevel=n[2]),new t({tableId:e[1],viewId:e[2],delta:i})};var n=t.prototype;return n.serialize=function(){var e={};return(0,c.n)(this.delta,"title")&&(e[1]=this.delta.title),(0,c.n)(this.delta,"publicLevel")&&(e[2]=this.delta.publicLevel),{1:this.tableId,2:this.viewId,3:e}},n.transformWithInitTableMutation=function(e){return[]},n.transformWithInsertViewMutation=function(e,n){return e.delta.title!==this.delta.title?[this]:n?[new t({tableId:this.tableId,viewId:this.viewId,delta:{title:(0,u.KD)(this.delta.title,this.viewId)}})]:[this,new t({tableId:e.tableId,viewId:e.delta.viewId,delta:{title:(0,u.KD)(e.delta.title,e.delta.viewId)}})]},n.transformWithDeleteView=function(e){return this.viewId===e.viewId?[]:[this]},n.transformWithSetViewAttributesMutation=function(e,n){return this.viewId===e.viewId?[new t({tableId:this.tableId,viewId:this.viewId,delta:n?Object.assign(Object.assign({},this.delta),e.delta):Object.assign(Object.assign({},e.delta),this.delta)})]:e.delta.title&&this.delta.title&&e.delta.title===this.delta.title?n?[new t({tableId:this.tableId,viewId:this.viewId,delta:{title:(0,u.KD)(this.delta.title,this.viewId)}})]:[this,new t({tableId:e.tableId,viewId:e.viewId,delta:{title:(0,u.KD)(e.delta.title,e.viewId)}})]:[this]},n.checkOnTable=function(e){return{isSuccess:!0}},n.runOnTable=function(e){e.getViewByViewId(this.viewId).setAttributes(this.delta)},n.invertOnTable=function(e){var n=e.getViewByViewId(this.viewId),i={title:n.getTitle(),publicLevel:n.getPublicLevel()},o=Object.keys(this.delta).reduce((function(e,t){var n;return Object.keys(i).includes(t)?Object.assign(Object.assign({},e),((n={})[t]=i[t],n)):e}),{});return[new t({tableId:this.tableId,viewId:this.viewId,delta:o})]},t}(s.Z);(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[a.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithInitTableMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.Z,Boolean]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithInsertViewMutation",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.Z]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithDeleteView",null),(0,o.__decorate)([(0,r.v)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[h,Boolean]),(0,o.__metadata)("design:returntype",Array)],h.prototype,"transformWithSetViewAttributesMutation",null),(0,o.__decorate)([(0,r.w)("view"),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],h.prototype,"checkOnTable",null)},"../node_modules/@tencent/xtable-core/es/service/active-state/index.interface.js":function(e,t,n){"use strict";var i;n.d(t,{A:function(){return i}}),function(e){e[e.SwitchTable=0]="SwitchTable",e[e.Other=1]="Other",e[e.Meeting=2]="Meeting"}(i||(i={}))},"../node_modules/@tencent/xtable-core/es/service/editable-status/index.interface.js":function(e,t,n){"use strict";n.d(t,{B:function(){return r},H:function(){return i}});var i,o=n("../node_modules/@tencent/containerized/build/main/index.js");!function(e){e[e.NOT_EDITABLE=1]="NOT_EDITABLE",e[e.PARTIAL_EDITABLE=2]="PARTIAL_EDITABLE",e[e.ALL_EDITABLE=3]="ALL_EDITABLE"}(i||(i={}));var r=(0,o.yh)("IEditableStatusService")},"../node_modules/@tencent/xtable-core/es/service/last-view/utils/index.js":function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var i=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),o=n("../node_modules/@tencent/xtable-core/es/service/table-cache/index.js"),r=n("../node_modules/@tencent/xtable-core/es/service/table-cache/index.interface.js");function s(e,t){var n;if(t)return t.getItem({tableId:e,key:i.T9.LAST_VIEW_ID});var s=localStorage.getItem(r.U);if(s){var a=JSON.parse(s),l=o.i.generateCacheKey(i.T9.LAST_VIEW_ID,e);return null===(n=null===a||void 0===a?void 0:a.data)||void 0===n?void 0:n[l]}}},"../node_modules/@tencent/xtable-core/es/service/table-cache/index.interface.js":function(e,t,n){"use strict";n.d(t,{U:function(){return o},z:function(){return r}});var i=n("../node_modules/@tencent/containerized/build/main/index.js"),o="SMARTSHEET_TABLE_CACHE_MAP",r=(0,i.yh)("ITableCacheService")},"../node_modules/@tencent/xtable-core/es/service/table-cache/index.js":function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=n("../node_modules/@tencent/containerized/build/main/index.js"),r=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),s=n("../node_modules/@tencent/xtable-core/es/service/table-cache/index.interface.js"),a=n("../node_modules/@tencent/xtable-core/es/utils/lru-cahce.js"),l=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).lruCache=new a.z({cacheKey:s.U,capacity:r.T9.TABLE_CACHE_CAPACITY}),t}(0,i.Z)(t,e),t.generateCacheKey=function(e,t,n){return n?t+" "+(null!==n&&void 0!==n?n:"")+" "+e:t+" "+e};var n=t.prototype;return n.getItem=function(e){var n=e.tableId,i=e.viewId,o=e.key,r=t.generateCacheKey(o,n,i);return this.lruCache.get(r)},n.setItem=function(e){var n=e.tableId,i=e.viewId,o=e.key,r=e.value,s=t.generateCacheKey(o,n,i);this.lruCache.set(s,r)},n.removeItem=function(e){var n=e.tableId,i=e.viewId,o=e.key,r=t.generateCacheKey(o,n,i);this.lruCache.remove(r)},t}(o.JT)},"../node_modules/@tencent/xtable-core/es/service/table-description/event.js":function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var i=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),o={contextMenuEmitter:new i.Emitter,visibleEmitter:new i.Emitter}},"../node_modules/@tencent/xtable-core/es/utils/ability/index.js":function(e,t,n){"use strict";n.d(t,{WE:function(){return u},_n:function(){return d},dv:function(){return c}}),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i,o=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),r=n("../node_modules/@tencent/xtable-core/es/model/view/utils/type-guard/group.js"),s=n("../node_modules/@tencent/xtable-core/es/utils/report/mutation-report.service.js");function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){return 3013!==t.id?i.UNAFFECTED:function(e,t){return!e.viewFilter.checkRecordId(t.recordId)}(e,t)?i.FILTERED:function(e,t){if(!(0,r.r)(e))return!1;var n=e.getGroupInfos();if(0===n.length)return!0;var i=Object.keys(t.delta);return n.some((function(e){return i.includes(e.fieldId)}))}(e,t)?i.GROUPED:function(e,t){if(!e.isAutoSort())return!1;var n=Object.keys(t.delta);if(!e.viewSort.getSortFieldIds().some((function(e){return n.indexOf(e)>-1})))return!1;var i=e.getOldDisplayedRecordIds().indexOf(t.recordId),o=e.getDisplayedRecordIds().indexOf(t.recordId);return!(i===o||-1===i)}(e,t)?i.AUTO_SORTED:void 0}function c(e,t){return new RegExp("^"+e+"(\\s\\d+)?$").test(t)}function u(e){for(var t,n=e.fieldMap,i=e.recordMap,o=e.views,r=e.viewMap,s=Object.keys(n).length,l=Object.keys(i).length,d=a(o);!(t=d()).done;){var c=t.value,u=r[c].properties.fieldIds.length;if(u!==s){h("视图["+c+"]与表格数据不一致：视图列数量"+u+"，表格列数量"+s);break}var g=r[c].properties.recordIds.length;if(g!==l){h("视图["+c+"]与表格数据不一致：视图行数量"+g+"，表格行数量"+l);break}}}function h(e){o.k.error(e),(0,s.C)(e)}!function(e){e[e.UNAFFECTED=0]="UNAFFECTED",e[e.GROUPED=1]="GROUPED",e[e.FILTERED=2]="FILTERED",e[e.AUTO_SORTED=3]="AUTO_SORTED"}(i||(i={}))},"../node_modules/@tencent/xtable-core/es/utils/check/check-id-param.js":function(e,t,n){"use strict";n.d(t,{p:function(){return c}}),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js");function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){return t?e.getTableByTableId(t)?{isSuccess:!0}:{isSuccess:!1,msg:i.Z.t("table_nonexist",{tableId:t})}:{isSuccess:!1,msg:i.Z.t("table_id_empty",{tableId:t})}}function a(e,t){return t?e.getViewByViewId(t)?{isSuccess:!0}:{isSuccess:!1,msg:i.Z.t("view_nonexist",{viewId:t})}:{isSuccess:!1,msg:i.Z.t("view_id_empty",{viewId:t})}}function l(e,t){return t?e.getFieldByFieldId(t)?{isSuccess:!0}:{isSuccess:!1,msg:i.Z.t("field_nonexist",{fieldId:t})}:{isSuccess:!1,msg:i.Z.t("field_id_empty",{fieldId:t})}}function d(e,t){return t?e.getRecordByRecordId(t)?{isSuccess:!0}:{isSuccess:!1,msg:i.Z.t("record_nonexist",{recordId:t})}:{isSuccess:!1,msg:i.Z.t("record_id_empty",{recordId:t})}}function c(e,t,n,r){for(var c,u={isSuccess:!0},h=o(r);!(c=h()).done;){var g=c.value;switch(g){case"table":u=s(t,e.tableId);break;case"view":u=a(n,e.viewId);break;case"field":u=l(n,e.fieldId);break;case"record":u=d(n,e.recordId);break;default:throw new Error(i.Z.t("check_type_error",{checkType:g}))}if(!u.isSuccess)break}return u}},"../node_modules/@tencent/xtable-core/es/utils/check/check-size-limit.js":function(e,t,n){"use strict";n.d(t,{HK:function(){return a},eV:function(){return l},ez:function(){return s},tH:function(){return r}});var i=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),o=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js");function r(e){return e>i.gU.MAXIMUM_RECORD_LIMIT?{isValid:!1,code:o.jK.MAXIMUM_RECORD_SIZE_REACHED,msg:"The maximum number of records in a single table cannot exceed "+i.gU.MAXIMUM_RECORD_LIMIT+"!"}:{isValid:!0}}function s(e){return e>i.gU.MAXIMUM_FIELD_LIMIT?{isValid:!1,code:o.jK.MAXIMUM_FIELD_SIZE_REACHED,msg:"The maximum number of fields in a single table cannot exceed "+i.gU.MAXIMUM_FIELD_LIMIT+"!"}:{isValid:!0}}function a(e,t){return t*e>i.gU.MAXIMUM_CELL_LIMIT?{isValid:!1,code:o.jK.MAXIMUM_CELL_SIZE_REACHED,msg:"The maximum number of cells in a single table cannot exceed "+i.gU.MAXIMUM_CELL_LIMIT+"!"}:{isValid:!0}}function l(e){return e>i.gU.MAXIMUM_VIEW_LIMIT?{isValid:!1,code:o.jK.MAXIMUM_VIEW_SIZE_REACHED,msg:"The maximum number of views in a single table cannot exceed "+i.gU.MAXIMUM_VIEW_LIMIT+"!"}:{isValid:!0}}},"../node_modules/@tencent/xtable-core/es/utils/convertor/default-values.js":function(e,t,n){"use strict";n.d(t,{q:function(){return I}}),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js");var i,o,r=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),s=n("../node_modules/@tencent/xtable-core/es/constant/config/id.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/common/base-time/base-time-field.interface.js"),l=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),d=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),c=n("../node_modules/@tencent/xtable-core/es/model/view/base-view/index.interface.js"),u=n("../node_modules/@tencent/xtable-core/es/model/view/gantt/index.interface.js"),h=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),g=n("../node_modules/@tencent/xtable-core/es/model/view/partial/card-view.js"),f=n("../node_modules/@tencent/xtable-core/es/utils/id.js"),m=n("../node_modules/@tencent/xtable-core/es/utils/title.js"),p=((i={})[h.bW.GRID]=[{type:d.f.TEXT,title:r.Z.t("text"),property:null},{type:d.f.NUMBER,title:r.Z.t("field_number"),property:{decimalPlaces:0,useSeparate:!0}},{type:d.f.SINGLE_SELECT,title:r.Z.t("single_choice"),property:{options:[],isMultiple:!1,isQuickAdd:!0}},{type:d.f.DATE_TIME,title:r.Z.t("date"),property:{format:a.c.YEAR_MONTH_DAY,autoFill:!1}},{type:d.f.IMAGE,title:r.Z.t("field_type_image"),property:null}],i[h.bW.KANBAN]=[{type:d.f.TEXT,title:r.Z.t("text"),property:null},{type:d.f.NUMBER,title:r.Z.t("field_number"),property:{decimalPlaces:0,useSeparate:!0}},{type:d.f.SINGLE_SELECT,title:r.Z.t("single_choice"),property:{options:(0,f.zx)({prefix:s.V.OPTION,num:3}).map((function(e,t){return{id:e,text:[r.Z.t("single_choice_default_value1"),r.Z.t("single_choice_default_value2"),r.Z.t("single_choice_default_value3")][t],style:t+1}})),isMultiple:!1,isQuickAdd:!0}},{type:d.f.DATE_TIME,title:r.Z.t("date"),property:{format:a.c.YEAR_MONTH_DAY,autoFill:!1}},{type:d.f.IMAGE,title:r.Z.t("field_type_image"),property:null}],i[h.bW.GALLERY]=[],i[h.bW.GANTT]=[],i),v=((o={})[h.bW.GRID]=[[]],o[h.bW.KANBAN]=[[null,null,[p[h.bW.KANBAN][2].property.options[0].id],null,null],[null,null,[p[h.bW.KANBAN][2].property.options[1].id],null,null],[null,null,[p[h.bW.KANBAN][2].property.options[1].id],null,null],[null,null,[p[h.bW.KANBAN][2].property.options[1].id],null,null],[null,null,[p[h.bW.KANBAN][2].property.options[1].id],null,null],[null,null,[p[h.bW.KANBAN][2].property.options[2].id],null,null],[null,null,[p[h.bW.KANBAN][2].property.options[2].id],null,null],[null,null,[p[h.bW.KANBAN][2].property.options[2].id],null,null],[null,null,null,null,null],[null,null,null,null,null]],o[h.bW.GALLERY]=[[]],o[h.bW.GANTT]=[[]],o),I=function(){function e(){}return e.generateDefaultFields=function(e,t){var n=null!==t&&void 0!==t?t:p[e],i=(0,f.zx)({prefix:s.V.FIELD,num:n.length}),o=i.reduce((function(e,t,i){var o;return Object.assign(Object.assign({},e),((o={})[t]=n[i],o))}),{});return{fieldIds:i,fieldMap:o}},e.generateDefaultRecords=function(t,n,i,o){for(var r=null!==o&&void 0!==o?o:v[t],a=(0,f.zx)({prefix:s.V.RECORD,num:o?r.length:10}),l={},d=function(e,t){var o=a[e],s={};n.forEach((function(t,n){var o,a=null===(o=r[e])||void 0===o?void 0:o[n];a&&(s[t]={value:a,modifiedUserId:i})})),l[o]=s},c=0,u=a.length;c<u;c++)d(c);var h=e.generateRecordMetaMap(Object.keys(l),i);return{recordIds:a,recordMap:l,recordMetaMap:h}},e.generateRecordMetaMap=function(e,t){for(var n={},i=0,o=e.length;i<o;i++)n[e[i]]={createdUserId:t};return n},e.generateDefaultViews=function(t,n,i,o,r,a){var l,d=(0,f.JU)({prefix:s.V.VIEW});return{viewIds:[d],viewMap:((l={})[d]={id:d,type:t,title:(0,m.yG)(h.Ql[t]),owner:r,publicLevel:c.t.PUBLIC,properties:e.getDefaultViewProperty(t,n,i,o,a)},l)}},e.updateModifiedUserInRecordMap=function(e,t){return Object.keys(e).reduce((function(n,i){var o;return Object.assign(Object.assign({},n),((o={})[i]=Object.keys(e[i]).reduce((function(n,o){var r;return Object.assign(Object.assign({},n),((r={})[o]={value:e[i][o].value,modifiedUserId:t},r))}),{}),o))}),{})},e.updateOwnerInViewModels=function(e,t){return e.map((function(e){return Object.assign(Object.assign({},e),{owner:t})}))},e.addFieldTypeToRecordMap=function(e,t){var n={};return Object.keys(e).forEach((function(i){var o=e[i];n[i]={},Object.keys(o).forEach((function(e){var r=o[e];n[i][e]=Object.assign(Object.assign({},r),{type:t[e].type})}))})),n},e.getDefaultViewProperty=function(e,t,n,i,o){var r;return((r={})[h.bW.GRID]={colInfos:t.reduce((function(e,t,i){var o;return Object.assign(Object.assign({},e),((o={})[t]={width:0===i?180:l.p.get(n[t].type).getDefaultWidth()},o))}),{}),rowHeightLevel:c.K.Short,frozenFieldCount:1,isAutoSort:!0,isFieldStatEnabled:!1,sortInfos:[],recordIds:i,fieldIds:t,filterInfos:null,groupInfos:null!==o&&void 0!==o?o:[]},r[h.bW.KANBAN]={fieldIds:t,recordIds:i,sectionInfos:{},isAutoSort:!0,sortInfos:[],groupInfos:null!==o&&void 0!==o?o:[],filterInfos:null,cardConfig:g.Jg.generateDefaultConfig()},r[h.bW.GALLERY]={cardConfig:g.Jg.generateDefaultConfig(),recordIds:i,fieldIds:t,sectionInfos:{},filterInfos:null,sortInfos:[],isAutoSort:!0},r[h.bW.GANTT]={ganttConfig:{startDateFieldId:"",endDateFieldId:"",labelFieldId:"",shouldHideWeekends:!1,colorConfig:{type:u.I.BY_SPECIFIC_COLOR,specificColor:u.L.BLUE}},recordIds:i,fieldIds:t,filterInfos:null,sortInfos:[],groupInfos:null!==o&&void 0!==o?o:[],colInfos:{},rowHeightLevel:c.K.Short,isAutoSort:!0},r)[e]},e}()},"../node_modules/@tencent/xtable-core/es/utils/convertor/mutation-convertor.js":function(e,t,n){"use strict";n.d(t,{FO:function(){return d},Ls:function(){return c},Xr:function(){return l}}),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/web.url.to-json.js");var i=n("../node_modules/@tencent/xtable-core/es/mutation/api.js"),o=n("../node_modules/@tencent/xtable-core/es/mutation/table/init-table.js"),r=n("../node_modules/@tencent/xtable-core/es/mutation/table/insert-table.js"),s=n("../node_modules/@tencent/xtable-core/es/utils/ability/index.js"),a=n("../node_modules/@tencent/xtable-core/es/utils/convertor/default-values.js");function l(e,t){void 0===t&&(t=!1),(0,s.WE)(e);var n=e.id,i=e.fieldMap,r=e.recordMap,l=e.recordMetaMap,d=e.viewMap,c=e.views,u=e.userMap,h=e.externalDataSourceMap,g=e.description;return new o.Z({tableId:n,renewRecord:t,delta:{fieldMap:i,recordMap:a.q.addFieldTypeToRecordMap(r,i),recordMetaMap:l,views:c.map((function(e){return d[e]})),userMap:u,externalDataSourceMap:h,description:g}})}function d(e,t,n){void 0===n&&(n=!1);var i=e.id,o=e.title;return[new r.Z({tableId:i,isRecover:!1,delta:{title:o,index:t}}),l(e,n)]}function c(e,t,n){var o="smartsheet\n",r=e.getTableByTableId(t);if(!r)return o+"[[]]";var s=l(r.toJSON(),n),a=i.Z.serializeMutation(s);return o+"[["+JSON.stringify(a)+"]]"}},"../node_modules/@tencent/xtable-core/es/utils/convertor/table-json-convertor.js":function(e,t,n){"use strict";n.d(t,{C:function(){return c},_:function(){return u}}),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js");var i=n("../node_modules/lodash/cloneDeep.js"),o=n.n(i),r=n("../node_modules/@tencent/xtable-core/es/model/field/common/group-field-types.js"),s=n("../node_modules/@tencent/xtable-core/es/model/table/partial/description/default-settings.js"),a=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),l=n("../node_modules/@tencent/xtable-core/es/mutation/api.js"),d=n("../node_modules/@tencent/xtable-core/es/utils/convertor/default-values.js");function c(e){var t,n=e.tableId,i=e.title,o=e.userInfo,l=e.viewType,c=e.fieldValues,u=e.cellValues,h=d.q.generateDefaultFields(l,c),g=h.fieldIds,f=h.fieldMap,m=d.q.generateDefaultRecords(l,g,o.id,u),p=m.recordIds,v=m.recordMap,I=m.recordMetaMap,y=l===a.bW.KANBAN?[{fieldId:g.find((function(e){return(0,r.q)(f[e].type)})),desc:!1}]:[],_=d.q.generateDefaultViews(l,g,f,p,o.id,y),b=_.viewIds,M=_.viewMap;return{id:n,title:i,fieldMap:f,recordMap:v,recordMetaMap:I,viewMap:M,views:b,userMap:(t={},t[o.id]=o,t),resourceMap:{attachments:{}},commentMap:{},mentionMap:{},externalDataSourceMap:{},description:(0,s.$R)()}}function u(e,t,n){var i,r=t.map((function(e){return o()(l.Z.deserializeMutation(e))})).find((function(e){return 3005===e.id}));if(!r)return null;var s=d.q.updateOwnerInViewModels(r.delta.views,n.id);return{id:e,title:"Table From Template",fieldMap:r.delta.fieldMap,recordMap:d.q.updateModifiedUserInRecordMap(r.delta.recordMap,n.id),recordMetaMap:d.q.generateRecordMetaMap(Object.keys(r.delta.recordMetaMap),n.id),viewMap:s.reduce((function(e,t){var n;return Object.assign(Object.assign({},e),((n={})[t.id]=t,n))}),{}),views:s.map((function(e){return e.id})),userMap:(i={},i[n.id]=n,i),resourceMap:{attachments:{}},commentMap:{},mentionMap:{},externalDataSourceMap:r.delta.externalDataSourceMap,description:r.delta.description||null}}},"../node_modules/@tencent/xtable-core/es/utils/decorators/model/mark-dirty.js":function(e,t,n){"use strict";n.d(t,{no:function(){return d},YT:function(){return s},R6:function(){return r},SP:function(){return a},sY:function(){return l}}),n("../node_modules/core-js/modules/esnext.reflect.define-metadata.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/esnext.reflect.get-own-metadata.js"),n("../node_modules/reflect-metadata/Reflect.js");var i=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),o="model:dirty-params";function r(e,t,n){var i,r=null!==(i=c(e,t))&&void 0!==i?i:{};r.recordId=n,Reflect.defineMetadata(o,r,e,t)}function s(e,t,n){var i,r=null!==(i=c(e,t))&&void 0!==i?i:{};r.fieldId=n,Reflect.defineMetadata(o,r,e,t)}function a(e){return function(t,n,i){var o=c(t,n),r=i.value;return i.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=u(n,o);return this.getAllViews().forEach((function(t){h(t,e,s)})),r.apply(this,n)},i}}function l(e){return function(t,n,o){var r=c(t,n),s=o.value;return o.value=function(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];if("function"===typeof(null===(t=this.viewModel.dirtyPipeline)||void 0===t?void 0:t.markDirty)){var l=u(o,r);h(this.viewModel,e,l)}else i.k.error("[model][dirty]该 partial 没有找到 dirtyPipeline 属性，请先检查实现是否存在问题。");return s.apply(this,o)},o}}function d(e){return function(t,n,i){var o=c(t,n),r=i.value;return i.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=u(n,o);return h(this,e,s),r.apply(this,n)},i}}function c(e,t){return Reflect.getOwnMetadata(o,e,t)}function u(e,t){if(t){var n={};return"undefined"!==typeof t.recordId&&(n.recordId=e[t.recordId]),"undefined"!==typeof t.fieldId&&(n.fieldId=e[t.fieldId]),n}}function h(e,t,n){e.dirtyPipeline.markDirty(t,n),e.markRecordDirty()}},"../node_modules/@tencent/xtable-core/es/utils/id.js":function(e,t,n){"use strict";n.d(t,{JU:function(){return r},zx:function(){return s}}),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@tencent/xtable-core/es/constant/config/id.js"),o=function(e,t){for(var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i=n.length,o="",r=0;r<t;r++)o+=n[Math.floor(Math.random()*i)];return""+e+o},r=function(e){return s(Object.assign({num:1},e))[0]},s=function(e){for(var t=e.prefix,n=e.num,r=e.usedIds,s=void 0===r?[]:r,a=e.randomIdLength,l=void 0===a?i.t.RANDOM_ID_LENGTH:a,d=new Set(s),c=[],u=0;u<n;u++){var h=void 0;do{h=o(t,l)}while(d.has(h));c.push(h),d.add(h)}return c}},"../node_modules/@tencent/xtable-core/es/utils/list.js":function(e,t,n){"use strict";n.d(t,{J2:function(){return o},LP:function(){return a},ZQ:function(){return r},mD:function(){return s}});var i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");function o(e,t,n){var o=(0,i.Z)(e),r=o[t];return o.splice(t,1),o.splice(n,0,r),o}function r(e,t,n){var i=e.length;0<=n&&n<=e.length&&(i=n),e.splice(i,0,t)}function s(e,t){var n=new Set(e),o=new Set(t);return[].concat((0,i.Z)(e.filter((function(e){return o.has(e)}))),(0,i.Z)(t.filter((function(e){return!n.has(e)}))))}function a(e){for(var t=new Set,n=new Set;e.length;){var i=e.pop();n.has(i)||(e.indexOf(i)>-1?n.add(i):t.add(i))}return t}n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.filter.js")},"../node_modules/@tencent/xtable-core/es/utils/lru-cahce.js":function(e,t,n){"use strict";n.d(t,{z:function(){return i}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.splice.js");var i=function(){function e(e){this.db=localStorage,this.cacheKey=e.cacheKey,this.capacity=e.capacity;var t=e.db;t&&(this.db=t)}var t=e.prototype;return t.get=function(e){var t=this.getCache();if(t.FIFO.includes(e)){var n=t.data[e];return this.resetKeyByFIFO(t,e),n}},t.set=function(e,t){var n=this.put(e,t);this.db.setItem(this.cacheKey,JSON.stringify(n))},t.remove=function(e){var t=this.getCache();delete t.data[e],this.removeKeyByFIFO(t,e),this.db.setItem(this.cacheKey,JSON.stringify(t))},t.getCache=function(){var e=this.db.getItem(this.cacheKey);return e?JSON.parse(e):this.generateCache()},t.put=function(e,t){var n=this.getCache();n.data[e]=t;var i=this.resetKeyByFIFO(n,e),o=i.FIFO.length;if(void 0!==this.capacity&&o>this.capacity){var r=i.FIFO[o-1];r&&(i.FIFO.pop(),delete i.data[r])}return i},t.removeKeyByFIFO=function(e,t){var n=e.FIFO.indexOf(t);return-1!==n&&e.FIFO.splice(n,1),e},t.resetKeyByFIFO=function(e,t){var n=this.removeKeyByFIFO(e,t);return n.FIFO.unshift(t),n},t.generateCache=function(){return{FIFO:[],data:{}}},e}()},"../node_modules/@tencent/xtable-core/es/utils/object.js":function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.d(t,{n:function(){return i}})},"../node_modules/@tencent/xtable-core/es/utils/report/model-performance-report.service.js":function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/xtable-common/es/report/decorator/index.js"),r=n("../node_modules/@tencent/xtable-common/es/report/zzs.js"),s=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js"),a=function(){function e(){}var t=e.prototype;return t.markOrderStart=function(){},t.markOrderEnd=function(){},t.markFilterStart=function(){},t.markFilterEnd=function(){},t.markGroupStart=function(){},t.markGroupEnd=function(){},t.markFieldCountStart=function(){},t.markFieldCountEnd=function(e){e!==s.W.ASYNC?e===s.W.SYNC&&this.markFieldSyncCountEnd():this.markFieldAsyncCountEnd()},t.markFieldAsyncCountEnd=function(){},t.markFieldSyncCountEnd=function(){},e}();(0,i.__decorate)([(0,o.hY)(r.Ql.SMART_SHEET_ORDER_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markOrderStart",null),(0,i.__decorate)([(0,o.Eb)(r.Ql.SMART_SHEET_ORDER_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markOrderEnd",null),(0,i.__decorate)([(0,o.hY)(r.Ql.SMART_SHEET_FILTER_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markFilterStart",null),(0,i.__decorate)([(0,o.Eb)(r.Ql.SMART_SHEET_FILTER_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markFilterEnd",null),(0,i.__decorate)([(0,o.hY)(r.Ql.SMART_SHEET_GROUP_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markGroupStart",null),(0,i.__decorate)([(0,o.Eb)(r.Ql.SMART_SHEET_GROUP_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markGroupEnd",null),(0,i.__decorate)([(0,o.hY)(r.Ql.SMART_SHEET_FIELD_COUNT_ASYNC_COST),(0,o.hY)(r.Ql.SMART_SHEET_FIELD_COUNT_SYNC_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markFieldCountStart",null),(0,i.__decorate)([(0,o.Eb)(r.Ql.SMART_SHEET_FIELD_COUNT_ASYNC_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markFieldAsyncCountEnd",null),(0,i.__decorate)([(0,o.Eb)(r.Ql.SMART_SHEET_FIELD_COUNT_SYNC_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],a.prototype,"markFieldSyncCountEnd",null);var l=new a},"../node_modules/@tencent/xtable-core/es/utils/report/mutation-report.service.js":function(e,t,n){"use strict";n.d(t,{Ig:function(){return l},ah:function(){return a},C:function(){return d}});var i,o=n("../node_modules/@tencent/xtable-common/es/logger/index.js");!function(e){e.VIEW_NOT_MATCH_TABLE="SMART_SHEET_VIEW_NOT_MATCH_TABLE",e.REQUEST_RUN_ERROR="SMART_SHEET_REQUEST_RUN_ERROR",e.APPLY_NEW_CHANGES_ERROR="SMART_SHEET_APPLY_NEW_CHANGES_ERROR"}(i||(i={}));var r=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),s=n("../node_modules/@tencent/xtable-common/es/report/zzs.js");function a(e){c(s.Ql.SMART_SHEET_REQUEST_RUN_ERROR,e),o.k.report(i.REQUEST_RUN_ERROR)}function l(){c(s.Ql.SMART_SHEET_APPLY_NEW_CHANGES_ERROR),o.k.report(i.APPLY_NEW_CHANGES_ERROR)}function d(e){c(s.Ql.VIEW_DATA_NOT_MATCH_TABLE,e),o.k.report(i.VIEW_NOT_MATCH_TABLE)}function c(e,t){r.E.metricsStatus({attrid:e,errmsg:t})}},"../node_modules/@tencent/xtable-core/es/utils/serialization/record-map.js":function(e,t,n){"use strict";n.d(t,{EW:function(){return d},US:function(){return r},YZ:function(){return s},fX:function(){return l}}),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.number.constructor.js");var i=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js");function o(e){for(var t={},n=0,o=Object.keys(e);n<o.length;n++){var r=e[o[n]],s=r[30];t[o[n]]={type:s,modifiedUserId:r[31],modifiedTime:r[32]?Number(r[32]):void 0,value:i.p.get(s).deserializeCell(r[s])}}return t}function r(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var r=e[i[n]][1];t[i[n]]=o(r)}return t}function s(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var o=e[i[n]],r=o[1];t[i[n]]={createdTime:r?Number(r):void 0,createdUserId:o[2]}}return t}function a(e){return Object.keys(e).reduce((function(t,n){var o,r=e[n],s=r.type;return t[n]=((o={30:s,31:r.modifiedUserId,32:r.modifiedTime})[s]=i.p.get(s).serializeCell(r.value),o),t}),{})}function l(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return t[n]={1:a(i)},t}),{})}function d(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return t[n]={1:i.createdTime,2:i.createdUserId},t}),{})}},"../node_modules/@tencent/xtable-core/es/utils/serialization/table-description.js":function(e,t,n){"use strict";function i(e){var t=e.value,n=e.textFormat,i=e.editorProperties;return{1:t,2:r(n),3:a(i)}}function o(e){return{value:e[1],textFormat:s(e[2]),editorProperties:l(e[3])}}function r(e){return e.map((function(e){var t=e.startIndex,n=e.format;return{1:t,2:{1:n.bold,2:n.italic,3:n.fontName,4:n.fontSize,5:n.fontColor,6:n.strikeThrough,7:n.underline,8:n.hyperlink}}}))}function s(e){return e.map((function(e){var t,n,i,o,r=e[1],s=e[2],a={bold:null!==(t=s[1])&&void 0!==t?t:void 0,italic:null!==(n=s[2])&&void 0!==n?n:void 0,strikeThrough:null!==(i=s[6])&&void 0!==i?i:void 0,underline:null!==(o=s[7])&&void 0!==o?o:void 0};return s[3]&&(a.fontName=s[3]),s[4]&&(a.fontSize=s[4]),s[5]&&(a.fontColor=s[5]),s[8]&&(a.hyperlink=s[8]),{startIndex:r,format:a}}))}function a(e){return{1:e.backgroundColor}}function l(e){return{backgroundColor:e[1]}}n.d(t,{AB:function(){return s},BL:function(){return l},Do:function(){return a},ex:function(){return i},pk:function(){return r},uI:function(){return o}}),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.string.bold.js"),n("../node_modules/core-js/modules/es.string.italics.js")},"../node_modules/@tencent/xtable-core/es/utils/title.js":function(e,t,n){"use strict";n.d(t,{yG:function(){return r},KD:function(){return s}}),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.regexp.constructor.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=n("../node_modules/@tencent/xtable-common/es/logger/index.js");function o(e,t){var n,i={};return t.forEach((function(e){var t=function(e){var t=e.split(" "),n=t[t.length-1];return 0!==t.length&&/^\d{1,9}$/.test(n)?{meaningfulTitle:t.slice(0,-1).join(" "),number:Number(n)}:{meaningfulTitle:e,number:null}}(e),n=t.meaningfulTitle,o=t.number;"undefined"===typeof i[n]&&(i[n]=0),null!==o&&o>i[n]&&(i[n]=o)})),null!==(n=i[e])&&void 0!==n?n:-1}function r(e,t){void 0===t&&(t=[]);var n=e.toLowerCase(),r=function(e,t){var n;try{n=new RegExp("^"+e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"(?:\\s\\d+)?")}catch(o){i.k.error("Can't create regex with \""+e+'", error is: '+o.message)}return n?t.filter((function(e){return n.test(e)})):t}(n,t.map((function(e){return e.toLowerCase()}))),s=o(n,r),a=new Set(t),l="";do{l=""+e,(s+=1)>0&&(l+=" "+s)}while(a.has(l));return l}function s(e,t){return e+"_自动重命名_"+t}n("../node_modules/core-js/modules/es.string.replace.js")},"../node_modules/@tencent/xtable-render/es/base/cell/attachment.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/@tencent/xtable-common/es/domain-config/index.js")),r=n("../node_modules/@tencent/xtable-core/es/model/field/attachment/utils/index.js"),s=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js"),a=n("../node_modules/@tencent/xtable-render/es/base/cell/base.js"),l=n("../node_modules/@tencent/xtable-render/es/base/cell/select.js"),d=n("../node_modules/@tencent/xtable-render/es/base/icon/alias.js"),c=n("../node_modules/@tencent/xtable-render/es/cache/index.js"),u=n("../node_modules/@tencent/xtable-render/es/constants/config.js"),h=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),g={background:"rgba(0,0,0,0.04)",textColor:"rgba(0,0,0,0.88)",borderColor:"transparent"},f=function(e){function t(){return e.apply(this,arguments)||this}(0,i.Z)(t,e);var n=t.prototype;return n.measureWidth=function(e,t){var n="";return e.forEach((function(e){n+=e.text})),this.base.util.measureWidth(n,null===t||void 0===t?void 0:t.fontSize,null===t||void 0===t?void 0:t.fontStyle)+e.length*(8+u.XK.margin)+e.length*(h.UV+4)},n.draw=function(e,t,n,i,o){var r=this,s=this.base.board(t),a=this.collectTags(n,i.selectConfig),d=l.Z.collectTagLayouts(a,t,i.lineCount);l.Z.collectRenderTags(a,d,this.getTagHeight(i.selectConfig)).forEach((function(e,t){r.drawSingleTag(s,e,n[t],i.selectConfig)})),s.clipFunc((function(e){e.rect(0,0,t.width,t.height)})),e.add(s),o(s)},n.getShowLines=function(e,t,n){var i=this.collectTags(t);return l.Z.collectTagLayouts(i,e,n.lineCount).length},n.drawSingleTag=function(e,t,n,i){var a,l=t.rect,g=t.text,f=t.background,m=t.borderColor,p=t.textColor,v=(null===i||void 0===i?void 0:i.fontSize)||u.XK.textFontSize,I=n.attachment,y=I.classify,_=I.fileExt,b=I.name,M=I.docType,C=I.fileUrl,w=(0,d.UF)(s.hW.DEFAULT);if(o.K.getIsToc()&&y){var T=(0,s.lN)(y,_);w=d.LD[(0,d.mA)(T)]?(0,d.mA)(T):(0,d.UF)(T)}else if(C&&M){var E=(0,r.ad)(C,b,M);w=(0,d.UF)(E)}var j,A="attachment-tag-rect-"+g+"-"+f+"-"+p;c.Z.hasShape(A)?a=c.Z.getShape(A).clone({x:l.x,y:l.y}):(a=this.base.shape.rect(null,{x:l.x,y:l.y,width:l.width,height:l.height,fill:f,stroke:m,strokeWidth:1,cornerRadius:u.XK.radius}),c.Z.setShape(A,a));var x="attachment-tag-text-"+g+"-"+f+"-"+p;c.Z.hasShape(x)?j=c.Z.getShape(x).clone({x:l.x+8+h.UV,y:l.y,fontSize:v}):(j=this.base.shape.text(null,{text:g,width:l.width,height:l.height,x:l.x+8+h.UV,y:l.y,fill:p,fontSize:v}),c.Z.setShape(x,j)),this.base.icon.draw(e,w,{x:l.x+4,y:l.y+4,width:h.UV,height:h.UV}),e.add(a),e.add(j)},n.collectTags=function(e,t){var n=this,i=[];return e.forEach((function(e){var o=e.text,r=n.base.util.measureWidth(o,null===t||void 0===t?void 0:t.fontSize,null===t||void 0===t?void 0:t.fontStyle),s=n.getTagHeight(t),a=Math.max(s,n.getTagWidth(r));i.push(Object.assign({rect:{x:0,y:0,width:a,height:s},text:o,textWidth:r},g))})),i},n.getTagHeight=function(e){return((null===e||void 0===e?void 0:e.fontSize)||u.XK.textFontSize)+10},n.getTagWidth=function(e){return e+h.UV+4+8},t}(a.Z)},"../node_modules/@tencent/xtable-render/es/base/cell/base.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),o=function(){function e(e){this.base=e}return e.prototype.drawText=function(e,t,n,o){return void 0===o&&(o={}),this.base.shape.text(e,Object.assign({text:n,x:t.x,y:t.y,width:t.width,height:i.Kt},o))},e}()},"../node_modules/@tencent/xtable-render/es/base/cell/select.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/@tencent/xtable-common/es/palette/option.js")),r=n("../node_modules/@tencent/xtable-render/es/base/index.js"),s=n("../node_modules/@tencent/xtable-render/es/base/cell/base.js"),a=n("../node_modules/@tencent/xtable-render/es/constants/config.js"),l=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),d=function(e){function t(){return e.apply(this,arguments)||this}(0,i.Z)(t,e),t.collectRenderTags=function(e,t,n){var i=[],o=1,r=1;return t.forEach((function(t,s){var l=s+1;t.forEach((function(t){var n=e[t];n.rect.x=o,n.rect.y=r,o+=n.rect.width+a.XK.margin,i.push(n)})),o=1,r=l*(n+a.XK.margin)+1})),i},t.getTagHeight=function(e){var t=(null===e||void 0===e?void 0:e.fontSize)||a.XK.textFontSize;return Math.round(t+2*a.XK.paddingTop)},t.collectTags=function(e,t){var n=[];return e.forEach((function(e){var i=e.text,s=e.style,l=r.u.util.measureWidth(i,null===t||void 0===t?void 0:t.fontSize,null===t||void 0===t?void 0:t.fontStyle),d=t.height,c=l+2*a.XK.paddingLeft;c=Math.max(d,c),n.push(Object.assign({rect:{x:0,y:0,width:c,height:d},text:i,textWidth:l},(0,o.F)(s)))})),n},t.collectTagLayouts=function(e,t,n){var i=1,o=[],r=[];if(e.forEach((function(e,n){var s=e.rect.width+a.XK.margin;return s+i>t.width+a.XK.margin?r.length?(o.push(r.slice()),r.length=0,r.push(n),void(i=s)):(o.push([n]),void(i=1)):(i+=s,void r.push(n))})),r.length&&o.push(r.slice()),o.length>n){var s=o.slice(n);(o=o.slice(0,n))[o.length-1]&&s[0][0]&&o[o.length-1].push(s[0][0])}return o};var n=t.prototype;return n.measureWidth=function(e,t){var n="";return e.forEach((function(e){n+=e.text})),this.base.util.measureWidth(n,null===t||void 0===t?void 0:t.fontSize,null===t||void 0===t?void 0:t.fontStyle)+e.length*(2*a.XK.paddingLeft+a.XK.margin)},n.draw=function(e,n,i,o,r){var s=this,a=this.base.board(n),l=t.collectTags(i,o.selectConfig),d=t.collectTagLayouts(l,n,o.lineCount);t.collectRenderTags(l,d,t.getTagHeight(o.selectConfig)).forEach((function(e){s.drawSingleTag(a,e,o.selectConfig)})),a.clipFunc((function(e){e.rect(0,0,n.width,n.height)})),e.add(a),r(a)},n.getShowLines=function(e,n,i){var o=t.collectTags(n,i.selectConfig);return t.collectTagLayouts(o,e,i.lineCount).length},n.drawSingleTag=function(e,t,n){var i=t.rect,o=t.text,r=t.textWidth,s=t.background,d=t.borderColor,c=t.textColor,u=(null===n||void 0===n?void 0:n.fontSize)||a.XK.textFontSize,h=this.base.shape.rect(null,{x:i.x,y:i.y,width:i.width,height:i.height,fill:s,stroke:d,strokeWidth:l.wI,cornerRadius:a.XK.radius}),g=this.base.shape.text(null,{text:o,width:i.width,height:i.height,x:i.x+(i.width-r)/2,y:i.y,fill:c,fontSize:u});e.add(h),e.add(g)},t}(s.Z)},"../node_modules/@tencent/xtable-render/es/base/corner.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return a},a:function(){return i}}),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.join.js");var i,o=n("../node_modules/@tencent/xtable-render/es/base/lib/index.js"),r=n("../node_modules/@tencent/xtable-render/es/base/util.js"),s=n("../node_modules/@tencent/xtable-render/es/constants/style.js");!function(e){e.LT="LT",e.LB="LB",e.LTLB="LTLB",e.RT="RT",e.RB="RB",e.RTRB="RTRB"}(i||(i={}));var a=function(){function e(){}var t=e.prototype;return t.draw=function(e,t,n){void 0===n&&(n={}),r.D.validConfig(n);var i=this.createRadiusPath(e,n);return t&&t.add(i),i},t.createRadiusPath=function(e,t){var n=t.x,r=t.y,a=function(e,t,n){var o;return(o={},o[i.LT]=["M0.5,"+(n+.5),"v-"+(n-l),"q0.5,-"+l+","+l+",-"+l,"h"+(t-l+.5)],o[i.LB]=["M0.5,0.5","v"+(n-l),"q0.5,"+l+","+l+","+l,"h"+(t-l+.5)],o[i.LTLB]=["M"+(t+.5)+",0.5","h-"+(t-l),"q-"+l+",0,-"+l+","+l,"v"+(n-2*l),"q0.5,"+l+","+l+","+l,"h"+(t-l+.5)],o[i.RT]=["M0.5,0.5","h"+(t-l),"q"+(l-.5)+",0,"+l+","+l,"v"+(n-l+.5)],o[i.RB]=["M0.5,"+(n+.5),"h"+(t-l),"q"+(l-.5)+",0,"+l+",-"+l,"v-"+(n-l+.5)],o[i.RTRB]=["M0.5,0.5","h"+(t-l),"q"+l+",0,"+l+","+l,"v"+(n-2*l),"q0,"+l+",-"+l+","+l,"h-"+(t-l)],o)[e]}(e,t.width,t.height);return new o.y$(Object.assign({x:n,y:r,data:a.join(""),stroke:s.dS,strokeWidth:s.YF,fill:"transparent",perfectDrawEnabled:!1,listening:!1},t))},e}(),l=s.n_},"../node_modules/@tencent/xtable-render/es/base/icon/alias.js":function(e,t,n){"use strict";n.d(t,{Ye:function(){return s},O$:function(){return re},LD:function(){return ce},Wn:function(){return ue},UF:function(){return ae},mA:function(){return le},VE:function(){return de}}),n("../node_modules/core-js/modules/es.object.assign.js");var i,o,r,s,a=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_appendix.svg"),l=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_email.svg"),d=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_phonenumber.svg"),c=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_progress.svg"),u=n("../node_modules/@tencent/docs-design-resources/pc/svg/data_text.svg"),h=n("../node_modules/@tencent/docs-design-resources/pc/svg/file_drive_default_16.svg"),g="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjMuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTYgMTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE2IDE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MS4wMDAwMDBlLTAyO2ZpbGw6I0Q4RDhEODtzdHJva2U6Izk3OTc5NztzdHJva2Utd2lkdGg6MC41O2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0MXtmaWxsOiNGRkZGRkY7c3Ryb2tlOiNEQ0RDREM7c3Ryb2tlLXdpZHRoOjAuNTt9Cgkuc3Qye2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0U1RTVFNTt9Cgkuc3Qze2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6dXJsKCNTVkdJRF8xXyk7fQoJLnN0NHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTE0LjQsMC4yYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYxNC43YzAsMC4yLTAuMiwwLjQtMC40LDAuNEgxLjZjLTAuMiwwLTAuNC0wLjItMC40LTAuNFYwLjYKCWMwLTAuMiwwLjItMC40LDAuNC0wLjRIMTQuNHoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTksNC41SDYuM3YxLjNIOVY0LjV6IE0xMi4xLDQuNUg5LjR2MS4zaDIuN1Y0LjV6IE05LjQsNi4zaDIuN3YxLjNIOS40VjYuM3ogTTksNi4zSDYuM3YxLjNIOVY2LjN6IE05LjQsOC4xCgloMi43djEuNEg5LjRWOC4xeiBNOSw4LjFINi4zdjEuNEg5VjguMXogTTkuNCw5LjloMi43djEuM0g5LjRWOS45eiBNOSw5LjlINi4zdjEuM0g5VjkuOXogTTkuNCwxMS43aDIuN1YxM0g5LjRWMTEuN3ogTTksMTEuN0g2LjMKCVYxM0g5VjExLjd6Ii8+CjxnPgoJCgkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI4Ljg3MzciIHkxPSIxNS44NTE1IiB4Mj0iMy4xOTQ2IiB5Mj0iNy4zNDc4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgMTgpIj4KCQk8c3RvcCAgb2Zmc2V0PSIyLjkwMzI5MGUtMDQiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMENFQUUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBBNTU4Ii8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggY2xhc3M9InN0MyIgZD0iTTEsMy44bDcuMi0wLjdjMC4yLDAsMC4zLDAuMSwwLjMsMC4zdjkuNGMwLDAuMi0wLjIsMC4zLTAuMywwLjNMMSwxMi4zVjMuOHoiLz4KPC9nPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik00LjcsNy4ybDAuOS0xLjVsMS4xLTAuMUw1LjIsOGwxLjUsMi41bC0xLjEtMC4xTDQuNyw4LjlMNCwxMC4ybC0xLjEtMC4xbDEuMy0yTDIuOSw2TDQsNS45TDQuNyw3LjJ6Ii8+CjwvZz4KPC9zdmc+Cg==",f="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMSIgd2lkdGg9IjE0IiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4yODg5IDYuNTgwNjVDMTEuMDAwNyA2LjU4MDY1IDExLjU3NzcgNi4wMDI5NSAxMS41Nzc3IDUuMjkwMzJDMTEuNTc3NyA0LjU3NzcgMTEuMDAwNyA0IDEwLjI4ODkgNEM5LjU3NzA1IDQgOS4wMDAwMSA0LjU3NzcgOS4wMDAwMSA1LjI5MDMyQzkuMDAwMDEgNi4wMDI5NSA5LjU3NzA1IDYuNTgwNjUgMTAuMjg4OSA2LjU4MDY1Wk00LjY4MjkzIDcuNTA4NjRDNC44MjczOSA3LjE3ODA4IDUuMjUyNDggNy4wODQ5IDUuNTIxOTcgNy4zMjQ3Mkw4LjE0NTg1IDkuNjU5NjlMOC44MzI4NCA4LjYyODA0QzkuMDA5NDUgOC4zNjI4MyA5LjM3ODMxIDguMzExOTUgOS42MjAxMSA4LjUxOTQ1TDEyLjg2MDQgMTEuM0MxMy4xNDA3IDExLjU0MDUgMTIuOTcwNiAxMiAxMi42MDEyIDEySDcuNDU0NDhMNy40NDUzOSAxMS45OTk5SDMuNTMxMjVDMy4xNDg2NiAxMS45OTk5IDIuODkxNzggMTEuNjA3MyAzLjA0NDk5IDExLjI1NjdMNC42ODI5MyA3LjUwODY0WiIgZmlsbD0iIzVDOThGRiIvPgo8cmVjdCB4PSIxLjI1IiB5PSIwLjI1IiB3aWR0aD0iMTMuNSIgaGVpZ2h0PSIxNS41IiByeD0iMC43NSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLW9wYWNpdHk9IjAuMTYiIHN0cm9rZS13aWR0aD0iMC41Ii8+Cjwvc3ZnPgo=",m="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMSIgd2lkdGg9IjE0IiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjI1IDRDMy44MzU3OSA0IDMuNSA0LjMzNTc5IDMuNSA0Ljc1VjExLjI1QzMuNSAxMS42NjQyIDMuODM1NzkgMTIgNC4yNSAxMkgxMS43NUMxMi4xNjQyIDEyIDEyLjUgMTEuNjY0MiAxMi41IDExLjI1VjQuNzVDMTIuNSA0LjMzNTc5IDEyLjE2NDIgNCAxMS43NSA0SDQuMjVaTTEwIDhMNyA2VjEwTDEwIDhaIiBmaWxsPSIjNzY5MUZGIi8+CjxyZWN0IHg9IjEuMjUiIHk9IjAuMjUiIHdpZHRoPSIxMy41IiBoZWlnaHQ9IjE1LjUiIHJ4PSIwLjc1IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utb3BhY2l0eT0iMC4xNiIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4KPC9zdmc+Cg==",p=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/basic_16_drag.svg"),v=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/data_multiselect.svg"),I="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zbWFydHNoZWV0X2F0dHJpYnV0ZV9kYXRlPC90aXRsZT4KICAgIDxnIGlkPSJQQ+aZuuiDveihqOagvOS4u+mhtemdoiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWIl+ihqOeKtuaAgSZhbXA75Zu+5qCH6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTY2MC4wMDAwMDAsIC03MDYuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLlm77moIciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDAuMDAwMDAwLCA1ODIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiX5bGe5oCnIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTI0LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMC4wMDAwMDAsIDAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgcng9IjIiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IlBDL+W3peWFt+agjy/mj5LlhaUv5pel5pyfIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgcng9IjIiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik04LDQgTDgsNSBMMTUuNzUsNSBMMTUuNzUsNCBMMTcsNCBMMTcsNSBMMTksNSBDMTkuNTUyMjg0Nyw1IDIwLDUuNDQ3NzE1MjUgMjAsNiBMMjAsMTggQzIwLDE4LjU1MjI4NDcgMTkuNTUyMjg0NywxOSAxOSwxOSBMNSwxOSBDNC40NDc3MTUyNSwxOSA0LDE4LjU1MjI4NDcgNCwxOCBMNCw2IEM0LDUuNDQ3NzE1MjUgNC40NDc3MTUyNSw1IDUsNSBMNi43NSw1IEw2Ljc1LDQgTDgsNCBaIE0xOC43LDYuMyBMNS4zLDYuMyBMNS4zLDE3LjcgTDE4LjcsMTcuNyBMMTguNyw2LjMgWiBNMTUsOC41MTI0NTk0NyBMMTUsMTUuNSBMMTMuODU3NjcyOCwxNS41IEwxMy44NTczNzI4LDkuODg3ODQ2MzkgTDEzLjEyNzgxMiwxMC40NTM0OTk2IEwxMi45NDg5MDM2LDEwLjM1Nzk2MjggTDEyLjk0ODkwMzYsOS4yMzM0MTU2NiBMMTMuOTcwMDYxNiw4LjUxMjQ1OTQ3IEwxNSw4LjUxMjQ1OTQ3IFogTTkuODc3MzQxNjksOC41IEMxMC40Nzk2OTk4LDguNTA2Mzg0NDkgMTAuOTYzOTE2NSw4LjcxMTYxOTEzIDExLjMyMzMxMDMsOS4xMTY1NjU1NyBDMTEuNjY0NDE4OSw5LjUwODQyMzYzIDExLjgzODk5NCw5Ljk3MzU0Mjc0IDExLjg0NTA5MiwxMC41MDgwMjUgQzExLjg0NTA5MiwxMC43Nzc1NDU2IDExLjc5OTM4NDEsMTEuMDM3ODQ4OCAxMS43MDU3NTIyLDExLjI5NDEwMzEgQzExLjYxNzg4NjksMTEuNTAwNjExOCAxMS40NzYyNDM3LDExLjY4NzQxNDUgMTEuMjgyMTE3OSwxMS44NTQ2NDk0IEwxMS4yNTE2MTQzLDExLjg3Nzk2MjIgTDExLjI4NDY0NDMsMTEuOTAzMDY2IEMxMS4zODQ5NDgxLDExLjk4NzAwODUgMTEuNDczMDc3NiwxMi4wNzc1NzEyIDExLjU0ODk1MjQsMTIuMTc0ODU1OCBMMTEuNjUzNTYzNCwxMi4zMjU4MzY4IEwxMS43Mzk3MzIxLDEyLjQ4Njk3NyBDMTEuODU4ODU1NSwxMi43NTc1NjM1IDExLjkxODU1MTcsMTMuMDQxNzAwNSAxMS45MTg1NTE3LDEzLjMzOTM2NTYgQzExLjkxMjUwOTYsMTMuOTkyNTEzNSAxMS43MTgyMDYxLDE0LjUxMzY3NjggMTEuMzM2NjgzNywxNC44OTM0NzAxIEMxMC45NjEyNDA4LDE1LjI4Mjk4IDEwLjQ3ODQ3NzUsMTUuNDgxMTUzOSA5Ljg5MzUxNTc3LDE1LjQ4NzU0MDUgQzkuNDM4Mjk4NjEsMTUuNDg3NTQwNSA5LjAzMjkyNzYxLDE1LjMzMjA4MjEgOC42ODE3NTE0OCwxNS4wMjI5MTU0IEM4LjM3MzQ4MzU4LDE0Ljc1MTUyNDEgOC4xNjExNDYxNSwxNC4zNzU2MTA5IDguMDQ0MjU0MzEsMTMuODk4NDY5MyBMOCwxMy42ODc3OTIgTDguMTA4NzQ4MzEsMTMuNTQ5Njk1IEw5LjAxMTkzNTcyLDEzLjU0OTY5NSBMOS4xMTUyMjc4NSwxMy42MjQ1ODQxIEM5LjE4OTcxOTU4LDEzLjgyOTQwMTcgOS4yOTM0OTUyNywxMy45OTI4NzQyIDkuNDI3NTEzNDksMTQuMTE3NTk1MSBDOS41NTU3MzUwNSwxNC4yMzk4MTcyIDkuNzI3OTcxMiwxNC4zMDE2ODEyIDkuOTQ5Njk0ODksMTQuMzAxNjgxMiBDMTAuMTg1NjY0MywxNC4zMDE2ODEyIDEwLjM4MDczMTEsMTQuMjE4MDY1NyAxMC41NDQ1Mzc4LDE0LjA0NTQ0ODggQzEwLjcwNTE2OTMsMTMuODg5Mjc5IDEwLjc4ODg5MDMsMTMuNjY0NTMyIDEwLjc5NDEyODMsMTMuMzY3Njc0MiBDMTAuNzg4ODY5NCwxMy4wNTk4NjY0IDEwLjcwNDY2ODEsMTIuODI4NDQ4MSAxMC41NDM5MDE0LDEyLjY2Njg0MjMgQzEwLjQxNTY2MTUsMTIuNTQwMTg1NSAxMC4yNTk5MDc0LDEyLjQ2NDI1NzIgMTAuMDczNTk3MSwxMi40Mzg5NTIxIEw5LjkyODA4NzU0LDEyLjQyOTQ2MzUgTDkuNDM3MTY4NDUsMTIuNDI5NDYzNSBMOS40NDk0Njg2NywxMS4zNTI5ODQgTDkuODU4OTQ0MDEsMTEuMzUyOTg0IEMxMC4xMzk2MTgyLDExLjM1Mjk4NCAxMC4zNTA0NTIsMTEuMjczOTU2NCAxMC40OTk0NDE0LDExLjExNjg1NDQgQzEwLjY0NzE3OTMsMTAuOTY2MzI5MiAxMC43MjA2NDUzLDEwLjc3MTk3NjYgMTAuNzIwNjcxNCwxMC41Mjg3OTA3IEMxMC43MTU1MTMsMTAuMjc4NTQ0NiAxMC42Mzg2ODEzLDEwLjA3Nzk2NzIgMTAuNDkwNzk4NCw5LjkyMTk4MzA1IEMxMC4zNDE1OTU5LDkuNzY5OTY1NjUgMTAuMTQ5NDA3OCw5LjY5MTI5MjAyIDkuOTEwODAxNjYsOS42ODU4NTM0NyBDOS43NDI3NTQxLDkuNjg1ODUzNDcgOS41OTA5MzIwNCw5Ljc0MjI4NzA4IDkuNDQ5NDY4NjcsOS44NTg4Nzc2NSBDOS4zMzQxNjgwOCw5Ljk0OTAyNzc3IDkuMjQ3OTY0MTMsMTAuMDgwNjA2NSA5LjE5MTM3OTQ1LDEwLjI1NjQxNTkgTDkuMTU0NTAyNzIsMTAuMzk2NjA5OSBMOS4wNDY1MDc0OSwxMC40ODc5NzIgTDguMTQzMzIwMDgsMTAuNDg3OTcyIEw4LjAzMzIyNjA5LDEwLjM1OTgzMjkgQzguMDgxODg5NjYsOS44NDAyMDM5OCA4LjI4MjMwMTM0LDkuMzk5NzQxNzIgOC42MzIyNjUxNSw5LjA0MzUwMzI3IEM4LjkzNDg2ODEsOC43MzI4NDU4NiA5LjI5MTIyMzYxLDguNTU0NjY2MjIgOS42OTc2MDUyMSw4LjUxMDY0OTEgTDkuODc3MzQxNjksOC41IFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiM4MTg2OEYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",y=n("../node_modules/@tencent/docs-design-resources/x-pc/svg/icon_smartsheet_attribute_link.svg"),_="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zbWFydHNoZWV0X2F0dHJpYnV0ZV9udW1iZXI8L3RpdGxlPgogICAgPGcgaWQ9IuS4u+ahhuaetiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWIl+ihqOeKtuaAgSZhbXA75Zu+5qCH6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjU0Ni4wMDAwMDAsIC0zOTUuMDAwMDAwKSIgZmlsbD0iIzgxODY4RiI+CiAgICAgICAgICAgIDxnIGlkPSLlm77moIciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0NjYuMDAwMDAwLCAzMzcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uELTUxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMzguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWIl+WxnuaApyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDIwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iMTIzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MC4wMDAwMDAsIDAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xODk4OTUzLDE3Ljg4NDI5NzUgTDYuMTg5ODk1Myw2LjExNTcwMjQ4IEw1LjA2OTU0MTgzLDYuMTE1NzAyNDggTDMsOC4wMTY1Mjg5MyBMMyw5LjM3MTkwMDgzIEw1LjA2OTU0MTgzLDcuNDM4MDE2NTMgTDUuMDY5NTQxODMsMTcuODg0Mjk3NSBMNi4xODk4OTUzLDE3Ljg4NDI5NzUgWiBNMTMuNzU3NDY4MSwxNy44ODQyOTc1IEwxMy43NTc0NjgxLDE2LjgyNjQ0NjMgTDguOTk1OTY1ODEsMTYuODI2NDQ2MyBMMTIuODcwNTIxNiwxMS41NzAyNDc5IEMxMy40NzczNzk3LDEwLjc0MzgwMTcgMTMuNzU3NDY4MSwxMC4xMzIyMzE0IDEzLjc1NzQ2ODEsOS4xOTAwODI2NCBDMTMuNzU3NDY4MSw3LjI1NjE5ODM1IDEyLjUyODE5MTMsNi4wMTY1Mjg5MyAxMC43MDc2MTY5LDYuMDE2NTI4OTMgQzguODU1OTIxNjIsNi4wMTY1Mjg5MyA3LjY1Nzc2NTgyLDcuMzU1MzcxOSA3LjY1Nzc2NTgyLDkuMjA2NjExNTcgTDguNzc4MTE5Myw5LjIwNjYxMTU3IEM4Ljc3ODExOTMsNy42ODU5NTA0MSA5LjY4MDYyNjI2LDcuMDc0MzgwMTcgMTAuNzA3NjE2OSw3LjA3NDM4MDE3IEMxMS45MjEzMzMyLDcuMDc0MzgwMTcgMTIuNjM3MTE0Niw3LjkxNzM1NTM3IDEyLjYzNzExNDYsOS4xOTAwODI2NCBDMTIuNjM3MTE0Niw5LjgzNDcxMDc0IDEyLjQzNDgyODUsMTAuMzQ3MTA3NCAxMi4wMTQ2OTYsMTAuOTI1NjE5OCBMNy42NDIyMDUzNiwxNi44MjY0NDYzIEw3LjY0MjIwNTM2LDE3Ljg4NDI5NzUgTDEzLjc1NzQ2ODEsMTcuODg0Mjk3NSBaIE0xNy43NDc4NjI4LDE4IEMxOS41NTI4NzY4LDE4IDIxLDE2Ljg0Mjk3NTIgMjEsMTQuNjc3Njg2IEMyMSwxMy4yMDY2MTE2IDIwLjQyNDI2MjgsMTIuMjQ3OTMzOSAxOS4zMDM5MDkzLDExLjgwMTY1MjkgQzIwLjI5OTc3OTEsMTEuMzIyMzE0IDIwLjc5NzcxNCwxMC40Mjk3NTIxIDIwLjc5NzcxNCw5LjE5MDA4MjY0IEMyMC43OTc3MTQsNy4yNzI3MjcyNyAxOS41NTI4NzY4LDYgMTcuNzQ3ODYyOCw2IEMxNi4wNjczMzI2LDYgMTQuNzYwMjUzNiw3LjEyMzk2Njk0IDE0LjYzNTc2OTksOS4wMjQ3OTMzOSBMMTUuNzU2MTIzMyw5LjAyNDc5MzM5IEMxNS44NjUwNDY2LDcuODE4MTgxODIgMTYuNTgwODI4LDcuMDU3ODUxMjQgMTcuNzQ3ODYyOCw3LjA1Nzg1MTI0IEMxOC44MjE1MzQ5LDcuMDU3ODUxMjQgMTkuNjc3MzYwNSw3LjgwMTY1Mjg5IDE5LjY3NzM2MDUsOS4yMDY2MTE1NyBDMTkuNjc3MzYwNSwxMC41Mjg5MjU2IDE5LjA1NDk0MTksMTEuMzM4ODQzIDE3LjcwMTE4MTQsMTEuMzM4ODQzIEwxNy40Njc3NzQ1LDExLjMzODg0MyBMMTcuNDY3Nzc0NSwxMi4zODAxNjUzIEwxNy43MDExODE0LDEyLjM4MDE2NTMgQzE5LjIxMDU0NjUsMTIuMzgwMTY1MyAxOS44Nzk2NDY1LDEzLjIzOTY2OTQgMTkuODc5NjQ2NSwxNC42NjExNTcgQzE5Ljg3OTY0NjUsMTYuMDk5MTczNiAxOC45NDYwMTg2LDE2Ljk0MjE0ODggMTcuNzQ3ODYyOCwxNi45NDIxNDg4IEMxNi42ODk3NTEyLDE2Ljk0MjE0ODggMTUuNzA5NDQxOSwxNi4zNjM2MzY0IDE1LjYxNjA3OTEsMTQuODkyNTYyIEwxNC40OTU3MjU3LDE0Ljg5MjU2MiBDMTQuNTg5MDg4NSwxNy4wMjQ3OTM0IDE2LjAwNTA5MDgsMTggMTcuNzQ3ODYyOCwxOCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",b="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zbWFydHNoZWV0X2F0dHJpYnV0ZV9wZW9wbGU8L3RpdGxlPgogICAgPGcgaWQ9IlBD5pm66IO96KGo5qC85Li76aG16Z2iIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5YiX6KGo54q25oCBJmFtcDvlm77moIfotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzAwLjAwMDAwMCwgLTcwNi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IuWbvuaghyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0MC4wMDAwMDAsIDU4Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLliJflsZ7mgKciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYwLjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iUEMv5bel5YW35qCPL+WIm+W7uuS6uiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2i5aSH5Lu9IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMiwxMiBDMTUuMTc4MTcyNywxMiAxOSwxMy41OTU4OTY0IDE5LDE1Ljk4OTE3NjUgTDE5LDE5IEw1LDE5IEw1LDE1Ljk4OTE3NjUgQzUsMTMuNjUxNTU0MSA4LjY0NjEzNDg0LDEyLjA3NDY1OSAxMS43NzcyNzg5LDEyLjAwMjU3OTMgTDEyLDEyIFogTTEyLDEzLjMgQzkuMTY0NTAyNDcsMTMuMyA2LjQ1OTAzMjc5LDE0LjY1NDQ2NCA2LjMwNjc0OTIyLDE1Ljg4MTI5NTYgTDYuMywxNS45ODkxNzY1IEw2LjMsMTcuNyBMMTcuNywxNy43IEwxNy43LDE1Ljk4OTE3NjUgQzE3LjcsMTQuNzcxMTM0OCAxNS4wNzU1NDQ1LDEzLjM4MTg2OTYgMTIuMjQ5NzkxOSwxMy4zMDM0NzczIEwxMiwxMy4zIFogTTEyLDQgQzEzLjkzMjk5NjYsNCAxNS41LDUuNTY3MDAzMzggMTUuNSw3LjUgQzE1LjUsOS4zNjg1NjM0IDE0LjAzNTcyMjQsMTAuODk1MTI2NCAxMi4xOTIwMzUyLDEwLjk5NDgyMTEgTDEyLDExIEMxMC4wNjcwMDM0LDExIDguNSw5LjQzMjk5NjYyIDguNSw3LjUgQzguNSw1LjYzMTQzNjYgOS45NjQyNzc2LDQuMTA0ODczNTUgMTEuODA3OTY0OCw0LjAwNTE3ODg2IEwxMiw0IFogTTEyLDUuMyBDMTAuNzg0OTczNiw1LjMgOS44LDYuMjg0OTczNTUgOS44LDcuNSBDOS44LDguNzE1MDI2NDUgMTAuNzg0OTczNiw5LjcgMTIsOS43IEMxMy4yMTUwMjY0LDkuNyAxNC4yLDguNzE1MDI2NDUgMTQuMiw3LjUgQzE0LjIsNi4yODQ5NzM1NSAxMy4yMTUwMjY0LDUuMyAxMiw1LjMgWiIgaWQ9IuW9oueKtue7k+WQiCIgZmlsbD0iIzgxODY4RiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",M=n("../node_modules/@tencent/wedocs-icons-svg/src/ai.svg"),C=n("../node_modules/@tencent/wedocs-icons-svg/src/android.svg"),w=n("../node_modules/@tencent/wedocs-icons-svg/src/audio.svg"),T=n("../node_modules/@tencent/wedocs-icons-svg/src/blackboard.svg"),E=n("../node_modules/@tencent/wedocs-icons-svg/src/cad.svg"),j=n("../node_modules/@tencent/wedocs-icons-svg/src/cdr.svg"),A=n("../node_modules/@tencent/wedocs-icons-svg/src/disk.svg"),x=n("../node_modules/@tencent/wedocs-icons-svg/src/excel.svg"),D=n("../node_modules/@tencent/wedocs-icons-svg/src/exe.svg"),S=n("../node_modules/@tencent/wedocs-icons-svg/src/filetype-tdoc-flowchart.svg"),N=n("../node_modules/@tencent/wedocs-icons-svg/src/filetype-tdoc-folder.svg"),R=n("../node_modules/@tencent/wedocs-icons-svg/src/filetype-tdoc-mindmap.svg"),O=n("../node_modules/@tencent/wedocs-icons-svg/src/filetype-tdoc-tdoc.svg"),L=n("../node_modules/@tencent/wedocs-icons-svg/src/filetype-tdoc-tform.svg"),k=n("../node_modules/@tencent/wedocs-icons-svg/src/filetype-tdoc-tsheet.svg"),z=n("../node_modules/@tencent/wedocs-icons-svg/src/filetype-tdoc-tslide.svg"),P=n("../node_modules/@tencent/wedocs-icons-svg/src/font.svg"),F=n("../node_modules/@tencent/wedocs-icons-svg/src/html.svg"),U=n("../node_modules/@tencent/wedocs-icons-svg/src/keynote.svg"),B=n("../node_modules/@tencent/wedocs-icons-svg/src/mail.svg"),W=n("../node_modules/@tencent/wedocs-icons-svg/src/numbers.svg"),G=n("../node_modules/@tencent/wedocs-icons-svg/src/other.svg"),Z=n("../node_modules/@tencent/wedocs-icons-svg/src/pages.svg"),H=n("../node_modules/@tencent/wedocs-icons-svg/src/pdf.svg"),Y=n("../node_modules/@tencent/wedocs-icons-svg/src/ppt.svg"),V=n("../node_modules/@tencent/wedocs-icons-svg/src/psd.svg"),Q=n("../node_modules/@tencent/wedocs-icons-svg/src/sketch.svg"),K=n("../node_modules/@tencent/wedocs-icons-svg/src/solidworks.svg"),X=n("../node_modules/@tencent/wedocs-icons-svg/src/txt.svg"),J=n("../node_modules/@tencent/wedocs-icons-svg/src/vector.svg"),q=n("../node_modules/@tencent/wedocs-icons-svg/src/video.svg"),$=n("../node_modules/@tencent/wedocs-icons-svg/src/word.svg"),ee=n("../node_modules/@tencent/wedocs-icons-svg/src/xmind.svg"),te=n("../node_modules/@tencent/wedocs-icons-svg/src/zip.svg"),ne=n("../node_modules/@tencent/xtable-common/es/domain-config/index.js"),ie=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),oe=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js");!function(e){e.ADD="ADD",e.BASE_ADD="BASE_ADD",e.DROPDOWN="DROPDOWN",e.DROPDOWN_FOLD="DROPDOWN_FOLD",e.CHECKBOX_CELL_UNCHECKED="CHECKBOX_CELL_UNCHECKED",e.CHECKBOX_CELL_CHECKED="CHECKBOX_CELL_CHECKED",e.CHECKBOX_UNCHECKED="CHECKBOX_UNCHECKED",e.CHECKBOX_CHECKED="CHECKBOX_CHECKED",e.GRAG_RECORD="GRAG_RECORD",e.EXPEND_RECORD="EXPEND_RECORD",e.FROZEN_LOCK="FROZEN_LOCK",e.ARROW_RIGHT="ARROW_RIGHT",e.ARROW_PREV="ARROW_PREV",e.ARROW_NEXT="ARROW_NEXT",e.SUPER_PREV="SUPER_PREV",e.SUPER_NEXT="SUPER_NEXT",e.TIME_PREV="TIME_PREV",e.TIME_NEXT="TIME_NEXT",e.MORE="MORE",e.RENAME="RENAME",e.DELETE="DELETE",e.TOOLBAR_COLLAPSE="TOOLBAR_COLLAPSE",e.IMAGE_DEFAULT="IMAGE_DEFAULT",e.TIP_DARK="TIP_DARK",e.TIP_BLUE="TIP_BLUE"}(s||(s={}));var re=((i={})[s.ADD]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iOC4zNzUiIHN0cm9rZT0iIzgxODY4RiIgc3Ryb2tlLXdpZHRoPSIxLjI1Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTIgM0MxNi45NzA2IDMgMjEgNy4wMjk0NCAyMSAxMkMyMSAxNi45NzA2IDE2Ljk3MDYgMjEgMTIgMjFDNy4wMjk0NCAyMSAzIDE2Ljk3MDYgMyAxMkMzIDcuMDI5NDQgNy4wMjk0NCAzIDEyIDNaTTEyIDQuMjVDNy43MTk3OSA0LjI1IDQuMjUgNy43MTk3OSA0LjI1IDEyQzQuMjUgMTYuMjgwMiA3LjcxOTc5IDE5Ljc1IDEyIDE5Ljc1QzE2LjI4MDIgMTkuNzUgMTkuNzUgMTYuMjgwMiAxOS43NSAxMkMxOS43NSA3LjcxOTc5IDE2LjI4MDIgNC4yNSAxMiA0LjI1Wk0xMi42MSAxMS4zNjlWOEgxMS4zNlYxMS4zNjlMOCAxMS4zN1YxMi42MkwxMS4zNiAxMi42MTlWMTZIMTIuNjFWMTIuNjE5TDE2IDEyLjYyVjExLjM3TDEyLjYxIDExLjM2OVoiIGZpbGw9IiM4MTg2OEYiLz4KPC9zdmc+Cg==",i[s.BASE_ADD]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfMTZfYWRkPC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGQ9Ik02LjYsLTguMDMwMzQ1MThlLTE1IEw2LjYsNS4zOTkgTDEyLDUuNCBMMTIsNi42IEw2LjYsNi41OTkgTDYuNiwxMiBMNS40LDEyIEw1LjQsNi41OTkgTDAsNi42IEwwLDUuNCBMNS40LDUuMzk5IEw1LjQsLTcuOTU2ODY2MzdlLTE1IEw2LjYsLTguMDMwMzQ1MThlLTE1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSLmjqfku7YiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLnvJbnu4TlpIfku70tMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi4wMDAwMDAsIDIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgPHVzZSBpZD0i5paw5bu6aWNvbiIgZmlsbD0iIzgxODY4RiIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",i[s.DROPDOWN]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfMTZfZHJvcGRvd248L3RpdGxlPgogICAgPGcgaWQ9IuaOp+S7tiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb24vYmFzaWMvMTYvZHJvcGRvd24iPgogICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04LjIyMTg4MDA4LDUuMzMyODIwMTIgTDExLjcyMzYwODksMTAuNTg1NDEzMyBDMTEuODA1MzAyOCwxMC43MDc5NTQzIDExLjc3MjE4OTgsMTAuODczNTE5NCAxMS42NDk2NDg4LDEwLjk1NTIxMzQgQzExLjYwNTg0NDIsMTAuOTg0NDE2NSAxMS41NTQzNzU0LDExIDExLjUwMTcyODgsMTEgTDQuNDk4MjcxMjIsMTEgQzQuMzUwOTk1MjksMTEgNC4yMzE2MDQ1NiwxMC44ODA2MDkzIDQuMjMxNjA0NTYsMTAuNzMzMzMzMyBDNC4yMzE2MDQ1NiwxMC42ODA2ODY3IDQuMjQ3MTg4MDMsMTAuNjI5MjE4IDQuMjc2MzkxMTUsMTAuNTg1NDEzMyBMNy43NzgxMTk5Miw1LjMzMjgyMDEyIEM3Ljg1OTgxMzkxLDUuMjEwMjc5MTMgOC4wMjUzNzkwNyw1LjE3NzE2NjEgOC4xNDc5MjAwNSw1LjI1ODg2MDA5IEM4LjE3NzIxNCw1LjI3ODM4OTM5IDguMjAyMzUwNzgsNS4zMDM1MjYxNyA4LjIyMTg4MDA4LDUuMzMyODIwMTIgWiIgaWQ9IuS4ieinkuW9oiIgZmlsbD0iIzgxODY4RiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSBzY2FsZSgxLCAtMSkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",i[s.DROPDOWN_FOLD]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODIzIDguMjE2NTFDMTAuNTI0NSA4LjEwOTg0IDEwLjUyNDUgNy44OTY1MSAxMC4zODIzIDcuNzg5ODRMNS43NjAwOCA0LjMyMzE3QzUuNTg0MjggNC4xOTEzMyA1LjMzMzQxIDQuMzE2NzYgNS4zMzM0MSA0LjUzNjUxTDUuMzMzNDEgMTEuNDY5OEM1LjMzMzQxIDExLjY4OTYgNS41ODQyOCAxMS44MTUgNS43NjAwOCAxMS42ODMyTDEwLjM4MjMgOC4yMTY1MVoiIGZpbGw9IiM4MTg2OEYiLz4KPC9zdmc+Cg==",i[s.MORE]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+Y29tbW9uX21vcmU8L3RpdGxlPgogICAgPGcgaWQ9IlBDIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uEIj4KICAgICAgICAgICAgPHJlY3QgaWQ9ImJnIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9ImJnIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNywxMSBMNywxMyBMNSwxMyBMNSwxMSBMNywxMSBaIE0xMywxMSBMMTMsMTMgTDExLDEzIEwxMSwxMSBMMTMsMTEgWiBNMTksMTEgTDE5LDEzIEwxNywxMyBMMTcsMTEgTDE5LDExIFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiM0NjRENUEiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",i[s.CHECKBOX_UNCHECKED]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+Y2hlY2tib3hfMjRfb2ZmX25vcjwvdGl0bGU+CiAgICA8ZyBpZD0i5Li75qGG5p62IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5YiX6KGo54q25oCBJmFtcDvlm77moIfotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNDY2LjAwMDAwMCwgLTYyMS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNDQkNERDEiIHN0cm9rZS13aWR0aD0iMC41Ij4KICAgICAgICAgICAgPGcgaWQ9IuWbvuaghyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQ2Ni4wMDAwMDAsIDMzNy4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QtNTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAyMDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuefqeW9oiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC4wMDAwMDAsIDgyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSIwLjI1IiB5PSIwLjI1IiB3aWR0aD0iMTUuNSIgaGVpZ2h0PSIxNS41IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",i[s.CHECKBOX_CHECKED]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+Y2hlY2tib3hfMjRfb25fbm9yPC90aXRsZT4KICAgIDxnIGlkPSLkuLvmoYbmnrYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLliJfooajnirbmgIEmYW1wO+Wbvuagh+i1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI0NjYuMDAwMDAwLCAtNjUzLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i5Zu+5qCHIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDY2LjAwMDAwMCwgMzM3LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Iue8lue7hC01MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDIwNi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgMTE0LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjMUU2RkZGIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00LjE0ODQ4NzEyLDcuMzY5MTQzOTkgTDYuNzgxNjgwOTcsOS45Mjk3NDQ5NCBMMTEuODUxNTEyOSw1IEwxMyw2LjExNjgyNTE5IEw3LjA2ODk2NzIzLDExLjg4NDM0OSBDNi45MTAzOTQyNSwxMi4wMzg1NTAzIDYuNjUzMjk2NjUsMTIuMDM4NTUwMyA2LjQ5NDcyMzY3LDExLjg4NDM0OSBMMyw4LjQ4NTk2OTE4IEw0LjE0ODQ4NzEyLDcuMzY5MTQzOTkgWiIgaWQ9Iui3r+W+hCIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",i[s.CHECKBOX_CELL_UNCHECKED]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfMTZfY2hlY2tib3hfbm9ybWFsPC90aXRsZT4KICAgIDxnIGlkPSJkYXRhYmFzZeinhuinie+8iHNpZGViYXLvvIx0YWxiZe+8jHZpZXfvvIkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1vcGFjaXR5PSIwLjE2Ij4KICAgICAgICA8ZyBpZD0iaWNvbumbhuWQiCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzMC4wMDAwMDAsIC0yMDMuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiIgc3Ryb2tlPSIjMDAwMDAwIj4KICAgICAgICAgICAgPGcgaWQ9IuefqeW9oiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMwLjAwMDAwMCwgMjAzLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHJlY3QgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgcng9IjIiPjwvcmVjdD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",i[s.CHECKBOX_CELL_CHECKED]="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IiMwMEFBNUIiIHJ4PSIyIi8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtNC4xNDggNy4zNyAyLjYzNCAyLjU2TDExLjg1MiA1IDEzIDYuMTE3bC01LjkzMSA1Ljc2N2EuNDE0LjQxNCAwIDAgMS0uNTc0IDBMMyA4LjQ4NmwxLjE0OC0xLjExN1oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",i[s.GRAG_RECORD]=p,i[s.EXPEND_RECORD]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05LjgwODg5IDEzLjMwODlMMTAuNjkxNiAxNC4xOTE2TDcuMTM0IDE3Ljc1Mkw5Ljk5MTYzIDE3Ljc1MTJWMTlINVYxNC4wMDQ5SDYuMjQ3OTFMNi4yNDcgMTYuODczTDkuODA4ODkgMTMuMzA4OVpNMTQuMTkxMSAxMC42OTExTDEzLjMwODQgOS44MDg0MUwxNi44NjcgNi4yNDhMMTQuMDA4NCA2LjI0ODc4VjVIMTlWOS45OTUxMkgxNy43NTIxTDE3Ljc1MyA3LjEyN0wxNC4xOTExIDEwLjY5MTFaIiBmaWxsPSIjMUU2RkZGIi8+Cjwvc3ZnPgo=",i[s.FROZEN_LOCK]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zbWFydHNoZWV0X2NvbnRyb2xfbG9jazwvdGl0bGU+CiAgICA8ZyBpZD0i5Li75qGG5p62IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5YiX6KGo54q25oCBJmFtcDvlm77moIfotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNDY2LjAwMDAwMCwgLTc1My4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IuWbvuaghyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQ2Ni4wMDAwMDAsIDMzNy4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QtNTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAyMDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDIxMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIsMyBDMTQuMjA5MTM5LDMgMTYsNC45NTg3NTQyMiAxNiw3LjM3NSBMMTYsOSBMMTgsOSBDMTguNTUyMjg0Nyw5IDE5LDkuNDQ3NzE1MjUgMTksMTAgTDE5LDE5IEMxOSwxOS41NTIyODQ3IDE4LjU1MjI4NDcsMjAgMTgsMjAgTDYsMjAgQzUuNDQ3NzE1MjUsMjAgNSwxOS41NTIyODQ3IDUsMTkgTDUsMTAgQzUsOS40NDc3MTUyNSA1LjQ0NzcxNTI1LDkgNiw5IEw4LDkgTDgsNy4zNzUgQzgsNC45NTg3NTQyMiA5Ljc5MDg2MSwzIDEyLDMgWiBNMTcuNSwxMC41IEw2LjUsMTAuNSBMNi41LDE4LjUgTDE3LjUsMTguNSBMMTcuNSwxMC41IFogTTEyLDEzIEMxMi41NTIyODQ3LDEzIDEzLDEzLjQ0NzcxNTMgMTMsMTQgTDEzLDE1IEMxMywxNS41NTIyODQ3IDEyLjU1MjI4NDcsMTYgMTIsMTYgQzExLjQ0NzcxNTMsMTYgMTEsMTUuNTUyMjg0NyAxMSwxNSBMMTEsMTQgQzExLDEzLjQ0NzcxNTMgMTEuNDQ3NzE1MywxMyAxMiwxMyBaIE0xMiw0LjUgQzEwLjcwMjY3NTMsNC41IDkuNTg4ODE1MjYsNS42NjM3MDk0NSA5LjUwNTA1Mjg0LDcuMTkwMTM4NyBMOS41LDcuMzc1IEw5LjUsOSBMMTQuNSw5IEwxNC41LDcuMzc1IEMxNC41LDUuODIwODM0NzUgMTMuNDM2MDM3MSw0LjU5NzM0OTcxIDEyLjE1NDc0NDEsNC41MDU1MzQ1NCBMMTIsNC41IFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiM4MTg2OEYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",i[s.ARROW_RIGHT]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSIwIDAgNDAgNDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zZWNvbmRhcnlfYXJyb3dfcmlnaHQ8L3RpdGxlPgogICAgPGcgaWQ9Ikljb24tc3ltYm9scyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb24vc2Vjb25kYXJ5L2Fycm93L3JpZ2h0IiBmaWxsPSIjQ0JDREQxIj4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjA3MTg4NTEsNi41MzU4MzI3MiBMMjkuMzc4LDE3LjkxMzgzMjcgTDI5LjM5NjY1LDE3Ljg5Njc2MTYgTDMxLjQ2ODUzNTEsMTkuOTgxMTk3IEwzMS40NSwxOS45OTk4MzI3IEwzMS40NTc0Nzg3LDIwLjAwNzc0NjYgTDI5LjM4NTU5MzYsMjIuMDkyMTgxOSBMMjkuMzc4LDIyLjA4NDgzMjcgTDE4LjA4Mjk0MTUsMzMuNDUzMTEwOCBMMTYuMDExMDU2NCwzMS4zNjg2NzU1IEwyNy4zMDYsMTkuOTk5ODMyNyBMMTYsOC42MjAyNjgwNiBMMTguMDcxODg1MSw2LjUzNTgzMjcyIFoiIGlkPSLlvaLnirbnu5PlkIgiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",i[s.ARROW_PREV]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zZWNvbmRhcnlfYXJyb3dfbGVmdDwvdGl0bGU+CiAgICA8ZyBpZD0i6KeG6KeJIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i6K+E6K665YiH5Zu+6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDkuMDAwMDAwLCAtMzYzLjAwMDAwMCkiIGZpbGw9IiM4MTg2OEYiPgogICAgICAgICAgICA8ZyBpZD0iaWNvbl9zZWNvbmRhcnlfYXJyb3dfbGVmdCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDkuMDAwMDAwLCAzNjMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iUEMv5Z+656GAL+eureWktC8yMC/nrq3lpLQv5bemIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC4wMDAwMDAsIDEwLjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtMTAuMDAwMDAwLCAtMTAuMDAwMDAwKSAiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjUsNC43OTE2NjY2NyBMMTIuODU3MTQyOSwxMCBMNy41LDE1LjIwODMzMzMgTDguNTcxNDI4NTcsMTYuMjUgTDE0LjUzOTA3NDcsMTAuNDQ4MTIxOCBDMTQuNzg2NTY1NSwxMC4yMDc1MDU3IDE0Ljc5MjEzODYsOS44MTE4MTY4NSAxNC41NTE1MjI1LDkuNTY0MzI2IEMxNC41NDc0MzE5LDkuNTYwMTE4NSAxNC41NDMyODIyLDkuNTU1OTY4ODEgMTQuNTM5MDc0Nyw5LjU1MTg3ODE4IEw4LjU3MTQyODU3LDMuNzUgTDguNTcxNDI4NTcsMy43NSBMNy41LDQuNzkxNjY2NjcgWiIgaWQ9Iui3r+W+hCI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",i[s.ARROW_NEXT]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zZWNvbmRhcnlfYXJyb3dfcmlnaHQ8L3RpdGxlPgogICAgPGcgaWQ9IuinhuiniSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuivhOiuuuWIh+Wbvui1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ5LjAwMDAwMCwgLTQwMC4wMDAwMDApIiBmaWxsPSIjODE4NjhGIj4KICAgICAgICAgICAgPGcgaWQ9IlBDL+WfuuehgC/nrq3lpLQvMjAv566t5aS0L+WPsyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDkuMDAwMDAwLCA0MDAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy41LDQuNzkxNjY2NjcgTDEyLjg1NzE0MjksMTAgTDcuNSwxNS4yMDgzMzMzIEw4LjU3MTQyODU3LDE2LjI1IEwxNC41MzkwNzQ3LDEwLjQ0ODEyMTggQzE0Ljc4NjU2NTUsMTAuMjA3NTA1NyAxNC43OTIxMzg2LDkuODExODE2ODUgMTQuNTUxNTIyNSw5LjU2NDMyNiBDMTQuNTQ3NDMxOSw5LjU2MDExODUgMTQuNTQzMjgyMiw5LjU1NTk2ODgxIDE0LjUzOTA3NDcsOS41NTE4NzgxOCBMOC41NzE0Mjg1NywzLjc1IEw4LjU3MTQyODU3LDMuNzUgTDcuNSw0Ljc5MTY2NjY3IFoiIGlkPSLot6/lvoQiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",i[s.SUPER_PREV]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfc3VwZXJwcmV2PC90aXRsZT4KICAgIDxnIGlkPSJQQyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iue8lue7hCIgZmlsbD0iIzgxODY4RiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04LjE0Mjg1NzE0LDMgTDksMy44MzMzMzMzMyBMNC43MTQyODU3MSw4IEw5LDEyLjE2NjY2NjcgTDguMTQyODU3MTQsMTMgTDMuMzY4NzQwMjQsOC4zNTg0OTc0NiBDMy4xNzA3NDc1Niw4LjE2NjAwNDU4IDMuMTY2Mjg5MSw3Ljg0OTQ1MzQ4IDMuMzU4NzgxOTgsNy42NTE0NjA4IEwzLjM2ODc0MDI0LDcuNjQxNTAyNTQgTDMuMzY4NzQwMjQsNy42NDE1MDI1NCBMOC4xNDI4NTcxNCwzIFogTTEyLjE0Mjg1NzEsMyBMMTMsMy44MzMzMzMzMyBMOC43MTQyODU3MSw4IEwxMywxMi4xNjY2NjY3IEwxMi4xNDI4NTcxLDEzIEw3LjM2ODc0MDI0LDguMzU4NDk3NDYgQzcuMTcwNzQ3NTYsOC4xNjYwMDQ1OCA3LjE2NjI4OTEsNy44NDk0NTM0OCA3LjM1ODc4MTk4LDcuNjUxNDYwOCBMNy4zNjg3NDAyNCw3LjY0MTUwMjU0IEw3LjM2ODc0MDI0LDcuNjQxNTAyNTQgTDEyLjE0Mjg1NzEsMyBaIiBpZD0i5b2i54q257uT5ZCIIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",i[s.SUPER_NEXT]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfc3VwZXJuZXh0PC90aXRsZT4KICAgIDxnIGlkPSJQQyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iue8lue7hCIgZmlsbD0iIzgxODY4RiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiPgogICAgICAgICAgICA8cGF0aCBkPSJNOC4xNDI4NTcxNCwzIEw5LDMuODMzMzMzMzMgTDQuNzE0Mjg1NzEsOCBMOSwxMi4xNjY2NjY3IEw4LjE0Mjg1NzE0LDEzIEwzLjM2ODc0MDI0LDguMzU4NDk3NDYgQzMuMTcwNzQ3NTYsOC4xNjYwMDQ1OCAzLjE2NjI4OTEsNy44NDk0NTM0OCAzLjM1ODc4MTk4LDcuNjUxNDYwOCBMMy4zNjg3NDAyNCw3LjY0MTUwMjU0IEwzLjM2ODc0MDI0LDcuNjQxNTAyNTQgTDguMTQyODU3MTQsMyBaIE0xMi4xNDI4NTcxLDMgTDEzLDMuODMzMzMzMzMgTDguNzE0Mjg1NzEsOCBMMTMsMTIuMTY2NjY2NyBMMTIuMTQyODU3MSwxMyBMNy4zNjg3NDAyNCw4LjM1ODQ5NzQ2IEM3LjE3MDc0NzU2LDguMTY2MDA0NTggNy4xNjYyODkxLDcuODQ5NDUzNDggNy4zNTg3ODE5OCw3LjY1MTQ2MDggTDcuMzY4NzQwMjQsNy42NDE1MDI1NCBMNy4zNjg3NDAyNCw3LjY0MTUwMjU0IEwxMi4xNDI4NTcxLDMgWiIgaWQ9IuW9oueKtue7k+WQiCI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",i[s.TIME_PREV]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMTYiIHk9IjE2IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMTYgMTYpIiBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIwLjA4Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNi42NTEzNiAxMC45NTI0TDMuMDU5ODIgOC4xMTQxMkMyLjk4MDA2IDguMDUxMSAyLjk4MDA2IDcuOTQ4OTEgMy4wNTk4MiA3Ljg4NTg4TDYuNjUxMzYgNS4wNDc2QzYuNzgwMDEgNC45NDU5MiA3IDUuMDE3OTMgNyA1LjE2MTcyTDcgMTAuODM4M0M3IDEwLjk4MjEgNi43ODAwMSAxMS4wNTQxIDYuNjUxMzYgMTAuOTUyNFpNMTMgNy40MDAxNUw3IDcuNDAwMTVMNyA4LjY1MDE1TDEzIDguNjUwMTVMMTMgNy40MDAxNVoiIGZpbGw9IiM4MTg2OEYiLz4KPC9zdmc+Cg==",i[s.TIME_NEXT]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMTYiIHk9IjE2IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMTYgMTYpIiBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIwLjA4Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOS4zNDg2NCA1LjA0NzZMMTIuOTQwMiA3Ljg4NTg4QzEzLjAxOTkgNy45NDg5IDEzLjAxOTkgOC4wNTExIDEyLjk0MDIgOC4xMTQxMkw5LjM0ODY0IDEwLjk1MjRDOS4yMTk5OSAxMS4wNTQxIDkgMTAuOTgyMSA5IDEwLjgzODNWNS4xNjE3MkM5IDUuMDE3OTMgOS4yMTk5OSA0Ljk0NTkyIDkuMzQ4NjQgNS4wNDc2Wk0zIDguNTk5ODVIOVY3LjM0OTg1SDNMMyA4LjU5OTg1WiIgZmlsbD0iIzgxODY4RiIvPgo8L3N2Zz4K",i[s.RENAME]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+bWVudV9yZW5hbWU8L3RpdGxlPgogICAgPGcgaWQ9IlBDIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iUEMv6I+c5Y2VL+mHjeWRveWQjSIgZmlsbD0iIzQ2NEQ1QSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjEsMTguNzUgTDIxLDIwIEw1LDIwIEw1LDE4Ljc1IEwyMSwxOC43NSBaIE0xNS45Mzg5Njk1LDQuMTMwNTg3NjYgTDE5LjA5MTYzNDYsNy4yODMyNTI3NCBDMTkuMjY1NzUxNCw3LjQ1NzM2OTYyIDE5LjI2NTc1MTQsNy43Mzk2Njg4NyAxOS4wOTE2MzQ2LDcuOTEzNzg1NzYgTDkuNTM2OTg2OTksMTcuNDY4NDMzMyBDOS40NzExMDg2NiwxNy41MzQzMTE3IDkuMzg2MjQ4MiwxNy41Nzc4OTc5IDkuMjk0MzI1NzksMTcuNTkzMDY5NSBMNS41MTg0NTk0OCwxOC4yMTYyNzA4IEM1LjI3NTUwNzkxLDE4LjI1NjM2OTYgNS4wNDYwNTAyNCwxOC4wOTE5MjQ5IDUuMDA1OTUxNDQsMTcuODQ4OTczNCBDNC45OTgwMTYxOSwxNy44MDA4OTUgNC45OTgwMTYxOSwxNy43NTE4NDExIDUuMDA1OTUxNDQsMTcuNzAzNzYyNyBMNS42MjkxNTI2OCwxMy45Mjc4OTY0IEM1LjY0NDMyNDM0LDEzLjgzNTk3NCA1LjY4NzkxMDU3LDEzLjc1MTExMzYgNS43NTM3ODg5LDEzLjY4NTIzNTIgTDE1LjMwODQzNjUsNC4xMzA1ODc2NiBDMTUuNDgyNTUzNCwzLjk1NjQ3MDc4IDE1Ljc2NDg1MjYsMy45NTY0NzA3OCAxNS45Mzg5Njk1LDQuMTMwNTg3NjYgWiBNMTMuMTYxLDguMDQ0IEw2LjgyLDE0LjM4NiBMNi40MjIsMTYuNzk5IEw4LjgzNiwxNi40MDEgTDE1LjE3NiwxMC4wNiBMMTMuMTYxLDguMDQ0IFogTTE1LjYyMyw1LjU4MyBMMTQuMDQ1LDcuMTYxIEwxNi4wNiw5LjE3NiBMMTcuNjM4LDcuNTk4IEwxNS42MjMsNS41ODMgWiIgaWQ9IuW9oueKtue7k+WQiCI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",i[s.DELETE]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9kZWxlPC90aXRsZT4KICAgIDxnIGlkPSJQQyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Il/lm77moIcv5bel5YW35qCPLzAzX+aUtumbhuihqC/liKDpmaQiPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNS41LDQgQzE1Ljc3NjE0MjQsNCAxNiw0LjIyMzg1NzYzIDE2LDQuNSBMMTYsNi40OTkgTDE3LjQ2MTU5MzEsNi41IEwxNy40NzEsNi41IEwyMCw2LjUgTDIwLDcuNzUgTDE3LjkwNyw3Ljc0OSBMMTcuMDM0MzAxLDE5LjUzNjkzNTggQzE3LjAxNDk2MDUsMTkuNzk4MDMzNSAxNi43OTc0ODAxLDIwIDE2LjUzNTY2NzIsMjAgTDcuNDY0MzMyODMsMjAgQzcuMjAyNTE5ODcsMjAgNi45ODUwMzk1MiwxOS43OTgwMzM1IDYuOTY1Njk4OTUsMTkuNTM2OTM1OCBMNi4wOTIsNy43NDkgTDQsNy43NSBMNCw2LjUgTDYuNTAxNDcxMDYsNi41MDEzNjYxMiBDNi41MTM3NjE5Niw2LjUwMDQ1NTY5IDYuNTI2MDgyMzMsNi41IDYuNTM4NDA2OSw2LjUgTDgsNi40OTkgTDgsNC41IEM4LDQuMjIzODU3NjMgOC4yMjM4NTc2Myw0IDguNSw0IEwxNS41LDQgWiBNMTYuNjUzOTgyNyw3Ljc1IEw3LjM0NjAxNzI2LDcuNzUgTDguMTYwODMyMDcsMTguNzUgTDE1LjgzOTE2NzksMTguNzUgTDE2LjY1Mzk4MjcsNy43NSBaIE0xMi42NDk4NzUzLDExIEwxMi42NDk4NzUzLDE2IEwxMS4zOTk4NzUzLDE2IEwxMS4zOTk4NzUzLDExIEwxMi42NDk4NzUzLDExIFogTTE0Ljc1LDUuMjUgTDkuMjUsNS4yNSBMOS4yNSw2LjQ5OSBMMTQuNzUsNi40OTkgTDE0Ljc1LDUuMjUgWiIgaWQ9IuW9oueKtue7k+WQiCIgZmlsbD0iIzQ2NEQ1QSIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",i[s.TOOLBAR_COLLAPSE]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9zbWFydHNoZWV0X2NvbGxhcHNlc3RhY2s8L3RpdGxlPgogICAgPGcgaWQ9IlBDIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uEIj4KICAgICAgICAgICAgPHJlY3QgaWQ9ImJnIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMS41LDUgQzExLjc3NjE0MjQsNSAxMiw1LjIyMzg1NzYzIDEyLDUuNSBMMTIsMTguNSBDMTIsMTguNzc2MTQyNCAxMS43NzYxNDI0LDE5IDExLjUsMTkgTDYuNSwxOSBDNi4yMjM4NTc2MywxOSA2LDE4Ljc3NjE0MjQgNiwxOC41IEw2LDUuNSBDNiw1LjIyMzg1NzYzIDYuMjIzODU3NjMsNSA2LjUsNSBMMTEuNSw1IFogTTEwLjgsNi4yIEw3LjIsNi4yIEw3LjIsMTcuOCBMMTAuOCwxNy44IEwxMC44LDYuMiBaIE0xNy41MjUzMTY1LDcgTDE4LjUsOC4wNzY5MjMwOCBMMTQuOTQ4NjcwOSwxMS45OTkyMzA4IEwxOC41LDE1LjkyMzA3NjkgTDE3LjUyNTMxNjUsMTcgTDEzLDEyIEwxNy41MjUzMTY1LDcgWiIgaWQ9IuW9oueKtue7k+WQiCIgZmlsbD0iIzQ2NEQ1QSIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",i[s.IMAGE_DEFAULT]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+cGxhY2Vob2xkZXJfNDhfaW1hZ2VkZWZhdWx0PC90aXRsZT4KICAgIDxnIGlkPSLmjqfku7YiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJQbGFjZWhvbGRlcuWNoOS9jeWbvi/lhYPntKAv5Zu+54mH5aSH5Lu9IiBmaWxsPSIjQ0JDREQxIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzgsMTEgQzM5LjEwNDU2OTUsMTEgNDAsMTEuODk1NDMwNSA0MCwxMyBMNDAsMzUgQzQwLDM2LjEwNDU2OTUgMzkuMTA0NTY5NSwzNyAzOCwzNyBMMTAsMzcgQzguODk1NDMwNSwzNyA4LDM2LjEwNDU2OTUgOCwzNSBMOCwxMyBDOCwxMS44OTU0MzA1IDguODk1NDMwNSwxMSAxMCwxMSBMMzgsMTEgWiBNMzgsMTMgTDEwLDEzIEwxMCwzMC45NjMgTDE5LjIxNzkzODYsMjAuNjAyNjk3NSBMMjUuNTU3LDI2LjIxMiBMMzMuMjE3OTM4NiwxNy42MDI2OTc1IEwzOCwyMS44OTc2OTc1IEwzOCwyNC42Mzc2OTc1IEwzMy4zNzYwNzc5LDIwLjQ4NTIxMDcgTDI2LjY5LDI3Ljk5OTY5NzUgTDI2LjU2NCwyNy45OTkgTDI1LjY3NjE3MjQsMjkuMDQxNDIwNiBMMjQuNDk0LDI3Ljk5OSBMMjMuOTY4LDI3Ljk5OTY5NzUgTDI0LjE5OSwyNy43MzggTDE5LjM3NjA3NzksMjMuNDg1MjEwNyBMMTAsMzQuMDIyIEwxMCwzNSBMMzgsMzUgTDM4LDEzIFoiIGlkPSLlvaLnirbnu5PlkIgiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",i[s.TIP_DARK]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaTTEzIDguMjVDMTMgOC45NDAzNiAxMi40NDA0IDkuNSAxMS43NSA5LjVDMTEuMDU5NiA5LjUgMTAuNSA4Ljk0MDM2IDEwLjUgOC4yNUMxMC41IDcuNTU5NjQgMTEuMDU5NiA3IDExLjc1IDdDMTIuNDQwNCA3IDEzIDcuNTU5NjQgMTMgOC4yNVpNMTQgMTZWMTVIMTNWMTBIMTBWMTFIMTFWMTVIMTBWMTZIMTRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",i[s.TIP_BLUE]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iOSIgZmlsbD0iIzFFNkZGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjc1IDkuNUMxMi40NDA0IDkuNSAxMyA4Ljk0MDM2IDEzIDguMjVDMTMgNy41NTk2NCAxMi40NDA0IDcgMTEuNzUgN0MxMS4wNTk2IDcgMTAuNSA3LjU1OTY0IDEwLjUgOC4yNUMxMC41IDguOTQwMzYgMTEuMDU5NiA5LjUgMTEuNzUgOS41Wk0xNCAxNVYxNkgxMFYxNUgxMVYxMUgxMFYxMEgxM1YxNUgxNFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",i),se=((o={})[ie.f.TEXT]=u,o[ie.f.NUMBER]=_,o[ie.f.MULTIPLE_SELECT]=v,o[ie.f.SINGLE_SELECT]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zbWFydHNoZWV0X2F0dHJpYnV0ZV9zZWxlY3Q8L3RpdGxlPgogICAgPGcgaWQ9IlBD5pm66IO96KGo5qC85Li76aG16Z2iIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5YiX6KGo54q25oCBJmFtcDvlm77moIfotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTgwLjAwMDAwMCwgLTcwNi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IuWbvuaghyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0MC4wMDAwMDAsIDU4Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLliJflsZ7mgKciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDAuMDAwMDAwLCAwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMiw0IEMxNi40MTgyNzgsNCAyMCw3LjU4MTcyMiAyMCwxMiBDMjAsMTYuNDE4Mjc4IDE2LjQxODI3OCwyMCAxMiwyMCBDNy41ODE3MjIsMjAgNCwxNi40MTgyNzggNCwxMiBDNCw3LjU4MTcyMiA3LjU4MTcyMiw0IDEyLDQgWiBNMTIsNS4zIEM4LjI5OTY5MjE4LDUuMyA1LjMsOC4yOTk2OTIxOCA1LjMsMTIgQzUuMywxNS43MDAzMDc4IDguMjk5NjkyMTgsMTguNyAxMiwxOC43IEMxNS43MDAzMDc4LDE4LjcgMTguNywxNS43MDAzMDc4IDE4LjcsMTIgQzE4LjcsOC4yOTk2OTIxOCAxNS43MDAzMDc4LDUuMyAxMiw1LjMgWiBNMTQuMzA1Mzc2MywxMC41IEwxNS4yLDExLjM3Mzk0OTYgTDEyLDE0LjUgTDguOCwxMS4zNzM5NDk2IEw5LjY5NDYyMzY2LDEwLjUgTDEyLjAwMDY4ODIsMTIuNzUyNzczMSBMMTQuMzA1Mzc2MywxMC41IFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiM4MTg2OEYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",o[ie.f.URL]=y,o[ie.f.CHECKBOX]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zbWFydHNoZWV0X2F0dHJpYnV0ZV9jaGVja2JveDwvdGl0bGU+CiAgICA8ZyBpZD0iUEPmmbrog73ooajmoLzkuLvpobXpnaIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLliJfooajnirbmgIEmYW1wO+Wbvuagh+i1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3ODAuMDAwMDAwLCAtNzA2LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i5Zu+5qCHIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTQwLjAwMDAwMCwgNTgyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IuWIl+WxnuaApyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEyNC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDAuMDAwMDAwLCAwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgc3Ryb2tlPSIjOTc5Nzk3IiBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNy4wNzk5MDEyLDQuOTk4MTU3MjkgTDE1Ljc3OTkwMTIsNi4yOTgxNTcyOSBMNi4zLDYuMyBMNi4yOTcsOS45OTkxNTcyOSBMNi4zLDE0IEw2LjMsMTcuNyBMMTcuNywxNy43IEwxNy42OTk5MDEyLDEyLjU4MTE1NzMgTDE5LDExLjI4MTE1NzMgTDE5LDE4IEMxOSwxOC41NTIyODQ3IDE4LjU1MjI4NDcsMTkgMTgsMTkgTDYsMTkgQzUuNDQ3NzE1MjUsMTkgNSwxOC41NTIyODQ3IDUsMTggTDUsNiBDNSw1LjQ0NzcxNTI1IDUuNDQ3NzE1MjUsNSA2LDUgTDE3LjA3OTkwMTIsNC45OTgxNTcyOSBaIE0xOS42NTY4NTQyLDYuODIxNTcyODggQzE5LjkxMDY5NSw3LjA3NTQxMzY2IDE5LjkxMDY5NSw3LjQ4Njk3MDkgMTkuNjU2ODU0Miw3Ljc0MDgxMTY5IEwxMS45ODQ3NDU3LDE1LjQxMjkyMDMgQzExLjc4OTQ4MzUsMTUuNjA4MTgyNCAxMS40NzI5MDEsMTUuNjA4MTgyNCAxMS4yNzc2Mzg5LDE1LjQxMjkyMDMgTDguMzQzMTQ1NzUsMTIuNDc4NDI3MSBDOC4wODkzMDQ5NiwxMi4yMjQ1ODYzIDguMDg5MzA0OTYsMTEuODEzMDI5MSA4LjM0MzE0NTc1LDExLjU1OTE4ODMgQzguNTk2OTg2NTQsMTEuMzA1MzQ3NSA5LjAwODU0Mzc4LDExLjMwNTM0NzUgOS4yNjIzODQ1NywxMS41NTkxODgzIEwxMS42MzExOTIzLDEzLjkyNzk5NiBMMTguNzM3NjE1NCw2LjgyMTU3Mjg4IEMxOC45OTE0NTYyLDYuNTY3NzMyMDkgMTkuNDAzMDEzNSw2LjU2NzczMjA5IDE5LjY1Njg1NDIsNi44MjE1NzI4OCBaIiBpZD0iU2hhcGUiIGZpbGw9IiM4MTg2OEYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",o[ie.f.IMAGE]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zbWFydHNoZWV0X2F0dHJpYnV0ZV9pbWFnZTwvdGl0bGU+CiAgICA8ZyBpZD0iUEPmmbrog73ooajmoLzkuLvpobXpnaIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLliJfooajnirbmgIEmYW1wO+Wbvuagh+i1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3NDAuMDAwMDAwLCAtNzA2LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i5Zu+5qCHIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTQwLjAwMDAwMCwgNTgyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IuWIl+WxnuaApyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEyNC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDAuMDAwMDAwLCAwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5LDUgQzE5LjU1MjI4NDcsNSAyMCw1LjQ0NzcxNTI1IDIwLDYgTDIwLDE4IEMyMCwxOC41NTIyODQ3IDE5LjU1MjI4NDcsMTkgMTksMTkgTDUsMTkgQzQuNDQ3NzE1MjUsMTkgNCwxOC41NTIyODQ3IDQsMTggTDQsNiBDNCw1LjQ0NzcxNTI1IDQuNDQ3NzE1MjUsNSA1LDUgTDE5LDUgWiBNMTguNyw2LjMgTDUuMyw2LjMgTDUuMywxNy43IEwxOC43LDE3LjcgTDE4LjcsNi4zIFogTTEzLjY2NjY2NjcsMTAgTDE3LDE2IEw3LDE2IEw5LjIyMjIyMjIyLDEyLjAxIEwxMC44ODIwOTEyLDE0LjczMzk0NSBMMTMuNjY2NjY2NywxMCBaIiBpZD0iU2hhcGUiIGZpbGw9IiM4MTg2OEYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",o[ie.f.DATE_TIME]=I,o[ie.f.CREATED_TIME]=I,o[ie.f.MODIFIED_TIME]=I,o[ie.f.CREATED_USER]=b,o[ie.f.MODIFIED_USER]=b,o[ie.f.PROGRESS]=c,o[ie.f.PHONE]=d,o[ie.f.EMAIL]=l,o[ie.f.ATTACHMENT]=a,o[ie.f.FORMULA]=_,o),ae=function(e){return"HyperlinkType-"+[e]},le=function(e){return"HyperlinkTypeToc-"+[e]},de=function(e){var t=ce[le(e)];return ne.K.getIsToc()&&t?t:ce[ae(e)]},ce=((r={})[ae(oe.hW.DOC)]=O,r[ae(oe.hW.SHEET)]=k,r[ae(oe.hW.SLIDE)]=z,r[ae(oe.hW.FORM)]=L,r[ae(oe.hW.PDF)]=H,r[ae(oe.hW.MIND)]=R,r[ae(oe.hW.FOLDER)]=N,r[ae(oe.hW.FLOWCHART)]=S,r[ae(oe.hW.FOLDER_SHARE)]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZmlsZV93ZWJfc2hhcmVmb2xkZXJfMTY8L3RpdGxlPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iOC45MDE1NzUwMiUiIHgyPSItNDguMzU0MDI4NiUiIHkyPSI5MC41MjE1NzExJSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUVDQ0YyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM0MEJFRkMiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPHBhdGggZD0iTTExLjQzMDMyNzEsMTAuMDkyNTc3MiBDMTEuNzg5MTY5OCwxMC4yNzAyMzEgMTIuMDA3MzA2MiwxMC42MTg5MjgxIDExLjk5OTgxMywxMC45ODMzMjQ4IEwxMS45OTk4MTMsMTIgTDYuMDAwMjI5MjcsMTIgTDYuMDAwMjI5MjcsMTAuOTgzMzI0OCBDNS45OTE5MDM0NSwxMC42MTg5MjgxIDYuMjEwODcyNDQsMTAuMjcwMjMxIDYuNTY5NzE1MTUsMTAuMDkyNTc3MiBMOC40NzYxNTkwOCw5LjEwMjg2NzQ2IEw4LjQ3NDU3ODgxLDkuMDE2ODkxNTYgQzguNDcyOTEzNjUsOC44Njg5ODQ0OSA4LjQwNzk3MjI4LDguNzI1MjA4OSA4LjI5MDU3ODI2LDguNjM0MzE2MjkgQzguMDMxNjQ1MzUsOC40MzM1MjYyNSA3Ljg2MjYzMTI3LDguMTIyMDEyNDcgNy44NTg0NjgzNiw3Ljc3MDgzNjQ3IEw3Ljg1MDE0MjU0LDcuMTI3MTUxNTIgQzcuODQyNjQ5MzEsNi41MTIzODY5NCA4LjMzODg2OCw2LjAwODM0NjA5IDguOTU3NDc2Miw2LjAwMDkwOTQyIEw5LjAwNjU5ODUyLDYuMDAwMDgzMTMgQzkuNjI2MDM5Myw1Ljk5MjY0NjQ2IDEwLjEzMzkxNDEsNi40ODUxMTkxNiAxMC4xNDE0MDc0LDcuMDk5ODgzNzMgTDEwLjE0OTczMzIsNy43NDI3NDIzOSBDMTAuMTUzODk2MSw4LjEwNDY2MDI1IDkuOTgzMjE2ODQsOC40Mjc3NDIxNyA5LjcxNTk1ODEyLDguNjM0MzE2MjkgQzkuNTk0NDAxMTksOC43Mjc2ODc3OSA5LjUyOTQ1OTgyLDguODc2NDIxMTYgOS41MzExMjQ5OCw5LjAyOTI4NiBMOS41MzI3Mjc2LDkuMTA3NDU4OTUgTDExLjQzMDMyNzEsMTAuMDkyNTc3MiBaIiBpZD0icGF0aC0yIj48L3BhdGg+CiAgICAgICAgPGZpbHRlciB4PSItMzMuMyUiIHk9Ii0xNi43JSIgd2lkdGg9IjE2Ni43JSIgaGVpZ2h0PSIxNjYuNyUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwICAgMCAwIDAgMCAwICAgMCAwIDAgMCAwICAwIDAgMCAwLjA4IDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSLlk4Hnsbvlm77moIflupMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLohb7orq/mlofmoaPlk4Hnsbvlm77moIfliIflm77lupMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDQ5LjAwMDAwMCwgLTI2NjQuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJmaWxlX3dlYl9zaGFyZWZvbGRlcl8xNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA0OS4wMDAwMDAsIDI2NjQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjRkZGRkZGIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xLjY4MjY2NjY3LDEgTDYuNzg5MDM1MjYsMSBDNi45NzQ5MjE3MywxIDcuMTUyNzcwMDUsMS4wNzU4MDIxMyA3LjI4MTUwMjM0LDEuMjA5ODk4MjcgTDksMyBMOSwzIEwxLDMgTDEsMS42ODI2NjY2NyBDMSwxLjMwNTY0MDI4IDEuMzA1NjQwMjgsMSAxLjY4MjY2NjY3LDEgWiIgaWQ9IuW9oueKtue7k+WQiCIgZmlsbD0iIzAwOEVENyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEsMyBMMTUuMTk5MDA0NCwzIEMxNS42NDEzODIxLDMgMTYsMy4zNTg2MTc5MyAxNiwzLjgwMDk5NTU2IEwxNiwxMy4xOTkwMDQ0IEMxNiwxMy42NDEzODIxIDE1LjY0MTM4MjEsMTQgMTUuMTk5MDA0NCwxNCBMMS44MDA5OTU1NiwxNCBDMS4zNTg2MTc5MywxNCAxLDEzLjY0MTM4MjEgMSwxMy4xOTkwMDQ0IEwxLDMgTDEsMyBaIiBpZD0i55+p5b2iIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8ZyBpZD0i6Lev5b6ELWNvcHktOSI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0yIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9IiNFN0Y5RkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgeGxpbms6aHJlZj0iI3BhdGgtMiI+PC91c2U+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",r[ae(oe.hW.IMAGE)]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aW1hZ2VfYmx1ZTwvdGl0bGU+CiAgICA8ZyBpZD0iUEMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLnvJbnu4QiIGZpbGw9IiMxRTZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTQsMiBMMTQsMTQgTDEsMTQgTDEsMiBMMTQsMiBaIE0xMywzIEwyLDMgTDIsMTMgTDEzLDEzIEwxMywzIFogTTksNiBMMTIsMTEgTDMsMTEgTDUsNy42NzUgTDYuNDkzODgyMDksOS45NDQ5NTQxMyBMOSw2IFoiIGlkPSLlvaLnirbnu5PlkIgiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",r[ae(oe.hW.TENCENTDOC)]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTYgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZmlsZV93ZWJfbG9nb18xNjwvdGl0bGU+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNNy42Nzk4OTk1NywwLjUyNDUyMzMyOSBMMTMuNzc1Nzc4Nyw1Ljg5NDUzODQ2IEwxMy42NDU0ODczLDUuODk3Mzk4NDkgTDkuODk2NTczMTQsNS44OTczOTg0OSBMOC42NjE4NjU0NSwxMi43NzkyMDE4IEw1LjQ4NjY5NTY2LDEyLjc3OTIwMTggTDYuNzIwMDA2OTgsNS44OTczOTg0OSBMNC4yMzAyOTA2Miw1Ljg5NzM5ODQ5IEwxLjk4Njk3ODczLDMuNTAzNzE2MjcgTDcuMTUwMzAxODEsMy40OTQ5MjQzNCBMNy42Nzk4OTk1NywwLjUyNDUyMzMyOSBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0i6aG16Z2iLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJMb2dvL25vcm1hbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIC0xLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjUzMzMzMywgMS42MDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMS45MjM5NTM1LDUuMjk2MzQzMDllLTA2IEwyLjQ1OTE4NTk1LDUuMjk2MzQzMDllLTA2IEMyLjMyODU3MjI0LDUuMjk2MzQzMDllLTA2IDIuMjE2ODYzMTUsMC4wOTI0Nzk0NDUxIDIuMTk0MTQ1MzksMC4yMTkyNzM4OTcgTDAuMDA0MTYzODUxMDEsMTIuNDY3NzU1NiBDLTAuMDI0ODkxMjUzOSwxMi42MzAyNDc0IDAuMTAxODAxODkzLDEyLjc3OTE4MDYgMC4yNjkwOTY5OTgsMTIuNzc5MTgwNiBMNS40ODY3MTcxNCwxMi43NzkxODA2IEw1LjkwMDIwMTg5LDEyLjY1Mjc1NjkgTDguMzIzMjY4NzUsMTIuNjUyNzU2OSBMOC42NjE4ODY5MywxMi43NzkxODA2IEwxMi42ODExNTg1LDEyLjc3OTE4MDYgQzEyLjgxMTcxODUsMTIuNzc5MTgwNiAxMi45MjM0Mjc2LDEyLjY4Njc1OTQgMTIuOTQ2MTQ1NCwxMi41NTk5MTIgTDE0Ljc0NzUwODIsMi40ODUxNTUzNiBMMTEuOTIzOTUzNSw1LjI5NjM0MzA5ZS0wNiBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjMUU2RkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEuOTIzOTY5NiwtMS4yMTUwMTY2OWUtMTMgTDE0Ljc0NzUyNDMsMi40ODUxNTAwNiBMMTEuODAwMjg0LDIuNDg1MTUwMDYgQzExLjYzMzA0MjYsMi40ODUxNTAwNiAxMS41MDYyNDIxLDIuMzM2MTYzOTMgMTEuNTM1Mjk3MiwyLjE3MzcyNTA5IEwxMS41MzUyOTcyLDIuMTczNzI1MDkgTDExLjkyMzk2OTYsLTEuMjE1MDE2NjllLTEzIFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiMwMERDRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stMiIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgICAgICA8dXNlIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiNGRkZGRkYiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",r[ae(oe.hW.OFFICE_EXCEL)]=g,r[ae(oe.hW.OFFICE_WORD)]=$,r[ae(oe.hW.OFFICE_PPT)]=Y,r[ae(oe.hW.AUDIO)]=w,r[ae(oe.hW.VIDEO)]=q,r[ae(oe.hW.ATTACHMENT_IMAGE)]=f,r[ae(oe.hW.DEFAULT)]=G,r[ae(oe.hW.EXE)]=D,r[ae(oe.hW.HTML)]=F,r[ae(oe.hW.CAD)]=E,r[ae(oe.hW.KEYNOTE)]=U,r[ae(oe.hW.OFFICE_EXCEL)]=x,r[ae(oe.hW.MAC)]=A,r[ae(oe.hW.AI)]=M,r[ae(oe.hW.PAGES)]=Z,r[ae(oe.hW.CDR)]=j,r[ae(oe.hW.PSD)]=V,r[ae(oe.hW.MAIL)]=B,r[ae(oe.hW.XMIND)]=ee,r[ae(oe.hW.VECTOR)]=J,r[ae(oe.hW.ANDROID)]=C,r[ae(oe.hW.NUMBERS)]=W,r[ae(oe.hW.SOLID_WORK)]=K,r[ae(oe.hW.OTHER)]=G,r[ae(oe.hW.BOARD)]=T,r[ae(oe.hW.ZIP)]=te,r[ae(oe.hW.TXT)]=X,r[ae(oe.hW.FONT)]=P,r[ae(oe.hW.SKETCH)]=Q,r[le(oe.hW.OFFICE_EXCEL)]=g,r[le(oe.hW.OFFICE_WORD)]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjMuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTYgMTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE2IDE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MS4wMDAwMDBlLTAyO2ZpbGw6I0Q4RDhEODtzdHJva2U6Izk3OTc5NztzdHJva2Utd2lkdGg6MC41O2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0MXtmaWxsOiNGRkZGRkY7c3Ryb2tlOiNEQ0RDREM7c3Ryb2tlLXdpZHRoOjAuNTt9Cgkuc3Qye2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0U1RTVFNTt9Cgkuc3Qze2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6dXJsKCNTVkdJRF8xXyk7fQoJLnN0NHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTE0LjQsMC4yYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYxNC43YzAsMC4yLTAuMiwwLjQtMC40LDAuNEgxLjZjLTAuMiwwLTAuNC0wLjItMC40LTAuNFYwLjYKCWMwLTAuMiwwLjItMC40LDAuNC0wLjRIMTQuNHoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTMuMSw1LjFoOXYwLjdoLTlWNS4xeiBNMy4xLDYuN2g5djAuN2gtOVY2Ljd6IE0xMi4xLDguM2gtOXYwLjdoOVY4LjN6IE0zLjEsOS44aDl2MC43aC05VjkuOHogTTEyLjEsMTEuNGgtOQoJdjAuN2g5VjExLjR6Ii8+CjxnPgoJCgkJPHJhZGlhbEdyYWRpZW50IGlkPSJTVkdJRF8xXyIgY3g9Ii02Ljc2NCIgY3k9IjI2LjA0ODciIHI9IjEiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTUuMjE5IDguNjcyMiA3Ljg0OTIgNC43MjM3IC0yMzIuMDUyMSAtNjEuNTc1NCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMzU5RkZGIi8+CgkJPHN0b3AgIG9mZnNldD0iMC45OTkyIiBzdHlsZT0ic3RvcC1jb2xvcjojMUU2RkZGIi8+Cgk8L3JhZGlhbEdyYWRpZW50PgoJPHBhdGggY2xhc3M9InN0MyIgZD0iTTEsMy42bDcuMi0wLjdjMC4yLDAsMC4zLDAuMSwwLjMsMC4zdjkuNGMwLDAuMi0wLjIsMC4zLTAuMywwLjNMMSwxMi4xVjMuNnoiLz4KPC9nPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik01LjUsOC4ybDAuNi0yLjVMNyw1LjZMNS45LDEwTDUuMSwxMEw0LjUsNy41TDMuOSw5LjlMMy4xLDkuOEwyLjIsNi4xTDMuMSw2bDAuNCwyLjJsMC42LTIuM2wwLjgtMC4xTDUuNSw4LjIKCQl6Ii8+CjwvZz4KPC9zdmc+Cg==",r[le(oe.hW.OFFICE_PPT)]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjMuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTYgMTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE2IDE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MS4wMDAwMDBlLTAyO2ZpbGw6I0Q4RDhEODtzdHJva2U6Izk3OTc5NztzdHJva2Utd2lkdGg6MC41O2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0MXtmaWxsOiNGRkZGRkY7c3Ryb2tlOiNEQ0RDREM7c3Ryb2tlLXdpZHRoOjAuNTt9Cgkuc3Qye2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0U1RTVFNTt9Cgkuc3Qze2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6dXJsKCNTVkdJRF8xXyk7fQoJLnN0NHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTE0LjQsMC4yYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYxNC43YzAsMC4yLTAuMiwwLjQtMC40LDAuNEgxLjZjLTAuMiwwLTAuNC0wLjItMC40LTAuNFYwLjYKCWMwLTAuMiwwLjItMC40LDAuNC0wLjRIMTQuNHoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTExLjQsNi41QzExLjQsNS4xLDEwLjMsNCw5LDR2Mi41SDExLjR6IE04LjUsNi45VjQuNUM3LjEsNC41LDYsNS42LDYsNi45YzAsMS40LDEuMSwyLjUsMi41LDIuNQoJYzEuNCwwLDIuNS0xLjEsMi41LTIuNUg4LjV6IE0zLjEsMTAuOGg5djAuN2gtOVYxMC44eiBNMTIuMSwxMi4zaC05VjEzaDlWMTIuM3oiLz4KPGc+CgkKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjkuMTUzOCIgeTE9IjEzLjI5NjIiIHgyPSIwLjIwOTciIHkyPSI1Ljg5MjIiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCAxOCkiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRjg3NTkiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojRkY1QjBGIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggY2xhc3M9InN0MyIgZD0iTTEsMy44bDcuMi0wLjdjMC4yLDAsMC4zLDAuMSwwLjMsMC4zdjkuNGMwLDAuMi0wLjIsMC4zLTAuMywwLjNMMSwxMi4zVjMuOHoiLz4KPC9nPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDQiIGQ9Ik0zLjIsNS43bDEuNi0wLjFjMC44LTAuMSwxLjUsMC43LDEuNSwxLjZTNS43LDguOSw0LjgsOC44TDQsOC44djEuNWwtMC44LTAuMVY1Ljd6IE0zLjksNi40VjhoMC45CgkJYzAuNCwwLDAuOC0wLjQsMC44LTAuOGMwLTAuNS0wLjMtMC44LTAuOC0wLjhMMy45LDYuNHoiLz4KPC9nPgo8L3N2Zz4K",r[le(oe.hW.AUDIO)]=m,r[le(oe.hW.VIDEO)]=m,r[le(oe.hW.MUSIC)]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMSIgd2lkdGg9IjE0IiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ljc4NzQ4IDQuMjVMMTEuOTk5NCAzLjVWNC4zNzUwNkgxMlYxMS4xMjVIMTEuOTk5OFYxMS4yNUw5LjE2NjUgMTJWOS43NUwxMC40NTQ2IDkuNDA5MDNWNS4yNDYyOEw2LjMzMjg5IDUuNzAzNTRWOS41MDAxTDYuMzMzMjYgOS41VjExLjc1TDMuNSAxMi41VjEwLjI1TDQuNzg3NDggOS45MDkxOVY1Ljg3NDk5VjQuODc0OTRWNC4yNVoiIGZpbGw9IiMwMEFBNUIiLz4KPHJlY3QgeD0iMS4yNSIgeT0iMC4yNSIgd2lkdGg9IjEzLjUiIGhlaWdodD0iMTUuNSIgcng9IjAuNzUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1vcGFjaXR5PSIwLjE2IiBzdHJva2Utd2lkdGg9IjAuNSIvPgo8L3N2Zz4K",r[le(oe.hW.AI)]="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMSIgd2lkdGg9IjE0IiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS44NTcyIDUuNzE1MzhDMTIuNDg4NCA1LjcxNTM4IDEzLjAwMDEgNS4yMTk0NSAxMy4wMDAxIDQuNjA3NjlDMTMuMDAwMSAzLjk5NTkzIDEyLjQ4ODQgMy41IDExLjg1NzIgMy41QzExLjIyNiAzLjUgMTAuNzE0NCAzLjk5NTkzIDEwLjcxNDQgNC42MDc2OUMxMC43MTQ0IDUuMjE5NDUgMTEuMjI2IDUuNzE1MzggMTEuODU3MiA1LjcxNTM4Wk01LjQ4NTcxIDMuNjM4NDNINS43MTQwOEg3LjE0Mjg2SDcuMzcxMjJMOS44NTY5MyAxMi41SDguMTk5NzlMNy42MTcyMyAxMC40MjMxSDUuMjM5NzFMNC42NTcxNCAxMi41SDNMNS40ODU3MSAzLjYzODQzWk03LjE1MTE2IDguNzYxNkw2LjQyODQ3IDYuMTg1MjJMNS43MDU3OCA4Ljc2MTZINy4xNTExNlpNMTEgNi4yNjkyOUgxMi43MTQzVjEyLjUwMDFIMTFWNi4yNjkyOVoiIGZpbGw9IiNGRjgyNDYiLz4KPHJlY3QgeD0iMS4yNSIgeT0iMC4yNSIgd2lkdGg9IjEzLjUiIGhlaWdodD0iMTUuNSIgcng9IjAuNzUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS1vcGFjaXR5PSIwLjE2IiBzdHJva2Utd2lkdGg9IjAuNSIvPgo8L3N2Zz4K",r[le(oe.hW.IMAGE)]=f,r[le(oe.hW.PDF)]="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjMuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTYgMTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE2IDE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjtzdHJva2U6I0RDRENEQztzdHJva2Utd2lkdGg6MC41O30KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRTVFNUU1O30KCS5zdDJ7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDp1cmwoI1NWR0lEXzFfKTtmaWxsLW9wYWNpdHk6MC45Njt9Cgkuc3Qze2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNC40LDAuMmMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MTQuN2MwLDAuMi0wLjIsMC40LTAuNCwwLjRIMS42Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRWMC42CgljMC0wLjIsMC4yLTAuNCwwLjQtMC40SDE0LjR6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02LjYsNC4yaDIuNXYzLjVINi42VjQuMnogTTEwLjEsNC4ySDEydjEuM2gtMS45VjQuMnogTTEyLDYuNWgtMS45djEuM0gxMlY2LjV6IE02LDguN2g2VjEwSDZWOC43eiBNMTIsMTFINgoJdjEuM2g2VjExeiIvPgo8Zz4KCQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iOC4zNzkyIiB5MT0iMTMuMDYxMSIgeDI9IjAuMjk4NCIgeTI9IjUuNDgwNCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDE4KSI+CgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6I0ZGNzI3MiIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRjQ3NDciLz4KCTwvbGluZWFyR3JhZGllbnQ+Cgk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMSwzLjhsNy4yLTAuN2MwLjIsMCwwLjMsMC4xLDAuMywwLjN2OS40YzAsMC4yLTAuMiwwLjMtMC4zLDAuM0wxLDEyLjNWMy44eiIvPgo8L2c+CjxnPgoJPHBhdGggY2xhc3M9InN0MyIgZD0iTTYuMiw4LjRjLTAuMiwwLTAuNSwwLTAuNywwYy0wLjQtMC4yLTAuNi0wLjUtMC44LTFsMC0wLjFsMC0wLjFDNC43LDcsNC44LDYuOCw0LjgsNi42YzAtMC4yLDAtMC4zLDAtMC40CgkJQzQuNyw1LjksNC41LDUuOCw0LjMsNS44QzQsNS43LDMuOCw1LjksMy44LDYuMWMtMC4xLDAuMywwLDAuOCwwLjIsMS41QzMuNyw4LjEsMy40LDguOCwzLjEsOS4yQzIuOSw5LjMsMi42LDkuNSwyLjQsOS42CgkJQzIuMiw5LjgsMiwxMCwyLDEwLjJjMCwwLjEsMCwwLjIsMC4xLDAuM2MwLjEsMC4xLDAuMiwwLjIsMC4zLDAuMmMwLjQsMCwwLjgtMC4zLDEuMy0xLjJjMCwwLDAuMSwwLDAuMSwwbDAsMGMwLDAsMCwwLDAuMSwwCgkJbDAuMi0wLjFjMC4xLDAsMC4yLTAuMSwwLjMtMC4xQzQuNyw5LjIsNSw5LjIsNS4yLDkuMWMwLjQsMC4yLDAuOSwwLjQsMS4yLDAuNGMwLjMsMCwwLjUtMC4xLDAuNS0wLjRDNyw4LjksNyw4LjcsNi45LDguNgoJCUM2LjcsOC41LDYuNSw4LjQsNi4yLDguNHogTTQuMiw3LjlMNC4yLDcuOUw0LjIsNy45QzQuNSw4LjIsNC43LDguNSw1LDguN2wwLjEsMGwtMC4xLDBDNC43LDguOCw0LjUsOC45LDQuMiw5YzAsMCwwLDAsMCwwbDAsMAoJCWwwLDBsMCwwQzQsOSwzLjgsOS4xLDMuNyw5LjJsLTAuMSwwbDAtMC4xQzMuOSw4LjgsNC4xLDguNCw0LjIsNy45eiBNNS44LDguOWMwLjQsMC4yLDAuNywwLjIsMC44LDAuMmMwLDAsMCwwLDAsMGgwYzAsMCwwLDAsMCwwCgkJYzAsMCwwLTAuMSwwLTAuMWMwLDAtMC4xLTAuMS0wLjEtMC4xQzYuNCw4LjgsNi4yLDguOCw1LjgsOC45bC0wLjEsMEw1LjgsOC45eiBNNC4zLDdMNC4zLDdMNC4zLDdDNC4yLDYuOSw0LjIsNi43LDQuMiw2LjUKCQljMC0wLjIsMC0wLjQsMC4xLTAuNGMwLjEsMCwwLjEsMC4yLDAuMiwwLjRDNC40LDYuNyw0LjQsNi45LDQuMyw3eiBNMi40LDEwLjNMMi40LDEwLjNDMi40LDEwLjMsMi40LDEwLjMsMi40LDEwLjMKCQlDMi41LDEwLjQsMi41LDEwLjQsMi40LDEwLjNDMi41LDEwLjQsMi41LDEwLjQsMi40LDEwLjNDMi41LDEwLjQsMi41LDEwLjMsMi40LDEwLjNMMi40LDEwLjNjMC4xLDAsMC4yLDAsMC4yLTAuMQoJCUMyLjgsMTAuMSwzLDkuOSwzLjIsOS42bDAuMS0wLjJMMy4xLDkuNWMwLDAsMCwwLTAuMSwwQzMsOS42LDMsOS42LDMsOS43QzIuOSw5LjcsMi44LDkuOCwyLjgsOS44Yy0wLjEsMC4xLTAuMiwwLjItMC4zLDAuMwoJCUMyLjUsMTAuMiwyLjUsMTAuMywyLjQsMTAuM0wyLjQsMTAuM3oiLz4KPC9nPgo8L3N2Zz4K",r[ae(oe.hW.DEFAULT)]=h,r),ue=Object.assign(se,ce,re)},"../node_modules/@tencent/xtable-render/es/base/icon/index.js":function(e,t,n){"use strict";n.d(t,{Y:function(){return c},Z:function(){return u}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i,o=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),r=n("../node_modules/@tencent/xtable-render/es/base/icon/alias.js"),s=n("../node_modules/@tencent/xtable-render/es/base/lib/index.js"),a=n("../node_modules/@tencent/xtable-render/es/base/util.js"),l=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),d=n("../node_modules/@tencent/xtable-render/es/platform/index.js"),c=r.Ye;!function(e){e[e.LOADING=0]="LOADING",e[e.LOADED=1]="LOADED",e[e.FAILED=2]="FAILED"}(i||(i={}));var u=function(){function e(){for(var e in this.sources=new Map,this.watingAttaches=new Map,r.Wn)this.loadIconAsync(e,r.Wn[e])}var t=e.prototype;return t.draw=function(e,t,n,s){var a=this;if(r.Wn[t]){var l=this.sources.get(t);if(l||this.loadIconAsync(t,r.Wn[t]),!l||(null===l||void 0===l?void 0:l.status)===i.LOADING)return this.pushWatingAttach(t,(function(){var i=a.attach(e,t,n);null===s||void 0===s||s(i)})),null;if(l.status===i.LOADED){var d=this.attach(e,t,n);return null===s||void 0===s||s(d),d}return l.status===i.FAILED?(o.k.error("渲染层图标加载失败: "+t),null):void 0}o.k.warn("渲染层没有找到图标: "+t)},t.attach=function(e,t,n){a.D.validConfig(n);var i=this.sources.get(t).shape.clone(n);return e&&e.add(i),i},t.pushWatingAttach=function(e,t){var n=this.watingAttaches.get(e)||[];n.push(t),this.watingAttaches.set(e,n)},t.popWatingAttach=function(e){for(var t=this.watingAttaches.get(e);null===t||void 0===t?void 0:t.length;)t.shift()();this.watingAttaches.delete(e)},t.loadIconAsync=function(e,t){var n=this,o=new Image;o.onload=function(){var t=new s.Ee({x:0,y:0,width:l.UV,height:l.UV,image:n.fixBlurredSvg(o),shadowForStrokeEnabled:!1,perfectDrawEnabled:!1,listening:!1,draggable:!1});t.cache(),n.sources.set(e,{shape:t,status:i.LOADED}),n.setSourceStatus(e,i.LOADED),n.popWatingAttach(e)},o.onerror=function(){n.setSourceStatus(e,i.FAILED),n.watingAttaches.delete(e)},this.sources.set(e,{shape:null,status:i.LOADING}),o.src=t},t.setSourceStatus=function(e,t){var n=this.sources.get(e);n?n.status=t:n={shape:null,status:t},this.sources.set(e,n)},t.fixBlurredSvg=function(e){if(!(0,d.$s)())return e;var t=document.createElement("canvas");return t.width=3*l.UV,t.height=3*l.UV,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t},e}()},"../node_modules/@tencent/xtable-render/es/base/index.js":function(e,t,n){"use strict";n.d(t,{u:function(){return x},Z:function(){return A}});var i=n("../node_modules/@tencent/xtable-render/es/base/lib/index.js"),o=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),r=n("../node_modules/@tencent/xtable-render/es/base/cell/attachment.js"),s=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),a=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/@tencent/xtable-render/es/base/cell/base.js")),l=n("../node_modules/@tencent/xtable-render/es/base/icon/index.js"),d=n("../node_modules/@tencent/xtable-render/es/constants/config.js"),c=function(e){function t(){return e.apply(this,arguments)||this}(0,s.Z)(t,e);var n=t.prototype;return n.measureWidth=function(e){return d.k3.size},n.draw=function(e,t,n,i,o){var r,s,a=null!==(s=null===(r=n[0])||void 0===r?void 0:r.checked)&&void 0!==s&&s?l.Y.CHECKBOX_CELL_CHECKED:l.Y.CHECKBOX_CELL_UNCHECKED;this.base.icon.draw(e,a,t,o),i.actionMark&&o(this.base.shape.rect(e,Object.assign(Object.assign(Object.assign({},i.actionMark),t),{listening:!0})))},t}(a.Z),u=(n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/@tencent/xtable-common/es/image/index.js")),h=n("../node_modules/@tencent/xtable-render/es/cache/index.js"),g=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),f={cornerRadius:g.n_,stroke:"rgba(0, 0, 0, 0.08)",strokeWidth:1},m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).useCache=!1,t}(0,s.Z)(t,e);var n=t.prototype;return n.measureWidth=function(e){return 0},n.draw=function(e,t,n,i,o){var r=this,s=n.map((function(e){return r.base.util.loadImage((0,u.gu)(e.imageUrl))}));Promise.all(s).then((function(n){r.drawImages(e,t,n,o)}))},n.drawImages=function(e,t,n,i){var o=this,r=this.base.board(t),s=0;n.forEach((function(e){var n=null===e||void 0===e?void 0:e.getAttribute("src");if(n&&e&&!(s>t.width)){var i,a=(0,u.EI)(e,t.height,d.aP.maxRate),l=a.width,c=a.height,g=(0,u.mQ)({width:l,height:c},d.aP.maxRate),m=g.width,p=g.height,v={x:s,y:0,width:l,height:c},I="image-"+n;o.useCache&&h.Z.hasShape(I)?i=h.Z.getShape(I).clone({x:s,y:0}):(i=o.base.shape.rect(null,Object.assign(Object.assign({},v),f)),e.setAttribute("width",""+e.width),e.setAttribute("height",""+e.height),o.fillAndFormatImageRect(r,i,e,l,c,m,p),h.Z.setShape(I,i)),r.add(i),s+=m+d.aP.margin}})),r.clipFunc((function(e){e.rect(0,0,t.width,t.height)})),e.add(r),i(r)},n.fillAndFormatImageRect=function(e,t,n,i,o,r,s){t.setSize({width:r,height:s});var a={x:i/n.width,y:o/n.height};t.fillPatternScale(a),t.fillPatternOffsetX((i-r)/a.x/2),t.fillPatternOffsetY((o-s)/a.y/2),t.fillPatternImage(n),t.fillPatternRepeat("no-repeat"),e.add(t),t.show()},t}(a.Z),p=function(e){function t(){return e.apply(this,arguments)||this}(0,s.Z)(t,e);var n=t.prototype;return n.measureWidth=function(e){return 0},n.draw=function(e,t,n,i,o){var r,s,a=n[0],l=a.number,c=a.text,u=t.width*(l||0);o(this.base.shape.rect(e,Object.assign(Object.assign({},t),{width:u,height:(null===(r=i.progressConfig)||void 0===r?void 0:r.size)||d.id.size,cornerRadius:d.id.radius,fill:d.id.background}))),(null===(s=i.progressConfig)||void 0===s?void 0:s.showLine)&&o(this.base.shape.rect(e,Object.assign(Object.assign({},t),{cornerRadius:d.id.radius,stroke:d.id.borderColor,strokeWidth:d.id.borderWidth}))),o(this.drawText(e,t,c,Object.assign({},i.textConfig)))},t}(a.Z),v=n("../node_modules/@tencent/xtable-render/es/base/cell/select.js"),I=(n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.replace.js"),function(e){function t(){return e.apply(this,arguments)||this}(0,s.Z)(t,e);var n=t.prototype;return n.measureWidth=function(e,t){var n=e.map((function(e){return e.text})).join(" ");return this.base.util.measureWidth(n,null===t||void 0===t?void 0:t.fontSize,null===t||void 0===t?void 0:t.fontStyle)},n.draw=function(e,t,n,i,o){var r=n.map((function(e){return e.text})).join("\n");o(this.drawFormatLine(e,t,r,i))},n.drawFormatLine=function(e,t,n,i){return 1===i.lineCount?this.drawSingleLineText(e,t,n,i):this.drawMultipleLineText(e,t,n,i)},n.drawSingleLineText=function(e,t,n,i){var o=n.replace(/\n/g," ");return this.drawText(e,t,o,i.textConfig)},n.drawMultipleLineText=function(e,t,n,i){var o=this.drawText(e,t,n,Object.assign(Object.assign({},i.textConfig),{wrap:"char",ellipsis:!1,height:t.height})),r=n.replace(/\n/g,"").length,s=o.textArr.map((function(e){return e.text}));if(r>s.join("").length+function(e,t){for(var n=0,i=0;i<t.length;)" "===e[t[i].length]&&(n+=1),i+=1;return n}(n,s)){var a=o.textArr.length,l=o.textArr.map((function(e,n){var i=n===a-1,o=e.text,r=e.width,s="";return s=i&&r>t.width-16?o.substr(0,o.length-"…".length-2):o,(i?s+"…":s)+"\n"}));o.setText(l.join(""))}return o},t}(a.Z)),y=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js"),_=n("../node_modules/@tencent/xtable-render/es/base/icon/alias.js"),b=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).baseText=new I(t.base),t}(0,s.Z)(t,e);var n=t.prototype;return n.measureWidth=function(e,t){var n=e[0],i=this.base.util.measureWidth(n.text,null===t||void 0===t?void 0:t.fontSize,null===t||void 0===t?void 0:t.fontStyle);return n.hyperlinkType&&(i+=g._u),i},n.draw=function(e,t,n,i,o){var r,s,a,l,d=n[0],c=this.base.util.measureWidth(d.text,null===(r=i.textConfig)||void 0===r?void 0:r.fontSize,null===(s=i.textConfig)||void 0===s?void 0:s.fontStyle),u=d.hyperlinkType!==y.hW.OTHER?g._u:0;d.hyperlinkType&&u&&this.base.icon.draw(e,(0,_.UF)(d.hyperlinkType),{x:t.x,y:t.y},o);var h={x:t.x+u,y:t.y,width:(null===(a=i.urlConfig)||void 0===a?void 0:a.fullWidth)?t.width:Math.min(c,t.width-u),height:1===i.lineCount?g.Kt:t.height},f=Object.assign(Object.assign(Object.assign(Object.assign({},i.actionMark),{fill:g.nc}),i.textConfig),{listening:!0}),m=Object.assign(Object.assign({},i),{textConfig:f}),p=this.baseText.drawFormatLine(null,h,d.text,m);!1!==(null===(l=i.urlConfig)||void 0===l?void 0:l.isAttachEvent)&&(p.on("mouseenter",(function(){p.textDecoration("underline")})),p.on("mouseleave",(function(){p.textDecoration("")}))),e.add(p),o(p)},t}(a.Z),M=(n("../node_modules/core-js/modules/es.function.name.js"),function(e){function t(){return e.apply(this,arguments)||this}(0,s.Z)(t,e);var n=t.prototype;return n.measureWidth=function(e,t){var n=e[0].name;return g._u+6+this.base.util.measureWidth(n,null===t||void 0===t?void 0:t.fontSize,null===t||void 0===t?void 0:t.fontStyle)},n.draw=function(e,t,n,i,o){var r,s=this,a=n[0],l=a.avatarUrl,d=a.name,c={x:t.x,y:t.y,width:g._u,height:g._u},u="avatar-"+l;h.Z.hasShape(u)?(r=h.Z.getShape(u).clone({x:c.x,y:c.y}),e.add(r),o(r)):this.base.util.loadImage(l).then((function(t){t&&((r=s.base.shape.rect(null,Object.assign(Object.assign({},c),f))).fillPatternScale({x:g._u/t.width,y:g._u/t.height}),r.fillPatternImage(t),h.Z.setShape(u,r),e.add(r),o(r))}));var m=g._u+6,p={x:t.x+m,y:t.y,width:t.width-m,height:t.height},v=this.drawText(e,p,d,i.textConfig);o(v)},t}(a.Z)),C=function(){function e(e){this.base=e,this.text=new I(this.base),this.url=new b(this.base),this.image=new m(this.base),this.select=new v.Z(this.base),this.checkbox=new c(this.base),this.user=new M(this.base),this.progress=new p(this.base),this.attachment=new r.Z(this.base)}var t=e.prototype;return t.draw=function(e,t,n,i,r){if(void 0===i&&(i={}),void 0===r&&(r=function(){}),n&&0!==n.data.length)switch(n.sourceType){case o.f.URL:this.url.draw(e,t,n.data,i,r);break;case o.f.MULTIPLE_SELECT:case o.f.SINGLE_SELECT:this.select.draw(e,t,n.data,i,r);break;case o.f.CHECKBOX:this.checkbox.draw(e,t,n.data,i,r);break;case o.f.IMAGE:this.image.draw(e,t,n.data,i,r);break;case o.f.CREATED_USER:case o.f.MODIFIED_USER:this.user.draw(e,t,n.data,i,r);break;case o.f.PROGRESS:this.progress.draw(e,t,n.data,i,r);break;case o.f.ATTACHMENT:this.attachment.draw(e,t,n.data,i,r);break;default:this.text.draw(e,t,n.data,i,r)}},t.measureWidth=function(e,t){if(0===e.data.length)return 0;switch(e.sourceType){case o.f.URL:return this.url.measureWidth(e.data,t);case o.f.MULTIPLE_SELECT:case o.f.SINGLE_SELECT:return this.select.measureWidth(e.data,t);case o.f.IMAGE:return this.image.measureWidth(e.data);case o.f.CREATED_USER:case o.f.MODIFIED_USER:return this.user.measureWidth(e.data,t);case o.f.PROGRESS:return this.progress.measureWidth(e.data);case o.f.ATTACHMENT:return this.attachment.measureWidth(e.data);default:return this.text.measureWidth(e.data,t)}},e}(),w=n("../node_modules/@tencent/xtable-render/es/base/corner.js"),T=n("../node_modules/@tencent/xtable-render/es/base/lib/lite-text.js"),E=n("../node_modules/@tencent/xtable-render/es/base/util.js"),j=function(){function e(){this.rectConfig={hitStrokeWidth:0,shadowForStrokeEnabled:!1,perfectDrawEnabled:!1,listening:!1,draggable:!1},this.lineConfig={stroke:g.dS,strokeWidth:g.YF,perfectDrawEnabled:!1,shadowForStrokeEnabled:!1,listening:!1,draggable:!1},this.textConfig={wrap:"none",ellipsis:!0,verticalAlign:"middle",fill:g.DM,fontSize:g.Kt,fontFamily:g.ut,shadowForStrokeEnabled:!1,perfectDrawEnabled:!1,listening:!1,draggable:!1}}var t=e.prototype;return t.rect=function(e,t){E.D.validConfig(t);var n=new i.UL(Object.assign(Object.assign({},this.rectConfig),t));return e&&e.add(n),n},t.line=function(e,t){E.D.validConfig(t);var n=new i.x1(Object.assign(Object.assign({},this.lineConfig),t));return e&&e.add(n),n},t.text=function(e,t){E.D.validConfig(t);var n=new i.xv(Object.assign(Object.assign({},this.textConfig),t));return e&&e.add(n),n},t.liteText=function(e,t){E.D.validConfig(t);var n=new T.Z(Object.assign(Object.assign({},this.textConfig),t));return e&&e.add(n),n},e}(),A=function(){function e(){this.util=new E.Z,this.cell=new C(this),this.shape=new j,this.icon=new l.Z,this.corner=new w.Z}var t=e.prototype;return t.layer=function(){return new i.mh},t.board=function(e){return void 0===e&&(e={}),new i.$l(e)},e}(),x=new A},"../node_modules/@tencent/xtable-render/es/base/lib/index.js":function(e,t,n){"use strict";n.d(t,{$l:function(){return v},Ee:function(){return C},Hf:function(){return p},QY:function(){return m},RF:function(){return E},UL:function(){return y},kX:function(){return T},mh:function(){return I},pK:function(){return w},x1:function(){return _},xv:function(){return b},y$:function(){return M}});var i=n("../node_modules/konva/lib/index.js"),o=(n("../node_modules/konva/lib/Animation.js"),n("../node_modules/konva/lib/Canvas.js")),r=n("../node_modules/konva/lib/Group.js"),s=n("../node_modules/konva/lib/Layer.js"),a=n("../node_modules/konva/lib/Shape.js"),l=n("../node_modules/konva/lib/shapes/Image.js"),d=n("../node_modules/konva/lib/shapes/Line.js"),c=n("../node_modules/konva/lib/shapes/Path.js"),u=n("../node_modules/konva/lib/shapes/Rect.js"),h=n("../node_modules/konva/lib/shapes/Text.js"),g=n("../node_modules/konva/lib/Stage.js"),f=n("../node_modules/konva/lib/Tween.js"),m=i.Z,p=g.H,v=r.Z,I=s.m,y=u.U,_=d.x,b=h.x,M=c.y,C=l.E,w=a.b,T=f.k,E=o.RF},"../node_modules/@tencent/xtable-render/es/base/lib/lite-text.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i,o=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),s=(n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.string.trim-end.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/core-js/modules/es.string.trim-start.js"),n("../node_modules/@tencent/xtable-render/es/base/lib/index.js")),a=n("../node_modules/@tencent/xtable-render/es/cache/index.js"),l="auto",d="none";function c(){if(i)return i;var e=document.createElement("canvas");return i=e.getContext("2d")}var u=function(e){function t(t){return e.call(this,t)||this}(0,r.Z)(t,e);var n=t.prototype;return n._setTextData=function(){if(a.Z.hasText(this.attrs)){var e=a.Z.getTextInfo(this.attrs);return this.textWidth=e.textWidth,this.textHeight=e.textHeight,void(this.textArr=e.textArr)}this.handleTextData()},n.getTextInfo=function(){return{textWidth:this.textWidth,textHeight:this.textHeight,textArr:(0,o.Z)(this.textArr)}},n._getTextWidth=function(e){var t=this.letterSpacing(),n=e.length;return c().measureText(e).width+(n?t*(n-1):0)},n.measureSize=function(e){var t=c(),n=this.fontSize();t.save(),t.font=this._getContextFont();var i=t.measureText(e);return t.restore(),{width:i.width,height:n}},n.handleTextData=function(){var e=this.text().split("\n"),t=+this.fontSize(),n=this.lineHeight()*t,i=this.attrs,o=i.width,r=i.height,s=o!==l&&void 0!==o||this.attrs.maxWidth,a=r!==l&&void 0!==r||this.attrs.maxHeight,u=this.padding(),h=(this.attrs.maxWidth||o)-2*u,g=(this.attrs.maxHeight||r)-2*u,f=this.attrs,m=f.wrap,p=void 0===m?d:m,v=f.ellipsis,I=p!==d,y="char"!==p&&I,_=0,b=0;this.textArr=[],c().font=this._getContextFont();for(var M=v?this._getTextWidth("…"):0,C=0,w=e.length;C<w;++C){var T=e[C],E=this._getTextWidth(T);if(s&&E>h)for(;T.length>0;){for(var j=0,A=0,x=T.length,D="";j<x;){var S=j+x>>>1,N=T.slice(0,S+1),R=this._getTextWidth(N)+M;R<=h?(j=S+1,D=N,A=R):x=S}if(!D)break;if(y){var O=void 0,L=T[D.length];(O=(" "===L||"-"===L)&&A<=h?D.length:Math.max(D.lastIndexOf(" "),D.lastIndexOf("-"))+1)>0&&(j=O,D=D.slice(0,j),A=this._getTextWidth(D))}if(D=D.trimRight(),this._addTextLine(D),_=Math.max(_,A),b+=n,!I||a&&b+n>g){var k=this.textArr[this.textArr.length-1];k&&v&&(this._getTextWidth(k.text+"…")<h||(k.text=k.text.slice(0,k.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(k.text+"…"));break}if((T=(T=T.slice(j)).trimLeft()).length>0&&(E=this._getTextWidth(T))<=h){this._addTextLine(T),b+=n,_=Math.max(_,E);break}}else this._addTextLine(T),b+=n,_=Math.max(_,E);if(a&&b+n>g)break}this.textHeight=t,this.textWidth=_},t}(s.xv)},"../node_modules/@tencent/xtable-render/es/base/util.js":function(e,t,n){"use strict";n.d(t,{D:function(){return l},Z:function(){return a}}),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.promise.js");var i=n("../node_modules/@tencent/xtable-render/es/base/lib/index.js"),o=n("../node_modules/@tencent/xtable-render/es/base/lib/lite-text.js"),r=n("../node_modules/@tencent/xtable-render/es/cache/index.js"),s=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),a=function(){function e(){this.canvas=document.createElement("canvas")}var t=e.prototype;return t.validConfig=function(e){(null===e||void 0===e?void 0:e.width)&&e.width<0&&(e.width=0),(null===e||void 0===e?void 0:e.height)&&e.height<0&&(e.height=0)},t.measureWidth=function(e,t,n){var i;void 0===t&&(t=s.Kt),void 0===n&&(n="normal");var o=null===(i=this.canvas)||void 0===i?void 0:i.getContext("2d");return o?(o.font=n+" "+t+"px "+s.ut,o.measureText(e).width):0},t.measureWidthWithConfig=function(e){var t=new i.xv(e),n=t.getWidth();return t.destroy(),n},t.measureHeightWithConfig=function(e){var t=new i.xv(e),n=t.getHeight();return t.destroy(),n},t.measureLiteTextWithConfig=function(e){var t=new o.Z(e),n=t.getWidth(),i=t.getHeight(),r=t.getTextInfo();return t.destroy(),{textInfo:r,width:n,height:i}},t.loadImage=function(e){return new Promise((function(t){if(r.Z.hasImage(e))t(r.Z.getImage(e));else{var n=new Image;n.onload=function(){r.Z.setImage(n.getAttribute("src"),n),t(n)},n.onerror=function(){t(null)},n.src=e}}))},e}(),l=new a},"../node_modules/@tencent/xtable-render/es/cache/index.js":function(e,t,n){"use strict";n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=["fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","letterSpacing"],o=new(function(){function e(){this.enableShapeCache=!0,this.shapeCache=new Map,this.imageCache=new Map,this.texts={}}var t=e.prototype;return t.destroy=function(){this.shapeCache.clear(),this.imageCache.clear()},t.hasImage=function(e){return this.imageCache.has(e)},t.getImage=function(e){return this.imageCache.get(e)},t.setImage=function(e,t){this.imageCache.set(e,t)},t.hasShape=function(e){return this.enableShapeCache&&this.shapeCache.has(e)},t.getShape=function(e){var t=this.shapeCache.get(e);if(t)return t},t.setShape=function(e,t){t.cache(),this.shapeCache.set(e,t)},t.setTextInfo=function(e,t){var n=JSON.stringify(e,i);this.texts[n]||(this.texts[n]=t)},t.getTextInfo=function(e){var t=JSON.stringify(e,i);return this.texts[t]},t.hasText=function(e){var t=JSON.stringify(e,i);return!!this.texts[t]},e}());t.Z=o},"../node_modules/@tencent/xtable-render/es/constants/config.js":function(e,t,n){"use strict";n.d(t,{XK:function(){return r},aP:function(){return s},id:function(){return l},k3:function(){return o},sK:function(){return a}});var i=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),o={size:i.UV},r={paddingTop:3,paddingLeft:6,margin:5,radius:2,textFontSize:i.Kt,textColor:i.DM},s={maxRate:16/9,margin:5},a=200,l={background:"#56BF9E",size:i._u,radius:2,borderWidth:1,borderColor:"rgba(0, 0, 0, 0.08)"}},"../node_modules/@tencent/xtable-render/es/constants/field-stat.js":function(e,t,n){"use strict";n.d(t,{Aq:function(){return d},Cf:function(){return l},my:function(){return c},sC:function(){return a}});var i,o=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),r=n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js"),s=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js"),a=((i={})[s.w.NONE]=o.Z.t("field_stat_no_display"),i[s.w.COUNT]=o.Z.t("total_record"),i[s.w.EMPTY]=o.Z.t("not_filled"),i[s.w.FILLED]=o.Z.t("filled"),i[s.w.UNIQUE]=o.Z.t("unique_val"),i[s.w.EMPTY_PERCENT]=o.Z.t("not_filled_percent"),i[s.w.FILLED_PERCENT]=o.Z.t("filled_percent"),i[s.w.UNIQUE_PERCENT]=o.Z.t("unique_value_percent"),i[s.w.UNCHECKED]=o.Z.t("unchecked"),i[s.w.CHECKED]=o.Z.t("checked"),i[s.w.UNCHECKED_PERCENT]=o.Z.t("unchecked_percent"),i[s.w.CHECKED_PERCENT]=o.Z.t("checked_percent"),i[s.w.LATEST]=o.Z.t("latest_time"),i[s.w.EARLIEST]=o.Z.t("earliest_time"),i[s.w.DAY_RANGE]=o.Z.t("time_range_day"),i[s.w.MONTH_RANGE]=o.Z.t("time_range_month"),i[s.w.SUM]=o.Z.t("sum"),i[s.w.AVERAGE]=o.Z.t("average"),i[s.w.MAX]=o.Z.t("max"),i[s.w.MIN]=o.Z.t("min"),i),l=o.Z.t("render_field_stat_calculating"),d=180;function c(e){return 30*r.p.get(e.getType()).getSupportStatOperators().length+10+10}},"../node_modules/@tencent/xtable-render/es/constants/mouse.js":function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var i=2},"../node_modules/@tencent/xtable-render/es/constants/style.js":function(e,t,n){"use strict";n.d(t,{DM:function(){return g},Kt:function(){return f},Ov:function(){return I},PG:function(){return m},RG:function(){return M},Ro:function(){return b},SZ:function(){return p},UE:function(){return d},UV:function(){return c},YF:function(){return r},_u:function(){return u},dS:function(){return o},l2:function(){return h},mS:function(){return y},mw:function(){return a},n_:function(){return s},nc:function(){return v},tj:function(){return l},ut:function(){return _},wI:function(){return C}}),n("../node_modules/core-js/modules/es.array.join.js");var i=n("../node_modules/@tencent/xtable-render/es/platform/index.js"),o="#e2e4e8",r=1,s=4,a="#F3F5F7",l="#F9FAFB",d="#fff",c=16,u=20,h=24,g="rgba(0, 0, 0, 0.88)",f=13.3,m=20,p=24,v="#6495ed",I="rgba(255, 252, 235, 1)",y="rgba(0, 0, 0, 0.04)",_=["Helvetica Neue","Helvetica","PingFang SC","Microsoft YaHei","Source Han Sans SC","Noto Sans CJK SC","WenQuanYi Micro Hei","sans-serif"].join(","),b="#1e6fff",M=(0,i.F)()?6:8,C=1},"../node_modules/@tencent/xtable-render/es/interact-mark/index.js":function(e,t,n){"use strict";var i,o;n.d(t,{KW:function(){return i},WV:function(){return o},k4:function(){return r}}),function(e){e.SELECT_ALL_RECORD="SELECT_ALL_RECORD",e.GROUP_COLLSAPSE="GROUP_COLLSAPSE",e.CHECKBOX_CHECK="CHECKBOX_CHECK",e.SELECT_SINGLE_RECORD="SELECT_SINGLE_RECORD",e.OPEN_URL="OPEN_URL",e.EXPAND_RECORD="EXPAND_RECORD",e.OPEN_MODIFY_FIELD_PROPERTY="OPEN_MODIFY_FIELD_PROPERTY",e.DRAG_RECORD="DRAG_RECORD",e.EDIT_GROUP_TITLE="EDIT_GROUP_TITLE",e.KANBAN_GROUP_MENU="KANBAN_GROUP_MENU",e.KANBAN_SCROLLER="KANBAN_SCROLLER",e.GANTT_DIMENTION_CHANGE="GANTT_DIMENTION_CHANGE",e.GANTT_SCROLLTO_TIME="GANTT_SCROLLTO_TIME",e.GANTT_EXPAND_FULL="GANTT_EXPAND_FULL",e.GANTT_OPEN_SETTING="GANTT_OPEN_SETTING"}(i||(i={})),function(e){e.DEFAULT="default",e.POINTER="pointer",e.GRAB="grab",e.GRABBING="grabbing",e.COL_RESIZE="col-resize",e.EW_RESIZE="ew-resize",e.NOT_ALLOWED="not-allowed",e.CROSSHAIR="crosshair",e.ALL_SCROLL="all-scroll"}(o||(o={}));var r="SmartSheetCanvasActionKey"},"../node_modules/@tencent/xtable-render/es/platform/index.js":function(e,t,n){"use strict";n.d(t,{$s:function(){return s},F:function(){return r},Kr:function(){return a}});var i=n("../node_modules/@tencent/docs-user-agent/dist/index.js"),o=n.n(i),r=function(){return o().isMobile||o().isIPad},s=function(){return o().isIOS||o().isSafari||o().isMac&&!o().isChrome},a=function(){return o().isWindows}},"../node_modules/@tencent/xtable-render/es/report/kanban-gallery-report.service.js":function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),r=new function(){var e=this;this.addCard=function(t){e.report("add_card",t)},this.clickCard=function(t){e.report("cli_card",t)},this.moveCard=function(t){e.report("move_card",t)},this.copyCard=function(t){e.report("copy_card",t)},this.expandCard=function(t){e.report("expand_card",t)},this.insertLastCard=function(t){e.report("insert_last_card",t)},this.insertNextCard=function(t){e.report("insert_next_card",t)},this.delCard=function(t){e.report("del_card",t)},this.clickGroupByBtn=function(t){e.report("group",t)},this.clickColSetting=function(t){e.report("col_setting",t)},this.clickShowFieldTitle=function(t){e.report("col_name",t)},this.clickSwitchCover=function(t){e.report("cover",t)},this.addGroup=function(t){e.report("add_group",t)},this.foldGroup=function(t){e.report("fold_group",t)},this.unFoldGroup=function(t){e.report("unfold_group",t)},this.deleteGroup=function(t){e.report("del_group",t)},this.renameGroup=function(t){e.report("rename_group",t)},this.report=function(e,t){var n=o.bW[t];i.E.metricsTdw({action:e,module:n.toLowerCase()})}}},"../node_modules/@tencent/xtable-render/es/report/render.service.js":function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var i=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),o=new(function(){function e(){}var t=e.prototype;return t.fileMoveSuccess=function(){i.E.metricsTdw({action:"move_col",module:"col"})},t.recordMoveSuccess=function(){i.E.metricsTdw({action:"mov_record",module:"record"})},t.recordExpanded=function(){i.E.metricsTdw({action:"expand_record",module:"record"})},t.recordSelected=function(){i.E.metricsTdw({action:"check_record",module:"record"})},t.showCollaboratorSelect=function(){i.E.metricsTdw({action:"select_hover_tag",module:"co-edit"})},t.showCollaboratorEdit=function(){i.E.metricsTdw({action:"edit_hover_tag",module:"co-edit"})},t.smartFillSuccess=function(e){i.E.metricsTdw({action:"fill",module:"record",ver5:e})},t.showFloatLayer=function(e){i.E.metricsTdw({action:e,module:"record"})},e}())},"../node_modules/@tencent/xtable-render/es/views/gallery/utils/get-action-target.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return o}}),n("../node_modules/core-js/modules/es.object.assign.js");var i=n("../node_modules/@tencent/xtable-render/es/views/shared/kanban-gallery/widgets/widget-base.js");function o(e,t,n,o){var r=n.ranger.getCardIndex(e,t);if(r>=0){var s=n.getCardRecordId(r),a=o.getFieldInfo(e,t);return a?Object.assign(Object.assign({},a),{cardIndex:r,recordId:s}):{type:i.m.Card,cardIndex:r,recordId:s}}return null}},"../node_modules/@tencent/xtable-render/es/views/gallery/utils/scroll.js":function(e,t,n){"use strict";var i;n.d(t,{$:function(){return s}}),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.NONE=2]="NONE"}(i||(i={}));var o=n("../node_modules/@tencent/xtable-render/es/views/shared/utils/fix-edge-delta.js"),r=function(e,t){var n=t.getRenderer().getView(),r=n.getCollector(),s=function(e,t){var n=t.size.activityViewHeight,o=e.y,r=e.height,s=i.NONE,a=t.ranger.getOffsetY();return o<a&&(s=i.UP),o+r>a+n&&(s=r>n?i.UP:i.DOWN),{yDirection:s,isVisible:s===i.NONE}}(e,r),a=s.isVisible,l=s.yDirection;if(!a){var d=e.y,c=e.height,u=r.ranger.getOffsetY(),h=r.size,g=h.activityViewHeight,f=h.globalPaddingTop,m=h.globalPaddingBottom,p=u;l===i.UP?p=u+(d-u-f)*o.H:l===i.DOWN&&(p=u+(d+c-g-u)*o.H+m),n.scrollToY(p)}},s=function(e,t){if(e){var n=function(e,t){var n=t.getCardIndex(e);if(n<0)return{x:0,y:0,width:0,height:0};var i=t.position,o=t.size;return{x:i.calcCardStartX(n),y:i.calcCardStartY(n),width:o.cardWidth,height:o.cardHeight}}(e,t.getRenderer().getView().getCollector());if(n)return r(n,t)}}},"../node_modules/@tencent/xtable-render/es/views/gantt/constants/key.js":function(e,t,n){"use strict";var i,o;n.d(t,{IZ:function(){return d},JB:function(){return u},OV:function(){return h},XB:function(){return r},g3:function(){return s},gq:function(){return a},s2:function(){return l}});var r,s="GANTT_LAST_DIMENSION_TYPE";!function(e){e.WEEK="WEEK",e.MONTH="MONTH",e.QUARTER="QUARTER",e.YEAR="YEAR"}(r||(r={}));var a={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},l=864e5,d=7*l,c=30*l,u=((i={})[r.WEEK]=2*d,i[r.MONTH]=2*c,i[r.QUARTER]=2*c*3,i[r.YEAR]=2*c*12,i),h=((o={})[r.WEEK]=l,o[r.MONTH]=l,o[r.QUARTER]=d,o)},"../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/fix-day-index.js":function(e,t,n){"use strict";function i(e){return 0===e?6:e-1}n.d(t,{Z:function(){return i}})},"../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-days-month.js":function(e,t,n){"use strict";function i(e){var t=new Date(e),n=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();return{day:t.getDate(),days:n}}n.d(t,{Z:function(){return i}})},"../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-range-time.js":function(e,t,n){"use strict";n.d(t,{Nj:function(){return u},Ws:function(){return c},Yx:function(){return d},ZP:function(){return s},cW:function(){return h},tC:function(){return l}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js");var i=n("../node_modules/@tencent/xtable-render/es/views/gantt/constants/key.js"),o=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/fix-day-index.js"),r=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/to-int.js");function s(e,t,n,s){var l=a(n.getAllRecordIds(),e,t,n),d=l[0],u=l[1],h=(new Date).getTime();d||(d=(0,r.Z)(h-i.IZ)),u||(u=(0,r.Z)(h+i.IZ));var g=function(e,t,n){var s=i.JB[n],a=(new Date).getTime(),l=e,d=t;if(a<e&&(l=(0,r.Z)(a-(e-a))),a>t&&(d=(0,r.Z)(a+(a-t))),l-=s,d+=s,n===i.XB.YEAR){var c=new Date(d);return c.setMonth(c.getMonth()+1),c.setDate(0),[new Date(l).setDate(1),c.setDate(0)]}var u=(0,o.Z)(new Date(l).getDay()),h=6-(0,o.Z)(new Date(d).getDay());return[l-u*i.s2,d+h*i.s2]}(d,u,s),f=g[0],m=g[1],p=function(e,t,n){var o=0,r=t-e;return o=n===i.XB.QUARTER?r/i.IZ:n===i.XB.YEAR?c(e,t):r/i.s2,Math.floor(o)}(f,m,s);return[f,m,p]}function a(e,t,n,i){var o=0,r=0;return e.forEach((function(e){var s=d(t,n,e,i),a=s[0],l=s[1];a&&(o?a<o&&(o=a):o=a),l&&(r?l>r&&(r=l):r=l)})),[o,r]}function l(e,t,n,i){var o,r,s,a,l=i.getCell(e,n),d=i.getCell(t,n);return[null===(r=null===(o=null===l||void 0===l?void 0:l.data)||void 0===o?void 0:o[0])||void 0===r?void 0:r.timestamp,null===(a=null===(s=null===d||void 0===d?void 0:d.data)||void 0===s?void 0:s[0])||void 0===a?void 0:a.timestamp]}function d(){var e=l.apply(void 0,arguments),t=e[0],n=e[1];return t&&!n&&(n=t),n&&!t&&(t=n),t||n?[(0,r.Z)(t),(0,r.Z)(n)]:[0,0]}function c(e,t){var n=new Date(t),i=new Date(e);return n.getMonth()-i.getMonth()+12*(n.getFullYear()-i.getFullYear())}function u(e,t){var n=t-e+i.s2;return Math.ceil(n/i.s2)}function h(e,t){var n=t.getGroupRecordIdsByPath(e),i=t.getGanttConfig();return a(n,i.startDateFieldId,i.endDateFieldId,t)}},"../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-timebar-rect.js":function(e,t,n){"use strict";n.d(t,{J:function(){return d},Z:function(){return l}});var i=n("../node_modules/@tencent/xtable-render/es/views/gantt/constants/key.js"),o=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-days-month.js"),r=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-range-time.js"),s=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/is-day.js"),a=n("../node_modules/@tencent/xtable-render/es/views/group/collector/layout.js");function l(e,t,n){if("string"===typeof e){var i=t.getStartAndEndTime(e),o=i[0],s=i[1];if(!c(o,s))return u(o,s);var d=n.layout.getLayoutIndexByRecordId(e);return{x:h(o,t),y:n.getLayoutY(d),width:g(o,s,t),height:n.getRecordHeight()}}if("number"===typeof e){var f=n.layout.getLayout(e);if((null===f||void 0===f?void 0:f.type)===a.yP.RECORD)return l(f.recordId,t,n);if(!f||n.layout.isHiddenLayout(f.parent))return null;if((null===f||void 0===f?void 0:f.type)===a.yP.GROUP_HEAD){var m=f.head.path,p=(0,r.cW)(m,n),v=p[0],I=p[1];return c(v,I)?{x:h(v,t),y:n.getLayoutY(f.index),width:g(v,I,t),height:n.layout.getLayoutSize(f.type)}:u(v,I)}}return null}function d(e){return void 0===e}function c(e,t){return e&&t&&t>=e}function u(e,t){return e||t?null:void 0}function h(e,t){return t.getTimeX(e)-t.getOffsetX()+1}function g(e,t,n){var a=0,l=n.getType(),d=n.getTimeSize(),c=t-e+i.s2;if(l===i.XB.YEAR){var u=(0,o.Z)(e);if((0,s.xj)(e,t))a=c/(u.days*i.s2)*d;else{var h=(1-(u.day+1)/u.days)*d,g=(0,o.Z)(t);a=h+(g.day+1)/g.days*d+((0,r.Ws)(e,t)-1)*d}}else a=Math.round(c/i.OV[l]*d);return a-1}},"../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/is-day.js":function(e,t,n){"use strict";n.d(t,{Fo:function(){return a},Vf:function(){return r},xj:function(){return s}});var i=n("../node_modules/@tencent/xtable-render/es/views/gantt/constants/key.js"),o=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/fix-day-index.js");function r(e,t,n){switch(n){case i.XB.WEEK:case i.XB.MONTH:return a(e,t);case i.XB.QUARTER:return function(e,t){return!(Math.abs(t-e)>i.IZ)&&a(l(e),l(t))}(e,t);case i.XB.YEAR:return s(e,t)}}function s(e,t){var n=new Date(e),i=new Date(t);return n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear()}function a(e,t){if(!s(e,t))return!1;var n=new Date(e),i=new Date(t);return n.getDate()===i.getDate()}function l(e){var t=new Date(e).getDay();return e-(0,o.Z)(t)*i.s2}},"../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/to-int.js":function(e,t,n){"use strict";function i(e){return new Date(e).setHours(0,0,0,0)}n.d(t,{Z:function(){return i}})},"../node_modules/@tencent/xtable-render/es/views/gantt/utils/get-action-target/index.js":function(e,t,n){"use strict";n.d(t,{$q:function(){return a},Ct:function(){return h},Mr:function(){return d},jU:function(){return f},ls:function(){return c},xy:function(){return g}});var i=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-timebar-rect.js"),o=n("../node_modules/@tencent/xtable-render/es/views/gantt/utils/get-action-target/interface.js"),r=n("../node_modules/@tencent/xtable-render/es/views/group/collector/layout.js"),s=n("../node_modules/@tencent/xtable-render/es/views/group/utils/get-action-target.js"),a=function(e,t){return e>=t.activityStartX&&e<=t.activityStartX+t.activityViewWidth},l=function(e,t){return e<t.activityStartY+t.activityViewHeight-t.globalPaddingBottom&&e<t.globalHeight-t.globalPaddingBottom},d=function(e,t){return e>=t.activityStartY&&l(e,t)},c=function(e,t,n,o){var r=h(t,n,o.size);if(!r)return!1;var s=(0,i.Z)(r,o.dimension,n);if(!s)return!1;var a=s.x,l=s.y,d=s.width,c=s.height;return e>=a&&e<=a+d&&t>l&&t<l+c},u=function(e,t,n,o){return!!function(e,t,n){var o=h(e,t,n.size);return!!o&&!!(0,i.Z)(o,n.dimension,t)}(t,n,o)&&!c(e,t,n,o)};function h(e,t,n){if(d(e,n)){var i=(0,s.V3)(e,t),o=t.layout.getLayout(i);return null===o||void 0===o?void 0:o.recordId}}function g(e,t,n,i){if(!a(e,i.size)||!l(t,i.size))return null;if(function(e,t){var n=(0,s.V3)(e,t),i=t.layout.getLayout(n);return(null===i||void 0===i?void 0:i.type)===r.yP.RECORD_ADD}(t,n)){var d=i.dimension.getTimeIndex(e),g=(0,s.V3)(t,n),m=n.layout.getLayout(g);return m&&n.layout.isHiddenLayout(m.parent)?null:{type:o.L.AddRecord,unit:{layoutIndex:g,timeIndex:d,layoutType:r.yP.RECORD_ADD}}}var p=f(e,t,n,i);return p?function(e,t,n){var i=h(e,t,n.size);return!!i&&n.dimension.getStartAndEndTime(i).every((function(e){return!e}))}(t,n,i)?{type:o.L.EmptyTimeBar,unit:p}:u(e,t,n,i)?{type:o.L.TimeBarOutside,unit:p}:c(e,t,n,i)?{type:o.L.TimeBar,unit:p}:null:null}function f(e,t,n,i){var o=h(t,n,i.size);if(!o)return null;if(n.layout.isHiddenRecord(o))return null;var s=n.layout,a=s.getLayoutIndexByRecordId(o),l=s.getLayout(a),d=null===l||void 0===l?void 0:l.type,c=null===l||void 0===l?void 0:l.parent;if(void 0===d||void 0===c)return null;var u=i.dimension.getTimeIndex(e);return{type:r.g1.BODY,timeIndex:u,layoutIndex:a,layoutType:d,parentLayoutIndex:c}}},"../node_modules/@tencent/xtable-render/es/views/gantt/utils/get-action-target/interface.js":function(e,t,n){"use strict";var i;n.d(t,{L:function(){return i}}),function(e){e.TimeBar="TimeBar",e.TimeBarOutside="TimeBarOutside",e.EmptyTimeBar="EmptyTimeBar",e.AddRecord="AddRecord"}(i||(i={}))},"../node_modules/@tencent/xtable-render/es/views/group/collector/layout.js":function(e,t,n){"use strict";n.d(t,{yP:function(){return l},g1:function(){return d},ZP:function(){return u}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/core-js/modules/es.array.find.js");var i=n("../node_modules/@tencent/xtable-core/es/model/view/base-view/index.interface.js"),o=n("../node_modules/@tencent/xtable-render/es/constants/style.js");function r(e,t,n){e.length?function(e,t,n){e.forEach((function(i,o){var r=i.path,s=i.values,a=i.recordIds,d=a.length,c=t(l.GROUP_HEAD,-1,{head:{count:d,path:r,level:0,groupValue:s,folded:n.state.isFold(r.toString())}});n.isShowStat()&&t(l.STAT,c),a.forEach((function(e){return t(l.RECORD,c,{recordId:e})})),t(l.GROUP_FOOT,c),o!==e.length-1&&t(l.SPACING,-1)}))}(e,t,n):n.getAllRecordIds().forEach((function(e){t(l.RECORD,-1,{recordId:e}),n.isGantt()||t(l.SPACING,-1)}))}function s(e,t,n){if(e.length)e.length?a(e,0,{headIndex:-1},t,n):t(l.RECORD_ADD,-1);else{if(n.isEmpty())return t(l.SPACING,-1),void t(l.RECORD_ADD,-1);n.getAllRecordIds().forEach((function(e){return t(l.RECORD,-1,{recordId:e})})),t(l.RECORD_ADD,-1)}}function a(e,t,n,i,o){var r,s=e.length,d=n.group,c=n.headIndex,u=!1;e.forEach((function(e,n){if("object"===typeof e){var r=e.level||t,d=e.field.getId(),h=i(l.GROUP_HEAD,c,{head:{level:r,groupValue:e.value,count:e.count,path:e.path,folded:o.state.isFold(e.path.toString())}});return o.isShowStat()&&i(l.STAT,h),void(e.children.length&&a(e.children,r,{treeLength:s,group:d,treeIndex:n,headIndex:h},i,o))}var g=e;i(l.RECORD,c,{recordId:g}),u=!0})),u?i(l.RECORD_ADD,c):d&&i(l.GROUP_FOOT,c),(n.treeLength&&n.treeLength-1)===n.treeIndex||i(l.SPACING,(null===(r=o.layout.getLayout(c))||void 0===r?void 0:r.parent)||-1)}n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.regexp.to-string.js");var l,d,c=n("../node_modules/@tencent/xtable-render/es/views/group/constants/style.js");!function(e){e[e.FIELD=0]="FIELD",e[e.SPACING=1]="SPACING",e[e.STAT=2]="STAT",e[e.GROUP_HEAD=3]="GROUP_HEAD",e[e.GROUP_FOOT=4]="GROUP_FOOT",e[e.RECORD=5]="RECORD",e[e.RECORD_ADD=6]="RECORD_ADD"}(l||(l={})),function(e){e[e.START=0]="START",e[e.BODY=1]="BODY",e[e.END=2]="END"}(d||(d={}));var u=function(){function e(e){var t;this.collector=e,this.recordIndex=0,this.layouts=[],this.units=[],this.recordHeightMap=new Map,this.linesMap=((t={})[i.K.Short]=1,t[i.K.Medium]=2,t[i.K.Tall]=4,t[i.K.ExtraTall]=6,t)}var t=e.prototype;return t.destroy=function(){this.reset()},t.reset=function(){this.recordIndex=0,this.units.length=0,this.layouts.length=0},t.isHiddenLayout=function(e){for(var t,n=e;n>-1;){var i=this.getLayout(n);if(null===(t=null===i||void 0===i?void 0:i.head)||void 0===t?void 0:t.folded)return!0;n=(null===i||void 0===i?void 0:i.parent)||-1}return!1},t.getLayoutLevel=function(e){var t,n,i=this.layouts[e];return i?i.type===l.GROUP_HEAD?this.layouts[e].head.level:(null===(n=null===(t=this.layouts[i.parent])||void 0===t?void 0:t.head)||void 0===n?void 0:n.level)||0:0},t.getUnitLevel=function(e){return this.getLayoutLevel(e.layoutIndex)},t.getUnitGroupValue=function(e){var t,n;return(null===(n=null===(t=this.layouts[e.parentLayoutIndex])||void 0===t?void 0:t.head)||void 0===n?void 0:n.groupValue)||null},t.getUnitGroupCount=function(e){var t,n;return(null===(n=null===(t=this.layouts[e.layoutIndex])||void 0===t?void 0:t.head)||void 0===n?void 0:n.count)||0},t.getUnitGroupPath=function(e){var t,n;return(null===(n=null===(t=this.layouts[e.parentLayoutIndex])||void 0===t?void 0:t.head)||void 0===n?void 0:n.path)||[]},t.getLayoutIndent=function(e){var t=this.getLayoutLevel(e);return Math.max(0,t*this.collector.size.levelIndent)},t.getUnitIndent=function(e){return this.getLayoutIndent(e.layoutIndex)},t.getMaxIndent=function(){return Math.max(0,this.collector.getMaxGroupLevel()*this.collector.size.levelIndent)},t.getUnitRecordIndex=function(e){return this.layouts[e.layoutIndex].recordIndex||0},t.getLayouts=function(){return this.layouts},t.getLayout=function(e){return this.layouts[e]||null},t.getLayoutIndexByRecordId=function(e){return this.layouts.findIndex((function(t){return t.recordId===e}))},t.getRecordIdByLayoutIndex=function(e){var t;return(null===(t=this.getLayout(e))||void 0===t?void 0:t.recordId)||""},t.getLayoutUnit=function(e,t){var n="string"===typeof t?this.getFieldUnit(t):t;if(!n)return null;var i={type:n.type,layoutType:e.type,layoutIndex:e.index,parentLayoutIndex:e.parent,fieldId:n.fieldId};return e.recordId&&(i.recordId=e.recordId),i},t.getLayoutSize=function(e){var t=this.collector.size;switch(e){case l.FIELD:return t.fieldHeight;case l.GROUP_HEAD:return c.NP;case l.STAT:return c.iG;case l.RECORD_ADD:return this.getRecordHeight(1)-2*o.YF;case l.GROUP_FOOT:case l.SPACING:return t.spacingHeight;case l.RECORD:return this.getRecordHeight(this.getVisibleLines())}},t.getVisibleLines=function(){return this.linesMap[this.collector.getRecordHeightLevel()]},t.doRangeFieldUnit=function(e,t,n){for(var i=e;i<=t;i++){var o=this.units[i];o&&n(o)}},t.doSingleFieldUnit=function(e,t){var n=this.units.find((function(t){return t.fieldId===e}));n&&t(n)},t.doRangeLayoutUnit=function(e,t){for(var n=e.startLayoutIndex,i=e.endLayoutIndex,o=e.startFieldIndex,r=e.endFieldIndex,s=n;s<=i;s++)for(var a=o;a<=r;a++){var l=this.layouts[s];if(!this.isHiddenLayout(l.parent)){var d=this.units[a];d&&this.doSingleLayoutUnit(l,d,t)}}},t.doSingleLayoutUnit=function(e,t,n){var i="number"===typeof e?this.getLayout(e):e;if(i&&!this.isHiddenLayout(i.parent)){var o=this.getLayoutUnit(i,t);o&&n(o)}},t.collectFieldUnit=function(e,t,n){var i=t===n-1,o={type:0===t?d.START:i?d.END:d.BODY,fieldId:e,layoutType:l.FIELD};this.units.push(o)},t.collectLayouts=function(){this.collectPresetLayouts(),this.collector.isMobile()?r(this.collector.getGroupFlatten(),this.collectLayout.bind(this),this.collector):s(this.collector.getGroupTree(),this.collectLayout.bind(this),this.collector)},t.isHiddenRecord=function(e){var t=this.collector.layout.getLayoutIndexByRecordId(e),n=this.collector.layout.getLayout(t);return!!n&&this.collector.layout.isHiddenLayout(n.parent)},t.collectPresetLayouts=function(){var e=this.collector.isShowStat(),t=this.collector.hasGroup();e&&(this.collectLayout(l.STAT,-1),this.collectLayout(l.SPACING,-1)),!e&&(t||this.collector.isMobile()&&!this.collector.isGantt())&&this.collectLayout(l.SPACING,-1)},t.collectLayout=function(e,t,n){if(!this.collector.canEdit()&&e===l.RECORD_ADD)return-1;var i=this.addLayout(e,t,n),o=this.isHiddenLayout(t)?0:this.getLayoutSize(e);return this.collector.position.setY(i,this.collector.size.activityHeight),this.collector.size.updateActivityHeight(o,!0),i},t.addLayout=function(e,t,n){var i={type:e,parent:t,index:this.layouts.length};if(e===l.GROUP_HEAD&&(null===n||void 0===n?void 0:n.head)){var o=n.head,r=o.path,s=o.level,a=o.count,d=o.folded,c=o.groupValue;i.head={path:r,level:s,count:a,folded:d,groupValue:c}}return e===l.RECORD&&(null===n||void 0===n?void 0:n.recordId)&&(i.recordId=n.recordId,i.recordIndex=this.recordIndex,this.recordIndex+=1),this.layouts.push(i),i.index},t.getFieldUnit=function(e){return this.units.find((function(t){return t.fieldId===e}))},t.getRecordHeight=function(e){if(!this.recordHeightMap.has(e)){var t=1===e?0:c.pK/(6===e?1:2),n=Math.round(e*(o.Kt+c.Ay)+2*c.pK-t);this.recordHeightMap.set(e,n)}return this.recordHeightMap.get(e)},e}()},"../node_modules/@tencent/xtable-render/es/views/group/constants/keys.js":function(e,t,n){"use strict";n.d(t,{MB:function(){return s},VN:function(){return o},kZ:function(){return i},ol:function(){return r},wv:function(){return a}});var i="GROUP_COLLAPSE",o="GROUP_LAST_BROWSE_RANGE",r="GROUP_LAST_VIEW_OUTER_WIDTH",s="OPERATOR",a="ADDITION"},"../node_modules/@tencent/xtable-render/es/views/group/constants/style.js":function(e,t,n){"use strict";n.d(t,{A9:function(){return s},As:function(){return p},Ay:function(){return E},Cg:function(){return m},H9:function(){return o},NP:function(){return f},Nr:function(){return v},Os:function(){return A},Ov:function(){return j},PW:function(){return D},UB:function(){return h},V5:function(){return r},Wj:function(){return T},XM:function(){return C},d9:function(){return M},dI:function(){return d},e5:function(){return a},fA:function(){return I},fo:function(){return b},iG:function(){return g},jU:function(){return S},mS:function(){return u},pK:function(){return w},qK:function(){return x},s0:function(){return y},vY:function(){return l},wS:function(){return _},zB:function(){return c}});var i=n("../node_modules/@tencent/xtable-render/es/platform/index.js"),o=!(0,i.F)(),r=(0,i.F)()?0:16,s=(0,i.F)()?10:16,a=(0,i.F)()?0:12,l=(0,i.F)()?160:16,d=(0,i.F)()?6:12,c=(0,i.F)()?8:12,u="rgba(0, 0, 0, 0.04)",h=(0,i.F)()?36:32,g=32,f=40,m=12,p="400",v=12,I=14,y="rgba(0, 0, 0, 0.64)",_=(0,i.F)()?10:80,b=(0,i.F)()?0:36,M="#c2c2c2",C="rgba(0, 0, 0, 0.4)",w=(0,i.F)()?12:8,T=(0,i.F)()?10:6,E=8,j="rgba(255, 252, 235, 1)",A="#fefcd9",x="rgba(1, 136, 251, 0.1)",D="rgba(1, 136, 251)",S="rgba(255, 171, 0, 1)"},"../node_modules/@tencent/xtable-render/es/views/group/renderer/features/base.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),r=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.Z)(t,e),(0,i.Z)(t,[{key:"collector",get:function(){return this.canvas.collector}}]),t}(n("../node_modules/@tencent/xtable-render/es/views/shared/base/base-feature.js").Z)},"../node_modules/@tencent/xtable-render/es/views/group/renderer/features/common/collaborator/event.js":function(e,t,n){"use strict";n.d(t,{e:function(){return o}});var i=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),o={onCollabCursorAddedEmitter:new i.Emitter,onCollabCursorRemovedEmitter:new i.Emitter}},"../node_modules/@tencent/xtable-render/es/views/group/renderer/features/desktop/smart-fill/index.js":function(e,t,n){"use strict";n.d(t,{S4:function(){return I},ZP:function(){return _},oB:function(){return y}});var i=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),o=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js")),r=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js"),s=n("../node_modules/@tencent/xtable-core/es/model/field/common/is-field-editable.js"),a=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),l=n("../node_modules/@tencent/xtable-render/es/base/index.js"),d=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),c=n("../node_modules/@tencent/xtable-render/es/interact-mark/index.js"),u=n("../node_modules/@tencent/xtable-render/es/report/render.service.js"),h=n("../node_modules/@tencent/xtable-render/es/views/group/collector/layout.js"),g=n("../node_modules/@tencent/xtable-render/es/views/group/constants/style.js"),f=n("../node_modules/@tencent/xtable-render/es/views/group/renderer/features/base.js"),m=n("../node_modules/@tencent/xtable-render/es/views/group/utils/get-action-target.js"),p=n("../node_modules/@tencent/xtable-render/es/views/group/utils/get-rect.js"),v=n("../node_modules/@tencent/xtable-render/es/views/shared/utils/auto-scroll.js"),I="SmartSheetEditorSmartFillCornerId",y={size:10,cornerSize:5,cornerBorderWidth:1,cornerBorderColor:d.UE,cornerBackground:g.PW},_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).board=l.u.board({visible:!1,width:y.size,height:y.size}),t.overIndex=0,t.isCanvasCornerHover=!1,t.isEditorCornerHover=!1,t.isStart=!1,t.direction=null,t.onCornerMouseenter=function(){t.isNeedPrevent()||(t.isCanvasCornerHover=!0,t.canvas.view.setCursor(c.WV.CROSSHAIR))},t.onCornerMouseleave=function(){t.isCanvasCornerHover=!1,t.canvas.view.setCursor(c.WV.DEFAULT)},t.onCornerMousedown=function(e){var n=e.evt.offsetY+t.canvas.view.getRootRect().y;t.markStart(n)},t.onCornerMouseup=function(){t.isStart=!1},t.onCanvasScroll=function(e){if(t.board.visible()){var n=t.collector.getRangeModel().getCurrentSelection().getRanges(),i=t.collector.getAllFieldIds()[n.endColumn],o=t.collector.getFrozenFields().includes(i);o||t.board.x(t.board.x()-e.x),t.board.y(t.board.y()-e.y),t.clip(o)}},t.onCanvasMouseMove=function(e){if(t.isStart){var n=e.currentTarget.getRelativePointerPosition().y,i=t.getHitLayout(n);if((null===i||void 0===i?void 0:i.type)===h.yP.RECORD){var o=t.getGroupPath(i);if((!t.collector.hasGroup()||t.groupPath)&&t.groupPath===o){var r=t.collector.getRecordIndex(i.recordId);t.direction=null,r<t.oldRange.startRow&&(t.direction="UP"),r>t.oldRange.endRow&&(t.direction="DOWN"),t.overIndex=r,t.direction?t.selecting():t.setRange(t.oldRange)}}}},t.onCanvasMouseUp=function(){if(t.isStart){t.isStart=!1,t.canvas.view.setCursor(c.WV.DEFAULT);var e=t.collector.getRangeModel().getCurrentSelection().getRanges();e.startRow===t.oldRange.startRow&&e.endRow===t.oldRange.endRow||t.done(e)}},t.onDocumentMouseUp=function(){t.isStart?t.onCanvasMouseUp():t.onCornerMouseup()},t.onDocumentMouseMove=function(e){var n=e.target;t.isEditorCornerHover=(null===n||void 0===n?void 0:n.id)===I},t.onDocumentMouseDown=function(e){var n=e.target;if((null===n||void 0===n?void 0:n.id)===I){var i=e.y-t.canvas.view.getRootRect().y;t.markStart(i)}},t.onSelectionChanged=function(e){var n=e.selection,i=n.getRanges();if(Array.isArray(i)||!i||t.collector.getFloatState().isShow())t.hideFillCorner();else{var o=n.getActivePoint(),r=i.startColumn,s=i.endColumn,a=i.endRow,l=(null===o||void 0===o?void 0:o.column)===s&&o.row===a,d=t.collector.getAllFieldIds()[s],c=t.collector.getAllRecordIds()[a],u=t.isSpecialField(d,l),h=t.isDisableField(d,r,s),g=l&&!u;if(!d||!c||g||h)return t.hideFillCorner(),void(g&&t.toActived());var f=(0,p.a)(d,c,t.collector);if(f){t.showFillCorner(f,u),t.toActived();var m=t.collector.getFrozenFields().includes(d);t.clip(m)}}},t}(0,i.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.rectOuter=l.u.shape.rect(null,{x:0,y:0,width:y.size,height:y.size,listening:!0});var e=l.u.shape.rect(null,{x:(y.size-y.cornerSize)/2,y:(y.size-y.cornerSize)/2,width:y.cornerSize,height:y.cornerSize,fill:y.cornerBackground,stroke:y.cornerBorderColor,strokeWidth:y.cornerBorderWidth});this.board.add(this.rectOuter),this.board.add(e),this.canvas.getLayer().add(this.board),this.rectOuter.on("mouseenter",this.onCornerMouseenter),this.rectOuter.on("mouseleave",this.onCornerMouseleave),this.rectOuter.on("mouseup",this.onCornerMouseup),this.rectOuter.on("mousedown",this.onCornerMousedown),this.selectionDisposable=this.canvas.context.onCoreSelectionChanged(this.onSelectionChanged)},n.destroy=function(){var e;this.rectOuter.off("mouseenter",this.onCornerMouseenter),this.rectOuter.off("mouseleave",this.onCornerMouseleave),this.rectOuter.off("mouseup",this.onCornerMouseup),this.rectOuter.off("mousedown",this.onCornerMousedown),this.board.destroy(),null===(e=this.selectionDisposable)||void 0===e||e.dispose(),this.toDeactivated()},n.addActivedEvents=function(){this.scrollDisposable=this.emitter.global.scroll.event(this.onCanvasScroll),this.mousemoveDisposable=this.emitter.global.mousemove.event(this.onCanvasMouseMove),this.mouseupDisposable=this.emitter.global.mouseup.event(this.onCanvasMouseUp),document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onDocumentMouseUp)},n.removeActivedEvents=function(){var e,t,n;null===(e=this.scrollDisposable)||void 0===e||e.dispose(),null===(t=this.mousemoveDisposable)||void 0===t||t.dispose(),null===(n=this.mouseupDisposable)||void 0===n||n.dispose(),document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onDocumentMouseUp)},n.updated=function(){},n.isHovering=function(){return this.isCanvasCornerHover||this.isEditorCornerHover||this.isStart},n.getHitLayout=function(e){var t=(0,m.V3)(e,this.collector);return this.collector.layout.getLayout(t)},n.getGroupPath=function(e){var t,n=this.collector.layout.getLayout(e.parent);return JSON.stringify((null===(t=null===n||void 0===n?void 0:n.head)||void 0===t?void 0:t.path)||[])},n.done=function(e){for(var t,n,i=this.collector.getAllFieldIds(),s=this.collector.getAllRecordIds(),a=[],l=this.oldRange.startColumn;l<=this.oldRange.endColumn;l++)a.push(i[l]);for(var d=[],c=this.oldRange.startRow;c<=this.oldRange.endRow;c++)d.push(s[c]);for(var h=[],g=e.startRow;g<=e.endRow;g++){var f=s[g];d.includes(f)||h.push(f)}var m=this.canvas.context.getBehaviorApi().fillRecords({tableId:this.collector.getTableId(),viewId:this.collector.getViewId(),delta:{sourceFieldIds:a,sourceRecordIds:d,targetRecordIds:h,fillDirection:this.direction}});if(m.isSuccess){(null===(t=m.data)||void 0===t?void 0:t.unfilledFieldIds.length)&&o.default.show({message:r.Z.t("cannot_smart_fill_by_type"),type:"info",autoClose:!0});var p=-1;1===a.length&&(p=null===(n=this.collector.getField(a[0]))||void 0===n?void 0:n.getType()),u.F.smartFillSuccess(p)}},n.markStart=function(e){var t;this.isStart=!0,this.oldRange=this.collector.getRangeModel().getCurrentSelection().getRanges();var n=this.getHitLayout(e);(null===n||void 0===n?void 0:n.type)===h.yP.RECORD&&(this.groupPath=this.getGroupPath(n)),null===(t=this.canvas.autoScroll)||void 0===t||t.ready(v.Nm.Y)},n.selecting=function(){var e="UP"===this.direction?this.getUpRange():this.getDownRange(),t=Object.assign(Object.assign({},this.oldRange),e);this.setRange(t),this.canvas.view.setCursor(c.WV.CROSSHAIR)},n.getUpRange=function(){return{startRow:Math.max(0,this.overIndex)}},n.getDownRange=function(){return{endRow:Math.min(this.collector.getAllRecordIds().length-1,this.overIndex)}},n.setRange=function(e){var t=this.canvas.context.rangeModel,n=t.getCurrentSelection().getActivePoint()||void 0;t.selectRange(e,n)},n.isSpecialField=function(e,t){var n,i=null===(n=this.collector.getField(e))||void 0===n?void 0:n.getType();return t&&[a.f.CHECKBOX].includes(i)},n.isDisableField=function(e,t,n){var i;if(t!==n)return!1;var o=null===(i=this.collector.getField(e))||void 0===i?void 0:i.getType();return s.uB.includes(o)},n.showFillCorner=function(e,t){void 0===t&&(t=!1);var n=t?1:2,i=e.x+e.width-(y.size-y.cornerSize-n),o=e.y+e.height-(y.size-y.cornerSize-n);this.board.x(i),this.board.y(o),this.board.show()},n.hideFillCorner=function(){this.board.hide(),this.toDeactivated()},n.clip=function(e){var t=this.collector.size,n=this.board.x(),i=n+this.board.width(),o=this.board.y(),r=o+this.board.height(),s=t.activityStartX,a=s+t.activityViewWidth,l=t.activityStartY,d=l+t.activityViewHeight,c=n;e||(c=Math.max(s,n));var u=Math.min(a,i),h=(u=Math.max(c,u))-c,g=Math.max(l,o),f=Math.min(d,r),m=(f=Math.max(g,f))-g;this.board.clipFunc((function(e){return e.rect(c-n,g-o,h,m)}))},n.isNeedPrevent=function(){var e=this.canvas.getFeature("FieldMove"),t=this.canvas.getFeature("RecordMove"),n=this.canvas.getFeature("RecordFloat"),i=this.canvas.getFeature("TimelineTimeBarAction"),o=this.canvas.getFeature("WidthResize");return(null===e||void 0===e?void 0:e.isMoving())||t.isMoving()||(null===n||void 0===n?void 0:n.isShow())||(null===o||void 0===o?void 0:o.isHover)||(null===i||void 0===i?void 0:i.isOperating)},t}(f.Z);_.Name="SmartFill"},"../node_modules/@tencent/xtable-render/es/views/group/utils/get-action-target.js":function(e,t,n){"use strict";n.d(t,{L5:function(){return a},Uh:function(){return s},V3:function(){return l},ZP:function(){return d},oH:function(){return r},xb:function(){return i}});var i,o=n("../node_modules/@tencent/xtable-render/es/views/group/collector/layout.js");!function(e){e.Unit="Unit",e.Field="Field",e.Operator="Operator"}(i||(i={}));var r=function(e,t){return e<=t.activityStartX+t.activityViewWidth},s=function(e,t,n){return e<n.activityStartX+n.activityWidth-n.globalPaddingRight&&t<n.fieldHeight+n.globalPaddingTop};function a(e,t){var n=t.ranger,i=t.size,o=t.position,r=e+n.getOffset().offsetX-i.globalPaddingRight,s=function(e,t){return e>t.globalPaddingLeft&&e<t.activityStartX}(e,i)?e-i.globalPaddingLeft:r,a=o.getXCount()-1;return n.getOffsetOvers(s,0,a,!0)}function l(e,t){var n=t.ranger,i=t.size,o=t.position,r=e+n.getOffset().offsetY-i.fieldHeight-i.globalPaddingTop,s=o.getYCount()-1;return n.getOffsetOvers(r,0,s,!1)}function d(e,t,n){var d=n.ranger,c=n.size,u=n.layout,h=d.getOffset(),g=e+h.offsetX-c.globalPaddingRight,f=t+h.offsetY-c.fieldHeight-c.globalPaddingTop;if(!r(e,n.size))return null;if(function(e,t,n){return e<=n.globalPaddingLeft||t<=n.globalPaddingTop}(e,t,c))return null;var m=a(e,n),p=n.getRenderFieldIds()[m];if(s(g,t,c))return{type:i.Field,fieldId:p};if(function(e,t,n){return e>n.activityStartX+n.activityWidth-n.additionFieldWidth||t>n.activityHeight}(g,f,c))return null;var v=l(t,n),I=u.getLayout(v);if(!I||u.isHiddenLayout(I.parent))return null;var y=u.getLayoutUnit(I,p);return y?y.type===o.g1.START&&e<n.layout.getUnitIndent(y)+c.globalPaddingLeft?null:I.type===o.yP.RECORD&&function(e,t){return e>t.globalPaddingLeft&&e<t.globalPaddingLeft+t.operatorFieldWidth}(e,c)?{type:i.Operator,unit:y,fieldId:p}:{type:i.Unit,unit:y,fieldId:p}:null}},"../node_modules/@tencent/xtable-render/es/views/group/utils/get-rect.js":function(e,t,n){"use strict";function i(e,t,n){var i=n.layout.getLayoutIndexByRecordId(t);if(!n.getCell(e,t)||-1===i)return null;var o=n.layout.getLayout(i),r={x:n.getFieldX(e),y:n.getLayoutY(i),width:n.getFieldWidth(e)-1,height:n.layout.getLayoutSize(o.type)-1};return n.isMobile()&&0===n.getRenderFieldIds().indexOf(e)&&(r.x+=n.size.levelIndent,r.width-=n.size.levelIndent),r}function o(e,t){return{x:t.getFieldX(e),y:t.size.globalPaddingTop,width:t.getFieldWidth(e),height:t.size.fieldHeight}}n.d(t,{a:function(){return i},p:function(){return o}})},"../node_modules/@tencent/xtable-render/es/views/group/utils/is-target.js":function(e,t,n){"use strict";n.d(t,{AQ:function(){return d},My:function(){return a},Ql:function(){return l},S6:function(){return u},Uy:function(){return h},Y7:function(){return c},h5:function(){return p},ol:function(){return g},ou:function(){return f},x6:function(){return m}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js");var i=n("../node_modules/@tencent/xtable-core/es/model/field/common/is-field-editable.js"),o=n("../node_modules/@tencent/xtable-render/es/views/group/collector/layout.js"),r=n("../node_modules/@tencent/xtable-render/es/views/group/constants/keys.js"),s=n("../node_modules/@tencent/xtable-render/es/views/group/utils/get-action-target.js"),a=function(e,t){return null!==e&&e.type===s.xb.Field&&!t.isAdditionField(e.fieldId)&&!t.isOperatorField(e.fieldId)},l=function(e,t){if(h(e)&&null!==e){var n=t.getField(null===e||void 0===e?void 0:e.fieldId);if(n)return n.getType()}},d=function(e,t){var n=l(e,t);return!!n&&!!i.uB.includes(n)},c=function(e,t){var n=l(e,t);return!!n&&!!i.Pl.includes(n)},u=function(e){var t;return e&&e.type===s.xb.Operator&&(null===(t=e.unit)||void 0===t?void 0:t.layoutType)===o.yP.RECORD},h=function(e){var t;return e&&e.type===s.xb.Unit&&(null===(t=e.unit)||void 0===t?void 0:t.layoutType)===o.yP.RECORD&&e.unit.fieldId!==r.wv},g=function(e){var t;return e&&e.type===s.xb.Unit&&(null===(t=e.unit)||void 0===t?void 0:t.layoutType)===o.yP.RECORD_ADD&&e.unit.fieldId!==r.wv},f=function(e){var t;return e&&e.type===s.xb.Unit&&(null===(t=e.unit)||void 0===t?void 0:t.layoutType)===o.yP.RECORD_ADD&&e.unit.fieldId===r.MB},m=function(e,t){return e&&e.type===s.xb.Field&&t.isAdditionField(e.fieldId)},p=function(e,t){var n,i;return null!==e&&e.type===s.xb.Unit&&(null===(n=e.unit)||void 0===n?void 0:n.type)!==o.g1.START&&(null===(i=e.unit)||void 0===i?void 0:i.layoutType)===o.yP.STAT&&!t.isAdditionField(e.fieldId)}},"../node_modules/@tencent/xtable-render/es/views/group/utils/scroll.js":function(e,t,n){"use strict";n.d(t,{HA:function(){return c},$j:function(){return l},TL:function(){return d},PU:function(){return a}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js");var i,o,r=n("../node_modules/@tencent/xtable-render/es/views/group/utils/get-rect.js");!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.NONE=2]="NONE"}(i||(i={})),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.NONE=2]="NONE"}(o||(o={}));var s=n("../node_modules/@tencent/xtable-render/es/views/shared/utils/fix-edge-delta.js"),a=function(e,t,n,r){var a=r.getRenderer().getView(),l=a.getCollector(),d=function(e,t,n,r){var s=r.size,a=s.activityStartX,l=s.activityStartY,d=s.activityViewWidth,c=s.activityViewHeight,u=e.x,h=e.y,g=e.width,f=e.height,m=i.NONE,p=o.NONE;return t||(u<a?m=i.LEFT:u+g>a+d&&(m=i.RIGHT)),n||(h<l?p=o.UP:h+f>l+c&&(p=o.DOWN)),{xDirection:m,yDirection:p,isVisible:m===i.NONE&&p===o.NONE}}(e,t,n,l),c=d.isVisible,u=d.xDirection,h=d.yDirection;if(!c){var g=e.x,f=e.y,m=e.width,p=e.height,v=l.ranger.getOffset(),I=v.offsetX,y=v.offsetY,_=l.size,b=_.activityStartX,M=_.activityStartY,C=_.activityViewWidth,w=_.activityViewHeight,T=I,E=y;u===i.LEFT?T=I-(b-g)*s.H:u===i.RIGHT&&(T=I+(g+m-(b+C))*s.H+25),h===o.UP?E=y-(M-f)*s.H:h===o.DOWN&&(E=y+(f+p-(M+w))*s.H+25),a.scrollToX(T),a.scrollToY(E)}},l=function(e,t,n){var i=n.getRenderer().getView().getCollector(),o=i.getVisibleFieldIfCurHidden(t),s=(0,r.a)(o,e,i);if(s){var l=i.getFrozenFields().includes(o);return a(s,l,!1,n)}},d=function(e,t){var n=e.column,i=e.row,o=t.getCurrentView(),r=null===o||void 0===o?void 0:o.getDisplayedRecordIds()[i],s=null===o||void 0===o?void 0:o.getVisibleFieldIds()[n];r&&s&&l(r,s,t)},c=function(e,t){var n=t.getCurrentView(),i=t.getRenderer().getView(),o=n.getVisibleFieldIds().indexOf(e),s=n.getVisibleFieldIds().length,l=i.getCollector();if(s-1!==o){var d=(0,r.p)(e,l);a(d,!1,!0,t)}else i.scrollToX(l.size.activityScrollWidth)}},"../node_modules/@tencent/xtable-render/es/views/kanban/constants/keys.js":function(e,t,n){"use strict";n.d(t,{V:function(){return i},k:function(){return o}});var i="KANBAN_LAST_BROWSE_RANGE",o="KANBAN_GROUP_COLLAPSE"},"../node_modules/@tencent/xtable-render/es/views/kanban/constants/style.js":function(e,t,n){"use strict";n.d(t,{$R:function(){return x},A9:function(){return s},AG:function(){return J},As:function(){return a},BZ:function(){return S},Bj:function(){return ie},CD:function(){return H},Df:function(){return h},Dj:function(){return oe},Do:function(){return te},FS:function(){return b},Gc:function(){return Y},Ju:function(){return X},Ks:function(){return w},NP:function(){return u},NZ:function(){return f},Pw:function(){return A},Qp:function(){return Z},RU:function(){return m},SJ:function(){return W},Su:function(){return V},TC:function(){return U},Te:function(){return K},V5:function(){return r},V_:function(){return G},W9:function(){return R},X9:function(){return O},YU:function(){return q},_F:function(){return C},__:function(){return g},cZ:function(){return I},cc:function(){return _},d2:function(){return T},dY:function(){return L},hg:function(){return ne},hn:function(){return B},i_:function(){return z},l6:function(){return M},lP:function(){return j},ls:function(){return $},mH:function(){return D},oy:function(){return P},pw:function(){return c},qA:function(){return Q},t8:function(){return p},tj:function(){return d},uW:function(){return N},vM:function(){return v},vY:function(){return l},vq:function(){return E},wN:function(){return ee},xb:function(){return k},yM:function(){return F},zc:function(){return y}});var i=n("../node_modules/@tencent/xtable-render/es/constants/config.js"),o=n("../node_modules/@tencent/xtable-render/es/platform/index.js"),r=((0,o.F)(),16),s=((0,o.F)(),16),a=((0,o.F)(),2),l=(0,o.F)()?48:16,d=(0,o.F)()?250:232,c=48,u=(0,o.F)()?36:40,h=((0,o.F)(),8),g=4,f=24,m=130,p=80,v=20,I=20,y=24,_=24,b=2,M=6,C=4,w=192,T=8,E=4,j=(0,o.F)()?0:36,A=44,x=(0,o.F)()?12:16,D=0,S=6,N=12,R=((0,o.F)(),12),O=12,L=((0,o.F)(),12),k=((0,o.F)(),6),z=6,P=(0,o.F)()?192:130,F=(0,o.F)()?20:24,U=(0,o.F)()?0:2,B=i.XK.textFontSize+2*i.XK.paddingTop+1,W=4,G=26,Z="rgba(0, 0, 0, 0.4)",H="rgba(0, 0, 0, 0.88)",Y="rgba(0, 0, 0, 0.88)",V="rgba(0,0,0,0.64)",Q="#999",K=14,X=12,J=((0,o.F)(),12),q="500",$="400",ee=4,te="400",ne=12,ie="400",oe="rgba(0,0,0,0.64)"},"../node_modules/@tencent/xtable-render/es/views/kanban/utils/get-action-target.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n("../node_modules/@tencent/xtable-render/es/views/shared/kanban-gallery/widgets/widget-base.js"),o=function(e,t,n,i){return n&&e<=t.globalPaddingTop+t.groupHeadHeight+i&&e>t.globalPaddingTop+t.groupHeadHeight||!n&&e<=t.groupHeadHeight+t.globalPaddingTop&&e>t.globalPaddingTop},r=function(e,t,n,i){var o=i.getGroupYRange(t);return!!o&&e>o[1]&&e<o[1]+n.groupFootHeight},s=function(e,t,n){return n.isHitAddGroup(e,t)};function a(e,t,n,a){var l=n.ranger,d=n.size,c=l.getActiveGroupIndex(e);if(c>=0){var u=n.getGroupFoldStatus(c),h=n.getGroupFoldHeight(c);if(o(t,d,u,h))return{type:i.m.GroupHead,groupIndex:c,folded:u};if(r(t,c,d,l)&&!u)return{type:i.m.AddRecord,groupIndex:c};var g=l.getCardIndex(e,t);if(g>=0&&!u){var f=a.getFieldInfo(e,t);if(f)return f;var m=n.getCardRecordId(c,g),p=n.getFieldId(e,t);return{type:i.m.Card,groupIndex:c,cardIndex:g,recordId:m,fieldId:p}}}return s(e,t,l)?{type:i.m.AddGroup,groupIndex:-1}:null}},"../node_modules/@tencent/xtable-render/es/views/kanban/utils/scroll.js":function(e,t,n){"use strict";var i,o;n.d(t,{$:function(){return a}}),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.NONE=2]="NONE"}(i||(i={})),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.NONE=2]="NONE"}(o||(o={}));var r=n("../node_modules/@tencent/xtable-render/es/views/shared/utils/fix-edge-delta.js"),s=function(e,t,n){var s=n.getRenderer().getView(),a=s.getCollector(),l=function(e,t,n){var r,s,a=(null===(s=null===(r=n.size.groupSizes)||void 0===r?void 0:r[t])||void 0===s?void 0:s.viewHeight)||0,l=n.size.activityViewWidth,d=e.x,c=e.y,u=e.width,h=e.height,g=i.NONE,f=o.NONE,m=n.ranger.getOffsetX(),p=n.ranger.getGroupOffsetY(t);return d<m&&(g=i.LEFT),d+u>=l+m&&(g=i.RIGHT),c<=p&&(f=o.UP),c+h>p+a&&(f=h>a?o.UP:o.DOWN),{xDirection:g,yDirection:f,isVisible:g===i.NONE&&f===o.NONE}}(t,e,a),d=l.isVisible,c=l.xDirection,u=l.yDirection;if(!d){var h=t.x,g=t.y,f=t.width,m=t.height,p=a.ranger.getOffsetX(),v=a.ranger.getGroupOffsetY(e),I=a.size.activityViewWidth,y=a.size.groupSizes[e].viewHeight,_=p,b=v;c===i.LEFT?_=p+(h-p)*r.H:c===i.RIGHT&&(_=p+(h+f-I-p)*r.H),u===o.UP?b=v+(g-v)*r.H:u===o.DOWN&&(b=v+(g+m-y-v)*r.H),s.scrollToX(_),s.scrollToY(b,e)}},a=function(e,t){if(e){var n=t.getRenderer().getView().getCollector(),i=function(e,t){var n,i=t.getGroupIndex(e),o=t.getCardIndex(e);if(i<0||o<0)return{x:0,y:0,width:0,height:0};var r=t.position,s=t.size,a=null!==(n=r.getGroupY(i,o))&&void 0!==n?n:[],l=a[0],d=void 0===l?0:l,c=a[1],u=void 0===c?0:c;return{x:r.getXAxis()[i][0],y:d,width:s.cardWidth,height:u-d}}(e,n),o=n.getGroupIndex(e);if(i&&!(o<0))return s(o,i,t)}}},"../node_modules/@tencent/xtable-render/es/views/shared/base/base-feature.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=function(){function e(e){this.canvas=e,this.isActived=!1}var t=e.prototype;return t.isOutCanvas=function(e,t){var n=this.canvas.view.getRootRect();return e<n.x||e>n.x+n.width||t<n.y||t>n.y+n.height},t.isContainsInStage=function(e){return this.canvas.view.getStage().content.contains(e)},t.toActived=function(){this.isActived||(this.isActived=!0,this.addActivedEvents())},t.toDeactivated=function(){this.isActived&&(this.isActived=!1,this.removeActivedEvents())},(0,i.Z)(e,[{key:"emitter",get:function(){return this.canvas.context.getRenderer().emitter}}]),e}()},"../node_modules/@tencent/xtable-render/es/views/shared/kanban-gallery/utils/is-target.js":function(e,t,n){"use strict";n.d(t,{$O:function(){return c},F8:function(){return s},F_:function(){return d},My:function(){return a},St:function(){return l},YO:function(){return u},ol:function(){return r}}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js");var i=n("../node_modules/@tencent/xtable-render/es/views/shared/kanban-gallery/widgets/widget-base.js"),o=[i.m.Select,i.m.Url,i.m.Text],r=function(e){return e&&e.type===i.m.AddRecord},s=function(e){return!!e&&e.type===i.m.AddGroup},a=function(e){return!!e&&!!e.isField},l=function(e){return!!e&&o.includes(e.type)},d=function(e){return!!e&&e.type===i.m.Card||a(e)},c=function(e){return!!e&&e.type===i.m.GroupHead},u=function(e){return!!e&&e.type===i.m.GroupHead&&e.folded}},"../node_modules/@tencent/xtable-render/es/views/shared/kanban-gallery/widgets/widget-base.js":function(e,t,n){"use strict";var i;n.d(t,{m:function(){return i},Z:function(){return o}}),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),function(e){e.Root="ROOT",e.Base="BASE",e.Group="GROUP",e.AddGroup="ADD_GROUP",e.Rect="RECT",e.Text="TEXT",e.Image="IMAGE",e.Shadow="SHADOW",e.TopShadow="TOP_SHADOW",e.BottomShadow="BOTTOM_SHADOW",e.Checkbox="CHECKBOX",e.Url="URL",e.Icon="ICON",e.User="USER",e.Select="SELECT",e.Progress="PROGRESS",e.Card="CARD",e.CardWrap="CARD_WRAP",e.CardContent="CARD_CONTENT",e.AddRecord="ADD_RECORD",e.GroupHead="GROUP_HEAD",e.CardCover="CARD_COVER"}(i||(i={}));var o=function(){function e(){this.parent=null,this.type=i.Base,this.children=[],this.id=this.getId(),e.pObjectIdMap.set(this.id,this)}var t=e.prototype;return t.getObjById=function(t){return e.pObjectIdMap.get(t)},t.getId=function(){return e.pId+=1,e.pId},t.getType=function(){return this.type},t.setType=function(e){this.type=e},t.getLayoutInfo=function(){return this.layoutInfo},t.setLayoutInfo=function(e){this.layoutInfo=e},t.updateLayoutInfo=function(e){var t=this;Object.keys(e).forEach((function(n){var i=e[n];(function(e){return e!==e})(i)||(t.layoutInfo[n]=i)}))},t.hasChild=function(){return Boolean(this.children.length)},t.getChildren=function(){return this.children},t.getParent=function(){return this.parent?this.parent:null},t.addChild=function(e){e.setParent(this)},t.setParent=function(e){var t=this.getParent();e!==t&&(null!==t&&t.removeChild(this),this.parent=e,null!==e&&this.pushToParent(e))},t.pushToParent=function(e){var t;null===(t=e.children)||void 0===t||t.push(this)},t.insertChild=function(e,t){e.insertToParent(this,t)},t.insertToParent=function(e,t){var n,i=this.getParent();null!==i&&i.removeChild(this),this.parent=e,null!==e&&(null===(n=e.children)||void 0===n||n.splice(t,0,this))},t.removeChild=function(e){if(e){var t=this.children.indexOf(e);this.children.splice(t,1),e.parent=null}},t.removeAllChild=function(){this.children.forEach((function(e){e.parent=null})),this.children.length=0},t.destroy=function(){e.pObjectIdMap.delete(this.id),this.children.forEach((function(e){e.parent=null,e.destroy()})),this.parent&&(this.parent.removeChild(this),this.parent=null),this.children.length=0,this.groupWidget&&(this.groupWidget=null),this.layoutInfo&&(this.layoutInfo={})},t.clear=function(){this.groupWidget&&(this.groupWidget.destroy(),this.groupWidget=null)},e}();o.pId=0,o.pObjectIdMap=new Map},"../node_modules/@tencent/xtable-render/es/views/shared/utils/auto-scroll.js":function(e,t,n){"use strict";n.d(t,{Nm:function(){return i},ZP:function(){return d},w1:function(){return l}}),n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js");var i,o=n("../node_modules/lodash/isEmpty.js"),r=n.n(o),s=n("../node_modules/@tencent/xtable-common/es/logger/index.js"),a=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js");!function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.ALL=2]="ALL"}(i||(i={}));var l=30,d=function(){function e(e,t,n){var o=this;this.view=e,this.collector=t,this.opts=n,this.events=[],this.timer=null,this.cacheOffsetX=0,this.cacheOffsetY=0,this.direction=i.Y,this.dispatchEvent=function(){try{var e=new MouseEvent("mousemove",{clientX:o.cacheOffsetX,clientY:o.cacheOffsetY});document.dispatchEvent(e)}catch(t){return}o.startDispatchEvent(o.dispatchEvent)},this.startDispatchEvent=function(e){o.timer&&clearTimeout(o.timer),o.timer=setTimeout(e,20)},this.onDocumentMouseMove=function(e){var t,n=e.x,r=e.y;o.cacheOffsetX=n,o.cacheOffsetY=r;var s=null!==(t=o.options)&&void 0!==t?t:{},a=s.left,l=s.right,d=s.top,c=s.bottom,u=s.scrollPace;switch(o.direction){case i.X:o.autoScrollX(n,r,a,l,u);break;case i.Y:o.autoScrollY(n,r,d,c,u);break;case i.ALL:o.autoScrollX(n,r,a,l,u),o.autoScrollY(n,r,d,c,u)}o.startDispatchEvent(o.dispatchEvent)},this.mouseup=function(){o.destroy()},this.onDocumentMouseUp=function(){o.destroy()},this.onDocumentMouseLeave=function(){o.destroy()}}var t=e.prototype;return t.ready=function(e,t){if(void 0===e&&(e=i.Y),this.options=Object.assign({},this.opts,t),r()(this.options)||r()(this.options.boundRect))return s.k.error("options cannot be empty!");this.direction=e,this.events.push(this.view.emitter.global.mouseup.event(this.mouseup)),document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("mouseleave",this.onDocumentMouseLeave)},t.update=function(e){this.options=Object.assign({},this.options,e)},t.destroy=function(){this.timer&&clearTimeout(this.timer),this.timer=null,this.cacheOffsetX=0,this.cacheOffsetY=0,this.events.forEach((function(e){return e.dispose()})),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseleave",this.onDocumentMouseLeave)},t.autoScrollX=function(e,t,n,i,o){var r,s;void 0===n&&(n=0),void 0===i&&(i=20),void 0===o&&(o=l);var a=this.options.boundRect,d=this.view.getRootRect(),c=e-d.x,u=t-d.y,h=this.options.getScrollOffset(c,u).scrollX;(null===(s=null===(r=this.options)||void 0===r?void 0:r.isPreventScrollX)||void 0===s?void 0:s.call(r,c,u))||(c>a.right-i?this.view.scrollToX(o+h):c-n<a.left&&this.view.scrollToX(h-o))},t.autoScrollY=function(e,t,n,i,o){var r,s;void 0===n&&(n=20),void 0===i&&(i=20),void 0===o&&(o=l);var a=this.options.boundRect,d=this.view.getRootRect(),c=e-d.x,u=t-d.y,h=this.options.getScrollOffset(c,u).scrollY;(null===(s=null===(r=this.options)||void 0===r?void 0:r.isPreventScrollY)||void 0===s?void 0:s.call(r,c,u))||(u>a.bottom-i?this.scrollToY(o+h,c):u-n<a.top&&this.scrollToY(h-o,c))},t.scrollToY=function(e,t){if(this.view.getType()!==a.bW.KANBAN)this.view.scrollToY(e);else{var n=this.collector.ranger.getActiveGroupIndex(t);this.view.scrollToY(e,n)}},e}()},"../node_modules/@tencent/xtable-render/es/views/shared/utils/fix-edge-delta.js":function(e,t,n){"use strict";n.d(t,{H:function(){return i},Z:function(){return o}});var i=2;function o(e,t,n,o,r){return void 0===r&&(r=i),e=Math.round(e/r),n<o?0:t+e<0?-t:t+e+o>n?n-o-t:e}},"../node_modules/@tencent/xtable/es/constants/index.js":function(e,t,n){"use strict";n.d(t,{$X:function(){return i},CY:function(){return s},Jl:function(){return r},Lg:function(){return d},cK:function(){return l},pI:function(){return o},pn:function(){return a}});var i="smart-table-root",o="table-description-root",r="render-box",s="table-root",a="render-root",l="smart-sheet-watermark-container",d="ark-extensions-container"},"../node_modules/@tencent/xtable/es/event/index.js":function(e,t,n){"use strict";n.d(t,{e:function(){return o}});var i=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),o={onActiveEditorSwitched:new i.Emitter,onEditorRendered:new i.Emitter}},"../node_modules/@tencent/xtable/es/smart-sheet-editor.js":function(e,t,n){"use strict";n.d(t,{E:function(){return Wu}});var i=n("./node_modules/tslib/tslib.es6.js"),o=(n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/@tencent/xtable-common/es/logger/index.js")),r=n("../node_modules/@tencent/xtable-core/es/constant/excute-result.js"),s=n("../node_modules/@tencent/xtable-core/es/event/index.js"),a=n("../node_modules/@tencent/xtable-core/es/mutation/api.js"),l=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");function d(e,t,n){try{var i,r,s,a,l,d,u,h;for(i=0,a=e.length;i<a;i++){for(l=e[i],u=[],r=0,s=t.length;r<s;r++)h=c(d=t[r],l,!n),r<s-1&&(l=c(l,d,n)),u.push(h);t=u}return t}catch(g){throw o.k.error("followRequestMutations error",g),g}}function c(e,t,n){var i,r,s,a,d,u=e;try{for(var h=0,g=t.length;h<g;h++)if(r=[t[h]],s=[],0!==r.length){for(var f=0,m=e.length;f<m;f++)i=e[f],r.length>1?(a=c([i],r,n),f<m-1&&(d=c(r,[i],!n))):1===r.length?(a=i.transform(r[0],n),f<m-1&&(d=r[0].transform(i,!n))):(a=[i],d=[]),f<m-1&&(r=d),s=[].concat((0,l.Z)(s),(0,l.Z)(a));e=s}}catch(p){return o.k.error("transform two mutation array error: ",p),u}return u=e}n("../node_modules/core-js/modules/es.array.concat.js");var u=n("../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),h=(n("../node_modules/core-js/modules/es.object.assign.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/lodash/cloneDeep.js")),g=n.n(h),f=n("../node_modules/@tencent/containerized/build/main/index.js"),m=(0,f.yh)("IBase"),p=(0,f.yh)("IFieldHelper"),v=n("../node_modules/@tencent/xtable-core/es/model/view/index.interface.js"),I=n("../node_modules/@tencent/xtable-core/es/mutation/field/insert-field.js"),y=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-attributes.js"),_=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-fields-hidden.js"),b=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-col-width.js"),M=n("../node_modules/@tencent/xtable-core/es/mutation/record/set-record.js");function C(e,t,n){return new r.s7(r.QJ.REQUEST_CHECK,e,t,n)}var w=n("../node_modules/@tencent/xtable-core/es/utils/check/check-id-param.js");function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,i){var o=i.value;i.value=function(e){var n=(0,w.p)(this,this.base,this.base.getTableByTableId(this.tableId),t);return n.isSuccess?o.call(this,e):{isSuccess:n.isSuccess,error:C(r.GP.TERMINATE_AND_WARNING,n.msg)}}}}var E=function(){function e(){}var t=e.prototype;return t.run=function(e){var t={isSuccess:!0},n=this.do(e);return n&&(t.data=n),t},t.check=function(e){return{isSuccess:!0}},e}(),j=(0,f.yh)("IUserService"),A=n("../node_modules/@tencent/xtable-core/es/utils/check/check-size-limit.js"),x=function(e){function t(t,n,i,o){var r;return(r=e.call(this)||this).base=n,r.userService=i,r.fieldHelper=o,r.tableId=t.tableId,r.viewId=t.viewId,r.fieldId=t.fieldId,r}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=e.getFieldCount(),n=(0,A.ez)(t+1);if(!n.isValid)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,n.msg,n.code)};var i=(0,A.HK)(e.getRecordCount(),t+1);return i.isValid?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,i.msg,i.code)}},n.do=function(e){var t=this.base.getTableByTableId(this.tableId);return this.newFieldId=t.getNewFieldId(),this.collectFieldMutation(t,e),this.collectRecordMutation(t,e),{fieldId:this.newFieldId}},n.collectFieldMutation=function(e,t){var n=this,i=e.getFieldByFieldId(this.fieldId),o=e.getViewByViewId(this.viewId),r=e.getViewIdList().reduce((function(t,i){var r;return Object.assign(Object.assign({},t),((r={})[i]=i===n.viewId?o.getFieldIndex(n.fieldId)+1:e.getFieldCount(),r))}),{}),s=i.getType();t(new I.Z({requestId:18,tableId:this.tableId,viewId:this.viewId,delta:{fieldId:this.newFieldId,type:s,title:e.getDefaultFieldTitle(s,i.getTitle()),indexes:r}})),t(new y.Z({requestId:18,tableId:this.tableId,viewId:this.viewId,fieldId:this.newFieldId,delta:{type:s,property:g()(i.getProperty())}})),this.collectExtraMutationIfKanbanView(t,{table:e,fieldIds:[this.newFieldId]}),this.collectExtraMutationIfGridView(t,{table:e,fieldId:this.newFieldId,fieldType:s})},n.collectRecordMutation=function(e,t){var n=this,i=e.getRecordIdList(),o=this.userService.getCurrentUserId(),r=Date.now();i.forEach((function(i){var s,a,l=e.getRecordByRecordId(i);(null===(s=l[n.fieldId])||void 0===s?void 0:s.value)&&t(new M.Z({requestId:18,tableId:n.tableId,viewId:n.viewId,recordId:i,delta:(a={},a[n.newFieldId]={type:e.getFieldByFieldId(n.fieldId).getType(),value:l[n.fieldId].value,modifiedUserId:o,modifiedTime:r},a),userInfo:n.userService.getCurrentUserInfo()}))}))},n.collectExtraMutationIfKanbanView=function(e,t){var n=this,i=t.table,o=t.fieldIds,r=i.getAllViews().filter((function(e){return e.type===v.bW.KANBAN})).map((function(e){return e.id}));0!==r.length&&r.forEach((function(t){t&&e(new _.Z({requestId:18,tableId:n.tableId,viewId:t,fieldIds:o,delta:{hidden:!0}}))}))},n.collectExtraMutationIfGridView=function(e,t){var n=this,i=t.table,o=t.fieldId,r=t.fieldType,s=i.getAllViews().filter((function(e){return e.type===v.bW.GRID}));0!==s.length&&s.forEach((function(t){if(t){var i=t.isPrimaryField(o)?180:n.fieldHelper.get(r).getDefaultWidth();e(new b.Z({requestId:18,tableId:n.tableId,viewId:t.id,fieldId:o,delta:{width:i}}))}}))},t}(E);x.id=18,(0,i.__decorate)([T("table","view","field"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],x.prototype,"check",null);var D=x=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__param)(3,p),(0,i.__metadata)("design:paramtypes",[Object,Object,Object,Object])],x),S=(n("../node_modules/core-js/modules/es.array.slice.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.from.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/core-js/modules/es.symbol.iterator.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/lodash/isEqual.js")),N=n.n(S),R=n("../node_modules/@tencent/xtable-common/es/init-i18/init-i18.js");function O(e,t){return t.filter((function(e){return e.type===v.bW.GANTT})).filter((function(t){var n=t.getGanttConfig();return[n.startDateFieldId,n.endDateFieldId].includes(e)}))}function L(e,t){return t.filter((function(e){return e.type===v.bW.KANBAN})).filter((function(t){var n=t.getGroupField();return(null===n||void 0===n?void 0:n.getId())===e}))}n("../node_modules/core-js/modules/es.array.find-index.js"),n("../node_modules/@tencent/xtable-core/es/model/field/common/group-field-types.js");var k=n("../node_modules/@tencent/xtable-core/es/model/view/utils/type-guard/group.js"),z=n("../node_modules/@tencent/xtable-core/es/mutation/field/delete-field.js"),P=n("../node_modules/@tencent/xtable-core/es/mutation/filter/set-filter.js"),F=n("../node_modules/@tencent/xtable-core/es/mutation/group/set-group.js"),U=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-card-config.js"),B=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-gannt-config.js"),W=n("../node_modules/@tencent/xtable-core/es/mutation/sort/sort-records.js");function G(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var H=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.fieldIds=t.fieldIds,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(e){var t=this.base.getTableByTableId(this.tableId),n=this.fieldIds.find((function(e){return!t.getFieldByFieldId(e)}));if(n)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_id_nonexist",{notExistedFieldId:n}))};var i=this.checkViewsError(e,t);return i||{isSuccess:!0}},n.do=function(e){var t=this.base.getTableByTableId(this.tableId);this.collectSetRecordMutation(t,e),this.collectViewConditionsMutation(t,e),this.collectDeleteFieldMutation(t,e)},n.collectSetRecordMutation=function(e,t){var n=this,i=this.userService.getCurrentUserId(),o=e.getRecordIdList(),r=this.userService.getCurrentUserInfo();this.fieldIds.forEach((function(s){var a=e.getFieldByFieldId(s).getType();o.forEach((function(o){var l;null!==e.getCell(o,s)&&t(new M.Z({requestId:13,tableId:n.tableId,viewId:n.viewId,recordId:o,delta:(l={},l[s]={type:a,value:null,modifiedUserId:i},l),userInfo:r}))}))}))},n.collectDeleteFieldMutation=function(e,t){var n=this,i=e.getViewIdList();this.fieldIds.forEach((function(o){var r=i.reduce((function(t,n){var i,r=e.getViewByViewId(n);return Object.assign(Object.assign({},t),((i={})[n]=null===r||void 0===r?void 0:r.getFieldIndex(o),i))}),{});t(new z.Z({requestId:13,tableId:n.tableId,viewId:n.viewId,fieldId:o,delta:{indexes:r}}))}))},n.collectViewConditionsMutation=function(e,t){var n=this;e.getViewIdList().forEach((function(i){var o=e.getViewByViewId(i);n.collectSetGroupMutation(o,t),n.collectSetFilterMutation(o,t),n.collectSortRecordMutation(o,t),n.collectSetCardConfigMutation(o,t),n.collectSetGanttConfigMutation(o,t)}))},n.collectSetGroupMutation=function(e,t){var n=this,i=(0,k.r)(e)?e.getGroupInfos():[],o=i.filter((function(e){var t=e.fieldId;return!n.fieldIds.includes(t)}));o.length!==i.length&&t(new F.Z({requestId:13,tableId:this.tableId,viewId:e.id,delta:{groups:o}}))},n.collectSetFilterMutation=function(e,t){var n=this,i=e.getFilterInfos();if(i){var o=i.conditions,r=o.filter((function(e){var t=e.fieldId;return!n.fieldIds.includes(t)}));if(o.length!==r.length){var s=null;r.length&&(s={conjunction:i.conjunction,conditions:r}),t(new P.Z({requestId:13,tableId:this.tableId,viewId:e.id,delta:s}))}}},n.collectSortRecordMutation=function(e,t){var n=this,i=e.getSortInfos(),o=i.filter((function(e){var t=e.fieldId;return!n.fieldIds.includes(t)}));o.length!==i.length&&t(new W.Z({requestId:13,tableId:this.tableId,viewId:e.id,delta:{sortInfos:o,autoSort:e.isAutoSort(),recordIds:e.viewSort.getSortedRecordIds(o)}}))},n.collectSetCardConfigMutation=function(e,t){if([v.bW.KANBAN,v.bW.GALLERY].includes(e.type)){var n=e.getCardConfig();this.fieldIds.includes(n.coverFieldId)&&t(new U.Z({requestId:13,tableId:this.tableId,viewId:e.id,delta:Object.assign(Object.assign({},n),{coverFieldId:"",isShowCover:!1})}))}},n.collectSetGanttConfigMutation=function(e,t){if(v.bW.GANTT===e.type){var n=e.getGanttConfig(),i=g()(n);n.labelFieldId&&this.fieldIds.includes(n.labelFieldId)&&(i.labelFieldId=null),n.startDateFieldId&&this.fieldIds.includes(n.startDateFieldId)&&(i.startDateFieldId=null),n.endDateFieldId&&this.fieldIds.includes(n.endDateFieldId)&&(i.endDateFieldId=null),N()(n,i)||t(new B.Z({requestId:13,tableId:this.tableId,viewId:e.id,delta:i}))}},n.checkViewsError=function(e,t){var n=null===e||void 0===e?void 0:e.ignoreCheck[r.jK.FIELD_EXIST_IN_KANBAN_GROUP],i=null===e||void 0===e?void 0:e.ignoreCheck[r.jK.FIELD_EXIST_IN_GANTT_DATE_FIELD];if(!n||!i)for(var o,s=G(this.fieldIds);!(o=s()).done;){var a=o.value;if(!n){var l=this.checkForKanBan(t.getAllViews(),a);if(l)return l}if(!i){var d=this.checkForGantt(t.getAllViews(),a);if(d)return d}}},n.checkForKanBan=function(e,t){var n=L(t,e);if(n.length>0){var i=n.map((function(e){return e.getTitle()})).join("、");return{isSuccess:!1,error:C(r.GP.NEED_CONFIRM,R.Z.t("delete_field_is_kanban_group",{viewsName:i}),r.jK.FIELD_EXIST_IN_KANBAN_GROUP)}}},n.checkForGantt=function(e,t){var n=O(t,e);if(n.length>0){var i=n.map((function(e){return e.getTitle()})).join("、");return{isSuccess:!1,error:C(r.GP.NEED_CONFIRM,R.Z.t("delete_field_is_gantt_date_field",{viewsName:i}),r.jK.FIELD_EXIST_IN_GANTT_DATE_FIELD)}}},t}(E);H.id=13,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Object)],H.prototype,"check",null);var Y=H=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],H),V=n("../node_modules/@tencent/xtable-core/es/model/field/field.interface.js"),Q=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.fieldHelper=i,o.tableId=t.tableId,o.viewId=t.viewId,o.delta=t.delta,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this,t=this.checkTitleIsValid();if(!t.isSuccess)return t;var n=this.base.getTableByTableId(this.tableId);if(n.getFields().map((function(e){return e.getTitle()})).some((function(t){return t===e.delta.title})))return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("title_exist",{type:R.Z.t("field"),title:this.delta.title}),r.jK.TITLE_DUPLICATED)};var i=n.getFieldCount(),o=(0,A.ez)(i+1);if(!o.isValid)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,o.msg,o.code)};var s=(0,A.HK)(n.getRecordCount(),i+1);return s.isValid?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,s.msg,s.code)}},n.do=function(e){var t,n,i,o=this,r=this.base.getTableByTableId(this.tableId),s=r.getViewIdList().reduce((function(e,t){var n;return Object.assign(Object.assign({},e),((n={})[t]=t===o.viewId?o.delta.index:r.getFieldCount(),n))}),{}),a=r.getNewFieldId(),l=null!==(t=this.delta.type)&&void 0!==t?t:V.f.TEXT;return e(new I.Z({requestId:12,tableId:this.tableId,viewId:this.viewId,delta:{fieldId:a,type:l,title:null!==(n=this.delta.title)&&void 0!==n?n:r.getDefaultFieldTitle(l),indexes:s}})),e(new y.Z({requestId:12,tableId:this.tableId,viewId:this.viewId,fieldId:a,delta:{type:l,property:null!==(i=this.delta.property)&&void 0!==i?i:this.fieldHelper.get(l).getDefaultProperty([])}})),this.collectExtraMutationIfKanbanView(e,{table:r,fieldIds:[a]}),this.collectExtraMutationIfGridView(e,{table:r,fieldId:a,fieldType:l}),this.collectExtraMutationIfGalleryView(e,{table:r,fieldIds:[a]}),this.collectExtraMutationIfGanttView(e,{table:r,fieldIds:[a]}),{fieldId:a}},n.checkTitleIsValid=function(){var e=this;if("title"in this.delta){if(!this.delta.title)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("title_empty",{type:R.Z.t("field")}),r.jK.TITLE_EMPTY)};if(this.base.getTableByTableId(this.tableId).getFields().map((function(e){return e.getTitle()})).some((function(t){return t===e.delta.title})))return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("title_exist",{type:R.Z.t("field"),title:this.delta.title}),r.jK.TITLE_DUPLICATED)}}return{isSuccess:!0}},n.collectExtraMutationIfKanbanView=function(e,t){var n=this,i=t.table,o=t.fieldIds,r=i.getAllViews().filter((function(e){return e.type===v.bW.KANBAN})).map((function(e){return e.id}));0!==r.length&&r.forEach((function(t){t&&e(new _.Z({requestId:12,tableId:n.tableId,viewId:t,fieldIds:o,delta:{hidden:!0}}))}))},n.collectExtraMutationIfGalleryView=function(e,t){var n=this,i=t.table,o=t.fieldIds,r=i.getAllViews().filter((function(e){return e.type===v.bW.GALLERY})).map((function(e){return e.id}));0!==r.length&&r.forEach((function(t){t&&e(new _.Z({requestId:12,tableId:n.tableId,viewId:t,fieldIds:o,delta:{hidden:!0}}))}))},n.collectExtraMutationIfGridView=function(e,t){var n=this,i=t.table,o=t.fieldId,r=t.fieldType,s=i.getAllViews().filter((function(e){return e.type===v.bW.GRID}));0!==s.length&&s.forEach((function(t){if(t){var i=t.isPrimaryField(o)?180:n.fieldHelper.get(r).getDefaultWidth();e(new b.Z({requestId:12,tableId:n.tableId,viewId:t.id,fieldId:o,delta:{width:i}}))}}))},n.collectExtraMutationIfGanttView=function(e,t){var n=this,i=t.table,o=t.fieldIds,r=i.getAllViews().filter((function(e){return e.type===v.bW.GANTT})).map((function(e){return e.id}));0!==r.length&&r.forEach((function(t){t&&t!==n.viewId&&e(new _.Z({requestId:12,tableId:n.tableId,viewId:t,fieldIds:o,delta:{hidden:!0}}))}))},t}(E);Q.id=12,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Q.prototype,"check",null);var K=Q=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,p),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],Q),X=(n("../node_modules/core-js/modules/es.array.sort.js"),n("../node_modules/@tencent/xtable-core/es/mutation/field/move-field.js")),J=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.fieldIds=t.fieldIds,i.target=t.delta.target,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=this.fieldIds.find((function(t){return!e.getFieldByFieldId(t)}));if(t)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_id_nonexist",{notExistedFieldId:t}))};var n=e.getViewByViewId(this.viewId),i=this.fieldIds.map((function(e){return n.getFieldIndex(e)}));return Math.min.apply(Math,(0,l.Z)(i))<this.target&&this.target<Math.max.apply(Math,(0,l.Z)(i))?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_illegal_move",{target:this.target}))}:{isSuccess:!0}},n.do=function(e){var t,n,i=this,o=this.base.getTableByTableId(this.tableId).getViewByViewId(this.viewId),r=(t=this.target,n=this.fieldIds.map((function(e){return o.getFieldIndex(e)})),t<=Math.min.apply(Math,(0,l.Z)(n)));this.fieldIds.map((function(e){return{fieldId:e,delta:{source:o.getFieldIndex(e),target:i.target}}})).sort((function(e,t){var n=e.delta.source-t.delta.source;return r?-n:n})).forEach((function(t,n){var o=t.fieldId,s=t.delta;i.moveRecord(o,Object.assign(Object.assign({},s),{source:r?s.source+n:s.source-n}),e)}))},n.moveRecord=function(e,t,n){n(new X.Z({requestId:14,tableId:this.tableId,viewId:this.viewId,fieldId:e,delta:t}))},t}(E);J.id=14,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],J.prototype,"check",null);var q=J=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],J);n("../node_modules/core-js/modules/web.url.to-json.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js");var $=n("../node_modules/lodash/isNull.js"),ee=n.n($),te=n("../node_modules/@tencent/xtable-core/es/constant/config/base.js"),ne=n("../node_modules/@tencent/xtable-core/es/model/field/select/select-field.js"),ie=n("../node_modules/@tencent/xtable-core/es/utils/ability/index.js"),oe=n("../node_modules/@tencent/xtable-core/es/utils/object.js"),re=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.fieldId=t.fieldId,o.delta=t.delta,o.userInfo=o.userService.getCurrentUserInfo(),o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(e){var t=this.checkTitleDuplicated();if(t)return{isSuccess:!1,error:t};var n=this.checkTitleEmpty();if(n)return{isSuccess:!1,error:n};if(!(null===e||void 0===e?void 0:e.ignoreCheck[r.jK.FIELD_EXIST_IN_KANBAN_GROUP])){var i=this.checkKanbanGroup();if(i)return{isSuccess:!1,error:i}}if(!(null===e||void 0===e?void 0:e.ignoreCheck[r.jK.FIELD_EXIST_IN_GANTT_DATE_FIELD])){var o=this.checkGanttDateField();if(o)return{isSuccess:!1,error:o}}return{isSuccess:!0}},n.do=function(e){var t=this,n=this.base.getTableByTableId(this.tableId),i=n.getFieldByFieldId(this.fieldId),o=i.toJSON(),r=Object.assign(Object.assign({},o),this.delta),s=r.type,a=r.title,l=r.property,d=i.getId(),c=n.createField({fieldId:d,fieldJSON:{type:s,title:a,property:l}}),u=c.getType()!==i.getType()?this.transformCells(c,i):this.validateCells(c);if(0!==u.size){var h=Date.now(),g=this.userInfo.id;u.forEach((function(n,i){var o,r=((o={})[d]={value:n,type:c.getType(),modifiedUserId:g,modifiedTime:h},o);t.collectSetRecordMutation(i,r,e)}))}this.handleFilter(i,e),this.collectSetFieldAttributesMutation(n,i,c.getType()!==i.getType()&&!u.size,this.delta,e),this.collectSetGanttConfigMutation(i,c,e)},n.handleFilter=function(e,t){var n=this;if(ae(this.delta)&&e.getType()!==this.delta.type){var i=this.base.getTableByTableId(this.tableId);i.getViewIdList().forEach((function(e){var o=i.getViewByViewId(e).getFilterInfos();if(o){var r=o.conditions,s=r.filter((function(e){return e.fieldId!==n.fieldId}));r.length!==s.length&&n.collectSetFilterMutation(e,s.length?{conjunction:o.conjunction,conditions:s}:null,t)}}))}},n.transformCells=function(e,t){var n=new Map;return this.base.getTableByTableId(this.tableId).getRecordIdList().forEach((function(i){var o=t.getCellValue(i),r=t.getStandardCell(i),s=e.generateCellValueByStandardCell(r);ee()(o)&&ee()(s)||n.set(i,s)})),n},n.validateCells=function(e){var t=new Map;return ae(this.delta)&&ne.dX.isSelectField(e)?this.handleSelect(t,e):t},n.handleSelect=function(e,t){var n=t.getProperty().options;return this.base.getTableByTableId(this.tableId).getRecordIdList().forEach((function(i){var o,r=null!==(o=e.get(i))&&void 0!==o?o:t.getCellValue(i);if(r){var s=r.filter((function(e){return n.find((function(t){return t.id===e}))}));s.length!==r.length&&e.set(i,s)}})),e},n.collectSetFieldAttributesMutation=function(e,t,n,i,o){var r=i;n&&!r.title&&(0,ie.dv)(te.Y7.FIELD[t.getType()],t.getTitle())&&(r.title=e.getDefaultFieldTitle(r.type)),o(new y.Z({requestId:15,delta:r,tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId}))},n.collectSetRecordMutation=function(e,t,n){n(new M.Z({requestId:15,tableId:this.tableId,viewId:this.viewId,recordId:e,delta:t,userInfo:this.userInfo}))},n.collectSetFilterMutation=function(e,t,n){n(new P.Z({requestId:15,tableId:this.tableId,viewId:e,delta:t}))},n.collectSetGanttConfigMutation=function(e,t,n){var i=this.base.getTableByTableId(this.tableId).getViewByViewId(this.viewId);if(i.type===v.bW.GANTT&&e.getType()===V.f.DATE_TIME&&t.getType()!==V.f.DATE_TIME){var o=t.getId(),r=i.getGanttConfig(),s=g()(r);r.startDateFieldId&&r.startDateFieldId===o&&(s.startDateFieldId=null),r.endDateFieldId&&r.endDateFieldId===o&&(s.endDateFieldId=null),N()(r,s)||n(new B.Z({requestId:13,tableId:this.tableId,viewId:this.viewId,delta:s}))}},n.checkTitleDuplicated=function(){var e=this.delta.title,t=this.base.getTableByTableId(this.tableId);return"undefined"===typeof e?null:t.getFields().map((function(e){return e.getTitle()})).some((function(t){return t===e}))?C(r.GP.TERMINATE_AND_WARNING,R.Z.t("title_exist",{type:R.Z.t("field"),title:this.delta.title}),r.jK.TITLE_DUPLICATED):null},n.checkTitleEmpty=function(){var e=this.delta.title;return"title"in this.delta&&!e?C(r.GP.TERMINATE_AND_WARNING,R.Z.t("title_empty",{type:R.Z.t("field")}),r.jK.TITLE_EMPTY):null},n.checkKanbanGroup=function(){var e=this.base.getTableByTableId(this.tableId),t=L(this.fieldId,e.getAllViews());if(0===t.length)return null;if(!ae(this.delta))return null;if(this.delta.type===V.f.SINGLE_SELECT)return null;var n=t.map((function(e){return e.getTitle()})).join("、");return new r.s7(r.QJ.REQUEST_CHECK,r.GP.TERMINATE_AND_WARNING,R.Z.t(function(e){return e.type===V.f.MULTIPLE_SELECT}(this.delta)?"modify_multi_select_field_is_kanban_group":"modify_field_is_kanban_group",{viewsName:n}),r.jK.FIELD_EXIST_IN_KANBAN_GROUP)},n.checkGanttDateField=function(){var e=this.base.getTableByTableId(this.tableId),t=O(this.fieldId,e.getAllViews());if(0===t.length)return null;if(!ae(this.delta))return null;if(this.delta.type===V.f.DATE_TIME)return null;var n=t.map((function(e){return e.getTitle()})).join("、");return new r.s7(r.QJ.REQUEST_CHECK,r.GP.TERMINATE_AND_WARNING,R.Z.t("modify_date_time_field_is_gantt_date_field",{viewsName:n}),r.jK.FIELD_EXIST_IN_GANTT_DATE_FIELD)},t}(E);re.id=15,(0,i.__decorate)([T("table","view","field"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Object)],re.prototype,"check",null);var se=re=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],re);function ae(e){return(0,oe.n)(e,"type")&&(0,oe.n)(e,"property")}var le=n("../node_modules/@tencent/xtable-core/es/mutation/field/set-field-stat-type.js"),de=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.fieldId=t.fieldId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return{isSuccess:!0}},n.do=function(e){e(new le.Z({requestId:29,tableId:this.tableId,viewId:this.viewId,fieldId:this.fieldId,delta:Object.assign({},this.delta)}))},t}(E);de.id=17,(0,i.__decorate)([T("table","view","field"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],de.prototype,"check",null);var ce=de=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],de),ue=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.fieldIds=t.fieldIds,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId);if(!this.fieldIds.length)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,"Invalid Params [fieldIdsLength:"+this.fieldIds.length+"]")};var t=this.fieldIds.find((function(t){return!e.getFieldByFieldId(t)}));return void 0!==t?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,"Field Not Exist:"+t)}:{isSuccess:!0}},n.do=function(e){e(new _.Z({requestId:16,tableId:this.tableId,viewId:this.viewId,fieldIds:this.fieldIds,delta:{hidden:this.delta.hidden}}))},t}(E);ue.id=16,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],ue.prototype,"check",null);var he=ue=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],ue),ge=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e,t=this.base.getTableByTableId(this.tableId),n=((null===(e=this.delta)||void 0===e?void 0:e.conditions)||[]).map((function(e){return e.fieldId})).find((function(e){return!t.getFieldByFieldId(e)}));return n?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_nonexist",{fieldId:n}))}:{isSuccess:!0}},n.do=function(e){e(new P.Z({requestId:25,tableId:this.tableId,viewId:this.viewId,delta:this.delta}))},t}(E);ge.id=25,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],ge.prototype,"check",null);var fe=ge=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],ge),me=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.groupDelta=t.delta.groups,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=this.groupDelta.map((function(e){return e.fieldId})).find((function(t){return!e.getFieldByFieldId(t)}));return t?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_nonexist",{fieldId:t}))}:{isSuccess:!0}},n.do=function(e){e(new F.Z({requestId:24,tableId:this.tableId,viewId:this.viewId,delta:{groups:this.groupDelta}})),this.collectExtraMutationsIfKanbanView(e)},n.collectExtraMutationsIfKanbanView=function(e){var t,n=null===(t=this.base.getTableByTableId(this.tableId))||void 0===t?void 0:t.getViewByViewId(this.viewId);if((null===n||void 0===n?void 0:n.type)===v.bW.KANBAN){var i=this.groupDelta[0].fieldId;i&&e(new _.Z({requestId:24,tableId:this.tableId,viewId:this.viewId,fieldIds:[i],delta:{hidden:!0}}))}},t}(E);me.id=24,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],me.prototype,"check",null);var pe=me=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],me),ve=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.delta.coverFieldId;if(e){var t=this.base.getTableByTableId(this.tableId);if(!(null===t||void 0===t?void 0:t.getFieldByFieldId(e)))return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_nonexist",{fieldId:e}))}}return{isSuccess:!0}},n.do=function(e){var t=this.base.getTableByTableId(this.tableId),n=(null===t||void 0===t?void 0:t.getViewByViewId(this.viewId)).getCardConfig();this.delta=Object.assign(Object.assign({},n),this.delta),e(new U.Z({requestId:32,tableId:this.tableId,viewId:this.viewId,delta:this.delta}))},t}(E);ve.id=32,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],ve.prototype,"check",null);var Ie=ve=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],ve),ye=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),_e=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.fieldIds=t.fieldIds,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){if(!(0,ye.isNumber)(this.delta.width))return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("width_illegal",{width:this.delta.width}))};var e=this.base.getTableByTableId(this.tableId),t=this.fieldIds.find((function(t){return!e.getFieldByFieldId(t)}));return t?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_id_nonexist",{notExistedFieldId:t}))}:{isSuccess:!0}},n.do=function(e){var t=this;this.fieldIds.forEach((function(n){e(new b.Z({requestId:27,tableId:t.tableId,viewId:t.viewId,fieldId:n,delta:{width:Math.max(t.delta.width,te._E.COLUMN_MIN_WIDTH)}}))}))},t}(E);_e.id=27,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],_e.prototype,"check",null);var be=_e=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],_e),Me=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-field-stat-status.js"),Ce=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return(0,ye.isBoolean)(this.delta.isFieldStatEnabled)?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("is_field_stat_enabled_illegal",{isFieldStatEnabled:this.delta.isFieldStatEnabled}))}},n.do=function(e){e(new Me.Z({requestId:29,tableId:this.tableId,viewId:this.viewId,delta:{isFieldStatEnabled:this.delta.isFieldStatEnabled}}))},t}(E);Ce.id=29,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Ce.prototype,"check",null);var we=Ce=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Ce),Te=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){for(var e=this.delta,t=0,n=[e.startDateFieldId,e.endDateFieldId,e.labelFieldId];t<n.length;t++){var i=n[t];if(i&&!this.base.getTableByTableId(this.tableId).getFieldByFieldId(i))return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_nonexist",{fieldId:i}))}}return{isSuccess:!0}},n.do=function(e){var t=this.base.getTableByTableId(this.tableId).getViewByViewId(this.viewId).getGanttConfig();this.delta=Object.assign(Object.assign({},t),this.delta),e(new B.Z({requestId:35,tableId:this.tableId,viewId:this.viewId,delta:this.delta})),this.collectExtraMutationsIfGanttView(e)},n.collectExtraMutationsIfGanttView=function(e){var t,n=null===(t=this.base.getTableByTableId(this.tableId))||void 0===t?void 0:t.getViewByViewId(this.viewId);if((null===n||void 0===n?void 0:n.type)===v.bW.GANTT){var i=[],o=this.delta,r=o.startDateFieldId,s=o.endDateFieldId;r&&n.isFieldHidden(r)&&i.push(r),s&&n.isFieldHidden(s)&&i.push(s),0!==i.length&&e(new _.Z({requestId:35,tableId:this.tableId,viewId:this.viewId,fieldIds:i,delta:{hidden:!1}}))}},t}(E);Te.id=35,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Te.prototype,"check",null);var Ee=Te=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Te),je=n("../node_modules/@tencent/xtable-core/es/mutation/other/set-row-height.js"),Ae=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return(0,ye.isNumber)(this.delta.rowHeightLevel)?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("illegal_row_height_level",{rowHeightLevel:this.delta.rowHeightLevel}))}},n.do=function(e){e(new je.Z({requestId:28,tableId:this.tableId,viewId:this.viewId,delta:{rowHeightLevel:this.delta.rowHeightLevel}}))},t}(E);Ae.id=28,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Ae.prototype,"check",null);var xe=Ae=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Ae),De=(n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/@tencent/xtable-core/es/model/field/field-helper.js")),Se=n("../node_modules/@tencent/xtable-core/es/model/view/manager/filter/filter-info.interface.js"),Ne=n("../node_modules/@tencent/xtable-core/es/mutation/record/insert-record.js"),Re=n("../node_modules/@tencent/xtable-core/es/utils/list.js"),Oe=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.pasteRange=t.pasteRange,o.pasteDelta=t.pasteDelta,o.groupPath=t.groupPath,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=this.pasteRange,n=t.startRow,i=t.startColumn;if(n>=e.getRecordCount()||i>=e.getFieldCount())return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("reselect_paste_area"))};var o=n+this.pasteDelta.insertRecordCount,s=(0,A.tH)(o);if(!s.isValid)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,s.msg,s.code)};var a=i+this.pasteDelta.insertFieldCount,l=(0,A.ez)(a);if(!l.isValid)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,l.msg,l.code)};var d=(0,A.HK)(o,a);return d.isValid?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,d.msg,d.code)}},n.collectPasteMutation=function(e,t){var n,i;if(this.isSingleImageCellCopyPaste(e))this.pasteInSingleImageCell(e,t);else{var o=Object.assign(Object.assign(Object.assign({},this.getSetRecordDeltaByFieldProperty(e)),this.getSetRecordDeltaByGroupInfo(e)),this.getSetRecordDeltaByFilterInfo(e)),r=this.pasteDelta.pasteFieldIds.length;this.collectSetFieldAttributeMutation(e,this.pasteDelta.copyFields.slice(0,r),this.pasteDelta.pasteFieldIds,t);var s=this.collectInsertFieldMutation(e,t),a=this.collectInsertRecordMutation(e,t);(n=this.pasteDelta.pasteFieldIds).push.apply(n,(0,l.Z)(s)),(i=this.pasteDelta.pasteRecordIds).push.apply(i,(0,l.Z)(a)),this.pasteDelta.pasteFieldIds.length&&this.pasteDelta.pasteRecordIds.length&&(this.collectSetFieldAttributeMutation(e,this.pasteDelta.copyFields.slice(r),s,t),this.collectSetRecordMutation(e,a,o,t))}},n.collectInsertRecordMutation=function(e,t){for(var n=this,i=[],o=e.getViewIdList(),r=this.userService.getCurrentUserInfo(),s=r.id,a=Date.now(),l=e.getRecordCount(),d=function(d){var c=o.reduce((function(e,t){var n;return Object.assign(Object.assign({},e),((n={})[t]=l+d,n))}),{}),u=e.getNewRecordId();i.push(u),t(new Ne.Z({requestId:n.getRequestId(),tableId:n.tableId,viewId:n.viewId,delta:{recordId:u,createdTime:a,createdUserId:s,indexes:c},userInfo:r}))},c=0;c<this.pasteDelta.insertRecordCount;c++)d(c);return i},n.collectInsertFieldMutation=function(e,t){for(var n=this,i=[],o=e.getViewIdList(),r=e.getFieldCount(),s=function(s){var a=o.reduce((function(e,t){var n;return Object.assign(Object.assign({},e),((n={})[t]=r+s,n))}),{}),l=n.pasteDelta.copyFields[s+n.pasteDelta.pasteFieldIds.length],d=e.getNewFieldId();i.push(d),t(new I.Z({requestId:n.getRequestId(),tableId:n.tableId,viewId:n.viewId,delta:{type:V.f.TEXT,fieldId:d,title:e.getDefaultFieldTitle(V.f.TEXT,l.title),indexes:a}}))},a=0;a<this.pasteDelta.insertFieldCount;a++)s(a);return i},n.collectSetFieldAttributeMutation=function(e,t,n,i){var o=this;if(t.length!==n.length)throw new Error("传入的 field 与变化的 field 数量不匹配");var r=[],s={};n.forEach((function(n,i){var o=t[i];if(!1!==o.shouldTransform){var a={type:o.type,property:o.property},l=e.getFieldByFieldId(n);(a.type!==l.getType()||o.title)&&(0,ie.dv)(te.Y7.FIELD[l.getType()],l.getTitle())&&(s[n]=o.title),r.push({fieldId:n,delta:a})}})),r.forEach((function(t){var n=t.fieldId,r=t.delta;n in s&&(r.title=e.getDefaultFieldTitle(r.type,s[n],Object.keys(s))),i(new y.Z({requestId:o.getRequestId(),tableId:o.tableId,viewId:o.viewId,fieldId:n,delta:r}))}))},n.collectSetRecordMutation=function(e,t,n,i){var o=this,r=this.userService.getCurrentUserInfo(),s=r.id,a=Date.now();this.pasteDelta.pasteRecordIds.forEach((function(l,d){var c=t.includes(l)?g()(n):{};o.pasteDelta.pasteFieldIds.forEach((function(t,n){var i=o.pasteDelta.colStandardCells[n][d],r=e.getFieldByFieldId(t),l={value:r.generateCellValueByStandardCell(i),type:r.getType(),modifiedTime:a,modifiedUserId:s};c[t]=l})),i(new M.Z({requestId:o.getRequestId(),tableId:o.tableId,viewId:o.viewId,recordId:l,delta:c,userInfo:r}))}))},n.getSetRecordDeltaByFieldProperty=function(e){var t=e.getFields().map((function(e){return e.getId()})),n={},i=this.userService.getCurrentUserId();return t.forEach((function(t){var o=e.getFieldByFieldId(t);(function(e){return e.getType()===V.f.CHECKBOX})(o)&&o.getProperty().checked?n[t]={type:o.getType(),value:!0,modifiedUserId:i}:function(e){return e.getType()===V.f.DATE_TIME}(o)&&o.getProperty().autoFill&&(n[t]={type:o.getType(),value:Date.now(),modifiedUserId:i})})),n},n.getSetRecordDeltaByGroupInfo=function(e){var t,n={};if(!(null===(t=this.groupPath)||void 0===t?void 0:t.length))return n;var i=e.getViewByViewId(this.viewId);if(!(0,k._)(i))return n;var o=i.getStandardValueMapByPath(this.groupPath),r=Object.keys(o),s=this.userService.getCurrentUserId();return r.forEach((function(t){if(o[t]){var i=e.getFieldByFieldId(t);n[t]={type:i.getType(),value:i.generateCellValueByStandardCell(o[t]),modifiedUserId:s}}})),n},n.getSetRecordDeltaByFilterInfo=function(e){var t=this,n={},i=e.getViewByViewId(this.viewId).getFilterInfos();if(!i||!i.conditions.length)return n;if(i.conjunction!==Se.S.AND&&i.conditions.length>1)return n;var o=i.conditions.map((function(e){return e.fieldId})),r=(0,Re.LP)(o);return i.conditions.forEach((function(e){var i,o=e.fieldId,s=e.fieldType,a=e.operator,l=e.value;if(r.has(o)){var d=null!==(i=De.p.get(s).getDefaultCellValueByFilterCondition(a,l))&&void 0!==i?i:null;ee()(d)||(n[o]={modifiedUserId:t.userService.getCurrentUserId(),type:s,value:d})}})),n},n.isSingleImageCellCopyPaste=function(e){if(1!==this.pasteDelta.copyFields.length||1!==this.pasteDelta.colStandardCells.length)return!1;if(1!==this.pasteDelta.pasteFieldIds.length||1!==this.pasteDelta.pasteRecordIds.length)return!1;if(!function(e){return(null===e||void 0===e?void 0:e.getType())===V.f.IMAGE}(e.getFieldByFieldId(this.pasteDelta.pasteFieldIds[0])))return!1;var t=e.getCell(this.pasteDelta.pasteRecordIds[0],this.pasteDelta.pasteFieldIds[0]);return!!(null===t||void 0===t?void 0:t.value)},n.pasteInSingleImageCell=function(e,t){var n=this,i=this.userService.getCurrentUserInfo(),o=i.id,r=Date.now();this.pasteDelta.pasteRecordIds.forEach((function(s,a){var d={};n.pasteDelta.pasteFieldIds.forEach((function(t,i){var c,u=n.pasteDelta.colStandardCells[i][a],h=e.getFieldByFieldId(t),g=h.generateCellValueByStandardCell(u)||[],f=(null===(c=e.getCell(s,t))||void 0===c?void 0:c.value)||[],m=[].concat((0,l.Z)(f),(0,l.Z)(g)),p={value:m.length?m.slice(0,te.gU.MAXIMUM_IMAGE_LIMIT_PER_CELL):null,type:h.getType(),modifiedTime:r,modifiedUserId:o};d[t]=p})),t(new M.Z({requestId:n.getRequestId(),tableId:n.tableId,viewId:n.viewId,recordId:s,delta:d,userInfo:i}))}))},t}(E);(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Oe.prototype,"check",null);var Le=Oe=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],Oe),ke=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.do=function(e){var t=this.base.getTableByTableId(this.tableId);this.collectPasteMutation(t,e)},n.getRequestId=function(){return t.id},t}(Le);ke.id=30;var ze=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,i)||this).cutRanges=t.cutRanges,o.cutTableId=t.cutTableId,o.cutViewId=t.cutViewId,o}(0,u.Z)(t,e);var n=t.prototype;return n.do=function(e){var t=this.base.getTableByTableId(this.tableId),n=this.base.getTableByTableId(this.cutTableId),i=null===n||void 0===n?void 0:n.getViewByViewId(this.cutViewId);n&&i&&this.collectClearRecordMutation(n,i,e),this.collectPasteMutation(t,e)},n.getRequestId=function(){return t.id},n.collectClearRecordMutation=function(e,t,n){var i=this,o=Date.now(),r=this.userService.getCurrentUserInfo(),s=r.id;this.cutRanges.forEach((function(a){var l=a.startColumn,d=a.startRow,c=a.endColumn,u=a.endRow,h=t.getDisplayedRecordIds(),g=t.getVisibleFieldIds(),f=h.slice(d,u+1),m=g.slice(l,c+1);f.forEach((function(t){var a=m.reduce((function(t,n){var i,r=e.getFieldByFieldId(n);return Object.assign(Object.assign({},t),((i={})[n]={value:null,type:r.getType(),modifiedUserId:s,modifiedTime:o},i))}),{});n(new M.Z({requestId:31,tableId:i.cutTableId,viewId:i.cutViewId,recordId:t,delta:a,userInfo:r}))}))}))},t}(Le);ze.id=31;var Pe=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.recordId=t.recordId,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=e.getRecordCount(),n=(0,A.tH)(t+1);if(!n.isValid)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,n.msg,n.code)};var i=(0,A.HK)(t+1,e.getFieldCount());return i.isValid?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,i.msg,i.code)}},n.do=function(e){var t=this.base.getTableByTableId(this.tableId),n=this.insertRecord(t,e);return this.setRecord(t,n,e),{recordId:n}},n.insertRecord=function(e,t){var n=this,i=e.getRecordCount(),o=e.getViewByViewId(this.viewId),r=e.getViewIdList().reduce((function(e,t){var r;return Object.assign(Object.assign({},e),((r={})[t]=t===n.viewId?o.getRecordIndexFromAllRecordIds(n.recordId)+1:i,r))}),{}),s=Date.now(),a=this.userService.getCurrentUserId(),l=e.getNewRecordId();return t(new Ne.Z({requestId:11,tableId:this.tableId,viewId:this.viewId,delta:{recordId:l,createdTime:s,createdUserId:a,indexes:r},userInfo:this.userService.getCurrentUserInfo()})),l},n.setRecord=function(e,t,n){var i=e.getRecordByRecordId(this.recordId),o=Date.now(),r=this.userService.getCurrentUserId(),s=Object.keys(i).reduce((function(t,n){var s,a=e.getFieldByFieldId(n);return a?Object.assign(Object.assign({},t),((s={})[n]={type:a.getType(),value:i[n].value,modifiedTime:o,modifiedUserId:r},s)):t}),{});n(new M.Z({requestId:11,tableId:this.tableId,viewId:this.viewId,recordId:t,delta:s,userInfo:this.userService.getCurrentUserInfo()}))},t}(E);Pe.id=11,(0,i.__decorate)([T("table","view","record"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Pe.prototype,"check",null);var Fe=Pe=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],Pe),Ue=n("../node_modules/@tencent/xtable-core/es/mutation/record/delete-record.js"),Be=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.recordIds=t.recordIds,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=this.recordIds.find((function(t){return!e.getRecordByRecordId(t)}));return t?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("recordid_nonexist",{notExistedRecordId:t}))}:{isSuccess:!0}},n.do=function(e){var t=this,n=this.base.getTableByTableId(this.tableId);this.recordIds.forEach((function(i){var o=n.getViewIdList().reduce((function(e,t){var o,r=n.getViewByViewId(t);return Object.assign(Object.assign({},e),((o={})[t]=null===r||void 0===r?void 0:r.getRecordIndexFromAllRecordIds(i),o))}),{});e(new Ue.Z({requestId:7,tableId:t.tableId,viewId:t.viewId,recordId:i,delta:{indexes:o}}))}))},t}(E);Be.id=7,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Be.prototype,"check",null);var We=Be=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Be),Ge=(n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/dayjs/dayjs.min.js")),Ze=n.n(Ge),He=n("../node_modules/@tencent/xtable-core/es/model/field/date-time/date-time-field.js"),Ye=function(e){function t(n,i,o){var r;(r=e.call(this)||this).base=i,r.userService=o,r.tableId=n.tableId,r.viewId=n.viewId;var s=n.delta,a=s.sourceRecordIds,l=s.sourceFieldIds,d=s.targetRecordIds,c=s.fillDirection;return r.sourceRecordIds=t.setListByDirection(a,c),r.sourceFieldIds=t.setListByDirection(l,c),r.targetRecordIds=t.setListByDirection(d,c),r}(0,u.Z)(t,e),t.getNullValue=function(e,t){return null},t.getValueByRepeatSequence=function(e,t){return e[t%e.length]},t.getValueByOLS=function(e,t){var n=e.map((function(e){return Number(e||0)})),i=n.length;if(1===i)return n[0];var o=n.reduce((function(e,t,n){return e+t*(n+1)}),0),r=n.reduce((function(e,t){return e+t}),0),s=(o/i-r*(i+1)/i/2)/((i+1)*(2*i+1)/6-(i+1)*(i+1)/4);return(t+1+i)*s+r/i-s*(i+1)/2},t.getDateValueWithTwoStrategies=function(e,n){var i=e.map((function(e){return Number(e||0)})).reduce((function(e,t){var n=e[0],i=e[1],o=Ze()(t).startOf("day").valueOf(),r=t-o;return[[].concat((0,l.Z)(n),[o]),[].concat((0,l.Z)(i),[r])]}),[[],[]]),o=i[0],r=i[1],s=t.getValueByOLS(o,n)+t.getValueByRepeatSequence(r,n);return s<He.ZW.MIN?He.ZW.MIN:s>He.ZW.MAX?He.ZW.MAX:s},t.getStrategyFromFieldType=function(e,n){if(!n.length)return t.getNullValue;var i=e.getType();return n.some((function(e){return!(0,ye.isNumber)(e)}))?t.getValueByRepeatSequence:i===V.f.NUMBER?t.getValueByOLS:i===V.f.DATE_TIME?t.getDateValueWithTwoStrategies:t.getValueByRepeatSequence},t.setListByDirection=function(e,t){return"UP"===t?(0,l.Z)(e).reverse():(0,l.Z)(e)};var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=this.sourceFieldIds.find((function(t){return!e.getFieldByFieldId(t)}));if(void 0!==t)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,"SourceFieldIds Not Exist: "+t)};var n=this.sourceRecordIds.find((function(t){return!e.getRecordByRecordId(t)}));if(void 0!==n)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,"SourceRecordId Not Exist: "+n)};var i=this.targetRecordIds.find((function(t){return!e.getRecordByRecordId(t)}));return void 0!==i?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,"TargetRecordId Not Exist: "+i)}:{isSuccess:!0}},n.do=function(e){var t=this,n=this.separateFieldIds(),i=n.fillableFieldIds,o=n.unfillableFieldIds;return this.targetRecordIds.forEach((function(n,o){var r=t.calculateRecordDelta(i,o);e(new M.Z({requestId:33,tableId:t.tableId,viewId:t.viewId,recordId:n,delta:r,userInfo:t.userService.getCurrentUserInfo()}))})),{unfilledFieldIds:o}},n.separateFieldIds=function(){var e={fillableFieldIds:[],unfillableFieldIds:[]},t=this.base.getTableByTableId(this.tableId),n=[V.f.CREATED_TIME,V.f.CREATED_USER,V.f.MODIFIED_TIME,V.f.MODIFIED_USER];return this.sourceFieldIds.forEach((function(i){var o=t.getFieldByFieldId(i).getType();n.includes(o)?e.unfillableFieldIds.push(i):e.fillableFieldIds.push(i)})),e},n.calculateRecordDelta=function(e,t){var n=this;return e.reduce((function(e,i){var o;return Object.assign(Object.assign({},e),((o={})[i]=n.calculateCellValue(i,t),o))}),{})},n.calculateCellValue=function(e,n){var i=this.base.getTableByTableId(this.tableId),o=i.getFieldByFieldId(e),r=this.sourceRecordIds.map((function(t){var n=i.getRecordByRecordId(t)[e];return null===n||void 0===n?void 0:n.value})),s=t.getStrategyFromFieldType(o,r)(r,n);return{type:o.getType(),value:s,modifiedUserId:this.userService.getCurrentUserId()}},t}(E);Ye.id=33,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Ye.prototype,"check",null);var Ve=Ye=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],Ye);function Qe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Xe=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.index=t.delta.index,o.groupPath=t.delta.groupPath,o.cellValue=t.delta.cellValue,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=e.getRecordCount(),n=(0,A.tH)(t+1);if(!n.isValid)return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,n.msg,n.code)};var i=(0,A.HK)(t+1,e.getFieldCount());return i.isValid?this.index<0||this.index>t?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("record_illegal_insert_index",{index:this.index,recordCount:t}))}:{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,i.msg,i.code)}},n.do=function(e){var t=this.base.getTableByTableId(this.tableId),n=t.getViewByViewId(this.viewId).type===v.bW.KANBAN?Object.assign(Object.assign(Object.assign(Object.assign({},this.getSetRecordDeltaByFieldProperty(t)),this.getSetRecordDeltaByFilterInfo(t)),this.getSetRecordDeltaByGroupInfo(t)),this.getSetRecordDeltaByRequestInfo(t)):Object.assign(Object.assign(Object.assign(Object.assign({},this.getSetRecordDeltaByFieldProperty(t)),this.getSetRecordDeltaByGroupInfo(t)),this.getSetRecordDeltaByFilterInfo(t)),this.getSetRecordDeltaByRequestInfo(t)),i=this.insertRecord(t,e);return this.setRecord(i,n,e),{recordId:i}},n.insertRecord=function(e,t){for(var n,i,o=this,r=e.getRecordCount(),s=((n={})[this.viewId]=this.index,n),a=e.getViewIdList().filter((function(e){return e!==o.viewId})),l=Qe(a);!(i=l()).done;)s[i.value]=r;var d=Date.now(),c=this.userService.getCurrentUserId(),u=e.getNewRecordId();return t(new Ne.Z({requestId:6,tableId:this.tableId,viewId:this.viewId,delta:{recordId:u,createdTime:d,createdUserId:c,indexes:s},userInfo:this.userService.getCurrentUserInfo()})),u},n.setRecord=function(e,t,n){Object.keys(t).length&&n(new M.Z({requestId:6,tableId:this.tableId,viewId:this.viewId,recordId:e,delta:t,userInfo:this.userService.getCurrentUserInfo()}))},n.getSetRecordDeltaByFieldProperty=function(e){var t=e.getFields().map((function(e){return e.getId()})),n={},i=this.userService.getCurrentUserId();return t.forEach((function(t){var o=e.getFieldByFieldId(t);(function(e){return e.getType()===V.f.CHECKBOX})(o)&&o.getProperty().checked?n[t]={type:o.getType(),value:!0,modifiedUserId:i}:function(e){return e.getType()===V.f.DATE_TIME}(o)&&o.getProperty().autoFill&&(n[t]={type:o.getType(),value:Date.now(),modifiedUserId:i})})),n},n.getSetRecordDeltaByGroupInfo=function(e){var t,n={};if(!(null===(t=this.groupPath)||void 0===t?void 0:t.length))return n;var i=e.getViewByViewId(this.viewId);if(!(0,k._)(i))return n;var o=i.getStandardValueMapByPath(this.groupPath),r=Object.keys(o),s=this.userService.getCurrentUserId();return r.forEach((function(t){if(o[t]){var i=e.getFieldByFieldId(t);n[t]={type:i.getType(),value:i.generateCellValueByStandardCell(o[t]),modifiedUserId:s}}})),n},n.getSetRecordDeltaByFilterInfo=function(e){var t=this,n={},i=e.getViewByViewId(this.viewId).getFilterInfos();if(!i||!i.conditions.length)return n;if(i.conjunction!==Se.S.AND&&i.conditions.length>1)return n;var o=i.conditions.map((function(e){return e.fieldId})),r=(0,Re.LP)(o);return i.conditions.forEach((function(e){var i,o=e.fieldId,s=e.fieldType,a=e.operator,l=e.value;if(r.has(o)){var d=null!==(i=De.p.get(s).getDefaultCellValueByFilterCondition(a,l))&&void 0!==i?i:null;ee()(d)||(n[o]={modifiedUserId:t.userService.getCurrentUserId(),type:s,value:d})}})),n},n.getSetRecordDeltaByRequestInfo=function(e){var t=this,n={};return this.cellValue?(Object.keys(this.cellValue).forEach((function(i){var o=t.cellValue[i];if(o){var r=e.getFieldByFieldId(i).getType();n[i]={modifiedUserId:t.userService.getCurrentUserId(),type:r,value:o}}})),n):n},t}(E);Xe.id=6,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Xe.prototype,"check",null);var Je=Xe=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],Xe),qe=(n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/esnext.set.add-all.js"),n("../node_modules/core-js/modules/esnext.set.delete-all.js"),n("../node_modules/core-js/modules/esnext.set.difference.js"),n("../node_modules/core-js/modules/esnext.set.every.js"),n("../node_modules/core-js/modules/esnext.set.filter.js"),n("../node_modules/core-js/modules/esnext.set.find.js"),n("../node_modules/core-js/modules/esnext.set.intersection.js"),n("../node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),n("../node_modules/core-js/modules/esnext.set.is-subset-of.js"),n("../node_modules/core-js/modules/esnext.set.is-superset-of.js"),n("../node_modules/core-js/modules/esnext.set.join.js"),n("../node_modules/core-js/modules/esnext.set.map.js"),n("../node_modules/core-js/modules/esnext.set.reduce.js"),n("../node_modules/core-js/modules/esnext.set.some.js"),n("../node_modules/core-js/modules/esnext.set.symmetric-difference.js"),n("../node_modules/core-js/modules/esnext.set.union.js"),n("../node_modules/@tencent/xtable-core/es/mutation/record/move-record.js")),$e=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.delta=t.delta,o.recordIds=Object.keys(o.delta.recordMoveMap).sort((function(e,t){return o.delta.recordMoveMap[e].source-o.delta.recordMoveMap[t].source})),o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this,t=this.recordIds.map((function(t){return e.delta.recordMoveMap[t].target}));return 1!==new Set(t).size?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("record_index_same"))}:{isSuccess:!0}},n.do=function(e){var t=this;this.recordIds.forEach((function(n,i){t.moveRecord(n,e),t.setRecordByRecords(n,e),t.setRecordByGroupPath(n,e);var o=t.delta.recordMoveMap,r=o[n],s=r.source,a=r.target;t.recordIds.slice(i+1).forEach((function(e){o[e].source<=a?o[e].source-=1:(a>=s&&a<o[e].source||a<s)&&(o[e].target+=1)}))}))},n.moveRecord=function(e,t){t(new qe.Z({requestId:8,tableId:this.tableId,viewId:this.viewId,recordId:e,delta:this.delta.recordMoveMap[e]}))},n.setRecordByGroupPath=function(e,t){if(this.delta.groupPath.length){var n=this.base.getTableByTableId(this.tableId),i=n.getViewByViewId(this.viewId);if((0,k._)(i)){var o=i.getStandardValueMapByPath(this.delta.groupPath),r=Object.keys(o),s={},a=this.userService.getCurrentUserId();r.forEach((function(e){if(o[e]){var t=n.getFieldByFieldId(e);s[e]={type:t.getType(),value:t.generateCellValueByStandardCell(o[e]),modifiedUserId:a}}})),t(new M.Z({requestId:8,tableId:this.tableId,viewId:this.viewId,recordId:e,delta:s,userInfo:this.userService.getCurrentUserInfo()}))}}},n.setRecordByRecords=function(e,t){var n,i=null===(n=this.delta.records)||void 0===n?void 0:n[e];if(i){var o=this.base.getTableByTableId(this.tableId),r={},s=this.userService.getCurrentUserId();Object.keys(i).forEach((function(e){var t,n=o.getFieldByFieldId(e);r[e]={type:n.getType(),value:null===(t=i[e])||void 0===t?void 0:t.value,modifiedUserId:s}})),t(new M.Z({requestId:8,tableId:this.tableId,viewId:this.viewId,recordId:e,delta:r,userInfo:this.userService.getCurrentUserInfo()}))}},t}(E);$e.id=8,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],$e.prototype,"check",null);var et=$e=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],$e),tt=(n("../node_modules/core-js/modules/es.object.entries.js"),n("../node_modules/lodash/isEmpty.js")),nt=n.n(tt),it=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.records=t.records,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return nt()(this.records)?{isSuccess:!1,error:new r.s7(r.QJ.REQUEST_CHECK,r.GP.TERMINATE_AND_WARNING,R.Z.t("record_empty"))}:{isSuccess:!0}},n.do=function(e){var t=this,n=this.base.getTableByTableId(this.tableId),i=this.userService.getCurrentUserId();Object.entries(this.records).forEach((function(o){var r=o[0],s=o[1];e(new M.Z({requestId:10,tableId:t.tableId,viewId:t.viewId,recordId:r,delta:Object.keys(s).reduce((function(e,t){var o;return Object.assign(Object.assign({},e),((o={})[t]={type:n.getFieldByFieldId(t).getType(),value:s[t].value,modifiedUserId:i},o))}),{}),userInfo:t.userService.getCurrentUserInfo()}))}))},t}(E);it.id=10,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],it.prototype,"check",null);var ot=it=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],it),rt=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.recordId=t.recordId,o.delta=t.delta,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return{isSuccess:!0}},n.do=function(e){var t=this,n=this.base.getTableByTableId(this.tableId),i=this.userService.getCurrentUserId();e(new M.Z({requestId:9,tableId:this.tableId,viewId:this.viewId,recordId:this.recordId,delta:Object.keys(this.delta).reduce((function(e,o){var r;return Object.assign(Object.assign({},e),((r={})[o]={type:n.getFieldByFieldId(o).getType(),value:t.delta[o].value,modifiedUserId:i},r))}),{}),userInfo:this.userService.getCurrentUserInfo()}))},t}(E);rt.id=9,(0,i.__decorate)([T("table","view","record"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],rt.prototype,"check",null);var st=rt=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],rt),at=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=this.delta.sortInfos.map((function(e){return e.fieldId})).find((function(t){return!e.getFieldByFieldId(t)}));return t?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("field_nonexist",{fieldId:t}))}:{isSuccess:!0}},n.do=function(e){var t=this.base.getTableByTableId(this.tableId).getViewByViewId(this.viewId);e(new W.Z({requestId:26,tableId:this.tableId,viewId:this.viewId,delta:{sortInfos:this.delta.sortInfos,recordIds:t.viewSort.getSortedRecordIds(this.delta.sortInfos),autoSort:this.delta.autoSort}}))},t}(E);at.id=26,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],at.prototype,"check",null);var lt=at=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],at),dt=n("../node_modules/@tencent/xtable-core/es/mutation/table/delete-table.js"),ct=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.index=t.index,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableIndexById(this.tableId);return e!==this.index?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("table_illegal_delete_index",{index1:this.index,index2:e}))}:{isSuccess:!0}},n.do=function(e){e(new dt.Z({requestId:1,tableId:this.tableId,delta:{index:this.index}}))},t}(E);ct.id=1,(0,i.__decorate)([T("table"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],ct.prototype,"check",null);var ut=ct=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],ct),ht=n("../node_modules/@tencent/xtable-core/es/mutation/table/insert-table.js"),gt=n("../node_modules/@tencent/xtable-core/es/utils/convertor/mutation-convertor.js"),ft=n("../node_modules/@tencent/xtable-core/es/utils/convertor/table-json-convertor.js"),mt=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.delta=t.delta,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return this.delta.index<0||this.delta.index>this.base.getTableCount()?{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("table_illegal_insert_index",{index:this.delta.index,tableCount:this.base.getTableCount()}))}:{isSuccess:!0}},n.do=function(e){var t=this.base.getNewTableId(),n=this.base.getDefaultTableTitle();e(new ht.Z({requestId:0,tableId:t,isRecover:!1,delta:Object.assign(Object.assign({},this.delta),{title:n})})),e((0,gt.Xr)((0,ft.C)({tableId:t,title:n,userInfo:this.userService.getCurrentUserInfo(),viewType:v.bW.GRID})))},t}(E);mt.id=0;var pt=mt=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],mt),vt=n("../node_modules/@tencent/xtable-core/es/mutation/table/move-table.js"),It=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return(0,ye.isNumber)(this.delta.source)&&(0,ye.isNumber)(this.delta.target)?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,"source =  "+this.delta.source+", target = "+this.delta.target)}},n.do=function(e){e(new vt.Z({requestId:2,tableId:this.tableId,delta:{target:this.delta.target,source:this.delta.source}}))},t}(E);It.id=2,(0,i.__decorate)([T("table"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],It.prototype,"check",null);var yt=It=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],It),_t=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.tableJSON=t.tableJSON,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return{isSuccess:!0}},n.do=function(e){var t=(0,gt.Xr)(this.tableJSON,!0);t.setRequestId(4),e(t)},t}(E);_t.id=4,(0,i.__decorate)([T("table"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],_t.prototype,"check",null);var bt=_t=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],_t),Mt=n("../node_modules/@tencent/xtable-core/es/mutation/table/set-table-attributes.js"),Ct=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return{isSuccess:!0}},n.do=function(e){e(new Mt.Z({requestId:3,tableId:this.tableId,delta:Object.assign({},this.delta)}))},t}(E);Ct.id=3,(0,i.__decorate)([T("table"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Ct.prototype,"check",null);var wt=Ct=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Ct),Tt=n("../node_modules/@tencent/xtable-core/es/mutation/table/set-table-description.js"),Et=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return{isSuccess:!0}},n.do=function(e){e(new Tt.Z({requestId:34,tableId:this.tableId,delta:this.delta}))},t}(E);Et.id=34,(0,i.__decorate)([T("table"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Et.prototype,"check",null);var jt=Et=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Et),At=n("../node_modules/@tencent/xtable-core/es/mutation/view/insert-view.js"),xt=function(e){function t(t,n,i){var o;return(o=e.call(this)||this).base=n,o.userService=i,o.tableId=t.tableId,o.viewId=t.viewId,o.delta=t.delta,o}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId),t=(0,A.eV)(e.getViewCount()+1);return t.isValid?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,t.msg,t.code)}},n.do=function(e){var t,n,i,o,r,s=this.base.getTableByTableId(this.tableId),a=s.getViewByViewId(this.viewId),l=s.getNewViewId(),d=g()(a.getProperties());return(null===(t=this.delta)||void 0===t?void 0:t.groupInfos)&&(0,k.r)(a)&&(d.groupInfos=null===(n=this.delta)||void 0===n?void 0:n.groupInfos),(0,ye.isBoolean)(null===(i=this.delta)||void 0===i?void 0:i.autoSort)&&(d.isAutoSort=this.delta.autoSort),(null===(o=this.delta)||void 0===o?void 0:o.sortInfos)&&(d.sortInfos=this.delta.sortInfos),(null===(r=this.delta)||void 0===r?void 0:r.filterInfos)&&(d.filterInfos=this.delta.filterInfos),e(new At.Z({requestId:19,tableId:this.tableId,delta:{viewId:l,type:a.type,title:s.getDefaultViewTitle(a.getTitle()),index:s.getViewIndex(this.viewId)+1,publicLevel:a.getPublicLevel(),owner:this.userService.getCurrentUserId(),properties:d}})),{viewId:l}},t}(E);xt.id=23,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],xt.prototype,"check",null);var Dt=xt=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__metadata)("design:paramtypes",[Object,Object,Object])],xt),St=n("../node_modules/@tencent/xtable-core/es/mutation/view/delete-view.js"),Nt=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return{isSuccess:!0}},n.do=function(e){e(new St.Z({requestId:21,tableId:this.tableId,viewId:this.viewId,delta:{index:this.base.getTableByTableId(this.tableId).getViewIndex(this.viewId)}}))},t}(E);Nt.id=21,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Nt.prototype,"check",null);var Rt=Nt=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Nt),Ot=n("../node_modules/@tencent/xtable-core/es/model/view/base-view/index.interface.js"),Lt=function(e){function t(t,n,i,o){var r;return(r=e.call(this)||this).base=n,r.userService=i,r.fieldHelper=o,r.tableId=t.tableId,r.delta=t.delta,r}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.base.getTableByTableId(this.tableId);if(this.delta.index<0||this.delta.index>e.getViewCount())return{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,R.Z.t("view_illegal_insert_index",{index:this.delta.index,viewCount:e.getViewCount()}))};var t=(0,A.eV)(e.getViewCount()+1);return t.isValid?{isSuccess:!0}:{isSuccess:!1,error:C(r.GP.TERMINATE_AND_WARNING,t.msg,t.code)}},n.do=function(e){var t=this.base.getTableByTableId(this.tableId),n=t.getNewViewId();return e(new At.Z({requestId:19,tableId:this.tableId,delta:{viewId:n,type:this.delta.type,title:t.getDefaultViewTitle(v.Ql[this.delta.type]),index:this.delta.index,publicLevel:Ot.t.PUBLIC,owner:this.userService.getCurrentUserId(),properties:t.generateDefaultViewProperty(this.delta.type)}})),this.handleGroupInfosIfKanbanView(t,n,e),this.handleGanttConfigIfGanttView(t,n,e),{viewId:n}},n.handleGroupInfosIfKanbanView=function(e,t,n){var i;if(this.delta.type===v.bW.KANBAN){var o=V.f.SINGLE_SELECT,r=null!==(i=e.getViewByViewId(t).getAllFieldIds().filter((function(t){var n=e.getFieldByFieldId(t);return(null===n||void 0===n?void 0:n.getType())===o}))[0])&&void 0!==i?i:this.insertField(e,t,o,n);n(new F.Z({requestId:19,tableId:this.tableId,viewId:t,delta:{groups:[{fieldId:r,desc:!0}]}})),n(new _.Z({requestId:19,tableId:this.tableId,viewId:t,fieldIds:[r],delta:{hidden:!0}}))}},n.handleGanttConfigIfGanttView=function(e,t,n){var i,o;if(this.delta.type===v.bW.GANTT){var r=e.getViewByViewId(t),s=r.getPrimaryField().getId(),a=V.f.DATE_TIME,l=r.getAllFieldIds(),d=l.filter((function(t){var n=e.getFieldByFieldId(t);return(null===n||void 0===n?void 0:n.getType())===a})),c=null!==(i=d[0])&&void 0!==i?i:this.insertField(e,t,a,n,R.Z.t("start_date")),u=null!==(o=d[1])&&void 0!==o?o:this.insertField(e,t,a,n,R.Z.t("end_date"));n(new B.Z({requestId:19,tableId:this.tableId,viewId:t,delta:Object.assign(Object.assign({},r.getGanttConfig()),{startDateFieldId:c,endDateFieldId:u,labelFieldId:s})}));var h=r.getPrimaryField().getId();n(new _.Z({requestId:19,tableId:this.tableId,viewId:t,fieldIds:l.filter((function(e){return![h,c,u].includes(e)})),delta:{hidden:!0}}))}},n.insertField=function(e,t,n,i,o){var r=e.getNewFieldId(),s=e.getViewIdList().reduce((function(t,n){var i;return Object.assign(Object.assign({},t),((i={})[n]=e.getFieldCount(),i))}),{});return i(new I.Z({requestId:19,tableId:this.tableId,viewId:t,delta:{fieldId:r,type:n,title:null!==o&&void 0!==o?o:e.getDefaultFieldTitle(n),indexes:s}})),i(new y.Z({requestId:19,tableId:this.tableId,viewId:t,fieldId:r,delta:{type:n,property:this.fieldHelper.get(n).getDefaultProperty([])}})),r},t}(E);Lt.id=19,(0,i.__decorate)([T("table"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Lt.prototype,"check",null);var kt=Lt=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,j),(0,i.__param)(3,p),(0,i.__metadata)("design:paramtypes",[Object,Object,Object,Object])],Lt),zt=n("../node_modules/@tencent/xtable-core/es/mutation/view/move-view.js"),Pt=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){return{isSuccess:!0}},n.do=function(e){e(new zt.Z({requestId:22,tableId:this.tableId,viewId:this.viewId,delta:Object.assign({},this.delta)}))},t}(E);Pt.id=22,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Pt.prototype,"check",null);var Ft=Pt=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Pt),Ut=n("../node_modules/@tencent/xtable-core/es/mutation/view/set-view-attributes.js"),Bt=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=n,i.tableId=t.tableId,i.viewId=t.viewId,i.delta=t.delta,i}(0,u.Z)(t,e);var n=t.prototype;return n.check=function(){var e=this.checkTitleDuplicated();if(e)return{isSuccess:!1,error:e};var t=this.checkTitleEmpty();return t?{isSuccess:!1,error:t}:{isSuccess:!0}},n.do=function(e){e(new Ut.Z({requestId:20,tableId:this.tableId,viewId:this.viewId,delta:Object.assign({},this.delta)}))},n.checkTitleDuplicated=function(){var e=this.delta.title,t=this.base.getTableByTableId(this.tableId);return"undefined"===typeof e?null:t.getAllViews().map((function(e){return e.getTitle()})).some((function(t){return t===e}))?new r.s7(r.QJ.REQUEST_CHECK,r.GP.TERMINATE_AND_WARNING,R.Z.t("title_exist",{type:R.Z.t("view"),title:this.delta.title}),r.jK.TITLE_DUPLICATED):null},n.checkTitleEmpty=function(){return this.delta.title?null:new r.s7(r.QJ.REQUEST_CHECK,r.GP.TERMINATE_AND_WARNING,R.Z.t("title_empty",{type:R.Z.t("view")}),r.jK.TITLE_EMPTY)},t}(E);Bt.id=20,(0,i.__decorate)([T("table","view"),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],Bt.prototype,"check",null);var Wt,Gt=Bt=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__metadata)("design:paramtypes",[Object,Object])],Bt),Zt=((Wt={})[Y.id]=Y,Wt[K.id]=K,Wt[q.id]=q,Wt[D.id]=D,Wt[se.id]=se,Wt[he.id]=he,Wt[ce.id]=ce,Wt[Je.id]=Je,Wt[st.id]=st,Wt[ot.id]=ot,Wt[Ve.id]=Ve,Wt[et.id]=et,Wt[We.id]=We,Wt[Fe.id]=Fe,Wt[ut.id]=ut,Wt[pt.id]=pt,Wt[yt.id]=yt,Wt[bt.id]=bt,Wt[wt.id]=wt,Wt[Rt.id]=Rt,Wt[kt.id]=kt,Wt[Ft.id]=Ft,Wt[Gt.id]=Gt,Wt[Dt.id]=Dt,Wt[fe.id]=fe,Wt[pe.id]=pe,Wt[lt.id]=lt,Wt[be.id]=be,Wt[xe.id]=xe,Wt[we.id]=we,Wt[ke.id]=ke,Wt[ze.id]=ze,Wt[Ie.id]=Ie,Wt[jt.id]=jt,Wt[Ee.id]=Ee,Wt),Ht=(n("../node_modules/core-js/modules/es.array.splice.js"),n("../node_modules/@tencent/xtable-core/es/constant/config/id.js")),Yt=n("../node_modules/@tencent/xtable-core/es/model/table/partial/description/default-settings.js");function Vt(e,t){var n=t.id,i=void 0===n?e.getNewTableId():n,o=t.title,r=void 0===o?e.getDefaultTableTitle():o;return Object.assign({id:i,title:r},{fieldMap:{},recordMap:{},recordMetaMap:{},viewMap:{},views:[],userMap:{},resourceMap:{attachments:{}},commentMap:{},mentionMap:{},externalDataSourceMap:{},description:(0,Yt.$R)()})}var Qt=(0,f.yh)("ITable"),Kt=n("../node_modules/@tencent/xtable-core/es/utils/id.js"),Xt=n("../node_modules/@tencent/xtable-core/es/utils/title.js"),Jt=function(){function e(e,t){this.baseId=e,this.transientTableService=t,this.title="",this.owner="",this.tables=[]}var t=e.prototype;return t.fromJSON=function(e){this.title=e.title,this.owner=e.owner,this.tables=[],this.deletedRecordMetaMap={},this.userMap={}},t.getTableByTableId=function(e){return this.tables.find((function(t){return t.id===e}))},t.getNewTableId=function(){var e=this.tables.map((function(e){return e.id}));return(0,Kt.JU)({prefix:Ht.V.TABLE,usedIds:e})},t.getDefaultTableTitle=function(e){return void 0===e&&(e=te.Y7.TABLE),(0,Xt.yG)(e,this.tables.map((function(e){return e.getTitle()})))},t.deleteTable=function(e){var t=this.getTableIndexById(e);t<0||this.tables.splice(t,1)},t.getTables=function(){return this.tables},t.getTableCount=function(){return this.tables.length},t.getTableIndexById=function(e){return this.tables.findIndex((function(t){return t.id===e}))},t.moveTable=function(e,t){var n=this.getTableIndexById(e);n<0||t<0||t>=this.tables.length||(this.tables=(0,Re.J2)(this.tables,n,t))},t.insertTable=function(e){var t=e.delta,n=t.title,i=t.index;return e.isRecover||(0,Re.ZQ)(this.tables,this.createTable({tableId:e.tableId,title:n}),i),!0},t.createTable=function(e){var t=void 0===e?{}:e,n=t.tableId,i=void 0===n?this.getNewTableId():n,o=t.title,r=void 0===o?this.getDefaultTableTitle():o;return this.transientTableService.getNewInstance([Vt(this,{id:i,title:r})])},t.resetTables=function(){this.tables=[]},t.addTableModel=function(e,t){var n=this.tables,i=null!==t&&void 0!==t?t:n.length;return!this.isTableExists(e.id)&&((0,Re.ZQ)(n,e,i),this.deletedRecordMetaMap[e.id]||(this.deletedRecordMetaMap[e.id]={}),!0)},t.isTableExists=function(e){return this.tables.some((function(t){return t.id===e}))},e}();Jt=(0,i.__decorate)([(0,i.__param)(1,Qt),(0,i.__metadata)("design:paramtypes",[String,Object])],Jt),n("../node_modules/core-js/modules/es.object.values.js");var qt,$t=n("../node_modules/@tencent/xtable-common/es/delegator/index.js");!function(e){e[e.RELATE_FORM=1]="RELATE_FORM"}(qt||(qt={}));var en=n("../node_modules/@tencent/xtable-core/es/model/field/common/primary-field-types.js"),tn=n("../node_modules/@tencent/xtable-core/es/model/manager/dirty-pipeline/index.interface.js");function nn(e){var t=e.treatmentType,n=void 0===t?r.GP.FATAL_ERROR:t,i=e.errorMessage,o=e.errCode;return{isSuccess:!1,error:new r.s7(r.QJ.MODEL_RUN,n,i,o)}}var on=function(){function e(){this.description=(0,Yt.$R)()}var t=e.prototype;return t.initDescription=function(e){return this.description=e,!0},t.getDescription=function(){return this.description},t.getClonedDescription=function(){return g()(this.description)},t.setDescription=function(e){return this.description=e,!0},e}(),rn=n("../node_modules/@tencent/xtable-core/es/model/view/index.js"),sn=(0,f.yh)("IExternalDataSourceActionService"),an=(0,f.yh)("IPermissionService"),ln=n("../node_modules/@tencent/xtable-core/es/utils/decorators/model/mark-dirty.js"),dn=function(){function e(e,t,n,i,o,r,s){var a=this;this.base=t,this.fieldHelper=n,this.viewModelHelper=i,this.userService=o,this.externalDataSourceActionService=r,this.permissionService=s,this.records={},this.fields={},this.tableDescriptionPartial=new on,this.isDataLoading=!1,this.initTimestamp=Date.now(),this.userMap={},this.commentMap={},this.mentionMap={},this.commentsCount={},this.views=[],this.getCell=function(e,t){var n,i,o;return null!==(o=null===(i=null===(n=a.records)||void 0===n?void 0:n[e])||void 0===i?void 0:i[t])&&void 0!==o?o:null},this.getCellValue=function(e,t){var n=a.getFieldByFieldId(t);return n?null===n||void 0===n?void 0:n.getCellValue(e):null},this.id=e.id,this.initModelFields(e),this.initComment(e)}var t=e.prototype;return t.setFieldAttributes=function(e,t){var n=this.fields[e];if(n)if("type"in t&&n.getType()!==t.type)this.transformField(e,t);else{var i=t.title;i&&n.setTitle(i),function(e){return"property"in e&&"type"in e}(t)&&this.setFieldProperty(e,t)}else o.k.error("[model][table]找不到该"+e+"列")},t.getTitle=function(){return this.title},t.isLoading=function(){return this.isDataLoading},t.startLoading=function(){this.isDataLoading=!0},t.stopLoading=function(){this.isDataLoading=!1},t.setTitle=function(e){this.title=e},t.generateDefaultViewProperty=function(e,t){var n,i,o,r=this,s=null!==(n=t&&this.getViewByViewId(t))&&void 0!==n?n:this.views[0];if(s)i=(0,l.Z)(s.getAllFieldIds()),o=(0,l.Z)(s.getAllRecordIds());else{var a=Object.keys(this.fields),d=a.findIndex((function(e){return(0,en.e)(r.fields[e].getType())})),c=a.splice(d>=0?d:0,1);i=[].concat((0,l.Z)(c),(0,l.Z)(a)),o=Object.keys(this.records)}return rn.N.get(e).generateDefaultProperty(this,{fieldIds:i,recordIds:o})},t.getNewViewId=function(){return(0,Kt.JU)({prefix:Ht.V.VIEW,usedIds:this.views.map((function(e){return e.id}))})},t.getDefaultFieldTitle=function(e,t,n){var i=t||te.Y7.FIELD[e]||te.Y7.FIELD.default;return(0,Xt.yG)(i,Object.values(this.fields).filter((function(e){return!(null===n||void 0===n?void 0:n.includes(e.getId()))})).map((function(e){return e.getTitle()})))},t.getDefaultViewTitle=function(e){return(0,Xt.yG)(e,this.views.map((function(e){return e.getTitle()})))},t.getRecordCount=function(){return Object.keys(this.records).length},t.getRecordIdList=function(){return Object.keys(this.records)},t.getFieldRestriction=function(e){var t=this.getExternalSourceTypesByFieldId(e);return this.getFieldRestrictionByExternalDataSourceTypes(t)},t.insertRecord=function(e,t){this.records[e]?o.k.info("添加 record 错误，record "+e+" 已经存在"):(this.records[e]={},this.views.forEach((function(n){return n.insertRecord(e,t[n.id])})))},t.deleteRecord=function(e,t,n){void 0===n&&(n=!1),(n||this.records[e])&&(delete this.records[e],this.views.forEach((function(n){return n.deleteRecordIndex(e,t[n.id])})))},t.setRecord=function(e,t){var n=this;this.records[e]&&Object.entries(t).forEach((function(t){var i=t[0],o=t[1];n.setPartialCell(e,i,o)}))},t.getRecordByRecordIds=function(e){var t=this,n={};return e.forEach((function(e){n[e]=t.records[e]})),n},t.setPartialRecordsMeta=function(e){var t=this;return Object.entries(e).forEach((function(e){var n=e[0],i=e[1];t.recordMetaMap[n]=Object.assign(Object.assign({},t.recordMetaMap[n]),i)})),!0},t.deleteRecordMetaByRecordId=function(e){return this.recordMetaMap[e]?(delete this.recordMetaMap[e],!0):(o.k.error("delete recordMeta failed: record meta "+e+" not exist."),!1)},t.getRecordMetaByRecordId=function(e){var t=this.recordMetaMap[e];if(t)return Object.assign({},t)},t.appendRecords=function(e){Object.assign(this.records,e.recordMap),Object.assign(this.recordMetaMap,e.recordMetaMap),o.k.info("[model][table]新增"+Object.keys(e.recordMap).length+" 后 Table 上的 records 数量是"+Object.keys(this.records).length)},t.getFieldCount=function(){return Object.keys(this.fields).length},t.createField=function(e){var t=e.fieldId,n=e.fieldJSON,i=n.type,o=n.title,r=n.property;return new(this.fieldHelper.get(i))({title:o,property:r,id:t},this)},t.insertField=function(e){var t=e.fieldId,n=e.delta,i=n.title,r=n.type,s=n.property;this.isFieldExist(t)?o.k.error("插入的 fieldId: "+t+" 已经存在"):(this.fields[t]=this.createField({fieldId:t,fieldJSON:{title:i,property:s,type:r}}),this.views.forEach((function(n){return n.insertField(t,e.delta.indexes[n.id])})))},t.deleteField=function(e){this.isFieldExist(e)?delete this.fields[e]:o.k.error("待删除的 field "+e+" 不存在")},t.getFieldByFieldId=function(e){return this.fields[e]},t.getFields=function(){return Object.values(this.fields)},t.getViewByViewId=function(e){return this.views.find((function(t){return t.id===e}))},t.deleteView=function(e){var t=this.views,n=t.findIndex((function(t){return t.id===e}));return-1!==n&&(t.splice(n,1),!0)},t.insertView=function(e){return this.insertViewModel(this.createViewModel(Object.assign({id:e.viewId},e)),e.index),!0},t.moveView=function(e,t,n){var i;return(null===(i=this.views[t])||void 0===i?void 0:i.id)===e&&(this.views=(0,Re.J2)(this.views,t,n),!0)},t.getViewIdList=function(){return this.views.map((function(e){return e.id}))},t.getAllViews=function(){return(0,l.Z)(this.views)},t.getRecordByRecordId=function(e){var t=this.records[e];if(t)return t},t.isAllCellsEmpty=function(e,t){var n=this;return!e.some((function(e){return t.some((function(t){var i=n.records[e][t];return!!i&&null!==i.value}))}))},t.getViewCount=function(){return this.views.length},t.getViewIndex=function(e){return this.views.findIndex((function(t){return t.id===e}))},t.getNewFieldId=function(){return(0,Kt.JU)({prefix:Ht.V.FIELD,usedIds:Object.keys(this.fields)})},t.getNewRecordId=function(){return(0,Kt.JU)({prefix:Ht.V.RECORD,usedIds:Object.keys(this.records)})},t.getCellStandardValueById=function(e,t){var n=this.getFieldByFieldId(t);return n?n.getStandardCell(e):null},t.getStandardValueMatrixFromIds=function(e){var t=this,n=e.recordIds,i=e.fieldIds,o=i.map((function(e){return t.getFieldByFieldId(e)})).filter((function(e){return"undefined"!==typeof e})),r=n.map((function(e){return i.map((function(n){return t.getCell(e,n)}))})),s=n.map((function(e){return o.map((function(t){return t.getStandardCell(e)}))}));return{padId:this.base.baseId,tableId:this.id,fields:o,cells:r,standardCells:s,userMap:[]}},t.toJSON=function(){return{id:this.id,title:this.title,recordMetaMap:g()(this.recordMetaMap),resourceMap:g()(this.resourceMap),userMap:g()(this.userMap),mentionMap:g()(this.mentionMap),commentMap:g()(this.commentMap),fieldMap:this.getFieldMapJSON(),recordMap:this.getRecordMapJSON(),viewMap:this.getViewMapJSON(),views:this.views.map((function(e){return e.id})),externalDataSourceMap:g()(this.externalDataSourceMap),description:this.getClonedDescription()}},t.fromSnapshot=function(e){return this.initUserMap(e),this.initFields(e),this.initRecords(e),this.initExternalResource(e),this.initDescription(e.description),this.initViews(e)},t.getPermissionStatus=function(){return this.permissionService.getBasePermissionStatus()},t.getUserInfo=function(e){return this.userMap[e]?this.userMap[e]:this.userService.getUserInfo(e)},t.setUserInfo=function(e){var t=e.id;this.userMap[t]=e},t.linkExternalDataSource=function(e){var t=this;Object.entries(e).forEach((function(e){var n=e[0],i=e[1],o=t.externalDataSourceMap[n];o?Object.assign(o.dataSourceConfig.externalFieldIdByFieldId,i.dataSourceConfig.externalFieldIdByFieldId):t.externalDataSourceMap[n]=i}))},t.unlinkExternalDataSource=function(e){var t=this;Object.keys(e).forEach((function(e){delete t.externalDataSourceMap[e]}))},t.initModelFields=function(e){this.title=e.title,this.recordMetaMap=e.recordMetaMap,this.resourceMap=e.resourceMap,this.userMap=e.userMap,this.mentionMap=e.mentionMap},t.transformField=function(e,t){var n,i=this.fields[e];this.fields[e]=this.createField({fieldId:e,fieldJSON:{type:t.type,title:null!==(n=t.title)&&void 0!==n?n:i.getTitle(),property:t.property}})},t.setFieldProperty=function(e,t){var n=this.fields[e];n&&n.setProperty(t.property)},t.setPartialCell=function(e,t,n){if(this.records[e]&&t in this.fields){var i=this.records[e][t];this.records[e][t]=Object.assign(Object.assign({},i),n)}},t.isFieldExist=function(e){return!!this.fields[e]},t.initComment=function(e){this.commentMap=e.commentMap;for(var t=0,n=Object.entries(this.commentMap);t<n.length;t++){var i=n[t],o=i[0],r=i[1];this.commentsCount[o]=r.length}},t.insertViewModel=function(e,t){var n=this.views;return!(n.length>=te.gU.MAXIMUM_VIEW_LIMIT)&&!n.some((function(t){return t.id===e.id}))&&((0,Re.ZQ)(n,e,t),!0)},t.initRecords=function(e){this.records=e.recordMap,this.recordMetaMap=e.recordMetaMap},t.initFields=function(e){var t=e.fieldMap;this.fields={};for(var n=0,i=Object.entries(t);n<i.length;n++){var o=i[n],r=o[0],s=o[1],a=s.type,l=s.title,d=s.property;this.fields[r]=this.createField({fieldId:r,fieldJSON:{title:l,type:a,property:d}})}},t.initViews=function(e){var t=this,n=e.views,i=e.viewMap;return n.length!==new Set(n).size?nn({errorMessage:R.Z.t("model_view_id_duplicated",{viewIds:n.join(",")}),errCode:r.jK.VIEW_ID_DUPLICATED}):n.every((function(e){return i[e]}))?(this.views=e.views.map((function(e){return t.createViewModel(i[e])})),{isSuccess:!0}):nn({errorMessage:R.Z.t("model_view_data_invalid",{viewIds:n.filter((function(e){return!i[e]})).join(",")}),errCode:r.jK.VIEW_DATA_NOT_EXIST})},t.initUserMap=function(e){this.userMap=e.userMap},t.initExternalResource=function(e){var t;this.externalDataSourceMap=null!==(t=e.externalDataSourceMap)&&void 0!==t?t:{}},t.createViewModel=function(e){return this.viewModelHelper.createViewModel(this,e)},t.getFieldMapJSON=function(){for(var e={},t=0,n=Object.entries(this.fields);t<n.length;t++){var i=n[t],o=i[0],r=i[1];e[o]=r.toJSON()}return e},t.getRecordMapJSON=function(){for(var e={},t=0,n=Object.entries(this.records);t<n.length;t++){var i=n[t],o=i[0],r=i[1];e[o]=r}return e},t.getViewMapJSON=function(){return this.views.reduce((function(e,t){var n;return Object.assign(Object.assign({},e),((n={})[t.id]=t.toJSON(),n))}),{})},t.getExternalSourceTypesByFieldId=function(e){var t=this,n=new Set;return Object.keys(this.externalDataSourceMap).forEach((function(i){var o=t.externalDataSourceMap[i].dataSourceConfig,r=o.externalFieldIdByFieldId,s=o.dataSourceType;qt[s]&&r[e]&&n.add(s)})),Array.from(n)},t.getFieldRestrictionByExternalDataSourceTypes=function(e){var t=this,n=e.map((function(e){return t.externalDataSourceActionService.getFieldRestrictionBySourceType(e)}));return this.externalDataSourceActionService.mergeFieldRestrictions(n)},e}();(0,i.__decorate)([(0,ln.SP)(tn.bs.RECORD_MAY_AFFECT),(0,i.__param)(0,ln.R6),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Object]),(0,i.__metadata)("design:returntype",void 0)],dn.prototype,"insertRecord",null),(0,i.__decorate)([(0,ln.SP)(tn.bs.RECORD_MAY_AFFECT),(0,i.__param)(0,ln.R6),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Object,Object]),(0,i.__metadata)("design:returntype",void 0)],dn.prototype,"deleteRecord",null),(0,i.__decorate)([(0,ln.SP)(tn.bs.FORCE_CHANGE),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],dn.prototype,"appendRecords",null),(0,i.__decorate)([(0,ln.SP)(tn.bs.FORCE_CHANGE),(0,i.__param)(0,ln.YT),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],dn.prototype,"deleteField",null),(0,i.__decorate)([(0,ln.SP)(tn.bs.RECORD_MAY_AFFECT),(0,i.__param)(0,ln.YT),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Object]),(0,i.__metadata)("design:returntype",void 0)],dn.prototype,"transformField",null),(0,i.__decorate)([(0,ln.SP)(tn.bs.RECORD_MAY_AFFECT),(0,i.__param)(0,ln.YT),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Object]),(0,i.__metadata)("design:returntype",void 0)],dn.prototype,"setFieldProperty",null),(0,i.__decorate)([(0,ln.SP)(tn.bs.CELL_VALUE_CHANGED),(0,i.__param)(0,ln.R6),(0,i.__param)(1,ln.YT),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Object]),(0,i.__metadata)("design:returntype",void 0)],dn.prototype,"setPartialCell",null),dn=(0,i.__decorate)([(0,i.__param)(1,m),(0,i.__param)(2,p),(0,i.__param)(3,v.Jx),(0,i.__param)(4,j),(0,i.__param)(5,sn),(0,i.__param)(6,an),(0,i.__metadata)("design:paramtypes",[Object,Jt,Object,Object,Object,Object,Object])],dn),$t.U.delegates(dn.prototype,"tableDescriptionPartial",{initDescription:$t.s.METHOD,getDescription:$t.s.METHOD,getClonedDescription:$t.s.METHOD,setDescription:$t.s.METHOD});var cn,un=n("../node_modules/@tencent/xtable-core/es/mutation/mutation-map.js"),hn=function(){function e(e){this.base=e}var t=e.prototype;return t.fromMutations=function(e){var t=this;e.forEach((function(e){return t.fromMutation(e)}))},t.fromMutation=function(e){var t=un.Z[e.type];t?new t(e.data).run(this.base):o.k.error("Missing mutation "+e.type+".")},e}(),gn=hn=(0,i.__decorate)([(0,i.__param)(0,m),(0,i.__metadata)("design:paramtypes",[Jt])],hn),fn=(0,f.yh)("ICommandManager"),mn=function(){function e(){}var t=e.prototype;return t.setPid=function(e){this.pid=e},t.init=function(e){this.module=e},t.getPid=function(){return this.pid},t.setTitle=function(e){return this.module.setTitle(e)},e}(),pn=(0,f.yh)("IDomainInfo"),vn=n("../node_modules/@tencent/xtable-core/es/service/editable-status/index.interface.js"),In=function(){function e(e){this.base=e,this.tableEditableStatusMap={}}var t=e.prototype;return t.getTableStatus=function(e){var t=this.base.getTableByTableId(e);return t?t.isLoading()?this.tableEditableStatusMap[e]||vn.H.NOT_EDITABLE:vn.H.ALL_EDITABLE:vn.H.NOT_EDITABLE},t.setTableStatus=function(e,t){this.tableEditableStatusMap[e]=t},e}();In=(0,i.__decorate)([(0,i.__param)(0,m),(0,i.__metadata)("design:paramtypes",[Object])],In);var yn=((cn={})[qt.RELATE_FORM]={canEdit:!1,canDelete:!1},cn),_n=function(){function e(){}e.generateDefaultFieldRestriction=function(){return{canEdit:!0,canDelete:!0}};var t=e.prototype;return t.getFieldRestrictionBySourceType=function(t){return t?yn[t]:e.generateDefaultFieldRestriction()},t.mergeFieldRestrictions=function(t){var n=e.generateDefaultFieldRestriction();return Object.keys(n).forEach((function(e){n[e]=!t.some((function(t){return!1===t[e]}))})),n},e}(),bn=n("../node_modules/@tencent/xtable-common/es/url-parameter/index.js"),Mn=n("../node_modules/@tencent/xtable-core/es/service/last-view/utils/index.js"),Cn=n("../node_modules/@tencent/xtable-core/es/service/table-cache/index.interface.js");function wn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var En=function(e){function t(t,n){var i;return(i=e.call(this)||this).base=t,i.tableCacheService=n,i.getViewIdProcesses=new Set,i.getLastViewId=function(e){for(var t,n=wn(i.getViewIdProcesses);!(t=n()).done;){var o=(0,t.value)(e);if(o)return o}return i.getDefaultViewId(e)},i.getViewIdBySSR=function(e){var t,n,o=null===(t=i.cacheBySSR)||void 0===t?void 0:t.viewId,r=null===(n=i.cacheBySSR)||void 0===n?void 0:n.tableId;if(i.cacheBySSR=void 0,r===e&&o)return i.checkViewIdValidated(o,e)?o:void 0},i.getViewIdByUrl=function(e){var t=(0,bn.IZ)(te.AL.VIEW_ID);if(i.checkViewIdValidated(t,e))return t},i.getViewIdByCache=function(e){var t=(0,Mn.X)(e,i.tableCacheService);if(t)return i.checkViewIdValidated(t,e)?t:void 0},i.listenViewSwitched(),i.getViewIdProcesses.add(i.getViewIdBySSR),i.getViewIdProcesses.add(i.getViewIdByUrl),i.getViewIdProcesses.add(i.getViewIdByCache),i}(0,u.Z)(t,e);var n=t.prototype;return n.setCacheBySSR=function(e,t){this.cacheBySSR={tableId:e,viewId:t}},n.getDefaultViewId=function(e){var t,n=null===(t=this.base.getTableByTableId(e))||void 0===t?void 0:t.getViewIdList();return null===n||void 0===n?void 0:n[0]},n.listenViewSwitched=function(){var e=this;this._register(s.o.onActiveViewSwitched.event((function(t){var n,i=t.toTable,o=t.toView;if(i&&o){e.tableCacheService.setItem({tableId:i.id,key:te.T9.LAST_VIEW_ID,value:o.id});var r=(0,bn.XK)(((n={})[te.AL.VIEW_ID]=o.id,n));window.history.replaceState({},"",r)}})))},n.checkViewIdValidated=function(e,t){var n,i=null===(n=this.base.getTableByTableId(t))||void 0===n?void 0:n.getViewIdList();return!!(null===i||void 0===i?void 0:i.includes(e))},t}(f.JT);En=(0,i.__decorate)([(0,i.__param)(0,m),(0,i.__param)(1,Cn.z),(0,i.__metadata)("design:paramtypes",[Object,Object])],En);var jn=(0,f.yh)("ILastViewService"),An=function(){function e(t){this.base=t,this.basePermissionStatus=e.getDefaultPermissionStatus()}e.getDefaultPermissionStatus=function(){return{canEdit:!1,canComment:!1,canCopy:!1,canUndo:!1,canRedo:!1}};var t=e.prototype;return t.getBasePermissionStatus=function(){return this.basePermissionStatus},t.setPartialBasePermissionStatus=function(e){if(this.updatePermissionStatus(e)){var t=this.base.getTables().map((function(e){return e.id}));s.o.onPermissionChanged.fire(t)}},t.updatePermissionStatus=function(e){var t=this,n=!1;return Object.keys(this.basePermissionStatus).forEach((function(i){var o=i,r=e[o];"boolean"===typeof r&&t.basePermissionStatus[o]!==r&&(n=!0,t.basePermissionStatus[o]=r)})),n},e}();An=(0,i.__decorate)([(0,i.__param)(0,m),(0,i.__metadata)("design:paramtypes",[Object])],An);var xn=function(){function e(){this.registeredRenderer=new Set}var t=e.prototype;return t.registerRenderer=function(e){this.registeredRenderer.add(e)},t.unregisterRenderer=function(e){this.registeredRenderer.delete(e)},t.rerenderAll=function(){this.registeredRenderer.forEach((function(e){return e.rerender()}))},e}(),Dn=(0,f.yh)("IRendererManagerService"),Sn=n("../node_modules/@tencent/xtable-core/es/service/table-cache/index.js"),Nn=n("../node_modules/@tencent/xtable-core/es/service/table-description/event.js"),Rn="TABLE_DESCRIPTION_CACHE_KEY",On=(0,f.yh)("ITableDescriptionService"),Ln=n("../node_modules/@tencent/xtable-core/es/utils/lru-cahce.js"),kn=function(){function e(){this.lruCache=new Ln.z({cacheKey:Rn,capacity:50})}var t=e.prototype;return t.getTableDescriptionVisible=function(e){var t=this.generateKey(e.id),n=this.lruCache.get(t);return"undefined"!==typeof n?n:0!==e.getDescription().value.length},t.setTableDescriptionVisible=function(e,t){var n=this.generateKey(e);this.lruCache.set(n,t),Nn._.visibleEmitter.fire(t)},t.generateKey=function(e){return"TABLE_DESCRIPTION_CACHE_KEY_"+e},e}(),zn=(n("../node_modules/regenerator-runtime/runtime.js"),n("../node_modules/core-js/modules/es.promise.js"),n("../node_modules/@tencent/xtable-common/es/decorators/execution/throttle.js")),Pn=function(){function e(e){var t=this;this.rendererManagerService=e,this.userMap={},this.freshUserIds=new Set,this.addUserInfo=function(e){t.isUserInfoValidated(e)?t.userMap[e.id]=e:o.k.info("[xtable-core][service][user], addUserInfo: 入参格式错误",{userInfo:e})}}var t=e.prototype;return t.setCurrentUserInfo=function(e){this.addUserInfo(e),this.currentUserId=e.id},t.getCurrentUserId=function(){return this.currentUserId},t.getCurrentUserInfo=function(){var e=this.getCurrentUserId();if(e)return this.getUserInfo(e)},t.getUserInfo=function(e){var t=this.userMap[e];if(t)return t;this.addFreshUserId(e)},t.updateUserMapByInfos=function(e){if(Array.isArray(e))return e.forEach(this.addUserInfo),void this.handleViewUpdate();o.k.info("[xtable-core][service][user], updateUserMapByInfos: 入参格式错误",{userInfos:e})},t.registerGetUserInfosMethod=function(e){this.getUserInfosByUserIds=e,this.updateUserMapByFreshUserIds()},t.addFreshUserId=function(e){this.freshUserIds.has(e)||(this.freshUserIds.add(e),this.updateUserMapByFreshUserIds())},t.updateUserMapByFreshUserIds=function(){return(0,i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.getUserInfosByUserIds||!this.freshUserIds.size){t.next=9;break}return n=(0,l.Z)(this.freshUserIds),i=Math.min(n.length,e.requestMaxUserIdCount),o=this.shiftFreshUserIds(i),t.next=6,this.getUserInfosByUserIds(o);case 6:r=t.sent,this.updateUserMapByInfos(r),this.updateUserMapByFreshUserIds();case 9:case"end":return t.stop()}}),t,this)})))},t.setFreshUserIdByArray=function(e){this.freshUserIds=new Set(e)},t.shiftFreshUserIds=function(e){var t=(0,l.Z)(this.freshUserIds),n=t.length;if(e<0)return o.k.info("[xtable-core][service][user], shiftFreshUserIds: shiftLength 长度不能小于 0",{shiftLength:e,length:n}),[];if(e>n)return o.k.info("[xtable-core][service][user], shiftFreshUserIds: shiftLength 长度不能大于数组本身长度",{shiftLength:e,length:n}),this.setFreshUserIdByArray([]),t;var i=t.splice(0,e);return this.setFreshUserIdByArray(t),i},t.handleViewUpdate=function(){this.rendererManagerService.rerenderAll()},t.isUserInfoValidated=function(e){return"object"===typeof e&&null!==e&&"id"in e&&"avatarUrl"in e&&"name"in e},e}();Pn.throttleTime=100,Pn.requestMaxUserIdCount=50,(0,i.__decorate)([(0,zn.c)(Pn.throttleTime),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Promise)],Pn.prototype,"updateUserMapByFreshUserIds",null),Pn=(0,i.__decorate)([(0,i.__param)(0,Dn),(0,i.__metadata)("design:paramtypes",[Object])],Pn);var Fn=new f.o5,Un=new f.yk;Fn.register(m,Jt),Fn.register(Qt,(0,f.uo)(dn)),Fn.register(p,De.e),Fn.register(v.Jx,rn.N),Fn.register(j,Pn),Fn.register(an,An),Fn.register(Dn,xn),Fn.register(sn,_n),Fn.register(fn,gn),Fn.register(Cn.z,Sn.i),Fn.register(On,kn),Fn.register(jn,En),Fn.register(vn.B,In),Fn.register(pn,mn,void 0,!0),Fn.getServiceDescriptors().forEach((function(e){var t=e[0],n=e[1];Un.set(t,n)}));var Bn,Wn=new f.FS(Un),Gn="smartsheet",Zn=n("../node_modules/@tencent/xtable-core/es/utils/report/mutation-report.service.js"),Hn=function(){function e(){this.requestEmitter=s.o.onRequestRunFinishedEmitter,this.onRequestRun=this.requestEmitter.event,this.commitRequestEmitter=s.o.onCommitRequestEmitter,this.onCommitRequest=this.commitRequestEmitter.event,this.requestCrashEmitter=s.o.onRequestCrashEmitter,this.onRequestCrash=this.requestCrashEmitter.event,this.mutationApi=new a.Z}var t=e.prototype;return t.registerUndoRedoStack=function(e){this.undoRedoStack=e},t.followRequestMutations=function(e,t,n){return d(e,t,n)},t.followChangeset=function(e,t,n){var i=d(JSON.parse(e).map((function(e){return e.map((function(e){return a.Z.deserializeMutation(e)}))})),JSON.parse(t).map((function(e){return e.map((function(e){return a.Z.deserializeMutation(e)}))})),n),o=[];return i.forEach((function(e){var t=[];e.forEach((function(e){t.push(a.Z.serializeMutation(e))})),o.push(t)})),JSON.stringify(o)},t.deserializeRequests=function(e){return e.map((function(e){return e.map((function(e){return a.Z.deserializeMutation(e)}))}))},t.addRequestApplyListener=function(e){return this.onRequestRun(e)},t.addCommitRequestListener=function(e){return this.onCommitRequest(e)},t.addRequestCrashListener=function(e){return this.onRequestCrash(e)},t.createAndRunRequest=function(e,t,n,i){var s;try{s=this.createRequest(e,t)}catch(l){var a=new r.s7(r.QJ.REQUEST_LOAD,r.GP.TERMINATE_AND_WARNING,l.message||l.stack);return o.k.error("create request error",a),{isSuccess:!1,error:a}}return this.checkAndRun(s,n,i)},t.runMutations=function(e,t){var n=this;try{e.forEach((function(e){n.mutationApi.run(e,t)}))}catch(i){throw(0,Zn.Ig)(),i}this.triggerRender(e)},t.runAndCommitMutations=function(e,t){this.runMutations(e,t),this.triggerCommit(e)},t.triggerCommit=function(e){this.commitRequestEmitter.fire(e)},t.triggerRender=function(e){e.length&&this.requestEmitter.fire({tableId:e[0].tableId,mutations:e})},t.createRequest=function(e,t){if(o.k.info("request createRequest requestId = "+e),!Zt[e])throw new Error("找不到对应的 requestId "+e);return Wn.createInstance(Zt[e],t)},t.checkAndRun=function(e,t,n){var i,s=this,a=e.check(n);if(!a.isSuccess)return o.k.error("check request error",a),a;try{var l;this.undoRedoStack&&(l=this.undoRedoStack.createUndoRedoMutations({docType:Gn,sheetId:"",isLocal:!0}));var d=[],c=e.run((function(e){e.setOperationType(0),null===l||void 0===l||l.add([e]),d.push(e),s.collectMutationCallback(t,e)}));return null===(i=this.undoRedoStack)||void 0===i||i.pushLocal(l),this.triggerRender(d),this.triggerCommit(d),c}catch(g){var u=g instanceof r.s7?g:new r.s7(r.QJ.REQUEST_RUN,r.GP.TERMINATE_AND_WARNING,g.message||g.stack,r.jK.SMART_SHEET_REQUEST_RUN_ERROR);o.k.error("run request error",u,null===g||void 0===g?void 0:g.stack),(0,Zn.ah)(null===g||void 0===g?void 0:g.stack);var h={isSuccess:!1,error:u};return this.requestCrashEmitter.fire(h),h}},t.collectMutationCallback=function(e,t){var n=this.mutationApi.run(t,e);if(!n.isSuccess)throw n.error},e}(),Yn=Hn,Vn=function(){function e(e){this.base=e,this.requestApi=new Yn}var t=e.prototype;return t.undo=function(e){e.undo()},t.redo=function(e){e.redo()},t.addRequestApplyListener=function(e){return this.requestApi.addRequestApplyListener(e)},t.addCommitRequestListener=function(e){return this.requestApi.addCommitRequestListener(e)},t.addRequestCrashListener=function(e){return this.requestApi.addRequestCrashListener(e)},t.insertRecord=function(e){return this.requestApi.createAndRunRequest(6,e,this.base)},t.deleteRecord=function(e){return this.requestApi.createAndRunRequest(7,e,this.base)},t.moveRecord=function(e){return this.requestApi.createAndRunRequest(8,e,this.base)},t.setRecord=function(e){return this.requestApi.createAndRunRequest(9,e,this.base)},t.setRangeRecord=function(e){return this.requestApi.createAndRunRequest(10,e,this.base)},t.copyRecord=function(e){return this.requestApi.createAndRunRequest(11,e,this.base)},t.fillRecords=function(e){return this.requestApi.createAndRunRequest(33,e,this.base)},t.deleteField=function(e,t){return this.requestApi.createAndRunRequest(13,e,this.base,t)},t.insertField=function(e){return this.requestApi.createAndRunRequest(12,e,this.base)},t.moveField=function(e){return this.requestApi.createAndRunRequest(14,e,this.base)},t.copyField=function(e){return this.requestApi.createAndRunRequest(18,e,this.base)},t.setFieldAttributes=function(e,t){return this.requestApi.createAndRunRequest(15,e,this.base,t)},t.setFieldHidden=function(e){return this.requestApi.createAndRunRequest(16,e,this.base)},t.setFieldStatType=function(e){return this.requestApi.createAndRunRequest(17,e,this.base)},t.deleteTable=function(e){return this.requestApi.createAndRunRequest(1,e,this.base)},t.insertTable=function(e){return this.requestApi.createAndRunRequest(0,e,this.base)},t.moveTable=function(e){return this.requestApi.createAndRunRequest(2,e,this.base)},t.overwriteTable=function(e){return this.requestApi.createAndRunRequest(4,e,this.base)},t.setTableAttributes=function(e){return this.requestApi.createAndRunRequest(3,e,this.base)},t.deleteView=function(e){return this.requestApi.createAndRunRequest(21,e,this.base)},t.insertView=function(e){return this.requestApi.createAndRunRequest(19,e,this.base)},t.moveView=function(e){return this.requestApi.createAndRunRequest(22,e,this.base)},t.copyView=function(e){return this.requestApi.createAndRunRequest(23,e,this.base)},t.setViewAttributes=function(e){return this.requestApi.createAndRunRequest(20,e,this.base)},t.setFilter=function(e){return this.requestApi.createAndRunRequest(25,e,this.base)},t.sortRecords=function(e){return this.requestApi.createAndRunRequest(26,e,this.base)},t.setGroup=function(e){return this.requestApi.createAndRunRequest(24,e,this.base)},t.setColWidth=function(e){return this.requestApi.createAndRunRequest(27,e,this.base)},t.setRowHeight=function(e){return this.requestApi.createAndRunRequest(28,e,this.base)},t.setFieldStatStatus=function(e){return this.requestApi.createAndRunRequest(29,e,this.base)},t.copyPaste=function(e){return this.requestApi.createAndRunRequest(30,e,this.base)},t.cutPaste=function(e){return this.requestApi.createAndRunRequest(31,e,this.base)},t.setCardConfig=function(e){return this.requestApi.createAndRunRequest(32,e,this.base)},t.setGanttConfig=function(e){return this.requestApi.createAndRunRequest(35,e,this.base)},t.setTableDescription=function(e){return this.requestApi.createAndRunRequest(34,e,this.base)},e}(),Qn=Vn,Kn=function(){function e(e,t,n,i,o,r,s,a,l,d,c,u){this.base=e,this.fieldHelper=t,this.viewModelHelper=n,this.userService=i,this.permissionService=o,this.tableCacheService=r,this.tableDescriptionService=s,this.rendererManagerService=a,this.commandManager=l,this.lastViewService=d,this.editableStatusService=c,this.domainInfo=u,this.behaviorApi=new Qn(e)}e.createModel=function(t){var n=Wn.createInstance(e);return n.base.baseId=t,n};var t=e.prototype;return t.initWithClientVars=function(e){this.base.fromJSON(e),this.commandManager.fromMutations(e.mutations)},t.resetCurrentState=function(){this.base.resetTables()},t.dispose=function(){},e}();Kn=(0,i.__decorate)([(0,i.__param)(0,m),(0,i.__param)(1,p),(0,i.__param)(2,v.Jx),(0,i.__param)(3,j),(0,i.__param)(4,an),(0,i.__param)(5,Cn.z),(0,i.__param)(6,On),(0,i.__param)(7,Dn),(0,i.__param)(8,fn),(0,i.__param)(9,jn),(0,i.__param)(10,vn.B),(0,i.__param)(11,pn),(0,i.__metadata)("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object])],Kn),function(e){e[e.SINGLE=1]="SINGLE",e[e.MULTIPLE=2]="MULTIPLE"}(Bn||(Bn={}));var Xn=n("../node_modules/@tencent/xtable/es/event/index.js"),Jn=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),qn=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),$n=n("../node_modules/@tencent/docs-user-agent/dist/index.js"),ei=n.n($n),ti=n("../node_modules/@tencent/xtable-common/es/report/performance/speed-report.js"),ni=function(){function e(){this.cellPosition=null}var t=e.prototype;return t.isShow=function(){return Boolean(this.cellPosition)},t.getPosition=function(){return this.cellPosition},t.show=function(e){this.cellPosition=e},t.hide=function(){this.cellPosition=null},e}(),ii=function(){function e(){this.recordDetailStateChangeEvent=new qn.Emitter,this.recordDetailSelectionChangeEvent=new qn.Emitter,this.state=null,this.range=null}var t=e.prototype;return t.setState=function(e){this.state=e,this.recordDetailStateChangeEvent.fire(e)},t.getState=function(){return this.state},t.getRange=function(){return this.range},t.setRange=function(e){this.range=e,this.recordDetailSelectionChangeEvent.fire(e)},e}(),oi=(n("../node_modules/core-js/modules/es.array-buffer.slice.js"),n("../node_modules/core-js/modules/es.typed-array.uint8-array.js"),n("../node_modules/core-js/modules/es.typed-array.copy-within.js"),n("../node_modules/core-js/modules/es.typed-array.every.js"),n("../node_modules/core-js/modules/es.typed-array.fill.js"),n("../node_modules/core-js/modules/es.typed-array.filter.js"),n("../node_modules/core-js/modules/es.typed-array.find.js"),n("../node_modules/core-js/modules/es.typed-array.find-index.js"),n("../node_modules/core-js/modules/es.typed-array.for-each.js"),n("../node_modules/core-js/modules/es.typed-array.includes.js"),n("../node_modules/core-js/modules/es.typed-array.index-of.js"),n("../node_modules/core-js/modules/es.typed-array.iterator.js"),n("../node_modules/core-js/modules/es.typed-array.join.js"),n("../node_modules/core-js/modules/es.typed-array.last-index-of.js"),n("../node_modules/core-js/modules/es.typed-array.map.js"),n("../node_modules/core-js/modules/es.typed-array.reduce.js"),n("../node_modules/core-js/modules/es.typed-array.reduce-right.js"),n("../node_modules/core-js/modules/es.typed-array.reverse.js"),n("../node_modules/core-js/modules/es.typed-array.set.js"),n("../node_modules/core-js/modules/es.typed-array.slice.js"),n("../node_modules/core-js/modules/es.typed-array.some.js"),n("../node_modules/core-js/modules/es.typed-array.sort.js"),n("../node_modules/core-js/modules/es.typed-array.subarray.js"),n("../node_modules/core-js/modules/es.typed-array.to-locale-string.js"),n("../node_modules/core-js/modules/es.typed-array.to-string.js"),n("../node_modules/core-js/modules/es.array.copy-within.js"),function(){function e(){this.isRowSelected=!1,this.isColumnSelected=!1,this.isRangeSelected=!1,this.activePoint=null}var t=e.prototype;return t.isRowSelection=function(){return this.isRowSelected},t.isColumnSelection=function(){return this.isColumnSelected},t.isRangeSelection=function(){return this.isRangeSelected},t.getActivePoint=function(){return this.activePoint},t.resetSelection=function(){this.selected=null,this.setActivePoint(null)},t.setActivePoint=function(e){this.activePoint=e},e}()),ri=n("../node_modules/@tencent/xtable-core/es/model/selected-range/index.interface.js");function si(e){return e.reduce((function(e,t,n){var i;if(t===ri.HI.UNSELECTED)return e;var o=e.length-1;return(null===(i=e[o])||void 0===i?void 0:i.end)!==n-1?(e.push({start:n,end:n}),e):(e[o].end=n,e)}),[])}var ai,li=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).selected=null,t}(0,u.Z)(t,e);var n=t.prototype;return n.isRangeInDimensionSelection=function(e){var t,n=e.start,i=e.end,o=null===(t=this.selected)||void 0===t?void 0:t.slice(n,i+1);return!!o&&o.length===i+1-n&&o.every((function(e){return e===ri.HI.SELECTED}))},n.getDimensionIntersectRange=function(e){var t,n,i=e.start,o=e.end;return si(null!==(n=null===(t=this.selected)||void 0===t?void 0:t.slice(i,o+1))&&void 0!==n?n:new Uint8Array)},n.setDimensionSelection=function(e){var t=e.start,n=e.end,i=e.selected;this.ensureSelectedValid(n+1);for(var o=t;o<=n;o++)this.selected[o]=i?ri.HI.SELECTED:ri.HI.UNSELECTED},n.getDimensionRanges=function(){return this.selected?si(this.selected):[]},n.insertDimension=function(e,t){var n=this.selected;if(!n||e<0)return!1;var i=n.length+1;e>n.length&&(this.ensureSelectedValid(e),i=this.selected.length);var o=new Uint8Array(i);return o.set(this.selected.slice(0,e),0),o.set([t?ri.HI.SELECTED:ri.HI.UNSELECTED],e),o.set(this.selected.slice(e+1),e+1),this.selected=o,!0},n.deleteDimension=function(e){var t=this.selected;if(!t||e<0)return!1;var n=t.length-1;e>t.length&&(this.ensureSelectedValid(e),n=this.selected.length);var i=new Uint8Array(n);return i.set(this.selected.slice(0,e),0),i.set(this.selected.slice(e+1),e),this.selected=i,!0},n.ensureSelectedValid=function(e){var t=Math.min(this.selectedCountLimit,e+100);if(!(this.selected&&this.selected.length>=e)){var n=this.selected;this.selected=new Uint8Array(t),n&&this.selected.copyWithin(n.length,0)}},t}(oi),di=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isColumnSelected=!0,t.selectedCountLimit=te.gU.MAXIMUM_FIELD_LIMIT,t}(0,u.Z)(t,e);var n=t.prototype;return n.setSelection=function(e){var t=e.startColumn,n=e.endColumn,i=e.selected;this.setDimensionSelection({start:t,end:n,selected:i})},n.getRanges=function(){return this.getDimensionRanges().map((function(e){return{startColumn:e.start,endColumn:e.end}}))},n.insertColumn=function(e,t){return this.insertDimension(e,t)},n.deleteColumn=function(e){return this.deleteDimension(e)},n.isRangeInSelection=function(e){var t=e.startColumn,n=e.endColumn;return this.isRangeInDimensionSelection({start:t,end:n})},n.isIntersected=function(e){return this.getDimensionIntersectRange({start:e.column,end:e.column}).length>0},t}(li),ci=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).selected=null,t.isRangeSelected=!0,t}(0,u.Z)(t,e);var n=t.prototype;return n.setSelection=function(e,t){this.selected=e,this.setActivePoint(t)},n.getRanges=function(){return g()(this.selected)},n.isRangeInSelection=function(e){if(!this.selected)return!1;var t=e.startRow,n=e.endRow,i=e.startColumn,o=e.endColumn,r=this.selected;return!(t<r.startRow||r.endRow<n)&&!(i<r.startColumn||r.endColumn<o)},n.isIntersected=function(e){var t=this.selected;if(!t)return!1;var n=t.startRow,i=t.endRow,o=t.startColumn,r=t.endColumn;return"row"in e?n<=e.row&&e.row<=i:o<=e.column&&e.column<=r},n.insertRow=function(e){return this.insertOrDeleteRow(e,!0)},n.deleteRow=function(e){return this.insertOrDeleteRow(e,!1)},n.insertColumn=function(e){return this.insertOrDeleteColumn(e,!0)},n.deleteColumn=function(e){return this.insertOrDeleteColumn(e,!1)},n.correctSelection=function(){var e=this.selected;if(e){var t=e.startRow,n=e.endRow,i=e.startColumn,o=e.endColumn;(n<t||o<i)&&(this.selected=null)}this.correctActivePointPosition(e)},n.moveActivePointHorizontally=function(e,t){var n=this.activePoint;n&&(e===n.column?this.activePoint=null:e<n.column&&(n.column+=t))},n.moveActivePointVertically=function(e,t){var n=this.activePoint;n&&(e===n.row?this.activePoint=null:e<n.row&&(n.row+=t))},n.correctActivePointPosition=function(e){if(e){var t=this.activePoint;if(t){var n=e.startRow,i=e.endRow,o=e.startColumn,r=e.endColumn;t.row=Math.min(Math.max(n,t.row),i),t.column=Math.min(Math.max(o,t.column),r)}}else this.activePoint=null},n.insertOrDeleteRow=function(e,t){var n=t?1:-1,i=this.selected;if(!i)return!1;var o=i.startRow,r=i.endRow;return t&&e===o&&(i.startRow+=n),e<o&&(i.startRow+=n),e<=r&&(i.endRow+=n),this.moveActivePointVertically(e,n),this.correctSelection(),!0},n.insertOrDeleteColumn=function(e,t){var n=t?1:-1,i=this.selected;if(!i)return!1;var o=i.startColumn,r=i.endColumn;return t&&e===o&&(i.startColumn+=n),e<o&&(i.startColumn+=n),e<=r&&(i.endColumn+=n),this.moveActivePointHorizontally(e,n),this.correctSelection(),!0},t}(oi),ui=function(e){function t(t,n){var i,o;return(o=e.call(this)||this).rangeModel=t,o.activeStateService=n,o.onRequestRunFinished=function(e){var t=e.mutations;0===t.length?o.onAcceptCommit():t.forEach((function(e){var t=o.mutationHandlerMap[e.id];t&&t(e)})),o.rangeModel.notifyEvent(ri.lZ.RECALCULATE)},o.onSetRecordMutation=function(e){var t=o.activeStateService.getActiveView();t&&t.table.id===e.tableId&&o.processAffectedRow(t,e)},o.onDeleteRecordMutation=function(e){var t;if(o.isCurrentTable(e)){var n=e.delta.indexes,i=o.activeStateService.getActiveViewId();if(i){var r=null!==(t=n[i])&&void 0!==t?t:-1;o.updateSelectionByDeleteRecord(r)}}},o.onSetFieldHiddenMutation=function(e){var t,n,i=e.viewId,r=e.tableId,s=e.fieldIds,a=e.delta.hidden,l=null!==(n=null===(t=o.activeStateService.getActiveView())||void 0===t?void 0:t.getVisibleFieldIds())&&void 0!==n?n:[],d=o.getOriginalVisibleFieldIds(s,a),c=l.length>d.length?l:d,u=o.getAffectedFieldIdIndexMap(c,s);s.forEach((function(e){var t=u[e];a?o.updateSelectionByDeleteField({tableId:r,viewId:i,fieldIndex:t}):o.updateSelectionByInsertField({tableId:r,viewId:i,fieldIndex:t})}))},o.onResetSelection=function(){o.rangeModel.resetSelection(ri.lZ.RECALCULATE)},o.onMoveRecordMutation=function(e){var t=e.tableId,n=e.viewId,i=e.delta,r=i.source,s=i.target;o.updateSelectionByMoveRecord({tableId:t,viewId:n,source:r,target:s})},o.onInsertRecordMutation=function(e){var t;if(o.isCurrentTable(e)){var n=o.activeStateService.getActiveViewId();if(n){var i=null!==(t=e.delta.indexes[n])&&void 0!==t?t:-1;o.updateSelectionByInsertRecord(i)}}},o.onInsertFieldMutation=function(e){var t,n=e.tableId,i=e.viewId,r=e.delta.indexes,s=o.activeStateService.getActiveViewId();if(s){var a=null!==(t=r[s])&&void 0!==t?t:-1;o.updateSelectionByInsertField({tableId:n,viewId:i,fieldIndex:a})}},o.onDeleteFieldMutation=function(e){var t,n=e.viewId,i=e.tableId,r=null!==(t=e.delta.indexes[n])&&void 0!==t?t:-1;o.updateSelectionByDeleteField({viewId:n,tableId:i,fieldIndex:r})},o._register(s.o.onRequestRunFinishedEmitter.event(o.onRequestRunFinished)),o.mutationHandlerMap=((i={})[3022]=o.onResetSelection,i[3021]=o.onResetSelection,i[3020]=o.onResetSelection,i[3014]=o.onInsertFieldMutation,i[3012]=o.onMoveRecordMutation,i[3010]=o.onInsertRecordMutation,i[3018]=o.onSetFieldHiddenMutation,i[3013]=o.onSetRecordMutation,i[3015]=o.onDeleteFieldMutation,i[3011]=o.onDeleteRecordMutation,i),o}(0,u.Z)(t,e);var n=t.prototype;return n.onAcceptCommit=function(){var e,t=this.rangeModel.getCurrentSelection();if(!t.isColumnSelection()){var n=this.activeStateService.getActiveView();if(n){if(t.isRangeSelection()){if(!t.getRanges())return;var i=null===(e=t.getActivePoint())||void 0===e?void 0:e.row;if("undefined"!==typeof i&&i<n.getDisplayedRecordIds().length)return}this.onResetSelection()}}},n.processAffectedRow=function(e,t){if((0,ie._n)(e,t)&&!this.rangeModel.getCurrentSelection().isColumnSelection()){var n=t.recordId,i=t.tableId,o=e.getDisplayedRecordIds().indexOf(n),r=e.getOldDisplayedRecordIds().indexOf(n);-1===r&&-1===o||r!==o&&(-1!==r?-1!==o?this.updateSelectionByMoveRecord({tableId:i,viewId:e.id,source:r,target:o}):this.updateSelectionByDeleteRecord(r):this.updateSelectionByInsertRecord(o))}},n.updateSelectionByInsertField=function(e){if(this.isCurrentTable(e)){var t=this.rangeModel.getCurrentSelection(),n=e.fieldIndex;t.isRowSelection()||t.insertColumn(n,!1)}},n.updateSelectionByInsertRecord=function(e){var t=this.rangeModel.getCurrentSelection();t.isColumnSelection()||t.insertRow(e,!1)},n.updateSelectionByDeleteField=function(e){if(this.isCurrentTable(e)){var t=this.rangeModel.getCurrentSelection(),n=e.fieldIndex;t.isRowSelection()||t.deleteColumn(n)}},n.updateSelectionByMoveRecord=function(e){if(this.isCurrentTable(e)){var t=this.rangeModel.getCurrentSelection();if(t.isRangeSelection()&&t.getRanges()){var n=e.source,i=e.target;t.deleteRow(n),t.insertRow(i)}}},n.getOriginalVisibleFieldIds=function(e,t){var n=this.activeStateService.getActiveView();if(!n)return[];var i=n.getAllFieldIds(),o=new Set(e);return i.filter((function(e){return o.has(e)?t:!n.isFieldHidden(e)}))},n.getAffectedFieldIdIndexMap=function(e,t){return t.reduce((function(t,n){return t[n]=e.indexOf(n),t}),{})},n.updateSelectionByDeleteRecord=function(e){var t=this.rangeModel.getCurrentSelection();t.isColumnSelection()||t.deleteRow(e)},n.isCurrentTable=function(e){var t=e.tableId;return this.activeStateService.getActiveTableId()===t},t}(f.JT),hi=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isRowSelected=!0,t.selectedCountLimit=te.gU.MAXIMUM_RECORD_LIMIT,t}(0,u.Z)(t,e);var n=t.prototype;return n.setSelection=function(e){var t=e.startRow,n=e.endRow,i=e.selected;this.setDimensionSelection({start:t,end:n,selected:i})},n.getRanges=function(){return this.getDimensionRanges().map((function(e){return{startRow:e.start,endRow:e.end}}))},n.insertRow=function(e,t){return this.insertDimension(e,t)},n.deleteRow=function(e){return this.deleteDimension(e)},n.isRangeInSelection=function(e){var t=e.startRow,n=e.endRow;return this.isRangeInDimensionSelection({start:t,end:n})},n.isIntersected=function(e){return this.getDimensionIntersectRange({start:e.row,end:e.row}).length>0},t}(li),gi=function(e){function t(t,n){var i;return(i=e.call(this)||this).emitter=n,i.rowSelections=new hi,i.columnSelections=new di,i.rangeSelections=new ci,i.currentSelection=i.rangeSelections,i._register(new ui((0,Jn.Z)(i),t)),i}(0,u.Z)(t,e);var n=t.prototype;return n.getCurrentSelection=function(){return this.currentSelection},n.selectRow=function(e,t){void 0===t&&(t=ri.lZ.OTHERS),this.switchSelection(this.rowSelections),this.rowSelections.setSelection(Object.assign(Object.assign({},e),{selected:!0})),this.notifyEvent(t)},n.unselectRow=function(e){this.switchSelection(this.rowSelections),this.rowSelections.setSelection(Object.assign(Object.assign({},e),{selected:!1})),this.notifyEvent()},n.setActiveColumnSelection=function(e){this.resetSelection(ri.lZ.OTHERS,!1),this.switchSelection(this.columnSelections),this.columnSelections.setSelection(Object.assign(Object.assign({},e),{selected:!0})),this.notifyEvent()},n.selectColumn=function(e,t){void 0===t&&(t=ri.lZ.OTHERS),this.switchSelection(this.columnSelections),this.columnSelections.setSelection(Object.assign(Object.assign({},e),{selected:!0})),this.notifyEvent(t)},n.unselectColumn=function(e){this.switchSelection(this.columnSelections),this.columnSelections.setSelection(Object.assign(Object.assign({},e),{selected:!1})),this.notifyEvent()},n.selectRange=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=ri.lZ.OTHERS),this.switchSelection(this.rangeSelections),this.rangeSelections.setSelection(e,t),this.notifyEvent(n)},n.resetSelection=function(e,t){void 0===e&&(e=ri.lZ.OTHERS),void 0===t&&(t=!0),this.currentSelection.resetSelection(),t&&this.notifyEvent(e)},n.notifyEvent=function(e){void 0===e&&(e=ri.lZ.OTHERS),this.notifyActivePointChange(e),this.notifySelectionRangeChanged(e)},n.switchSelection=function(e){this.currentSelection!==e&&(this.resetSelection(ri.lZ.OTHERS,!1),this.currentSelection=e)},n.notifySelectionRangeChanged=function(e){this.emitter.onCoreSelectionChangedEmitter.fire({sourceType:e,selection:this.currentSelection})},n.notifyActivePointChange=function(e){this.emitter.onActivePointChangedEmitter.fire({sourceType:e,activePoint:this.currentSelection.getActivePoint()})},t}(f.JT),fi=function(e){function t(t){var n,i;return(i=e.call(this)||this).core=t,i.onRequestRunFinished=function(e){e.mutations.forEach((function(e){var t=i.mutationHandlerMap[e.id];t&&t(e)}))},i.onInitTableMutation=function(e){var t=e.delta.views;t.length&&i.switchView({tableId:e.tableId,viewId:t[0].id})},i.base=i.core.base,i.mutationHandlerMap=((n={})[3005]=i.onInitTableMutation,n),i._register(s.o.onRequestRunFinishedEmitter.event(i.onRequestRunFinished)),i}(0,u.Z)(t,e);var n=t.prototype;return n.switchView=function(e){var t=e.tableId,n=e.viewId,i=void 0===n?this.core.lastViewService.getLastViewId(t):n,r=e.source,s=this.getActiveTableId(),a=this.getActiveViewId();if(o.k.info("switchView",{fromTableId:s,fromViewId:a,tableId:t,viewId:i}),s!==t||a!==i){var l=this.getActiveTable(),d=this.getActiveView(),c=t?this.base.getTableByTableId(t):void 0,u=null===c||void 0===c?void 0:c.getViewByViewId(i);u?(this.activeTable=c,this.activeView=u):(this.activeTable=void 0,this.activeView=void 0),this.notifyActiveViewSwitched({fromTable:l,fromView:d,toTable:this.activeTable,toView:this.activeView},r)}},n.getActiveTable=function(){return this.activeTable},n.getActiveView=function(){return this.activeView},n.getActiveTableId=function(){var e;return null===(e=this.activeTable)||void 0===e?void 0:e.id},n.getActiveViewId=function(){var e;return null===(e=this.activeView)||void 0===e?void 0:e.id},n.resetState=function(){this.activeView=void 0,this.activeTable=void 0},n.notifyActiveViewSwitched=function(e,t){var n=e.fromTable,i=e.fromView,o=e.toTable,r=e.toView,a=(null===i||void 0===i?void 0:i.id)?null===n||void 0===n?void 0:n.getViewIndex(null===i||void 0===i?void 0:i.id):void 0,l=(null===r||void 0===r?void 0:r.id)?null===o||void 0===o?void 0:o.getViewIndex(null===r||void 0===r?void 0:r.id):void 0;s.o.onActiveViewSwitched.fire(Object.assign(Object.assign({},e),{fromViewIndex:a,toViewIndex:l,source:t}))},t}(f.JT),mi=n("../node_modules/@babel/runtime/helpers/esm/createClass.js");!function(e){e[e.IS_SORT=1]="IS_SORT",e[e.IS_GROUP=2]="IS_GROUP",e[e.IS_FILTER=3]="IS_FILTER"}(ai||(ai={}));var pi=new Set([v.bW.GRID,v.bW.GANTT]),vi=function(){function e(){}return e.getRecordIdByMutation=function(e){},e}(),Ii=function(e){function t(t,n){var i;return(i=e.call(this)||this).mutation=t,i.delta=n,i}return(0,u.Z)(t,e),t.getRecordIdByMutation=function(e){return e.delta.recordId},(0,mi.Z)(t,[{key:"labels",get:function(){return[ai.IS_FILTER]}},{key:"fieldIds",get:function(){return[]}},{key:"recordId",get:function(){return t.getRecordIdByMutation(this.mutation)}},{key:"fromIndex",get:function(){var e,t=this.delta.rangeModel.getCurrentSelection(),n=null===(e=t.getActivePoint())||void 0===e?void 0:e.row;return n&&n>-1?n:t.isRowSelection()?t.getRanges()[0].startRow:-1}}]),t}(vi),yi=function(e){function t(t,n){var i;return(i=e.call(this)||this).mutation=t,i.delta=n,i.ignoreRequestIds=new Set([11,6,8,15]),i}return(0,u.Z)(t,e),t.getRecordIdByMutation=function(e){return e.recordId},(0,mi.Z)(t,[{key:"labels",get:function(){return this.ignoreRequestIds.has(this.mutation.requestId)?[]:[ai.IS_FILTER,ai.IS_GROUP,ai.IS_SORT]}},{key:"fieldIds",get:function(){var e=this.mutation.delta;return Object.keys(e)}},{key:"recordId",get:function(){return t.getRecordIdByMutation(this.mutation)}},{key:"fromIndex",get:function(){var e=this.recordId;return this.delta.view.getOldDisplayedRecordIds().indexOf(e)}}]),t}(vi),_i=function(){function e(){var e;this.mutationHelperConstructors=((e={})[3013]=yi,e[3010]=Ii,e)}var t=e.prototype;return t.getMutationHelper=function(e,t){var n=this.mutationHelperConstructors[e.id];if(n)return new n(e,t)},t.getMutationHelperStatic=function(e){return this.mutationHelperConstructors[e]},e}(),bi=function(e){function t(t,n){var i;return(i=e.call(this)||this).activeState=t,i.rangeModel=n,i.watchRecordMoveProcessors=[],i.mutationHelperFactory=new _i,i.recordIdLabelLevelMap={},i.onRequestRunFinished=function(e){var t=e.mutations,n=i.activeState.getActiveView();if(n&&i.isViewSupportRecordMove(n.type)){var o=t.map(i.handleMutation).filter((function(e){return e}));i.recordIdLabelLevelMap={},o.length&&s.o.onRecordMoved.fire(o)}},i.handleMutation=function(e){var t;if(0!==e.operationType)return null;var n=i.activeState.getActiveTable();if(!n||n.id!==e.tableId)return null;var o=i.mutationHelperFactory.getMutationHelper(e,{table:n,rangeModel:i.rangeModel,view:i.activeState.getActiveView()});if(!o)return null;var r=o.recordId,s=null!==(t=i.recordIdLabelLevelMap[r])&&void 0!==t?t:0,a=i.iterateProcessors(e,o,s);if(!a)return null;i.recordIdLabelLevelMap[r]=i.getLabelLevel(a);var l=o.fieldIds;return{type:a,recordId:r,fieldIds:l,fieldTypes:l.map((function(e){return n.getFieldByFieldId(e).getType()})),requestId:e.requestId,fromIndex:o.fromIndex}},i.checkMutationForFilter=function(e){var t=e.recordId,n=e.mutation,o=i.activeState.getActiveView();if(function(e){var t;if(!e)return!1;var n=e.getFilterInfos();return!!(null===(t=null===n||void 0===n?void 0:n.conditions)||void 0===t?void 0:t.length)}(o)){var r=o.getOldDisplayedRecordIds().indexOf(t),s=o.getRecordIndexFromVisibleRecordIds(t);if((-1!==r||3010===n.id)&&-1===s)return!0}return!1},i.checkMutationForGroup=function(e){var t=e.fieldIds,n=i.activeState.getActiveView();return!!function(e){return!(!e||!(0,k.r)(e))&&!!e.getGroupInfos().length}(n)&&n.getGroupInfos().some((function(e){return t.includes(e.fieldId)}))},i.checkMutationForSort=function(e){var t=e.recordId,n=i.activeState.getActiveView();return!(!function(e){return!!e&&!!e.getSortInfos().length}(n)||!n.isAutoSort()||n.getOldDisplayedRecordIds().indexOf(t)===n.getRecordIndexFromVisibleRecordIds(t))},i.registerProcessor(ai.IS_FILTER,i.checkMutationForFilter),i.registerProcessor(ai.IS_GROUP,i.checkMutationForGroup),i.registerProcessor(ai.IS_SORT,i.checkMutationForSort),i._register(s.o.onRequestRunFinishedEmitter.event(i.onRequestRunFinished)),i}(0,u.Z)(t,e);var n=t.prototype;return n.registerProcessor=function(e,t){this.watchRecordMoveProcessors.push({label:e,processor:t})},n.iterateProcessors=function(e,t,n){var i,o=t.recordId,r=t.fieldIds;if(this.watchRecordMoveProcessors.length<=n)return null;var s=this.watchRecordMoveProcessors.slice(n),a=t.labels;a&&(s=s.filter((function(e){return a.includes(e.label)})));var l=null===(i=s.find((function(t){return(0,t.processor)({recordId:o,fieldIds:r,mutation:e})})))||void 0===i?void 0:i.label;return null!==l&&void 0!==l?l:null},n.isViewSupportRecordMove=function(e){return pi.has(e)},n.getLabelLevel=function(e){return this.watchRecordMoveProcessors.findIndex((function(t){return t.label===e}))},t}(f.JT),Mi=function(){function e(e,t){this.activeState=e,this.rendererManagerService=t,this.watchTimer=null,this.now=Date.now()}var t=e.prototype;return t.startWatchTimer=function(){var t=this;this.watchTimer=setTimeout((function(){var e=Date.now();t.isSameTimePrecision(e)||t.watchCheckCallback(),t.now=e,t.startWatchTimer()}),e.watchTimeDuration)},t.clearTimer=function(){this.watchTimer&&clearTimeout(this.watchTimer)},t.dispose=function(){this.clearTimer()},t.watchCheckCallback=function(){var e=this.activeState.getActiveTable();if(e){var t=this.activeState.getActiveViewId(),n=this.getAffectedViewIds(e);this.triggerRerenderIfNecessary(n,t)}},t.getAffectedViewIds=function(e){return e.getViewIdList().reduce((function(t,n){var i=e.getViewByViewId(n);return(null===i||void 0===i?void 0:i.viewFilter.hasWatchCondition())&&(i.dirtyPipeline.markDirty(tn.bs.RECORD_MAY_AFFECT),t.add(n)),t}),new Set)},t.isSameTimePrecision=function(t){return Math.floor(t/e.minimumTimePrecision)===Math.floor(this.now/e.minimumTimePrecision)},t.triggerRerenderIfNecessary=function(e,t){t&&e.has(t)&&this.rendererManagerService.rerenderAll()},e}();Mi.minimumTimePrecision=864e5,Mi.watchTimeDuration=6e4;var Ci=function(){this.global={resize:new qn.Emitter,scroll:new qn.Emitter,ganttScroll:new qn.Emitter,click:new qn.Emitter,dblclick:new qn.Emitter,mouseup:new qn.Emitter,mousedown:new qn.Emitter,mousemove:new qn.Emitter,mouseenter:new qn.Emitter,mouseleave:new qn.Emitter,contextMenu:new qn.Emitter},this.service={stat:new qn.Emitter,fieldEditor:new qn.Emitter,checkboxCellClick:new qn.Emitter,expandRow:new qn.Emitter,expandHideRow:new qn.Emitter,addFieldClickEmitter:new qn.Emitter,addRecordClickEmitter:new qn.Emitter,setFieldWidthEmitter:new qn.Emitter,kanbanGroupTitleEditor:new qn.Emitter,kanbanGroupMenuEditor:new qn.Emitter,kanbanMobileGroupMenuEditor:new qn.Emitter,kanbanGroupRecordEditor:new qn.Emitter,collapseKanbanGroup:new qn.Emitter,escAddRecordEditor:new qn.Emitter,tooltip:new qn.Emitter,ganttRecordFillTime:new qn.Emitter,expandGanttSetting:new qn.Emitter,hideSearchPanel:new qn.Emitter,ganttOpenDimensionSwitch:new qn.Emitter},this.action={tap:new qn.Emitter,stageScroll:new qn.Emitter,touchstart:new qn.Emitter,touchmove:new qn.Emitter,touchend:new qn.Emitter,ganttRangeChange:new qn.Emitter}},wi=n("../node_modules/@tencent/xtable-common/es/report/decorator/index.js"),Ti=n("../node_modules/@tencent/xtable-common/es/report/reporter/index.js"),Ei=n("../node_modules/@tencent/xtable-common/es/report/zzs.js"),ji=function(){function e(){}var t=e.prototype;return t.markDrawInitStart=function(){},t.markDrawInitEnd=function(){},t.markCollectInitStart=function(){},t.markCollectInitEnd=function(){},t.markDrawUpdateStart=function(){},t.markDrawUpdateEnd=function(){},t.markCollectUpdateStart=function(){},t.markCollectUpdateEnd=function(){},t.markSwitchViewStart=function(){},t.markSwitchViewEnd=function(){},t.renderFirstContentError=function(){Ti.E.metricsStatus({attrid:Ei.GY.SMART_SHEET_RENDER_ERROR})},e}();(0,i.__decorate)([(0,wi.hY)(Ei.GY.SMART_SHEET_RENDER_DRAW_INIT_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markDrawInitStart",null),(0,i.__decorate)([(0,wi.Eb)(Ei.GY.SMART_SHEET_RENDER_DRAW_INIT_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markDrawInitEnd",null),(0,i.__decorate)([(0,wi.hY)(Ei.GY.SMART_SHEET_RENDER_COLLECT_INIT_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markCollectInitStart",null),(0,i.__decorate)([(0,wi.Eb)(Ei.GY.SMART_SHEET_RENDER_COLLECT_INIT_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markCollectInitEnd",null),(0,i.__decorate)([(0,wi.hY)(Ei.GY.SMART_SHEET_RENDER_DRAW_UPDATE_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markDrawUpdateStart",null),(0,i.__decorate)([(0,wi.Eb)(Ei.GY.SMART_SHEET_RENDER_DRAW_UPDATE_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markDrawUpdateEnd",null),(0,i.__decorate)([(0,wi.hY)(Ei.GY.SMART_SHEET_RENDER_COLLECT_UPDATE_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markCollectUpdateStart",null),(0,i.__decorate)([(0,wi.Eb)(Ei.GY.SMART_SHEET_RENDER_COLLECT_UPDATE_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markCollectUpdateEnd",null),(0,i.__decorate)([(0,wi.hY)(Ei.GY.SMART_SHEET_RENDER_SWITCH_VIEW_COST),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markSwitchViewStart",null),(0,i.__decorate)([(0,wi.Eb)(Ei.GY.SMART_SHEET_RENDER_SWITCH_VIEW_COST,[1]),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],ji.prototype,"markSwitchViewEnd",null);var Ai,xi,Di=new ji,Si=function(){function e(e){var t=this;this.view=e,this.onClick=function(e){t.view.emitter.global.click.fire(e)},this.onDblClick=function(e){t.view.emitter.global.dblclick.fire(e)},this.onContextMenu=function(e){t.view.emitter.global.contextMenu.fire(e)},this.onMouseDown=function(e){t.view.emitter.global.mousedown.fire(e)},this.onMouseMove=function(e){t.view.emitter.global.mousemove.fire(e)},this.onMouseUp=function(e){t.view.emitter.global.mouseup.fire(e)},this.onMouseLeave=function(e){t.view.emitter.global.mouseleave.fire(e)},this.onMouseEnter=function(e){t.view.emitter.global.mouseenter.fire(e)},this.onWheel=function(e){e.evt.preventDefault();var n=e.evt,i=n.deltaX,o=n.deltaY;o/i>10&&(i=0),i/o>10&&(o=0);var r=e.evt,s=r.offsetX,a=r.offsetY;t.view.emitter.action.stageScroll.fire({deltaX:i,deltaY:o,offsetX:s,offsetY:a})},this.registerEvent()}var t=e.prototype;return t.destroy=function(){this.unregisterEvent()},t.registerEvent=function(){var e=this.view.getStage();e.on("click",this.onClick),e.on("dblclick",this.onDblClick),e.on("contextmenu",this.onContextMenu),e.on("mousedown",this.onMouseDown),e.on("mousemove",this.onMouseMove),e.on("mouseup",this.onMouseUp),e.on("mouseenter",this.onMouseEnter),e.on("mouseleave",this.onMouseLeave),e.on("wheel",this.onWheel)},t.unregisterEvent=function(){var e=this.view.getStage();e.off("click",this.onClick),e.off("dblclick",this.onDblClick),e.off("contextmenu",this.onContextMenu),e.off("mousedown",this.onMouseDown),e.off("mousemove",this.onMouseMove),e.off("mouseup",this.onMouseUp),e.off("mouseenter",this.onMouseEnter),e.off("mouseleave",this.onMouseLeave),e.off("wheel",this.onWheel)},e}();!function(e){e.SINGLE="SINGLE",e.DOUBLE="DOUBLE"}(Ai||(Ai={})),function(e){e.X="X",e.Y="Y"}(xi||(xi={}));var Ni=function(){function e(e,t){var n=this;this.view=e,this.firstFinger={x:0,y:0},this.touchStartX=0,this.touchStartY=0,this.touchEndTime=0,this.touchStartTime=0,this.onTouchstart=function(e){var t=e.evt.touches,i=t[0],o=i.clientX,r=i.clientY;cancelAnimationFrame(n.raf),n.touchStartX=o,n.touchStartY=r,n.touchStartTime=Date.now(),n.updateFirstFinger(o,r),n.view.emitter.action.touchstart.fire({event:e}),n.mode=t.length>1?Ai.DOUBLE:Ai.SINGLE},this.onTouchmove=function(e){var t=e.evt.touches[0],i=t.clientX,o=t.clientY,r=t.clientX,s=t.clientY,a=1.8*n.fixDelta(n.firstFinger.x-i),l=1.8*n.fixDelta(n.firstFinger.y-o);n.updateFirstFinger(i,o),n.mode===Ai.SINGLE&&n.view.emitter.action.stageScroll.fire(n.getScrollEventParam(a,l,r,s)),n.view.emitter.action.touchmove.fire({event:e})},this.onTouchend=function(e){var t=e.evt.changedTouches[0],i=t.clientX,o=t.clientY,r=i-n.touchStartX,s=o-n.touchStartY;if(n.touchStartX=0,n.touchStartY=0,n.firstFinger.x=0,n.firstFinger.y=0,n.touchEndTime=Date.now(),n.view.emitter.action.touchend.fire({event:e}),Math.abs(r)<5&&Math.abs(s)<5){var a=e.currentTarget.getRelativePointerPosition(),l=a.x,d=a.y;n.view.emitter.action.tap.fire({delta:{x:l,y:d},event:e,type:"tap"})}else if(n.touchEndTime-n.touchStartTime<300){var c=n.getDir(r,s),u=c===xi.X?r:s;n.doInertiaSlide(c,u,i,o)}},this.options=t,this.registerEvent()}var t=e.prototype;return t.destroy=function(){this.unregisterEvent()},t.registerEvent=function(){var e=this.view.getStage();e.on("touchstart",this.onTouchstart),e.on("touchmove",this.onTouchmove),e.on("touchend",this.onTouchend)},t.unregisterEvent=function(){var e=this.view.getStage();e.off("touchstart",this.onTouchstart),e.off("touchmove",this.onTouchmove),e.off("touchend",this.onTouchend)},t.updateFirstFinger=function(e,t){this.firstFinger.x=e,this.firstFinger.y=t},t.fixDelta=function(e){return Math.round(e)},t.getDir=function(e,t){return Math.abs(e)>Math.abs(t)?xi.X:xi.Y},t.getScrollEventParam=function(e,t,n,i){var o=this.getDir(e,t);return{deltaX:o===xi.X?e:0,deltaY:o===xi.Y?t:0,offsetX:n,offsetY:i}},t.getEase=function(e){return e===xi.X?this.options.easeX:this.options.easeY},t.doInertiaSlide=function(e,t,n,i){var o=this,r=t<0?-1:1,s=t/(this.touchEndTime-this.touchStartTime),a=1*s,l=this.getEase(e)/1e3,d=Math.abs(Math.round(s/l)),c=Math.round(a*a/(2*l)*r);this.inertia(c,d,(function(t){var r=e===xi.X?t:0,s=e===xi.Y?t:0,a=o.getScrollEventParam(r,s,n,i);a.destination=c,o.view.emitter.action.stageScroll.fire(a)}))},t.inertia=function(e,t,n){var i=this,o=0,r=Date.now();!function s(){var a=Date.now()-r;if(a>=t)o=0;else{var l=i.ease(a/t),d=e*l;n(o-d),o=d,i.raf=requestAnimationFrame(s)}}()},t.ease=function(e){return Math.sqrt(1-Math.pow(e-1,2))},e}(),Ri=n("../node_modules/@juggle/resize-observer/lib/exports/resize-observer.js"),Oi=n("../node_modules/@tencent/xtable-render/es/base/lib/index.js"),Li=n("../node_modules/@tencent/xtable-render/es/cache/index.js"),ki=function(){function e(e){var t=this;this.context=e,this.isActived=!1,this.devicePixelRatio=1,this.onResizeObserver=function(e){var n=t.stage.width(),i=t.stage.height(),o=e[0].contentRect,r=o.width,s=o.height;if(!(Math.abs(r-n)+Math.abs(s-i)<2))if(r&&s){var a=t.root,l=a.offsetWidth,d=a.offsetHeight;t.stage.width(l),t.stage.height(d),t.onResize()}else t.stage.clear()},this.onPixelRatioChange=function(){t.devicePixelRatio!==n.g.devicePixelRatio&&(t.devicePixelRatio=n.g.devicePixelRatio,Oi.QY.pixelRatio=t.devicePixelRatio,t.rebuild())},this.onResize=function(){t.getCollector().update(),t.renderForce(),t.emitter.global.resize.fire()},this.onRequestApply=function(e){var n=e.mutations;t.afterMutationRun(n)},this.root=this.context.getRenderRoot(),this.stage=new Oi.Hf({width:this.root.offsetWidth,height:this.root.offsetHeight,container:this.root}),this.stage.content.className="canvas-root"}var t=e.prototype;return t.renderInit=function(){this.isReadyToUpdate()&&(this.getRenderer().renderInit(),this.registerEvent())},t.renderForce=function(){this.isReadyToUpdate()&&this.getRenderer().renderForce()},t.renderForceAsync=function(){this.isReadyToUpdate()&&this.getRenderer().renderForceAsync()},t.rebuild=function(){this.getCollector().update(),this.getRenderer().destroy(),this.getRenderer().bootstrap(),this.getRenderer().renderForce()},t.nextTick=function(e){this.getRenderer().nextTick(e)},t.switchToReadonly=function(){this.canEdit()&&(this.getCollector().setEditable(!1),this.rebuild())},t.switchToEditable=function(){this.canEdit()||(this.getCollector().setEditable(!0),this.rebuild())},t.scrollToX=function(e,t){this.getRenderer().scrollToX(e,t)},t.scrollToY=function(e,t){this.getRenderer().scrollToY(e,t)},t.canEdit=function(){return this.getCollector().canEdit()},t.getRoot=function(){return this.root},t.getRootRect=function(){return this.root.getBoundingClientRect()},t.getStage=function(){return this.stage},t.getContext=function(){return this.context},t.destroy=function(){this.unregisterEvent(),this.stage.destroy(),Li.Z.destroy()},t.setCursor=function(e){this.stage.content.style.cursor!==e&&(this.stage.content.style.cursor=e)},t.toActived=function(){this.isActived||(this.isActived=!0,this.registerResizeObserver())},t.toDeactivated=function(){this.isActived&&(this.isActived=!1,this.unRegisterResizeObserver())},t.isReadyToUpdate=function(){var e=this.stage.content.getBoundingClientRect();return e.width&&e.height},t.registerEvent=function(){var e;this.toActived(),this.onMutationApplyEvent=this.context.getBehaviorApi().addRequestApplyListener(this.onRequestApply),document.addEventListener("visibilitychange",this.onResize),this.devicePixelRatio=n.g.devicePixelRatio,this.mediaQueryList=n.g.matchMedia("(resolution: "+this.devicePixelRatio+"dppx)"),(null===(e=this.mediaQueryList)||void 0===e?void 0:e.addEventListener)?this.mediaQueryList.addEventListener("change",this.onPixelRatioChange):this.mediaQueryList.addListener(this.onPixelRatioChange)},t.registerResizeObserver=function(){this.resizeObserver=new Ri.do(this.onResizeObserver),this.resizeObserver.observe(this.root)},t.unRegisterResizeObserver=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=null},t.unregisterEvent=function(){var e,t,n;this.unRegisterResizeObserver(),this.onMutationApplyEvent.dispose(),document.removeEventListener("visibilitychange",this.onResize),(null===(e=this.mediaQueryList)||void 0===e?void 0:e.removeEventListener)?null===(t=this.mediaQueryList)||void 0===t||t.removeEventListener("change",this.onPixelRatioChange):null===(n=this.mediaQueryList)||void 0===n||n.removeListener(this.onPixelRatioChange),this.mediaQueryList=null},t.afterMutationRun=function(e){this.getCollector().update(),this.renderForceAsync()},(0,mi.Z)(e,[{key:"emitter",get:function(){return this.context.getRenderer().emitter}}]),e}(),zi=n("../node_modules/@tencent/xtable-render/es/constants/config.js"),Pi=n("../node_modules/@tencent/xtable-render/es/platform/index.js"),Fi=((0,Pi.F)(),8),Ui=(0,Pi.F)()?34:16,Bi=(0,Pi.F)()?8:16,Wi=(0,Pi.F)()?8:16,Gi=(0,Pi.F)()?8:16,Zi=(0,Pi.F)()?8:16,Hi=((0,Pi.F)(),12),Yi=((0,Pi.F)(),6),Vi=(0,Pi.F)()?120:180,Qi=16,Ki=1.33*zi.XK.textFontSize+2*zi.XK.paddingTop,Xi=n("../node_modules/@tencent/xtable-render/es/constants/style.js"),Ji=16,qi=Xi._u,$i=(0,Pi.F)()?20:24,eo=(0,Pi.F)()?4:6,to="rgba(0, 0, 0, 0.12)",no="rgba(0, 0, 0, 0.4)",io="rgba(0, 0, 0, 0.88)",oo="rgba(0, 0, 0, 0.88)",ro=14,so=12,ao="500",lo="400",co="rgba(0, 0, 0, 0.64)",uo="#fff",ho="#ececec",go=Xi.Ro,fo="#fff",mo="#f8f8f8",po="#FFAB00",vo=new Map;[[V.f.TEXT,32],[V.f.NUMBER,Qi],[V.f.EMAIL,Qi],[V.f.PHONE,Qi],[V.f.CHECKBOX,Ji],[V.f.DATE_TIME,Qi],[V.f.CREATED_TIME,Qi],[V.f.MODIFIED_TIME,Qi],[V.f.IMAGE,$i],[V.f.URL,Qi],[V.f.MULTIPLE_SELECT,Ki],[V.f.SINGLE_SELECT,Ki],[V.f.CREATED_USER,qi],[V.f.MODIFIED_USER,qi],[V.f.PROGRESS,16],[V.f.ATTACHMENT,Ki]].forEach((function(e){var t=e[0],n=e[1];return vo.set(t,n)}));var Io=function(){function e(e){this.collector=e}var t=e.prototype;return t.destroy=function(){},t.reset=function(){},t.collectLayoutData=function(){var e,t,n;this.collectCardHeight();var i=null!==(t=null===(e=this.collector)||void 0===e?void 0:e.getAllDisplayedRecordIds())&&void 0!==t?t:[],o=this.collector.size;o.calcCardRowCount(null!==(n=i.length)&&void 0!==n?n:0);var r=o.cardRowCount*o.cardHeight+(o.cardRowCount-1)*o.cardVerticalMargin;this.collector.isMobile()?o.setActivityScrollHeight(r+o.globalPaddingTop+o.mobileFooterBarHeight):o.setActivityScrollHeight(r+o.globalPaddingTop+o.globalPaddingBottom)},t.collectCardHeight=function(){var e=this,t=this.collector.getCardConfig()||{},n=t.isShowFieldTitle,i=void 0!==n&&n,o=t.isShowCover,r=(void 0!==o&&o?Vi:0)+24,s=this.collector.getVisibleFieldIds()||[];1===s.length?r+=20:(null===s||void 0===s||s.forEach((function(t){var n,o=e.collector.getField(t);e.collector.isPrimaryField(t)?r+=32:(i&&(r+=14+Yi),r+=(null!==(n=vo.get(o.getType()))&&void 0!==n?n:0)+Hi)})),r-=Hi),this.collector.size.setCardHeight(r)},e}(),yo=function(){function e(e){this.collector=e}var t=e.prototype;return t.destroy=function(){},t.reset=function(){},t.calcCardStartX=function(e){var t=this.collector.size;return t.globalPaddingLeft+e%t.cardCountPerRow*(t.cardHorizontalMargin+t.cardWidth)},t.calcCardStartY=function(e){var t=this.collector.size;return t.globalPaddingTop+Math.floor(e/t.cardCountPerRow)*(t.cardVerticalMargin+t.cardHeight)},e}(),_o="GALLERY_LAST_BROWSE_RANGE",bo=function(e,t){var n=0,i=[];for(n=e;n<t;n++)i.push(n);return i},Mo=function(e,t){return bo(e+1,t+1)},Co=function(){function e(e){this.collector=e,this.offsetY=0,this.startCardIndex=0,this.endCardIndex=0,this.startRow=0,this.endRow=0,this.reset()}var t=e.prototype;return t.destroy=function(){},t.init=function(){this.reset()},t.resetOffset=function(){this.offsetY=0},t.resetRange=function(){var e=this.collector.getViewStorage(_o);if(null===e||void 0===e?void 0:e.offsetY)return this.offsetY=Math.max(0,e.offsetY),this.correctOffsetY(),void this.calcCardRange();this.calcCardRange()},t.reset=function(){this.resetOffset(),this.resetRange()},t.update=function(){this.correctOffsetY(),this.calcCardRange()},t.getOffsetX=function(){return 0},t.getOffsetY=function(){return this.offsetY},t.getCardRange=function(){return{startCardIndex:this.startCardIndex,endCardIndex:this.endCardIndex}},t.hasRangeChange=function(e){var t=this.getCardRange();return(null===t||void 0===t?void 0:t.startCardIndex)!==(null===e||void 0===e?void 0:e.startCardIndex)||(null===t||void 0===t?void 0:t.endCardIndex)!==(null===e||void 0===e?void 0:e.endCardIndex)},t.getRangeChange=function(e){var t=this.getCardRange(),n=this.compareTwoRange(e,t,"startCardIndex","endCardIndex");return{decreasedCardIndexs:n.decreaseds,increasedCardIndexs:n.increaseds}},t.calcWithDeltaY=function(e){this.offsetY+=e,this.calcCardRange()},t.getRowCount=function(){return this.endRow+1},t.getCardIndex=function(e,t){var n=this.getCardColumnFromPosition(e);if(-1===n)return-1;var i=this.getCardRowFromPosition(t);if(-1===i)return-1;var o=this.collector.size,r=i*o.cardCountPerRow+n;return r>o.cardCount-1?-1:r},t.getCardRowFromPosition=function(e){for(var t=this.collector,n=t.size,i=t.position,o=0;o<n.cardRowCount;o++){var r=i.calcCardStartY(o*n.cardCountPerRow);if(e>=r-this.offsetY&&e<=r+n.cardHeight-this.offsetY)return o}return-1},t.getCardColumnFromPosition=function(e){for(var t=this.collector,n=t.size,i=t.position,o=0;o<n.cardCountPerRow;o++){var r=i.calcCardStartX(o);if(e>=r&&e<=r+n.cardWidth)return o}return-1},t.correctOffsetY=function(){var e=this.collector.size;e.activityScrollHeight>0&&this.offsetY>e.activityScrollHeight-e.activityViewHeight&&(this.offsetY=Math.max(0,e.activityScrollHeight-e.activityViewHeight))},t.calcCardRange=function(){var e=this.collector.size,t=!1;this.startRow=0;for(var n=0;n<e.cardRowCount;n++){var i=0===n?e.globalPaddingTop:e.cardVerticalMargin,o=e.globalPaddingTop+n*(e.cardVerticalMargin+e.cardHeight),r=o+e.cardHeight;o-i-this.offsetY<=0&&r-this.offsetY>=0&&(this.startRow=n),o-this.offsetY<=e.activityViewHeight&&r+e.cardVerticalMargin-this.offsetY>=e.activityViewHeight&&(t=!0,this.endRow=n)}t||(this.endRow=e.cardRowCount-1),this.startCardIndex=this.startRow*e.cardCountPerRow,this.endCardIndex=Math.min(e.cardCount-1,this.endRow*e.cardCountPerRow+e.cardCountPerRow-1)},t.compareTwoRange=function(e,t,n,i){var o=[],r=[],s=Number(t[n]),a=Number(t[i]),l=Number(e[n]),d=Number(e[i]);return s!==l&&a!==d&&s>l&&a>d||s===l&&a!==d&&a>d||s!==l&&a===d&&s>l?(o=bo(l,Math.min(s,d+1)),r=Mo(Math.max(s-1,d),a)):(o=Mo(Math.max(l-1,a),d),r=bo(s,Math.min(l,a+1))),{decreaseds:o,increaseds:r}},e}(),wo=function(){function e(e){this.collector=e}return e.prototype.getTableDescRect=function(){var e,t;if(this.isTableDescriptionVisible){var n=null===(e=this.context.getTableDescriptionRoot())||void 0===e?void 0:e.getBoundingClientRect();return{x:n.left,y:n.top,width:n.width,height:n.height}}var i=null===(t=this.context.getRenderRoot())||void 0===t?void 0:t.getBoundingClientRect();return{x:i.left,y:i.top,width:0,height:0}},(0,mi.Z)(e,[{key:"scale",get:function(){return this.collector.getContextScale()}},{key:"context",get:function(){return this.collector.context}},{key:"isTableDescriptionVisible",get:function(){return this.context.getCore().tableDescriptionService.getTableDescriptionVisible(this.context.getCurrentTable())}}]),e}(),To=(0,Pi.F)()?190:300,Eo=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=t,n.cardCount=0,n.cardCountPerRow=-1,n.cardRowCount=0,n.cardWidth=0,n.cardHeight=0,n.globalPaddingLeft=Bi,n.globalPaddingRight=Wi,n.globalPaddingTop=Fi,n.globalPaddingBottom=Ui,n.cardHorizontalMargin=Gi,n.cardVerticalMargin=Zi,n.activityScrollHeight=0,n.mobileFooterBarHeight=152,n.fieldTitleHeight=14+Yi,n.calcCardSize(),n}(0,u.Z)(t,e);var n=t.prototype;return n.destroy=function(){},n.reset=function(){this.calcCardSize(),this.calcCardRowCount(this.cardCount)},n.update=function(){this.calcCardSize(),this.calcCardRowCount(this.cardCount)},n.setActivityScrollHeight=function(e){this.activityScrollHeight=e},n.setCardHeight=function(e){this.cardHeight=e},n.calcCardRowCount=function(e){this.cardCount=e,this.cardRowCount=Math.ceil(e/this.cardCountPerRow)},n.getPreviewTplRect=function(){var e,t=this.getTableDescRect();return{x:this.globalPaddingLeft/2,y:null!==(e=null===t||void 0===t?void 0:t.y)&&void 0!==e?e:0,width:this.activityViewWidth-this.globalPaddingLeft,height:this.getPreviewTplHeight(t)}},n.getPreviewTplHeight=function(e){var t,n=this,i=this.collector.ranger.getRowCount(),o=this.cardHeight+this.cardVerticalMargin,r=null!==(t=null===e||void 0===e?void 0:e.height)&&void 0!==t?t:0,s=Array.from({length:i}).findIndex((function(e,t){return o*(t+1)>n.activityViewHeight}));return s<0?s=i-1:s-=1,r+=o*(s+1)},n.calcCardSize=function(){if(this.activityViewWidth>0){var e=Math.round(this.activityViewWidth/To),t=this.activityViewWidth>640?e:2;this.cardCountPerRow=(0,Pi.F)()?t:e,this.cardWidth=(this.activityViewWidth-this.globalPaddingLeft-this.globalPaddingRight-(this.cardCountPerRow-1)*this.cardHorizontalMargin)/this.cardCountPerRow}},(0,mi.Z)(t,[{key:"cardContentWidth",get:function(){return this.cardWidth-24}},{key:"cardContentHeight",get:function(){return this.cardHeight-24}},{key:"activityViewWidth",get:function(){var e,t,n;return null!==(n=null===(t=null===(e=this.collector)||void 0===e?void 0:e.getContextRoot())||void 0===t?void 0:t.offsetWidth)&&void 0!==n?n:0}},{key:"activityViewHeight",get:function(){var e,t,n;return null!==(n=null===(t=null===(e=this.collector)||void 0===e?void 0:e.getContextRoot())||void 0===t?void 0:t.offsetHeight)&&void 0!==n?n:0}},{key:"globalWidth",get:function(){return this.activityViewWidth}},{key:"globalHeight",get:function(){return this.activityViewHeight}}]),t}(wo),jo=function(){function e(e){this.collector=e,this.folds={},this.bootstrap()}var t=e.prototype;return t.getFolds=function(){return this.folds},t.isFold=function(e){var t,n=this.collector.getTableId()+"-"+this.collector.getViewId();return null===(t=this.folds[n])||void 0===t?void 0:t.includes(e)},t.setFolds=function(e){"object"===typeof e&&(this.folds=e)},t.setFold=function(e,t){var n=this.collector.getTableId()+"-"+this.collector.getViewId();if(t)this.folds[n]||(this.folds[n]=[]),this.folds[n].push(e);else{var i=this.folds[n].indexOf(e);i>-1&&this.folds[n].splice(i,1)}},e}(),Ao=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=t,n.searchHighLightInfos={selectedRecordId:"",highlightInfos:new Map,isShowSearch:!1},n.activeRecordId="",n.contextMenuActivePoint={recordId:""},n.draggedRecordId="",n.bootstrap(),n}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){},n.destroy=function(){},n.syncLocalStorage=function(){},n.clearSearchHighlight=function(){var e,t;null===(t=null===(e=this.searchHighLightInfos)||void 0===e?void 0:e.highlightInfos)||void 0===t||t.clear(),this.searchHighLightInfos.selectedRecordId=""},n.getHighlightInfos=function(){var e;return null===(e=this.searchHighLightInfos)||void 0===e?void 0:e.highlightInfos},n.setHighlightInfos=function(e){var t;null===(t=this.searchHighLightInfos)||void 0===t||t.highlightInfos.set(""+e.recordId,e)},n.getSearchSelectedRecordId=function(){var e;return null===(e=this.searchHighLightInfos)||void 0===e?void 0:e.selectedRecordId},n.setSearchState=function(e){this.searchHighLightInfos.isShowSearch=e},n.getSearchState=function(){return this.searchHighLightInfos.isShowSearch},n.setSearchSelectedRecordId=function(e){this.searchHighLightInfos.selectedRecordId=e},n.setActiveRecordId=function(e){this.activeRecordId=e},n.getActiveRecordId=function(){return this.activeRecordId},n.clearActiveRecordId=function(){this.activeRecordId=""},n.setDraggedRecordId=function(e){this.draggedRecordId=e},n.getDraggedRecordId=function(){return this.draggedRecordId},n.clearDraggedRecordId=function(){this.draggedRecordId=""},n.setContextMenuActivePoint=function(e){this.contextMenuActivePoint=e},n.getContextMenuActivePoint=function(){return this.contextMenuActivePoint},t}(jo),xo=function(){function e(e){this.context=e,this.isEditable=!1,this.setEditable(e.getBasePermissionStatus().canEdit),this.bootstrap()}var t=e.prototype;return t.isMobile=function(){return(0,Pi.F)()},t.canEdit=function(){return this.isEditable},t.getField=function(e){var t;return null===(t=this.getTable())||void 0===t?void 0:t.getFieldByFieldId(e)},t.getCell=function(e,t){var n,i=null===(n=this.getTable())||void 0===n?void 0:n.getFieldByFieldId(e);return null===i||void 0===i?void 0:i.getStandardCell(t)},t.getTableId=function(){var e;return(null===(e=this.getTable())||void 0===e?void 0:e.id)||""},t.getViewId=function(){var e;return(null===(e=this.getView())||void 0===e?void 0:e.id)||""},t.setEditable=function(e){this.isEditable=e},t.getContextScale=function(){return this.context.getScale()||1},t.getContextRoot=function(){return this.context.getRenderRoot()},t.setViewStorage=function(e,t){var n=this.getTableId(),i=this.getViewId();this.context.getCore().tableCacheService.setItem({tableId:n,viewId:i,key:e,value:t})},t.getViewStorage=function(e){var t=this.getTableId(),n=this.getViewId();return this.context.getCore().tableCacheService.getItem({tableId:t,viewId:n,key:e})},t.getRecordDetail=function(){return this.context.recordDetail},t.getTable=function(){return this.context.getCurrentTable()},e}(),Do=n("../node_modules/@tencent/xtable-common/es/image/index.js"),So=function(e){function t(t){return e.call(this,t)||this}return(0,u.Z)(t,e),t.prototype.getCoverImageInfo=function(e){var t,n=(this.getCardConfig()||{}).coverFieldId,i=void 0===n?"":n,o=this.getField(i),r=null===o||void 0===o?void 0:o.getStandardCell(e),s=null===(t=null===r||void 0===r?void 0:r.data[0])||void 0===t?void 0:t.imageUrl,a=this.cardWidth-1,l=this.getCoverHeight();return{url:s,clipRect:(0,Do._g)(s,a/(l+4)),thumbnail:Do.Vt}},t}(xo),No=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.destroy=function(){var e,t,n,i,o;null===(e=this.size)||void 0===e||e.destroy(),null===(t=this.layout)||void 0===t||t.destroy(),null===(n=this.position)||void 0===n||n.destroy(),null===(i=this.ranger)||void 0===i||i.destroy(),null===(o=this.state)||void 0===o||o.destroy()},n.reset=function(){var e,t,n,i,o;null===(e=this.size)||void 0===e||e.reset(),null===(t=this.layout)||void 0===t||t.reset(),null===(n=this.position)||void 0===n||n.reset(),null===(i=this.ranger)||void 0===i||i.resetOffset(),this.collectData(),null===(o=this.ranger)||void 0===o||o.resetRange()},n.update=function(){var e,t,n,i;null===(e=this.size)||void 0===e||e.reset(),null===(t=this.layout)||void 0===t||t.reset(),null===(n=this.position)||void 0===n||n.reset(),this.collectData(),null===(i=this.ranger)||void 0===i||i.update()},n.getCardRecordId=function(e){var t,n;return null!==(n=(null!==(t=this.getAllDisplayedRecordIds())&&void 0!==t?t:[])[e])&&void 0!==n?n:""},n.getCardIndex=function(e){var t,n=null!==(t=this.getAllDisplayedRecordIds())&&void 0!==t?t:[];return n.includes(e)?n.indexOf(e):-1},n.getCardConfig=function(){var e,t;return null===(t=null===(e=this.getView())||void 0===e?void 0:e.getCardConfig)||void 0===t?void 0:t.call(e)},n.getAllDisplayedRecordIds=function(){var e,t;return null!==(t=null===(e=this.getView())||void 0===e?void 0:e.getDisplayedRecordIds())&&void 0!==t?t:[]},n.getVisibleFieldIds=function(){var e,t;return null===(t=null===(e=this.getView())||void 0===e?void 0:e.getVisibleFieldIds)||void 0===t?void 0:t.call(e)},n.isPrimaryField=function(e){var t,n;return null===(n=null===(t=this.getView())||void 0===t?void 0:t.isPrimaryField)||void 0===n?void 0:n.call(t,e)},n.isField=function(e,t,n,i){return e<=t&&e+n>=t&&e>i},n.getCoverHeight=function(){return Vi},n.getView=function(){var e;return null===(e=this.context)||void 0===e?void 0:e.getCurrentView()},n.bootstrap=function(){var e;this.size=new Eo(this),this.layout=new Io(this),this.position=new yo(this),this.state=new Ao(this),this.ranger=new Co(this),this.collectData(),null===(e=this.ranger)||void 0===e||e.reset()},n.collectData=function(){var e;null===(e=this.layout)||void 0===e||e.collectLayoutData()},(0,mi.Z)(t,[{key:"cardWidth",get:function(){return this.size.cardWidth}}]),t}(So),Ro=n("../node_modules/@tencent/xtable-render/es/views/shared/utils/fix-edge-delta.js"),Oo=function(){function e(e,t){var n,i,o=this;this.view=e,this.collector=t,this.layer=new Oi.mh,this.onScroll=function(e){e.deltaY&&o.updateWithDeltaY(e.deltaY)},null===(i=null===(n=this.view)||void 0===n?void 0:n.getStage())||void 0===i||i.add(this.layer),this.view.getRoot().style.backgroundColor=Xi.mw,this.scrollListener=this.view.emitter.action.stageScroll.event(this.onScroll)}var t=e.prototype;return t.destroy=function(){var e,t;this.resetAreas(),null===(e=this.layer)||void 0===e||e.destroy(),null===(t=this.scrollListener)||void 0===t||t.dispose()},t.drawInit=function(){this.resetAreas(),this.paintAreas()},t.drawForce=function(){this.resetAreas(),this.paintAreas()},t.scrollToY=function(e){var t,n=this.collector.ranger,i=e-(null!==(t=null===n||void 0===n?void 0:n.getOffsetY())&&void 0!==t?t:0);i&&this.updateWithDeltaY(i)},t.resetAreas=function(){var e;null===(e=this.layer)||void 0===e||e.destroyChildren()},t.paintAreas=function(){var e,t=null===(e=this.renderer.widgetTree)||void 0===e?void 0:e.getRootWidget(),n=null===t||void 0===t?void 0:t.getLayoutInfo();!n||n.width<=0||n.height<=0||null===t||void 0===t||t.paint(this.layer)},t.updateWithDeltaY=function(e){var t,n=this.collector,i=n.ranger,o=n.size,r=null!==(t=null===i||void 0===i?void 0:i.getOffsetY())&&void 0!==t?t:0,s=(0,Ro.Z)(e,r,o.activityScrollHeight,o.activityViewHeight);if(0!==s){var a=null===i||void 0===i?void 0:i.getCardRange();null===i||void 0===i||i.calcWithDeltaY(s),this.offsetAreas(s),this.view.emitter.global.scroll.fire({x:0,y:s}),(null===i||void 0===i?void 0:i.hasRangeChange(a))&&this.drawDelta(a)}},t.offsetAreas=function(e){var t,n=null===(t=this.widgetTree)||void 0===t?void 0:t.getRootWidget();null===n||void 0===n||n.offsetChildrenY(e);var i=null===n||void 0===n?void 0:n.getChildren();null===i||void 0===i||i.forEach((function(t){t.offsetY(e)}))},t.drawDelta=function(e){var t=this.collector.ranger,n=t.getRangeChange(e),i=n.decreasedCardIndexs,o=n.increasedCardIndexs;this.removeDecreasedCard(i,e),this.paintIncreasedCard(o,t.getCardRange())},t.removeDecreasedCard=function(e,t){var n,i=this,o=null===(n=this.renderer.widgetTree)||void 0===n?void 0:n.getRootWidget();e.length&&e.reverse().forEach((function(e){var n,r=null===(n=i.widgetTree)||void 0===n?void 0:n.getPainterCard(e,t.startCardIndex);null===r||void 0===r||r.clear(),null===o||void 0===o||o.removeChild(r)}))},t.paintIncreasedCard=function(e,t){var n,i=this,o=null===(n=this.collector)||void 0===n?void 0:n.getAllDisplayedRecordIds();if(e.length&&(null===o||void 0===o?void 0:o.length)){var r=this.collector.getCardConfig()||{},s=r.coverFieldId,a=void 0===s?"":s,l=r.isShowFieldTitle,d=void 0!==l&&l,c=r.isShowCover,u=void 0!==c&&c,h=this.collector.getField(a),g=this.collector.getVisibleFieldIds()||[];e.forEach((function(e){var n,r,s,a;null===(n=i.widgetTree)||void 0===n||n.collectCardPainter({cardIndex:e,visibleFieldIds:g,coverField:h,isShowFieldTitle:d,isShowCover:u,recordId:o[e],startCardIndex:t.startCardIndex});var l=null===(r=i.widgetTree)||void 0===r?void 0:r.getPainterCard(e);null===(a=null===(s=i.widgetTree)||void 0===s?void 0:s.getRootWidget())||void 0===a||a.paintChildWidget(l)}))}},(0,mi.Z)(e,[{key:"renderer",get:function(){return this.view.getRenderer()}},{key:"widgetTree",get:function(){return this.renderer.widgetTree}}]),e}(),Lo=(n("../node_modules/core-js/modules/es.array.fill.js"),n("../node_modules/@tencent/xtable-render/es/base/index.js")),ko=n("../node_modules/@tencent/xtable-render/es/interact-mark/index.js"),zo=n("../node_modules/@tencent/xtable-render/es/views/shared/base/base-feature.js"),Po=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),(0,mi.Z)(t,[{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}},{key:"collector",get:function(){return this.canvas.collector}}]),t}(zo.Z),Fo={size:eo,marginX:(0,Pi.F)()?0:2,fill:"#81868f",opacity:.5,hoverOpacity:.8,cornerRadius:eo/2},Uo=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).listeners=[],t.onScroll=function(){t.scrollVertical()},t.onVerticalDragmove=function(){var e,n=null===(e=t.collector)||void 0===e?void 0:e.size,i=n.activityViewHeight,o=n.activityScrollHeight;if(!(i<=0)){var r=t.vertical.y(),s=t.vertical.height(),a=Math.max(r,0)/i*o;t.canvas.view.scrollToY(a),t.vertical.x(t.getVerticalBarX()),t.vertical.y(Math.min(Math.max(r,0),i-s))}},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.initVertical(),this.updated(),this.listeners.push(this.emitter.global.scroll.event(this.onScroll))},n.destroy=function(){var e;this.listeners.forEach((function(e){return e.dispose()})),null===(e=this.vertical)||void 0===e||e.destroy()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){var e,t,n,i,o=this.collector,r=o.size,s=o.ranger,a=null!==(e=null===s||void 0===s?void 0:s.getOffsetY())&&void 0!==e?e:0;null===(t=this.vertical)||void 0===t||t.x(this.getVerticalBarX()),null===(n=this.vertical)||void 0===n||n.height(this.getVerticalBarSize()),null===(i=this.vertical)||void 0===i||i.visible(r.activityScrollHeight>r.activityViewHeight),this.scrollToY(a)},n.isLocated=function(e,t){return e>=this.vertical.x()&&e<=this.vertical.x()+this.vertical.width()&&t>=this.vertical.y()&&t<=this.vertical.y()+this.vertical.height()&&this.vertical.visible()},n.scrollVertical=function(){var e,t=this.collector.ranger,n=null!==(e=null===t||void 0===t?void 0:t.getOffsetY())&&void 0!==e?e:0;this.scrollToY(n)},n.scrollToY=function(e){var t,n,i=null===(t=this.collector)||void 0===t?void 0:t.size,o=i.activityScrollHeight,r=i.activityViewHeight;if(o>0&&o>r){var s=(e=Math.min(o-r,e))/o*r;null===(n=this.vertical)||void 0===n||n.y(s)}},n.initVertical=function(){var e,t,n,i=this,o=this.collector.size;this.vertical=null===(e=Lo.u.shape)||void 0===e?void 0:e.rect(null,Object.assign({x:this.getVerticalBarX(),y:0,width:Fo.size,height:this.getVerticalBarSize(),visible:o.activityScrollHeight>o.activityViewHeight},this.getDefaultStyle())),this.collector.isMobile()||this.vertical.on("dragmove",this.onVerticalDragmove),this.vertical.on("mouseenter",(function(){var e;i.canvas.view.setCursor(ko.WV.DEFAULT),null===(e=i.vertical)||void 0===e||e.opacity(Fo.hoverOpacity)})),this.vertical.on("mouseleave",(function(){var e;null===(e=i.vertical)||void 0===e||e.opacity(Fo.opacity)})),null===(n=null===(t=this.canvas)||void 0===t?void 0:t.getLayer())||void 0===n||n.add(this.vertical)},n.getVerticalBarSize=function(){var e=this.collector.size,t=e.activityScrollHeight,n=e.activityViewHeight;return t>0?Math.max(20,n/t*n):20},n.getVerticalBarX=function(){var e;return(null===(e=this.canvas.view)||void 0===e?void 0:e.getStage()).width()-Fo.marginX-Fo.size},n.getDefaultStyle=function(){var e;return{fill:Fo.fill,opacity:Fo.opacity,cornerRadius:Fo.cornerRadius,draggable:!(null===(e=this.collector)||void 0===e?void 0:e.isMobile()),listening:!0}},t}(Po);Uo.Name="Scroller";var Bo=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).board=Lo.u.board(),t.listeners=[],t.onScroll=function(){t.showSearchResult()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.canvas.getLayer().add(this.board),this.listeners.push(this.emitter.global.scroll.event(this.onScroll)),this.showSearchResult()},n.destroy=function(){var e,t;null===(e=this.board)||void 0===e||e.destroy(),null===(t=this.rect)||void 0===t||t.destroy(),this.listeners.forEach((function(e){return e.dispose()}))},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){this.showSearchResult()},n.showSearchResult=function(){var e,t,n=null===(e=this.collector.state)||void 0===e?void 0:e.getSearchSelectedRecordId();if(n){var i=this.collector.getCardIndex(n),o=this.widgetTree.getCardAbsoluteLayout(i);this.rect?this.rect.setAttrs(Object.assign({},o)):this.rect=null===(t=Lo.u.shape)||void 0===t?void 0:t.rect(this.board,Object.assign(Object.assign({},o),{cornerRadius:4,stroke:po,strokeWidth:2})),this.board.show(),this.clip()}else this.board.hide()},n.clip=function(){var e=this.collector.size;this.board.clipFunc((function(t){t.rect(0,0,e.activityViewWidth,e.activityViewHeight)}))},t}(Po);Bo.Name="Search";var Wo=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).duration=300,t.stopTimer=null,t.onCanvasScroll=function(){t.stopTimer&&clearTimeout(t.stopTimer),t.stopTimer=setTimeout(t.onScrollStop,t.duration)},t.onScrollStop=function(){var e;null===(e=t.canvas.collector)||void 0===e||e.setViewStorage(t.key,t.getStorageRangeInfo())},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.scrollDisposable=this.emitter.global.scroll.event(this.onCanvasScroll)},n.destroy=function(){var e;null===(e=this.scrollDisposable)||void 0===e||e.dispose()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},t}(zo.Z),Go=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).key=_o,t}(0,u.Z)(t,e);var n=t.prototype;return n.getCollector=function(){return this.canvas.collector},n.getStorageRangeInfo=function(){return{offsetY:this.getCollector().ranger.getOffsetY()}},t}(Wo);Go.Name="GalleryStorageRange";var Zo=n("../node_modules/@tencent/xtable-render/es/views/gallery/utils/scroll.js"),Ho=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).recordId="",t.board=Lo.u.board(),t.listeners=[],t.onRecordDetailStateChange=function(e){var n=null===e||void 0===e?void 0:e.recordId;t.recordId!==n&&(t.beforeCardShown(n),n?(t.recordId=n,t.scrollVisibility(t.canvas.context),t.showActiveCard()):(t.recordId="",t.hideActiveCard()))},t.onScroll=function(){t.showActiveCard()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e=this.collector.getRecordDetail();this.canvas.getLayer().add(this.board),this.showActiveCard(),this.listeners.push(this.emitter.global.scroll.event(this.onScroll)),this.listeners.push(e.recordDetailStateChangeEvent.event(this.onRecordDetailStateChange))},n.destroy=function(){var e,t;null===(e=this.board)||void 0===e||e.destroy(),null===(t=this.rect)||void 0===t||t.destroy(),this.listeners.forEach((function(e){return e.dispose()}))},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){this.showActiveCard()},n.showActiveCard=function(){var e;if(this.shouldHideBoard())this.board.hide();else{var t=this.getCardAbsoluteLayout();this.rect?this.rect.setAttrs(Object.assign({},t)):this.rect=null===(e=Lo.u.shape)||void 0===e?void 0:e.rect(this.board,Object.assign(Object.assign({},t),{cornerRadius:4,stroke:"rgba(1, 136, 251)",strokeWidth:2})),this.board.show(),this.afterCardShown()}},n.hideActiveCard=function(){this.board.hide()},t}(zo.Z),Yo=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.beforeCardShown=function(e){var t;null===(t=this.collector.state)||void 0===t||t.setActiveRecordId(e);var n=this.collector.getCardIndex(this.recordId),i=this.widgetTree.getCard(n);null===i||void 0===i||i.stopHoverAnimation()},n.afterCardShown=function(){var e,t,n=this.collector.getCardIndex(this.recordId),i=this.widgetTree.getCard(n),o=null===(e=null===i||void 0===i?void 0:i.getChildren())||void 0===e?void 0:e.find((function(e){return"RECT"===e.getType()}));null===(t=null===o||void 0===o?void 0:o.rectWidget)||void 0===t||t.setAttrs({shadowColor:"black",shadowBlur:15,shadowOffsetX:5,shadowOffsetY:8,shadowOpacity:.1,duration:.2})},n.getCardAbsoluteLayout=function(){var e=this.collector.getCardIndex(this.recordId);return this.widgetTree.getCardAbsoluteLayout(e)},n.scrollVisibility=function(e){(0,Zo.$)(this.recordId,e)},n.shouldHideBoard=function(){return this.collector.getCardIndex(this.recordId)<0},(0,mi.Z)(t,[{key:"collector",get:function(){return this.canvas.collector}},{key:"widgetTree",get:function(){return this.canvas.view.getRenderer().widgetTree}}]),t}(Ho);Yo.Name="CardActive";var Vo,Qo=n("../node_modules/@tencent/xtable-render/es/report/kanban-gallery-report.service.js"),Ko=n("../node_modules/@tencent/xtable-render/es/views/gallery/utils/get-action-target.js"),Xo=n("../node_modules/lodash/isUndefined.js"),Jo=n.n(Xo),qo=n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js"),$o=n("../node_modules/@tencent/xtable-render/es/views/shared/kanban-gallery/utils/is-target.js"),er=n("../node_modules/@tencent/xtable-render/es/views/shared/utils/auto-scroll.js");!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.UP=2]="UP",e[e.DOWN=3]="DOWN",e[e.NONE=4]="NONE"}(Vo||(Vo={}));var tr,nr=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isMoving=!1,t.group=Lo.u.board({visible:!1}),t.startRecordId="",t.lastClickPosition={x:0,y:0},t.lastMovePosition={x:0,y:0},t.listeners=[],t.mouseMove=function(e){t.isMoving&&t.handleMove(e)},t.mouseDown=function(e){var n,i=e.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y,s=t.getActionTarget(o,r,t.collector,t.widgetTree);t.isNeedPrevent(e,s)||(t.isMoving=!0,t.startRecordId=s.recordId,t.updateTargetInfo(),t.updateLastPosition(o,r),t.updateLastClickPosition(o,r),t.handleCardStartDrag(s),null===(n=(0,Jn.Z)(t).canvas.autoScroll)||void 0===n||n.ready(er.Nm.ALL,{scrollPace:50}))},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.registerEvent(),this.initShape()},n.destroy=function(){var e;null===(e=this.group)||void 0===e||e.destroy(),this.listeners.forEach((function(e){return e.dispose()})),document.removeEventListener("mouseup",this.mouseUp)},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.isDragging=function(){return this.isMoving},n.initShape=function(){this.draggerCard=Lo.u.board(),this.draggerLine=Lo.u.shape.line(this.group,{points:this.getInitLinePoints(),strokeWidth:2,stroke:go,visible:!1}),this.group.add(this.draggerCard),this.canvas.getLayer().add(this.group),this.group.moveToTop(),this.draggerLine.moveToTop()},n.registerEvent=function(){this.scroll=this.scroll.bind(this),this.mouseUp=this.mouseUp.bind(this),this.listeners.push(this.emitter.global.mousedown.event(this.mouseDown)),this.listeners.push(this.emitter.global.mousemove.event(this.mouseMove)),this.listeners.push(this.emitter.global.scroll.event(this.scroll)),document.addEventListener("mouseup",this.mouseUp)},n.handleMove=function(e){var t=e.currentTarget.getRelativePointerPosition(),n=t.x,i=t.y,o=this.getActionTarget(n,i,this.collector,this.widgetTree),r=this.getDeltaPosition(n,i),s=this.draggerCard.position(),a=s.x,l=s.y;this.group.show(),this.updateCard(a+r.x,l+r.y),this.handleMoveLine(n,i,o),this.setTargetRecordId(n,i,o),this.canvas.view.setCursor(ko.WV.GRABBING),this.updateLastPosition(n,i)},n.scroll=function(e){var t,n,i,o;if(this.isMoving){var r=null===(n=null===(t=this.draggerCardMask)||void 0===t?void 0:t.position)||void 0===n?void 0:n.call(t);null===(o=null===(i=this.draggerCardMask)||void 0===i?void 0:i.position)||void 0===o||o.call(i,{x:r.x-e.x,y:r.y-e.y})}},n.isClick=function(e,t){return Math.abs(e-this.lastClickPosition.x)<20&&Math.abs(t-this.lastClickPosition.y)<20},n.handleCardStartDrag=function(e){var t=this.getLayoutInfo(e);this.addMaskForCard(e),this.cloneCard(this.getCardWidget(e)),this.updateCard(t.x,t.y,t.height)},n.mouseUp=function(e){if(this.isMoving){var t=this.canvas.context.getRenderer().getView().getRootRect(),n=e.x-t.x,i=e.y-t.y;this.isMoving=!1,this.isClick(n,i)||this.done(),this.reset()}},n.reset=function(){var e,t,n,i,o,r,s,a;null===(t=null===(e=this.group)||void 0===e?void 0:e.hide)||void 0===t||t.call(e),null===(i=null===(n=this.draggerLine)||void 0===n?void 0:n.hide)||void 0===i||i.call(n),null===(r=null===(o=this.draggerCardMask)||void 0===o?void 0:o.remove)||void 0===r||r.call(o),null===(a=null===(s=this.draggerCard)||void 0===s?void 0:s.remove)||void 0===a||a.call(s),this.startRecordId=""},n.showSnackbar=function(){qo.default.show({message:R.Z.t("cannot_dragger"),closable:!0,duration:1500,id:"card_move"})},n.isExistCard=function(e){return!(!e||Jo()(e.cardIndex)||e.cardIndex<0)},n.getRecordMoveDirection=function(e,t){var n=this.canvas.context.getCurrentView(),i=n.getAllRecordIds().indexOf(e),o=n.getAllRecordIds().indexOf(t);return i===o?Vo.NONE:i>o?Vo.UP:Vo.DOWN},n.isNeedPrevent=function(e,t){return!t||0!==e.evt.button||!(0,$o.F_)(t)},n.updateLastPosition=function(e,t){this.lastMovePosition={x:e,y:t}},n.updateLastClickPosition=function(e,t){this.lastClickPosition={x:e,y:t}},n.getDeltaPosition=function(e,t){return{x:e-this.lastMovePosition.x,y:t-this.lastMovePosition.y}},n.addMaskForCard=function(e){var t=this.getLayoutInfo(e);this.draggerCardMask=Lo.u.shape.rect(this.group,Object.assign(Object.assign({opacity:.5,fill:mo},t),{listeners:!1})),this.draggerCardMask.moveToTop()},n.cloneCard=function(e){var t;e&&(this.draggerCard.remove(),this.draggerCard=e.clone(),null===(t=this.draggerCard.find("Rect")[0])||void 0===t||t.setAttrs(Object.assign({fill:fo},this.getCloneCardAttrs())),this.group.add(this.draggerCard),this.draggerCard.moveToTop())},n.updateCard=function(e,t,n){this.draggerCard.setAttrs({x:e,y:t,height:n})},(0,mi.Z)(t,[{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}}]),t}(zo.Z);nr.Name="CardMove",function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.UP=2]="UP",e[e.DOWN=3]="DOWN",e[e.NONE=4]="NONE"}(tr||(tr={}));var ir=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).getActionTarget=Ko.Z,t.direction=tr.NONE,t.targetRecordId="",t.preventDragger=!1,t.scroll=function(n){t.updatePos(t.draggedCompleteShadow,n),e.prototype.scroll.call((0,Jn.Z)(t),n)},t}(0,u.Z)(t,e);var n=t.prototype;return n.updated=function(){var e;this.collector.state.getDraggedRecordId()||null===(e=this.draggedCompleteShadow)||void 0===e||e.remove()},n.handleMove=function(t){var n=t.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y;if(!this.isClick(i,o)){this.emitter.service.expandHideRow.fire({});var r=this.canvas.context.getCurrentView();if((null===r||void 0===r?void 0:r.isAutoSort())&&(null===r||void 0===r?void 0:r.getSortInfos().length)&&!this.preventDragger)return this.showSnackbar(),this.reset(),void(this.preventDragger=!0)}this.preventDragger||(this.calcMoveDirection(this.lastClickPosition.x,i+this.collector.ranger.getOffsetX()),e.prototype.handleMove.call(this,t))},n.done=function(){var e;if(this.direction===tr.NONE||this.preventDragger)this.preventDragger=!1;else{var t=this.canvas.context.getCurrentView(),n=this.canvas.context.getBehaviorApi(),i=null===(e=this.canvas.context.getCurrentTable())||void 0===e?void 0:e.id;if(t&&i){var o=t.getRecordIndexFromAllRecordIds(this.startRecordId);if(this.targetRecordId){var r,s=this.getTargetIndex(this.targetRecordId);if(this.startRecordId===this.targetRecordId||!(s>=0))return;return Qo.m.moveCard(v.bW.KANBAN),n.moveRecord({tableId:i,viewId:t.id,delta:{recordMoveMap:(r={},r[this.startRecordId]={source:o,target:s},r),groupPath:[null]}}),void this.onMoveFinish()}}}},n.handleMoveLine=function(e,t,n){if(this.isExistCard(n))if(this.startRecordId!==(null===n||void 0===n?void 0:n.recordId)){var i=this.getLayoutInfo(n),o=0,r=0;this.direction===tr.LEFT&&(o=i.x-(Gi+2)/2,r=i.y),this.direction===tr.RIGHT&&(o=i.x+i.width+(Gi-2)/2,r=i.y),this.updateLine(o,r)}else this.draggerLine.hide();else{var s=this.collector.getAllDisplayedRecordIds(),a=this.collector.getCardIndex(s[s.length-1]),l=this.widgetTree.getCardAbsoluteLayout(a);e>l.x&&t>l.y&&this.updateLine(l.x+l.width+(Gi-2)/2,l.y)}},n.getLayoutInfo=function(e){return this.widgetTree.getCardAbsoluteLayout(e.cardIndex)},n.reset=function(){e.prototype.reset.call(this),this.targetRecordId=""},n.getCardWidget=function(e){var t=e.cardIndex;return this.widgetTree.getCardWidget(t)},n.getCloneCardAttrs=function(){return{shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowOpacity:0}},n.updateTargetInfo=function(){this.targetRecordId=this.startRecordId},n.getInitLinePoints=function(){return[0,0,0,this.collector.size.cardHeight]},n.setTargetRecordId=function(e,t,n){if(this.isExistCard(n))this.targetRecordId=n.recordId;else{var i=this.collector.getAllDisplayedRecordIds();this.isAfterLastCard(e,t)&&(this.targetRecordId=i[i.length-1],this.direction=tr.RIGHT)}},n.updateLine=function(e,t){this.draggerLine.points([e,t,e,this.collector.size.cardHeight+t]),this.draggerLine.show()},n.updatePos=function(e,t){var n,i,o=null===(n=null===e||void 0===e?void 0:e.position)||void 0===n?void 0:n.call(e);null===(i=null===e||void 0===e?void 0:e.position)||void 0===i||i.call(e,{x:o.x-t.x,y:o.y-t.y})},n.onMoveFinish=function(){this.collector.state.setDraggedRecordId(this.startRecordId),this.createDraggedCardCover(this.startRecordId)},n.createDraggedCardCover=function(e){var t,n=this.collector.getCardIndex(e),i=this.widgetTree.getCardAbsoluteLayout(n);null===(t=this.draggedCompleteShadow)||void 0===t||t.remove(),this.draggedCompleteShadow=Lo.u.shape.rect(this.group,Object.assign(Object.assign({fill:"rgba(0, 0, 0, 0.04)"},i),{listeners:!1})),this.draggedCompleteShadow.moveToTop()},n.calcMoveDirection=function(e,t){this.direction=e>t?tr.LEFT:tr.RIGHT},n.getTargetIndex=function(e){var t,n=this.canvas.context.getCurrentView(),i=null!==(t=n.getAllRecordIds().indexOf(e))&&void 0!==t?t:-1;i=this.direction===tr.RIGHT?i+1:i;var o=n.getAllRecordIds()[i];return this.getRecordMoveDirection(this.startRecordId,o)===tr.DOWN&&(i-=1),i=Math.max(0,Math.min(n.getAllRecordIds().length-1,i))},n.isAfterLastCard=function(e,t){var n=this.collector.getAllDisplayedRecordIds(),i=this.collector.getCardIndex(n[n.length-1]),o=this.widgetTree.getCardAbsoluteLayout(i);return e>o.x&&t>o.y},(0,mi.Z)(t,[{key:"collector",get:function(){return this.canvas.collector}},{key:"widgetTree",get:function(){return this.canvas.view.getRenderer().widgetTree}}]),t}(nr),or=(n("../node_modules/core-js/modules/es.string.ends-with.js"),n("../node_modules/@tencent/xtable-render/es/base/cell/select.js")),rr=(n("../node_modules/core-js/modules/es.string.link.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/@tencent/tencent_doc_open_url/dist/index.js")),sr=n("../node_modules/@tencent/xtable-core/es/model/field/url/url-utils.js"),ar=function(){function e(e,t,n){this.canvas=e,this.view=t,this.collector=n}var t=e.prototype;return t.openUrl=function(e,t){var n,i=this.collector.getCell(e,t);if(i){var o=null!==(n=i.data[0].link)&&void 0!==n?n:"";o&&(this.collector.isMobile()?(0,rr.tencentDocOpenUrlForAll)({url:(0,sr.Br)((0,sr.AQ)(o).trim())}):(0,rr.tencentDocOpenUrl)(o,"","","_blank"))}},t.hideRecordDetail=function(){this.canvas.view.emitter.service.expandHideRow.fire({})},t.toggleCheckbox=function(e,t){var n=this.collector.getCell(e,t);n&&this.canvas.view.emitter.service.checkboxCellClick.fire({fieldId:e,recordId:t,standardCell:n})},t.showTips=function(e,t){var n=this.collector.size,i=e.y>n.activityViewHeight-n.globalPaddingBottom?"top":"bottom";this.emitter.service.tooltip.fire({size:e,props:{containerOffsetX:e.x,containerOffsetY:e.y,title:t,placement:i,visible:!0}})},t.hideTips=function(){this.emitter.service.tooltip.fire({hide:!0})},(0,mi.Z)(e,[{key:"emitter",get:function(){return this.canvas.context.getRenderer().emitter}}]),e}(),lr=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.editCard=function(e){var t;Qo.m.clickCard(this.view.getType()),this.view.emitter.service.expandRow.fire({recordId:e}),null===(t=this.view.getRenderer().feature)||void 0===t||t.updated()},n.setContextMenuActivePoint=function(e){var t;null===(t=this.collector.state)||void 0===t||t.setContextMenuActivePoint(e)},t}(ar),dr=n("../node_modules/@tencent/xtable-render/es/views/shared/kanban-gallery/widgets/widget-base.js"),cr=["mousedown","mouseup","mousemove","mouseenter"],ur=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).cacheOffsetX=0,t.cacheOffsetY=0,t.listeners=[],t.mouseDownX=0,t.mouseDownY=0,t.isDragger=!1,t.isPressed=!1,t.onDocumentMousemove=function(e){var n=e.x,i=e.y;(t.isOutCanvas(n,i)||"canvas"!==e.target.nodeName.toLowerCase())&&t.reset()},t.eventActionEntry=function(e){var n,i=e.currentTarget.getRelativePointerPosition();if(i){var o=i.x,r=void 0===o?0:o,s=i.y,a=void 0===s?0:s,l=e.evt.type,d=t.getActionTarget(r,a,t.collector,t.widgetTree);if(t.isCloseCardDetail(d,l)&&t.action.hideRecordDetail(),t.isNeedPrevent(l,r,a,e.evt.button))return t.doPreventAction(),void(0===e.evt.button&&t.resetHover());if(!t.isClickSlipping(l,r,a)){t.updateOffsetCachePos(l,r,a);var c=null===(n=null===e||void 0===e?void 0:e.target)||void 0===n?void 0:n.getAttr(ko.k4);c?t.doAreaAction(l,c,e):(t.isHoverField(l,d)?t.doFieldHoverAction(r,a,l,d):t.action.hideTips(),t.isNeedLayoutAction(d,l)?t.doLayoutAction(l,d):t.doStageAreaAction(e,l))}}},t.contextMenu=function(e){var n,i=null===(n=null===e||void 0===e?void 0:e.currentTarget)||void 0===n?void 0:n.getRelativePointerPosition(),o=i.x,r=i.y,s=t.getActionTarget(o,r,t.collector,t.widgetTree);s&&t.setContextMenuActivePoint(s)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e=this;this.action=new lr(this.canvas,this.canvas.view,this.collector),cr.forEach((function(t){e.listeners.push(e.emitter.global[t].event(e.eventActionEntry))})),this.listeners.push(this.emitter.global.contextMenu.event(this.contextMenu)),this.listeners.push(this.emitter.global.scroll.event(this.onScroll)),document.addEventListener("mousemove",this.onDocumentMousemove),document.addEventListener("visibilitychange",this.reset)},n.destroy=function(){this.listeners.forEach((function(e){return e.dispose()})),document.removeEventListener("mousemove",this.onDocumentMousemove),document.removeEventListener("visibilitychange",this.reset)},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){this.reset()},n.setDefaultCursor=function(){var e;null===(e=this.canvas.view)||void 0===e||e.setCursor(ko.WV.DEFAULT)},n.isClickSlipping=function(e,t,n){return"mousedown"===e&&(this.mouseDownX=t,this.mouseDownY=n),"mouseup"===e&&(Math.abs(t-this.mouseDownX)>5||Math.abs(n-this.mouseDownY)>5)},n.doFieldHoverAction=function(e,t,n,i){if("mousemove"===n||"mouseenter"===n){var o=i.type,r=i.recordId,s=i.fieldId,a=this.collector.getCell(s,r),l=this.getCellText(null===a||void 0===a?void 0:a.data),d=null;switch(o){case dr.m.Url:d=this.getUrlEllipsisInfo(s,l);break;case dr.m.Text:d=this.getTextEllipsisInfo(s,l);break;case dr.m.Select:d=this.getSelectEllipsisInfo(e,t,r,i,null===a||void 0===a?void 0:a.data)}(null===d||void 0===d?void 0:d.isEllipsis)?this.action.showTips({x:e,y:t,width:0,height:0},d.text):this.action.hideTips()}},n.getCellText=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t,n){return n===length-1?e+t.text:""+e+t.text+"\n"}),"")},n.getTextEllipsisInfo=function(e,t){var n=!!this.collector.isPrimaryField(e),i=0,o=(this.collector.getCardConfig()||{}).isShowFieldTitle;void 0!==o&&o&&!n&&(i=this.collector.size.fieldTitleHeight);var r=this.widgetTree.getTextLayoutInfo(n,t,i),s=new Oi.xv(r),a=s.textArr.filter((function(e){return e.text&&e.width})).length,l=s.height();return s.destroy(),{isEllipsis:a>this.limitTextLine,width:r.width,height:l,text:t}},n.getUrlEllipsisInfo=function(e,t){var n=!!this.collector.isPrimaryField(e),i=0,o=(this.collector.getCardConfig()||{}).isShowFieldTitle;void 0!==o&&o&&!n&&(i=this.collector.size.fieldTitleHeight);var r=this.widgetTree.getTextLayoutInfo(n,t,i),s=new Oi.xv(r),a=s.textArr.filter((function(e){return e.text&&e.width})),l=s.height(),d=a.length;return s.destroy(),d>1?{isEllipsis:!0,width:r.width,height:l,text:t}:t.endsWith(s.textArr[d-1].text)?{isEllipsis:!1}:s.textArr[d-1].text.endsWith("…")?{isEllipsis:!0,width:r.width,height:l,text:t}:{isEllipsis:!1}},n.getSelectEllipsisInfo=function(e,t,n,i,o){var r,s=this.getSelectTag(e,t,n,i,o);return s?{isEllipsis:(null!==(r=(null===s||void 0===s?void 0:s.rect.x)+(null===s||void 0===s?void 0:s.rect.width))&&void 0!==r?r:0)>this.collector.size.cardContentWidth,width:s.rect.width,height:s.rect.height,text:s.text}:{isEllipsis:!1}},n.getSelectTag=function(e,t,n,i,o){var r=i.painter,s=null===r||void 0===r?void 0:r.getChildren().find((function(e){return e.getType()===dr.m.Select})),a=this.getRenderTags(null===s||void 0===s?void 0:s.getLayoutInfo(),o),l=e+this.collector.ranger.getOffsetX()-i.startX,d=t+this.getOffsetY(n)-i.startY;return a.find((function(e){return e.rect.x<=l&&e.rect.x+e.rect.width>l&&e.rect.y<=d&&e.rect.y+e.rect.height>d}))},n.getRenderTags=function(e,t){var n=or.Z.collectTags(t,{height:Xi.PG}),i=or.Z.collectTagLayouts(n,e,4);return or.Z.collectRenderTags(n,i,or.Z.getTagHeight({height:Xi.PG}))},n.isPress=function(e,t,n){if("mousedown"===e&&(this.mouseDownX=t,this.mouseDownY=n,this.isPressed=!0),"mousemove"===e&&this.isPressed&&(Math.abs(t-this.mouseDownX)>20||Math.abs(n-this.mouseDownY)>20)&&(this.isDragger=!0),"mouseup"===e){if(this.isPressed=!1,!this.isDragger)return this.isDragger=!1,!0;this.isDragger=!1}return!1},n.isHoverField=function(e,t){return("mousemove"===e||"mouseenter"===e)&&(0,$o.St)(t)},n.handleUrlTips=function(e,t){var n=e.fieldId,i=e.recordId,o=this.collector.getCell(n,i),r=this.getCellText(null===o||void 0===o?void 0:o.data),s=this.getUrlEllipsisInfo(n,r);s.isEllipsis&&this.action.showTips(t,s.text)},n.doStageAreaAction=function(e,t){e.target===this.canvas.view.getStage()&&"mousemove"===t&&this.reset(),"mouseup"===t&&this.clearDraggedState()},n.updateOffsetCachePos=function(e,t,n){"mousemove"===e&&(this.cacheOffsetX=t,this.cacheOffsetY=n)},n.isCloseCardDetail=function(e,t){return!(0,$o.F_)(e)&&"mouseup"===t},n.isNeedPrevent=function(e,t,n,i){var o=this.canvas.getFeature("Scroller");return 0!==i||(null===o||void 0===o?void 0:o.isLocated(t,n))||this.isDragging(e,t,n)},(0,mi.Z)(t,[{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}}]),t}(zo.Z);ur.Name="Interactive";var hr=function(e){var t=e.getAbsolutePosition();return{x:t.x,y:t.y,width:e.width(),height:e.height()}},gr=hr,fr=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).lastHoverCardIndex=-1,t.reset=function(){t.action.hideTips(),t.setDefaultCursor()},t.onScroll=function(){var e,n,i;if(t.reset(),!(null===(n=null===(e=t.canvas)||void 0===e?void 0:e.getFeature("CardMove"))||void 0===n?void 0:n.isDragging())){var o=null===(i=t.canvas.view)||void 0===i?void 0:i.getStage();try{var r=new MouseEvent("mousemove",{clientX:t.cacheOffsetX,clientY:t.cacheOffsetY});null===o||void 0===o||o.dispatchEvent(r)}catch(s){console.error(s)}}},t}(0,u.Z)(t,e);var n=t.prototype;return n.resetHover=function(){var e,t,n=null===(e=this.widgetTree)||void 0===e?void 0:e.getPainterCard(this.lastHoverCardIndex);null===(t=null===n||void 0===n?void 0:n.stopHoverAnimation)||void 0===t||t.call(n),this.lastHoverCardIndex=-1},n.isNeedLayoutAction=function(e){return!!e},n.setContextMenuActivePoint=function(e){var t=e.recordId,n=void 0===t?"":t;this.action.setContextMenuActivePoint({recordId:n})},n.getOffsetY=function(){return this.collector.ranger.getOffsetY()},n.doAreaAction=function(e,t,n){var i=gr(n.target);switch(e){case"mousemove":this.doAssignAreaHoverAction(t,i);break;case"mouseup":this.doAssignAreaClickAction(t)}},n.doLayoutAction=function(e,t){"mousemove"===e&&this.setDefaultCursor(),(0,$o.F_)(t)||(0,$o.My)(t)?this.doLayoutCard(e,t):this.reset()},n.isDragging=function(e,t,n){if(this.isPress(e,t,n))return!1;var i=this.canvas.getFeature("CardMove");return null===i||void 0===i?void 0:i.isDragging()},n.resetCardHover=function(e,t){"mousemove"===t&&!(0,$o.F_)(e)&&this.lastHoverCardIndex>-1&&this.resetHover()},n.clearDraggedState=function(){var e;this.collector.state.clearDraggedRecordId(),null===(e=this.canvas.getFeature("CardMove"))||void 0===e||e.updated()},n.doPreventAction=function(){},n.getActionTarget=function(e,t,n,i){return(0,Ko.Z)(e,t,n,i)},n.doAssignAreaHoverAction=function(e,t){e.type===ko.KW.OPEN_URL&&this.handleUrlTips(e,t),e.hoverCursor&&this.canvas.view.setCursor(e.hoverCursor)},n.doAssignAreaClickAction=function(e){var t=e||{},n=t.recordId,i=void 0===n?"":n,o=t.fieldId,r=void 0===o?"":o;switch(e.type){case ko.KW.CHECKBOX_CHECK:if(!this.canvas.view.canEdit())return;this.action.toggleCheckbox(r,i),this.clearDraggedState();break;case ko.KW.OPEN_URL:this.action.openUrl(r,i)}},n.doLayoutCard=function(e,t){var n,i,o,r=t.cardIndex,s=void 0===r?-1:r,a=t.recordId,l=void 0===a?"":a,d=null===(n=this.widgetTree)||void 0===n?void 0:n.getPainterCard(s);switch(e){case"mousemove":null===(i=this.canvas.view)||void 0===i||i.setCursor(ko.WV.POINTER),s!==this.lastHoverCardIndex&&(null===(o=null===d||void 0===d?void 0:d.hoverAnimation)||void 0===o||o.call(d),this.resetHover()),this.lastHoverCardIndex=s;break;case"mouseup":this.reset(),this.action.editCard(l),this.clearDraggedState()}},(0,mi.Z)(t,[{key:"collector",get:function(){return this.canvas.getCollector()}},{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}},{key:"limitTextLine",get:function(){return 2}}]),t}(ur);fr.Name="Interactive";var mr=function(){function e(e,t,n){var i=this;this.collector=e,this.view=t,this.context=n,this.features={},this.layer=Lo.u.layer(),this.onResize=function(){var e,t=i.getAutoScrollOptions();t&&(null===(e=i.autoScroll)||void 0===e||e.update(t))},this.bootstrap(),this.view.getStage().add(this.layer),this.registerAutoScroll(),this.resizeListener=this.view.emitter.global.resize.event(this.onResize)}var t=e.prototype;return t.getLayer=function(){return this.layer},t.destroy=function(){var e,t;this.destroyFeatures(),this.layer.destroy(),null===(e=this.autoScroll)||void 0===e||e.destroy(),null===(t=this.resizeListener)||void 0===t||t.dispose()},t.updated=function(){Object.values(this.features).forEach((function(e){return null===e||void 0===e?void 0:e.updated()}))},t.installFeatures=function(e){var t=this;e.forEach((function(e){var n=e[0];if(!e[1]||t.view.canEdit()){var i=n.Name;if(i)if(t.features[i])o.k.error("该 Feature Name 已经存在: ",i,n);else{var r=new n(t);r.bootstrap(),t.features[i]=r}else o.k.error("该 Feature 没有指定 Name: ",n.name)}}))},t.destroyFeatures=function(){Object.values(this.features).forEach((function(e){return null===e||void 0===e?void 0:e.destroy()})),this.features={}},t.getCollector=function(){return this.collector},t.getFeature=function(e){return this.features[e]},t.registerAutoScroll=function(){var e=this.getAutoScrollOptions();e&&(this.autoScroll=new er.ZP(this.view,this.collector,e))},e}();(0,i.__decorate)([(0,zn.P)(50),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],mr.prototype,"updated",null);var pr=[[Uo,!1],[fr,!1],[Go,!1],[Bo,!1],[Yo,!1],[ir,!0]],vr=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.installFeatures(pr)},n.getAutoScrollOptions=function(){var e=this.collector,t=e.size,n=e.ranger;return{boundRect:{left:t.globalPaddingLeft,right:t.activityViewWidth-t.globalPaddingRight,top:t.globalPaddingTop,bottom:t.activityViewHeight-t.globalPaddingBottom},getScrollOffset:function(){return{scrollX:0,scrollY:n.getOffsetY()}},top:50,bottom:50,left:50,right:50}},t}(mr),Ir=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),t}(ar),yr=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isSliding=!1,t.eventActionEntry=function(e){var n,i,o,r,s,a,l=null===(i=null===(n=null===e||void 0===e?void 0:e.event)||void 0===n?void 0:n.currentTarget)||void 0===i?void 0:i.getRelativePointerPosition(),d=l.x,c=void 0===d?0:d,u=l.y,h=void 0===u?0:u,g=t.getActionTarget(c,h,t.collector,t.widgetTree),f=(null===e||void 0===e?void 0:e.type)||(null===(r=null===(o=null===e||void 0===e?void 0:e.event)||void 0===o?void 0:o.evt)||void 0===r?void 0:r.type),m=null===(a=null===(s=null===e||void 0===e?void 0:e.event)||void 0===s?void 0:s.target)||void 0===a?void 0:a.getAttr(ko.k4);m?t.doAreaAction(m,f,g):t.isNeedLayoutAction(g)?t.doLayoutAction(f,g):t.handleTarget(f,g)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.action=new Ir(this.canvas,this.canvas.view,this.collector)},n.doLayoutCard=function(e,t){var n,i,o,r=this,s=this.getCard(t);switch(this.cardRect=null===(n=null===s||void 0===s?void 0:s.getChildren())||void 0===n?void 0:n.find((function(e){return e.getType()===dr.m.Rect})),e){case"touchstart":this.pressCard();break;case"tap":null===s||void 0===s||s.clearCache(),setTimeout((function(){r.editCard(t.recordId)}),20),this.cardRect&&(null===(o=null===(i=this.cardRect)||void 0===i?void 0:i.updateFillColor)||void 0===o||o.call(i,ho),setTimeout((function(){var e,t;null===(t=null===(e=r.cardRect)||void 0===e?void 0:e.updateFillColor)||void 0===t||t.call(e,uo),r.cardRect=null}),50))}},n.isUrl=function(e){return e.type===ko.KW.OPEN_URL},n.doUrlAction=function(e,t){if("tap"===t){var n=e.fieldId,i=e.recordId;this.action.openUrl(n,i)}},n.pressCard=function(){var e=this;setTimeout((function(){var t,n;!e.isSliding&&e.cardRect&&(null===(n=null===(t=e.cardRect)||void 0===t?void 0:t.updateFillColor)||void 0===n||n.call(t,ho))}),100)},n.editCard=function(e){this.emitter.service.expandRow.fire({recordId:e})},(0,mi.Z)(t,[{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}}]),t}(zo.Z);yr.Name="InteractiveMobile";var _r=["touchstart","tap"],br=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).listeners=[],t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var t=this;e.prototype.bootstrap.call(this),_r.forEach((function(e){t.listeners.push(t.emitter.action[e].event(t.eventActionEntry))})),this.listeners.push(this.emitter.action.stageScroll.event((function(){var e,n;t.isSliding=!0,t.timer&&clearTimeout(t.timer),null===(n=null===(e=t.cardRect)||void 0===e?void 0:e.updateFillColor)||void 0===n||n.call(e,uo),t.cardRect=null,t.timer=setTimeout((function(){t.isSliding=!1}),10)})))},n.destroy=function(){this.listeners.forEach((function(e){return e.dispose()}))},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.getCard=function(e){var t=e.cardIndex,n=void 0===t?-1:t;return this.widgetTree.getPainterCard(n)},n.getActionTarget=function(e,t,n,i){return(0,Ko.Z)(e,t,n,i)},n.doAreaAction=function(e,t){this.isUrl(e)&&this.doUrlAction(e,t)},n.doLayoutAction=function(e,t){},n.isNeedLayoutAction=function(e){return!1},n.handleTarget=function(e,t){((0,$o.F_)(t)||(0,$o.My)(t))&&this.doLayoutCard(e,t)},(0,mi.Z)(t,[{key:"collector",get:function(){return this.canvas.getCollector()}},{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}}]),t}(yr);br.Name="InteractiveMobile";var Mr=[[Uo,!1],[br,!1],[Go,!1],[Bo,!1]],Cr=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.installFeatures(Mr)},n.getAutoScrollOptions=function(){return null},t}(mr),wr=n("../node_modules/@tencent/xtable-common/es/decorators/execution/debounce.js"),Tr=function(){function e(e,t,n){this.context=e,this.view=t,this.collector=n,this.ticks=[],this.bootstrap()}var t=e.prototype;return t.renderForceAsync=function(){this.renderForce()},t.nextTick=function(e){this.ticks.push(e),this.clearTicks()},t.clearTicks=function(){for(;this.ticks.length;)this.ticks.shift()()},e}();function Er(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}(0,i.__decorate)([(0,wr.LF)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],Tr.prototype,"renderForceAsync",null),(0,i.__decorate)([(0,wr.ab)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],Tr.prototype,"clearTicks",null);var Ar=function(e){function t(t,n,i,o){var r;return void 0===o&&(o=-1),(r=e.call(this)||this).collector=t,r.setLayoutInfo(r.getDefaultLayoutInfo()),i&&r.setType(i),n?(o>=0?n.insertChild((0,Jn.Z)(r),o):n.addChild((0,Jn.Z)(r)),r):(0,Jn.Z)(r)}(0,u.Z)(t,e);var n=t.prototype;return n.getDefaultLayoutInfo=function(){return{x:0,y:0,width:0,height:0}},n.paint=function(e){var t=this.collector.ranger,n=this.getLayoutInfo(),i=this.getType()===dr.m.AddGroup?n.x-t.getOffsetX():n.x;this.groupWidget=new Oi.$l({x:i,y:n.y}),null===e||void 0===e||e.add(this.groupWidget),this.renderChildren(this.groupWidget)},n.paintChildWidget=function(e){this.groupWidget&&e&&e.paint(this.groupWidget)},n.clip=function(e,t){var n;void 0===e&&(e=0),void 0===t&&(t=0),null===(n=this.groupWidget)||void 0===n||n.clipFunc((function(n){n.rect(0,0,e,t)}))},n.renderChildren=function(e){if(this.hasChild())for(var t,n=Er(this.getChildren());!(t=n()).done;){var i=t.value;null===i||void 0===i||i.paint(e)}},n.renderChildrenAsync=function(e){if(this.hasChild())return Promise.all(this.getChildren().map((function(t){return null===t||void 0===t?void 0:t.paint(e)})))},t}(dr.Z),xr=function(e){function t(t){return e.call(this,t,null,dr.m.Root)||this}(0,u.Z)(t,e);var n=t.prototype;return n.offsetChildrenX=function(e){this.getChildren().forEach((function(t){t.groupWidget&&t.groupWidget.x(t.groupWidget.x()-e)}))},n.offsetChildrenY=function(e){this.getChildren().forEach((function(t){t.groupWidget&&t.groupWidget.y(t.groupWidget.y()-e)}))},n.paint=function(e){var t=this.getLayoutInfo();this.groupWidget=new Oi.$l({x:t.x,y:t.y}),null===e||void 0===e||e.add(this.groupWidget),this.renderChildren(this.groupWidget)},t}(Ar),Dr=new function(){this.base=new Lo.Z},Sr=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,dr.m.Select)||this).cellData=i,o}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n=this.getLayoutInfo();null===(t=Dr.base.cell)||void 0===t||t.draw(e,n,this.cellData)},t}(Ar),Nr=function(e){function t(t,n,i,o){var r;return(r=e.call(this,t,n,dr.m.Card,o)||this).y=0,r.recordId="",r.recordId=i,r}(0,u.Z)(t,e);var n=t.prototype;return n.paint=function(e){var t;return(0,i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o,r,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=this.collector,o=i.ranger,r=null!==(t=o.getOffsetY())&&void 0!==t?t:0,s=this.getLayoutInfo(),this.groupWidget=new Oi.$l({x:s.x,y:s.y-r}),this.y=this.groupWidget.y(),null===e||void 0===e||e.add(this.groupWidget),this.renderChildren(this.groupWidget);case 8:case"end":return n.stop()}}),n,this)})))},n.clearCache=function(){var e;null===(e=this.groupWidget)||void 0===e||e.clearCache()},n.offsetY=function(e){this.y-=e},n.hoverAnimation=function(){var e;if(this.groupWidget){var t=this.getChildren().find((function(e){return"RECT"===e.getType()}));this.collector.state.getActiveRecordId()!==this.recordId&&(null===(e=this.tween1)||void 0===e||e.destroy(),this.tween1=new Oi.kX({node:t.rectWidget,shadowColor:"black",shadowBlur:15,shadowOffsetX:5,shadowOffsetY:8,shadowOpacity:.1,duration:.2}),this.tween1.play())}},n.stopHoverAnimation=function(){var e;if(this.groupWidget&&this.collector.state.getActiveRecordId()!==this.recordId){var t=this.getChildren().find((function(e){return"RECT"===e.getType()}));null===(e=this.tween2)||void 0===e||e.destroy(),this.tween2=new Oi.kX({node:t.rectWidget,shadowColor:"black",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowOpacity:0,duration:.2}),this.tween2.play()}},t}(Ar),Rr=function(e){function t(t,n){return e.call(this,t,n,dr.m.CardContent)||this}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t=this.getLayoutInfo();this.groupWidget=new Oi.$l({x:t.x,y:t.y}),null===e||void 0===e||e.add(this.groupWidget),this.renderChildren(this.groupWidget)},t}(Ar),Or=n("../node_modules/@tencent/xtable-render/es/base/icon/index.js"),Lr=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,dr.m.CardCover)||this).coverUrl=i,o}(0,u.Z)(t,e);var n=t.prototype;return n.paint=function(e){var t;return(0,i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o,r,s,a,l,d,c,u,h,g,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.drawImageDefault(e),i=this.getLayoutInfo(),o=i.x,r=void 0===o?0:o,s=i.y,a=void 0===s?0:s,l=i.width,d=void 0===l?0:l,c=i.height,u=void 0===c?0:c,null===(t=Dr.base.shape)||void 0===t||t.line(e,{strokeWidth:1,stroke:"rgba(0, 0, 0, 0.08)",points:[r,a+u,r+d,a+u]}),h=(0,Do._g)(this.coverUrl,i.width/(i.height+4)),g=(0,Do.UE)(this.coverUrl,h)){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,Dr.base.util.loadImage(g);case 10:f=n.sent,this.drawImage(e,f);case 12:case"end":return n.stop()}}),n,this)})))},n.drawImageDefault=function(e){var t,n,i=this.getLayoutInfo();this.imageDefaultBoard=Dr.base.board(i);var o=new Oi.UL({x:0,y:0,width:i.width,height:i.height+4,strokeWidth:.5,cornerRadius:4,fill:"#f9fafb"});this.imageDefaultBoard.add(o),null===(t=this.imageDefaultBoard)||void 0===t||t.clipFunc((function(e){e.rect(0,0,i.width,i.height)})),null===(n=Dr.base.icon)||void 0===n||n.draw(this.imageDefaultBoard,Or.Y.IMAGE_DEFAULT,{x:(i.width-36)/2,y:(i.height-36)/2,width:36,height:36}),null===e||void 0===e||e.add(this.imageDefaultBoard)},n.drawImage=function(e,t){var n;if(t){var i=this.getLayoutInfo(),o=Dr.base.board(i),r=new Oi.UL({x:0,y:0,width:i.width,height:i.height+4,strokeWidth:.5,cornerRadius:4,visible:!1}),s=r.width(),a=r.height(),l=0,d=0;t.width/t.height<=s/a?(l=s,d=s/t.width*t.height):(d=a,l=a/t.height*t.width),t.setAttribute("width",""+t.width),t.setAttribute("height",""+t.height),Li.Z.setImage(t.getAttribute("src"),t),this.fillAndFormatImageRect(o,r,t,l,d),null===o||void 0===o||o.clipFunc((function(e){e.rect(0,0,i.width,i.height)})),null===e||void 0===e||e.add(o),null===(n=this.imageDefaultBoard)||void 0===n||n.destroy()}},n.fillAndFormatImageRect=function(e,t,n,i,o){var r={x:i/n.width,y:o/n.height};t.fillPatternScale(r),t.fillPatternOffsetY(Math.ceil((o-t.height())/r.y/2)),t.fillPatternOffsetX(Math.ceil((i-t.width())/r.x/2)),t.fillPatternImage(n),e.add(t),t.show()},t}(Ar),kr=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,dr.m.Checkbox)||this).cellData=i,o}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n,i,o,r=this.getLayoutInfo(),s=this.parent,a=null===(i=null===(n=this.parent)||void 0===n?void 0:n.getParent())||void 0===i?void 0:i.getParent();null===(o=Dr.base.cell)||void 0===o||o.draw(e,r,this.cellData,{actionMark:(t={},t[ko.k4]={type:ko.KW.CHECKBOX_CHECK,hoverCursor:ko.WV.POINTER,fieldId:null===s||void 0===s?void 0:s.fieldId,recordId:null===a||void 0===a?void 0:a.recordId},t)})},t}(Ar),zr=function(e){function t(t,n,i,o,r){var s;return void 0===i&&(i=""),void 0===r&&(r=-1),(s=e.call(this,t,n,o,r)||this).collector=t,s.fieldId="",s.fieldId=i,s}return(0,u.Z)(t,e),t}(Ar),Pr=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,dr.m.Image)||this).cellData=i,o}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n=this.getLayoutInfo();null===(t=Dr.base.cell)||void 0===t||t.draw(e,n,this.cellData)},t}(Ar),Fr=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,dr.m.Progress)||this).cellData=i,o}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n=this.getLayoutInfo();null===(t=Dr.base.cell)||void 0===t||t.draw(e,n,this.cellData,{progressConfig:{size:16,showLine:!0},textConfig:{width:n.width-4,height:16,align:"right",fontSize:10,fontStyle:"normal",verticalAlign:"middle",fill:oo}})},t}(Ar),Ur=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,dr.m.Rect)||this).actionMark=i,o}(0,u.Z)(t,e);var n=t.prototype;return n.paint=function(e){var t,n=this.getLayoutInfo(),i=this.actionMark?Object.assign(Object.assign(Object.assign({},this.actionMark),n),{listening:!0}):n;this.rectWidget=null===(t=Dr.base.shape)||void 0===t?void 0:t.rect(e,i)},n.updateFillColor=function(e){var t;null===(t=this.rectWidget)||void 0===t||t.fill(e)},n.destroy=function(){e.prototype.destroy.call(this),this.rectWidget&&(this.rectWidget=null)},t}(Ar),Br=function(e){function t(t,n,i,o){var r;return(r=e.call(this,t,n,dr.m.Select)||this).cellData=i,r.config=o,r}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n=this.getLayoutInfo();null===(t=Dr.base.cell)||void 0===t||t.draw(e,n,this.cellData,this.config)},t}(Ar),Wr=function(e){function t(t,n){return e.call(this,t,n,dr.m.Text)||this}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n=this.getLayoutInfo();null===(t=Dr.base.shape)||void 0===t||t.text(e,n)},t}(Ar),Gr=function(e){function t(t,n,i,o){var r;return(r=e.call(this,t,n,dr.m.Url)||this).cellData=i,r.drawParam=o,r}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n=this.getLayoutInfo();null===(t=Dr.base.cell)||void 0===t||t.draw(e,n,this.cellData,this.drawParam)},t}(Ar),Zr=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,dr.m.User)||this).cellData=i,o}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n=this.getLayoutInfo();null===(t=Dr.base.cell)||void 0===t||t.draw(e,n,this.cellData,{textConfig:{align:"left",fontStyle:"normal",lineHeight:1.5,verticalAlign:"top"}})},t}(Ar);function Hr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Vr=new Map;[[V.f.TEXT,32],[V.f.NUMBER,Qi],[V.f.EMAIL,Qi],[V.f.PHONE,Qi],[V.f.CHECKBOX,Ji],[V.f.DATE_TIME,Qi],[V.f.CREATED_TIME,Qi],[V.f.MODIFIED_TIME,Qi],[V.f.IMAGE,$i],[V.f.URL,Qi],[V.f.MULTIPLE_SELECT,Ki],[V.f.SINGLE_SELECT,Ki],[V.f.CREATED_USER,qi],[V.f.MODIFIED_USER,qi],[V.f.PROGRESS,16],[V.f.ATTACHMENT,Ki]].forEach((function(e){var t=e[0],n=e[1];return Vr.set(t,n)}));var Qr=new Map;[[V.f.TEXT,"collectTextPainter"],[V.f.NUMBER,"collectNormalTextPainter"],[V.f.EMAIL,"collectNormalTextPainter"],[V.f.PHONE,"collectNormalTextPainter"],[V.f.CHECKBOX,"collectCheckboxPainter"],[V.f.DATE_TIME,"collectNormalTextPainter"],[V.f.CREATED_TIME,"collectNormalTextPainter"],[V.f.MODIFIED_TIME,"collectNormalTextPainter"],[V.f.IMAGE,"collectImagePainter"],[V.f.URL,"collectUrlPainter"],[V.f.MULTIPLE_SELECT,"collectSelectPainter"],[V.f.SINGLE_SELECT,"collectSelectPainter"],[V.f.CREATED_USER,"collectUserPainter"],[V.f.MODIFIED_USER,"collectUserPainter"],[V.f.PROGRESS,"collectProgressPainter"],[V.f.ATTACHMENT,"collectAttachmentPainter"]].forEach((function(e){var t=e[0],n=e[1];return Qr.set(t,n)}));var Kr=function(){function e(e){this.collector=e,this.initWidgetTree()}var t=e.prototype;return t.destroy=function(){var e;null===(e=this.rootWidget)||void 0===e||e.destroy(),this.rootWidget=null},t.getRootWidget=function(){return this.rootWidget},t.rebuild=function(){this.destroy(),this.initWidgetTree()},t.collectPainter=function(){var e,t,n=null!==(t=null===(e=this.collector)||void 0===e?void 0:e.getAllDisplayedRecordIds())&&void 0!==t?t:[];if(n.length)for(var i=this.collector.getCardConfig()||{},o=i.coverFieldId,r=void 0===o?"":o,s=i.isShowFieldTitle,a=void 0!==s&&s,l=i.isShowCover,d=void 0!==l&&l,c=this.collector.getField(r),u=this.collector.getVisibleFieldIds()||[],h=this.collector.ranger.getCardRange(),g=h.startCardIndex,f=void 0===g?0:g,m=h.endCardIndex,p=void 0===m?0:m,v=f;v<=p;v++)this.collectCardPainter({startCardIndex:f,visibleFieldIds:u,coverField:c,isShowFieldTitle:a,isShowCover:d,recordId:n[v],cardIndex:v})},t.collectCardPainter=function(e){var t=this,n=e.recordId,i=e.cardIndex,o=e.startCardIndex,r=e.visibleFieldIds,s=e.coverField,a=e.isShowFieldTitle,l=e.isShowCover,d=this.collector,c=d.size,u=d.position,h=new Nr(this.collector,this.rootWidget,n,i-o);h.updateLayoutInfo({x:u.calcCardStartX(i),y:u.calcCardStartY(i),width:c.cardWidth,height:c.cardHeight});var g=this.initCardPainter(h,l).rectContentPainter;if(l){var f=null===s||void 0===s?void 0:s.getStandardCell(n);this.collectCoverInfo(h,f)}var m=0;null===r||void 0===r||r.forEach((function(e){var i,o=t.collector.getField(e),r=null===o||void 0===o?void 0:o.getStandardCell(n),s=t.collector.isPrimaryField(e);if((null===(i=null===r||void 0===r?void 0:r.data)||void 0===i?void 0:i.length)||s){var l=new zr(t.collector,g,e);l.updateLayoutInfo({x:0,y:null!==m&&void 0!==m?m:0});var d=null===o||void 0===o?void 0:o.getType(),c=Qr.get(d);if(c){var u={field:o,isShowFieldTitle:a,isPrimaryField:s,curContentHeight:m,content:r,parent:l,contentHeight:s?20:Vr.get(d),recordId:n};m=t[c](u)}}})),this.collectCardSearchHighLight(h)},t.collectSearchHighLight=function(){var e,t=this,n=this.collector.state,i=n.getHighlightInfos(),o=n.getSearchState();if(0!==i.size||o){var r=this.getRootWidget();null===(e=null===r||void 0===r?void 0:r.getChildren())||void 0===e||e.forEach((function(e){t.collectCardSearchHighLight(e)}))}},t.collectCardSearchHighLight=function(e){var t=e.recordId,n=this.collector.state.getHighlightInfos(),i=this.collector.state.getSearchState();if(0!==n.size||i){var o=n.get(String(t)),r=e.getChildren().find((function(e){return e.getType()===dr.m.Rect}));if(r)if(o){var s={fill:Xi.Ov};r.updateLayoutInfo(s)}else r.updateLayoutInfo({fill:uo,stroke:to,strokeWidth:1})}},t.getTextLayoutInfo=function(e,t,n,i){var o=oo;return e&&(o=t?io:no),{text:e?t||R.Z.t("unname_record"):t,width:this.collector.size.cardContentWidth,height:i,x:0,y:e?0:n,fontSize:e?ro:so,fontFamily:Xi.ut,fontStyle:e?ao:lo,lineHeight:e?1.428:1.33,align:"left",verticalAlign:"top",fill:o,ellipsis:!0,wrap:"char"}},t.getPainterCard=function(e,t){var n,i=null===this||void 0===this?void 0:this.getRootWidget(),o=this.collector.ranger.getCardRange().startCardIndex,r=void 0===o?0:o;return null===(n=null===i||void 0===i?void 0:i.getChildren())||void 0===n?void 0:n[e-(null!==t&&void 0!==t?t:r)]},t.getCard=function(e,t){var n,i=this.getRootWidget(),o=this.collector.ranger.getCardRange().startCardIndex,r=void 0===o?0:o;return null===(n=null===i||void 0===i?void 0:i.getChildren())||void 0===n?void 0:n[e-(null!==t&&void 0!==t?t:r)]},t.getCardWidget=function(e){var t=this.getCard(e);return null===t||void 0===t?void 0:t.groupWidget},t.getCardAbsoluteLayout=function(e){var t=this.collector,n=t.position,i=t.size,o=t.ranger;return{x:n.calcCardStartX(e),y:n.calcCardStartY(e)-o.getOffsetY(),width:i.cardWidth,height:i.cardHeight}},t.getFieldInfo=function(e,t){var n,i,o,r,s,a=this.collector,l=a.ranger,d=a.size,c=a.position,u=l.getCardIndex(e,t),h=this.collector.getAllDisplayedRecordIds()[u],g=d.globalPaddingTop,f=l.getOffsetY(),m=null===(n=this.rootWidget)||void 0===n?void 0:n.getChildren().find((function(e){return e.recordId===h})),p=null===(i=null===m||void 0===m?void 0:m.getChildren())||void 0===i?void 0:i.find((function(e){return e.getType()===dr.m.CardContent}));if(u<0||!p)return null;for(var v,I=null!==(o=c.calcCardStartX(u))&&void 0!==o?o:[0],y=null!==(r=c.calcCardStartY(u))&&void 0!==r?r:0,_=t+f-y-g-p.getLayoutInfo().y,b=Hr(null===p||void 0===p?void 0:p.getChildren());!(v=b()).done;){var M=v.value,C=M.getChildren()[0],w=C.getLayoutInfo(),T=w.y,E=w.height,j=T+M.getLayoutInfo().y;if(!Jo()(j)&&!Jo()(E)&&this.collector.isField(j,_,E,T)){var A=(null===(s=M.getParent())||void 0===s?void 0:s.getParent()).recordId,x=this.collector.getCardIndex(A);return C.getType()===dr.m.Select?{isField:!0,type:C.getType(),recordId:A,fieldId:M.fieldId,cardIndex:x,painter:M,startX:I,startY:j+p.getLayoutInfo().y+y}:{isField:!0,type:C.getType(),recordId:A,fieldId:M.fieldId,cardIndex:x,painter:M}}}return null},t.initWidgetTree=function(){var e;this.rootWidget=new xr(this.collector);var t=this.collector.size;null===(e=this.rootWidget)||void 0===e||e.updateLayoutInfo({x:0,y:0,width:t.activityViewWidth,height:t.activityViewHeight}),this.collectPainter()},t.initCardPainter=function(e,t){var n=this.collector.size,i=new Ur(this.collector,e,null);i.updateLayoutInfo({x:0,y:0,width:n.cardWidth,height:n.cardHeight,fill:uo,stroke:to,strokeWidth:1,cornerRadius:4,shadowColor:"black",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowOpacity:0});var o=new Rr(this.collector,e);return o.updateLayoutInfo({x:12,y:(t?Vi:0)+12,width:n.cardContentWidth,height:n.cardContentHeight}),{rectPainter:i,rectContentPainter:o}},t.collectCoverInfo=function(e,t){var n,i=new Lr(this.collector,e,(null===(n=null===t||void 0===t?void 0:t.data[0])||void 0===n?void 0:n.imageUrl)||""),o=this.collector.size;i.updateLayoutInfo({x:.5,y:.5,width:o.cardWidth-1,height:Vi})},t.collectFieldTitle=function(e,t){return new Wr(this.collector,e).updateLayoutInfo({text:t.getTitle(),height:14,width:this.collector.size.cardContentWidth,x:0,y:0,fontSize:10,fontFamily:Xi.ut,fontStyle:"400",align:"left",verticalAlign:"middle",fill:co,lineHeight:1.4}),14+Yi},t.collectTextPainter=function(e){var t,n=e.parent,i=e.field,o=e.isShowFieldTitle,r=e.isPrimaryField,s=e.contentHeight,a=e.curContentHeight,l=e.content,d=new Wr(this.collector,n),c=0;o&&!r&&(c=this.collectFieldTitle(n,i));var u=null===(t=null===l||void 0===l?void 0:l.data)||void 0===t?void 0:t.reduce((function(e,t,n){return n===l.data.length-1?e+t.text:""+e+t.text+"\n"}),""),h=this.getTextLayoutInfo(r||!1,u,c,s);return d.updateLayoutInfo(h),n.updateLayoutInfo({width:this.collector.size.cardContentWidth,height:c+s}),a+c+s+(r?12:Hi)},t.collectNormalTextPainter=function(e){var t,n=e.content,i=e.parent,o=e.field,r=e.isShowFieldTitle,s=e.isPrimaryField,a=e.contentHeight,l=e.curContentHeight,d=new Wr(this.collector,i),c=0;r&&!s&&(c=this.collectFieldTitle(i,o));var u=(null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:[])[0],h=(u=void 0===u?{text:""}:u).text,g=this.getNormalTextLayoutInfo(s||!1,h,c,a);return d.updateLayoutInfo(g),i.updateLayoutInfo({width:this.collector.size.cardContentWidth,height:a+c}),l+c+a+(s?12:Hi)},t.getNormalTextLayoutInfo=function(e,t,n,i){var o=oo;e&&(o=t?io:no);var r=e?ro:so;return{width:this.collector.size.cardContentWidth,height:i,text:e?t||R.Z.t("unname_record"):t,x:0,y:n,fontSize:r,fontFamily:Xi.ut,fontStyle:e?ao:lo,align:"left",verticalAlign:"middle",fill:o,lineHeight:e?1.428:1.33}},t.collectUrlPainter=function(e){var t,n,i,o=e.parent,r=e.content,s=e.field,a=e.isShowFieldTitle,l=e.isPrimaryField,d=e.contentHeight,c=e.curContentHeight,u=e.recordId,h=l?ro:so,g=l?1.428:1.33;0===(null===(n=null===r||void 0===r?void 0:r.data)||void 0===n?void 0:n.length)&&(null===(i=null===r||void 0===r?void 0:r.data)||void 0===i||i.push({text:R.Z.t("unname_record")}));var f={urlConfig:{fullWidth:!0},textConfig:{fontSize:h,lineHeight:g},actionMark:(t={},t[ko.k4]={type:ko.KW.OPEN_URL,hoverCursor:ko.WV.POINTER,fieldId:s.getId(),recordId:u},t)},m=new Gr(this.collector,o,r,f),p=0;a&&!l&&(p=this.collectFieldTitle(o,s));var v=this.collector.size;return m.updateLayoutInfo({width:v.cardContentWidth,height:d,x:0,y:p}),o.updateLayoutInfo({width:v.cardContentWidth,height:d+p}),c+p+d+(l?12:Hi)},t.collectCheckboxPainter=function(e){var t=e.parent,n=e.content,i=e.field,o=e.isShowFieldTitle,r=e.contentHeight,s=e.curContentHeight,a=0;o&&(a=this.collectFieldTitle(t,i)),new kr(this.collector,t,n).updateLayoutInfo({x:0,y:a,width:16,height:Ji});var l=this.collector.size;return o||new Wr(this.collector,t).updateLayoutInfo({text:i.getTitle(),height:Ji,width:l.cardContentWidth-22,x:22,y:0,fontSize:so,fontFamily:Xi.ut,fontStyle:lo,align:"left",verticalAlign:"middle",fill:oo}),t.updateLayoutInfo({width:l.cardContentWidth,height:r+a}),s+a+r+Hi},t.collectSelectPainter=function(e){var t=e.parent,n=e.content,i=e.field,o=e.isShowFieldTitle,r=e.contentHeight,s=e.curContentHeight,a=this.collector.size,l={selectConfig:{height:Xi.PG}},d=new Br(this.collector,t,n,l),c=0;o&&(c=this.collectFieldTitle(t,i));var u={x:-1,y:c-1,width:a.cardContentWidth,height:r};return d.updateLayoutInfo(Object.assign({},u)),t.updateLayoutInfo({width:a.cardContentWidth,height:r+c}),s+c+r+Hi},t.collectAttachmentPainter=function(e){var t=e.parent,n=e.content,i=e.field,o=e.isShowFieldTitle,r=e.contentHeight,s=e.curContentHeight,a=0;o&&(a=this.collectFieldTitle(t,i));var l=this.collector.size,d={x:-1,y:a-1,width:l.cardContentWidth,height:r};return new Sr(this.collector,t,n).updateLayoutInfo(Object.assign({},d)),t.updateLayoutInfo({width:l.cardContentWidth,height:r+a}),s+a+r+Hi},t.collectImagePainter=function(e){return this.collectCommonPainter(e,new Pr(this.collector,e.parent,e.content))},t.collectUserPainter=function(e){return this.collectCommonPainter(e,new Zr(this.collector,e.parent,e.content))},t.collectProgressPainter=function(e){return this.collectCommonPainter(e,new Fr(this.collector,e.parent,e.content))},t.collectCommonPainter=function(e,t){var n=e.parent,i=e.field,o=e.isShowFieldTitle,r=e.contentHeight,s=e.curContentHeight,a=0;o&&(a=this.collectFieldTitle(n,i));var l=this.collector.size;return t.updateLayoutInfo({x:0,y:a,height:r,width:l.cardContentWidth}),n.updateLayoutInfo({width:l.cardContentWidth,height:r+a}),s+a+r+Hi},e}(),Xr=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).renderForce=function(){var e,n,i;null===(e=t.collector)||void 0===e||e.update(),t.widgetTree.rebuild(),null===(n=t.board)||void 0===n||n.drawForce(),null===(i=t.feature)||void 0===i||i.updated()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e;this.board=new Oo(this.view,this.collector),this.widgetTree=new Kr(this.collector),this.feature=new((null===(e=this.collector)||void 0===e?void 0:e.isMobile())?Cr:vr)(this.collector,this.view,this.context)},n.renderInit=function(){var e,t;null===(e=this.board)||void 0===e||e.drawInit(),null===(t=this.feature)||void 0===t||t.updated()},n.destroy=function(){var e,t;null===(e=this.board)||void 0===e||e.destroy(),null===(t=this.feature)||void 0===t||t.destroy(),this.widgetTree.destroy()},n.scrollToX=function(e){return e},n.scrollToY=function(e){var t;null===(t=this.board)||void 0===t||t.scrollToY(e)},t}(Tr),Jr=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=new No(t),n.renderer=new Xr(t,(0,Jn.Z)(n),n.collector),n.collector.isMobile()?n.touchOperator=new Ni((0,Jn.Z)(n),{easeX:.8,easeY:1}):n.mouseOperator=new Si((0,Jn.Z)(n)),n}(0,u.Z)(t,e);var n=t.prototype;return n.getType=function(){return v.bW.GALLERY},n.getRenderer=function(){return this.renderer},n.getCollector=function(){return this.collector},n.getScrollOffset=function(){return{x:0,y:0}},n.destroy=function(){var t,n,i,o;e.prototype.destroy.call(this),null===(t=this.renderer)||void 0===t||t.destroy(),null===(n=this.collector)||void 0===n||n.destroy(),null===(i=this.mouseOperator)||void 0===i||i.destroy(),null===(o=this.touchOperator)||void 0===o||o.destroy()},t}(ki),qr=(n("../node_modules/core-js/modules/es.regexp.to-string.js"),n("../node_modules/lodash/debounce.js")),$r=n.n(qr),es=function(e){function t(){var n;return(n=e.apply(this,arguments)||this).asyncTaskList=new Map,n.callbackThresholdCount=t.defaultCallbackThresholdCount,n.taskExecuteCount=0,n.taskFinishCallback=null,n.registerTaskFinishCallback=function(e){n.taskFinishCallback=e},n.afterEachTaskFinish=function(){n.taskExecuteCount+=1,(0===n.asyncTaskList.size||n.taskExecuteCount>n.callbackThresholdCount)&&(n.taskExecuteCount=0,n.taskFinishCallback&&n.taskFinishCallback())},n}(0,u.Z)(t,e);var n=t.prototype;return n.dispose=function(){this.clearTask(),this.taskFinishCallback=null},n.setCallbackThresholdCount=function(e){void 0===e&&(e=t.defaultCallbackThresholdCount),this.callbackThresholdCount=e},n.addTask=function(e,t){var n=this,i=this.asyncTaskList.get(e);i!==t&&(null===i||void 0===i||i.abort(),this.asyncTaskList.set(e,t),t.promise.then((function(){n.asyncTaskList.delete(e),n.afterEachTaskFinish()})).catch((function(e){o.k.info("[common][async-task-manager]发生错误，退出 nonblocking 迭代器: "+e.message)})))},n.clearTask=function(){this.asyncTaskList.forEach((function(e){return e.abort()})),this.asyncTaskList.clear()},t}(f.JT);es.defaultCallbackThresholdCount=1;var ts=n("../node_modules/@tencent/xtable-core/es/model/view/manager/computer/stat-helper/index.interface.js"),ns=n("../node_modules/@tencent/xtable-render/es/views/group/collector/layout.js"),is=function(){function e(e){this.collector=e,this.xAxis=new Map,this.yAxis=new Map}var t=e.prototype;return t.destroy=function(){this.reset()},t.reset=function(){this.xAxis.clear(),this.yAxis.clear()},t.getXCount=function(){return this.xAxis.size},t.getYCount=function(){return this.yAxis.size},t.setX=function(e,t){this.xAxis.set(e,t)},t.x=function(e){return"number"===typeof e&&(e=this.collector.getRenderFieldIds()[e]),this.xAxis.get(e)||0},t.getXAxis=function(){return this.xAxis},t.setY=function(e,t){this.yAxis.set(e,t)},t.y=function(e){return this.yAxis.get(e)||0},t.getYAxis=function(){return this.yAxis},t.flushFieldX=function(){},t.flushLayoutY=function(){var e=this,t=this.collector,n=t.layout,i=t.size;i.updateActivityHeight(0),this.yAxis.clear(),n.getLayouts().forEach((function(t,o){var r=n.isHiddenLayout(t.parent)?0:n.getLayoutSize(t.type);e.yAxis.set(o,i.activityHeight),i.updateActivityHeight(r,!0)}))},e}(),os=n("../node_modules/@tencent/xtable-render/es/views/group/constants/keys.js");function rs(e,t,n,i){var o=[],r=[],s=t[n],a=t[i],l=e[n],d=e[i];return s!==l&&a!==d&&s>l&&a>d||s===l&&a!==d&&a>d||s!==l&&a===d&&s>l?(o=bo(l,s),r=Mo(d,a)):(o=Mo(a,d),r=bo(s,l)),{decreaseds:o,increaseds:r}}var ss,as=function(){function e(e){this.collector=e,this.enableDeltaMode=!0,this.offsetX=0,this.offsetY=0,this.startFieldIndex=0,this.endFieldIndex=0,this.startLayoutIndex=0,this.endLayoutIndex=0,this.reset()}var t=e.prototype;return t.destroy=function(){},t.reset=function(){this.offsetX=0,this.offsetY=0;var e=this.collector.getViewStorage(os.VN);if(null===e||void 0===e?void 0:e.offset){var t=e.offset,n=t.offsetX,i=t.offsetY;return this.offsetX=Math.max(0,n),this.offsetY=Math.max(0,i),void this.update()}this.initFirstContentRange()},t.getOffset=function(){return{offsetX:this.offsetX,offsetY:this.offsetY}},t.getRange=function(){return{startFieldIndex:this.startFieldIndex,endFieldIndex:this.endFieldIndex,startLayoutIndex:this.startLayoutIndex,endLayoutIndex:this.endLayoutIndex}},t.getRangeFields=function(){var e=this.collector.getRenderFieldIds();return Mo(this.startFieldIndex-1,this.endFieldIndex).map((function(t){return e[t]}))},t.getRangeLayouts=function(){return Mo(this.startLayoutIndex-1,this.endLayoutIndex)},t.hasRangeChange=function(e){var t=this.getRange();return t.startFieldIndex!==e.startFieldIndex||t.endFieldIndex!==e.endFieldIndex||t.startLayoutIndex!==e.startLayoutIndex||t.endLayoutIndex!==e.endLayoutIndex},t.getRangeChange=function(e){var t=this.getRange(),n=rs(e,t,"startFieldIndex","endFieldIndex"),i=n.decreaseds,o=n.increaseds,r=rs(e,t,"startLayoutIndex","endLayoutIndex"),s=r.decreaseds,a=r.increaseds,l=this.collector.getRenderFieldIds();return{decreasedFields:i.map((function(e){return l[e]})),increasedFields:o.map((function(e){return l[e]})),decreasedLayouts:s,increasedLayouts:a}},t.update=function(){this.enableDeltaMode&&(this.offsetX>this.getMaxOffsetX()&&(this.offsetX=Math.max(0,this.getMaxOffsetX())),this.offsetY>this.getMaxOffsetY()&&(this.offsetY=Math.max(0,this.getMaxOffsetY())),this.calcNewRange())},t.calcWithDelta=function(e,t){this.offsetX+=e,this.offsetY+=t,this.calcNewRange()},t.getOffsetOvers=function(e,t,n,i){for(var o=t,r=n,s=0,a=0,l=this.collector,d=l.position,c=l.size,u=0!==t?c.frozenWidth:0;o<=r;){if(s=o+Math.floor((r-o)/2),(a=i?d.x(s)-u:d.y(s))===e)return s;a<e?o=s+1:a>e&&(r=s-1)}return o>0?o-1:0},t.getMaxOffsetX=function(){return this.collector.size.activityScrollWidth-this.collector.size.activityViewWidth},t.getMaxOffsetY=function(){return this.collector.size.activityScrollHeight-this.collector.size.activityViewHeight},t.calcNewRange=function(){if(this.enableDeltaMode){var e=this.collector.position,t=this.collector.getFrozenFieldCount(),n=e.getXCount()-1,i=e.getYCount()-1,o=this.getOffsetOvers(this.offsetX,t,n,!0),r=this.getOffsetOvers(this.offsetY,0,i,!1);this.calcFieldRange(o),this.calcLayoutRange(r)}},t.calcFieldRange=function(e){for(var t=this.collector,n=t.size,i=t.position,o=this.getMaxFieldEndIndex(),r=this.collector.getRenderFieldIds(),s=e;s<o;){var a=this.collector.getFieldWidth(r[s]);if(i.x(s)+a-this.offsetX>n.activityViewWidth+n.activityStartX)break;s+=1}this.startFieldIndex=e,this.endFieldIndex=Math.min(o,s)},t.calcLayoutRange=function(e){for(var t=this.collector,n=t.size,i=t.position,o=this.getMaxLayoutEndIndex(),r=e+1;r<o&&!(i.y(r)-this.offsetY>n.activityViewHeight+n.activityStartY);)r+=1;this.startLayoutIndex=e,this.endLayoutIndex=Math.min(o,r)},t.getMaxFieldEndIndex=function(){return this.collector.position.getXCount()-1},t.getMaxLayoutEndIndex=function(){return this.collector.position.getYCount()-1},t.initFirstContentRange=function(){this.startLayoutIndex=0,this.startFieldIndex=this.collector.getFrozenFieldCount(),this.enableDeltaMode?(this.calcFieldRange(this.startFieldIndex),this.calcLayoutRange(this.startLayoutIndex)):(this.endFieldIndex=this.getMaxFieldEndIndex(),this.endLayoutIndex=this.getMaxLayoutEndIndex())},e}(),ls=n("../node_modules/@tencent/xtable-render/es/views/group/constants/style.js"),ds=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=t,n.fieldHeight=n.collector.isGantt()?72:ls.UB,n.fieldPaddingTop=n.collector.isGantt()?44:7,n.spacingHeight=ls.zB,n.levelIndent=ls.dI,n.globalPaddingTop=ls.e5,n.globalPaddingLeft=ls.V5,n.globalPaddingRight=n.collector.isGantt()?0:ls.A9,n.globalPaddingBottom=ls.vY,n.operatorFieldWidth=ls.wS,n.additionFieldWidth=n.collector.isGantt()?0:ls.fo,n.frozenWidth=0,n.activityWidth=0,n.activityHeight=0,n.outerWidth=0,n}(0,u.Z)(t,e);var n=t.prototype;return n.destroy=function(){},n.reset=function(){this.frozenWidth=0,this.activityWidth=0,this.activityHeight=0},n.updateOperatorFieldWidth=function(e){this.operatorFieldWidth=ls.wS+Math.max(0,e*this.levelIndent)},n.updateFrozeWidth=function(e,t){void 0===t&&(t=!1),t?this.frozenWidth+=e:this.frozenWidth=e},n.updateActivityWidth=function(e,t){void 0===t&&(t=!1),t?this.activityWidth+=e:this.activityWidth=e},n.updateActivityHeight=function(e,t){void 0===t&&(t=!1),t?this.activityHeight+=e:this.activityHeight=e},n.updateOuterWidth=function(e){var t=0;if(this.collector.isGantt()){var n=this.activityWidth+this.frozenWidth+this.globalPaddingLeft;t=Math.min(e,n)}else t=Math.min(this.collector.getContextRoot().offsetWidth,e);t=Math.max(t,0),this.outerWidth=t},n.getPreviewTplRect=function(){var e,t=this.getTableDescRect(),n=this.globalPaddingLeft,i=(null!==(e=null===t||void 0===t?void 0:t.y)&&void 0!==e?e:0)+this.globalPaddingTop,o=this.getPreviewTplHeight(t);return{x:n,y:i,width:this.getPreviewTplWidth(),height:o}},n.getPreviewTplWidth=function(){var e=this;if(this.collector.isGantt())return this.getGanttPreviewWidth();var t=this.collector.position,n=this.activityScrollHeight>this.activityStartY+this.activityViewHeight,i=Array.from(t.getXAxis()),o=i.findIndex((function(t){return t[1]>e.activityViewWidth+e.activityStartX-(n?Xi.RG:0)}));return o<0?o=i.length-1:o-=1,i[o][1]},n.getPreviewTplHeight=function(e){var t,n,i,o=this,r=this.collector.position,s=this.activityScrollWidth>this.activityStartX+this.activityViewWidth,a=Array.from(r.getYAxis()),l=a.findIndex((function(e){return e[1]>o.activityViewHeight+o.activityStartY-(s?Xi.RG:0)-o.fieldHeight-o.globalPaddingTop}));l<0?l=a.length-1:l-=1;var d=null===(t=this.collector.layout.getLayout(l))||void 0===t?void 0:t.type,c=null!==(n=this.collector.layout.getLayoutSize(d))&&void 0!==n?n:0;return this.fieldHeight+a[l][1]+(null!==(i=null===e||void 0===e?void 0:e.height)&&void 0!==i?i:0)+c},n.getGanttPreviewWidth=function(){var e;return(null===(e=this.collector.getContextRoot().getBoundingClientRect())||void 0===e?void 0:e.width)-2*this.globalPaddingLeft},(0,mi.Z)(t,[{key:"defaultOuterWidth",get:function(){var e=this.collector.isGantt()?.4:1;return Math.round(this.collector.getContextRoot().offsetWidth*e)}},{key:"frozenStartX",get:function(){return this.globalPaddingLeft}},{key:"activityStartX",get:function(){return this.globalPaddingLeft+this.frozenWidth}},{key:"activityStartY",get:function(){return this.globalPaddingTop+this.fieldHeight}},{key:"activityScrollWidth",get:function(){return this.activityWidth+this.globalPaddingRight}},{key:"activityScrollHeight",get:function(){return this.activityHeight+this.globalPaddingBottom}},{key:"edgeWidth",get:function(){var e=this.activityScrollWidth-this.activityViewWidth;return e>0&&e<this.globalPaddingRight?this.globalPaddingRight-e:0}},{key:"activityViewWidth",get:function(){return this.outerWidth-this.activityStartX}},{key:"activityViewHeight",get:function(){return this.collector.getContextRoot().offsetHeight-this.activityStartY}},{key:"blankRight",get:function(){return this.additionFieldWidth+this.globalPaddingRight}},{key:"blankWidth",get:function(){var e=this.activityScrollWidth-this.collector.ranger.getOffset().offsetX-this.activityViewWidth;return Math.max(0,this.blankRight-e)}},{key:"sightWidth",get:function(){var e=this.activityScrollWidth>this.activityViewWidth,t=this.collector.isMobile()&&!e?Math.max(this.activityWidth,this.activityViewWidth):Math.min(this.activityWidth,this.activityViewWidth);return this.globalPaddingLeft+this.frozenWidth+t}},{key:"globalWidth",get:function(){return this.globalPaddingLeft+this.frozenWidth+this.activityWidth+this.additionFieldWidth+this.globalPaddingRight}},{key:"globalHeight",get:function(){return this.globalPaddingTop+this.fieldHeight+this.activityHeight+this.globalPaddingBottom}}]),t}(wo),cs=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=t,n.searchHighLightInfos={selectedCell:{recordId:"",fieldId:""},highlightInfos:new Map},n.bootstrap(),n}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.syncLocalStorage()},n.destroy=function(){this.clearSearchHighlight()},n.syncLocalStorage=function(){var e=this.collector.getViewStorage(os.kZ);e&&this.setFolds(e)},n.clearSearchHighlight=function(){var e,t;null===(t=null===(e=this.searchHighLightInfos)||void 0===e?void 0:e.highlightInfos)||void 0===t||t.clear(),this.searchHighLightInfos.selectedCell={recordId:"",fieldId:""}},n.isSelectAll=function(){var e=this.collector,t=e.getRangeModel().getCurrentSelection();if(!t.isRowSelection())return!1;var n=e.getRecordCount();return t.isRangeInSelection({startRow:0,endRow:n-1})},n.isSelectRecord=function(e){var t=this.collector,n=t.getRecordIndex(e);if(n<0)return!1;var i=t.getRangeModel().getCurrentSelection();return!!i.isRowSelection()&&i.isRangeInSelection({startRow:n,endRow:n})},n.isSelectedField=function(e){var t=this.collector,n=t.getFieldIndex(e);if(n<0)return!1;var i=t.getRangeModel().getCurrentSelection();return!!i.isColumnSelection()&&i.isRangeInSelection({startColumn:n,endColumn:n})},n.addSelectRecord=function(e){var t=this.collector,n=t.getRecordIndex(e);n<0||t.getRangeModel().selectRow({startRow:n,endRow:n})},n.removeSelectRecord=function(e){var t=this.collector,n=t.getRecordIndex(e);n<0||t.getRangeModel().unselectRow({startRow:n,endRow:n})},n.setAllSelect=function(){var e=this.collector,t=e.getRecordCount();e.getRangeModel().selectRow({startRow:0,endRow:t-1})},n.removeAllSelect=function(){this.collector.getRangeModel().resetSelection()},n.getHighlightInfos=function(){return this.searchHighLightInfos.highlightInfos},n.setHighlightInfos=function(e){var t=this.searchHighLightInfos.highlightInfos.get(""+e.recordId);t||(t=new Map,this.searchHighLightInfos.highlightInfos.set(""+e.recordId,t)),t.set(""+e.fieldId,e)},n.getSearchSelectedCell=function(){var e;return null===(e=this.searchHighLightInfos)||void 0===e?void 0:e.selectedCell},n.setSearchSelectedCell=function(e,t){this.searchHighLightInfos.selectedCell={recordId:e,fieldId:t}},t}(jo),us=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625],hs=[V.f.CHECKBOX,V.f.PROGRESS,V.f.CREATED_TIME,V.f.MODIFIED_TIME],gs=function(){function e(){this.useCanvas=!0,this.widthCache=new Map}var t=e.prototype;return t.reset=function(){this.widthCache.clear()},t.destroy=function(){this.widthCache.clear()},t.getWidth=function(e,t){if(this.widthCache.has(e))return this.widthCache.get(e);var n=this.getAdjustFieldWidth(e,t);return this.widthCache.set(e,n),n},t.getAdjustFieldWidth=function(e,t){var n,i=this.getMaxWidth(),o=(null===(n=t.getField(e))||void 0===n?void 0:n.getTitle())||"",r=this.measureTextWidth(o,ls.Cg,ls.As)+3*ls.Wj+Xi._u;if(r>i)return i;var s=this.calcWidthIterator(i,e,t),a=Math.min(i,Math.max(r,s));return Math.round(a)},t.calcWidthIterator=function(e,t,n){for(var i=n.getField(t).getType(),o=hs.includes(i),r=0,s=n.getAllRecordIds(),a=0;a<s.length;a++){var l=s[a],d=n.getCell(t,l);if(d){var c=this.getCellWidth(d)+this.getIndentWidth(t,n);if(c>r&&(r=c),o||r>=e)break}}return r},t.getCellWidth=function(e){return Lo.u.cell.measureWidth(e)+2.5*ls.pK},t.measureTextWidth=function(e,t,n){return void 0===t&&(t=Xi.Kt),void 0===n&&(n="normal"),this.useCanvas?Lo.u.util.measureWidth(e,t,n):this.measureWidthByAscii(e,t)},t.measureWidthByAscii=function(e,t){return void 0===t&&(t=Xi.Kt),Array.from(e).reduce((function(e,t){var n;return e+(null!==(n=us[t.charCodeAt(0)])&&void 0!==n?n:.5279276315789471)}),0)*t},t.getIndentWidth=function(e,t){var n=t.getAllFieldIds(),i=n.indexOf(e);return 0===i||i===n.length-1?t.size.levelIndent:0},t.getMaxWidth=function(){var e=ei().isIPad||this.isHorizontal()?1/3:2/3;return Math.round(this.getScreenWidth()*e)},t.getScreenWidth=function(){return n.g.screen.width},t.isHorizontal=function(){return 90===n.g.orientation||-90===n.g.orientation},e}(),fs=function(e){function t(t){var n;return(n=e.call(this,t)||this).asyncTaskManager=new es,n.asyncTaskManager.registerTaskFinishCallback($r()((function(){return n.context.getRenderer().rerender()}),zi.sK)),n}(0,u.Z)(t,e);var n=t.prototype;return n.destroy=function(){this.size.destroy(),this.layout.destroy(),this.position.destroy(),this.state.destroy(),this.ranger.destroy(),this.asyncTaskManager.dispose(),this.isMobile()&&this.fieldWidthAdjuster.destroy()},n.reset=function(){this.size.reset(),this.layout.reset(),this.position.reset(),this.collect(),this.ranger.reset(),this.getRangeModel().resetSelection(ri.lZ.SWITCH_SHEET)},n.update=function(){this.isMobile()&&this.fieldWidthAdjuster.reset(),this.size.reset(),this.layout.reset(),this.position.reset(),Di.markCollectUpdateStart(),this.collect(),Di.markCollectUpdateEnd()},n.getFieldX=function(e){var t=this.ranger.getOffset().offsetX,n=this.getFrozenFields().includes(e);return this.size.globalPaddingLeft+this.position.x(e)-(n?0:t)},n.getLayoutY=function(e){var t=this.ranger.getOffset().offsetY;return this.position.y(e)+this.size.fieldHeight+this.size.globalPaddingTop-t},n.getRecordY=function(e){var t=this.layout.getLayoutIndexByRecordId(e);return this.getLayoutY(t)},n.getRecordHeight=function(){return this.layout.getLayoutSize(ns.yP.RECORD)},n.getFieldWidth=function(e){var t;return e===os.MB?this.size.operatorFieldWidth:e===os.wv?this.size.additionFieldWidth:this.isMobile()?this.fieldWidthAdjuster.getWidth(e,this):(null===(t=this.getView())||void 0===t?void 0:t.getColumnWidth(e,te._E.COLUMN_DEFAULT_WIDTH))||0},n.getRecordCount=function(){return this.getAllRecordIds().length},n.getRecordIndex=function(e){var t;return null!==(t=this.getAllRecordIds().indexOf(e))&&void 0!==t?t:-1},n.getFieldIndex=function(e){var t;return null!==(t=this.getAllFieldIds().indexOf(e))&&void 0!==t?t:-1},n.getAllRecordIds=function(){var e,t;return null!==(t=null===(e=this.getView())||void 0===e?void 0:e.getDisplayedRecordIds())&&void 0!==t?t:[]},n.getAllFieldIds=function(){var e,t;return null!==(t=null===(e=this.getView())||void 0===e?void 0:e.getVisibleFieldIds())&&void 0!==t?t:[]},n.getFullFieldIds=function(){var e,t;return null!==(t=null===(e=this.getView())||void 0===e?void 0:e.getAllFieldIds())&&void 0!==t?t:[]},n.getRenderFieldIds=function(){var e=this.getAllFieldIds();return e.unshift(os.MB),this.isMobile()||this.isGantt()||e.push(os.wv),e},n.getFrozenFields=function(){return this.getRenderFieldIds().slice(0,this.getFrozenFieldCount())},n.getFrozenFieldCount=function(){var e;return 1+(this.isMobile()?0:(null===(e=this.getView())||void 0===e?void 0:e.getFrozenFieldCount())||0)},n.getRecordHeightLevel=function(){var e;return(null===(e=this.getView())||void 0===e?void 0:e.getRowHeightLevel())||Ot.K.Short},n.getGroupFlatten=function(){var e;return(null===(e=this.getView())||void 0===e?void 0:e.getGroupLayoutInfos())||[]},n.getGroupTree=function(){var e;return(null===(e=this.getView())||void 0===e?void 0:e.getFormattedTree())||[]},n.getFieldStatResult=function(e,t){var n,i=null===(n=this.getView())||void 0===n?void 0:n.getFieldStatResults(e,t);if(i){if(i.resultType===ts.W.ASYNC){var o=e+"-"+t.toString();this.asyncTaskManager.addTask(o,i.value)}return i}},n.getGroupPathByRecordVisibleIndex=function(e){var t;return(null===(t=this.getView())||void 0===t?void 0:t.getGroupPathByRecordVisibleIndex(e))||[]},n.getGroupRecordIdsByPath=function(e){var t;return(null===(t=this.getView())||void 0===t?void 0:t.getGroupRecordIdsByPath(e))||[]},n.getGanttConfig=function(){var e,t;return null===(t=null===(e=this.getView())||void 0===e?void 0:e.getProperties())||void 0===t?void 0:t.ganttConfig},n.getOldDisplayedRecordIds=function(){var e;return(null===(e=this.getView())||void 0===e?void 0:e.getOldDisplayedRecordIds())||[]},n.getVisibleFieldIfCurHidden=function(e){var t=this.getView();if(!t)return"";for(var n=e;n&&t.isFieldHidden(n);){var i=t.getFieldIndex(n)+1;n=null===t||void 0===t?void 0:t.getAllFieldIds()[i]}return n},n.getRangeModel=function(){return this.context.rangeModel},n.getFloatState=function(){return this.context.floatState},n.getMaxGroupLevel=function(){var e;return((null===(e=this.getView())||void 0===e?void 0:e.getGroupFields().length)||0)-1},n.hasGroup=function(){return-1!==this.getMaxGroupLevel()},n.needGroupIndent=function(){return this.getMaxGroupLevel()>=1},n.isBottomGroup=function(e){return!this.hasGroup()||this.getMaxGroupLevel()===e},n.isEmpty=function(){return 0===this.getAllRecordIds().length},n.isOperatorField=function(e){return e===os.MB},n.isAdditionField=function(e){return e===os.wv},n.isShowStat=function(){var e;return this.getRecordCount()>0&&!!(null===(e=this.getView())||void 0===e?void 0:e.isFieldStatEnabled())},n.isGantt=function(){var e;return(null===(e=this.context.getCurrentView())||void 0===e?void 0:e.type)===v.bW.GANTT},n.getView=function(){var e=this.context.getCurrentView(),t=null===e||void 0===e?void 0:e.type;if(t==v.bW.GRID||t===v.bW.GANTT)return e},n.bootstrap=function(){this.isMobile()&&(this.fieldWidthAdjuster=new gs),this.size=new ds(this),this.layout=new ns.ZP(this),this.position=new is(this),this.state=new cs(this),o.k.time("@render-pref collect init"),Di.markCollectInitStart(),this.collect(),Di.markCollectInitEnd(),o.k.timeEnd("@render-pref collect init"),this.ranger=new as(this)},n.collect=function(){this.collectOperatorWidth(),this.collectLayouts(),this.collectFields(),this.setOuterWidth()},n.collectFields=function(){var e=this,t=this.getRenderFieldIds();t.forEach((function(n,i){var o=e.getFieldWidth(n);e.layout.collectFieldUnit(n,i,t.length);var r=e.size.frozenWidth+e.size.activityWidth;e.position.setX(n,r),i<e.getFrozenFieldCount()?e.size.updateFrozeWidth(o,!0):e.size.updateActivityWidth(o,!0)}))},n.collectLayouts=function(){this.layout.collectLayouts()},n.collectOperatorWidth=function(){var e=this.isMobile()?0:this.getMaxGroupLevel();this.size.updateOperatorFieldWidth(e)},n.setOuterWidth=function(){if(this.isGantt()&&this.isMobile())this.size.updateOuterWidth(0);else{var e=this.getViewStorage(os.ol),t=null!==e&&void 0!==e?e:this.size.defaultOuterWidth;this.size.updateOuterWidth(t)}},t}(xo),ms=(n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/@tencent/xtable-render/es/report/render.service.js")),ps=n("../node_modules/@tencent/xtable-render/es/views/group/renderer/features/base.js"),vs=n("../node_modules/@tencent/xtable-render/es/views/group/renderer/features/common/collaborator/event.js"),Is=n("../node_modules/@tencent/xtable-render/es/views/group/utils/get-rect.js"),ys=5,_s=12,bs=20,Ms=2,Cs="#fff",ws=5e3;!function(e){e.BOX="BOX",e.TIP="TIP",e.TEXT="TEXT"}(ss||(ss={}));var Ts="USER_ID_KEY",Es=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).board=Lo.u.board(),t.listeners=[],t.userIds=new Map,t.userNames=new Map,t.cursors=new Map,t.autoHideTimers=new Map,t.onCollabCursorAdded=function(e){t.addCursor(e),e.isEditing?ms.F.showCollaboratorEdit():ms.F.showCollaboratorSelect()},t.onCollabCursorRemoved=function(e){t.removeCursor(e)},t.onActivePointChanged=function(e){var n=e.activePoint;n&&t.showTipOnActive(n.column,n.row)},t.onScroll=function(e){t.updatePosition(e.x,e.y)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.listeners.push(vs.e.onCollabCursorAddedEmitter.event(this.onCollabCursorAdded)),this.listeners.push(vs.e.onCollabCursorRemovedEmitter.event(this.onCollabCursorRemoved)),this.listeners.push(this.canvas.context.onActivePointChanged(this.onActivePointChanged)),this.canvas.getLayer().add(this.board)},n.destroy=function(){this.board.destroy(),this.userIds.clear(),this.cursors.clear(),this.userNames.clear(),this.listeners.forEach((function(e){return e.dispose()})),this.toDeactivated()},n.addActivedEvents=function(){this.scrollDisposable=this.emitter.global.scroll.event(this.onScroll)},n.removeActivedEvents=function(){var e;null===(e=this.scrollDisposable)||void 0===e||e.dispose()},n.updated=function(){var e=this;this.cursors.size?this.cursors.forEach((function(t,n){var i=n.split("-"),o=i[0],r=i[1],s=(0,Is.a)(o,r,e.collector);if(!s)return t.destroy(),e.cursors.delete(n),void e.userIds.forEach((function(t,i){t===n&&(e.userIds.delete(i),e.userNames.delete(i))}));t.visible(!e.collector.layout.isHiddenRecord(r)),e.updateSizeAndPosition(t,s,o,r)})):this.toDeactivated()},n.add=function(e){this.addCursor(e)},n.remove=function(e){this.removeCursor(e)},n.updateSizeAndPosition=function(e,t,n,i){var o=e.findOne("."+ss.BOX),r=e.findOne("."+ss.TIP),s=e.findOne("."+ss.TEXT),a=s.text(),l=this.getTipRectWidth(a);this.updateCursorSize(e,a,n);var d=this.getRects(t,l,n,i),c=d[0],u=d[1],h=d[2],g=d[3];s.x(c.x),s.y(c.y),s.width(c.width),s.height(c.height),r.x(u.x),r.y(u.y),r.width(u.width),r.height(u.height),o.x(h.x),o.y(h.y),o.width(h.width),o.height(h.height),e.x(g.x),e.y(g.y),e.width(g.width),e.height(g.height),this.checkClip(e,n)},n.addCursor=function(e){var t=e.cell,n=t.tableId,i=t.fieldId,o=t.recordId,r=e.userInfo,s=r.userId,a=r.name;if(i&&o){var l=i+"-"+o,d=(0,Is.a)(i,o,this.collector);if(d&&this.collector.getTableId()===n)if(this.userIds.set(s,l),this.userNames.set(s,a),this.cursors.has(l))this.addCollaboratorInCursor(this.cursors.get(l),e);else{var c=this.paint(e,d);c.visible(!this.collector.layout.isHiddenRecord(o)),this.cursors.set(l,c),this.toActived()}}},n.removeCursor=function(e){var t=this.userIds.get(e);if(t){var n=this.cursors.get(t);if(n){var i=n.getAttr(Ts)||[];if(1===i.length)n.destroy(),this.cursors.delete(t);else{var o=i.indexOf(e),r=t.split("-")[0];o>-1&&(i.splice(o,1),this.updateCursorTip(n,"",i,!1,r))}this.userIds.delete(e),this.userNames.delete(e),this.cursors.size||this.toDeactivated()}}},n.addCollaboratorInCursor=function(e,t){var n=t.isEditing,i=t.cell,o=t.userInfo,r=o.name,s=o.userId,a=e.getAttr(Ts)||[];a.includes(s)||a.push(s),e.setAttr(Ts,a),this.updateCursorTip(e,r,a,n,i.fieldId)},n.updateCursorTip=function(e,t,n,i,o){var r=this,s=n.map((function(e){return r.userNames.get(e)||""})),a="";a=i?this.getTipContent(t,i):s.slice(0,2).join("、")+(s.length>2?R.Z.t("collaborator_etc",{userCount:s.length}):""),this.updateCursorSize(e,a,o,!0)},n.updateCursorSize=function(e,t,n,i){var o=this;void 0===i&&(i=!1);var r=this.getTipRectWidth(t),s=Math.max(e.width(),r),a=this.isAlignLeft(n),l=a?0:s-e.width();e.x(e.x()-l),e.width(s);var d=a?0:this.getTipRectX(e.width(),r);e.getChildren().forEach((function(e){switch(e.getAttr("name")){case ss.BOX:e.x(e.x()+l);break;case ss.TIP:e.x(d),e.width(r);break;case ss.TEXT:e.setText(t),e.x(o.getTipTextX(d)),e.width(o.getTipTextWidth(r))}})),i&&this.showCursorTip(e),this.checkClip(e,n)},n.getRects=function(e,t,n,i){var o=Math.max(e.width,t),r=o-e.width,s={x:e.x-r,y:e.y-bs,width:o,height:e.height+bs},a={x:r,y:bs,width:e.width,height:e.height},l={x:this.getTipRectX(s.width,t),y:0,width:t,height:bs},d={x:this.getTipTextX(l.x),y:0,width:this.getTipTextWidth(t),height:bs};return this.isAlignBottom(i)&&(s.y=e.y,a.y=0,l.y=e.height,d.y=l.y),this.isAlignLeft(n)&&(s.x=e.x,a.x=Ms/2,l.x=0,d.x=ys),[d,l,a,s]},n.isAlignBottom=function(e){var t=this.collector.isMobile()?1:0;return!this.collector.isShowStat()&&!this.collector.hasGroup()&&this.collector.layout.getLayoutIndexByRecordId(e)===t},n.isAlignLeft=function(e){return this.collector.getRenderFieldIds().indexOf(e)===this.collector.getFrozenFieldCount()},n.paint=function(e,t){var n,i=e.userInfo,o=i.name,r=i.bgcolor,s=i.userId,a=this.getTipContent(o,e.isEditing),l=this.getTipRectWidth(a),d=e.cell,c=d.fieldId,u=d.recordId,h=this.getRects(t,l,c,u),g=h[0],f=h[1],m=h[2],p=h[3],v=Lo.u.board(Object.assign(((n={name:s}).USER_ID_KEY=[s],n),p)),I=Lo.u.shape.rect(null,Object.assign(Object.assign({name:ss.BOX},m),{stroke:r,strokeWidth:Ms})),y=Lo.u.shape.rect(null,Object.assign(Object.assign({name:ss.TIP},f),{fill:r})),_=Lo.u.shape.text(null,Object.assign(Object.assign({name:ss.TEXT,text:a},g),{fontSize:_s,fill:Cs,align:"right"}));v.add(I),v.add(y),v.add(_),this.board.add(v);var b=this.collector.getFrozenFields().includes(e.cell.fieldId);return this.clipCursor(b,v),this.autoHideTip(v),v},n.getTipContent=function(e,t){return e+(t?R.Z.t("collaborator_inputing"):"")},n.getTipRectWidth=function(e){return Lo.u.util.measureWidth(e,_s)+2*ys},n.getTipRectX=function(e,t){return e-t+Ms/2},n.getTipTextX=function(e){return e+ys},n.getTipTextWidth=function(e){return e-2*ys},n.updatePosition=function(e,t){var n=this;this.cursors.forEach((function(i,o){var r=o.split("-")[0];n.collector.getFrozenFields().includes(r)||i.x(i.x()-e),i.y(i.y()-t),n.checkClip(i,r)}))},n.checkClip=function(e,t){var n=this.collector.getFrozenFields().includes(t);this.clipCursor(n,e)},n.clipCursor=function(e,t){var n=this.collector.size,i=t.x(),o=i+t.width()+Ms,r=t.y(),s=r+t.height()+Ms,a=n.activityStartX,l=a+n.activityViewWidth,d=n.activityStartY,c=d+n.activityViewHeight,u=i;e||(u=Math.max(a,i));var h=Math.min(l,o),g=(h=Math.max(u,h))-u,f=Math.max(d,r),m=Math.min(c,s),p=(m=Math.max(f,m))-f;t.clipFunc((function(e){return e.rect(u-i-1,f-r-1,g,p)}))},n.showTipOnActive=function(e,t){var n=this.collector.getAllFieldIds()[e]+"-"+this.collector.getAllRecordIds()[t],i=this.cursors.get(n);i&&this.showCursorTip(i)},n.showCursorTip=function(e){e.getChildren().forEach((function(e){return e.show()})),this.autoHideTip(e)},n.autoHideTip=function(e){var t=this;this.autoHideTimers.has(e)&&clearTimeout(this.autoHideTimers.get(e));var n=setTimeout((function(){e.getChildren().forEach((function(e){e.getAttr("name")!==ss.BOX&&e.hide()})),t.autoHideTimers.delete(e)}),ws);this.autoHideTimers.set(e,n)},t}(ps.Z);Es.Name="Collaborator",n("../node_modules/core-js/modules/es.string.starts-with.js");var js=n("../node_modules/@tencent/xtable-render/es/views/group/utils/get-action-target.js"),As=["mouseup","mousemove"],xs=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).listeners=[],t.eventDesktopActionEntry=function(e){var n=e.evt.type,i=e.target.getAttr(ko.k4);if(i&&i.type===ko.KW.GROUP_COLLSAPSE){if("mousemove"===n)t.canvas.view.setCursor(t.isPreventGroupCollapse()?ko.WV.NOT_ALLOWED:ko.WV.POINTER);else if("mouseup"===n){var o=gr(e.target),r=e.evt,s=r.ctrlKey,a=r.metaKey,l=r.altKey,d={all:s,current:a||l};t.toggleCollapse(i.value,d,o)}}else"mousemove"!==n||t.collector.canEdit()||t.canvas.view.setCursor(ko.WV.DEFAULT)},t.eventMobileActionEntry=function(e){var n=e.event.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y,r=(0,js.ZP)(i,o,t.collector),s=null===r||void 0===r?void 0:r.unit;s&&s.layoutType===ns.yP.GROUP_HEAD&&t.toggleCollapse(s,null)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e=this;this.collector.isMobile()?this.listeners.push(this.emitter.action.tap.event(this.eventMobileActionEntry)):As.forEach((function(t){e.listeners.push(e.emitter.global[t].event(e.eventDesktopActionEntry))}))},n.destroy=function(){this.listeners.forEach((function(e){return e.dispose()}))},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.toggleCollapse=function(e,t,n){var i,o,r=this.collector.layout,s=e.layoutIndex,a=r.getLayouts(),l=a[s];if(!this.isPreventGroupCollapse()){var d=[],c=!l.head.folded,u=!!t&&(t.all||t.current);if(u){var h=((null===(i=l.head)||void 0===i?void 0:i.path)||[]).toString();a.forEach((function(e){var n;if(e.type===ns.yP.GROUP_HEAD){var i=(null===(n=e.head)||void 0===n?void 0:n.path)||[],o=t.all,r=t.current&&i.toString().startsWith(h);(o||r)&&(d.push(i),e.head.folded=c)}}))}else l.head.folded=c,d.push((null===(o=l.head)||void 0===o?void 0:o.path)||[]);this.collector.position.flushLayoutY(),this.afterCollapsed(c,d,n,u)}},n.afterCollapsed=function(e,t,n,i){var o=this;void 0===i&&(i=!1);var r=this.collector.ranger.getOffset().offsetY;this.canvas.view.renderForce(),!this.collector.isMobile()&&n&&this.canvas.view.nextTick((function(){var e,t=o.collector.ranger.getOffset().offsetY,s=null===(e=o.canvas.getFeature("Interactive"))||void 0===e?void 0:e.getHover();!i&&s&&r===t?s.showAction(n,{hoverRect:!0}):null===s||void 0===s||s.hide()})),t.forEach((function(t){o.collector.state.setFold(t.toString(),e);var n=o.collector.state.getFolds();o.collector.setViewStorage(os.kZ,n)})),this.collector.getRangeModel().resetSelection()},n.isPreventGroupCollapse=function(){return 0!==this.collector.state.getHighlightInfos().size},t}(ps.Z);xs.Name="GroupCollapse";var Ds={size:Xi.RG,hoverSize:Xi.RG,margin:2,fill:"#81868f",opacity:.5,hoverOpacity:.8,cornerRadius:4,minSize:20},Ss=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).verticalDeltaSize=0,t.horizontalDeltaSize=0,t.autoHideDuration=t.canvas.collector.isMobile()?2e3:0,t.options=t.getOptions(),t.style=Ds,t.readyShow=!t.canvas.collector.isMobile(),t.onScroll=function(){t.options.enableHorizontal&&t.scrollToX(t.options.getOffsetX()),t.options.enableVertical&&t.scrollToY(t.options.getOffsetY()),t.show(),t.autoHideDuration&&(t.autoHideTimer&&clearTimeout(t.autoHideTimer),t.autoHideTimer=setTimeout(t.hide,t.autoHideDuration))},t.hide=function(){var e,n;t.readyShow=!1,null===(e=t.vertical)||void 0===e||e.visible(!1),null===(n=t.horizontal)||void 0===n||n.visible(!1)},t.onVerticalDragmove=function(){var e,n,i=t.vertical.y(),o=t.vertical.height(),r=t.options.getStartY(),s=t.options.getViewHeight(),a=t.options.getScrollHeight(),l=(i+(i>s/2?t.verticalDeltaSize:0)-r)/s*a;t.options.scrollLayoutToY(l);var d=t.canvas.collector.isMobile()?0:t.style.hoverSize-t.style.size;null===(e=t.vertical)||void 0===e||e.x(t.getVerticalBarX()-d),null===(n=t.vertical)||void 0===n||n.y(Math.min(Math.max(r,i),s+r-Math.max(t.style.minSize,o)))},t.onHorizonalDragmove=function(){var e,n,i=t.horizontal.x(),o=t.horizontal.width(),r=t.options.getStartX(),s=t.options.getViewWidth(),a=t.options.getScrollWidth(),l=(i+(i>s/2?t.horizontalDeltaSize:0)-r)/s*a;t.options.scrollLayoutToX(l);var d=t.canvas.collector.isMobile()?0:t.style.hoverSize-t.style.size;null===(e=t.horizontal)||void 0===e||e.y(t.getHorizonalBarY()-d),null===(n=t.horizontal)||void 0===n||n.x(Math.min(Math.max(r,i),s+r-Math.max(t.style.minSize,o)))},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.options.enableHorizontal&&this.initHorizontal(),this.options.enableVertical&&this.initVertical(),this.updated();var e=this.emitter.global[this.options.scrollEvent];this.listener=null===e||void 0===e?void 0:e.event(this.onScroll)},n.destroy=function(){var e,t,n;null===(e=this.listener)||void 0===e||e.dispose(),null===(t=this.vertical)||void 0===t||t.destroy(),null===(n=this.horizontal)||void 0===n||n.destroy()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){var e,t,n,i,o,r;null===(e=this.vertical)||void 0===e||e.x(this.getVerticalBarX()),null===(t=this.vertical)||void 0===t||t.height(this.getVerticalBarSize()),null===(n=this.horizontal)||void 0===n||n.y(this.getHorizonalBarY()),null===(i=this.horizontal)||void 0===i||i.width(this.getHorizonalBarSize()),this.options.enableHorizontal&&(this.scrollToX(this.options.getOffsetX()),null===(o=this.horizontal)||void 0===o||o.visible(this.isHorizonalVisible())),this.options.enableVertical&&(this.scrollToY(this.options.getOffsetY()),null===(r=this.vertical)||void 0===r||r.visible(this.isVerticalVisible()))},n.isLocated=function(e,t){var n,i,o=(null===(n=this.vertical)||void 0===n?void 0:n.x())||0,r=(null===(i=this.horizontal)||void 0===i?void 0:i.y())||0,s=e>o||t>r;return s&&this.canvas.view.setCursor(ko.WV.DEFAULT),s},n.scrollToX=function(e){if(this.horizontal){var t=this.options.getStartX(),n=this.options.getViewWidth(),i=this.options.getScrollWidth(),o=(e=Math.min(i-n,e))/i*n,r=t+n-this.horizontal.width(),s=Math.min(r,o+t);this.horizontal.x(s)}},n.scrollToY=function(e){if(this.vertical){var t=this.options.getStartY(),n=this.options.getViewHeight(),i=this.options.getScrollHeight(),o=(e=Math.min(i-n,e))/i*n,r=t+n-this.vertical.height(),s=Math.min(r,o+t);this.vertical.y(s)}},n.show=function(){var e,t,n,i;this.readyShow=!0,null===(e=this.horizontal)||void 0===e||e.moveToTop(),null===(t=this.horizontal)||void 0===t||t.visible(this.isHorizonalVisible()),null===(n=this.vertical)||void 0===n||n.moveToTop(),null===(i=this.vertical)||void 0===i||i.visible(this.isVerticalVisible())},n.initHorizontal=function(){var e=this;this.horizontal=Lo.u.shape.rect(null,Object.assign({x:this.options.getStartX(),y:this.getHorizonalBarY(),width:this.getHorizonalBarSize(),height:this.style.size,visible:this.isHorizonalVisible()},this.getDefaultStyle())),this.horizontal.on("dragmove",this.onHorizonalDragmove),this.canvas.collector.isMobile()||(this.horizontal.on("mouseenter",(function(){e.horizontal.opacity(e.style.hoverOpacity),e.horizontal.height(e.style.hoverSize),e.horizontal.y(e.horizontal.y()-(e.style.hoverSize-e.style.size))})),this.horizontal.on("mouseleave",(function(){e.horizontal.opacity(e.style.opacity),e.horizontal.height(e.style.size),e.horizontal.y(e.getHorizonalBarY())}))),this.canvas.getLayer().add(this.horizontal)},n.initVertical=function(){var e=this;this.vertical=Lo.u.shape.rect(null,Object.assign({x:this.getVerticalBarX(),y:this.options.getStartY(),width:this.style.size,height:this.getVerticalBarSize(),visible:this.isVerticalVisible()},this.getDefaultStyle())),this.vertical.on("dragmove",this.onVerticalDragmove),this.canvas.collector.isMobile()||(this.vertical.on("mouseenter",(function(){e.vertical.opacity(e.style.hoverOpacity),e.vertical.width(e.style.hoverSize),e.vertical.x(e.vertical.x()-(e.style.hoverSize-e.style.size))})),this.vertical.on("mouseleave",(function(){e.vertical.opacity(e.style.opacity),e.vertical.width(e.style.size),e.vertical.x(e.getVerticalBarX())}))),this.canvas.getLayer().add(this.vertical)},n.getVerticalBarSize=function(){var e=this.options.getViewHeight(),t=e/this.options.getScrollHeight()*e,n=Math.max(this.style.minSize,t);return this.verticalDeltaSize=n-t,n},n.getHorizonalBarSize=function(){var e=this.options.getViewWidth(),t=e/this.options.getScrollWidth()*e,n=Math.max(this.style.minSize,t);return this.horizontalDeltaSize=n-t,n},n.getVerticalBarX=function(){return this.canvas.view.getStage().width()-this.style.margin-this.style.size},n.getHorizonalBarY=function(){return this.canvas.view.getStage().height()-this.style.margin-this.style.size},n.isVerticalVisible=function(){var e=this.options.getViewHeight(),t=this.options.getScrollHeight();return!(e<=0||t<=0)&&this.readyShow&&t>e},n.isHorizonalVisible=function(){var e=this.options.getViewWidth(),t=this.options.getScrollWidth();return!(e<=0||t<=0)&&this.readyShow&&t>e},n.getDefaultStyle=function(){return{fill:this.style.fill,opacity:this.style.opacity,cornerRadius:this.style.cornerRadius,draggable:!0,listening:!0}},t}(zo.Z),Ns=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),t.prototype.getOptions=function(){var e=this,t=this.canvas.collector;return{enableVertical:!0,enableHorizontal:!0,scrollEvent:"scroll",getOffsetX:function(){return t.ranger.getOffset().offsetX},getOffsetY:function(){return t.ranger.getOffset().offsetY},getStartX:function(){return t.size.activityStartX},getStartY:function(){return t.size.activityStartY},getViewWidth:function(){return t.size.activityViewWidth},getScrollWidth:function(){return t.size.activityScrollWidth},getViewHeight:function(){return t.size.activityViewHeight},getScrollHeight:function(){return t.size.activityScrollHeight},scrollLayoutToX:function(t){return e.canvas.view.scrollToX(t)},scrollLayoutToY:function(t){return e.canvas.view.scrollToY(t)}}},t}(Ss);Ns.Name="Scroller";var Rs=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).board=Lo.u.board(),t.onScroll=function(){t.showSearchResult()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.canvas.getLayer().add(this.board),this.showSearchResult()},n.destroy=function(){var e,t;null===(e=this.board)||void 0===e||e.destroy(),null===(t=this.rect)||void 0===t||t.destroy(),this.toDeactivated()},n.updated=function(){this.showSearchResult()},n.addActivedEvents=function(){this.scrollDisposable=this.emitter.global.scroll.event(this.onScroll)},n.removeActivedEvents=function(){var e;null===(e=this.scrollDisposable)||void 0===e||e.dispose()},n.showSearchResult=function(){var e,t,n=null===(e=this.collector.state)||void 0===e?void 0:e.getSearchSelectedCell(),i=n.recordId,o=n.fieldId,r=this.collector.size.levelIndent;if(!i||!o)return this.board.hide(),void this.toDeactivated();var s=this.collector.getFieldWidth(o),a=this.collector.getRecordHeight(),l=this.collector.getFieldX(o),d=this.collector.getRecordY(i),c=this.collector.layout.getLayoutIndexByRecordId(i),u=this.collector.layout.getLayout(c),h={width:s,height:a,x:l,y:d};if(this.collector.isMobile()&&u){var g=this.collector.layout.getLayoutUnit(u,o);g&&g.type===ns.g1.START&&(h.width-=r,h.x+=r)}this.rect?this.rect.setAttrs(Object.assign({},h)):this.rect=null===(t=Lo.u.shape)||void 0===t?void 0:t.rect(this.board,Object.assign(Object.assign({},h),{cornerRadius:1,stroke:ls.jU,strokeWidth:2})),this.board.show(),this.isInFrozenField()?this.clipY():this.clip(),this.toActived()},n.clip=function(){var e=this.collector.size;this.board.clipFunc((function(t){return t.rect(e.activityStartX-1,e.activityStartY-1,e.globalWidth,e.globalHeight)}))},n.clipY=function(){var e=this.collector.size;this.board.clipFunc((function(t){return t.rect(e.globalPaddingLeft,e.activityStartY-1,e.globalWidth,e.globalHeight)}))},n.isInFrozenField=function(){var e,t=(null===(e=this.collector.state)||void 0===e?void 0:e.getSearchSelectedCell()).fieldId;return this.collector.getFrozenFields().includes(t)},t}(ps.Z);Rs.Name="Search";var Os=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).key=os.VN,t}(0,u.Z)(t,e);var n=t.prototype;return n.getCollector=function(){return this.canvas.collector},n.getStorageRangeInfo=function(){return{offset:this.getCollector().ranger.getOffset()}},t}(Wo);Os.Name="GroupStorageRange";var Ls=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).activePoint=null,t.onActivePointChange=function(e){var n=e.activePoint;t.activePoint=n,t.updated()},t.onScroll=function(e){var n=t.collector.getFloatState().isShow(),i=t.activePointShape.getPosition().x,o=t.activePointShape.getPosition().y;t.isActivePointInFrozenField()?n||(t.activePointShape.y(o-e.y),t.clipY()):(t.activePointShape.x(i-e.x),n||t.activePointShape.y(o-e.y),t.clip())},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.initShape(),this.activePointDisposable=this.canvas.context.onActivePointChanged(this.onActivePointChange)},n.destroy=function(){var e;null===(e=this.activePointDisposable)||void 0===e||e.dispose(),this.toDeactivated(),this.board.destroy()},n.addActivedEvents=function(){this.scrollDisposable=this.emitter.global.scroll.event(this.onScroll)},n.removeActivedEvents=function(){var e;null===(e=this.scrollDisposable)||void 0===e||e.dispose()},n.updated=function(){var e=this.getRect();if(!e)return this.activePointShape.hide(),void this.toDeactivated();this.activePointShape.show(),this.activePointShape.setPosition({x:e.x,y:e.y}),this.activePointShape.setSize({width:e.width,height:e.height}),this.isActivePointInFrozenField()?this.clipY():this.clip(),this.toActived()},n.initShape=function(){this.board=Lo.u.board(),this.activePointShape=this.createActivePointShape(0,0,0,0),this.board.add(this.activePointShape),this.canvas.getLayer().add(this.board)},n.getActiveCellInfo=function(){return this.activePoint?{fieldId:this.fieldId,recordId:this.recordId,rect:this.getRect()}:null},n.getRect=function(){if(!this.activePoint)return null;var e=this.activePoint,t=e.row,n=e.column,i=this.collector.getAllFieldIds()[n],o=this.collector.getFieldX(i),r=this.collector.getFieldWidth(i),s=this.collector.getRecordHeight(),a=0,l="",d=this.canvas.getFeature("RecordFloat");if(this.collector.getFloatState().isShow()&&d)a=d.getY(),l=d.getRecordId();else{l=this.collector.getAllRecordIds()[t];var c=this.collector.layout,u=c.getLayoutIndexByRecordId(l),h=c.getLayout(u);if(!h||c.isHiddenLayout(h.parent))return null;a=this.collector.getLayoutY(u)}return this.fieldId=i,this.recordId=l,{x:o,y:a,width:r,height:s}},n.isActivePointInFrozenField=function(){if(!this.activePoint)return!1;var e=this.activePoint.column,t=this.collector.getAllFieldIds()[e];return this.collector.getFrozenFields().includes(t)},n.clip=function(){var e=this.collector.size;this.board.clipFunc((function(t){return t.rect(e.activityStartX-1,e.activityStartY-1,e.activityViewWidth,e.globalHeight)}))},n.clipY=function(){var e=this.collector.size;this.board.clipFunc((function(t){return t.rect(e.globalPaddingLeft,e.activityStartY-1,e.frozenWidth,e.globalHeight)}))},n.createActivePointShape=function(e,t,n,i){var o=this;return new Oi.pK({x:e,y:t,width:n,height:i,sceneFunc:function(e,t){var n=t.getSize();o.collector.getFloatState().isShow()||e.clearRect(0,0,n.width,n.height),e.beginPath(),e.rect(0,0,n.width,n.height),e.closePath(),e.fillStrokeShape(t)},stroke:ls.PW,strokeWidth:2,listening:!1})},t}(ps.Z);Ls.Name="ActivePoint";var ks=n("../node_modules/@tencent/xtable-render/es/constants/mouse.js"),zs=n("../node_modules/@tencent/xtable-render/es/views/group/utils/is-target.js"),Ps=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).selects=[],t.startFieldId="",t.grabDownX=0,t.mousedownTime=0,t.isSelectReady=!1,t.isSelecting=!1,t.targetFieldIndex=-1,t.isTipShow=!1,t.onDocumentMouseup=function(e){t.isContainsInStage(e.target)||t.reset()},t.onSelectionChanged=function(e){var n=e.selection,i=n.getRanges(),o=Array.isArray(i)&&!i.length||!n.isColumnSelection();t.selects.length&&o&&(t.selects.length=0,t.canvas.view.renderForce())},t.onCanvasMousedown=function(e){var n,i=e.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y,s=(0,js.ZP)(o,r,t.collector),a=e.target.getAttr(ko.k4),l=e.evt.button===ks.R;if(t.isNeedPrevent("mousedown",s,l?null:a))return t.selects.length=0,void t.toDeactivated();var d=(0,zs.My)(s,t.collector),c=null===s||void 0===s?void 0:s.fieldId;if(d&&c){var u=t.collector.getFrozenFields().includes(s.fieldId);null===(n=t.canvas.autoScroll)||void 0===n||n.ready(er.Nm.X,{isPreventScrollX:function(e){return!(t.isMoving()&&!(u&&e<t.collector.size.activityStartX))}}),t.mousedown(o,c),t.toActived()}},t.onCanvasMouseup=function(){t.mouseup()},t.onCanvasMousemove=function(e){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y,r=(0,js.ZP)(i,o,t.collector);if(!t.isNeedPrevent("mousemove",r,e.target.getAttr(ko.k4))){var s=null===r||void 0===r?void 0:r.fieldId;t.mousemove(i,s)}},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e=this.collector.size;this.rect=Lo.u.shape.rect(null,{visible:!1,fill:"grey",opacity:.3,y:e.globalPaddingTop}),this.line=Lo.u.shape.line(null,{visible:!1,strokeWidth:1,stroke:Xi.Ro}),this.canvas.getLayer().add(this.rect),this.canvas.getLayer().add(this.line),this.mousedownDisposable=this.emitter.global.mousedown.event(this.onCanvasMousedown),this.mouseupDisposable=this.emitter.global.mouseup.event(this.onCanvasMouseup),this.selectionChangeDisposable=this.canvas.context.onCoreSelectionChanged(this.onSelectionChanged),document.addEventListener("mouseup",this.onDocumentMouseup)},n.destroy=function(){var e,t,n;null===(e=this.mousedownDisposable)||void 0===e||e.dispose(),null===(t=this.selectionChangeDisposable)||void 0===t||t.dispose(),null===(n=this.mouseupDisposable)||void 0===n||n.dispose(),document.removeEventListener("mouseup",this.onDocumentMouseup),this.toDeactivated()},n.updated=function(){},n.addActivedEvents=function(){this.mousemoveDisposable=this.emitter.global.mousemove.event(this.onCanvasMousemove)},n.removeActivedEvents=function(){var e;null===(e=this.mousemoveDisposable)||void 0===e||e.dispose()},n.isMoving=function(){return!(!this.selects.length||!this.grabDownX)||this.isSelecting},n.getSelects=function(){return this.selects.slice()},n.isNeedPrevent=function(e,t,n){var i=this.canvas.getFeature("WidthResize");return!!n||!(0,zs.My)(t,this.collector)&&!this.isMoving()||"mousemove"===e&&!this.selects.length||(null===i||void 0===i?void 0:i.isHover)},n.mousedown=function(e,t){this.isFastDBClick()||(this.isSelectReady?this.doGrabDown(e,t):this.doSelectDown(t))},n.mousemove=function(e,t){this.selects.length&&(this.isSelectReady?this.doGrabMove(e,t):this.doSelectMove(e))},n.mouseup=function(){this.selects.length&&(this.isSelectReady?this.doGrabUp():this.doSelectUp())},n.doSelectDown=function(e){this.isSelectReady=!1,this.selects.length=0,this.selects.push(e),this.startFieldId=e,this.doSelection()},n.doSelectMove=function(e){var t=this.collector.getFieldIndex(this.startFieldId),n=(0,js.L5)(e,this.collector)-1;if(t>n){var i=[n,t];t=i[0],n=i[1]}var o,r,s=this.collector.getAllFieldIds()||[],a=(o=t,r=n,s.slice(o,r+1));this.selects=a,this.isSelecting=!0,this.doSelection(),this.canvas.view.setCursor(ko.WV.DEFAULT)},n.doSelectUp=function(){this.isSelecting=!1,this.isSelectReady=!0},n.doGrabDown=function(e,t){this.selects.includes(t)?(this.grabDownX=e+this.collector.ranger.getOffset().offsetX,this.canvas.view.setCursor(ko.WV.GRABBING)):this.doSelectDown(t)},n.doGrabMove=function(e,t){var n=this;if(this.grabDownX){if(this.isSelectedFrozenField())return this.isTipShow||(qo.default.show({message:R.Z.t("first_col_cannot_move"),type:"info",duration:3e3,autoClose:!0}),this.isTipShow=!0,setTimeout((function(){n.isTipShow=!1}),3e3)),void this.canvas.view.setCursor(ko.WV.NOT_ALLOWED);this.showMoveRect(e),this.canvas.view.setCursor(ko.WV.GRABBING)}else t&&this.selects.includes(t)&&this.canvas.view.setCursor(ko.WV.GRAB)},n.doGrabUp=function(){this.done()},n.isFastDBClick=function(){var e=Date.now(),t=e-this.mousedownTime<300;return this.mousedownTime=e,t},n.isSelectedFrozenField=function(){var e=this;return this.selects.some((function(t){return e.collector.getFrozenFields().includes(t)}))},n.doSelection=function(){var e=this.collector.getFieldIndex(this.selects[0]),t=this.collector.getFieldIndex(this.selects[this.selects.length-1]);this.setSelection(e,t)},n.setSelection=function(e,t){this.canvas.context.rangeModel.setActiveColumnSelection({startColumn:e,endColumn:t}),this.canvas.view.renderForce()},n.getMoveWidth=function(){var e=this;return this.selects.map((function(t){return e.collector.getFieldWidth(t)})).reduce((function(e,t){return e+t}))},n.getViewHeight=function(){var e=this.collector.size;return Math.min(e.activityViewHeight+e.activityStartY,e.globalHeight-e.globalPaddingTop-e.globalPaddingBottom)},n.showMoveRect=function(e){var t=this.getMoveWidth(),n=this.collector.getFieldX(this.selects[0])+(e-this.grabDownX+this.collector.ranger.getOffset().offsetX),i=this.getViewHeight();this.rect.x(n),this.rect.width(t),this.rect.height(i),this.rect.show(),this.showLocationLine(e,i)},n.showLocationLine=function(e,t){var n=this.collector.getRenderFieldIds(),i=(0,js.L5)(e,this.collector),o=n[i];if(this.selects.includes(o)||this.collector.isAdditionField(o)||this.collector.isOperatorField(o)||this.collector.getFrozenFields().includes(o))return this.line.hide(),void(this.targetFieldIndex=-1);var r=this.selects[0],s=n.indexOf(r),a=-1,l=-1,d=this.collector.getFieldX(o)+this.collector.getFieldWidth(o)/2;if(i<s&&e<d&&(l=i,a=i),i>s&&e>d&&(l=i+1,a=i),-1!==l){this.targetFieldIndex=a;var c=n[l],u=this.collector.getFieldX(c)-this.line.width();this.line.points([u,this.collector.size.globalPaddingTop,u,t+this.collector.size.globalPaddingTop]),this.line.show()}},n.done=function(){var e=this.targetFieldIndex-1;if(this.reset(),!(e<0)){var t=this.canvas.context.getBehaviorApi(),n=this.canvas.context.getCurrentView(),i=this.collector.getAllFieldIds()[e],o=this.collector.getFullFieldIds().indexOf(i);t.moveField({tableId:this.canvas.context.getCurrentTable().id,viewId:n.id,fieldIds:this.selects,delta:{target:o}}),ms.F.fileMoveSuccess();var r=this.collector.getAllFieldIds().indexOf(this.selects[0]),s=this.collector.getAllFieldIds().indexOf(this.selects[this.selects.length-1]);this.setSelection(r,s),this.isSelectReady=!1,this.selects.length=0}},n.reset=function(){this.canvas.view.setCursor(ko.WV.DEFAULT),this.rect.hide(),this.line.hide(),this.grabDownX=0,this.targetFieldIndex=-1,this.toDeactivated()},t}(ps.Z);Ps.Name="FieldMove";var Fs=n("../node_modules/@tencent/xtable-core/es/model/field/common/is-field-editable.js"),Us=n("../node_modules/@tencent/xtable-render/es/constants/field-stat.js"),Bs=function(e){function t(t,n,i,o){var r;return(r=e.call(this,n,i,o)||this).context=t,r.canvas=n,r.view=i,r.collector=o,r}(0,u.Z)(t,e);var n=t.prototype;return n.toggleAllRecord=function(){var e=this.collector.state;e.isSelectAll()?e.removeAllSelect():e.setAllSelect(),this.view.renderForce()},n.toggleSingleRecord=function(e){this.collector.state.isSelectRecord(e.recordId)?(this.collector.state.removeSelectRecord(e.recordId),ms.F.recordSelected()):this.collector.state.addSelectRecord(e.recordId),this.view.renderForce()},n.addFieldAtEnd=function(){var e,t,n,i,o=null===(e=this.context.getCurrentTable())||void 0===e?void 0:e.id,r=this.context.getCurrentView(),s=null===r||void 0===r?void 0:r.id,a=null!==(t=null===r||void 0===r?void 0:r.getAllFieldIds())&&void 0!==t?t:[],l=null===(n=null===r||void 0===r?void 0:r.getFieldIndex)||void 0===n?void 0:n.call(r,a[a.length-1]);if(!(Jo()(o)||Jo()(s)||Jo()(l))){var d=this.collector.size,c={x:this.collector.getFieldX(os.wv),y:d.globalPaddingTop,width:d.additionFieldWidth,height:d.fieldHeight};this.canvas.view.emitter.service.addFieldClickEmitter.fire(c),null===(i=this.canvas.getFeature("Tooltip"))||void 0===i||i.hide()}},n.addRecord=function(e){var t,n,i=null===(t=this.context.getCurrentTable())||void 0===t?void 0:t.id,o=this.context.getCurrentView(),r=null===o||void 0===o?void 0:o.id,s=e.layoutIndex,a=this.collector.layout.getLayout(s-1);Jo()(i)||Jo()(r)||(this.canvas.view.emitter.service.addRecordClickEmitter.fire({recordId:null===a||void 0===a?void 0:a.recordId}),null===(n=this.canvas.getFeature("Tooltip"))||void 0===n||n.hide())},n.expendShowRecord=function(e){var t;this.canvas.view.emitter.service.expandRow.fire({recordId:e}),this.collector.getRangeModel().resetSelection(),ms.F.recordExpanded(),null===(t=this.canvas.getFeature("Tooltip"))||void 0===t||t.hide()},n.openModifyFieldProperty=function(e){var t,n=this.collector.getFieldX(e),i=this.collector.size.globalPaddingTop,o=this.collector.getFieldWidth(e),r=this.collector.size.fieldHeight;this.canvas.view.emitter.service.fieldEditor.fire({fieldId:e,rect:{x:n,y:i,height:r,width:o}}),null===(t=this.canvas.getFeature("Tooltip"))||void 0===t||t.hide()},n.openStatPanel=function(e){var t=e.fieldId,n=e.layoutIndex,i=this.collector.getFieldX(t),o=this.collector.getLayoutY(n),r=this.collector.getFieldWidth(t),s=this.collector.layout.getLayoutSize(ns.yP.STAT),a=s+o,l=this.context.getCurrentTable();if(l){var d=l.getFieldByFieldId(t);if(d){var c=(0,Us.my)(d);a+c>this.collector.size.activityViewHeight&&(a=o-c-Xi.YF),this.canvas.view.emitter.service.stat.fire({fieldId:t,rect:{x:i,y:a,width:r,height:s}})}}},n.openUrl=function(e,t){this.collector.getCell(e,t)},t}(ar),Ws=function(e,t){var n=t.getFieldX(e),i=t.getFieldWidth(e),o=t.getFrozenFields().includes(e),r=t.size,s=n+i;return(0,js.oH)(s,r)?function(e,t,n,i){return!n&&e<i.size.activityStartX&&(t-=i.size.activityStartX-e,e=i.size.activityStartX),{x:e,width:t}}(n,i,o,t):{x:n,width:i-(s-(r.activityStartX+r.activityViewWidth))}},Gs=function(e,t){return e<t?t-e+1:0},Zs=function(e,t,n,i){var o=i.size,r=o.activityStartX,s=o.activityStartY,a=n?0:function(e,t){return e<t?t-e+1:0}(e,r);return{clipX:a,clipY:Gs(t,s)}},Hs=function(){function e(e,t,n){var i=this;this.canvas=e,this.view=t,this.collector=n,this.board=Lo.u.board(),this.iconMargin=2,this.hoverId="",this.isSellectAll=!1,this.onSelectionChanged=function(){var e=i.collector.state.isSelectAll();(i.isSellectAll&&!e||!i.isSellectAll&&e)&&i.hide(),i.isSellectAll=e},this.board.visible(!1),this.canvas.getLayer().add(this.board),this.selectionListener=this.canvas.context.onCoreSelectionChanged(this.onSelectionChanged)}var t=e.prototype;return t.destroy=function(){this.board.destroy(),this.selectionListener.dispose()},t.hide=function(){this.board.visible()&&(this.board.destroyChildren(),this.board.hide(),this.hoverId="")},t.flush=function(e){this.hoverId="",this.show(e)},t.show=function(e){if(e&&this.hoverId!==e.recordId){this.board.destroyChildren(),this.hoverId=e.recordId;var t=this.collector,n=t.size,i=t.layout,o=i.getUnitIndent(e),r={x:o+n.globalPaddingLeft,y:this.collector.getLayoutY(e.layoutIndex),width:n.operatorFieldWidth-o,height:i.getLayoutSize(e.layoutType)};this.drawIcon(e,r),this.board.show()}},t.drawIcon=function(e,t){var n,i=this,o=this.view.canEdit(),r=this.collector.state.isSelectRecord(e.recordId);r&&this.collector.canEdit()||Lo.u.shape.rect(this.board,{x:1,y:1,width:t.width-1,height:t.height-1,fill:Xi.UE,cornerRadius:Xi.n_});var s=ls.pK/2+ls.Ay/2,a=(t.width-Xi._u)/2;if(o){var l,d;Lo.u.icon.draw(this.board,r?Or.Y.CHECKBOX_CHECKED:Or.Y.CHECKBOX_UNCHECKED,((l={x:a,y:s,width:Xi._u,height:Xi._u,listening:!0})[ko.k4]={type:ko.KW.SELECT_SINGLE_RECORD,hoverCursor:ko.WV.POINTER,hoverRect:!0,value:e},l));var c=a-this.iconMargin-Xi._u;Lo.u.icon.draw(this.board,Or.Y.GRAG_RECORD,((d={x:c,y:s,width:Xi._u,height:Xi._u,listening:!0})[ko.k4]={type:ko.KW.DRAG_RECORD,hoverCursor:ko.WV.GRAB,hoverRect:!0},d))}var u=a+(o?this.iconMargin+Xi._u:0);Lo.u.icon.draw(this.board,Or.Y.EXPEND_RECORD,((n={x:u,y:s,width:Xi._u,height:Xi._u,listening:!0})[ko.k4]={type:ko.KW.EXPAND_RECORD,hoverCursor:ko.WV.POINTER,hoverRect:!0,value:e},n)),this.board.x(t.x),this.board.y(t.y),this.board.width(t.width),this.board.height(t.height),this.board.clipFunc((function(e){e.rect(0,Gs(t.y,i.collector.size.activityStartY),t.width,t.height)}))},e}();function Ys(e,t,n,i){var o,r,s=i.type,a=e.layout;if(s===ns.yP.RECORD){o=e.layout.getLayoutIndexByRecordId(i.recordId);var l=a.getLayout(o);if(!l||a.isHiddenLayout(l.parent))return null;r=e.getRecordHeight()}else o=i.layoutIndex,r=a.getLayoutSize(s);var d=function(e,t,n,i){var o,r,s=i.type,a=e.layout,l=e.size,d=e.ranger;s===ns.yP.RECORD?(o=e.layout.getLayoutIndexByRecordId(i.recordId),r=a.getLayoutIndent(o)):(o=i.layoutIndex,r=a.getUnitIndent({layoutIndex:o}));var c=r+l.globalPaddingLeft,u=0;if(n===v.bW.GANTT)u=ls.A9;else if(n===v.bW.GRID){var h=l.additionFieldWidth+l.globalPaddingRight,g=l.activityScrollWidth-d.getOffset().offsetX-l.activityViewWidth;u=Math.max(0,h-g)}return{startX:c,endX:c+(t-c-u)}}(e,t,n,i),c=d.startX,u=d.endX;return{x:c,y:e.getLayoutY(o),width:u-c,height:r}}var Vs=function(){function e(e,t){this.canvas=e,this.collector=t,this.board=Lo.u.board(),this.statTipBoard=Lo.u.board(),this.hoverColor=ls.mS,this.hoverId="",this.board.visible(!1),this.canvas.getLayer().add(this.board),this.canvas.getLayer().add(this.statTipBoard)}var t=e.prototype;return t.destroy=function(){this.board.destroy(),this.statTipBoard.destroy()},t.hide=function(){this.board.visible()&&(this.board.destroyChildren(),this.board.hide(),this.hoverId=""),this.statTipBoard.visible()&&(this.statTipBoard.destroyChildren(),this.statTipBoard.hide())},t.showField=function(e){var t;if(this.hoverId!==e){this.board.destroyChildren(),this.hoverId=e;var n=this.collector.size,i=Ws(e,this.collector),o=i.x,r=i.width,s={x:o,y:n.globalPaddingTop,width:r,height:n.fieldHeight};Lo.u.shape.rect(this.board,Object.assign(Object.assign({},s),{x:0,y:0,cornerRadius:[0,0,0,0],fill:this.hoverColor}));var a={x:s.width-Xi.UV-ls.Wj,y:this.collector.size.fieldPaddingTop+2,width:Xi.UV,height:Xi.UV};Lo.u.icon.draw(this.board,Or.Y.DROPDOWN,Object.assign(Object.assign({},a),((t={listening:!0})[ko.k4]={type:ko.KW.OPEN_MODIFY_FIELD_PROPERTY,hoverCursor:ko.WV.POINTER,hoverRect:!0,fieldId:e},t))),this.show(s,e,!1)}},t.showStat=function(e){if(this.hoverId!==e.fieldId){this.board.destroyChildren(),this.hoverId=e.fieldId;var t=this.collector.layout,n=Ws(e.fieldId,this.collector),i={x:n.x,width:n.width,y:this.collector.getLayoutY(e.layoutIndex),height:t.getLayoutSize(e.layoutType)};Lo.u.shape.rect(this.board,Object.assign(Object.assign({},i),{x:0,y:0,fill:this.hoverColor}));var o={x:i.width-Xi.UV-ls.pK,y:(i.height-Xi.UV)/2,width:Xi.UV,height:Xi.UV};Lo.u.icon.draw(this.board,Or.Y.DROPDOWN,Object.assign({},o));var r=R.Z.t("stat_default_tip"),s=Lo.u.util.measureWidth(r,ls.Nr),a=Lo.u.shape.text(null,{text:R.Z.t("stat_default_tip"),fontSize:ls.Nr,fill:ls.XM,width:i.width,height:i.height,x:ls.pK,y:0});a.cache();var l=this.collector.layout.getUnitGroupPath(e)||[];this.isEmptyStat(e.fieldId,l)&&this.board.add(a),this.show(i,e.fieldId,!0),this.showAllEmptyStatHover(i,l,e.fieldId,a,s)}},t.showAddRecord=function(e){if(this.hoverId!==e.fieldId){var t=this.canvas.getLayer().getWidth(),n=Ys(this.collector,t,this.canvas.view.getType(),{type:ns.yP.RECORD_ADD,layoutIndex:e.layoutIndex});n&&(Lo.u.shape.rect(this.board,Object.assign(Object.assign({},n),{x:0,y:0,cornerRadius:[0,0,0,Xi.n_],fill:this.hoverColor})),this.show(n,"",!0))}},t.showAddRecordIcon=function(e){if(this.hoverId!==e.fieldId){var t=this.collector,n=t.size,i=t.layout,o={x:i.getUnitIndent(e)+n.globalPaddingLeft,y:this.collector.getLayoutY(e.layoutIndex),width:n.operatorFieldWidth,height:i.getLayoutSize(e.layoutType)};Lo.u.shape.rect(this.board,Object.assign(Object.assign({},o),{x:0,y:0,cornerRadius:[0,0,0,Xi.n_],fill:this.hoverColor})),this.show(o,"",!0)}},t.showAddField=function(e){if(this.hoverId!==e){var t={x:this.collector.getFieldX(e),y:this.collector.size.globalPaddingTop,width:this.collector.getFieldWidth(e),height:this.collector.size.fieldHeight};Lo.u.shape.rect(this.board,Object.assign(Object.assign({},t),{x:0,y:0,cornerRadius:[0,Xi.n_,Xi.n_,0],fill:this.hoverColor})),this.show(t,e,!1)}},t.show=function(e,t,n){this.board.x(e.x),this.board.y(e.y),this.board.width(e.width),this.board.height(e.height),this.board.show();var i=0,o=0;if(n){var r=this.collector.getFrozenFields().includes(t)||!t,s=Zs(e.x,e.y,r,this.collector);i=s.clipX,o=s.clipY}this.board.clipFunc((function(t){return t.rect(i,o,e.width,e.height)}))},t.isEmptyStat=function(e,t){var n=this.collector.getFieldStatResult(e,t||[]);return(null===n||void 0===n?void 0:n.resultType)===ts.W.HIDDEN},t.showAllEmptyStatHover=function(e,t,n,i,o){for(var r=this,s=[],a=this.collector.getRenderFieldIds(),d=this.collector.ranger.getRange(),c=d.startFieldIndex,u=d.endFieldIndex,h=c;h<=u;h++)s.push(a[h]);var g=this.collector.getFrozenFields().slice(1);s.unshift.apply(s,(0,l.Z)(g));var f=s.filter((function(e){return r.isEmptyStat(e,t)})),m=this.collector.size.activityStartX+this.collector.size.activityViewWidth;this.statTipBoard.x(),this.statTipBoard.y(e.y),this.statTipBoard.width(m),this.statTipBoard.height(e.height),f.forEach((function(t){var s=Ws(t,r.collector),a=s.x,l=s.width;if(!(t===n||l<o)){var d={x:a+ls.pK,y:0,width:l,height:e.height},c=i.clone(d);r.statTipBoard.add(c)}})),this.statTipBoard.show();var p=Zs(e.x,e.y,!0,this.collector).clipY;this.statTipBoard.clipFunc((function(t){return t.rect(0,p,m,e.height)}))},e}(),Qs=function(){function e(e){this.canvas=e,this.uniqueKey="",this.board=Lo.u.board(),this.hoverOpacity=1,this.hoverRadius=Xi.n_,this.hoverColor=Xi.mS,this.board.visible(!1),this.canvas.getLayer().add(this.board)}var t=e.prototype;return t.destroy=function(){this.board.destroy()},t.hide=function(){this.board.visible()&&(this.board.destroyChildren(),this.board.hide(),this.uniqueKey="")},t.show=function(e,t){var n=t.hoverIcon||function(e){return e.x+"-"+e.y+"-"+e.width+"-"+e.height}(e);if(this.uniqueKey!==n){this.uniqueKey=n,this.showBoard(e),this.board.moveToTop(),this.board.destroyChildren();var i=t.hoverRectExpandWidth,o=void 0===i?0:i,r=t.hoverRectExpandHeight,s=void 0===r?0:r,a={x:e.x-o,width:e.width+2*o,y:e.y-s,height:e.height+2*s},l=Object.assign(Object.assign({},a),{x:a.x-this.board.x(),y:a.y-this.board.y()});t.hoverIcon?Lo.u.icon.draw(this.board,t.hoverIcon,l):t.hoverRect&&Lo.u.shape.rect(this.board,Object.assign(Object.assign({},l),{fill:this.hoverColor,opacity:this.hoverOpacity,cornerRadius:this.hoverRadius}))}},t.clear=function(){this.board.destroyChildren(),this.uniqueKey=""},t.showBoard=function(e){this.board.x(e.x),this.board.y(e.y),this.board.width(e.width),this.board.height(e.height),this.board.show()},e}(),Ks=function(){function e(e,t,n){this.canvas=e,this.view=t,this.collector=n,this.rect=new Vs(this.canvas,this.collector),this.action=new Qs(this.canvas),this.operator=new Hs(this.canvas,this.view,this.collector)}var t=e.prototype;return t.destroy=function(){this.rect.destroy(),this.action.destroy(),this.operator.destroy()},t.hide=function(){this.rect.hide(),this.action.hide(),this.operator.hide()},t.showAction=function(e,t){this.action.show(e,t)},t.clearAction=function(){this.action.clear()},t.showAddRecord=function(){var e;this.rect.hide(),this.action.hide(),this.operator.hide(),(e=this.rect).showAddRecord.apply(e,arguments)},t.showAddRecordIcon=function(e){this.rect.hide(),this.action.hide(),this.operator.hide(),this.rect.showAddRecordIcon(e)},t.showAddField=function(e){this.rect.hide(),this.action.hide(),this.operator.hide(),this.rect.showAddField(e)},t.showField=function(e){this.rect.hide(),this.action.hide(),this.operator.hide(),this.rect.showField(e)},t.showStat=function(e){this.rect.hide(),this.action.hide(),this.operator.hide(),this.rect.showStat(e)},t.flushOperator=function(e){this.rect.hide(),this.action.hide(),this.operator.flush(e)},t.showOperator=function(e){this.rect.hide(),this.action.hide(),this.operator.show(e)},e}();function Xs(e,t,n,i){if(!e)return null;var o={x:t.x+ls.pK,y:t.y+ls.pK,width:t.width-2*ls.pK,height:t.height-ls.pK},r=i.isGroupHead,s=void 0!==r&&r,a=i.fieldId,l=i.recordId,d=Js(s,n.layout.getVisibleLines(),e.sourceType);return qs(e.sourceType,o,d,n,s,a,l),{cell:e,config:d,rect:o}}function Js(e,t,n){var i=n===V.f.MULTIPLE_SELECT||n===V.f.SINGLE_SELECT;return{textConfig:{align:"left",lineHeight:i?1:1.5,fontStyle:e&&!i?"bold":"normal",verticalAlign:"top",fontSize:e?ls.fA:Xi.Kt},selectConfig:{fontSize:Xi.Kt,height:e?Xi.SZ:Xi.PG},lineCount:e?1:t}}function qs(e,t,n,i,o,r,s){var a=i.isMobile();switch(e){case V.f.NUMBER:a||o||(n.textConfig.align="right");break;case V.f.CHECKBOX:var l;t.y+=2,a?t.x+=1:o||(t.x=t.x+(t.width-zi.k3.size)/2),t.width=zi.k3.size,t.height=zi.k3.size,o||(n.actionMark=((l={})[ko.k4]={type:ko.KW.CHECKBOX_CHECK,hoverCursor:ko.WV.POINTER,fieldId:r,recordId:s},l));break;case V.f.MULTIPLE_SELECT:case V.f.SINGLE_SELECT:t.width+=ls.pK,o&&(n.selectConfig.fontSize=ls.fA);break;case V.f.ATTACHMENT:t.width+=ls.pK,t.y-=2,o&&(n.selectConfig.fontSize=ls.fA);break;case V.f.IMAGE:t.width+=ls.pK,t.height-=ls.pK,a&&o&&(t.y+=2);break;case V.f.PROGRESS:t.y+=1,n.textConfig.align="right";break;case V.f.URL:var d;o||(n.actionMark=((d={})[ko.k4]={type:ko.KW.OPEN_URL,hoverCursor:ko.WV.POINTER,fieldId:r,recordId:s},d))}}var $s=["mouseup","mousedown","mousemove"],ea=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).listeners=[],t.mouseDownX=0,t.mouseDownY=0,t.onRecordMoved=function(){t.reset()},t.onDocumentMousemove=function(e){var n=e.x,i=e.y;t.isOutCanvas(n,i)&&t.reset()},t.onDocumentMouseup=function(e){t.canvas.view.getRoot().contains(e.target)||t.reset()},t.onScroll=function(){t.reset()},t.reset=function(){t.setDefaultCursor(),t.hover.hide()},t.eventActionEntry=function(e){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y;if((0,js.oH)(i,t.collector.size))if(t.isNeedPrevent(i,o,e.evt.button))0===e.evt.button&&t.hover.hide();else{var r=e.evt.type;if(!t.isClickSlipping(r,i,o)){var s=e.target.getAttr(ko.k4);if(s)t.doAssignAreaAction(r,s,gr(e.target));else{var a=(0,js.ZP)(i,o,t.collector),l=t.canvas.getFeature("RecordFloat"),d=null===l||void 0===l?void 0:l.isShow();d||!t.isNeedLayoutAction(a)?("mouseup"!==r||d||t.checkClickBlank(),e.target===t.canvas.view.getStage()&&"mousemove"===r&&t.reset()):t.doLayoutUnitAction(r,a,e)}}}},t.getHoverTag=function(e,t,n){var i=e.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y,s=o-n.x,a=r-n.y;return t.find((function(e){return e.rect.x<=s&&e.rect.x+e.rect.width>s&&e.rect.y<=a&&e.rect.y+e.rect.height>a}))},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e=this;this.hover=new Ks(this.canvas,this.canvas.view,this.collector),this.action=new Bs(this.canvas.context,this.canvas,this.canvas.view,this.collector),$s.forEach((function(t){e.listeners.push(e.emitter.global[t].event(e.eventActionEntry))})),this.listeners.push(this.emitter.global.scroll.event(this.onScroll)),this.listeners.push(s.o.onRecordMoved.event(this.onRecordMoved)),document.addEventListener("mousemove",this.onDocumentMousemove),document.addEventListener("mouseup",this.onDocumentMouseup),document.addEventListener("visibilitychange",this.reset)},n.destroy=function(){this.hover.destroy(),this.listeners.forEach((function(e){return e.dispose()})),this.listeners=[],document.removeEventListener("mousemove",this.onDocumentMousemove),document.removeEventListener("mouseup",this.onDocumentMouseup),document.removeEventListener("visibilitychange",this.reset)},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.getHover=function(){return this.hover},n.setDefaultCursor=function(){this.canvas.view.setCursor(ko.WV.DEFAULT)},n.setAddRecordHover=function(e){this.canvas.view.setCursor(ko.WV.POINTER),this.hover.showAddRecord(e.unit)},n.setAddRecordIconHover=function(e){this.canvas.view.setCursor(ko.WV.POINTER),this.hover.showAddRecordIcon(e.unit)},n.isNeedPrevent=function(e,t,n){var i=this.canvas.getFeature("WidthResize"),o=this.canvas.getFeature("FieldMove"),r=this.canvas.getFeature("Selector"),s=this.canvas.getFeature("Scroller"),a=this.canvas.getFeature("RecordMove"),l=this.canvas.getFeature("SmartFill"),d=this.canvas.getFeature("TimelineTimeBarAction");return 0!==n||(null===i||void 0===i?void 0:i.isHover)||(null===o||void 0===o?void 0:o.isMoving())||(null===r||void 0===r?void 0:r.isSelectMoving())||(null===s||void 0===s?void 0:s.isLocated(e,t))||(null===a||void 0===a?void 0:a.isMoving())||(null===l||void 0===l?void 0:l.isHovering())||(null===d||void 0===d?void 0:d.isOperating)},n.isNeedLayoutAction=function(e){return(0,zs.AQ)(e,this.collector)||(0,zs.My)(e,this.collector)||(0,zs.Uy)(e)||(0,zs.S6)(e)||(0,zs.ol)(e)||(0,zs.x6)(e,this.collector)||(0,zs.h5)(e,this.collector)},n.isClickSlipping=function(e,t,n){return"mousedown"===e&&(this.mouseDownX=t,this.mouseDownY=n),"mouseup"===e&&(Math.abs(t-this.mouseDownX)>5||Math.abs(n-this.mouseDownY)>5)},n.checkClickBlank=function(){this.action.hideRecordDetail();var e=this.collector.getRangeModel();e.getCurrentSelection().getRanges()&&(e.resetSelection(),this.canvas.view.renderForce())},n.doAssignAreaAction=function(e,t,n){if(this.canvas.view.canEdit()||[ko.KW.OPEN_URL,ko.KW.EXPAND_RECORD].includes(t.type))switch(e){case"mousemove":this.doAssignAreaHoverAction(t,n);break;case"mouseup":this.doAssignAreaClickAction(t,n)}},n.doAssignAreaHoverAction=function(e,t){e.hoverCursor&&e.type!==ko.KW.GROUP_COLLSAPSE&&this.canvas.view.setCursor(e.hoverCursor),e.hoverIcon||e.hoverRect?this.hover.showAction(t,e):this.hover.clearAction()},n.doAssignAreaClickAction=function(e,t){var n,i=e.value,o=(null===i||void 0===i?void 0:i.fieldId)||e.fieldId,r=(null===i||void 0===i?void 0:i.recordId)||e.recordId;switch(e.type){case ko.KW.SELECT_ALL_RECORD:this.action.toggleAllRecord(),this.hover.showAction(t,{hoverRect:!0});break;case ko.KW.SELECT_SINGLE_RECORD:this.action.toggleSingleRecord(i),this.hover.flushOperator(i);break;case ko.KW.CHECKBOX_CHECK:this.action.toggleCheckbox(o,r);break;case ko.KW.EXPAND_RECORD:this.action.expendShowRecord(r),this.hover.flushOperator(i),null===(n=this.canvas.getFeature("RecordFloat"))||void 0===n||n.hide();break;case ko.KW.OPEN_MODIFY_FIELD_PROPERTY:this.action.openModifyFieldProperty(o),this.hover.hide();break;case ko.KW.OPEN_URL:this.action.openUrl(o,r)}e.type!==ko.KW.EXPAND_RECORD&&this.action.hideRecordDetail()},n.doLayoutUnitAction=function(e,t,n){"mousemove"===e&&this.setDefaultCursor();var i=(0,zs.Uy)(t);"mouseup"!==e||i||this.action.hideRecordDetail();var o=this.canvas.view.canEdit();if(o&&(0,zs.ol)(t))this.doLayoutUnitAddRecordAction(e,t);else if(o&&(0,zs.x6)(t,this.collector))this.doLayoutUnitAddFieldAction(e,t);else{if(o&&(0,zs.My)(t,this.collector))return this.hover.clearAction(),void this.doLayoutUnitFieldAction(e,t);if((0,zs.S6)(t)){var r=t.unit;this.hover.showOperator(r)}else{if(i)return(0,zs.AQ)(t,this.collector)&&this.doLayoutUnitDisabledAction(),(0,zs.Y7)(t,this.collector)&&this.doFieldHoverAction(t,n),void this.doLayoutUnitRecordAction(e,t);o&&(0,zs.h5)(t,this.collector)&&this.doLayoutUnitStatAction(e,t)}}},n.doFieldHoverAction=function(e,t){if("mousemove"===t.evt.type){var n=(0,zs.Ql)(e,this.collector);if(n&&Fs.Pl.includes(n)&&e.unit&&e.unit.recordId)switch(n){case V.f.SINGLE_SELECT:case V.f.MULTIPLE_SELECT:this.doHoverSelectAction(e,t)}}},n.doHoverSelectAction=function(e,t){var n=this.getSelectEllipsisInfo(e,t),i=t.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y;(null===n||void 0===n?void 0:n.isEllipsis)?this.action.showTips({x:o,y:r,width:0,height:0},n.text):this.action.hideTips()},n.getSelectEllipsisInfo=function(e,t){var n;if(e.unit){var i=e.unit,o=i.fieldId,r=i.recordId,s=(0,Is.a)(o,r,this.collector),a=this.getSelectTags(e,t);return a&&s?{isEllipsis:(null!==(n=(null===a||void 0===a?void 0:a.rect.x)+(null===a||void 0===a?void 0:a.rect.width))&&void 0!==n?n:0)>s.width,width:a.rect.width,height:a.rect.height,text:a.text}:{isEllipsis:!1}}},n.getSelectTags=function(e,t){if(e.unit){var n=e.unit,i=n.fieldId,o=n.recordId,r=Js(!1,this.collector.layout.getVisibleLines(),(0,zs.Ql)(e,this.collector)),s=this.collector.getCell(i,o),a=(0,Is.a)(i,o,this.collector);if(a&&s&&r.selectConfig){var l=or.Z.collectTags(s.data,r.selectConfig),d=or.Z.collectTagLayouts(l,a,r.lineCount),c=or.Z.collectRenderTags(l,d,or.Z.getTagHeight(r.selectConfig));return this.getHoverTag(t,c,a)}}},n.doLayoutUnitFieldAction=function(e,t){"mousemove"===e&&(this.canvas.view.setCursor(ko.WV.POINTER),this.hover.showField(t.fieldId))},n.doLayoutUnitRecordAction=function(e,t){this.hover.showOperator(t.unit)},n.doLayoutUnitAddRecordAction=function(e,t){var n=this.collector.getRangeModel(),i=n.getCurrentSelection(),o=i.isRangeSelection()&&!!i.getRanges(),r=i.isColumnSelection()||o,s=t.fieldId===os.MB;switch(e){case"mousemove":if(!r){this.setAddRecordHover(t);break}if(s){this.setAddRecordIconHover(t);break}this.reset();break;case"mouseup":if(!r||s){this.reset(),this.action.addRecord(t.unit);break}n.resetSelection(),this.setAddRecordHover(t)}},n.doLayoutUnitAddFieldAction=function(e,t){switch(e){case"mousemove":this.canvas.view.setCursor(ko.WV.POINTER),this.hover.showAddField(t.fieldId);break;case"mouseup":this.action.addFieldAtEnd()}},n.doLayoutUnitStatAction=function(e,t){switch(e){case"mousemove":this.canvas.view.setCursor(ko.WV.POINTER),this.hover.showStat(t.unit);break;case"mouseup":this.action.openStatPanel(t.unit)}},n.doLayoutUnitDisabledAction=function(){this.canvas.view.setCursor(ko.WV.NOT_ALLOWED)},t}(ps.Z);ea.Name="Interactive";var ta,na,ia,oa,ra=n("../node_modules/@tencent/docs-keymap/lib/esm/index.js");function sa(e){var t=e.size,n=e.ranger,i=e.layout.getMaxIndent(),o=t.frozenWidth-i,r=t.additionFieldWidth+t.globalPaddingRight,s=t.activityScrollWidth-n.getOffset().offsetX-t.activityViewWidth;return o+(t.activityViewWidth-Math.max(0,r-s))}var aa=((na={})[ai.IS_SORT]={DEFAULT:R.Z.t("record_moved_by_sort")},na[ai.IS_GROUP]={DEFAULT:R.Z.t("record_moved_by_group")},na[ai.IS_FILTER]=((ta={DEFAULT:R.Z.t("record_moved_by_filter")})[6]=R.Z.t("insert_record_by_filter"),ta),na),la=((ia={})[ai.IS_SORT]=R.Z.t("record_be_sorted"),ia[ai.IS_GROUP]=R.Z.t("record_be_grouped"),ia[ai.IS_FILTER]=R.Z.t("record_be_filtered"),ia),da=((oa={})[ai.IS_SORT]="rank_hint",oa[ai.IS_GROUP]="group_hint",oa[ai.IS_FILTER]="filter_hint",oa),ca=[V.f.CHECKBOX],ua=4,ha=24,ga=8,fa="#FFF",ma=12,pa=2,va="#FFAB00",Ia="#FFFCEB",ya=.5,_a=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).recordId="",t.expandRecordId="",t.fromIndex=-1,t.actionRecordIndex=-1,t.tipAreaWidth=0,t.hideReadyAsync=!1,t.hideReadyDuration=300,t.onRecordDetailStateChange=function(e){t.expandRecordId=(null===e||void 0===e?void 0:e.recordId)||"",t.expandRecordId===t.recordId&&t.hide()},t.onAddRecord=function(e){if(e.recordId){var n=t.collector.getAllRecordIds().indexOf(e.recordId);t.actionRecordIndex=t.recordIndexToLayoutIndex(n)}},t.onDocumentMouseup=function(e){var n=e.x,i=e.y;t.isOutCanvas(n,i)&&t.hide()},t.onCanvasScroll=function(e){for(var n=t.activityBoard.getChildren(),i=n.length-1;i>=0;){var o=n[i];o.x(o.x()-e.x),i-=1}t.clipActivityBoard(),t.bodyRect.width(sa(t.collector)),t.frozenLine.visible(t.collector.ranger.getOffset().offsetX>0)},t.onCanvasMouseup=function(e){if(t.hideReadyAsync){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y,r=t.board.x(),s=t.board.y(),a=t.board.height(),l=t.bodyRect.width(),d=i>r&&i<l,c=o>s&&o<s+ha&&i<r+t.tipAreaWidth,u=o>s+ha&&o<s+a;if(d&&(c||u)){if(u){var h=(0,js.L5)(i,t.collector),g=t.collector.getRenderFieldIds()[h];t.setActivePoint(g),t.collector.getFloatState().show({fieldId:g,recordId:t.recordId})}}else t.hideFloat()}},t.onRecordMoved=function(e){t.canvas.view.nextTick((function(){return t.handleRecordMoved(e)}))},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.board=Lo.u.board({visible:!1}),this.canvas.getLayer().add(this.board),this.addRecordListener=this.emitter.service.addRecordClickEmitter.event(this.onAddRecord),this.movedListener=s.o.onRecordMoved.event(this.onRecordMoved);var e=this.collector.getRecordDetail();this.recordDetailListener=e.recordDetailStateChangeEvent.event(this.onRecordDetailStateChange)},n.destroy=function(){var e,t,n,i,o,r,s,a;null===(e=this.board)||void 0===e||e.destroy(),null===(t=this.bodyRect)||void 0===t||t.destroy(),null===(n=this.frozenLine)||void 0===n||n.destroy(),null===(i=this.forzenBoard)||void 0===i||i.destroy(),null===(o=this.activityBoard)||void 0===o||o.destroy(),null===(r=this.addRecordListener)||void 0===r||r.dispose(),null===(s=this.movedListener)||void 0===s||s.dispose(),null===(a=this.recordDetailListener)||void 0===a||a.dispose(),this.toDeactivated()},n.addActivedEvents=function(){var e=this,t=ra.N9.COMMAND,n=ra.N9.CTRL_WIN,i=ra.VD.ESCAPE,o=ra.VD.ENTER,r=ra.VD.SHIFT,s=ra.VD.H,a=ra.VD.F,l=ra.VD.Z;this.keymapService=new ra.Vj,this.keymapService.register({keyBindings:{mac:[o,i,t+l,t+a,t+s,t+r+s],win:[o,i,n+l,n+a,n+s,t+r+s]},shouldPreventDefault:!0,handler:function(){return e.hide()},when:function(){return!0}}),this.mouseupListener=this.emitter.global.mouseup.event(this.onCanvasMouseup),this.scrollListener=this.emitter.global.scroll.event(this.onCanvasScroll),document.addEventListener("mouseup",this.onDocumentMouseup)},n.removeActivedEvents=function(){var e,t,n;null===(e=this.keymapService)||void 0===e||e.destroy(),this.keymapService=null,null===(t=this.mouseupListener)||void 0===t||t.dispose(),null===(n=this.scrollListener)||void 0===n||n.dispose(),document.removeEventListener("mouseup",this.onDocumentMouseup)},n.updated=function(){var e,t;if(this.isShow()){if(!(null===(t=null===(e=this.canvas.context.getCurrentView())||void 0===e?void 0:e.getAllRecordIds())||void 0===t?void 0:t.includes(this.recordId)))return void this.hide();var n=this.collector.getAllRecordIds();if(this.tipType.label===ai.IS_FILTER&&n.includes(this.recordId))return this.selectOrignRowAsync(this.recordId),void this.hide();if(this.tipType.label===ai.IS_SORT&&n.indexOf(this.recordId)===this.fromIndex)return this.selectOrignRowAsync(this.recordId),void this.hide();this.paintFloat()}},n.isShow=function(){return this.board.visible()},n.hide=function(){this.isShow()&&this.hideFloat()},n.getY=function(){return this.board.y()+ha+ya},n.getRecordId=function(){return this.recordId},n.resetOtherStatus=function(){this.collector.getRangeModel().resetSelection()},n.setActivePoint=function(e){var t=this.collector.getAllFieldIds().indexOf(e);if(!(t<0)){var n=this.collector.getRangeModel(),i=n.getCurrentSelection().getActivePoint();if((null===i||void 0===i?void 0:i.column)!==t){var o={row:0,column:t},r={startRow:0,endRow:0,startColumn:t,endColumn:t};n.selectRange(r,o)}}},n.selectOrignRow=function(e){var t=this.collector.getAllRecordIds().indexOf(e);if(-1!==t){var n={row:t,column:0},i={startRow:t,endRow:t,startColumn:0,endColumn:0};this.collector.getRangeModel().selectRange(i,n)}},n.selectOrignRowAsync=function(e){var t=this;setTimeout((function(){return t.selectOrignRow(e)}),this.hideReadyDuration)},n.handleRecordMoved=function(e){var t=new Set;if(1!==e.length)return e.forEach((function(e){return t.add(e.type)})),void this.showToast(t);var n=e[0],i=n.fieldTypes;if(i.length&&i.every((function(e){return ca.includes(e)})))return t.add(n.type),void this.showToast(t);this.showFloatLayer(n)},n.showFloat=function(){var e=this.collector,t=e.size,n={x:e.layout.getMaxIndent()+t.globalPaddingLeft,y:this.getRecordY(),width:sa(this.collector),height:this.collector.getRecordHeight()};this.recordRect=n,this.paintFloat(),this.toActived(),this.resetOtherStatus()},n.getOriginIndex=function(e){return-1!==e?this.recordIndexToLayoutIndex(e):e},n.getRecordY=function(){var e=this.collector,t=e.size,n=e.ranger,i=this.collector.getRecordHeight();if(-1===this.fromIndex)return-1!==this.actionRecordIndex?this.collector.getLayoutY(this.actionRecordIndex):this.collector.getLayoutY(0)-t.activityStartY+n.getOffset().offsetY;var o=this.collector.getLayoutY(this.fromIndex)-i;return Math.max(0,o)},n.hideFloat=function(){this.recordId&&(this.recordId="",this.actionRecordIndex=-1,this.fromIndex=-1,this.hideReadyAsync=!1,this.board.hide(),this.board.destroyChildren(),this.toDeactivated(),this.resetOtherStatus(),this.collector.getFloatState().hide(),this.canvas.view.renderForce())},n.paintFloat=function(){var e,t,n=this.collector.size,i=Object.assign(Object.assign({},this.recordRect),{y:this.recordRect.y+ha,height:this.recordRect.height+ha});this.board.destroyChildren(),this.board.setAttrs(i),this.board.visible(!0),this.bodyRect=Lo.u.shape.rect(this.board,{x:0,y:ha,width:this.recordRect.width,height:this.recordRect.height,stroke:va,strokeWidth:pa,fill:Ia});var o=this.getTipText(this.tipType.label,this.tipType.action),r=Lo.u.util.measureWidth(o,ma);this.tipAreaWidth=Xi.UV+r+3*ga,Lo.u.shape.rect(this.board,{x:-pa/2,y:0,height:ha,width:this.tipAreaWidth,fill:va,cornerRadius:[ua,ua,0,0]}),Lo.u.icon.draw(this.board,Or.Y.TIP_DARK,{x:ga,y:(ha-Xi.UV)/2,width:Xi.UV,height:Xi.UV}),Lo.u.shape.text(this.board,{text:o,fill:fa,fontSize:ma,x:ga+Xi.UV,y:0,width:r,height:ha}),null===(e=this.activityBoard)||void 0===e||e.destroyChildren(),this.activityBoard=Lo.u.board({x:0,y:ha,width:this.recordRect.width,height:this.recordRect.height}),null===(t=this.forzenBoard)||void 0===t||t.destroyChildren(),this.forzenBoard=Lo.u.board({x:0,y:ha,width:n.frozenWidth,height:this.recordRect.height}),this.paintRecordContent(),this.clipActivityBoard(),this.board.add(this.activityBoard),this.board.add(this.forzenBoard)},n.clipActivityBoard=function(){var e=this.collector.size,t=this.collector.layout.getMaxIndent(),n=e.activityStartX-e.globalPaddingLeft-t;this.activityBoard.clipFunc((function(t){return t.rect(n,0,e.activityViewWidth,e.activityViewHeight)}))},n.paintRecordContent=function(){var e=this;this.paintExpand(this.forzenBoard),this.collector.getAllFieldIds().forEach((function(t){var n=e.collector.getFrozenFields().includes(t);e.paintCell(n?e.forzenBoard:e.activityBoard,t,n)}))},n.paintExpand=function(e){var t,n=-1;this.tipType.label!==ai.IS_FILTER&&(n=this.collector.getAllRecordIds().indexOf(this.recordId));var i=this.collector.layout.getMaxIndent(),o=this.collector.size.operatorFieldWidth-i,r={x:-1===n?(o-Xi._u)/2:ls.pK,y:(this.recordRect.height-Xi._u)/2,width:Xi._u,height:Xi._u};Lo.u.icon.draw(e,Or.Y.EXPEND_RECORD,Object.assign(Object.assign({},r),((t={listening:!0})[ko.k4]={type:ko.KW.EXPAND_RECORD,hoverCursor:ko.WV.POINTER,hoverRect:!0,recordId:this.recordId},t))),-1!==n&&Lo.u.shape.text(e,{text:""+(n+1),x:0,y:0,width:o,height:this.recordRect.height,fill:ls.XM,align:"center"})},n.paintCell=function(e,t,n){var i=this.collector.layout.getMaxIndent(),o=this.collector.getAllRecordIds(),r=this.collector.getCell(t,this.recordId||o[2]),s={x:this.collector.getFieldX(t)-this.collector.size.globalPaddingLeft-i,y:0,width:this.collector.getFieldWidth(t),height:this.recordRect.height},a=Xs(r,s,this.collector,{fieldId:t,recordId:this.recordId});a&&Lo.u.cell.draw(e,a.rect,a.cell,a.config),ls.H9&&(n?this.frozenLine=Lo.u.shape.line(e,{x:s.x,y:s.y+1,strokeWidth:2,points:[s.width+ya,0,s.width+ya,this.recordRect.height-2],visible:this.collector.ranger.getOffset().offsetX>0}):Lo.u.shape.line(e,{x:s.x,y:s.y+1,points:[ya,0,ya,this.recordRect.height-2]}))},n.recordIndexToLayoutIndex=function(e){return this.collector.layout.getLayouts().findIndex((function(t){return t.recordIndex===e}))},n.getTipText=function(e,t){var n,i=aa[e];return null!==(n=i[t])&&void 0!==n?n:i.DEFAULT},n.showFloatLayer=function(e){var t=this,n=e.type,i=e.recordId,o=e.fieldIds,r=e.fromIndex,s=e.requestId;if(i&&this.recordId!==i&&this.expandRecordId!==i){this.tipType={label:n,action:s},this.recordId=i,this.fromIndex=this.getOriginIndex(r),this.showFloat();var a=(null===o||void 0===o?void 0:o[0])||this.collector.getAllFieldIds()[0];this.collector.getFloatState().show({recordId:i,fieldId:a}),this.setActivePoint(a),setTimeout((function(){return t.hideReadyAsync=!0}),this.hideReadyDuration),ms.F.showFloatLayer(da[n])}},n.showToast=function(e){e.forEach((function(e){var t=la[e];qo.default.show({message:t,duration:5e3,id:"record_moved_toast_"+e})}))},t}(ps.Z);_a.Name="RecordFloat";var ba,Ma,Ca={hoverColor:ls.mS},wa=function(){function e(e){this.canvas=e,this.maskBoard=Lo.u.board({visible:!1}),this.initShapes(),this.maskBoard.moveUp()}var t=e.prototype;return t.destroy=function(){this.maskRect.destroy(),this.maskBoard.destroy()},t.show=function(e){this.showBoard(this.maskBoard,this.maskRect,e)},t.hide=function(){this.maskBoard.visible(!1)},t.updateY=function(e){this.maskBoard.visible()&&this.maskBoard.y(this.maskBoard.y()-e)},t.showBoard=function(e,t,n){t.setAttrs(Object.assign(Object.assign({},n),{x:0,y:0})),e.setAttrs(n),this.clipBoard(e,n),e.visible(!0)},t.initShapes=function(){this.maskRect=Lo.u.shape.rect(this.maskBoard,{fill:Ca.hoverColor}),this.canvas.getLayer().add(this.maskBoard)},t.clipBoard=function(e,t){var n=Zs(t.x,t.y,!0,this.collector),i=n.clipX,o=n.clipY;e.clipFunc((function(e){return e.rect(i,o,t.width,t.height)}))},(0,mi.Z)(e,[{key:"visible",get:function(){return this.maskBoard.visible()}},{key:"collector",get:function(){return this.canvas.collector}}]),e}(),Ta=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).hoverRecordId="",t.activeRecordId="",t.detailRecordId="",t.onDocumentMousemove=function(e){t.isContainsInStage(e.target)||t.hideHover()},t.onCanvasScroll=function(e){if(t.activeBar.visible){t.activeBar.updateY(e.y);var n=t.getRecordRectByRecordId(t.activeRecordId);n&&t.activeBar.show(n)}t.hideHover()},t.onCanvasMousemove=function(e){if(t.isPrevant())t.hideHover();else{var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y;if((0,js.oH)(i,t.collector.size)){var r=(0,js.ZP)(i,o,t.collector),s=(0,zs.Uy)(r),a=(0,zs.S6)(r);(s||a)&&(null===r||void 0===r?void 0:r.unit)?t.doRecordHover(r.unit.recordId):t.hideHover()}}},t.onActivePointChange=function(e){var n=e.activePoint;if(!n||t.isPrevant())t.detailRecordId||t.hideActive();else{var i=t.collector.getAllRecordIds()[n.row];i&&(t.doRecordActive(i),t.emitter.service.expandRow.fire({recordId:i,isCheckUpdate:!0}))}},t.onRecordDetailStateChange=function(e){var n=null===e||void 0===e?void 0:e.recordId,i=n&&t.collector.layout.getLayoutIndexByRecordId(n),o=i&&t.collector.layout.getLayout(i),r=o&&t.collector.layout.isHiddenLayout(o.parent);n&&!r?(t.detailRecordId=n,t.doRecordActive(n)):(t.detailRecordId=n||"",t.hideActive())},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e=this.collector.getRecordDetail();this.initShapes(),this.scrollListener=this.emitter.global.scroll.event(this.onCanvasScroll),this.mousemoveListener=this.emitter.global.mousemove.event(this.onCanvasMousemove),this.activePointListener=this.canvas.context.onActivePointChanged(this.onActivePointChange),this.recordDetailListener=e.recordDetailStateChangeEvent.event(this.onRecordDetailStateChange),document.addEventListener("mousemove",this.onDocumentMousemove)},n.destroy=function(){var e,t,n,i;this.hoverBar.destroy(),this.activeBar.destroy(),null===(e=this.scrollListener)||void 0===e||e.dispose(),null===(t=this.mousemoveListener)||void 0===t||t.dispose(),null===(n=this.activePointListener)||void 0===n||n.dispose(),null===(i=this.recordDetailListener)||void 0===i||i.dispose(),document.removeEventListener("mousemove",this.onDocumentMousemove)},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){var e=this.detailRecordId||this.activeRecordId;if(e){var t=this.getRecordRectByRecordId(e);t?this.showActive(t):this.hideActive()}this.hideHover()},n.setRecordHover=function(e){this.doRecordHover(e)},n.hideHover=function(){this.hoverRecordId&&(this.hoverRecordId="",this.hoverBar.hide())},n.setRecordActive=function(e){this.doRecordActive(e)},n.clearRecordActive=function(){this.hideActive()},n.isPrevant=function(){var e=this.canvas.getFeature("WidthResize"),t=this.canvas.getFeature("Selector"),n=this.canvas.getFeature("SmartFill"),i=this.canvas.getFeature("RecordMove"),o=this.canvas.getFeature("FieldMove"),r=this.canvas.getFeature("RecordFloat"),s=this.canvas.getFeature("TimelineTimeBarAction");return(null===e||void 0===e?void 0:e.isHover)||(null===t||void 0===t?void 0:t.isSelectMoving())||(null===n||void 0===n?void 0:n.isHovering())||(null===i||void 0===i?void 0:i.isMoving())||(null===o||void 0===o?void 0:o.isMoving())||(null===r||void 0===r?void 0:r.isShow())||(null===s||void 0===s?void 0:s.isOperating)},n.initShapes=function(){this.hoverBar=new wa(this.canvas),this.activeBar=new wa(this.canvas)},n.showHover=function(e,t){this.hoverRecordId=t,this.hoverBar.show(e)},n.showActive=function(e){this.activeBar.show(e),this.hideHover()},n.hideActive=function(){this.activeBar.hide(),this.activeRecordId=""},n.doRecordHover=function(e){if(this.activeRecordId!==e){if(this.hoverRecordId!==e){var t=this.getRecordRectByRecordId(e);t&&(t.height+=1,this.showHover(t,e))}}else this.hideHover()},n.doRecordActive=function(e){if(this.activeRecordId!==e){this.activeRecordId=e;var t=this.getRecordRectByRecordId(e);t&&this.showActive(t)}},n.getRecordRectByRecordId=function(e){var t=this.canvas.getLayer().getWidth();return Ys(this.collector,t,this.canvas.view.getType(),{type:ns.yP.RECORD,recordId:e})},t}(ps.Z);Ta.Name="RecordHover",function(e){e[e.down=0]="down",e[e.up=1]="up",e[e.none=2]="none"}(ba||(ba={})),function(e){e.IN_FIELD="IN_FIELD",e.OUT_STAGE="OUT_STAGE",e.IN_RECORD="IN_RECORD",e.IN_RECORD_FIELD="IN_RECORD_FIELD"}(Ma||(Ma={}));var Ea=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).grabbing=!1,t.moving=!1,t.lastPosition={x:0,y:0},t.isDragSelectRecord=!1,t.currentRecordId="",t.originGroupPath=[],t.originScrollY=0,t.mousedown=function(e){var n;if(!t.grabbing&&e.evt.button!==ks.R){var i=e.target.getAttr(ko.k4);if(i&&i.type===ko.KW.DRAG_RECORD){var o=t.canvas.context.getCurrentView();if((null===o||void 0===o?void 0:o.isAutoSort())&&(null===o||void 0===o?void 0:o.getSortInfos().length))qo.default.show({message:R.Z.t("cannot_dragger"),closable:!0,duration:1500,id:"record-move"});else{t.canvas.view.setCursor(ko.WV.GRABBING),null===(n=t.canvas.autoScroll)||void 0===n||n.ready(er.Nm.Y),t.refreshLastPosition(e);var r=t.getTargetUnit(e);r&&(t.originGroupPath=t.collector.layout.getUnitGroupPath(r),t.currentRecordId=r.recordId,t.isDragSelectRecord=t.isRecordSelected(r),t.updateRectPosition(r.layoutIndex),t.updateLinePosition(r.layoutIndex),t.rect.show(),t.rect.moveToTop(),t.grabbing=!0,t.toActived(),t.emitter.service.expandHideRow.fire({}))}}}},t.mousemove=function(e){var n;if(t.grabbing){var i=e.evt,o=t.getTargetUnit(e);if(o){var r=t.calcPositionDelta(e),s=o.layoutType,a=o.layoutIndex,l=t.rect.getPosition().y+r.y;t.updateRectPosition(a,l),t.refreshLastPosition(e),t.handleLinePosition(i,l,s),null===(n=t.canvas.getFeature("RecordHover"))||void 0===n||n.setRecordActive(t.currentRecordId),t.moving=!0}}},t.mouseup=function(e){t.grabbing&&(t.originScrollY=t.canvas.view.getScrollOffset().y,t.done(e),t.handleScroll(),t.reset())},t.getDragRecordId=function(e,n){var i=n.length>0,o=t.getDragPositionStatus(e),r=t.collector.layout.getLayoutSize(ns.yP.RECORD),s=(0,js.ZP)(t.getOffsetX(e),t.rect.getPosition().y,t.collector).unit;if(o===Ma.OUT_STAGE)return"";if(o===Ma.IN_FIELD){var a=t.collector.getAllRecordIds()[0];return t.getPrevRecordId(a)}if(!i)return s.recordId;if(o===Ma.IN_RECORD)return s.recordId;if(o===Ma.IN_RECORD_FIELD){var l=(0,js.ZP)(t.getOffsetX(e),t.rect.getPosition().y+r,t.collector).unit;return t.getPrevRecordId(l.recordId)}return""},t.getTargetIndex=function(e,n){var i=t.canvas.context.getCurrentView().getRecordIndexFromAllRecordIds(n),o=t.getDragPositionStatus(e);return t.moveDirection(t.currentRecordId,n)===ba.up&&o!==Ma.IN_FIELD&&o!==Ma.IN_RECORD_FIELD&&(i+=1),i},t.onDocumentMouseup=function(e){var n;(null===(n=e.target)||void 0===n?void 0:n.parentElement)!==t.canvas.view.getStage().content&&t.reset()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.initShapes(),this.mousedownDisposable=this.emitter.global.mousedown.event(this.mousedown)},n.destroy=function(){var e;this.rect.destroy(),this.line.destroy(),null===(e=this.mousedownDisposable)||void 0===e||e.dispose(),this.toDeactivated()},n.addActivedEvents=function(){this.mousemoveDisposable=this.emitter.global.mousemove.event(this.mousemove),this.mouseupDisposable=this.emitter.global.mouseup.event(this.mouseup),document.addEventListener("mouseup",this.onDocumentMouseup)},n.removeActivedEvents=function(){var e,t;null===(e=this.mousemoveDisposable)||void 0===e||e.dispose(),null===(t=this.mouseupDisposable)||void 0===t||t.dispose(),document.removeEventListener("mouseup",this.onDocumentMouseup)},n.updated=function(){},n.isMoving=function(){return this.moving},n.showLine=function(e){this.updateLinePosition(e),this.line.show(),this.line.moveToTop()},n.hideLine=function(){this.line.hide()},n.refreshView=function(e,t){var n=this;if(this.collector.state.removeAllSelect(),e.forEach((function(e){n.collector.state.addSelectRecord(e)})),t){var i=this.canvas.getFeature("RecordHover");null===i||void 0===i||i.clearRecordActive(),null===i||void 0===i||i.setRecordActive(t)}this.canvas.view.renderForce()},n.getSelectRecordIds=function(){var e=this.canvas.context.getCurrentView();return e?this.getSelectRecords().map((function(t){return e.getAllRecordIds()[t]})):[]},n.getRectByLayoutIndex=function(e){var t=this.collector.layout.getLayout(e),n=null===t||void 0===t?void 0:t.recordId,i=this.canvas.getLayer().getWidth(),o=this.canvas.view.getType();return n&&(null===t||void 0===t?void 0:t.type)===ns.yP.RECORD?Ys(this.collector,i,o,{type:ns.yP.RECORD,recordId:n}):Ys(this.collector,i,o,{type:ns.yP.GROUP_HEAD,layoutIndex:e})},n.initShapes=function(){var e=this.collector,t=e.size,n=e.layout.getLayoutSize(ns.yP.RECORD),i=t.globalWidth,o=t.globalPaddingLeft;this.rect=Lo.u.shape.rect(null,{visible:!1,x:o,width:i,height:n,fill:"grey",opacity:.3}),this.line=Lo.u.shape.line(null,{x:0,points:[o,0,i,0],visible:!1,strokeWidth:1,stroke:Xi.Ro}),this.canvas.getLayer().add(this.rect),this.canvas.getLayer().add(this.line)},n.isHideLine=function(e){return Jo()(e)||e!==ns.yP.RECORD},n.handleLinePosition=function(e,t,n){var i=this.getBoundY(t),o=(0,js.ZP)(this.getOffsetX(),i,this.collector);if(o&&o.unit){var r=o.unit.layoutIndex,s=this.getDragPositionStatus(e.offsetX);if(s!==Ma.OUT_STAGE)if(s!==Ma.IN_FIELD){if(s===Ma.IN_RECORD||s===Ma.IN_RECORD_FIELD){var a=o.unit;if(!a)return;var l=this.collector.getLayoutY(a.layoutIndex);this.isHideLine(n)?this.hideLine():i>l&&this.showLine(r)}}else this.showLine(r-1);else this.hideLine()}},n.updateRectPosition=function(e,t){var n=this.getRectByLayoutIndex(e);n&&(this.rect.width(n.width),this.rect.height(n.height),this.rect.y(null!==t&&void 0!==t?t:n.y))},n.updateLinePosition=function(e){var t=Math.max(0,e),n=!1;-1===e&&(n=!0);var i=this.getRectByLayoutIndex(t);if(i){var o=i.y+(n?0:i.height);this.line.points([i.x,o,i.x+i.width,o])}},n.getPrevRecordId=function(e){var t=this.canvas.context.getCurrentView(),n=t.getRecordIndexFromAllRecordIds(e);return t.getAllRecordIds()[Math.max(0,n-1)]},n.isAllowMove=function(e,t){return!this.isArrayEqual(this.originGroupPath,e)||this.currentRecordId!==t},n.getRecordMoveMap=function(e,t){var n,i=this,o=this.canvas.context.getCurrentView(),r={};return this.isDragSelectRecord?r=e.reduce((function(e,n){var r,s=o.getAllRecordIds()[n];return i.collector.state.removeSelectRecord(s),Object.assign(Object.assign({},e),((r={})[s]={source:n,target:t},r))}),{}):((n={})[this.currentRecordId]={source:o.getRecordIndexFromAllRecordIds(this.currentRecordId),target:t},r=n),r},n.done=function(e){var t=this.getTargetUnit(e);if(t){var n=this.collector.layout.getUnitGroupPath(t),i=this.canvas.context.getBehaviorApi(),o=this.canvas.context.getCurrentView(),r=this.getSelectRecords(),s=this.getDragRecordId(e.evt.offsetX,n);if(s){var a=this.getTargetIndex(e.evt.offsetX,s),l=this.getSelectRecordIds(),d=this.getRecordMoveMap(r,a);this.isAllowMove(n,s)&&(i.moveRecord({tableId:this.canvas.context.getCurrentTable().id,viewId:o.id,delta:{recordMoveMap:d,groupPath:n}}),ms.F.recordMoveSuccess()),this.refreshView(l,this.currentRecordId)}}},n.handleScroll=function(){var e=this;this.canvas.view.nextTick((function(){e.canvas.view.scrollToY(e.originScrollY)}))},n.getFirstRecordLayoutY=function(){var e=this.collector.getAllRecordIds()[0],t=this.collector.layout.getLayoutIndexByRecordId(e);return this.collector.getLayoutY(t)},n.getDragPositionStatus=function(e){var t,n,i=this.rect.position().y,o=this.collector.layout.getLayoutSize(ns.yP.RECORD),r=this.getFirstRecordLayoutY(),s=null===(t=(0,js.ZP)(this.getOffsetX(e),this.rect.getPosition().y,this.collector))||void 0===t?void 0:t.unit,a=null===(n=(0,js.ZP)(this.getOffsetX(e),this.rect.getPosition().y+o,this.collector))||void 0===n?void 0:n.unit;return s||a?i<=r&&i+o>=r?Ma.IN_FIELD:i+o<r?Ma.OUT_STAGE:(null===s||void 0===s?void 0:s.layoutType)!==ns.yP.RECORD&&(null===a||void 0===a?void 0:a.layoutType)===ns.yP.RECORD?Ma.IN_RECORD_FIELD:Ma.IN_RECORD:Ma.OUT_STAGE},n.reset=function(){this.hide(),this.canvas.view.setCursor(ko.WV.GRAB),this.moving=!1,this.grabbing=!1,this.currentRecordId="";var e=this.collector.size,t=e.globalWidth,n=e.globalPaddingLeft;this.rect.x(n),this.line.points([n,0,t,0]),this.toDeactivated()},n.calcPositionDelta=function(e){var t=e.currentTarget.getRelativePointerPosition(),n=t.x,i=t.y;return{x:n-this.lastPosition.x,y:i-this.lastPosition.y}},n.refreshLastPosition=function(e){var t=e.currentTarget.getRelativePointerPosition(),n=t.x,i=t.y;this.lastPosition={x:n,y:i}},n.isRecordSelected=function(e){var t,n=this.collector.layout.getUnitRecordIndex(e),i=this.canvas.context.getCurrentView(),o=this.getSelectRecords(),r=null!==(t=null===i||void 0===i?void 0:i.getAllRecordIds().indexOf(this.collector.getAllRecordIds()[n]))&&void 0!==t?t:-1;return!!o.includes(r)},n.getSelectRecords=function(){var e=this,t=this.collector.getRangeModel().getCurrentSelection();if(!t.isRowSelection())return[];var n=t.getRanges(),i=[];return n.forEach((function(t){for(var n,o=t.startRow,r=t.endRow,s=e.collector.getAllRecordIds(),a=e.canvas.context.getCurrentView(),l=null===a||void 0===a?void 0:a.getAllRecordIds(),d=o;d<=r;d++){var c=s[d],u=null!==(n=null===l||void 0===l?void 0:l.indexOf(c))&&void 0!==n?n:-1;i.push(u)}})),i},n.getTargetUnit=function(e){var t=e.currentTarget.getRelativePointerPosition(),n=t.x,i=t.y,o=this.getBoundY(i),r=(0,js.ZP)(this.getOffsetX(n),o,this.collector);return null===r||void 0===r?void 0:r.unit},n.getBoundY=function(e){var t=this.collector.getAllRecordIds(),n=t[0],i=t[t.length-1],o=this.collector.getRecordY(n),r=this.collector.getRecordY(i);return r+=this.collector.getRecordHeight(),Math.min(r,Math.max(e,o))},n.hide=function(){this.rect.hide(),this.hideLine()},n.isRightest=function(){var e=this.collector,t=e.size,n=e.ranger,i=t.activityViewWidth,o=t.operatorFieldWidth,r=t.frozenWidth;return t.globalWidth-n.getOffset().offsetX<=i+o+r},n.isArrayEqual=function(e,t){return e.toString()===t.toString()},n.moveDirection=function(e,t){var n=this.canvas.context.getCurrentView(),i=n.getAllRecordIds().indexOf(e),o=n.getAllRecordIds().indexOf(t);return i===o?ba.none:i>o?ba.up:ba.down},n.getOffsetX=function(e){return void 0===e&&(e=0),e<=this.collector.size.globalPaddingLeft?this.collector.size.activityStartX:e},t}(ps.Z);Ea.Name="RecordMove";var ja=function(){function e(e,t){var n=this;this.canvas=e,this.collector=t,this.rects=[],this.renderRects=[],this.onCoreSelectionChanged=function(e){var t=e.selection;n.render(t)},this.onRecordDetailSelectionChange=function(e){n.renderRanges(n.handleRange(e))},this.selectionDisposable=this.canvas.context.onCoreSelectionChanged(this.onCoreSelectionChanged),this.recordDetailDisposable=this.collector.getRecordDetail().recordDetailSelectionChangeEvent.event(this.onRecordDetailSelectionChange),this.board=Lo.u.board()}var t=e.prototype;return t.update=function(){var e=this.collector.getRangeModel().getCurrentSelection();this.render(e)},t.destroy=function(){var e,t;this.rects=[],this.renderRects=[],null===(e=this.selectionDisposable)||void 0===e||e.dispose(),null===(t=this.recordDetailDisposable)||void 0===t||t.dispose(),this.board.destroy()},t.handleScroll=function(e){this.scroll(e),this.clip()},t.render=function(e){var t=this.getRange(e),n=this.collector.getRecordDetail().getRange();0!==t.length?this.renderRanges(t):this.renderRanges(this.handleRange(n))},t.renderRanges=function(e){var t=this;this.board.destroyChildren(),this.rects=this.rangeToRects(e),this.renderRects=this.rects.map((function(e){return Lo.u.shape.rect(t.board,Object.assign(Object.assign({},e),{fill:ls.qK}))})),this.renderRects.length>0&&(this.canvas.getLayer().add(this.board),this.board.moveToBottom(),this.clip())},t.rangeToRects=function(e){var t=this,n=[],i=this.collector.getRangeModel().getCurrentSelection().isRowSelection();return e.forEach((function(e){var o=t.toRect(e);if(o){var r=n[n.length-1];i&&r&&o.y===r.y+r.height?r.height+=o.height:n.push(o)}})),n},t.getRange=function(e){return e.isRangeSelection()?this.getRangeSelection(e):e.isRowSelection()?this.getRowSelection(e):e.isColumnSelection()?this.getColumnSelection(e):[]},t.toRect=function(e){if(!this.collector.getFloatState().isShow()){var t=this.collector.getAllFieldIds()[e.startColumn],n=this.collector.getAllFieldIds()[e.endColumn],i=this.collector.getAllRecordIds()[e.startRow],o=this.collector.layout.getLayouts().findIndex((function(e){return i===e.recordId})),r=this.collector.layout.getLayout(o);if(!r||!this.collector.layout.isHiddenLayout(r.parent)){var s=this.collector.getFieldX(t);return{x:s,y:this.collector.getLayoutY(o),width:this.collector.getFieldX(n)-s+this.collector.getFieldWidth(n),height:this.collector.layout.getLayoutSize(ns.yP.RECORD)*(e.endRow-e.startRow+1)}}}},t.getRangeSelection=function(e){var t=e.getRanges();return this.handleRange(t)},t.handleRange=function(e){var t=this.columnRange();return!e||e.startColumn>t.endColumn||e.endColumn<t.startColumn?[]:[Object.assign(Object.assign({},e),{startColumn:e.startColumn>t.startColumn?e.startColumn:t.startColumn,endColumn:e.endColumn<t.endColumn?e.endColumn:t.endColumn})]},t.getRowSelection=function(e){var t=this,n=e.getRanges();if(this.collector.state.isSelectAll()&&n[0])return this.getAllRowSelection(n[0]);var i=[];return n.forEach((function(e){for(var n=e.startRow;n<=e.endRow;n++)i.push(Object.assign(Object.assign({},t.columnRange()),{startRow:n,endRow:n}))})),i},t.getAllRowSelection=function(e){var t=this;if(this.collector.hasGroup()){var n=[],i=this.collector.layout.getLayouts(),o=0,r=0;return i.forEach((function(e,s){var a=i[s-1],l=i[s+1];e.type===ns.yP.RECORD&&(a&&a.type!==ns.yP.RECORD&&(o=e.recordIndex),l&&l.type!==ns.yP.RECORD&&(r=e.recordIndex,n.push(Object.assign({startRow:o,endRow:r},t.columnRange()))))})),n}return[Object.assign(Object.assign({},this.columnRange()),{startRow:e.startRow,endRow:e.endRow})]},t.getColumnSelection=function(e){var t,n=this.collector.layout.getLayouts().find((function(e){return e.type===ns.yP.GROUP_HEAD}));if(null===(t=null===n||void 0===n?void 0:n.head)||void 0===t?void 0:t.folded)return[];var i=this.collector.getAllRecordIds().length-1,o=this.collector.getGroupPathByRecordVisibleIndex(0);0!==o.length&&(i=this.collector.getGroupRecordIdsByPath(o).length-1);var r=e.getRanges(),s=this.columnRange(),a=[];return r.forEach((function(e){(e.startColumn>=s.startColumn&&e.startColumn<=s.endColumn||e.endColumn>=s.startColumn&&e.endColumn<=s.endColumn)&&a.push({startRow:0,endRow:i,startColumn:e.startColumn>s.startColumn?e.startColumn:s.startColumn,endColumn:e.endColumn<s.endColumn?e.endColumn:s.endColumn})})),a},e}(),Aa=function(e){function t(t,n){return e.call(this,t,n)||this}(0,u.Z)(t,e);var n=t.prototype;return n.columnRange=function(){return{startColumn:this.collector.getFrozenFieldCount()-1,endColumn:this.collector.getAllFieldIds().length-1}},n.scroll=function(e){this.rects=this.rects.map((function(t){var n=t;return n.x-=e.x,n.y-=e.y,n}))},n.clip=function(){for(var e=this.collector.size,t=e.activityStartX,n=t+e.activityViewWidth,i=e.activityStartY,o=i+e.activityViewHeight,r=0;r<this.rects.length;r++){var s=this.rects[r],a=this.renderRects[r],l=Math.max(t,s.x),d=Math.min(n,s.x+s.width);d=Math.max(l,d),a.x(l),a.width(d-l);var c=Math.max(i,s.y),u=Math.min(o,s.y+s.height);u=Math.max(u,c),a.y(c),a.height(u-c)}},t}(ja),xa=function(e){function t(t,n){return e.call(this,t,n)||this}(0,u.Z)(t,e);var n=t.prototype;return n.columnRange=function(){return{startColumn:0,endColumn:this.collector.getFrozenFieldCount()-2}},n.scroll=function(e){this.rects=this.rects.map((function(t){var n=t;return n.y-=e.y,n}))},n.clip=function(){for(var e=this.collector.size,t=e.activityStartX+e.activityViewWidth,n=e.activityStartY,i=n+e.activityViewHeight,o=0;o<this.rects.length;o++){var r=this.rects[o],s=this.renderRects[o],a=r.x,l=Math.min(t,r.x+r.width);l=Math.max(a,l),s.x(a),s.width(l-a);var d=Math.max(n,r.y),c=Math.min(i,r.y+r.height);c=Math.max(c,d),s.y(d),s.height(c-d)}},t}(ja),Da=function(){function e(e,t){this.canvas=e,this.collector=t,this.activitySelection=new Aa(e,t),this.asideSelection=new xa(e,t)}var t=e.prototype;return t.update=function(){this.activitySelection.update(),this.asideSelection.update()},t.destroy=function(){this.activitySelection.destroy(),this.asideSelection.destroy()},t.handleScroll=function(e){this.asideSelection.handleScroll(e),this.activitySelection.handleScroll(e)},t.getRange=function(){if(this.start&&this.end){var e={startRow:this.start.rowIndex,startColumn:this.start.columnIndex,endRow:this.end.rowIndex,endColumn:this.end.columnIndex};return this.start.rowIndex>this.end.rowIndex&&(e.startRow=this.end.rowIndex,e.endRow=this.start.rowIndex),this.start.columnIndex>this.end.columnIndex&&(e.startColumn=this.end.columnIndex,e.endColumn=this.start.columnIndex),e}},t.updateStart=function(e,t){return(!this.start||e!==this.start.rowIndex||t!==this.start.columnIndex)&&(this.start={rowIndex:e,columnIndex:t},!0)},t.updateEnd=function(e,t){return(!this.end||e!==this.end.rowIndex||t!==this.end.columnIndex)&&(this.end={rowIndex:e,columnIndex:t},!0)},e}(),Sa=n("../node_modules/@tencent/xtable-render/es/views/group/utils/scroll.js"),Na=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isSelecting=!1,t.mouseMoving=!1,t.hasBindMousemove=!1,t.onCanvasScroll=function(e){t.selection.handleScroll(e)},t.onCanvasMouseDown=function(e){var n,i=e.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y;if(!t.isNeedPrevent(o,r)){var s=(0,js.ZP)(o,r,t.collector);if(s&&s.unit&&(0,zs.Uy)(s)){var a=t.collector.getFrozenFields().includes(s.fieldId);null===(n=t.canvas.autoScroll)||void 0===n||n.ready(er.Nm.ALL,{isPreventScrollX:function(e){return!!(a&&e<t.collector.size.activityStartX)},left:t.collector.size.globalPaddingLeft,top:t.collector.size.globalPaddingTop,right:t.collector.size.globalPaddingRight,bottom:t.collector.size.globalPaddingBottom});var l=s.unit,d=l.fieldId,c=l.recordId,u=t.getTargetInfo(d,c),h=u.rowIndex,g=u.columnIndex,f=u.groupPath;if(!(h<0||g<0)&&!t.checkContextmenu(e.evt,h,g)){var m=t.collector.getRangeModel().getCurrentSelection();e.evt.shiftKey&&m.isRangeSelection()?t.handleMouseShiftSelector(h,g):(t.selectedGroup=f,t.isSelecting=!0,t.selection.updateStart(h,g),t.selection.updateEnd(h,g),t.activePoint={row:h,column:g},t.updateCoreSelection(),(0,Sa.TL)(t.activePoint,t.canvas.context),t.bindMousemove())}}}},t.onDocumentMouseMove=function(e){if(t.isSelecting){var n=t.canvas.view.getRootRect(),i=e.x-n.x,o=e.y-n.y,r=(0,js.L5)(i,t.collector),s=(0,js.V3)(o,t.collector),a=t.collector.layout.getLayout(s),l=t.collector.getRenderFieldIds()[r],d=a&&a.type===ns.yP.RECORD?a.recordId:"";if(l&&d){var c=t.getTargetInfo(l,d),u=c.rowIndex,h=c.columnIndex,g=c.groupPath;u<0||h<0||t.selectedGroup===g&&t.selection.updateEnd(u,h)&&(t.updateCoreSelection(),t.mouseMoving=!0)}}},t.onCanvasMouseUp=function(){t.isSelecting&&(t.selectedGroup=void 0,t.isSelecting=!1,t.mouseMoving=!1,t.unbindMousemove())},t.onDocumentMouseDown=function(e){if(!(0,Do.vx)(e.target)){var n=e.x,i=e.y;t.isOutCanvas(n,i)&&t.collector.getRangeModel().resetSelection(ri.lZ.CLICK_OUTSIDE_CANVAS)}},t.onDocumentMouseLeave=function(){t.onCanvasMouseUp()},t.onSelectionChanged=function(e){var n,i=e.selection,o=[ri.RT.ROW_SELECTION,ri.RT.COLUMN_SELECTION].includes(t.selectionType);i.isRowSelection()?t.selectionType=ri.RT.ROW_SELECTION:i.isColumnSelection()?t.selectionType=ri.RT.COLUMN_SELECTION:t.selectionType!==ri.RT.RANGE_SELECTION&&(t.selectionType=ri.RT.RANGE_SELECTION),o&&(t.canvas.view.renderForce(),null===(n=t.canvas.getFeature("Interactive"))||void 0===n||n.getHover().hide());var r=t.collector.getRecordDetail().getRange();i.getRanges()||r?t.bindScroll():t.unbindScroll()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.selection=new Da(this.canvas,this.collector),this.mousedownDisposable=this.emitter.global.mousedown.event(this.onCanvasMouseDown),this.selectionDisposable=this.canvas.context.onCoreSelectionChanged(this.onSelectionChanged),document.addEventListener("mousedown",this.onDocumentMouseDown),document.addEventListener("mouseup",this.onCanvasMouseUp),document.addEventListener("mouseleave",this.onDocumentMouseLeave)},n.destroy=function(){var e,t;this.selection.destroy(),null===(e=this.mousedownDisposable)||void 0===e||e.dispose(),null===(t=this.selectionDisposable)||void 0===t||t.dispose(),this.unbindScroll(),this.unbindMousemove(),document.removeEventListener("mousedown",this.onDocumentMouseDown),document.removeEventListener("mouseup",this.onCanvasMouseUp),document.removeEventListener("mouseleave",this.onDocumentMouseLeave)},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){this.selection.update()},n.isSelectMoving=function(){return this.isSelecting&&this.mouseMoving},n.bindMousemove=function(){this.hasBindMousemove||(this.hasBindMousemove=!0,document.addEventListener("mousemove",this.onDocumentMouseMove))},n.unbindMousemove=function(){this.hasBindMousemove=!1,document.removeEventListener("mousemove",this.onDocumentMouseMove)},n.bindScroll=function(){this.scrollDisposable||(this.scrollDisposable=this.emitter.global.scroll.event(this.onCanvasScroll))},n.unbindScroll=function(){var e;null===(e=this.scrollDisposable)||void 0===e||e.dispose(),this.scrollDisposable=void 0},n.isNeedPrevent=function(e,t){var n=this.canvas.getFeature("WidthResize"),i=this.canvas.getFeature("FieldMove"),o=this.canvas.getFeature("Scroller"),r=this.canvas.getFeature("SmartFill"),s=this.canvas.getFeature("RecordFloat");return(null===n||void 0===n?void 0:n.isHover)||(null===i||void 0===i?void 0:i.isMoving())||(null===o||void 0===o?void 0:o.isLocated(e,t))||(null===r||void 0===r?void 0:r.isHovering())||(null===s||void 0===s?void 0:s.isShow())},n.getTargetInfo=function(e,t){var n,i=this.collector.getRecordIndex(t),o=this.collector.getFieldIndex(e),r=this.collector.layout.getLayoutIndexByRecordId(t),s=this.collector.layout.getLayout(r).parent,a=this.collector.layout.getLayout(s);return{rowIndex:i,columnIndex:o,groupPath:((null===(n=null===a||void 0===a?void 0:a.head)||void 0===n?void 0:n.path)||[]).toString()}},n.checkContextmenu=function(e,t,n){if(e.button!==ks.R)return!1;var i={startRow:t,endRow:t,startColumn:n,endColumn:n};return!!this.collector.getRangeModel().getCurrentSelection().isRangeInSelection(i)||void 0},n.updateCoreSelection=function(){var e=this.selection.getRange();e&&this.canvas.context.rangeModel.selectRange(e,this.activePoint)},n.handleMouseShiftSelector=function(e,t){var n=this.canvas.context.rangeModel.getCurrentSelection().getActivePoint();if(n){var i=n.row,o=n.column;if(this.getGroupPathByRecordVisibleIndex(e)===this.getGroupPathByRecordVisibleIndex(i)){var r={startRow:Math.min(i,e),endRow:Math.max(i,e),startColumn:Math.min(o,t),endColumn:Math.max(o,t)};this.canvas.context.rangeModel.selectRange(r,n)}}},n.getGroupPathByRecordVisibleIndex=function(e){return this.canvas.context.getCurrentView().getGroupPathByRecordVisibleIndex(e).toString()},t}(ps.Z);Na.Name="Selector";var Ra,Oa,La,ka,za=n("../node_modules/@tencent/xtable-render/es/views/group/renderer/features/desktop/smart-fill/index.js"),Pa=n("../node_modules/@tencent/xtable-render/es/views/gantt/constants/key.js"),Fa=((Ra={})[Pa.XB.WEEK]=128,Ra[Pa.XB.MONTH]=56,Ra[Pa.XB.QUARTER]=100,Ra[Pa.XB.YEAR]=80,Ra),Ua=14,Ba=ls.s0,Wa="#ADE4FF",Ga=Xi.l2,Za="回到今天",Ha="|",Ya="<",Va=">",Qa=((Oa={})[Pa.XB.WEEK]="周",Oa[Pa.XB.MONTH]="月",Oa[Pa.XB.QUARTER]="季",Oa[Pa.XB.YEAR]="年",Oa),Ka=((La={})[Pa.XB.WEEK]="按周查看",La[Pa.XB.MONTH]="按月查看",La[Pa.XB.QUARTER]="按季查看",La[Pa.XB.YEAR]="按年查看",La),Xa=[Qa[Pa.XB.WEEK],Qa[Pa.XB.MONTH],Qa[Pa.XB.QUARTER],Qa[Pa.XB.YEAR],Ha,Ya,Va],Ja="MOBILE_DIMENSION",qa=[Ja],$a=0,el=[Za,Ha].concat((0,Pi.F)()?qa:Xa).map((function(e){var t=e;e===Ja&&(t=Ka[Pa.XB.WEEK]);var n=Math.round(Lo.u.util.measureWidth(t,Ua));return n=Math.max(Ga,n),$a+=n,{key:e,width:n}})),tl=function(e){var t=8+Ga;return e.activityEndX-t-$a-Ga*((0,Pi.F)()?1:2)},nl=n("../node_modules/@tencent/dispose-tree/build/main/index.js"),il=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.isHitInGantt=function(e){return e&&!(0,js.oH)(e,this.collector.size)},n.walkLayouts=function(e){for(var t=this.collector.ranger.getRange(),n=t.startLayoutIndex,i=t.endLayoutIndex,o=n;o<=i;o++){var r=this.collector.layout.getLayout(o);r&&e(r,o)}},(0,mi.Z)(t,[{key:"timeline",get:function(){return this.canvas.view.getTimeline()}},{key:"layout",get:function(){return this.timeline.layout}}]),t}(ps.Z),ol=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-timebar-rect.js");function rl(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sl(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}!function(e){e.FULL="FULL",e.WHOLE="WHOLE",e.FRONT="FRONT",e.BEHIND="BEHIND",e.NODATA="NODATA",e.ILLEGAL="ILLEGAL"}(ka||(ka={}));var al=function(e,t,n){var i,o={toStart:n,stickType:e,layoutIndex:t};return(i={listening:!0})[ko.k4]={type:ko.KW.GANTT_SCROLLTO_TIME,hoverCursor:ko.WV.POINTER,hoverRect:!0,value:o},i},ll=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).types=new Map,t.sticks=new Map,t.scrollListener=new nl.DisposableStore,t.onScroll=function(e){t.handleScroll(e.y),t.updateSticks()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.board=Lo.u.board(),this.canvas.getLayer().add(this.board),this.scrollListener.add(this.emitter.global.ganttScroll.event(this.onScroll)),this.paint()},n.destroy=function(){this.types.clear(),this.sticks.clear(),this.board.destroy(),this.scrollListener.clear()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){this.paint()},n.getLeftStickEndX=function(){return this.layout.size.activityStartX+8+Xi._u},n.isInvalidType=function(e){return this.types.get(e)===ka.ILLEGAL},n.paint=function(){this.types.clear(),this.sticks.clear(),this.board.destroyChildren(),this.updateSticks();var e=this.layout.area.getBodyClipRect();this.board.clipFunc((function(t){return t.rect(e.x,e.y,e.width,e.height)}))},n.handleScroll=function(e){for(var t=this.board.getChildren(),n=t.length-1;n>=0;){var i=t[n];i.y(i.y()-e),n-=1}},n.updateSticks=function(){var e=this,t=new Map;this.walkLayouts((function(n,i){var o=n.recordId;n.type===ns.yP.RECORD&&o&&(e.collector.layout.isHiddenRecord(o)||t.set(i,e.getTimeBarStickType(o)))}));var n=this.compareTypeChanges(t),i=n[0],o=n[1];this.types=t,this.removeSticks(o),this.paintSticks(i)},n.getTimeBarStickType=function(e){var t=(0,ol.Z)(e,this.layout.dimension,this.collector);if(!t)return this.getEmptyRectType(t);var n=t.x,i=n+t.width,o=this.layout.size,r=o.activityStartX,s=o.activityEndX;return n<r&&i>s?ka.FULL:n>=r&&i<=s?ka.WHOLE:n<r&&i<=s?ka.FRONT:n>=r&&i>s?ka.BEHIND:ka.NODATA},n.getEmptyRectType=function(e){return(0,ol.J)(e)?ka.NODATA:ka.ILLEGAL},n.compareTypeChanges=function(e){for(var t,n=[],i=[],o=this.types,r=rl(e.keys());!(t=r()).done;){var s=t.value;o.has(s)&&o.get(s)===e.get(s)||n.push(s)}for(var a,l=rl(o.keys());!(a=l()).done;){var d=a.value;e.has(d)||i.push(d)}return[n,i]},n.removeSticks=function(e){var t=this;e.forEach((function(e){return t.removeStick(e)}))},n.removeStick=function(e){var t=this.sticks.get(e);t&&t.forEach((function(e){return e.destroy()})),this.sticks.delete(e)},n.paintSticks=function(e){var t=this;e.forEach((function(e){t.sticks.has(e)&&t.removeStick(e);var n=t.types.get(e);n&&t.paintStick(e,n)}))},n.paintStick=function(e,t){var n=this.collector.getLayoutY(e)+(this.collector.getRecordHeight()-Xi._u)/2+1;this.sticks.get(e)||this.sticks.set(e,[]),[ka.FRONT,ka.FULL,ka.ILLEGAL].includes(t)&&this.paintLeftStick(t,n,e),[ka.BEHIND,ka.FULL].includes(t)&&this.paintRightStick(t,n,e)},n.paintLeftStick=function(e,t,n){var i={x:this.timeline.layout.size.activityStartX+8,y:t,width:Xi._u,height:Xi._u},o=Lo.u.board(i),r=e===ka.ILLEGAL?Or.Y.TIP_BLUE:Or.Y.TIME_PREV;Lo.u.icon.draw(o,r,Object.assign(Object.assign(Object.assign({},i),{x:0,y:0}),al(e,n,!0))),this.board.add(o),this.sticks.get(n).push(o)},n.paintRightStick=function(e,t,n){var i={x:this.timeline.layout.size.activityEndX-8-Xi._u,y:t,width:Xi._u,height:Xi._u},o=Lo.u.board(i);Lo.u.icon.draw(o,Or.Y.TIME_NEXT,Object.assign(Object.assign(Object.assign({},i),{x:0,y:0}),al(e,n,!1))),this.board.add(o),this.sticks.get(n).push(o)},t}(il);ll.Name="TimelineTimeStick";var dl=n("../node_modules/@tencent/xtable-render/es/base/corner.js"),cl=n("../node_modules/@tencent/xtable-render/es/base/util.js");function ul(e,t){return e+":"+(null!==t&&void 0!==t?t:"")}var hl=function(){function e(e,t){this.pool=e,this.collector=t,this.util=new cl.Z}var t=e.prototype;return t.mix=function(e,t){return Object.assign({name:ul(e.fieldId,e.layoutIndex)},t)},t.isTopLayout=function(e){return-1===e.parentLayoutIndex},t.isFirstNaturalField=function(e){return 1===this.collector.getRenderFieldIds().indexOf(e.fieldId)},t.isLastNaturalField=function(e){var t=this.collector.getRenderFieldIds();return t.indexOf(e.fieldId)===t.length-2},t.getLastNaturalFieldWidth=function(){var e=this.collector.getAllFieldIds();return this.collector.getFieldWidth(e[e.length-1])},t.getEndIndentWidth=function(e){var t=0;return(t="number"===typeof e?e:this.collector.layout.getUnitLevel(e))<0?0:this.collector.size.additionFieldWidth/(t+1)},t.getAuxWidth=function(){var e=this.collector.size;if(this.collector.isGantt())return e.outerWidth+e.globalPaddingLeft;var t=e.activityScrollWidth>e.activityViewWidth,n=e.sightWidth;return t&&e.blankWidth>e.additionFieldWidth&&(n-=e.blankWidth-e.additionFieldWidth+e.globalPaddingLeft),n-(t?0:e.globalPaddingRight)+e.edgeWidth},t.getWhiteWidth=function(e){var t=this.collector,n=t.size,i=t.layout;if(this.collector.isGantt())return n.outerWidth+n.globalPaddingLeft;var o=i.getUnitIndent(e),r=n.activityScrollWidth>n.activityViewWidth,s=n.sightWidth-o-(r?n.globalPaddingLeft:n.additionFieldWidth);return r&&n.blankWidth&&(s-=n.blankWidth),s-(r?0:n.globalPaddingRight)+n.edgeWidth},t.getFieldWhiteWidth=function(){var e=this.collector.size;if(this.collector.isGantt())return e.outerWidth-e.globalPaddingLeft;var t=this.collector.needGroupIndent(),n=e.activityScrollWidth>e.activityViewWidth,i=e.sightWidth-(n?0:e.globalPaddingRight);if(t||n||this.collector.canEdit()||(i-=e.additionFieldWidth),n&&e.blankWidth){var o=t||this.collector.canEdit()?e.additionFieldWidth:0;i-=e.blankWidth+e.globalPaddingRight-o}return i+e.edgeWidth},t.drawStartIndentLines=function(e,t,n,i){var o=this;if(void 0===i&&(i=!1),n.type===ns.g1.START&&(-1!==n.parentLayoutIndex||n.layoutType===ns.yP.RECORD)){var r=this.collector.layout.getUnitLevel(n),s=i?r:r+1;Array.from({length:s}).forEach((function(i,r){var s=r*ls.dI,a=[s,0,s,t.height];o.pool.line(e.level1.line,o.mix(n,{x:t.x,y:t.y,points:a}))}))}},t.drawEndIndentLines=function(e,t,n,i){var o=this.collector.layout.getUnitLevel(n),r=null!==i&&void 0!==i?i:o;this.collector.isGantt()&&this.collector.isBottomGroup(o)&&(r-=1);for(var s=r;s>0;s--){var a=t.width/s,l=[a,0,a,t.height];this.pool.line(e.level2.content,this.mix(n,{x:t.x,y:t.y,points:l}))}},t.getCellParam=function(e,t,n,i,o){return void 0===n&&(n=!1),Xs(e,t,this.collector,{isGroupHead:n,fieldId:i,recordId:o})},e}(),gl=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e),t.shouldDrawIcon=function(e,t){return cl.D.measureWidth(e,ls.Cg,ls.As)<t-Xi._u-ls.Wj-Xi.UV};var n=t.prototype;return n.drawStart=function(e,t,n){this.drawOperatorArea(e,t,n)},n.drawBody=function(e,n,i,o){void 0===o&&(o=!1);var r=this.collector.getField(i.fieldId);if(r){this.drawBodyFillOrCorner(e,n,i,o);var s=this.isLastNaturalField(i)&&!this.collector.canEdit()||this.collector.isGantt();ls.H9&&!s&&this.pool.line(e.level2.content,this.mix(i,{x:n.x,y:n.y,points:[n.width,0,n.width,n.height]}));var a=n.x+ls.Wj,l=r.getTitle();t.shouldDrawIcon(l,n.width)&&(a=this.drawFieldIcon(e,n,i,r.getType())),this.drawFieldTitle(e,n,i,l,a)}},n.drawEnd=function(e,t,n){(this.collector.needGroupIndent()||this.collector.canEdit())&&this.collector.isAdditionField(n.fieldId)?this.drawEndIndentArea(e,t,n):this.drawBody(e,t,n,this.collector.isMobile())},n.isTopCorner=function(){return!this.collector.hasGroup()||this.collector.isShowStat()},n.drawFieldIcon=function(e,t,n,i){var o={x:t.x+ls.Wj,y:t.y+this.collector.size.fieldPaddingTop,width:Xi._u,height:Xi._u};this.collector.getFrozenFields().includes(n.fieldId)&&(this.pool.icon(e.level2.content,Or.Y.FROZEN_LOCK,this.mix(n,o)),o.x+=ls.Wj+10),this.pool.icon(e.level2.content,String(i),this.mix(n,o));var r=this.collector.getGanttConfig();if(this.collector.isGantt()&&r){var s="",a=r.startDateFieldId,l=r.endDateFieldId;if(n.fieldId===a?s="起点":n.fieldId===l&&(s="终点"),s){var d,c={type:ko.KW.GANTT_OPEN_SETTING,hoverCursor:ko.WV.POINTER,hoverRect:!0,hoverRectExpandWidth:3,hoverRectExpandHeight:3,value:n.fieldId===a};this.pool.text(e.level2.content,this.mix(n,((d={text:s,x:o.x+2,y:t.y+16,height:12,fontSize:12,fill:ls.XM})[ko.k4]=c,d.listening=!0,d)))}}return o.x+Xi._u},n.drawFieldTitle=function(e,t,n,i,o){var r=o,s=t.width-(o-t.x)-Xi.UV,a=this.collector.size.fieldPaddingTop+((0,Pi.Kr)()?5:4),l=this.mix(n,{text:i,x:r,y:t.y+a,width:s,height:ls.Cg,fill:ls.s0,fontSize:ls.Cg,fontStyle:ls.As});this.pool.text(e.level2.content,l)},n.drawOperatorArea=function(e,t,n){var i,o=this.isTopCorner(),r=this.collector.canEdit(),s=this.getFieldWhiteWidth();this.pool.rect(e.level2.content,this.mix(n,Object.assign(Object.assign({},t),{width:s,fill:Xi.UE,cornerRadius:this.getWhiteCornerRadius()})));var a=o?dl.a.LT:dl.a.LTLB;this.pool.corner(e.level2.content,a,this.mix(n,t));var l=this.collector.isGantt()?0:Xi.n_,d=s-l;this.pool.line(e.level2.content,this.mix(n,{x:t.x,y:t.y,points:[t.width,0,d,0]}));var c=t.width,u=d;if(r||a===dl.a.LTLB||(u+=l),o&&(c=0),this.pool.line(e.level2.content,this.mix(n,{x:t.x,y:t.y,points:[c,t.height,u,t.height]})),this.collector.canEdit()){var h=this.collector.layout.getMaxIndent(),g=h+(t.width-h-Xi._u)/2,f=this.collector.state.isSelectAll()?Or.Y.CHECKBOX_CHECKED:Or.Y.CHECKBOX_UNCHECKED,m={x:t.x+g,y:t.y+this.collector.size.fieldPaddingTop,width:Xi._u,height:Xi._u};this.pool.icon(e.level2.content,f,this.mix(n,Object.assign(Object.assign({},m),((i={})[ko.k4]={type:ko.KW.SELECT_ALL_RECORD,hoverCursor:ko.WV.POINTER,hoverRect:!0},i.x=m.x,i.y=m.y,i.width=m.width,i.height=m.height,i.listening=!0,i))))}},n.drawBodyFillOrCorner=function(e,t,n,i){void 0===i&&(i=!1),this.collector.canEdit()||this.collector.needGroupIndent()||!this.isLastNaturalField(n)||(i=!0);var o=this.isTopCorner(),r=o?dl.a.RT:dl.a.RTRB;if(i&&this.pool.corner(e.level2.content,r,this.mix(n,t)),this.collector.state.isSelectedField(n.fieldId)){var s=this.mix(n,t);s.fill=ls.qK,o&&(s.cornerRadius=r===dl.a.RT?[0,Xi.n_,0,0]:[0,Xi.n_,Xi.n_,0]),this.pool.rect(e.level2.content,s)}},n.drawEndIndentArea=function(e,t,n){var i=this.collector.needGroupIndent()&&this.collector.isShowStat(),o=i?dl.a.RT:dl.a.RTRB;this.pool.corner(e.level2.content,o,this.mix(n,t)),i&&this.pool.line(e.level2.content,this.mix(n,{x:t.x,y:t.y,points:[0,t.height,t.width,t.height]})),this.collector.canEdit()&&this.pool.icon(e.level2.content,Or.Y.ADD,this.mix(n,{x:t.x+(t.width-Xi.l2)/2,y:t.y+this.collector.size.fieldPaddingTop-3,width:Xi.l2,height:Xi.l2}))},n.getWhiteCornerRadius=function(){var e,t=this.isTopCorner(),n=this.collector.isGantt();return t?(e=[Xi.n_,Xi.n_,0,0],n&&e.splice(1,1,0)):(e=Xi.n_,n&&(e=[Xi.n_,0,0,Xi.n_])),e},t}(hl);function fl(e){var t=Us.sC[e.statType];return e.resultType===ts.W.HIDDEN?null:{label:t,value:e.resultType===ts.W.ASYNC?Us.Cf:e.value}}var ml,pl=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e),t.getStat=function(e,t){if(!t.isAdditionField(e.fieldId)){var n=t.layout.getUnitGroupPath(e),i=t.getFieldStatResult(e.fieldId,n||[]);if(i){var o=fl(i);if(o)return o}}},t.getLabelInfo=function(e,t,n){var i=e.label+":",o=cl.D.measureWidth(i),r=t-o<1.2*ls.Nr;return r&&(o-=ls.Nr/(n.isMobile()?2:1)),{labelText:i,labelWidth:o,valueHidden:r}},t.getLabelConfigs=function(e,t,n,i,o){var r={x:e.x+ls.pK,y:e.y,width:Math.min(t,n),height:e.height,text:i,fontSize:ls.Nr,fill:ls.XM};return[r,Object.assign({},r,{x:r.x+n,width:t-n,fontStyle:"bold",text:o})]};var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector.needGroupIndent();if(this.isTopLayout(n)){this.pool.corner(e.level1.line,dl.a.LB,this.mix(n,t));var o=i?this.getFieldWhiteWidth():this.getWhiteWidth(n),r=[0,0,Xi.n_,Xi.n_];this.collector.isGantt()&&r.splice(2,1,0),this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:o,fill:Xi.UE,cornerRadius:r})));var s=o;return!this.collector.isGantt()&&this.collector.size.blankWidth&&(s-=Xi.n_),void this.pool.line(e.level1.line,this.mix(n,{x:t.x,y:t.y,points:[t.width,t.height,s,t.height]}))}var a=this.collector.layout.getUnitLevel(n),l=this.collector.isBottomGroup(a),d=this.collector.layout.getUnitIndent(n),c=t.x+d;if(this.drawStartIndentLines(e,t,n),i){var u=this.getAuxWidth();this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{x:t.x,width:u,fill:Xi.tj})))}if(l){var h=this.getWhiteWidth(n);this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{x:c,width:h,fill:Xi.UE})));var g=h+d+this.collector.size.globalPaddingRight;this.pool.line(e.level1.line,this.mix(n,{y:t.y,points:[c,t.height,g,t.height,g,0]}))}},n.drawBody=function(e,t,n){!this.collector.isGantt()&&this.isTopLayout(n)&&!this.collector.needGroupIndent()&&this.isLastNaturalField(n)&&this.pool.corner(e.level2.content,dl.a.RB,this.mix(n,t)),this.drawStatResult(e,t,n)},n.drawEnd=function(e,t,n){if(!this.collector.isGantt()&&this.isTopLayout(n)&&this.collector.needGroupIndent())this.pool.corner(e.level2.content,dl.a.RB,this.mix(n,t));else{var i=this.collector.layout.getUnitLevel(n),o=this.collector.isBottomGroup(i)||this.collector.isGantt()?i:i+1;this.drawEndIndentLines(e,t,n,o),this.drawStatResult(e,t,n)}},n.drawStatResult=function(e,n,i){var o=t.getStat(i,this.collector);if(o){var r=n.width-3*ls.pK;this.collector.isMobile()&&(r+=ls.pK);var s=t.getLabelInfo(o,r,this.collector),a=s.labelText,l=s.labelWidth,d=s.valueHidden,c=t.getLabelConfigs(n,r,l,a,o.value),u=c[0],h=c[1];this.pool.text(e.level2.content,this.mix(i,u)),d||this.pool.text(e.level2.content,this.mix(i,h))}},t}(hl),vl=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).actionMap=new Map,t.hide=function(){t.emitter.service.tooltip.fire({hide:!0}),t.toDeactivated()},t.onDocumentMousemove=function(e){t.isContainsInStage(e.target)||t.hide()},t.onCanvasScroll=function(){t.hide()},t.onCanvasMousemove=function(e){t.isActived&&t.hide();var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y,r=e.target.getAttr(ko.k4);if(r){var s=gr(e.target);t.doActionTip(r,s)}else if(t.isNeedPrevent())t.hide();else{var a=(0,js.ZP)(i,o,t.collector);(0,zs.Y7)(a,t.collector)||a&&t.doLayoutTip(a,i,o)}},t.doActionExpandRecord=function(){return R.Z.t("expand_row")},t.doActionModifyFieldPropery=function(){return R.Z.t("canvas_tip_field_modify")},t.doActionGroupCollsapse=function(e){var n,i=e.value,o=t.collector.layout.getLayout(null===i||void 0===i?void 0:i.layoutIndex);return(null===(n=null===o||void 0===o?void 0:o.head)||void 0===n?void 0:n.folded)?R.Z.t("expand_group"):R.Z.t("collapse_group")},t.doActionGanttExpandFull=function(){return t.collector.size.outerWidth?"隐藏表格":"显示表格"},t.doActionGanttScrollToTime=function(e){if(e.value.stickType===ka.ILLEGAL)return"时间异常，开始时间晚于结束时间"},t.doActionGanttDimensionChange=function(e){var t=e.value;return t===Ya?"前一页":t===Va?"后一页":void 0},t.doActionGanttOpenSetting=function(e){return"该列为右侧“时间条”的"+(e.value?"起点":"终点")+(t.collector.canEdit()?"，可点击修改":"")},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.actionMap.set(ko.KW.EXPAND_RECORD,this.doActionExpandRecord),this.actionMap.set(ko.KW.OPEN_MODIFY_FIELD_PROPERTY,this.doActionModifyFieldPropery),this.actionMap.set(ko.KW.GROUP_COLLSAPSE,this.doActionGroupCollsapse),this.actionMap.set(ko.KW.GANTT_EXPAND_FULL,this.doActionGanttExpandFull),this.actionMap.set(ko.KW.GANTT_SCROLLTO_TIME,this.doActionGanttScrollToTime),this.actionMap.set(ko.KW.GANTT_DIMENTION_CHANGE,this.doActionGanttDimensionChange),this.actionMap.set(ko.KW.GANTT_OPEN_SETTING,this.doActionGanttOpenSetting),this.canvasMouseMoveListener=this.emitter.global.mousemove.event(this.onCanvasMousemove)},n.destroy=function(){var e;this.actionMap.clear(),null===(e=this.canvasMouseMoveListener)||void 0===e||e.dispose(),this.hide()},n.addActivedEvents=function(){this.removeActivedEvents(),document.addEventListener("mousemove",this.onDocumentMousemove),this.scrollListener=this.emitter.global.scroll.event(this.onCanvasScroll)},n.removeActivedEvents=function(){var e;document.removeEventListener("mousemove",this.onDocumentMousemove),null===(e=this.scrollListener)||void 0===e||e.dispose()},n.updated=function(){this.hide()},n.showTip=function(e,t,n){var i,o=this.collector.size,r=e.y+(null!==(i=e.height)&&void 0!==i?i:0)>o.activityViewHeight-o.globalPaddingBottom?"top":"bottom",s=Object.assign(Object.assign({},null===n||void 0===n?void 0:n.config),{props:Object.assign({containerOffsetX:e.x,containerOffsetY:e.y,title:t,placement:r,visible:!0},null===n||void 0===n?void 0:n.props)});e.height&&e.width&&(s.size={width:e.width,height:e.height}),this.emitter.service.tooltip.fire(s)},n.showStaticTip=function(){this.showTip.apply(this,arguments),this.toActived()},n.isNeedPrevent=function(){var e=this.canvas.getFeature("RecordFloat"),t=this.canvas.getFeature("WidthResize");return(null===e||void 0===e?void 0:e.isShow())||(null===t||void 0===t?void 0:t.isHover)},n.doActionTip=function(e,t){var n;if(e.type){var i=null===(n=this.actionMap.get(e.type))||void 0===n?void 0:n(e);i?this.showStaticTip(t,i):this.hide()}},n.doLayoutTip=function(e,t,n){var i,o,r=this.collector.getRangeModel().getCurrentSelection(),s=r.isRangeSelection()&&!!r.getRanges(),a=r.isColumnSelection()||s,l=this.getTipInfo(e,t,a);i=l.title,o=l.rect,i&&o?this.showStaticTip(o,i):this.hide()},n.getTipInfo=function(e,t,n){var i="",o=null,r=e.fieldId;if((0,zs.x6)(e,this.collector)?(i=R.Z.t("canvas_tip_add_field"),o={x:this.collector.getFieldX(r),y:this.collector.size.globalPaddingTop,width:this.collector.getFieldWidth(r),height:this.collector.size.fieldHeight}):((0,zs.ou)(e)||(0,zs.ol)(e)&&!n)&&(i=R.Z.t("canvas_tip_add_record"),o={x:t-50,y:this.collector.getLayoutY(e.unit.layoutIndex),width:100,height:this.collector.layout.getLayoutSize(ns.yP.RECORD_ADD)}),(0,zs.My)(e,this.collector)){var s=this.getFieldTipInfo(e);i=s.title,o=s.rect}if((0,zs.h5)(e,this.collector)){var a=this.getStatTipInfo(e);i=a.title,o=a.rect}return{title:i,rect:o}},n.getFieldTipInfo=function(e){var t,n,i="",o=null,r=e.fieldId,s=this.collector.getFieldWidth(r),a=null!==(n=null===(t=this.collector.getField(r))||void 0===t?void 0:t.getTitle())&&void 0!==n?n:"",l=this.collector.position.x(r),d=this.collector.position.y(0),c=this.collector.getFrozenFields().includes(r),u=ls.Wj+Xi.UV;gl.shouldDrawIcon(a,s)&&(u+=Xi._u,c&&(u+=ls.Wj+10));var h=s-u,g={width:h,text:a,height:ls.Cg,fill:ls.s0,fontSize:ls.Cg,fontStyle:ls.As};return this.isEllipsis(g)&&(i=a,o={x:l,y:d,width:h,height:this.collector.getRecordHeight()}),{title:i,rect:o}},n.getStatTipInfo=function(e){var t="",n=null,i=this.collector.layout,o=e.unit;if(!o)return{title:t,rect:n};var r=o.fieldId,s=o.layoutType,a=Ws(r,this.collector),l=a.x,d=a.width,c=pl.getStat(o,this.collector);if(!c)return{title:t,rect:n};var u=d-3*ls.pK,h=pl.getLabelInfo(c,u,this.collector),g=h.labelText,f=h.valueHidden,m=h.labelWidth,p=i.getLayoutSize(s),v={x:l,width:u,y:this.collector.position.y(0)+p,height:i.getLayoutSize(s)},I=pl.getLabelConfigs(v,u,m,g,c.value),y=I[0],_=I[1];return this.isEllipsis(y)||!f&&this.isEllipsis(_)?{rect:v,title:t=g+" "+c.value}:{rect:n,title:t}},n.isEllipsis=function(e){var t=Lo.u.shape.text(null,e),n=t.textArr;return 0!==n.length&&(n.length>1||n[0].text.endsWith("…")&&!e.text.endsWith("…")?(t.destroy(),!0):(t.destroy(),!1))},t}(ps.Z);vl.Name="Tooltip",(0,i.__decorate)([(0,wr.Ds)(50),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],vl.prototype,"showStaticTip",null),function(e){e[e.SHORT=0]="SHORT",e[e.LONG=1]="LONG"}(ml||(ml={}));var Il,yl={strokeWidth:1,stroke:Xi.Ro},_l=function(){function e(e){this.canvas=e,this.init()}var t=e.prototype;return t.destroy=function(){this.line.destroy()},t.show=function(e,t){void 0===t&&(t=ml.LONG),this.setPoints(e,t),this.line.visible()||(this.line.moveToTop(),this.line.show())},t.hide=function(){this.line.visible()&&this.line.hide()},t.setPoints=function(e,t){var n=this.collector.size,i=t===ml.SHORT?this.lineShortSize:this.lineLongSize,o=n.globalPaddingTop,r=e-this.line.strokeWidth();this.line.points([r,o,r,o+i])},t.init=function(){this.line=Lo.u.shape.line(null,{visible:!1,strokeWidth:yl.strokeWidth,stroke:yl.stroke}),this.canvas.getLayer().add(this.line)},(0,mi.Z)(e,[{key:"collector",get:function(){return this.canvas.collector}},{key:"lineOffsetX",get:function(){return this.line.points()[0]}},{key:"lineLongSize",get:function(){var e=this.collector.size;return Math.min(e.activityViewHeight+e.fieldHeight,e.globalHeight-e.globalPaddingBottom-e.globalPaddingTop)}},{key:"lineShortSize",get:function(){return this.collector.size.fieldHeight}}]),e}();!function(e){e.ViewResize="ViewResize",e.FieldResize="FieldResize"}(Il||(Il={}));var bl,Ml={minWidth:te._E.COLUMN_MIN_WIDTH,maxWidth:te._E.COLUMN_MAX_WIDTH},Cl=function(){function e(e){var t=this;this.canvas=e,this.type=Il.FieldResize,this.hitDistance=5,this.hoverFieldId=null,this.selectFieldIds=[],this.checkHit=function(e){var n,i=e.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y,s=t.collector.size;if(!(0,js.Uh)(o,r,s))return!1;var a=(0,js.ZP)(o,r,t.collector);if(!a)return!1;var l=t.collector.isAdditionField((null===a||void 0===a?void 0:a.fieldId)||"");return!(!(0,zs.My)(a,t.collector)&&!l)&&(t.hoverFieldId=t.getHitFieldId(o,a.fieldId),!!t.hoverFieldId&&!(t.getFieldEndX(t.hoverFieldId)>s.activityStartX+s.activityViewWidth)&&(t.selectFieldIds=(null===(n=t.canvas.getFeature("FieldMove"))||void 0===n?void 0:n.getSelects())||[],!0))},this.getLineOffsetX=function(e,n){if(!t.hoverFieldId)return-1;var i=e.currentTarget.getRelativePointerPosition().x,o=yl.strokeWidth;if(n){var r=t.getFieldNewWidth(t.hoverFieldId,i);return t.collector.getFieldX(t.hoverFieldId)+r+o}return t.getFieldEndX(t.hoverFieldId)+yl.strokeWidth},this.done=function(e){var n=t.hoverFieldId;if(null!==n){var i=t.selectFieldIds.slice();i.length&&i.includes(n)||i.push(n);var o=t.collector.getFieldWidth(n),r=t.getFieldNewWidth(n,e);t.reset(),r!==o&&t.emitter.service.setFieldWidthEmitter.fire({fieldIds:i,width:r})}else t.reset()},this.getTipContent=function(e){if(null===t.hoverFieldId)return null;var n=e.currentTarget.getRelativePointerPosition().x,i=t.getFieldNewWidth(t.hoverFieldId,n);return R.Z.t("field_with_px",{newWidth:i})},this.reset=function(){t.hoverFieldId=null,t.selectFieldIds.length=0}}var t=e.prototype;return t.getHitFieldId=function(e,t){var n,i=this.getFieldEndX(t),o=this.collector.getFieldWidth(t),r=i-e,s=r<=this.hitDistance;if(Math.abs(o-r)<=this.hitDistance){var a=this.collector.getRenderFieldIds(),l=a.indexOf(t);n=a[l-1]}else{if(!s)return null;n=t}return!n||this.collector.isAdditionField(n)?null:n},t.getFieldEndX=function(e){return this.collector.getFieldX(e)+this.collector.getFieldWidth(e)},t.getFieldNewWidth=function(e,t){var n=t-this.getFieldEndX(e)+1,i=this.collector.getFieldWidth(e)+n;return i=Math.max(Ml.minWidth,i),Math.min(Ml.maxWidth,i)},(0,mi.Z)(e,[{key:"collector",get:function(){return this.canvas.collector}},{key:"emitter",get:function(){return this.canvas.context.getRenderer().emitter}}]),e}(),wl=160,Tl=480,El=function(){function e(e){var t=this;this.canvas=e,this.type=Il.ViewResize,this.hitDistance=5,this.done=function(e){var n=e;t.collector.size.updateOuterWidth(n),t.canvas.view.renderForce(),t.collector.setViewStorage(os.ol,n)},this.checkHit=function(e){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y,r=t.collector.size;return!(o>r.globalHeight)&&!(Math.abs(i-r.outerWidth)>t.hitDistance)},this.getLineOffsetX=function(e,n){var i=t.collector.size.outerWidth;if(n){var o=e.currentTarget.getRelativePointerPosition().x,r=Math.min(t.maxWidth,o);return Math.max(t.minWidth,r)}return i},this.getTipContent=function(e){var n=t.getLineOffsetX(e,!0);return R.Z.t("grid_with_px",{newWidth:n})}}return(0,mi.Z)(e,[{key:"collector",get:function(){return this.canvas.collector}},{key:"minWidth",get:function(){return wl}},{key:"maxWidth",get:function(){return this.canvas.getLayer().getWidth()-Tl}}]),e}(),jl=((bl={})[v.bW.GANTT]=[Cl,El],bl[v.bW.GRID]=[Cl],bl),Al=150,xl=25,Dl=function(){function e(e){this.canvas=e,this.init()}var t=e.prototype;return t.destroy=function(){this.tipBoard.destroy(),this.tipBoardText.destroy()},t.show=function(e,t,n){this.setOffset(e,t),this.tipBoardText.text(n),this.tipBoard.visible()||(this.tipBoard.moveToTop(),this.tipBoard.show())},t.hide=function(){this.tipBoard.visible()&&this.tipBoard.hide()},t.init=function(){var e=Al,t=xl;this.tipBoard=Lo.u.board({width:e,height:e,visible:!1}),Lo.u.shape.rect(this.tipBoard,{x:0,y:0,width:e,height:t,strokeWidth:1,stroke:"#ececec",fill:"#fff"}),this.tipBoardText=Lo.u.shape.text(this.tipBoard,{x:5,y:2,width:e,height:t,fontSize:12}),this.canvas.getLayer().add(this.tipBoard)},t.setOffset=function(e,t){this.tipBoard.x(e),this.tipBoard.y(t)},e}(),Sl=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isResizing=!1,t.resizeTargetMap=new Map,t.checkHitProcessor={},t.disposableStore=new nl.DisposableStore,t.hoverTargetType=null,t.delayDuration=50,t.onMouseup=function(){var e=t.resizeLine.lineOffsetX,n=t.getHoverTarget();null===n||void 0===n||n.done(e),t.reset()},t.onCanvasMouseMove=function(e){var n=e.target.getAttr(ko.k4);if(!t.isNeedPrevent(e.evt.button)&&!n){if(t.isResizing)return t.showLine(e),void t.showTip(e);t.updateHoverTarget(e),t.hoverTargetType&&(t.delayTimer&&clearTimeout(t.delayTimer),t.delayTimer=setTimeout((function(){return t.doDelayHover(e)}),t.delayDuration))}},t.onCanvasMouseDown=function(){t.isResizing=!!t.hoverTargetType},t.onScroll=function(){t.isHover&&t.reset()},t.reset=function(){t.delayTimer&&clearTimeout(t.delayTimer),t.resizeLine.hide(),t.resizeTip.hide(),t.hoverTargetType=null,t.isResizing=!1,t.toDeactivated(),t.canvas.view.setCursor(ko.WV.DEFAULT)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.init(),this.mousemoveDisposable=this.emitter.global.mousemove.event(this.onCanvasMouseMove)},n.destroy=function(){this.resizeLine.destroy(),this.resizeTip.destroy(),this.mousemoveDisposable.dispose()},n.addActivedEvents=function(){this.emitterAddListener(),this.documentAddListener()},n.removeActivedEvents=function(){this.emitterRemoveListener(),this.documentRemoveListener()},n.updated=function(){},n.init=function(){this.resizeLine=new _l(this.canvas),this.resizeTip=new Dl(this.canvas),this.registerTargets()},n.registerTargets=function(){var e=this,t=this.canvas.view.getType(),n=jl[t];null===n||void 0===n||n.forEach((function(t){var n=new t(e.canvas),i=n.type;e.resizeTargetMap.set(i,n),e.checkHitProcessor[i]=n.checkHit}))},n.emitterAddListener=function(){this.disposableStore.add(this.emitter.global.scroll.event(this.onScroll)),this.disposableStore.add(this.emitter.global.mousedown.event(this.onCanvasMouseDown)),this.disposableStore.add(this.emitter.global.mouseup.event(this.onMouseup))},n.emitterRemoveListener=function(){this.disposableStore.clear()},n.documentAddListener=function(){document.addEventListener("mouseup",this.onMouseup),document.addEventListener("mouseleave",this.reset),document.addEventListener("visibilitychange",this.reset)},n.documentRemoveListener=function(){document.removeEventListener("mouseup",this.onMouseup),document.removeEventListener("mouseleave",this.reset),document.removeEventListener("visibilitychange",this.reset)},n.updateHoverTarget=function(e){for(var t=0,n=Object.keys(this.checkHitProcessor);t<n.length;t++){var i=n[t],o=this.checkHitProcessor[i];if(null===o||void 0===o?void 0:o(e))return this.hoverTargetType=i,void this.toActived()}this.hoverTargetType&&this.reset()},n.doDelayHover=function(e){var t=this.hoverTargetType===Il.FieldResize?ml.SHORT:ml.LONG;this.showLine(e,t),this.canvas.view.setCursor(ko.WV.COL_RESIZE)},n.showLine=function(e,t){var n=this.getLineOffsetX(e);null!==n&&this.resizeLine.show(n,t)},n.showTip=function(e){var t=this.getLineOffsetX(e);if(null!==t){var n=this.getTipContent(e);if(null!==n){var i=this.collector.size.globalPaddingTop;this.resizeTip.show(t,i,n)}}},n.getLineOffsetX=function(e){var t=this.getHoverTarget();return t?t.getLineOffsetX(e,this.isResizing):null},n.getTipContent=function(e){var t=this.getHoverTarget();return t?t.getTipContent(e):null},n.isNeedPrevent=function(e){var t=this.canvas.getFeature("FieldMove"),n=this.canvas.getFeature("RecordMove"),i=this.canvas.getFeature("RecordFloat"),o=this.canvas.getFeature("SmartFill"),r=this.canvas.getFeature("TimelineTimeBarAction");return 0!==e||(null===t||void 0===t?void 0:t.isMoving())||n.isMoving()||(null===i||void 0===i?void 0:i.isShow())||(null===o||void 0===o?void 0:o.isHovering())||(null===r||void 0===r?void 0:r.isOperating)},n.getHoverTarget=function(){if(this.hoverTargetType)return this.resizeTargetMap.get(this.hoverTargetType)},(0,mi.Z)(t,[{key:"isHover",get:function(){return!!this.hoverTargetType}}]),t}(ps.Z);Sl.Name="WidthResize";var Nl=[[Rs,!1],[xs,!1],[ea,!1],[Na,!1],[Ta,!1],[Es,!0],[_a,!0],[Ls,!1],[Os,!1],[vl,!1],[Ns,!1],[za.ZP,!0],[Ps,!0],[Ea,!0],[Sl,!0]],Rl=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.installFeatures(Nl)},n.getAutoScrollOptions=function(){var e=this.collector,t=e.size,n=e.ranger;return{boundRect:{left:t.activityStartX,right:t.activityStartX+t.activityViewWidth,top:t.activityStartY,bottom:t.activityStartY+t.activityViewHeight},getScrollOffset:function(){var e=n.getOffset();return{scrollX:e.offsetX,scrollY:e.offsetY}},top:40,bottom:80,left:100,right:50}},t}(mr),Ol=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isShowTooltip=!1,t.autoHideTooltipDuration=3e3,t.onCanvasTouchmove=function(){t.hideTooltip()},t.onCanvasTap=function(e){var n=(0,js.ZP)(e.delta.x,e.delta.y,t.collector);t.handleTarget(n)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.tapListener=this.emitter.action.tap.event(this.onCanvasTap)},n.destroy=function(){var e;null===(e=this.tapListener)||void 0===e||e.dispose()},n.addActivedEvents=function(){this.touchmoveListener=this.emitter.action.touchmove.event(this.onCanvasTouchmove)},n.removeActivedEvents=function(){var e;null===(e=this.touchmoveListener)||void 0===e||e.dispose()},n.updated=function(){},n.showTooltip=function(e,t){var n=this.collector.size,i=n.frozenWidth,o=n.sightWidth;this.isShowTooltip=!0;var r="top",s=10;e.x<=i?(r="right",s=0):e.x+e.width>=o&&(r="left",s=0),this.emitter.service.tooltip.fire({size:e,props:{containerOffsetX:e.x,containerOffsetY:e.y+s,title:t,placement:r,visible:!0}}),this.toActived()},n.hideTooltip=function(){this.isShowTooltip=!1,clearTimeout(this.autoHideTooltipTimer),this.emitter.service.tooltip.fire({hide:!0}),this.toDeactivated()},n.handleTarget=function(e){if(e&&e.unit){this.isShowTooltip&&this.hideTooltip();var t=e.unit;switch(t.layoutType){case ns.yP.RECORD:this.expendRecord(t.recordId);break;case ns.yP.STAT:this.showStatTooltip(t)}}},n.expendRecord=function(e){this.emitter.service.expandRow.fire({recordId:e})},n.showStatTooltip=function(e){var t=this,n=this.collector.layout.getUnitGroupPath(e),i=this.collector.getFieldStatResult(e.fieldId,n||[]);if(i&&i.statType!==ts.w.NONE){var o=function(e){var t=fl(e);return t?t.label+": "+t.value:""}(i),r={x:this.collector.getFieldX(e.fieldId),y:this.collector.getLayoutY(e.layoutIndex),width:Lo.u.util.measureWidth(o),height:this.collector.layout.getLayoutSize(e.layoutType)};this.showTooltip(r,o),this.autoHideTooltipTimer=setTimeout((function(){t.hideTooltip()}),this.autoHideTooltipDuration)}},t}(ps.Z);Ol.Name="InteractiveMobile";var Ll=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).listeners=[],t.pressRect=Lo.u.shape.rect(null,{fill:Xi.mS,visible:!1}),t.pressRecordId="",t.onDocumentTouchstart=function(e){t.isContainsInStage(e.target)||t.hideRecordPress()},t.onCanvasTouchmove=function(){t.hideRecordPress()},t.onCanvasTouchstart=function(e){var n,i=e.event.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y,s=(0,js.ZP)(o,r,t.collector),a=null===(n=null===s||void 0===s?void 0:s.unit)||void 0===n?void 0:n.recordId;a&&t.pressRecordId!==a?t.showRecordPress(a):t.hideRecordPress()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.canvas.getLayer().add(this.pressRect),this.listeners.push(this.emitter.action.touchstart.event(this.onCanvasTouchstart)),this.listeners.push(this.emitter.action.touchmove.event(this.onCanvasTouchmove)),document.addEventListener("touchstart",this.onDocumentTouchstart)},n.destroy=function(){this.pressRect.destroy(),this.listeners.forEach((function(e){return e.dispose()})),document.removeEventListener("touchstart",this.onDocumentTouchstart)},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.showRecordPress=function(e){var t=this.getRecordRect(e);this.pressRect.setAttrs(t),this.pressRect.visible(!0),this.pressRecordId=e},n.hideRecordPress=function(){this.pressRect.visible(!1),this.pressRecordId=""},n.getRecordRect=function(e){var t=this.collector.size,n=this.collector.layout.getLayoutIndexByRecordId(e);if(n<0)return null;var i=this.collector.getLayoutY(n),o=Gs(i,t.activityStartY),r=this.collector.getRecordHeight();return i+=o,r-=o,{x:t.levelIndent+t.globalPaddingLeft,y:i,width:t.sightWidth-t.blankWidth-t.levelIndent,height:r}},t}(ps.Z);Ll.Name="RecordPress";var kl=[[Ns,!1],[xs,!1],[Ol,!1],[Ll,!1],[Os,!1],[Rs,!1],[Es,!0]],zl=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.installFeatures(kl)},n.getAutoScrollOptions=function(){return null},t}(mr),Pl=function(){function e(e,t){this.layout=e,this.collector=t,this.bootstrap()}var t=e.prototype;return t.getArea=function(){return{level1:this.layout.level1,level2:this.getLevel2(),level2Canvas:this.layout.level2Canvas}},t.paint=function(){var e=this.collector.ranger.getRange();this.range?this.paintDelta():(this.paintInitOrForce(),this.clipArea()),this.range=e},t.reset=function(){this.range=null},e}(),Fl=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){},n.getLevel2=function(){return{content:this.layout.level2.activityBody}},n.paintInitOrForce=function(){var e=this.collector,t=e.ranger,n=e.layout,i=t.getRange();n.doRangeLayoutUnit(i,this.paintLayoutUnit.bind(this))},n.clearArea=function(){},n.paintDelta=function(){this.removeDecreased(),this.paintIncreased()},n.offsetChildren=function(e,t){for(var n=this.getArea().level2.content.getChildren(),i=n.length-1;i>=0;){var o=n[i];o.x(o.x()-e),o.y(o.y()-t),i-=1}this.clipArea()},n.clipArea=function(){var e=this.collector.size;this.getArea().level2.content.clipFunc((function(t){return t.rect(e.activityStartX,e.activityStartY,e.activityViewWidth+Xi.YF,e.activityViewHeight+Xi.YF)}))},n.removeDecreased=function(){var e=this,t=this.collector.ranger,n=t.getRangeChange(this.range),i=n.decreasedFields,o=n.decreasedLayouts,r=[];i.forEach((function(e){o.forEach((function(t){r.push(ul(e,t))}))})),i.length&&t.getRangeLayouts().forEach((function(e){i.forEach((function(t){r.push(ul(t,e))}))})),o.length&&t.getRangeFields().forEach((function(e){o.forEach((function(t){r.push(ul(e,t))}))})),r.forEach((function(t){e.layout.removeUnit(t)}))},n.paintIncreased=function(){var e=this,t=this.collector.ranger.getRangeChange(this.range),n=t.increasedFields,i=t.increasedLayouts,o=[];if(n.length&&this.collector.ranger.getRangeLayouts().forEach((function(e){n.forEach((function(t){o.push([t,e])}))})),i.length){var r=this.collector.ranger.getRangeFields();i.forEach((function(e){r.forEach((function(t){o.push([t,e])}))}))}o.length&&o.forEach((function(t){var n=t[0],i=t[1];e.collector.layout.doSingleLayoutUnit(i,n,e.paintLayoutUnit.bind(e))}))},n.paintLayoutUnit=function(e){this.layout.draw(this.getArea(),e)},t}(Pl),Ul=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){},n.getLevel2=function(){return{content:this.layout.level2.activityHead}},n.paintInitOrForce=function(){var e=this.collector,t=e.ranger,n=e.layout,i=t.getRange();n.doRangeFieldUnit(i.startFieldIndex,i.endFieldIndex,this.paintFieldUnit.bind(this))},n.clearArea=function(){},n.paintDelta=function(){var e=this,t=this.collector.ranger.getRangeChange(this.range),n=t.increasedFields,i=t.decreasedFields;n.length&&n.forEach((function(t){e.collector.layout.doSingleFieldUnit(t,e.paintFieldUnit.bind(e))})),i.length&&i.forEach((function(t){var n=ul(t);e.layout.removeUnit(n)}))},n.offsetChildrenX=function(e){var t=0,n=this.getArea().level2.content.getChildren();for(t=n.length-1;t>=0;){var i=n[t];i.x(i.x()-e),t-=1}this.clipArea()},n.clipArea=function(){var e=this.getArea(),t=this.collector.size;e.level2.content.clipFunc((function(e){return e.rect(t.activityStartX,t.globalPaddingTop,t.activityViewWidth+Xi.YF,t.fieldHeight+Xi.YF)}))},n.paintFieldUnit=function(e){this.layout.draw(this.getArea(),e)},t}(Pl),Bl=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).clipLevel1=function(e){var n=t.collector.size;return e.rect(n.globalPaddingLeft,n.activityStartY,n.frozenWidth+n.activityViewWidth,n.activityViewHeight+Xi.YF)},t.clipLevel2=function(e){var n=t.collector.size;return e.rect(n.globalPaddingLeft,n.activityStartY,n.frozenWidth+Xi.YF,n.activityViewHeight+Xi.YF)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){},n.getLevel2=function(){return{content:this.layout.level2.asideBody}},n.paintInitOrForce=function(){this.doRangeLayoutUnit(this.paintLayoutUnit.bind(this))},n.clearArea=function(){var e=this;this.doRangeLayoutUnit((function(t){var n=ul(t.fieldId,t.layoutIndex);e.layout.removeUnit(n)}))},n.paintDelta=function(){var e=this,t=this.collector,n=t.ranger,i=t.layout,o=this.collector.getFrozenFields(),r=n.getRangeChange(this.range),s=r.increasedLayouts,a=r.decreasedLayouts;s.forEach((function(t){o.forEach((function(n){i.doSingleLayoutUnit(t,n,e.paintLayoutUnit.bind(e))}))})),a.forEach((function(t){o.forEach((function(n){var i=ul(n,t);e.layout.removeUnit(i)}))}))},n.offsetChildrenY=function(e){var t=this.getArea();this.offsetNodes(t.level1.rect.getChildren(),e),this.offsetNodes(t.level1.line.getChildren(),e),this.offsetNodes(t.level2.content.getChildren(),e),this.clipArea()},n.clipArea=function(){var e=this.getArea();e.level1.rect.clipFunc(this.clipLevel1),e.level1.line.clipFunc(this.clipLevel1),e.level2.content.clipFunc(this.clipLevel2)},n.offsetNodes=function(e,t){for(var n=e.length-1;n>=0;){var i=e[n];i.y(i.y()-t),n-=1}},n.doRangeLayoutUnit=function(e){var t=this.collector,n=t.ranger,i=t.layout,o=n.getRange(),r=this.collector.getFrozenFieldCount()-1;i.doRangeLayoutUnit(Object.assign(Object.assign({},o),{startFieldIndex:0,endFieldIndex:r}),e)},n.paintLayoutUnit=function(e){this.layout.draw(this.getArea(),e)},t}(Pl),Wl=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){},n.getLevel2=function(){return{content:this.layout.level2.asideHead}},n.paintInitOrForce=function(){this.paintFrozenFields(),this.paintVerticalEdgeLine()},n.paintDelta=function(){},n.clipArea=function(){},n.reset=function(){e.prototype.reset.call(this),this.toggleEdgeLine()},n.clearArea=function(){var e=this;this.doFrozenFieldUnit((function(t){var n=ul(t.fieldId);e.layout.removeUnit(n)}))},n.toggleEdgeLine=function(){var e,t,n,i;if(!this.collector.isMobile()){var o=this.collector.ranger.getOffset().offsetX,r=this.collector.size.outerWidth>this.collector.size.activityStartX;o>0&&r?(null===(e=this.edgeLine)||void 0===e?void 0:e.isVisible())||null===(t=this.edgeLine)||void 0===t||t.show():(null===(n=this.edgeLine)||void 0===n?void 0:n.isVisible())&&(null===(i=this.edgeLine)||void 0===i||i.hide())}},n.paintVerticalEdgeLine=function(){if(!this.collector.isMobile()){var e=this.getArea(),t=this.collector,n=t.size,i=t.ranger,o=[n.activityStartX+.5,n.globalPaddingTop+.5,n.activityStartX+.5,n.globalHeight-n.globalPaddingBottom+.5];this.edgeLine?(this.edgeLine.points(o),this.edgeLine.moveToTop()):this.edgeLine=Lo.u.shape.line(e.level2Canvas,{points:o,stroke:Xi.dS,strokeWidth:2,visible:i.getOffset().offsetX>0,shadowForStrokeEnabled:!0})}},n.doFrozenFieldUnit=function(e){var t=this.collector.getFrozenFieldCount()-1;this.collector.layout.doRangeFieldUnit(0,t,(function(t){e(t)}))},n.paintFrozenFields=function(){var e=this;this.doFrozenFieldUnit((function(t){e.layout.draw(e.getArea(),t)}))},t}(Pl);function Gl(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Hl,Yl,Vl=function(){function e(){this.icons=[],this.rects=[],this.lines=[],this.texts=[],this.corners=[],this.cells=[],this.shapes=new Map}var t=e.prototype;return t.icon=function(e,t,n){this.icons.push([e,t,n])},t.line=function(e,t){this.lines.push([e,t])},t.rect=function(e,t){this.rects.push([e,t])},t.text=function(e,t){this.texts.push([e,t])},t.corner=function(e,t,n){this.corners.push([e,t,n])},t.cell=function(e,t,n,i){this.cells.push([e,t,n,i])},t.clear=function(){for(var e,t=Gl(this.shapes.keys());!(e=t()).done;){var n=e.value;this.removeUnit(n)}},t.batchDraw=function(){this.drawRects(),this.drawCorners(),this.drawLines(),this.drawIcons(),this.drawTexts(),this.drawCells()},t.removeUnit=function(e){var t=this.shapes.get(e);t&&(t.forEach((function(e){return e.destroy()})),this.shapes.delete(e))},t.exist=function(e){return this.shapes.has(e)},t.addShape=function(e,t){var n=e.name;n?this.shapes.has(n)?this.shapes.get(n).push(t):this.shapes.set(n,[t]):o.k.warn("绘制元素没有指定 name 属性可能发生错误，需确保调用了 mix 方法")},t.drawRects=function(){for(;this.rects.length;){var e=this.rects.shift(),t=e[0],n=e[1],i=Lo.u.shape.rect(t,n);this.addShape(n,i)}},t.drawCorners=function(){for(;this.corners.length;){var e=this.corners.shift(),t=e[0],n=e[1],i=e[2],o=Lo.u.corner.draw(n,t,i);this.addShape(i,o)}},t.drawLines=function(){for(;this.lines.length;){var e=this.lines.shift(),t=e[0],n=e[1];n.points&&(n.points=n.points.map((function(e){return e+.5})));var i=Lo.u.shape.line(t,n);this.addShape(n,i)}},t.drawTexts=function(){for(;this.texts.length;){var e=this.texts.shift(),t=e[0],n=e[1],i=Lo.u.shape.text(t,n);this.addShape(n,i)}},t.drawIcons=function(){for(var e=this,t=function(){var t=e.icons.shift(),n=t[0],i=t[1],o=t[2];Lo.u.icon.draw(n,i,o,(function(t){e.addShape(o,t)}))};this.icons.length;)t()},t.drawCells=function(){for(;this.cells.length;){var e=this.cells.shift(),t=e[0],n=e[1],i=e[2],o=e[3],r=Lo.u.board();Lo.u.cell.draw(r,i,n,o),t.add(r),this.addShape(o,r)}},e}(),Ql=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector.size.sightWidth;this.pool.rect(e.level2.content,this.mix(n,Object.assign(Object.assign({},t),{height:t.height,width:i,fill:Xi.UE}))),this.pool.line(e.level2.content,this.mix(n,{x:t.x,y:t.y,points:[0,t.height,i,t.height]}))},n.drawBody=function(e,t,n){var i=this.collector.getField(n.fieldId);if(i){var o=this.drawFieldIcon(e,t,n,i.getType());this.drawFieldTitle(e,t,n,i.getTitle(),o)}},n.drawEnd=function(e,t,n){this.drawBody(e,t,n)},t}(gl),Kl=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector.layout.getUnitIndent(n),o=t.x+i;this.drawStartIndentLines(e,t,n,!0),this.pool.corner(e.level1.line,dl.a.LB,this.mix(n,Object.assign(Object.assign({},t),{x:o})));var r=this.getAuxWidth();this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:r,fill:Xi.tj})));var s=this.getWhiteWidth(n)+i+this.getEndIndentWidth(n);this.pool.line(e.level1.line,this.mix(n,{y:t.y,points:[o+t.width,t.height,s,t.height]}))},n.drawBody=function(e,t,n){},n.drawEnd=function(e,t,n){this.drawEndIndentLines(e,t,n),this.collector.isGantt()||this.pool.corner(e.level2.content,dl.a.RB,this.mix(n,Object.assign(Object.assign({},t),{width:this.getEndIndentWidth(n)})))},t}(hl),Xl=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector.size;this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:i.sightWidth,fill:Xi.tj}))),this.pool.line(e.level1.line,this.mix(n,{x:t.x,y:t.y,points:[0,t.height,i.sightWidth,t.height]}))},n.drawBody=function(){},n.drawEnd=function(){},t}(Kl),Jl=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).foldAreaSize=Xi.UV,t}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i,o=this.collector.needGroupIndent(),r=this.collector.layout.getUnitLevel(n),s=this.collector.layout.getUnitIndent(n),a=this.collector.isBottomGroup(r),l=this.collector.isShowStat(),d=this.getWhiteWidth(n),c=this.getAuxWidth(),u=this.isFolded(n),h=t.x+s;this.drawStartIndentLines(e,t,n,!0);var g=u?dl.a.LTLB:dl.a.LT;this.pool.corner(e.level1.line,g,this.mix(n,Object.assign(Object.assign({},t),{x:h})));var f={needIndent:o,indent:s,startX:h,cornerType:g,isFolded:u,isShowStat:l,auxWidth:c,whiteWidth:d,isBottomGroup:a};this.drawStarAreaFill(e,t,n,f),this.drawStartAreaLine(e,t,n,f);var m=this.collector.layout.getMaxIndent(),p=t.width-m,v={x:t.x+m+(p-this.foldAreaSize)/2,y:t.y+(t.height-this.foldAreaSize)/2,width:this.foldAreaSize,height:this.foldAreaSize},I=u?Or.Y.DROPDOWN_FOLD:Or.Y.DROPDOWN;this.pool.icon(e.level1.line,I,this.mix(n,Object.assign(Object.assign({},v),((i={})[ko.k4]={type:ko.KW.GROUP_COLLSAPSE,hoverCursor:ko.WV.POINTER,hoverRect:!0,value:n},i.listening=!0,i))))},n.drawBody=function(e,t,n){var i=this.isFolded(n),o=this.collector.layout.getUnitLevel(n),r=this.collector.isBottomGroup(o)&&this.isLastNaturalField(n);if(!this.collector.isGantt()&&r){var s=i?dl.a.RTRB:dl.a.RT;this.pool.corner(e.level2.content,s,this.mix(n,t))}if(this.isFirstNaturalField(n)){var a=this.collector.layout.getLayout(n.layoutIndex).head.groupValue;if(!Array.isArray(a)){var l=Object.assign(Object.assign({},t),{y:t.y+1}),d=this.getCellParam(a,l,!0);d&&(d.cell.data.length?this.pool.cell(e.level1.line,d.cell,d.rect,this.mix(n,d.config)):this.drawEmptyGroupValue(e,n,t,d.config.textConfig))}}},n.drawEnd=function(e,t,n){if(this.collector.needGroupIndent()){this.drawEndIndentLines(e,t,n);var i=this.collector.layout.getUnitLevel(n),o=this.collector.isBottomGroup(i);if(!this.collector.isGantt()&&!o){var r=this.isFolded(n),s=this.getEndIndentWidth(n),a=r?dl.a.RTRB:dl.a.RT;this.pool.corner(e.level2.content,a,this.mix(n,Object.assign(Object.assign({},t),{width:s})))}}},n.drawEmptyGroupValue=function(e,t,n,i){this.pool.text(e.level1.line,this.mix(t,Object.assign(Object.assign(Object.assign(Object.assign({},n),{x:n.x+ls.pK,y:n.y+ls.pK+2,text:R.Z.t("value_empty"),fill:ls.XM}),i),{fontStyle:"normal"})))},n.isFolded=function(e){var t,n=this.collector.layout.getLayout(e.layoutIndex);return!!(null===(t=null===n||void 0===n?void 0:n.head)||void 0===t?void 0:t.folded)},n.drawStarAreaFill=function(e,t,n,i){var o=i.needIndent,r=i.indent,s=i.startX,a=i.cornerType,l=i.auxWidth,d=i.whiteWidth,c=i.isBottomGroup;if(o){var u=a===dl.a.LTLB?Xi.n_:r?0:[Xi.n_,Xi.n_,0,0];this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:l,fill:Xi.tj,cornerRadius:u})))}if(c){var h=a===dl.a.LTLB?Xi.n_:[Xi.n_,Xi.n_,0,0];this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{x:s,width:d,fill:Xi.UE,cornerRadius:h})))}},n.drawStartAreaLine=function(e,t,n,i){var o=this.collector.size,r=i.indent,s=i.startX,a=i.whiteWidth,l=i.isFolded,d=i.isBottomGroup,c=i.isShowStat,u=i.needIndent,h=a+r+o.globalPaddingLeft;if(!o.blankWidth||u&&!d||(h-=Xi.n_),this.pool.line(e.level1.line,this.mix(n,{y:t.y,points:[s+t.width,0,h,0]})),c||d||l){var g=l?Xi.n_:0,f=h+(d?0:this.getEndIndentWidth(n));l?f-=Xi.n_:o.blankWidth&&(!c||c&&d)&&(f+=Xi.n_),this.pool.line(e.level1.line,this.mix(n,{y:t.y,points:[s+g,t.height,f,t.height]}))}},t}(hl),ql=2*ls.pK,$l=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector.size.sightWidth;this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:i,fill:Xi.tj}))),this.pool.line(e.level1.line,this.mix(n,{x:t.x,y:t.y,points:[0,0,i,0]})),this.isFolded(n)&&this.pool.line(e.level1.line,this.mix(n,{x:t.x,y:t.y,points:[0,t.height,i,t.height]})),this.drawStickHead(e,t,n)},n.drawBody=function(){},n.drawEnd=function(){},n.drawStickHead=function(e,t,n){var i=this.isFolded(n),o={x:t.x+ls.pK,y:t.y+(t.height-this.foldAreaSize)/2,width:this.foldAreaSize,height:this.foldAreaSize};this.pool.icon(e.level1.line,i?Or.Y.DROPDOWN_FOLD:Or.Y.DROPDOWN,this.mix(n,o));var r=o.x+o.width+ls.pK;this.drawGroupValues(e,t,n,r)},n.drawGroupValues=function(e,t,n,i){var o=this,r=i,s=this.collector.layout.getLayout(n.layoutIndex).head.groupValue;if(!Array.isArray(s))return r;var a=R.Z.t("group_head_count",{count:this.collector.layout.getUnitGroupCount(n)}),l=this.util.measureWidth(a)+this.collector.size.globalPaddingRight,d=this.collector.size.activityViewWidth-r-l-4-(Xi.UV+8)*(s.length-1),c=Math.round(d/s.length-4);s.forEach((function(i,a){var l={x:r,y:t.y-2,width:c,height:t.height},d=0,u=o.getCellParam(i,l,!0);u&&(u.cell.data.length?((d=Lo.u.cell.measureWidth(i,null===u||void 0===u?void 0:u.config.textConfig))?d+=ql:(u.rect.width=c-ql,d=c),o.pool.cell(e.level1.line,u.cell,u.rect,o.mix(n,u.config))):(l.y-=3,o.drawEmptyGroupValue(e,n,l,u.config.textConfig),d=Lo.u.util.measureWidth(R.Z.t("value_empty"))));var h=Math.min(d,c);if(a!==s.length-1){var g={x:r+=h+4,y:t.y+(t.height-Xi.UV)/2,width:Xi.UV,height:Xi.UV};o.pool.icon(e.level1.line,Or.Y.ARROW_RIGHT,o.mix(n,g))}r+=Xi.UV+4})),this.drawGroupCount(e,t,n,a,l)},n.drawGroupCount=function(e,t,n,i,o){var r=this.collector.size,s=r.activityViewWidth,a=r.globalWidth,l={text:i,x:t.x+Math.min(s,a)-o,y:t.y,width:o,height:t.height,fill:ls.XM,align:"right"};this.pool.text(e.level1.line,this.mix(n,l))},t}(Jl),ed=((Hl={})[dl.a.LTLB]=Xi.n_,Hl[dl.a.LT]=[Xi.n_,Xi.n_,0,0],Hl[dl.a.LB]=[0,0,Xi.n_,Xi.n_],Hl.RT=void 0,Hl.RB=void 0,Hl.RTRB=void 0,Hl),td=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector,o=i.size,r=i.layout,s=r.getUnitIndent(n),a=r.getUnitLevel(n),l=t.x+s,d=this.collector.isBottomGroup(a);this.drawStartIndentLines(e,t,n,!0);var c=this.getAuxWidth(),u=this.getWhiteWidth(n),h=this.getCornerType(n,{top:dl.a.LT,bottom:dl.a.LB,topBottom:dl.a.LTLB}),g=l,f=u+s+o.globalPaddingRight;h!==dl.a.LTLB&&h!==dl.a.LB||(f-=Xi.n_,g+=Xi.n_);var m=[g,0,g,t.height,f,t.height,f,0];if(h){this.pool.corner(e.level1.line,h,this.mix(n,Object.assign(Object.assign({},t),{x:l}))),m.splice(0,2),m.pop(),m.pop();var p=u;o.blankWidth&&(p-=Xi.n_),this.pool.line(e.level1.line,this.mix(n,{x:t.x,y:t.y,points:[t.width,0,p,0]}))}this.pool.line(e.level1.line,this.mix(n,{y:t.y,points:m})),this.collector.getMaxGroupLevel()>0&&this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:c,fill:Xi.tj}))),d&&this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{x:l,width:u,fill:Xi.UE,cornerRadius:h?ed[h]:void 0}))),this.collector.isOperatorField(n.fieldId)&&!this.isInFloat(n)&&this.drawOperatorArea(e,t,n)},n.drawBody=function(e,t,n){var i=this.isLastNaturalField(n);if((!i||this.collector.isGantt())&&ls.H9){var o=[t.width,0,t.width,t.height];this.pool.line(e.level2.content,this.mix(n,{x:t.x,y:t.y,points:o}))}if(i&&!this.collector.isGantt()){var r=this.getCornerType(n,{top:dl.a.RT,bottom:dl.a.RB,topBottom:dl.a.RTRB});r&&this.pool.corner(e.level2.content,r,this.mix(n,t))}this.drawHighlight(e,t,n),this.drawCell(e,t,n)},n.drawEnd=function(e,t,n){this.drawEndIndentLines(e,t,n),this.drawHighlight(e,t,n),this.drawCell(e,t,n)},n.drawCell=function(e,t,n){if(!this.isInFloat(n)){var i=this.collector.getCell(n.fieldId,n.recordId),o=this.getCellParam(i,t,!1,n.fieldId,n.recordId);if(o){if(this.collector.isMobile()&&0===(null===i||void 0===i?void 0:i.data.length))return void this.pool.rect(e.level2.content,this.mix(n,{x:t.x+ls.pK+2,y:t.y+t.height/2,width:10,height:2,fill:ls.XM}));this.pool.cell(e.level2.content,o.cell,o.rect,this.mix(n,o.config))}}},n.drawHighlight=function(e,t,n){var i,o,r=n.fieldId,s=n.recordId;return!!(null===(o=null===(i=this.collector.state.getHighlightInfos().get(s))||void 0===i?void 0:i.get)||void 0===o?void 0:o.call(i,r))&&(this.pool.rect(e.level2.content,this.mix(n,{x:t.x+1,y:t.y+1,width:t.width-1,height:t.height-1,fill:Xi.Ov})),!0)},n.isLastRecord=function(e){var t=this.collector.layout.getLayout(e.layoutIndex+1);return!t||t.type!==ns.yP.RECORD},n.drawOperatorArea=function(e,t,n){var i=this.collector.layout.getUnitIndent(n),o=t.width-i,r=this.collector.layout.getUnitRecordIndex(n)+1,s={x:t.x+i,y:t.y,width:o,height:t.height};this.collector.state.isSelectRecord(n.recordId)&&this.collector.canEdit()?(this.pool.rect(e.level1.line,this.mix(n,{x:s.x,y:s.y,width:s.width,height:s.height,fill:"rgba(1, 136, 251, 0.09)"})),this.pool.icon(e.level1.line,Or.Y.CHECKBOX_CHECKED,this.mix(n,{x:t.x+(t.width+i-Xi._u)/2,y:t.y+ls.pK/2+ls.Ay/2,width:Xi._u,height:Xi._u}))):this.pool.text(e.level1.line,this.mix(n,{text:""+r,x:t.x+i,y:t.y+ls.pK+ls.Ay/2,width:o,height:Xi.Kt,fill:ls.d9,align:"center"}));var a=this.collector.state.getHighlightInfos().get(n.recordId);a&&a.size>0&&this.pool.rect(e.level1.line,this.mix(n,{x:s.x+1,y:s.y,width:s.width-1,height:s.height,fill:ls.Os}))},n.getCornerType=function(e,t){var n=this.collector.canEdit(),i=this.collector.hasGroup(),o=this.collector.isShowStat(),r=this.isSingleRecord(),s=this.isNoGroupFirstRecord(e)&&o,a=this.isNoEditLastRecord(e)||r&&!n&&!o;return!n&&!i&&o&&r?t.topBottom:s?t.top:a?t.bottom:null},n.isNoGroupFirstRecord=function(e){return 0===this.collector.layout.getUnitRecordIndex(e)&&!this.collector.hasGroup()},n.isNoEditLastRecord=function(e){return!(this.collector.canEdit()||!this.isLastRecord(e))},n.isSingleRecord=function(){return 1===this.collector.getAllRecordIds().length},n.isInFloat=function(e){var t;return(null===(t=this.collector.getFloatState().getPosition())||void 0===t?void 0:t.recordId)===e.recordId},t}(hl),nd=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector,o=i.size,r=i.layout,s=r.getUnitIndent(n),a=r.getUnitLevel(n),l=t.x+s,d=this.collector.isBottomGroup(a);this.drawStartIndentLines(e,t,n,!0);var c=this.collector.isEmpty()?dl.a.LTLB:dl.a.LB;this.pool.corner(e.level1.line,c,this.mix(n,Object.assign(Object.assign({},t),{x:l})));var u=this.collector.layout.getMaxIndent(),h=t.width-u;this.pool.icon(e.level2.content,Or.Y.ADD,this.mix(n,{x:t.x+u+(h-Xi.l2)/2,y:t.y+(t.height-Xi.l2)/2,width:Xi.l2,height:Xi.l2}));var g=this.getAuxWidth();if(this.collector.needGroupIndent()){var f=c===dl.a.LTLB?Xi.n_:s?0:[0,0,Xi.n_,Xi.n_];this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:g,fill:Xi.tj,cornerRadius:f})))}var m=this.getWhiteWidth(n);if(d){var p=c===dl.a.LTLB?Xi.n_:[0,0,Xi.n_,Xi.n_];this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{x:l,width:m,fill:Xi.UE,cornerRadius:p})))}var v=m+s+o.globalPaddingLeft;o.blankWidth&&(v-=Xi.n_),this.pool.line(e.level1.line,this.mix(n,{y:t.y,points:[l+t.width,t.height,v,t.height]})),this.collector.isEmpty()&&this.pool.line(e.level1.line,this.mix(n,{y:t.y,points:[l+t.width,0,v,0]}))},n.drawBody=function(e,t,n){var i=this.collector.layout.getUnitLevel(n),o=this.collector.isBottomGroup(i)&&this.isLastNaturalField(n);if(!this.collector.isGantt()&&o){var r=this.collector.isEmpty()?dl.a.RTRB:dl.a.RB;this.pool.corner(e.level2.content,r,this.mix(n,t))}},n.drawEnd=function(e,t,n){this.collector.needGroupIndent()&&this.drawEndIndentLines(e,t,n)},t}(hl);!function(e){e[e.SIDE_TOP=0]="SIDE_TOP",e[e.SIDE=1]="SIDE",e[e.SIDE_BOTTOM=2]="SIDE_BOTTOM",e[e.SIDE_TOP_LEFT_BOTTOM=3]="SIDE_TOP_LEFT_BOTTOM"}(Yl||(Yl={}));var id=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector.size,o=(this.collector.layout.getUnitLevel(n)+1)*this.collector.size.levelIndent,r=t.width-o,s={x:t.x+o,y:t.y,width:r,height:t.height},a=i.sightWidth-o;i.blankWidth&&(a-=i.blankWidth+Xi.n_);var l=a,d=a,c=a+Xi.n_,u=0;switch(this.getSideBorderType(n)){case Yl.SIDE_TOP:this.pool.corner(e.level1.line,dl.a.LT,this.mix(n,s)),u=[Xi.n_,0,0,0],l-=Xi.n_;break;case Yl.SIDE:this.pool.line(e.level1.line,this.mix(n,{x:s.x,y:s.y,points:[t.width,0,0,0,0,t.height]}));break;case Yl.SIDE_BOTTOM:this.pool.corner(e.level1.line,dl.a.LB,this.mix(n,s)),this.pool.line(e.level1.line,this.mix(n,{x:s.x,y:s.y,points:[0,0,s.width,0]})),u=[0,0,0,Xi.n_],d-=Xi.n_;break;case Yl.SIDE_TOP_LEFT_BOTTOM:this.pool.corner(e.level1.line,dl.a.LTLB,this.mix(n,s)),u=[Xi.n_,0,0,Xi.n_],l-=Xi.n_,d-=Xi.n_}var h=this.collector.hasGroup();h&&this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:i.sightWidth,fill:Xi.tj}))),this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},s),{width:c,fill:Xi.UE,cornerRadius:u}))),this.pool.line(e.level1.line,this.mix(n,{x:s.x+r,y:s.y,points:[0,0,l,0]})),(!h||h&&this.isLastRecord(n))&&this.pool.line(e.level1.line,this.mix(n,{x:s.x+r,y:s.y,points:[0,t.height,d,t.height]}))},n.drawBody=function(e,t,n){this.drawHighlight(e,t,n),this.drawCell(e,t,n)},n.drawEnd=function(e,t,n){this.drawBody(e,t,n);var i={x:t.x+t.width-Xi.n_,y:t.y,width:Xi.n_,height:t.height};switch(this.getSideBorderType(n)){case Yl.SIDE_TOP:this.pool.corner(e.level2.content,dl.a.RT,this.mix(n,i));break;case Yl.SIDE:this.pool.line(e.level2.content,this.mix(n,{x:t.x,y:t.y,points:[t.width,0,t.width,t.height,0,t.height]}));break;case Yl.SIDE_BOTTOM:this.pool.corner(e.level2.content,dl.a.RB,this.mix(n,i));break;case Yl.SIDE_TOP_LEFT_BOTTOM:this.pool.corner(e.level2.content,dl.a.RTRB,this.mix(n,i))}},n.getSideBorderType=function(e){if(-1!==e.parentLayoutIndex){var t=this.collector.isShowStat(),n=this.collector.layout.getLayout(e.layoutIndex-1),i=this.collector.layout.getLayout(e.layoutIndex+1),o=n&&n.type!==ns.yP.RECORD,r=i&&i.type!==ns.yP.RECORD;return o&&r&&!t?Yl.SIDE_TOP_LEFT_BOTTOM:o&&!t?Yl.SIDE_TOP:r?Yl.SIDE_BOTTOM:Yl.SIDE}return Yl.SIDE_TOP_LEFT_BOTTOM},t}(td),od=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){if(!this.isTopLayout(n))if(this.collector.isMobile())this.drawBody(e,t,n);else{this.drawStartIndentLines(e,t,n);var i=this.getAuxWidth();this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:i,fill:Xi.tj})))}},n.drawBody=function(e,t,n){this.isTopLayout(n)||this.collector.isMobile()&&this.pool.rect(e.level2.content,this.mix(n,Object.assign(Object.assign({},t),{fill:Xi.tj})))},n.drawEnd=function(e,t,n){if(!this.isTopLayout(n))if(this.collector.isMobile())this.drawBody(e,Object.assign(Object.assign({},t),{width:t.width+this.collector.size.globalPaddingRight}),n);else{var i=this.collector.layout.getUnitLevel(n);this.collector.isGantt()&&(i-=1),this.drawEndIndentLines(e,t,n,i+1)}},t}(hl),rd=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStart=function(e,t,n){var i=this.collector.size,o=this.isTopLayout(n);if(this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},t),{width:i.sightWidth,fill:o?Xi.UE:Xi.tj}))),o)this.pool.line(e.level1.line,this.mix(n,{x:t.x,y:t.y,points:[0,t.height,i.sightWidth,t.height]}));else{var r=(this.collector.layout.getUnitLevel(n)+1)*this.collector.size.levelIndent,s=t.width-r,a={x:t.x+r,y:t.y,width:s,height:t.height};this.pool.corner(e.level1.line,dl.a.LT,this.mix(n,a));var l=i.sightWidth-r;i.blankWidth&&(l-=i.blankWidth+2*Xi.n_);var d=l+2*Xi.n_;this.pool.rect(e.level1.rect,this.mix(n,Object.assign(Object.assign({},a),{width:d,fill:Xi.UE,cornerRadius:[Xi.n_,Xi.n_,0,0]}))),this.pool.line(e.level1.line,this.mix(n,{x:a.x+s,y:a.y,points:[0,0,l,0]}))}},n.drawBody=function(e,t,n){this.drawStatResult(e,t,n)},n.drawEnd=function(e,t,n){if(this.drawStatResult(e,t,n),!this.isTopLayout(n)){var i={x:t.x+t.width-Xi.n_,y:t.y,width:Xi.n_,height:t.height};this.pool.corner(e.level2.content,dl.a.RT,this.mix(n,i))}},t}(pl),sd={x:0,y:0},ad=function(){function e(e,t){this.view=e,this.collector=t,this.level1={rect:Lo.u.board(sd),line:Lo.u.board(sd)},this.level2={asideHead:Lo.u.board(sd),asideBody:Lo.u.board(sd),activityHead:Lo.u.board(sd),activityBody:Lo.u.board(sd)},this.level2Canvas=Lo.u.layer(),this.pool=new Vl,this.level2Canvas.add(this.level1.rect),this.level2Canvas.add(this.level1.line),this.level2Canvas.add(this.level2.activityBody),this.level2Canvas.add(this.level2.asideBody),this.level2Canvas.add(this.level2.asideHead),this.level2Canvas.add(this.level2.activityHead),this.view.getStage().add(this.level2Canvas),this.initWidgets()}var t=e.prototype;return t.destroy=function(){Object.values(this.level1).forEach((function(e){return e.destroy()})),Object.values(this.level2).forEach((function(e){return e.destroy()})),this.level2Canvas.destroy()},t.clear=function(){this.pool.clear()},t.batchDraw=function(){this.pool.batchDraw()},t.removeUnit=function(e){this.pool.removeUnit(e)},t.draw=function(e,t){var n=t.fieldId,i=t.layoutType,o=t.layoutIndex,r=ul(n,o);if(!this.pool.exist(r)){var s={x:this.collector.getFieldX(n),y:this.collector.getLayoutY(o),width:this.collector.getFieldWidth(n),height:this.collector.layout.getLayoutSize(i)};t.layoutType==ns.yP.FIELD&&(s.y=this.collector.size.globalPaddingTop);var a=this.getDrawer(t);a&&this.drawUnit(a,e,s,t)}},t.getDrawer=function(e){switch(e.layoutType){case ns.yP.FIELD:return this.fieldWidget;case ns.yP.STAT:return this.statWidget;case ns.yP.SPACING:return this.spacingWidget;case ns.yP.GROUP_HEAD:return this.groupHeadWidget;case ns.yP.GROUP_FOOT:return this.groupFootWidget;case ns.yP.RECORD:return this.recordWidget;case ns.yP.RECORD_ADD:return this.recordAddWidget}},t.drawUnit=function(e,t,n,i){switch(i.type){case ns.g1.START:e.drawStart(t,n,i);break;case ns.g1.BODY:e.drawBody(t,n,i);break;case ns.g1.END:e.drawEnd(t,n,i)}},t.initWidgets=function(){var e=this.collector.isMobile();this.spacingWidget=new od(this.pool,this.collector),this.recordAddWidget=new nd(this.pool,this.collector),this.fieldWidget=new(e?Ql:gl)(this.pool,this.collector),this.statWidget=new(e?rd:pl)(this.pool,this.collector),this.groupHeadWidget=new(e?$l:Jl)(this.pool,this.collector),this.groupFootWidget=new(e?Xl:Kl)(this.pool,this.collector),this.recordWidget=new(e?id:td)(this.pool,this.collector)},e}(),ld=function(){function e(e,t){var n=this;this.view=e,this.collector=t,this.blankWidth=0,this.layout=new ad(this.view,this.collector),this.onScroll=function(e){if(e.deltaX||e.deltaY){var t=n.collector,i=t.ranger,o=t.size,r=i.getOffset(),s=r.offsetX,a=r.offsetY,l=(0,Ro.Z)(e.deltaX,s,o.activityScrollWidth,o.activityViewWidth),d=(0,Ro.Z)(e.deltaY,a,o.activityScrollHeight,o.activityViewHeight),c=(0,js.oH)(e.offsetX,o);if(c||(l=0),n.updateWithDelta(l,d),c)n.view.emitter.global.scroll.fire({x:l,y:d}),d&&n.view.emitter.global.ganttScroll.fire({x:0,y:d});else if(n.collector.isGantt()){var u=n.view.getTimeline().layout,h=u.dimension,g=u.size,f=(0,Ro.Z)(e.deltaX,h.getOffsetX(),g.activityScrollWidth,g.activityViewWidth);n.view.emitter.global.ganttScroll.fire({x:f,y:d}),d&&n.view.emitter.global.scroll.fire({x:0,y:d})}}},this.initAreas(),this.view.getRoot().style.backgroundColor=Xi.mw,this.srollListener=this.view.emitter.action.stageScroll.event(this.onScroll)}var t=e.prototype;return t.destroy=function(){this.layout.destroy(),this.srollListener.dispose()},t.drawInit=function(){var e;o.k.time("@render-pref draw init"),Di.markDrawInitStart(),this.paintAreas(),Di.markDrawInitEnd(),o.k.timeEnd("@render-pref draw init"),null===(e=null===window||void 0===window?void 0:window.__console)||void 0===e||e.log("drawInit paintAreas")},t.drawForce=function(){this.resetAreas(),this.paintAreas()},t.scrollToX=function(e){var t=this.collector,n=t.ranger,i=t.size,o=n.getOffset().offsetX,r=e-o,s=(0,Ro.Z)(r,o,i.activityScrollWidth,i.activityViewWidth);s&&(this.updateWithDelta(s,0),e>=i.activityScrollWidth&&this.checkReDrawAside(!0),this.view.emitter.global.scroll.fire({x:s,y:0}))},t.scrollToY=function(e){var t=this.collector,n=t.ranger,i=t.size,o=n.getOffset().offsetY,r=e-o,s=(0,Ro.Z)(r,o,i.activityScrollHeight,i.activityViewHeight);s&&(this.updateWithDelta(0,s),this.view.emitter.global.scroll.fire({x:0,y:s}),this.collector.isGantt()&&this.view.emitter.global.ganttScroll.fire({x:0,y:s}))},t.getLayer=function(){return this.layout.level2Canvas},t.initAreas=function(){this.activityBody=new Fl(this.layout,this.collector),this.activityHead=new Ul(this.layout,this.collector),this.asideBody=new Bl(this.layout,this.collector),this.asideHead=new Wl(this.layout,this.collector)},t.paintAreas=function(){this.collector.size.outerWidth&&(this.asideHead.paint(),this.asideBody.paint(),this.activityHead.paint(),this.activityBody.paint(),this.layout.batchDraw())},t.resetAreas=function(){this.layout.clear(),this.asideHead.reset(),this.asideBody.reset(),this.activityHead.reset(),this.activityBody.reset()},t.offsetAreas=function(e,t){this.activityBody.offsetChildren(e,t),this.activityHead.offsetChildrenX(e),this.asideBody.offsetChildrenY(t),this.asideHead.toggleEdgeLine()},t.updateWithDelta=function(e,t){var n=this.collector,i=n.ranger,o=n.size,r=i.getRange();i.calcWithDelta(e,t),Math.abs(e)>o.activityViewWidth||Math.abs(t)>o.activityViewHeight?this.drawForce():(this.offsetAreas(e,t),i.hasRangeChange(r)&&this.drawDelta(),this.checkReDrawAside())},t.drawDelta=function(){this.paintAreas()},t.drawForceAside=function(){this.asideHead.reset(),this.asideBody.reset(),this.asideHead.clearArea(),this.asideBody.clearArea(),this.asideHead.paint(),this.asideBody.paint(),this.layout.batchDraw()},t.checkReDrawAside=function(e){void 0===e&&(e=!1);var t=this.collector.size.blankWidth;(e||t!==this.blankWidth)&&(this.blankWidth=t,this.drawForceAside())},e}(),dd=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.grid=new ld(this.view,this.collector),this.feature=new(this.collector.isMobile()?zl:Rl)(this.collector,this.view,this.context)},n.destroy=function(){var e;this.grid.destroy(),null===(e=this.feature)||void 0===e||e.destroy(),this.context.rangeModel.resetSelection(ri.lZ.RENDER_DESTROY)},n.renderInit=function(){this.grid.drawInit()},n.renderForce=function(){var e;this.collector.ranger.update(),this.grid.drawForce(),null===(e=this.feature)||void 0===e||e.updated()},n.scrollToX=function(e){var t,n;this.grid.scrollToX(e),null===(n=null===(t=this.feature)||void 0===t?void 0:t.getFeature("Scroller"))||void 0===n||n.scrollToX(e)},n.scrollToY=function(e){var t,n;this.grid.scrollToY(e),null===(n=null===(t=this.feature)||void 0===t?void 0:t.getFeature("Scroller"))||void 0===n||n.scrollToY(e)},t}(Tr),cd=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=new fs(t),n.renderer=new dd(t,(0,Jn.Z)(n),n.collector),n.collector.isMobile()?n.touchOperator=new Ni((0,Jn.Z)(n),{easeX:1.5,easeY:1.5}):n.mouseOperator=new Si((0,Jn.Z)(n)),n}(0,u.Z)(t,e);var n=t.prototype;return n.getType=function(){return v.bW.GRID},n.getRenderer=function(){return this.renderer},n.getCollector=function(){return this.collector},n.getScrollOffset=function(){var e=this.collector.ranger.getOffset();return{x:e.offsetX,y:e.offsetY}},n.destroy=function(){var t,n;e.prototype.destroy.call(this),this.collector.destroy(),this.renderer.destroy(),null===(t=this.mouseOperator)||void 0===t||t.destroy(),null===(n=this.touchOperator)||void 0===n||n.destroy()},t}(ki),ud=n("../node_modules/@tencent/xtable-render/es/base/cell/attachment.js"),hd=n("../node_modules/@tencent/xtable-render/es/views/kanban/constants/style.js"),gd=function(e){if("undefined"!==typeof requestIdleCallback&&"undefined"!==typeof cancelIdleCallback){var t=requestIdleCallback(e);return function(){return cancelIdleCallback(t)}}if("undefined"!==typeof requestAnimationFrame){var n=requestAnimationFrame(e);return function(){return cancelAnimationFrame(n)}}if("undefined"!==typeof Promise){var i=function(e){var t=null,n=new Promise((function(e,n){t=function(e){n(e)}})),i=Promise.race([n,e]);return i.abort=t,i}(Promise.resolve());return i.then(e),function(){return i.abort("abort")}}var o=setTimeout(e);return function(){return clearTimeout(o)}};function fd(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return md(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?md(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function md(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pd=new Map;[[V.f.TEXT,"collectTextSize"],[V.f.NUMBER,"collectNormalTextSize"],[V.f.EMAIL,"collectNormalTextSize"],[V.f.PHONE,"collectNormalTextSize"],[V.f.CHECKBOX,"collectCheckboxSize"],[V.f.DATE_TIME,"collectNormalTextSize"],[V.f.CREATED_TIME,"collectNormalTextSize"],[V.f.MODIFIED_TIME,"collectNormalTextSize"],[V.f.IMAGE,"collectImageSize"],[V.f.URL,"collectUrlSize"],[V.f.SINGLE_SELECT,"collectSelectSize"],[V.f.MULTIPLE_SELECT,"collectSelectSize"],[V.f.CREATED_USER,"collectUserSize"],[V.f.MODIFIED_USER,"collectUserSize"],[V.f.PROGRESS,"collectProgressSize"],[V.f.ATTACHMENT,"collectAttachmentSize"]].forEach((function(e){var t=e[0],n=e[1];return pd.set(t,n)}));var vd=function(){function e(e){this.collector=e,this.groupIndex=0,this.cardIndex=0,this.contentWidth=0,this.groupCollapsePath="",this.groupWidth=0,this.wrapHeight=0,this.cardSumHeight=0,this.update()}var t=e.prototype;return t.destroy=function(){this.reset()},t.reset=function(){},t.update=function(){var e=this.collector.size;e.activityViewHeight>0&&(null===e||void 0===e||e.updateCardMaxShowHeight(e.activityViewHeight-e.heightExceptCard))},t.collectLayoutData=function(){var e=this;return new Promise((function(t){var n=e.collector.getGroups();if(n){e.scheduleDispose&&e.scheduleDispose();var i=e.collector.size;e.groupIndex=0,e.cardIndex=0,e.contentWidth=i.globalPaddingLeft,e.cardSumHeight=0,e.setGroupSizeInfo(n);var o=e.collector.getVisibleFieldIds()||[];e.collectFromGroups(n,o).then((function(){var n=e.collector.isMobile()?e.contentWidth-i.groupMargin+i.globalPaddingRight:e.contentWidth+i.addGroupWidth+i.globalPaddingRight;i.updateWholeContentWidth(n),t()}))}else t()}))},t.setGroupSizeInfo=function(e){var t=(null===e||void 0===e?void 0:e.groupIds)[this.groupIndex];this.groupCollapsePath=t?typeof t+String(t):"null";var n=this.collector,i=n.state,o=n.size,r=n.position,s=i.isFoldedInStorage(this.groupCollapsePath);i.setGroupFoldStatus(this.groupIndex,s),this.groupWidth=s?o.groupWrapWidth:o.groupWidth,r.setX(this.groupIndex,[this.contentWidth,this.contentWidth+this.groupWidth]),this.wrapHeight=this.collectGroupWrapChildrenHeight(t,e)},t.collectVisibleRect=function(){var e=this.collector.getGroups();if(e){var t=this.collector.size;this.groupIndex=0,this.cardIndex=0,this.contentWidth=t.globalPaddingLeft,this.cardSumHeight=0,t.reset(),this.setGroupSizeInfo(e);var n=this.collector.getVisibleFieldIds()||[];this.collectFromVisibleGroups(e,n);var i=this.collector.isMobile()?this.contentWidth-t.groupMargin+t.globalPaddingRight:this.contentWidth+t.addGroupWidth+t.globalPaddingRight;t.updateWholeContentWidth(i)}},t.collectFromVisibleGroups=function(e,t){for(var n,i,o=null===e||void 0===e?void 0:e.groupIds,r=e.groupIds.length-1,s=0;s<Math.floor(3e3/t.length)&&!(this.groupIndex>r);){var a=o[this.groupIndex],l=null!==(i=null===(n=null===e||void 0===e?void 0:e.groupRecordIds)||void 0===n?void 0:n.get(a))&&void 0!==i?i:[],d=this.getEndCardIndex(l);if(null===l||void 0===l?void 0:l.length){if(this.cardIndex<=d){var c=l[this.cardIndex],u=this.collector.getCardConfig()||{},h=u.isShowFieldTitle,g=void 0!==h&&h,f=u.isShowCover,m=void 0!==f&&f,p=u.coverFieldId,v=void 0===p?"":p;this.cardSumHeight=this.collectCardSize({isShowFieldTitle:g,isShowCover:m,coverFieldId:v,cardSumHeight:this.cardSumHeight,recordId:c,cardIndex:this.cardIndex,groupIndex:this.groupIndex,visibleFieldIds:t}),this.cardIndex+=1,s+=1}else this.handleNextVisibleGroup(e,a,r);if(this.groupIndex<=r)return this.collectFromVisibleGroups(e,t)}else this.handleNextVisibleGroup(e,a,r)}},t.handleNextVisibleGroup=function(e,t,n){var i,o=this.collector.size;this.cardSumHeight>0&&(this.cardSumHeight=this.cardSumHeight-o.groupCardMargin);var r=this.cardSumHeight>o.cardMaxShowHeight?o.cardMaxShowHeight:this.cardSumHeight;o.addGroupSize(r,this.cardSumHeight,this.wrapHeight,t,null!==(i=this.groupCollapsePath)&&void 0!==i?i:"",this.groupIndex),this.contentWidth=this.contentWidth+this.groupWidth+o.groupMargin,this.groupIndex+=1,this.cardIndex=0,this.cardSumHeight=0,this.groupIndex<=n&&this.setGroupSizeInfo(e)},t.collectFromGroups=function(e,t){var n=this;return new Promise((function(i){var o=null===e||void 0===e?void 0:e.groupIds;n.scheduleDispose=gd((function(){for(var r,s,a=0;a<Math.floor(3e3/t.length)&&!(n.groupIndex>=o.length);){var l=o[n.groupIndex],d=null!==(s=null===(r=null===e||void 0===e?void 0:e.groupRecordIds)||void 0===r?void 0:r.get(l))&&void 0!==s?s:[];if(null===d||void 0===d?void 0:d.length)if(n.cardIndex<d.length){var c=d[n.cardIndex],u=n.collector.getCardConfig()||{},h=u.isShowFieldTitle,g=void 0!==h&&h,f=u.isShowCover,m=void 0!==f&&f,p=u.coverFieldId,v=void 0===p?"":p;n.cardSumHeight=n.collectCardSize({isShowFieldTitle:g,isShowCover:m,coverFieldId:v,cardSumHeight:n.cardSumHeight,recordId:c,cardIndex:n.cardIndex,groupIndex:n.groupIndex,visibleFieldIds:t}),n.cardIndex+=1,a+=1}else n.handleNextGroup(e,l);else n.handleNextGroup(e,l)}if(n.collector.afterCollectCurrentSlice(),n.groupIndex<o.length)return n.collectFromGroups(e,t).then((function(){i()}));i()}))}))},t.handleNextGroup=function(e,t){var n,i=this.collector.size;this.cardSumHeight>0&&(this.cardSumHeight=this.cardSumHeight-i.groupCardMargin);var o=this.cardSumHeight>i.cardMaxShowHeight?i.cardMaxShowHeight:this.cardSumHeight;i.addGroupSize(o,this.cardSumHeight,this.wrapHeight,t,null!==(n=this.groupCollapsePath)&&void 0!==n?n:"",this.groupIndex),this.contentWidth=this.contentWidth+this.groupWidth+i.groupMargin,this.groupIndex=this.groupIndex+1,this.cardIndex=0,this.cardSumHeight=0,this.groupIndex<(null===e||void 0===e?void 0:e.groupIds.length)&&this.setGroupSizeInfo(e)},t.getTextLayoutInfo=function(e,t,n){var i=oo;return e&&(i=t?io:no),{text:e?t||R.Z.t("unname_record"):t,width:this.collector.size.cardContentWidth,x:0,y:e?0:n,fontSize:e?ro:so,fontFamily:Xi.ut,fontStyle:e?ao:lo,lineHeight:e?1.428:1.33,align:"left",verticalAlign:"middle",fill:i,ellipsis:!1,wrap:"char"}},t.getUrlLayoutInfo=function(e,t,n){var i=e?ro:so,o=e?1.428:1.33;return{text:t,width:(null===n||void 0===n?void 0:n.hyperlinkType)?this.collector.size.cardContentWidth-Xi._u:this.collector.size.cardContentWidth,fontSize:i,fontFamily:Xi.ut,lineHeight:o,align:"left",verticalAlign:"middle"}},t.getEndCardIndex=function(e){for(var t,n,i,o=this.collector,r=o.position,s=o.size,a=o.ranger,l=null!==(n=null===(t=r.getGroupYAxis())||void 0===t?void 0:t[this.groupIndex])&&void 0!==n?n:[],d=a.getGroupOffsetY(this.groupIndex),c=this.collector.size.activityViewHeight,u=fd(l.entries());!(i=u()).done;){var h=i.value,g=h[0],f=h[1];if(!f)break;if(f[0]-d<=c&&f[1]+s.groupCardMargin-d>=c&&g<e.length-1)return g+1}return e.length-1},t.collectGroupWrapChildrenHeight=function(e,t){var n,i,o=hd.W9,r=this.getGroupTitleData(t,e),s=r.data,a=r.style;e||(a=0);var l=this.collectGroupHeadTitleSize(s,!e,!0);return(a?l+2*hd.l6+hd.Df+o:l+hd.Df+o)+this.collectGroupHeadNumSize({text:R.Z.t("group_head_count",{count:(null===(i=null===(n=null===t||void 0===t?void 0:t.groupRecordIds)||void 0===n?void 0:n.get(e))||void 0===i?void 0:i.length)||0}),height:this.collector.size.groupWrapWidth})+hd.W9},t.getGroupTitleData=function(e,t){var n,i,o=null===(n=null===e||void 0===e?void 0:e.groupValues)||void 0===n?void 0:n.get(t),r=0;switch(null===o||void 0===o?void 0:o.sourceType){case V.f.MULTIPLE_SELECT:case V.f.SINGLE_SELECT:r=(null===(i=null===o||void 0===o?void 0:o.data[0])||void 0===i?void 0:i.style)||0;break;default:i=null===o||void 0===o?void 0:o.data[0],r=0}return{data:i,style:r}},t.collectGroupHeadTitleSize=function(e,t,n){var i={text:this.getGroupHeadTitle(t,e),fontSize:hd.Te,fontFamily:Xi.ut,fontStyle:hd.YU,align:"left",verticalAlign:"middle"},o=this.collector.size,r=this.collector.isMobile()?o.groupWidth-hd.t8:hd.RU,s=o.activityViewHeight>0?o.activityViewHeight-o.globalPaddingBottom-o.globalPaddingTop-o.groupHeadHeight-hd.__-2*hd.W9-2*hd.l6-hd.Df-30:0,a=n?s:r,l=Dr.base.util.measureWidthWithConfig(Object.assign({x:0,y:0},i));return Math.ceil(l)>a?a:Math.ceil(l)},t.getGroupHeadTitle=function(e,t){return e?R.Z.t("ungroup"):(null===t||void 0===t?void 0:t.text)||R.Z.t("unname_group")},t.collectGroupHeadNumSize=function(e){var t,n={fontSize:hd.AG,fontFamily:Xi.ut,fontStyle:hd.YU,align:"left",verticalAlign:"middle",fill:hd.Qp};return Math.ceil(Dr.base.util.measureWidthWithConfig(Object.assign({x:0,y:0,text:null!==(t=e.text)&&void 0!==t?t:""},n)))},t.getIsRealShowCover=function(e,t,n){var i,o=this.collector.getField(t),r=!1;e&&(null===o||void 0===o?void 0:o.getType())===V.f.IMAGE&&(r=!0);var s=null===o||void 0===o?void 0:o.getStandardCell(n);return(null===(i=null===s||void 0===s?void 0:s.data)||void 0===i?void 0:i.length)||(r=!1),{isRealShowCover:r,coverFieldValue:s}},t.collectCardSize=function(e){var t=this,n=e.recordId,i=e.groupIndex,o=e.cardIndex,r=e.isShowFieldTitle,s=e.isShowCover,a=e.coverFieldId,l=e.visibleFieldIds,d=e.cardSumHeight,c=this.getIsRealShowCover(s,a,n).isRealShowCover,u=!1,h=0;this.collector.position.setCardContentY(i,o,c?hd.oy+hd.W9:hd.W9),null===l||void 0===l||l.forEach((function(e){var s,a,l=t.collector.getField(e),d=null===l||void 0===l?void 0:l.getStandardCell(n),c=t.collector.isPrimaryField(e);if((!c&&(null===(s=null===d||void 0===d?void 0:d.data)||void 0===s?void 0:s.length)||c)&&(u=!0),(null===(a=null===d||void 0===d?void 0:d.data)||void 0===a?void 0:a.length)||c){c||(u=!1);var g=pd.get(null===l||void 0===l?void 0:l.getType());if(g){var f={field:l,fieldId:e,isShowFieldTitle:r,isPrimaryField:c,groupIndex:i,cardIndex:o,content:d,contentHeight:h};h=t[g](f)}}}));var g=u?hd.X9:hd.dY;h=c?h+hd.oy:h;var f=2*hd.W9+h-(h>0?g:0);return this.collector.position.setGroupY(i,o,[d,d+f]),d+f+this.collector.size.groupCardMargin},t.collectTextSize=function(e){var t,n=e.content,i=e.fieldId,o=e.groupIndex,r=e.cardIndex,s=e.contentHeight,a=e.isShowFieldTitle,l=e.isPrimaryField,d=0;a&&!l&&(d=this.collector.size.fieldTitleHeight);var c=null===(t=null===n||void 0===n?void 0:n.data)||void 0===t?void 0:t.reduce((function(e,t,i){return i===n.data.length-1?e+t.text:""+e+t.text+"\n"}),""),u=l?20:16,h=hd.wN*u,g=this.getTextLayoutInfo(l||!1,null!==c&&void 0!==c?c:"",d),f=Dr.base.util.measureLiteTextWithConfig(Object.assign(Object.assign({},g),{ellipsis:!0,maxHeight:h})),m=Math.ceil(f.height);return this.collector.size.setCardFieldSize(o,r,i,{text:c,titleHeight:d,contentHeight:m,yPos:s}),Li.Z.setTextInfo(Object.assign(Object.assign({},g),{height:m}),f.textInfo),s+d+m+(l?hd.X9:hd.dY)},t.collectNormalTextSize=function(e){var t,n=e.content,i=e.fieldId,o=e.groupIndex,r=e.cardIndex,s=e.contentHeight,a=e.isShowFieldTitle,l=e.isPrimaryField,d=0;a&&!l&&(d=this.collector.size.fieldTitleHeight);var c=(null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:[])[0],u=(c=void 0===c?{text:""}:c).text,h=this.getNormalTextLayoutInfo(l||!1,u,d);return this.collector.size.setCardFieldSize(o,r,i,{text:u,titleHeight:d,contentHeight:h.height,yPos:s}),s+d+h.height+(l?hd.X9:hd.dY)},t.getNormalTextLayoutInfo=function(e,t,n){var i=oo;e&&(i=t?io:no);var o=e?ro:so;return{width:this.collector.size.cardContentWidth,height:e?20:16,text:e?t||R.Z.t("unname_record"):t,x:0,y:n,fontSize:o,fontFamily:Xi.ut,fontStyle:e?ao:hd.Do,align:"left",verticalAlign:"middle",fill:i,lineHeight:e?1.428:1.33}},t.collectUrlSize=function(e){var t,n,i,o,r=e.content,s=e.fieldId,a=e.groupIndex,l=e.cardIndex,d=e.contentHeight,c=e.isShowFieldTitle,u=e.isPrimaryField,h=0;c&&!u&&(h=this.collector.size.fieldTitleHeight),0===(null===(t=null===r||void 0===r?void 0:r.data)||void 0===t?void 0:t.length)&&(null===(n=null===r||void 0===r?void 0:r.data)||void 0===n||n.push({text:R.Z.t("unname_record")}));var g=u?ro:so,f=null===(i=null===r||void 0===r?void 0:r.data)||void 0===i?void 0:i[0],m=null!==(o=null===f||void 0===f?void 0:f.text)&&void 0!==o?o:"",p=u?20*hd.wN:g,v=this.getUrlLayoutInfo(null!==u&&void 0!==u&&u,m,f),I=Object.assign(Object.assign({x:0,y:0},v),{ellipsis:!0,maxHeight:p}),y=Dr.base.util.measureLiteTextWithConfig(I),_=Math.ceil(y.height);return Li.Z.setTextInfo(Object.assign(Object.assign({},I),{height:_}),y.textInfo),this.collector.size.setCardFieldSize(a,l,s,{text:m,titleHeight:h,contentHeight:_,yPos:d}),d+_+h+(u?hd.X9:hd.dY)},t.collectCheckboxSize=function(e){var t=e.fieldId,n=e.groupIndex,i=e.cardIndex,o=e.contentHeight,r=e.isShowFieldTitle;return this.collectCommonSize({fieldId:t,groupIndex:n,cardIndex:i,contentHeight:o,isShowFieldTitle:r,height:Ji})},t.collectImageSize=function(e){var t=e.fieldId,n=e.groupIndex,i=e.cardIndex,o=e.contentHeight,r=e.isShowFieldTitle;return this.collectCommonSize({fieldId:t,groupIndex:n,cardIndex:i,contentHeight:o,isShowFieldTitle:r,height:hd.yM})},t.collectSelectSize=function(e){var t=e.fieldId,n=e.groupIndex,i=e.cardIndex,o=e.contentHeight,r=e.isShowFieldTitle,s=e.content,a=0;r&&(a=this.collector.size.fieldTitleHeight);var l={x:-1,y:a-1,width:this.collector.size.cardWidth-2*hd.uW,height:0},d=null===s||void 0===s?void 0:s.data,c=new or.Z(Dr.base).getShowLines(l,d,{selectConfig:{height:Xi.PG}}),u=c>hd.SJ?hd.SJ:c,h=u*hd.hn+(u-1)*zi.XK.margin+2*Xi.wI;return this.collector.size.setCardFieldSize(n,i,t,{text:"",titleHeight:a,contentHeight:h,yPos:o}),o+h+hd.dY+a},t.collectAttachmentSize=function(e){var t=e.fieldId,n=e.groupIndex,i=e.cardIndex,o=e.contentHeight,r=e.isShowFieldTitle,s=e.content,a=0;r&&(a=this.collector.size.fieldTitleHeight);var l={x:-1,y:a-1,width:this.collector.size.cardWidth-2*hd.uW,height:0},d=null===s||void 0===s?void 0:s.data,c=new ud.Z(Dr.base).getShowLines(l,d,{}),u=c>hd.SJ?hd.SJ:c,h=u*hd.V_+(u-1)*zi.XK.margin;return this.collector.size.setCardFieldSize(n,i,t,{text:"",titleHeight:a,contentHeight:h,yPos:o}),o+h+hd.dY+a},t.collectUserSize=function(e){var t=e.fieldId,n=e.groupIndex,i=e.cardIndex,o=e.contentHeight,r=e.isShowFieldTitle;return this.collectCommonSize({fieldId:t,groupIndex:n,cardIndex:i,contentHeight:o,isShowFieldTitle:r,height:qi})},t.collectProgressSize=function(e){var t=e.fieldId,n=e.groupIndex,i=e.cardIndex,o=e.contentHeight,r=e.isShowFieldTitle;return this.collectCommonSize({fieldId:t,groupIndex:n,cardIndex:i,contentHeight:o,isShowFieldTitle:r,height:16})},t.collectCommonSize=function(e){var t=e.fieldId,n=e.groupIndex,i=e.cardIndex,o=e.contentHeight,r=e.isShowFieldTitle,s=e.height,a=0;return r&&(a=this.collector.size.fieldTitleHeight),this.collector.size.setCardFieldSize(n,i,t,{text:"",titleHeight:a,contentHeight:s,yPos:o}),o+s+a+hd.dY},e}(),Id=function(){function e(e){this.collector=e,this.groupYAxis=[],this.xAxis=[],this.cardContentY=[]}var t=e.prototype;return t.destroy=function(){this.reset()},t.reset=function(){this.xAxis=[],this.groupYAxis=[],this.cardContentY=[]},t.setX=function(e,t){e>=0&&(this.xAxis[e]=t)},t.getX=function(e){var t;return null!==(t=this.xAxis[e])&&void 0!==t?t:[]},t.setGroupY=function(e,t,n){e>=0&&t>=0&&(this.groupYAxis[e]||(this.groupYAxis[e]=[]),this.groupYAxis[e][t]=n)},t.getGroupY=function(e,t){var n;if(e>=0&&t>=0)return null===(n=this.groupYAxis[e])||void 0===n?void 0:n[t]},t.getXAxis=function(){var e;return null!==(e=this.xAxis)&&void 0!==e?e:[]},t.getGroupYAxis=function(){return this.groupYAxis},t.setCardContentY=function(e,t,n){e>=0&&t>=0&&(this.cardContentY[e]||(this.cardContentY[e]=[]),this.cardContentY[e][t]=n)},t.getCardContentY=function(e,t){var n,i;return null!==(i=null===(n=this.cardContentY[e])||void 0===n?void 0:n[t])&&void 0!==i?i:0},t.updateXAxisFromSomeIndex=function(e,t){for(var n=e;n<this.xAxis.length;n++){var i=this.xAxis[n];i[0]+=t,i[1]+=t}},t.getGroupOffsetXRange=function(e){if(e<0)return[0,0];var t=this.xAxis[e],n=t[0],i=t[1],o=this.collector.ranger.getOffsetX();return[n-o,i-o]},e}(),yd=n("../node_modules/@tencent/xtable-render/es/views/kanban/constants/keys.js");function _d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return bd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bd(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Md=function(){function e(e){this.collector=e,this.offsetX=0,this.groupOffsetY=[],this.enableDeltaMode=!0,this.groupYRanges=[],this.groupCardRanges=[],this.startGroupIndex=0,this.endGroupIndex=0,this.centerGroupIndex=0,this.reset()}var t=e.prototype;return t.destroy=function(){this.groupOffsetY=[],this.groupYRanges=[],this.groupCardRanges=[]},t.init=function(){this.reset()},t.resetOffset=function(){this.offsetX=0,this.groupOffsetY=[]},t.resetRange=function(){this.initGroupRange(),this.initGroupCardRange(),this.handleRangerLocalStatus()},t.reset=function(){this.resetOffset(),this.resetRange()},t.getGroupOffsetY=function(e){var t,n;return(null===(n=null===(t=this.groupOffsetY)||void 0===t?void 0:t[e])||void 0===n?void 0:n.offset)||0},t.getCardIndex=function(e,t){var n,i,o=this.collector,r=o.position,s=o.size,a=this.getActiveGroupIndex(e);if(-1===a)return-1;var l=this.getGroupYRange(a);if(!l||t<l[0]||t>l[1])return-1;for(var d=null===r||void 0===r?void 0:r.getGroupYAxis()[a],c=null===(i=null===(n=this.groupOffsetY)||void 0===n?void 0:n[a])||void 0===i?void 0:i.offset,u=0;u<(null===d||void 0===d?void 0:d.length);u++){var h=d[u],g=h[0],f=void 0===g?0:g,m=h[1],p=void 0===m?0:m;if(t>f+s.groupHeadHeight+s.globalPaddingTop-c&&t<p+s.groupHeadHeight+s.globalPaddingTop-c)return u}return-1},t.getOffsetX=function(){return this.offsetX},t.getOffsetY=function(){return this.groupOffsetY},t.setOffsetX=function(e){this.offsetX=e},t.getCenterGroupIndex=function(){return this.centerGroupIndex},t.isHitAddGroup=function(e,t){var n=this.collector,i=n.size,o=n.position,r=null===o||void 0===o?void 0:o.getXAxis();if(0===r.length)return!1;var s=r[r.length-1];return!!(null===s||void 0===s?void 0:s.length)&&t>i.globalPaddingTop&&t<i.groupHeadHeight+i.globalPaddingTop&&e>s[1]-this.offsetX+i.groupMargin&&e<s[1]-this.offsetX+i.groupMargin+i.groupWidth},t.getActiveGroupIndex=function(e){for(var t,n=-1,i=this.collector,o=i.size,r=_d(i.position.getXAxis().entries());!(t=r()).done;){var s=t.value,a=s[0],l=s[1];if(l&&e>=l[0]+o.groupPadding-this.offsetX&&e<=l[1]-o.groupPadding-this.offsetX){n=a;break}}return n},t.getActiveGroupWheelIndex=function(e,t){for(var n,i=-1,o=_d(this.collector.position.getXAxis().entries());!(n=o()).done;){var r=n.value,s=r[0],a=r[1],l=this.groupYRanges[s];if(a&&l&&e>=a[0]-this.offsetX&&e<=a[1]-this.offsetX&&t>=l[0]&&t<=l[1]){i=s;break}}return i},t.getGroupRange=function(){return{startGroupIndex:this.startGroupIndex,endGroupIndex:this.endGroupIndex}},t.hasRangeChange=function(e){var t=this.getGroupRange();return(null===t||void 0===t?void 0:t.startGroupIndex)!==(null===e||void 0===e?void 0:e.startGroupIndex)||(null===t||void 0===t?void 0:t.endGroupIndex)!==(null===e||void 0===e?void 0:e.endGroupIndex)},t.getRangeChange=function(e){var t=this.getGroupRange(),n=this.compareTwoRange(e,t,"startGroupIndex","endGroupIndex");return{decreasedGroupIndexs:n.decreaseds,increasedGroupIndexs:n.increaseds}},t.getGroupCardRange=function(e){var t,n,i,o,r,s;return{startCardIndex:null!==(i=null===(n=null===(t=this.groupCardRanges)||void 0===t?void 0:t[e])||void 0===n?void 0:n[0])&&void 0!==i?i:0,endCardIndex:null!==(s=null===(r=null===(o=this.groupCardRanges)||void 0===o?void 0:o[e])||void 0===r?void 0:r[1])&&void 0!==s?s:0}},t.hasGroupRangeChange=function(e,t){var n=this.getGroupCardRange(e);return(null===n||void 0===n?void 0:n.startCardIndex)!==(null===t||void 0===t?void 0:t.startCardIndex)||(null===n||void 0===n?void 0:n.endCardIndex)!==(null===t||void 0===t?void 0:t.endCardIndex)},t.getGroupRangeChange=function(e,t){var n=this.getGroupCardRange(e),i=this.compareTwoRange(t,n,"startCardIndex","endCardIndex");return{decreasedCardIndexs:i.decreaseds,increasedCardIndexs:i.increaseds}},t.calcScrollCenterGroupIndex=function(e){for(var t,n,i=this.collector.getContextRoot().offsetWidth/2,o=null===(t=this.collector.position)||void 0===t?void 0:t.getXAxis(),r=_d(null===o||void 0===o?void 0:o.entries());!(n=r()).done;){var s=n.value,a=s[0],l=s[1],d=(l[0]+l[1])/2-this.offsetX;if(d===i){this.centerGroupIndex=a;break}if(d>i){e>0&&(this.centerGroupIndex=a),e<0&&(this.centerGroupIndex=a-1);break}}},t.calcGroupCenterOffsetX=function(e){var t,n,i=this.collector.getContextRoot().offsetWidth/2,o=null!==(n=null===(t=this.collector.position)||void 0===t?void 0:t.getX(e))&&void 0!==n?n:[];return(o[0]+o[1])/2-i},t.update=function(){var e,t,n,i=this;if(this.enableDeltaMode){var o=this.collector.size;(null===(e=this.groupOffsetY)||void 0===e?void 0:e.length)||(null===(t=o.groupSizes)||void 0===t||t.forEach((function(e){i.groupOffsetY[e.index]={offset:0,groupId:e.groupId}})),this.handleRangerLocalStatus(!1,!0)),this.correctOffsetX(),this.updateGroupOffsetY(),this.clearGroupYRange(),o.groupSizes.forEach((function(e){i.setGroupYRange([o.groupHeadHeight+ +o.globalPaddingTop,o.groupHeadHeight+o.globalPaddingTop+e.viewHeight],e.index),e.scrollHeight>0&&i.groupOffsetY[e.index].offset>e.scrollHeight-e.viewHeight&&(i.groupOffsetY[e.index].offset=Math.max(0,e.scrollHeight-e.viewHeight))})),this.clearGroupCardRanges(),this.calcNewRange();for(var r=0;r<(null===(n=this.groupOffsetY)||void 0===n?void 0:n.length);r++)this.calcNewGroupRange(r)}},t.calcWithDeltaX=function(e){this.offsetX+=e,this.calcNewRange()},t.calcWithDeltaY=function(e,t){this.groupOffsetY[t].offset+=e,this.calcNewGroupRange(t)},t.getGroupYRange=function(e){return this.groupYRanges[e]},t.getAllGroupRanges=function(){return this.groupYRanges},t.setGroupYRange=function(e,t){this.groupYRanges[t]=e},t.handleRangerLocalStatus=function(e,t){var n;void 0===e&&(e=!0),void 0===t&&(t=!1);var i=null===(n=this.collector)||void 0===n?void 0:n.getViewStorage(yd.V);(null===i||void 0===i?void 0:i.offsetX)&&(this.setOffsetX(i.offsetX),this.correctOffsetX(),e&&this.calcNewRange()),this.handleRangerGroupOffsetY(e,null===i||void 0===i?void 0:i.groupOffsetY,t)},t.handleRangerGroupOffsetY=function(e,t,n){var i=this;if(void 0===e&&(e=!0),void 0===n&&(n=!1),n&&t)for(var o=this.collector.size,r=function(n){var r=null===t||void 0===t?void 0:t.find((function(e){var t;return e.groupId===(null===(t=i.groupOffsetY[n])||void 0===t?void 0:t.groupId)}));if(r){var s=o.groupSizes[n];s&&s.scrollHeight>0&&r.offset>s.scrollHeight-s.viewHeight&&(r.offset=Math.max(0,s.scrollHeight-s.viewHeight)),i.groupOffsetY[n]=r}e&&i.calcNewGroupRange(n)},s=0;s<this.groupOffsetY.length;s++)r(s)},t.correctOffsetX=function(){var e=this.collector.size;e.activityScrollWidth>0&&this.offsetX>e.activityScrollWidth-e.activityViewWidth&&(this.offsetX=Math.max(0,e.activityScrollWidth-e.activityViewWidth))},t.updateGroupOffsetY=function(){var e,t=this,n=this.collector.size,i=[];null===(e=n.groupSizes)||void 0===e||e.forEach((function(e){var n,o=null===(n=t.groupOffsetY)||void 0===n?void 0:n.find((function(t){return t.groupId===e.groupId}));o=o||{offset:0,groupId:e.groupId},i.push(Object.assign({},o))})),this.groupOffsetY=i},t.initGroupRange=function(){var e=this.collector,t=e.position,n=e.size;this.startGroupIndex=0;for(var i,o=!1,r=t.getXAxis(),s=_d(r.entries());!(i=s()).done;){var a=i.value,l=a[0],d=a[1];if(d&&d[0]<=n.activityViewWidth&&d[1]+n.groupMargin>=n.activityViewWidth){this.endGroupIndex=l,o=!0;break}}o||(this.endGroupIndex=r.length-1)},t.initGroupCardRange=function(){var e,t=this,n=this.collector,i=n.position,o=n.size;this.clearGroupYRange(),null===(e=o.groupSizes)||void 0===e||e.forEach((function(e){t.groupOffsetY[e.index]={offset:0,groupId:e.groupId},t.setGroupYRange([o.groupHeadHeight+o.globalPaddingTop,o.groupHeadHeight+o.globalPaddingTop+e.viewHeight],e.index)})),this.clearGroupCardRanges(),i.getGroupYAxis().forEach((function(e,n){var i;t.groupCardRanges[n]=[],t.groupCardRanges[n][0]=0;for(var r,s=_d(null===e||void 0===e?void 0:e.entries());!(r=s()).done;){var a=r.value,l=a[0],d=a[1],c=(null===(i=o.groupSizes)||void 0===i?void 0:i[n]).viewHeight;if(d[0]<=c&&d[1]+o.groupCardMargin>=c){t.groupCardRanges[n][1]=l;break}}}))},t.clearGroupYRange=function(){this.groupYRanges=[]},t.clearGroupCardRanges=function(){this.groupCardRanges=[]},t.calcNewRange=function(){if(this.enableDeltaMode){for(var e,t=this.collector,n=t.position,i=t.size,o=n.getXAxis(),r=!1,s=_d(o.entries());!(e=s()).done;){var a=e.value,l=a[0],d=a[1];if(d){var c=0===l?i.globalPaddingLeft:i.groupMargin;if(d[0]-c-this.offsetX<=0&&d[1]-this.offsetX>=0&&(this.startGroupIndex=l),d[0]-this.offsetX<=i.activityViewWidth&&d[1]+i.groupMargin-this.offsetX>=i.activityViewWidth){r=!0,this.endGroupIndex=l;break}}}r||(this.endGroupIndex=o.length-1)}},t.compareTwoRange=function(e,t,n,i){var o=[],r=[],s=Number(t[n]),a=Number(t[i]),l=Number(e[n]),d=Number(e[i]);return s!==l&&a!==d&&s>l&&a>d||s===l&&a!==d&&a>d||s!==l&&a===d&&s>l?(o=bo(l,Math.min(s,d+1)),r=Mo(Math.max(s-1,d),a)):(o=Mo(Math.max(l-1,a),d),r=bo(s,Math.min(l,a+1))),{decreaseds:o,increaseds:r}},t.calcNewGroupRange=function(e){var t,n,i,o,r,s,a,l;if(this.enableDeltaMode){var d=this.collector,c=d.position,u=d.size,h=null!==(n=null===(t=c.getGroupYAxis())||void 0===t?void 0:t[e])&&void 0!==n?n:[],g=null!==(o=null===(i=u.groupSizes)||void 0===i?void 0:i[e])&&void 0!==o?o:{},f=null===(s=null===(r=this.groupOffsetY)||void 0===r?void 0:r[e])||void 0===s?void 0:s.offset,m=g.viewHeight;this.groupCardRanges[e]=[-1];for(var p,v=_d(h.entries());!(p=v()).done;){var I=p.value,y=I[0],_=I[1];if(_[0]-u.groupCardMargin-f<=0&&_[1]-f>=0&&(this.groupCardRanges[e][0]=y),_[0]-f<=m&&_[1]+u.groupCardMargin-f>=m){this.groupCardRanges[e][1]=y;break}}void 0===(null===(l=null===(a=this.groupCardRanges)||void 0===a?void 0:a[e])||void 0===l?void 0:l[1])&&(this.groupCardRanges[e][1]=h.length-1)}},e}(),Cd=n("../node_modules/lodash/maxBy.js"),wd=n.n(Cd),Td=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=t,n.groupSizes=[],n.cardFieldSizes=[],n.globalPaddingLeft=hd.V5,n.globalPaddingRight=hd.A9,n.globalPaddingTop=hd.As,n.globalPaddingBottom=hd.vY,n.groupWidth=hd.tj,n.groupWrapWidth=hd.pw,n.addGroupWidth=hd.Ks,n.groupHeadHeight=hd.NP,n.groupFootHeight=hd.lP,n.groupMargin=hd.$R,n.groupPadding=hd.mH,n.cardWidth=hd.tj-2*hd.mH,n.cardContentWidth=n.cardWidth-2*hd.uW,n.groupCardMargin=hd.BZ,n.fieldTitleHeight=hd.xb+14,n.contentWholeWidth=0,n.cardMaxShowHeight=0,n}(0,u.Z)(t,e);var n=t.prototype;return n.destroy=function(){},n.reset=function(){this.groupSizes=[]},n.updateGroupWidth=function(e){e>0&&(this.groupWidth=e,this.cardWidth=e-2*hd.mH)},n.updateWholeContentWidth=function(e){e>0&&(this.contentWholeWidth=e)},n.updateCardMaxShowHeight=function(e){e>0&&(this.cardMaxShowHeight=e)},n.addGroupSize=function(e,t,n,i,o,r){var s={viewHeight:e,scrollHeight:this.collector.isMobile()?t+this.mobileFooterBarHeight:t,cardSumHeight:t,wrapHeight:n,groupId:i,collapsePath:o,index:r};this.groupSizes[r]=s},n.getGroupSize=function(e){return this.groupSizes[e]},n.updateGroupSizeViewHeight=function(e,t){this.groupSizes[e].viewHeight=t},n.updateGroupSizeScrollHeight=function(e,t){this.groupSizes[e].scrollHeight=t},n.getCardFieldSize=function(e,t,n){var i,o,r;return null===(r=null===(o=null===(i=this.cardFieldSizes)||void 0===i?void 0:i[e])||void 0===o?void 0:o[t])||void 0===r?void 0:r.get(n)},n.getCardFieldSizeMap=function(e,t){var n,i;return null===(i=null===(n=this.cardFieldSizes)||void 0===n?void 0:n[e])||void 0===i?void 0:i[t]},n.setCardFieldSize=function(e,t,n,i){this.cardFieldSizes[e]||(this.cardFieldSizes[e]=[]),this.cardFieldSizes[e][t]||(this.cardFieldSizes[e][t]=new Map),this.cardFieldSizes[e][t].set(n,i)},n.getPreviewTplRect=function(){var e,t=this,n=this.collector.position,i=this.globalPaddingLeft,o=this.getTableDescRect(),r=null!==(e=null===o||void 0===o?void 0:o.y)&&void 0!==e?e:0,s=this.getPreviewTplHeight(o),a=n.getXAxis().findIndex((function(e){return e[1]>t.activityViewWidth}));return a<0?a=n.getXAxis().length-1:a-=1,{x:i,y:r,width:n.getXAxis()[a][1],height:s}},n.getPreviewTplHeight=function(e){var t,n,i,o=this,r=null!==(t=null===e||void 0===e?void 0:e.height)&&void 0!==t?t:0,s=this.collector.ranger.getAllGroupRanges();return r+=s.findIndex((function(e){return e[1]>o.activityViewHeight}))<0?(null!==(i=null===(n=wd()(s,(function(e){return e[1]})))||void 0===n?void 0:n[1])&&void 0!==i?i:0)+this.groupFootHeight+this.globalPaddingTop:this.activityViewHeight},(0,mi.Z)(t,[{key:"mobileFooterBarHeight",get:function(){return 144-(this.globalHeight-this.cardMaxShowHeight-this.groupHeadHeight)+8}},{key:"activityViewWidth",get:function(){var e,t,n;return null!==(n=null===(t=null===(e=this.collector)||void 0===e?void 0:e.getContextRoot())||void 0===t?void 0:t.offsetWidth)&&void 0!==n?n:0}},{key:"activityViewHeight",get:function(){var e,t,n;return null!==(n=null===(t=null===(e=this.collector)||void 0===e?void 0:e.getContextRoot())||void 0===t?void 0:t.offsetHeight)&&void 0!==n?n:0}},{key:"activityScrollWidth",get:function(){var e;return null!==(e=this.contentWholeWidth)&&void 0!==e?e:0}},{key:"globalWidth",get:function(){return this.activityScrollWidth+this.activityViewWidth}},{key:"globalHeight",get:function(){return this.activityViewHeight}},{key:"heightExceptCard",get:function(){return this.groupHeadHeight+this.groupFootHeight+this.globalPaddingBottom+this.globalPaddingTop+this.groupCardMargin}}]),t}(wo),Ed=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=t,n.currentGroupFolds={},n.contextMenuActivePoint={recordId:"",groupPath:[]},n.searchHighLightInfos={selectedRecordId:"",highlightInfos:new Map,isShowSearch:!1},n.groupFoldStatus=[],n.activeRecordId="",n.bootstrap(),n}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.syncLocalStorage()},n.destroy=function(){this.clearSearchHighlight(),this.groupFoldStatus=[]},n.syncLocalStorage=function(){var e,t=null===(e=this.collector)||void 0===e?void 0:e.getViewStorage(yd.k);t&&this.setLocalGroupFolds(t)},n.clearSearchHighlight=function(){var e,t;null===(t=null===(e=this.searchHighLightInfos)||void 0===e?void 0:e.highlightInfos)||void 0===t||t.clear(),this.searchHighLightInfos.selectedRecordId=""},n.setGroupFoldStatus=function(e,t){this.groupFoldStatus[e]=t},n.getGroupFoldStatus=function(e){return this.groupFoldStatus[e]},n.setLocalGroupFolds=function(e){"object"===typeof e&&(this.currentGroupFolds=e)},n.getGroupFolds=function(e,t){var n,i,o=(null===(n=this.collector)||void 0===n?void 0:n.getTableId())+"-"+(null===(i=this.collector)||void 0===i?void 0:i.getViewId());if(t)this.currentGroupFolds[o]||(this.currentGroupFolds[o]=[]),this.currentGroupFolds[o].push(e);else{var r=this.currentGroupFolds[o].indexOf(e);r>-1&&this.currentGroupFolds[o].splice(r,1)}return this.currentGroupFolds},n.isFoldedInStorage=function(e){var t,n,i,o=(null===(t=this.collector)||void 0===t?void 0:t.getTableId())+"-"+(null===(n=this.collector)||void 0===n?void 0:n.getViewId());return null===(i=this.currentGroupFolds[o])||void 0===i?void 0:i.includes(e)},n.setContextMenuActivePoint=function(e){this.contextMenuActivePoint=e},n.updateFoldedStatusInStorage=function(e,t){var n=this.collector,i=n.getGroupCollapsePath(e);if(i.length){var o=this.getGroupFolds(i,t);n.setViewStorage(yd.k,o)}},n.getContextMenuActivePoint=function(){return this.contextMenuActivePoint},n.getHighlightInfos=function(){var e;return null===(e=this.searchHighLightInfos)||void 0===e?void 0:e.highlightInfos},n.setHighlightInfos=function(e){var t,n,i,o,r=null===(n=null===(t=this.searchHighLightInfos)||void 0===t?void 0:t.highlightInfos)||void 0===n?void 0:n.get(""+e.groupIndex);r||(r=new Map,null===(o=null===(i=this.searchHighLightInfos)||void 0===i?void 0:i.highlightInfos)||void 0===o||o.set(""+e.groupIndex,r)),r.set(""+e.cardIndex,e)},n.getSearchSelectedRecordId=function(){var e;return null===(e=this.searchHighLightInfos)||void 0===e?void 0:e.selectedRecordId},n.setSearchSelectedRecordId=function(e){this.searchHighLightInfos.selectedRecordId=e},n.setSearchState=function(e){this.searchHighLightInfos.isShowSearch=e},n.getSearchState=function(){return this.searchHighLightInfos.isShowSearch},n.setActiveRecordId=function(e){this.activeRecordId=e},n.clearActiveRecordId=function(){this.activeRecordId=""},n.getActiveRecordId=function(){return this.activeRecordId},n.isPreventGroupCollapse=function(){return 0!==this.getHighlightInfos().size},t}(jo);function jd(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return Ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ad(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xd=function(e){function t(t){return e.call(this,t)||this}(0,u.Z)(t,e);var n=t.prototype;return n.destroy=function(){var e,t,n,i,o;null===(e=this.size)||void 0===e||e.destroy(),null===(t=this.layout)||void 0===t||t.destroy(),null===(n=this.position)||void 0===n||n.destroy(),null===(i=this.ranger)||void 0===i||i.destroy(),null===(o=this.state)||void 0===o||o.destroy()},n.reset=function(){var e,t,n;return null===(e=this.size)||void 0===e||e.reset(),null===(t=this.position)||void 0===t||t.reset(),this.layout.reset(),null===(n=this.ranger)||void 0===n||n.reset(),this.collectVisibleRect(),this.context.getRenderer().rerender(),this.collect()},n.update=function(){var e,t;return null===(e=this.size)||void 0===e||e.reset(),null===(t=this.position)||void 0===t||t.reset(),this.layout.update(),this.collectVisibleRect(),this.context.getRenderer().rerender(),this.collect(!0)},n.getGroupFoldStatus=function(e){return this.state.getGroupFoldStatus(e)||!1},n.getGroupFoldHeight=function(e){var t=this.size.getGroupSize(e);return(null===t||void 0===t?void 0:t.wrapHeight)||0},n.isUnGrouped=function(e){var t,n=this.getGroups();return null===(null===(t=null===n||void 0===n?void 0:n.groupIds)||void 0===t?void 0:t[e])},n.getCardRecordId=function(e,t){var n,i,o,r=null!==(n=this.getGroups())&&void 0!==n?n:{},s=r.groupIds,a=void 0===s?[]:s,l=r.groupRecordIds,d=null===a||void 0===a?void 0:a[e];return null!==(o=null===(i=null===l||void 0===l?void 0:l.get(d))||void 0===i?void 0:i[t])&&void 0!==o?o:""},n.getFieldId=function(e,t){var n,i,o=null===(n=this.ranger)||void 0===n?void 0:n.getActiveGroupIndex(e),r=null===(i=this.ranger)||void 0===i?void 0:i.getCardIndex(e,t),s=this.size.getCardFieldSizeMap(o,r);if(!s)return"";for(var a,l=this.position.getCardContentY(o,r),d=this.getCardAbsoluteLayout(o,r).y+l,c=jd(s.entries());!(a=c()).done;){var u=a.value,h=u[0],g=u[1],f=g.yPos+d,m=g.titleHeight+g.contentHeight;if(f<=t&&t<=f+m)return h}return""},n.getCardAbsoluteLayout=function(e,t){var n,i,o={x:0,y:0},r=(null!==(n=this.position.getX(e))&&void 0!==n?n:[])[0],s=void 0===r?0:r;o.x+=s,o.y+=this.size.groupHeadHeight;var a=null!==(i=this.position.getGroupY(e,t))&&void 0!==i?i:[],l=a[0],d=void 0===l?0:l,c=a[1],u=void 0===c?0:c;return o.y+=d,{x:o.x-this.ranger.getOffsetX(),y:o.y-this.ranger.getGroupOffsetY(e)+this.size.globalPaddingTop,width:this.size.cardWidth,height:u-d}},n.getVisibleFieldIfCurHidden=function(e){var t=this.getView();if(!t)return"";for(var n=e;n&&t.isFieldHidden(n);){var i=t.getFieldIndex(n)+1;n=null===t||void 0===t?void 0:t.getAllFieldIds()[i]}return n},n.getGroupIndex=function(e){var t,n=this.getGroups();if(!(null===n||void 0===n?void 0:n.groupRecordIds))return-1;for(var i,o=jd(n.groupRecordIds.entries());!(i=o()).done;){var r=i.value,s=r[0];if(r[1].includes(e))return null!==(t=null===n||void 0===n?void 0:n.groupIds.indexOf(s))&&void 0!==t?t:-1}return-1},n.getCardIndex=function(e){var t=this.getGroups();if(!(null===t||void 0===t?void 0:t.groupRecordIds))return-1;for(var n,i=jd(t.groupRecordIds.entries());!(n=i()).done;){var o=n.value[1];if(o.includes(e))return o.indexOf(e)}return-1},n.getIsLastCard=function(e){var t=this.getGroups();if(!(null===t||void 0===t?void 0:t.groupRecordIds))return!1;for(var n,i=jd(t.groupRecordIds.values());!(n=i()).done;){var o=n.value;if(o.includes(e))return o.indexOf(e)===o.length-1}return!1},n.getGroupPath=function(e){var t,n;return[(null!==(n=null===(t=this.getGroups())||void 0===t?void 0:t.groupIds)&&void 0!==n?n:[])[e]]},n.getGroupCollapsePath=function(e){var t,n,i;return null===(i=null===(n=null===(t=this.size)||void 0===t?void 0:t.groupSizes)||void 0===n?void 0:n[e])||void 0===i?void 0:i.collapsePath},n.getGroups=function(){var e,t;return null===(t=null===(e=this.getView())||void 0===e?void 0:e.getGroups)||void 0===t?void 0:t.call(e)},n.getCanGroupEdit=function(){var e,t,n,i=null===(t=null===(e=this.getView())||void 0===e?void 0:e.getGroupField)||void 0===t?void 0:t.call(e),o=null===(n=this.getTable())||void 0===n?void 0:n.getFieldRestriction((null===i||void 0===i?void 0:i.getId())||"");return(null===o||void 0===o?void 0:o.canEdit)||!1},n.getCardConfig=function(){var e,t;return null===(t=null===(e=this.getView())||void 0===e?void 0:e.getCardConfig)||void 0===t?void 0:t.call(e)},n.getVisibleFieldIds=function(){var e,t;return null===(t=null===(e=this.getView())||void 0===e?void 0:e.getVisibleFieldIds)||void 0===t?void 0:t.call(e)},n.isPrimaryField=function(e){var t,n;return null===(n=null===(t=this.getView())||void 0===t?void 0:t.isPrimaryField)||void 0===n?void 0:n.call(t,e)},n.getAllRecordIds=function(){var e;return(null===(e=this.getView())||void 0===e?void 0:e.getAllRecordIds())||[]},n.afterCollectCurrentSlice=function(){var e,t;null===(t=null===(e=this.view.getRenderer())||void 0===e?void 0:e.feature)||void 0===t||t.updated()},n.isField=function(e,t,n,i){return e<=t&&e+n>=t&&e>i},n.getView=function(){var e;return null===(e=this.context)||void 0===e?void 0:e.getCurrentView()},n.getCoverHeight=function(){return hd.oy},n.bootstrap=function(){return(0,i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.size=new Td(this),this.layout=new vd(this),this.position=new Id(this),this.state=new Ed(this),this.ranger=new Md(this),this.collectAndPaintVisibleRect(),this.collect();case 7:case"end":return e.stop()}}),e,this)})))},n.collect=function(e){var t,n,o,r;return void 0===e&&(e=!1),(0,i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,null===(t=this.layout)||void 0===t?void 0:t.collectLayoutData();case 2:e?null===(n=this.ranger)||void 0===n||n.update():null===(o=this.ranger)||void 0===o||o.reset(),null===(r=this.view.getRenderer().feature)||void 0===r||r.updated();case 4:case"end":return i.stop()}}),i,this)})))},n.collectAndPaintVisibleRect=function(e){var t,n,o;return void 0===e&&(e=!1),(0,i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.collectVisibleRect(),e?null===(t=this.ranger)||void 0===t||t.update():null===(n=this.ranger)||void 0===n||n.reset(),null===(o=this.layout)||void 0===o||o.reset(),this.context.getRenderer().rerender();case 4:case"end":return i.stop()}}),i,this)})))},n.collectVisibleRect=function(){return this.layout.collectVisibleRect()},(0,mi.Z)(t,[{key:"cardWidth",get:function(){return this.size.cardWidth}},{key:"view",get:function(){var e;return null===(e=this.context.getRenderer())||void 0===e?void 0:e.getView()}}]),t}(So),Dd=function(){function e(e,t,n){var i,o,r=this;this.view=e,this.collector=t,this.renderer=n,this.layer=new Oi.mh,this.onScroll=function(e){var t=r.collector.ranger,n=e.deltaX,i=e.deltaY,o=e.offsetX,s=void 0===o?0:o,a=e.offsetY,l=void 0===a?0:a;if(r.layer.listening(!1),r.resetListenAfterScroll(),0!==i&&Math.abs(i)>Math.abs(n)){var d=r.view.getRootRect(),c=null===t||void 0===t?void 0:t.getActiveGroupWheelIndex(s-d.x,l-d.y);r.updateWithDeltaY(i,c)}else 0!==n&&r.updateWithDeltaX(n)},null===(o=null===(i=this.view)||void 0===i?void 0:i.getStage())||void 0===o||o.add(this.layer),this.view.getRoot().style.backgroundColor=Xi.mw,this.scrollListener=this.view.emitter.action.stageScroll.event(this.onScroll)}var t=e.prototype;return t.destroy=function(){var e,t;this.resetAreas(),null===(e=this.layer)||void 0===e||e.destroy(),null===(t=this.scrollListener)||void 0===t||t.dispose()},t.drawInit=function(){o.k.time("drawInit"),this.resetAreas(),this.paintAreas(),o.k.timeEnd("drawInit")},t.drawForce=function(){this.resetAreas(),this.paintAreas()},t.scrollToX=function(e){var t,n=this.collector.ranger,i=e-(null!==(t=null===n||void 0===n?void 0:n.getOffsetX())&&void 0!==t?t:0);i&&this.updateWithDeltaX(i)},t.scrollToY=function(e,t){var n,i=this.collector.ranger,o=e-(null!==(n=null===i||void 0===i?void 0:i.getGroupOffsetY(t))&&void 0!==n?n:0);o&&this.updateWithDeltaY(o,t)},t.resetAreas=function(){var e;null===(e=this.layer)||void 0===e||e.destroyChildren()},t.paintAreas=function(){var e,t=null===(e=this.widgetTree)||void 0===e?void 0:e.getRootWidget(),n=null===t||void 0===t?void 0:t.getLayoutInfo();!n||n.width<=0||n.height<=0||null===t||void 0===t||t.paint(this.layer)},t.offsetGroupAreas=function(e,t){var n,i;null===(i=null===(n=this.widgetTree)||void 0===n?void 0:n.getGroupCardWrap(t))||void 0===i||i.offsetCard(e)},t.offsetAreas=function(e){var t,n;null===(n=null===(t=this.widgetTree)||void 0===t?void 0:t.getRootWidget())||void 0===n||n.offsetChildrenX(e)},t.resetListenAfterScroll=function(){this.layer.listening(!0)},t.updateWithDeltaX=function(e){var t,n=this.collector,i=n.ranger,o=n.size,r=null!==(t=null===i||void 0===i?void 0:i.getOffsetX())&&void 0!==t?t:0,s=(0,Ro.Z)(e,r,o.activityScrollWidth,o.activityViewWidth);if(0!==s){var a=null===i||void 0===i?void 0:i.getGroupRange();null===i||void 0===i||i.calcWithDeltaX(s),this.offsetAreas(s),this.view.emitter.global.scroll.fire({x:s,y:0,index:-1}),(null===i||void 0===i?void 0:i.hasRangeChange(a))&&this.drawDelta(a)}},t.updateWithDeltaY=function(e,t){var n,i,o=this.collector,r=o.ranger,s=o.size,a=s.groupSizes;if(a[t]&&!(t<0||a[t].scrollHeight<=s.cardMaxShowHeight||this.collector.getGroupFoldStatus(t))){var l=(0,Ro.Z)(e,null===r||void 0===r?void 0:r.getGroupOffsetY(t),null===(n=null===a||void 0===a?void 0:a[t])||void 0===n?void 0:n.scrollHeight,null===(i=null===a||void 0===a?void 0:a[t])||void 0===i?void 0:i.viewHeight);if(0!==l){var d=null===r||void 0===r?void 0:r.getGroupCardRange(t);null===r||void 0===r||r.calcWithDeltaY(l,t),this.offsetGroupAreas(l,t),this.view.emitter.global.scroll.fire({x:0,y:l,index:t}),(null===r||void 0===r?void 0:r.hasGroupRangeChange(t,d))&&this.drawGroupDelta(t,d),this.handleBottomShadow(t)}}},t.handleBottomShadow=function(e){var t,n=this.collector,i=n.ranger,o=n.size,r=null===(t=this.widgetTree)||void 0===t?void 0:t.getScrollerBottomShadowWidget(e);this.collector.isMobile()&&(i.getGroupOffsetY(e)+o.cardMaxShowHeight+o.mobileFooterBarHeight>o.getGroupSize(e).scrollHeight?null===r||void 0===r||r.visible(!1):null===r||void 0===r||r.visible(!0))},t.drawDelta=function(e){var t=this.collector.ranger.getRangeChange(e),n=t.decreasedGroupIndexs,i=t.increasedGroupIndexs;this.removeDecreasedGroup(n,e),this.paintIncreasedGroup(i)},t.removeDecreasedGroup=function(e,t){var n=this;e.length&&e.reverse().forEach((function(e){var i,o,r,s=null===(i=n.widgetTree)||void 0===i?void 0:i.getCardGroup(e,t.startGroupIndex);null===s||void 0===s||s.clear(),null===(r=null===(o=n.widgetTree)||void 0===o?void 0:o.getRootWidget())||void 0===r||r.removeChild(s)}))},t.paintIncreasedGroup=function(e){var t,n,i=this,o=this.collector.getGroups();if(e.length&&o){var r=null!==(t=null===o||void 0===o?void 0:o.groupIds)&&void 0!==t?t:[];e.forEach((function(e){var t,n,s;i.widgetTree.collectGroupPainter(o,r[e],e);var a=null===(t=i.widgetTree)||void 0===t?void 0:t.getCardGroup(e);null===(s=null===(n=i.widgetTree)||void 0===n?void 0:n.getRootWidget())||void 0===s||s.paintChildWidget(a)})),null===(n=this.widgetTree)||void 0===n||n.collectAddGroupPainter(r)}},t.drawGroupDelta=function(e,t){var n=this.collector.ranger,i=null===n||void 0===n?void 0:n.getGroupRangeChange(e,t),o=i.decreasedCardIndexs,r=i.increasedCardIndexs;this.removeDecreasedCard(e,o,t),this.paintIncreasedCard(e,r)},t.removeDecreasedCard=function(e,t,n){var i,o=this;if(t.length){var r=null===(i=this.widgetTree)||void 0===i?void 0:i.getGroupCardWrap(e);t.reverse().forEach((function(t){var i=o.widgetTree.getCard(e,t,n.startCardIndex);null===i||void 0===i||i.clear(),null===r||void 0===r||r.removeChild(i)}))}},t.paintIncreasedCard=function(e,t){var n,i,o,r,s,a=this,l=this.collector.getGroups(),d=null===(n=this.widgetTree)||void 0===n?void 0:n.getGroupCardWrap(e);if(t.length&&l&&d){var c=this.collector.getCardConfig()||{},u=c.isShowFieldTitle,h=void 0!==u&&u,g=c.isShowCover,f=void 0!==g&&g,m=c.coverFieldId,p=void 0===m?"":m,v=this.collector.getVisibleFieldIds()||[],I=null!==(i=l.groupIds)&&void 0!==i?i:[],y=null!==(r=null===(o=null===l||void 0===l?void 0:l.groupRecordIds)||void 0===o?void 0:o.get(I[e]))&&void 0!==r?r:[],_=this.collector.ranger.getGroupCardRange(e).startCardIndex,b=null===(s=this.collector.state)||void 0===s?void 0:s.getHighlightInfos();t.forEach((function(t){var n;a.widgetTree.collectCardInfo({isShowFieldTitle:h,isShowCover:f,coverFieldId:p,recordId:y[t],cardIndex:t,parent:d,groupIndex:e,visibleFieldIds:v,insertIndex:t-_});var i=null===(n=a.widgetTree)||void 0===n?void 0:n.getCard(e,t);i&&(a.widgetTree.collectCardSearchHighLight(i,b),d.paintChildWidget(i))}))}},(0,mi.Z)(e,[{key:"widgetTree",get:function(){return this.renderer.widgetTree}}]),e}();(0,i.__decorate)([(0,wr.Ds)(50),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],Dd.prototype,"resetListenAfterScroll",null);var Sd=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),(0,mi.Z)(t,[{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}},{key:"collector",get:function(){return this.canvas.collector}}]),t}(zo.Z),Nd=n("../node_modules/@tencent/xtable-render/es/views/kanban/utils/get-action-target.js"),Rd=["mouseup","mousedown","mousemove"],Od=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).listeners=[],t.mouseDownX=0,t.mouseDownY=0,t.eventDesktopActionEntry=function(e){var n,i,o,r,s=null===(n=null===e||void 0===e?void 0:e.currentTarget)||void 0===n?void 0:n.getRelativePointerPosition();if(s){var a=null===(i=null===e||void 0===e?void 0:e.evt)||void 0===i?void 0:i.type,l=s.x,d=void 0===l?0:l,c=s.y,u=void 0===c?0:c,h=(0,Nd.Z)(d,u,t.collector,t.widgetTree);if((0,$o.YO)(h))return"mousedown"===a?(t.mouseDownX=d,void(t.mouseDownY=u)):void("mouseup"===a&&Math.abs(d-t.mouseDownX)<10&&Math.abs(u-t.mouseDownY)<10&&t.canvas.view.nextTick((function(){var e;t.toggleCollapse(null!==(e=null===h||void 0===h?void 0:h.groupIndex)&&void 0!==e?e:-1)})));"mousemove"!==a||(null===(o=t.collector)||void 0===o?void 0:o.canEdit())||null===(r=t.canvas.view)||void 0===r||r.setCursor(ko.WV.DEFAULT)}},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e,t=this;(null===(e=this.collector)||void 0===e?void 0:e.isMobile())||Rd.forEach((function(e){t.listeners.push(t.emitter.global[e].event(t.eventDesktopActionEntry))})),this.listeners.push(this.emitter.service.collapseKanbanGroup.event((function(e){t.toggleCollapse(e.groupIndex)})))},n.destroy=function(){this.listeners.forEach((function(e){return e.dispose()}))},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.toggleCollapse=function(e){var t,n,i,o=this.collector,r=o.size,s=o.position,a=o.state;if(!a.isPreventGroupCollapse()){var l=!this.collector.getGroupFoldStatus(e);this.widgetTree.setGroupFoldStatus(e,l);var d=null!==(t=null===s||void 0===s?void 0:s.getX(e))&&void 0!==t?t:[];if(l){Qo.m.foldGroup(v.bW.KANBAN),this.widgetTree.updateGroupXFromSomeGroup(e+1,r.groupWrapWidth-r.groupWidth),s.setX(e,[d[0],d[0]+r.groupWrapWidth]),s.updateXAxisFromSomeIndex(e+1,r.groupWrapWidth-r.groupWidth),r.updateWholeContentWidth(r.contentWholeWidth+r.groupWrapWidth-r.groupWidth);var c=this.canvas.getFeature("Scroller");null===(n=this.collector)||void 0===n||n.isMobile(),null===c||void 0===c||c.updateVerticalVisible(e,!1)}else Qo.m.unFoldGroup(v.bW.KANBAN),this.widgetTree.updateGroupXFromSomeGroup(e+1,r.groupWidth-r.groupWrapWidth),s.setX(e,[d[0],d[0]+r.groupWidth]),s.updateXAxisFromSomeIndex(e+1,r.groupWidth-r.groupWrapWidth),r.updateWholeContentWidth(r.contentWholeWidth+r.groupWidth-r.groupWrapWidth);a.updateFoldedStatusInStorage(e,l),null===(i=this.canvas.view)||void 0===i||i.renderForce()}},t}(Sd);function Ld(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return kd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kd(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Od.Name="GroupCollapse";var zd={size:eo,margin:0,marginX:2,fill:"#81868f",opacity:.5,hoverOpacity:.8,cornerRadius:eo/2},Pd=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).verticals=[],t.listeners=[],t.verticalStates=[],t.onScroll=function(e){var n=e.index,i=void 0===n?-1:n,o=e.x,r=void 0===o?0:o;i>=0&&t.verticals.length&&t.scrollVertical(i),0!==r&&t.scrollHorizontal()},t.onHorizonalDragmove=function(){var e,n=t.collector.size,i=n.activityViewWidth,o=n.activityScrollWidth;if(i>0){var r=t.horizontal.x()/i*o;null===(e=t.canvas.view)||void 0===e||e.scrollToX(r)}},t.onVerticalDragmove=function(e){var n,i,o,r;null===(n=null===e||void 0===e?void 0:e.evt)||void 0===n||n.preventDefault();var s=null===(i=null===e||void 0===e?void 0:e.target)||void 0===i?void 0:i.getAttr(ko.k4),a=s.value.groupIndex,l=void 0===a?-1:a;if(-1!==l&&(null===s||void 0===s?void 0:s.type)===ko.KW.KANBAN_SCROLLER){null===(r=null===(o=t.verticals)||void 0===o?void 0:o[l])||void 0===r||r.visible(!0);var d=t.collector.size,c=d.groupHeadHeight,u=d.globalPaddingTop,h=d.groupSizes[l],g=h.scrollHeight,f=h.viewHeight;if(f>0){var m=(t.verticals[l].y()-c-u)/f*g;t.canvas.view.scrollToY(m,l)}}},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.initHorizontal(),this.initVerticals(),this.updated(),this.listeners.push(this.emitter.global.scroll.event(this.onScroll))},n.destroy=function(){var e,t;this.listeners.forEach((function(e){return e.dispose()})),null===(e=this.horizontal)||void 0===e||e.destroy(),null===(t=this.verticals)||void 0===t||t.forEach((function(e){e.destroy()}))},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){var e,t,n,i,o,r,s=this,a=this.collector,l=a.size,d=a.ranger,c=null!==(e=null===d||void 0===d?void 0:d.getOffsetX())&&void 0!==e?e:0;null===(t=this.verticals)||void 0===t||t.splice(l.groupSizes.length),null===(n=l.groupSizes)||void 0===n||n.forEach((function(e,t){var n;if(null===(n=s.verticals)||void 0===n?void 0:n[e.index]){s.verticals[e.index].x(s.getVerticalBarX(e.index)-c),s.verticals[e.index].height(s.getVerticalBarSize(e));var i=null===d||void 0===d?void 0:d.getGroupOffsetY(t);s.scrollToY(e.index,i)}else s.initVertical(e)})),null===(i=this.horizontal)||void 0===i||i.y(this.getHorizonalBarY()),null===(o=this.horizontal)||void 0===o||o.width(this.getHorizonalBarSize()),null===(r=this.horizontal)||void 0===r||r.visible(l.activityScrollWidth>l.activityViewWidth),this.scrollToX(c)},n.updateVerticalHeightByGroup=function(e){var t,n;null===(n=null===(t=this.verticals)||void 0===t?void 0:t[e.index])||void 0===n||n.height(this.getVerticalBarSize(e))},n.updateVerticalVisible=function(e,t){var n,i;null===(i=null===(n=this.verticals)||void 0===n?void 0:n[e])||void 0===i||i.visible(t)},n.isLocated=function(e,t){var n=!1;if(t>=this.horizontal.y()&&this.horizontal.visible())return!0;for(var i,o=Ld(this.verticals);!(i=o()).done;){var r=i.value;if(e>=r.x()&&e<=r.x()+r.width()&&r.visible()){n=!0;break}}return n},n.scrollVertical=function(e){var t,n,i,o,r=this,s=this.collector.ranger;null===(n=null===(t=this.verticals)||void 0===t?void 0:t[e])||void 0===n||n.visible(!0);var a=null===(o=null===(i=this.verticalStates)||void 0===i?void 0:i[e])||void 0===o?void 0:o.timer;a&&clearTimeout(a),this.verticalStates[e].timer=setTimeout((function(){var t,n;null===(n=null===(t=r.verticals)||void 0===t?void 0:t[e])||void 0===n||n.visible(!1)}),2e3);var l=s.getGroupOffsetY(e);this.scrollToY(e,l),this.widgetTree.handleGroupShadowVisible(e)},n.scrollHorizontal=function(){var e,t=this.collector.ranger,n=null!==(e=null===t||void 0===t?void 0:t.getOffsetX())&&void 0!==e?e:0;this.scrollToX(n)},n.scrollGroupToCenter=function(e,t,n){var i=this,o=n+e;requestAnimationFrame((function(){var r,s;e>0&&t-n>e||e<0&&t-n<e?(null===(r=i.canvas.view)||void 0===r||r.scrollToX(o),i.scrollGroupToCenter(e,t,o)):null===(s=i.canvas.view)||void 0===s||s.scrollToX(t)}))},n.scrollToX=function(e){var t,n,i,o=this,r=null===(t=this.collector)||void 0===t?void 0:t.size,s=r.activityScrollWidth,a=r.activityViewWidth;if(s>0&&s>a){var l=(e=Math.min(s-a,e))/s*a;null===(n=this.horizontal)||void 0===n||n.x(l),null===(i=this.verticals)||void 0===i||i.forEach((function(t,n){t.x(o.getVerticalBarX(n)-e)}))}},n.scrollToY=function(e,t){var n,i,o,r,s,a,l,d=this.collector,c=d.size,u=d.ranger,h=null!==(i=null===(n=c.groupSizes)||void 0===n?void 0:n[e])&&void 0!==i?i:{},g=h.scrollHeight,f=h.viewHeight;if(g>0&&g>f){var m=(t=Math.min(g-f,t))/g*f;null===(r=null===(o=this.verticals)||void 0===o?void 0:o[e])||void 0===r||r.y(m+c.groupHeadHeight+c.globalPaddingTop);var p=null!==(s=null===u||void 0===u?void 0:u.getOffsetX())&&void 0!==s?s:0;null===(l=null===(a=this.verticals)||void 0===a?void 0:a[e])||void 0===l||l.x(this.getVerticalBarX(e)-p)}},n.initHorizontal=function(){var e,t,n,i,o=this,r=this.collector.size,s=null===(e=this.canvas.view)||void 0===e?void 0:e.getStage();this.horizontal=null===(t=Lo.u.shape)||void 0===t?void 0:t.rect(null,Object.assign({x:0,y:this.getHorizonalBarY(),width:this.getHorizonalBarSize(),height:zd.size,visible:r.activityScrollWidth>r.activityViewWidth,dragBoundFunc:function(e){var t,n=Math.max(Math.min(e.x,s.width()-o.horizontal.width()-zd.marginX),zd.marginX,0),i=o.getHorizonalBarY();return null===(t=o.horizontal)||void 0===t||t.x(n),{x:n,y:i}}},this.getDefaultStyle())),this.collector.isMobile()||this.horizontal.on("dragmove",this.onHorizonalDragmove),this.horizontal.on("mouseenter",(function(){var e;o.canvas.view.setCursor(ko.WV.DEFAULT),null===(e=o.horizontal)||void 0===e||e.opacity(zd.hoverOpacity)})),this.horizontal.on("mouseleave",(function(){var e;null===(e=o.horizontal)||void 0===e||e.opacity(zd.opacity)})),null===(i=null===(n=this.canvas)||void 0===n?void 0:n.getLayer())||void 0===i||i.add(this.horizontal)},n.initVerticals=function(){var e,t=this,n=this.collector.size;this.verticals=[],null===(e=n.groupSizes)||void 0===e||e.forEach((function(e){t.initVertical(e)}))},n.initVertical=function(e){var t,n,i,o,r=this,s=this.canvas.view.getStage(),a=this.collector,l=a.size,d=a.ranger;this.verticalStates[e.index]={visible:e.scrollHeight>e.viewHeight,timer:null};var c=((t={})[ko.k4]={type:ko.KW.KANBAN_SCROLLER,value:{groupIndex:e.index}},t);this.verticals[e.index]=null===(n=Lo.u.shape)||void 0===n?void 0:n.rect(null,Object.assign(Object.assign({x:this.getVerticalBarX(e.index),y:l.groupHeadHeight+l.globalPaddingTop,width:zd.size,height:this.getVerticalBarSize(e),visible:!1,dragBoundFunc:function(t){var n,i,o=d.getOffsetX(),a=r.getVerticalBarX(e.index)-o,c=Math.max(Math.min(t.y,s.height()-l.groupFootHeight-l.globalPaddingBottom-l.globalPaddingTop-r.verticals[e.index].height()-zd.margin),zd.margin,l.groupHeadHeight+l.globalPaddingTop);return null===(i=null===(n=r.verticals)||void 0===n?void 0:n[e.index])||void 0===i||i.y(c),{x:a,y:c}}},c),this.getDefaultStyle())),this.collector.isMobile()||this.verticals[e.index].on("dragmove",this.onVerticalDragmove),this.verticals[e.index].on("mouseenter",(function(){var t,n;r.canvas.view.setCursor(ko.WV.DEFAULT),null===(n=null===(t=r.verticals)||void 0===t?void 0:t[e.index])||void 0===n||n.opacity(zd.hoverOpacity)})),this.verticals[e.index].on("mouseleave",(function(){var t,n;null===(n=null===(t=r.verticals)||void 0===t?void 0:t[e.index])||void 0===n||n.opacity(zd.opacity)})),null===(o=null===(i=this.canvas)||void 0===i?void 0:i.getLayer())||void 0===o||o.add(this.verticals[e.index])},n.getVerticalBarSize=function(e){var t=e.scrollHeight,n=e.viewHeight;return t>0?Math.max(20,n/t*n):20},n.getHorizonalBarSize=function(){var e=this.collector.size,t=e.activityScrollWidth,n=e.activityViewWidth;return t>0?n/t*n:0},n.getVerticalBarX=function(e){var t,n,i=this.collector,o=i.size;return(null!==(n=null===(t=i.position.getXAxis()[e])||void 0===t?void 0:t[0])&&void 0!==n?n:0)+o.groupWidth+hd.TC-o.groupPadding},n.getHorizonalBarY=function(){var e;return(null===(e=this.canvas.view)||void 0===e?void 0:e.getStage()).height()-zd.marginX-zd.size},n.getDefaultStyle=function(){var e;return{fill:zd.fill,opacity:zd.opacity,cornerRadius:zd.cornerRadius,draggable:!(null===(e=this.collector)||void 0===e?void 0:e.isMobile()),listening:!0}},t}(Sd);Pd.Name="Scroller";var Fd=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).board=Lo.u.board(),t.listeners=[],t.onScroll=function(){t.showSearchResult()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.canvas.getLayer().add(this.board),this.listeners.push(this.emitter.global.scroll.event(this.onScroll)),this.showSearchResult()},n.destroy=function(){var e,t;null===(e=this.board)||void 0===e||e.destroy(),null===(t=this.rect)||void 0===t||t.destroy(),this.listeners.forEach((function(e){return e.dispose()}))},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){this.showSearchResult()},n.showSearchResult=function(){var e,t,n=null===(e=this.collector.state)||void 0===e?void 0:e.getSearchSelectedRecordId();if(n){var i=this.collector.getGroupIndex(n),o=this.collector.getCardIndex(n),r=this.collector.getCardAbsoluteLayout(i,o);this.rect?this.rect.setAttrs(Object.assign({},r)):this.rect=null===(t=Lo.u.shape)||void 0===t?void 0:t.rect(this.board,Object.assign(Object.assign({},r),{cornerRadius:4,stroke:po,strokeWidth:2})),this.board.show(),this.clip(i)}else this.board.hide()},n.clip=function(e){void 0===e&&(e=0);var t=this.collector.size,n={x:0,y:t.groupHeadHeight+t.globalPaddingTop-1},i=t.groupSizes[e].viewHeight+2;this.board.clipFunc((function(e){e.rect(n.x,n.y,t.activityViewWidth,i)}))},t}(Sd);Fd.Name="Search";var Ud=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).key=yd.V,t}(0,u.Z)(t,e);var n=t.prototype;return n.getCollector=function(){return this.canvas.collector},n.getStorageRangeInfo=function(){var e=this.getCollector().ranger;return{offsetX:null===e||void 0===e?void 0:e.getOffsetX(),groupOffsetY:null===e||void 0===e?void 0:e.getOffsetY()}},t}(Wo);Ud.Name="KanbanStorageRange";var Bd=n("../node_modules/@tencent/xtable-render/es/views/kanban/utils/scroll.js"),Wd=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.beforeCardShown=function(){},n.afterCardShown=function(){var e=this.collector.getGroupIndex(this.recordId);this.clip(e)},n.getCardAbsoluteLayout=function(){var e=this.collector.getGroupIndex(this.recordId),t=this.collector.getCardIndex(this.recordId);return this.collector.getCardAbsoluteLayout(e,t)},n.scrollVisibility=function(e){(0,Bd.$)(this.recordId,e)},n.shouldHideBoard=function(){var e=this.collector.getGroupIndex(this.recordId);return this.collector.getCardIndex(this.recordId)<0||e<0||!this.recordId},n.clip=function(e){var t;void 0===e&&(e=0);var n=this.collector.size,i={x:0,y:n.groupHeadHeight+n.globalPaddingTop-1};if(null===(t=n.groupSizes)||void 0===t?void 0:t[e]){var o=n.groupSizes[e].viewHeight+2;this.board.clipFunc((function(e){e.rect(i.x,i.y,n.activityViewWidth,o)}))}},(0,mi.Z)(t,[{key:"collector",get:function(){return this.canvas.collector}}]),t}(Ho);Wd.Name="CardActive";var Gd=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).getActionTarget=Nd.Z,t.targetInfo={recordId:"",groupIndex:0,isLast:!1},t.mouseUp=function(n){t.timer&&clearTimeout(t.timer),e.prototype.mouseUp.call((0,Jn.Z)(t),n)},t}(0,u.Z)(t,e);var n=t.prototype;return n.handleMoveLine=function(e,t,n){var i,o,r,s,a=(hd.BZ+2)/2;if(this.isExistCard(n))if(this.isNearCard(n))this.draggerLine.hide();else{var l=this.getLayoutInfo(n);this.updateLine(l.x,l.y-a)}else{var d=this.getGroupIndex(e);if(!(d<0)){var c=this.collector.getGroups(),u=this.collector.ranger.getGroupYRange(d);if(c&&t>=u[1]){var h=c.groupIds[d],g=c.groupRecordIds.get(h),f=null!==(i=null===g||void 0===g?void 0:g[(null===g||void 0===g?void 0:g.length)-1])&&void 0!==i?i:"";if(!f){var m=null===(o=this.widgetTree.getCardGroup(d))||void 0===o?void 0:o.getLayoutInfo(),p=null===(s=null===(r=this.widgetTree.getGroupCardWrap(d))||void 0===r?void 0:r.getLayoutInfo)||void 0===s?void 0:s.call(r),v=m.x+p.x-this.collector.ranger.getOffsetX();return void this.updateLine(v,this.collector.size.groupHeadHeight+a)}var I=this.collector.getCardIndex(f),y=this.collector.getCardAbsoluteLayout(d,I);this.updateLine(y.x,y.y+y.height+a)}}}},n.done=function(){var e,t,n=this.canvas.context.getCurrentView(),i=this.canvas.context.getBehaviorApi(),o=null===(t=this.canvas.context.getCurrentTable())||void 0===t?void 0:t.id;if(n&&o){var r=n.getRecordIndexFromAllRecordIds(this.startRecordId),s=this.targetInfo.groupIndex,a=this.collector.getGroupPath(s);if(Qo.m.moveCard(v.bW.KANBAN),this.targetInfo.recordId){var l,d=this.getTargetIndex(this.targetInfo.recordId),c=this.collector.getGroupIndex(this.startRecordId),u=this.collector.getGroupPath(c);if((null===n||void 0===n?void 0:n.isAutoSort())&&(null===n||void 0===n?void 0:n.getSortInfos().length)&&u.toString()===a.toString())return void this.showSnackbar();if(this.startRecordId===this.targetInfo.recordId&&u.toString()===a.toString())return;i.moveRecord({tableId:o,viewId:n.id,delta:{recordMoveMap:(l={},l[this.startRecordId]={source:r,target:d},l),groupPath:a}})}else i.moveRecord({tableId:o,viewId:n.id,delta:{recordMoveMap:(e={},e[this.startRecordId]={source:r,target:this.targetInfo.isLast?n.getAllRecordIds().length-1:r},e),groupPath:a}})}},n.getCloneCardAttrs=function(){return{shadowBlur:0}},n.setTargetRecordId=function(e,t,n){var i;if(this.isExistCard(n))return this.targetInfo.recordId=n.recordId,this.targetInfo.groupIndex=n.groupIndex,void(this.targetInfo.isLast=!1);var o=this.getGroupIndex(e);if(!(o<0)){var r=this.canvas.context.getCurrentView(),s=this.collector.getGroups(),a=this.collector.ranger.getGroupYRange(o);if(s&&t>=a[1]){var l=s.groupIds[o],d=s.groupRecordIds.get(l),c=null!==(i=null===d||void 0===d?void 0:d[(null===d||void 0===d?void 0:d.length)-1])&&void 0!==i?i:"";this.targetInfo.groupIndex=o;var u=r.getAllRecordIds().indexOf(c);if(u<0)return this.targetInfo.recordId="",void(this.targetInfo.isLast=!1);var h=u+1;this.targetInfo.recordId=r.getAllRecordIds()[h],h===r.getAllRecordIds().length&&(this.targetInfo.isLast=!0)}}},n.isExistCard=function(t){return!Jo()(null===t||void 0===t?void 0:t.groupIndex)&&e.prototype.isExistCard.call(this,t)},n.reset=function(){e.prototype.reset.call(this),this.targetInfo={recordId:"",groupIndex:0,isLast:!1}},n.getLayoutInfo=function(e){return this.collector.getCardAbsoluteLayout(e.groupIndex,e.cardIndex)},n.getInitLinePoints=function(){return[0,0,this.collector.size.cardWidth,2]},n.getCardWidget=function(e){var t=e.groupIndex,n=e.cardIndex;return this.widgetTree.getCardWidget(t,n)},n.updateTargetInfo=function(){this.targetInfo.recordId=this.startRecordId,this.targetInfo.isLast=!1},n.updateLine=function(e,t){var n=this.collector.size,i=Math.max(n.groupHeadHeight+n.globalPaddingTop,t);this.draggerLine.points([e,i,n.cardWidth+e,i]),this.draggerLine.show()},n.isNearCard=function(e){if(this.startRecordId===e.recordId)return!0;var t=this.collector.getCardIndex(this.startRecordId),n=this.collector.getGroupIndex(this.startRecordId);return e.cardIndex-t===1&&n===(null===e||void 0===e?void 0:e.groupIndex)},n.getTargetIndex=function(e){var t=this.canvas.context.getCurrentView().getAllRecordIds().indexOf(e);return this.getRecordMoveDirection(this.startRecordId,e)===Vo.DOWN&&(t-=1),t},n.getGroupIndex=function(e){return this.collector.ranger.getActiveGroupIndex(e)},(0,mi.Z)(t,[{key:"collector",get:function(){return this.canvas.collector}},{key:"widgetTree",get:function(){return this.canvas.view.getRenderer().widgetTree}}]),t}(nr);Gd.Name="CardMove";var Zd,Hd=n("react"),Yd=n.n(Hd),Vd=n("../node_modules/@tencent/dui/lib/components/Checkbox/index.js"),Qd=n("../node_modules/@tencent/dui/lib/components/Modal/index.js"),Kd=function(){function e(e){var t=this;this.context=e,this.isChecked=!1,this.setChecked=function(){t.isChecked=!t.isChecked,t.updateModal({content:t.getModalContent()})}}var t=e.prototype;return t.showModal=function(e){var t=this,n=this.getModalContent(),i=Qd.default.confirm({closable:!0,destroyOnClose:!0,content:n,cancelText:R.Z.t("cancel"),okText:R.Z.t("confirm"),onOk:function(){null===o||void 0===o||o(),t.isChecked&&t.setGroupMoved(!0),t.isChecked=!1,e.onOk()},onCancel:function(){t.isChecked=!1,null===o||void 0===o||o(),e.onCancel()}}),o=i.close,r=i.update;this.updateModal=r},t.getModalContent=function(){var e,t,n,i,o,r=this.context.getCurrentView();if(r){var s=null!==(n=null===(t=null===(e=r.getGroupInfos())||void 0===e?void 0:e[0])||void 0===t?void 0:t.fieldId)&&void 0!==n?n:"",a=null===(i=this.context.getCurrentTable())||void 0===i?void 0:i.getFieldByFieldId(s);return Yd().createElement("div",null,R.Z.t("kanban_move_notice",{fieldName:null===(o=null===a||void 0===a?void 0:a.getTitle)||void 0===o?void 0:o.call(a)}),Yd().createElement(Vd.default,{onChange:this.setChecked,checked:this.isChecked,shape:"circle",style:{marginTop:"16px"}},R.Z.t("not_notice")))}},t.setGroupMoved=function(e){var t=this.context.getCurrentTable(),n=this.context.getCurrentView();if(t&&n){var i=t.id,o=n.id;this.context.getCore().tableCacheService.setItem({tableId:i,viewId:o,key:"kanban_group_has_moved",value:e})}},e}();!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.NONE=2]="NONE"}(Zd||(Zd={}));var Xd=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).listeners=[],t.isMoving=!1,t.startGroupIndex=0,t.lastPosition={x:0,y:0},t.isNoticing=!1,t.lastClickPosition={x:0,y:0},t.direction=Zd.NONE,t.group=Lo.u.board({visible:!1}),t.scroll=function(e){if(t.isMoving){var n=t.draggerCardMask.position();t.draggerCardMask.position({x:n.x-e.x,y:n.y-e.y})}},t.mouseDown=function(e){var n,i=e.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y,s=(0,Nd.Z)(o,r,t.collector,t.widgetTree);t.isNeedPrevent(e,s)||(t.isMoving=!0,t.canvas.view.setCursor(ko.WV.GRABBING),t.startGroupIndex=s.groupIndex,t.updateLastPosition(o,r),t.updateLastClickPosition(o+t.offsetX,r),t.handleGroupDrag(s),null===(n=t.canvas.autoScroll)||void 0===n||n.ready(er.Nm.X))},t.documentMouseMove=function(e){if(t.isMoving){var n=t.canvas.context.getRenderer().getView().getRootRect(),i=e.x-n.x,o=e.y-n.y,r=t.getDeltaPosition(i,o),s=t.draggerGroupCard.position(),a=s.x,l=s.y;t.group.show(),t.calcMoveDirection(t.lastClickPosition.x,i+t.offsetX),t.updateGroupCard(a+r.x,l+r.y),t.handleMoveLine(i),t.canvas.view.setCursor(ko.WV.GRABBING),t.updateLastPosition(i,o)}},t.documentMouseUp=function(e){if(t.isMoving){t.isMoving=!1;var n=e.x-t.canvas.context.getRenderer().getView().getRootRect().x;t.isShowMoveNotice(n)?t.onMoveNotice(t.getGroupIndex(n)):(t.reset(),t.done(t.getGroupIndex(n)))}},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.registerEvent(),this.initShape(),this.moveNotice=new Kd(this.canvas.context)},n.destroy=function(){var e;null===(e=this.group)||void 0===e||e.destroy(),this.listeners.forEach((function(e){return e.dispose()})),document.removeEventListener("mousemove",this.documentMouseMove),document.removeEventListener("mouseup",this.documentMouseUp)},n.isDragging=function(){return this.isMoving},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.registerEvent=function(){this.listeners.push(this.emitter.global.mousedown.event(this.mouseDown)),this.listeners.push(this.emitter.global.scroll.event(this.scroll)),document.addEventListener("mousemove",this.documentMouseMove),document.addEventListener("mouseup",this.documentMouseUp)},n.initShape=function(){this.draggerGroupCard=Lo.u.board(),this.draggerLine=Lo.u.shape.line(this.group,{points:[0,0,2,0],strokeWidth:2,stroke:go,visible:!1}),this.group.add(this.draggerGroupCard),this.canvas.getLayer().add(this.group),this.group.moveToTop()},n.isNeedPrevent=function(e,t){return!(t&&0===e.evt.button&&(0,$o.$O)(t)&&!this.collector.isUnGrouped(t.groupIndex))},n.updateLastPosition=function(e,t){this.lastPosition={x:e,y:t}},n.updateLastClickPosition=function(e,t){this.lastClickPosition={x:e,y:t}},n.updateGroupCard=function(e,t,n){this.draggerGroupCard.setAttrs({x:e,y:t,height:n})},n.cloneKanbanGroup=function(e){var t,n=e.groupIndex,i=this.widgetTree.getCardGroupWidget(n);i&&(this.draggerGroupCard.remove(),this.draggerGroupCard=i.clone(),null===(t=this.draggerGroupCard.find("Rect")[0])||void 0===t||t.setAttrs({fill:fo,shadowBlur:0}),this.group.add(this.draggerGroupCard),this.draggerGroupCard.moveToTop())},n.addMaskForGroupCard=function(e){var t=e.groupIndex,n=this.widgetTree.getCardGroup(t),i=Object.assign({},n.getLayoutInfo());if(this.collector.getGroupFoldStatus(t)){var o=n.getWrapChildren().getLayoutInfo();i.width=o.width,i.height=o.height}var r=i.x-this.offsetX,s=i.y-this.collector.ranger.getGroupOffsetY(e.groupIndex);this.draggerCardMask=Lo.u.shape.rect(this.group,Object.assign(Object.assign({opacity:.5,fill:mo},i),{x:r,y:s,listeners:!1})),this.draggerCardMask.moveToTop()},n.updateLine=function(e,t){var n=this.collector.size;this.draggerLine.points([e,t,e,t+n.activityViewHeight]),this.draggerLine.show()},n.getLayoutInfo=function(e){return this.widgetTree.getGroupAbsoluteLayout(e)},n.getDeltaPosition=function(e,t){return{x:e-this.lastPosition.x,y:t-this.lastPosition.y}},n.handleGroupDrag=function(e){var t=this.collector.size,n=this.getLayoutInfo(e.groupIndex);this.addMaskForGroupCard(e),this.cloneKanbanGroup(e),this.updateGroupCard(n.x,n.y,t.activityViewHeight)},n.handleMoveLine=function(e){var t=(hd.$R+2)/2,n=this.getGroupIndex(e);if(this.startGroupIndex!==n){if(this.isExistGroup(n)||this.isAddGroup(e)){if(null===this.canvas.context.getCurrentView().getGroups().groupIds[n])return;var i=this.getLayoutInfo(n),o=0,r=0;this.direction===Zd.LEFT&&(o=i.x-t,r=i.y),this.direction===Zd.RIGHT&&(o=i.x+i.width+t,r=i.y),this.updateLine(o,r)}}else this.draggerLine.hide()},n.isAddGroup=function(e){var t=this.collector.position.getXAxis();return e>t[t.length-1][1]},n.done=function(e){if(this.direction!==Zd.NONE){var t=this.collector.size.groupSizes.length-1,n=!1;if(e=this.direction===Zd.RIGHT?e+1:e,this.startGroupIndex!==e){e>t&&(n=!0);var i=this.canvas.context.getCurrentView(),o=i.getGroupField();if(o&&i){var r=this.getNewOptionsProperty(i,o,e,n);if(r){var s=this.canvas.context.getBehaviorApi(),a=this.canvas.context.getCurrentTable().id;s.setFieldAttributes({tableId:a,viewId:i.id,fieldId:o.getId(),delta:{type:o.getType(),property:Object.assign(Object.assign({},o.getProperty()),{options:r})}})}}}}},n.getNewOptionsProperty=function(e,t,n,i){var o=this,r=t.getProperty().options,s=(0,l.Z)(r),a=e.getGroups().groupIds,d=r.findIndex((function(e){return e.id===a[o.startGroupIndex]})),c=r.findIndex((function(e){return e.id===a[n]}));if(i&&(c=r.length),!(c<0||d===c)){var u=r[d];return d>c?(s.splice(d,1),s.splice(c,0,u)):(s.splice(c,0,u),s.splice(d,1)),s}},n.isShowMoveNotice=function(e){return this.getGroupIndex(e)!==this.startGroupIndex&&!this.isNoticing&&!this.getGroupMoved()},n.calcMoveDirection=function(e,t){this.direction=e>t?Zd.LEFT:Zd.RIGHT,Math.abs(e-t)<50&&(this.direction=Zd.NONE)},n.reset=function(){var e,t,n,i,o,r,s,a;null===(t=null===(e=this.group)||void 0===e?void 0:e.hide)||void 0===t||t.call(e),null===(i=null===(n=this.draggerLine)||void 0===n?void 0:n.hide)||void 0===i||i.call(n),null===(r=null===(o=this.draggerCardMask)||void 0===o?void 0:o.remove)||void 0===r||r.call(o),null===(a=null===(s=this.draggerGroupCard)||void 0===s?void 0:s.remove)||void 0===a||a.call(s)},n.isExistGroup=function(e){return!(Jo()(e)||e<0)},n.onMoveNotice=function(e){var t=this;this.isNoticing=!0,this.moveNotice.showModal({onOk:function(){t.isNoticing=!1,t.done(e),t.reset()},onCancel:function(){t.isNoticing=!1,t.reset()}})},n.getGroupMoved=function(){var e=this.canvas.context.getCurrentTable(),t=this.canvas.context.getCurrentView();if(!e||!t)return!0;var n=e.id,i=t.id;return this.canvas.context.getCore().tableCacheService.getItem({tableId:n,viewId:i,key:"kanban_group_has_moved"})},n.getGroupIndex=function(e){var t=this.collector.size.groupSizes.length;return e>=this.collector.position.getGroupOffsetXRange(t-1)[1]?t-1:this.collector.ranger.getActiveGroupIndex(e)},(0,mi.Z)(t,[{key:"offsetX",get:function(){return this.collector.ranger.getOffsetX()}}]),t}(Sd);Xd.Name="GroupMove";var Jd=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,i)||this).canvas=t,o.view=n,o.collector=i,o}(0,u.Z)(t,e);var n=t.prototype;return n.addGroup=function(){this.view.emitter.service.kanbanGroupTitleEditor.fire({groupIndex:-1})},n.editGroup=function(e,t){this.view.emitter.service.kanbanGroupTitleEditor.fire({groupIndex:e,data:t})},n.showGroupMenu=function(e,t,n){this.view.emitter.service.kanbanGroupMenuEditor.fire({groupIndex:e,isUnGrouped:t,data:n})},n.addRecord=function(e){var t,n,i=null===(t=this.collector)||void 0===t?void 0:t.getAllRecordIds(),o=null===(n=this.collector)||void 0===n?void 0:n.getGroupPath(e);Qo.m.addCard(v.bW.KANBAN),this.view.emitter.service.addRecordClickEmitter.fire({insertIndex:i.length,groupPath:o})},t}(lr);function qd(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return $d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$d(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ec=function(){function e(e,t,n){var i=this;this.context=e,this.canvas=t,this.collector=n,this.board=Lo.u.board(),this.hoverColor=Xi.mS,this.hoverRecordId="",this.onRequestApply=function(e){for(var t,n=qd(e.mutations);!(t=n()).done;){var o=t.value;3011===o.id&&o.recordId===i.hoverRecordId&&(i.hide(),i.hoverRecordId="")}},this.board.visible(!1),this.canvas.getLayer().add(this.board),this.context.getBehaviorApi().addRequestApplyListener(this.onRequestApply)}var t=e.prototype;return t.destroy=function(){var e;null===(e=this.board)||void 0===e||e.destroy()},t.hide=function(){var e;(null===(e=this.board)||void 0===e?void 0:e.visible())&&(this.board.destroyChildren(),this.board.hide())},t.show=function(){var e,t;(null===(e=this.board)||void 0===e?void 0:e.visible())||null===(t=this.board)||void 0===t||t.show()},t.showRect=function(e){var t;null===(t=Lo.u.shape)||void 0===t||t.rect(this.board,Object.assign(Object.assign({},e),{fill:this.hoverColor,cornerRadius:2})),this.show(),this.removeClip()},t.showCardHover=function(e){var t;this.hoverRecordId=e;var n=this.collector.getGroupIndex(e),i=this.collector.getCardIndex(e);if(!(n<0||i<0)){var o=this.collector.getCardAbsoluteLayout(n,i);null===(t=Lo.u.shape)||void 0===t||t.rect(this.board,Object.assign(Object.assign({},o),{cornerRadius:4,fill:"rgba(0, 0, 0, 0.04)"})),this.show(),this.clip(n)}},t.showAddGroup=function(){var e,t,n=null===(e=this.widgetTree)||void 0===e?void 0:e.getAddGroupPosition();null===(t=Lo.u.shape)||void 0===t||t.rect(this.board,Object.assign(Object.assign({},n),{fill:this.hoverColor,cornerRadius:4})),this.show(),this.removeClip()},t.showAddRecord=function(e){var t,n=this.widgetTree.getAddRecordPosition(e);null===(t=Lo.u.shape)||void 0===t||t.rect(this.board,{x:n.x,y:n.y,width:n.width,height:n.height,fill:this.hoverColor,cornerRadius:4}),this.show(),this.removeClip()},t.showWrapGroup=function(e){var t,n=this.widgetTree.getWrapGroupPosition(e);null===(t=Lo.u.shape)||void 0===t||t.rect(this.board,Object.assign(Object.assign({},n),{fill:this.hoverColor,cornerRadius:4})),this.show(),this.removeClip()},t.clip=function(e){void 0===e&&(e=0);var t=this.collector.size,n={x:0,y:t.groupHeadHeight+t.globalPaddingTop-1};if(t.groupSizes[e]){var i=t.groupSizes[e].viewHeight+2;this.board.clipFunc((function(e){e.rect(n.x,n.y,t.activityViewWidth,i)}))}},t.removeClip=function(){var e=this;this.board.clipFunc((function(t){var n,i,o,r;t.rect(0,0,null===(i=null===(n=e.canvas)||void 0===n?void 0:n.getLayer())||void 0===i?void 0:i.width(),null===(r=null===(o=e.canvas)||void 0===o?void 0:o.getLayer())||void 0===r?void 0:r.height())}))},(0,mi.Z)(e,[{key:"widgetTree",get:function(){return this.canvas.view.getRenderer().widgetTree}}]),e}(),tc=function(){function e(e,t,n){this.context=e,this.canvas=t,this.collector=n,this.listeners=[],this.rect=new ec(this.context,this.canvas,this.collector),this.action=new Qs(this.canvas)}var t=e.prototype;return t.destroy=function(){this.rect.destroy(),this.action.destroy(),this.listeners.forEach((function(e){return e.dispose()}))},t.hide=function(){this.rect.hide(),this.action.hide()},t.showAction=function(e,t){this.action.show(e,t)},t.clearAction=function(){this.action.clear()},t.showRect=function(e){this.hide(),this.rect.showRect(e)},t.showAddGroup=function(){this.hide(),this.rect.showAddGroup()},t.showAddRecord=function(e){this.hide(),this.rect.showAddRecord(e)},t.showWrapGroup=function(e){this.hide(),this.rect.showWrapGroup(e)},t.showCardHover=function(e){this.hide(),this.rect.showCardHover(e)},e}(),nc=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).textShape=null,t.groupIndex=-1,t.onScroll=function(){t.reset(),t.canvas.getLayer().listening(!1),t.resetListenAfterScroll()},t.reset=function(){var e;t.clearUrlDecoration(),t.setDefaultCursor(),t.action.hideTips(),null===(e=t.hover)||void 0===e||e.hide(),t.resetGroupHeadMore(),t.resetAddGroup()},t.resetGroupHeadMore=function(){var e;-1!==t.groupIndex&&(null===(e=t.widgetTree.getGroupHeadMoreWidget(t.groupIndex))||void 0===e||e.visible(!1),t.groupIndex=-1)},t.resetAddGroup=function(){var e;t.collector.getCanGroupEdit()&&t.collector.canEdit()&&(null===(e=t.widgetTree.getAddGroupIconWidget())||void 0===e||e.opacity(1))},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){e.prototype.bootstrap.call(this),this.hover=new tc(this.canvas.context,this.canvas,this.collector),this.action=new Jd(this.canvas,this.canvas.view,this.collector)},n.destroy=function(){this.hover.destroy(),e.prototype.destroy.call(this)},n.resetHover=function(){this.hover.hide()},n.getActionTarget=function(e,t,n,i){return(0,Nd.Z)(e,t,n,i)},n.getOffsetY=function(e){var t=this.collector.getGroupIndex(e);return this.collector.ranger.getGroupOffsetY(t)},n.isDragging=function(e,t,n){if(this.isPress(e,t,n))return!1;var i=this.canvas.getFeature("CardMove"),o=this.canvas.getFeature("GroupMove");return(null===i||void 0===i?void 0:i.isDragging())||(null===o||void 0===o?void 0:o.isDragging())},n.isNeedLayoutAction=function(e){return(0,$o.F8)(e)||(0,$o.ol)(e)||(0,$o.F_)(e)||(0,$o.$O)(e)||(0,$o.My)(e)},n.doPreventAction=function(){this.resetGroupHeadMore(),this.resetAddGroup()},n.doAreaAction=function(e,t,n){var i=gr(n.target);t.type===ko.KW.KANBAN_GROUP_MENU?this.doAssignGroupMenuAction(e,t,i,n.target):this.doAssignAreaAction(e,t,i,n.target)},n.doLayoutAction=function(e,t){var n;if("mousemove"===e&&(this.clearUrlDecoration(),this.setDefaultCursor()),(0,$o.YO)(t))return this.resetGroupHeadMore(),this.resetAddGroup(),this.resetHover(),void this.doLayoutWrapGroup(e,t);var i=null===(n=this.canvas.view)||void 0===n?void 0:n.canEdit(),o=this.collector.getCanGroupEdit()||!1;if(i){if(o&&(0,$o.F8)(t))return this.resetGroupHeadMore(),void this.doLayoutAddGroup(e);if((0,$o.ol)(t))return this.resetGroupHeadMore(),this.resetAddGroup(),void this.doLayoutAddRecord(e,t)}return(0,$o.$O)(t)?(this.resetAddGroup(),this.resetHover(),void this.doLayoutGroupHead(e,t)):this.isCard(t)?(this.resetGroupHeadMore(),this.resetAddGroup(),void this.doLayoutCard(e,t)):void this.reset()},n.isCard=function(e){return(0,$o.F_)(e)||(0,$o.My)(e)},n.setContextMenuActivePoint=function(e){var t=e.recordId,n=void 0===t?"":t,i=e.groupIndex,o=this.collector.getGroupPath(i);this.action.setContextMenuActivePoint({recordId:n,groupPath:o})},n.clearDraggedState=function(){var e;null===(e=this.canvas.getFeature("CardMove"))||void 0===e||e.updated()},n.resetListenAfterScroll=function(){this.canvas.getLayer().listening(!0)},n.doAssignAreaAction=function(e,t,n,i){switch(e){case"mousemove":if(t.type===ko.KW.EDIT_GROUP_TITLE&&!this.collector.getCanGroupEdit())return;this.doAssignAreaHoverAction(t,n,i);break;case"mouseup":this.doAssignAreaClickAction(t)}},n.doAssignGroupMenuAction=function(e,t,n,i){var o,r=t.value;switch(e){case"mousemove":this.doAssignAreaHoverAction(t,n,i);break;case"mouseup":this.action.showGroupMenu(null!==(o=r.groupIndex)&&void 0!==o?o:-1,r.isUnGrouped||!1,r.data)}},n.getCardWidget=function(e){var t=this.collector.getGroupIndex(e),n=this.collector.getCardIndex(e);return this.widgetTree.getCardWidget(t,n)},n.handleHoverUrl=function(e,t,n){var i,o,r=e.recordId,s=this.getCardWidget(r);null===s||void 0===s||s.clearCache(),e.type===ko.KW.OPEN_URL?(this.textShape=n,this.textShape.setAttr("recordId",r),this.handleUrlTips(e,t),null===(o=null===(i=this.textShape)||void 0===i?void 0:i.textDecoration)||void 0===o||o.call(i,"underline")):this.clearUrlDecoration(),null===s||void 0===s||s.cache()},n.clearUrlDecoration=function(){var e,t,n,i=null===(e=this.textShape)||void 0===e?void 0:e.getAttr("recordId");if(i){var o=this.getCardWidget(i);null===o||void 0===o||o.clearCache()}null===(n=null===(t=this.textShape)||void 0===t?void 0:t.textDecoration)||void 0===n||n.call(t,""),this.textShape=null},n.doAssignAreaHoverAction=function(e,t,n){this.handleHoverUrl(e,t,n),this.collector.canEdit()&&(e.hoverCursor&&e.type!==ko.KW.GROUP_COLLSAPSE&&this.canvas.view.setCursor(e.hoverCursor),e.hoverIcon||e.hoverRect?this.hover.showAction(t,e):this.hover.clearAction())},n.doAssignAreaClickAction=function(e){var t,n,i,o=e||{},r=o.fieldId,s=o.recordId;switch(e.type){case ko.KW.CHECKBOX_CHECK:(null===(t=this.canvas.view)||void 0===t?void 0:t.canEdit())&&this.action.toggleCheckbox(r,s||"");break;case ko.KW.EDIT_GROUP_TITLE:if(this.collector.getCanGroupEdit()&&(null===(n=this.canvas.view)||void 0===n?void 0:n.canEdit())){var a=e.value;this.action.editGroup(null!==(i=a.groupIndex)&&void 0!==i?i:-1,a.data)}break;case ko.KW.OPEN_URL:this.action.openUrl(r,s)}},n.doLayoutAddGroup=function(e){var t,n;switch(e){case"mousemove":null===(t=this.canvas.view)||void 0===t||t.setCursor(ko.WV.POINTER),null===(n=this.widgetTree.getAddGroupIconWidget())||void 0===n||n.opacity(.5);break;case"mouseup":this.reset(),this.action.addGroup()}},n.doLayoutAddRecord=function(e,t){var n,i=t.groupIndex;switch(e){case"mousemove":null===(n=this.canvas.view)||void 0===n||n.setCursor(ko.WV.POINTER),this.hover.showAddRecord(i);break;case"mouseup":this.reset(),this.action.addRecord(i)}},n.doLayoutWrapGroup=function(e,t){var n,i,o;if("mousemove"===e){var r=t.groupIndex;this.collector.state.isPreventGroupCollapse()?this.collector.isUnGrouped(r)?null===(n=this.canvas.view)||void 0===n||n.setCursor(ko.WV.NOT_ALLOWED):null===(i=this.canvas.view)||void 0===i||i.setCursor(ko.WV.GRAB):(null===(o=this.canvas.view)||void 0===o||o.setCursor(ko.WV.POINTER),this.hover.showWrapGroup(r))}},n.doLayoutCard=function(e,t){var n,i=t.recordId,o=void 0===i?"":i;switch(e){case"mousemove":null===(n=this.canvas.view)||void 0===n||n.setCursor(ko.WV.POINTER),this.hover.showCardHover(o);break;case"mouseup":this.reset(),this.action.editCard(o),this.hover.showCardHover(o)}},n.doLayoutGroupHead=function(e,t){var n,i;if("mousemove"===e){var o=t.groupIndex,r=void 0===o?-1:o;this.resetGroupHeadMore(),this.collector.canEdit()&&(null===(n=this.canvas.view)||void 0===n||n.setCursor(ko.WV.GRAB)),this.groupIndex=r,null===(i=this.widgetTree.getGroupHeadMoreWidget(r))||void 0===i||i.visible(!0)}},(0,mi.Z)(t,[{key:"collector",get:function(){return this.canvas.getCollector()}},{key:"limitTextLine",get:function(){return 4}},{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}}]),t}(ur);nc.Name="Interactive",(0,i.__decorate)([(0,wr.Ds)(50),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],nc.prototype,"resetListenAfterScroll",null);var ic=[[Pd,!1],[Od,!1],[nc,!1],[Ud,!1],[Fd,!1],[Wd,!1],[Gd,!0],[Xd,!0]],oc=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.installFeatures(ic)},n.getAutoScrollOptions=function(){var e=this,t=this.collector.size;return{boundRect:{left:t.globalPaddingLeft,right:t.activityViewWidth,top:t.globalPaddingTop,bottom:t.activityViewHeight-t.groupFootHeight-t.globalPaddingBottom},getScrollOffset:function(t){var n=e.collector.ranger,i=n.getOffsetX();if(!(e.getGroupIndex(t)>-1))return{scrollX:i,scrollY:0};var o=n.getActiveGroupIndex(t);return{scrollX:i,scrollY:n.getGroupOffsetY(o)}},top:50,bottom:50,left:50,right:50}},n.getGroupIndex=function(e){return this.collector.ranger.getActiveGroupIndex(e)},t}(mr),rc=["touchstart","tap"],sc=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).listeners=[],t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var t=this;e.prototype.bootstrap.call(this),rc.forEach((function(e){t.listeners.push(t.emitter.action[e].event(t.eventActionEntry))})),this.listeners.push(this.emitter.action.stageScroll.event((function(){var e,n;t.isSliding=!0,t.timer&&clearTimeout(t.timer),null===(n=null===(e=t.cardRect)||void 0===e?void 0:e.updateFillColor)||void 0===n||n.call(e,uo),t.cardRect=null,t.timer=setTimeout((function(){t.isSliding=!1}),10)})))},n.destroy=function(){this.listeners.forEach((function(e){return e.dispose()}))},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.getCard=function(e){var t=e.groupIndex,n=void 0===t?-1:t,i=e.cardIndex,o=void 0===i?-1:i;return this.widgetTree.getCard(n,o)},n.isNeedLayoutAction=function(e){return(0,$o.$O)(e)},n.handleTarget=function(e,t){(0,$o.F_)(t)||(0,$o.My)(t)?this.doLayoutCard(e,t):this.canvas.view.canEdit()&&(0,$o.F8)(t)&&this.doLayoutAddGroup(e)},n.doAreaAction=function(e,t,n){this.isGroupMenu(e,n)&&this.doAssignGroupMenuAction(e,t,n),this.isUrl(e)&&this.doUrlAction(e,t)},n.doLayoutAction=function(e,t){var n,i,o=this,r=null===(n=this.widgetTree.getCardGroup(t.groupIndex).getWrapChildren())||void 0===n?void 0:n.getChildren().find((function(e){return e.getType()===dr.m.Rect}));if((0,$o.YO)(t)&&"tap"===e)return setTimeout((function(){o.emitter.service.collapseKanbanGroup.fire({groupIndex:t.groupIndex})}),20),void(r&&(null===(i=null===r||void 0===r?void 0:r.updateFillColor)||void 0===i||i.call(r,ho),setTimeout((function(){var e;null===(e=null===r||void 0===r?void 0:r.updateFillColor)||void 0===e||e.call(r,uo)}),50)))},n.getActionTarget=function(e,t,n,i){return(0,Nd.Z)(e,t,n,i)},n.isGroupMenu=function(e,t){return e.type===ko.KW.KANBAN_GROUP_MENU&&!!t},n.doAssignGroupMenuAction=function(e,t,n){var i,o,r,s,a=this,l=null===(r=null===(o=null===(i=this.widgetTree.getCardGroup(n.groupIndex).getChildren())||void 0===i?void 0:i.find((function(e){return e.getType()===dr.m.GroupHead})))||void 0===o?void 0:o.getChildren())||void 0===r?void 0:r.find((function(e){return e.getType()===dr.m.Icon}));"tap"===t&&(setTimeout((function(){var t=e.value.groupIndex,n=void 0===t?-1:t;a.emitter.service.kanbanMobileGroupMenuEditor.fire({groupIndex:n})}),20),l&&(null===(s=null===l||void 0===l?void 0:l.updateFillColor)||void 0===s||s.call(l,ho),setTimeout((function(){var e;null===(e=null===l||void 0===l?void 0:l.updateFillColor)||void 0===e||e.call(l,"")}),50)))},n.doLayoutAddGroup=function(e){"tap"===e&&this.addGroup()},n.addGroup=function(){this.emitter.service.kanbanGroupTitleEditor.fire({groupIndex:-1})},(0,mi.Z)(t,[{key:"collector",get:function(){return this.canvas.getCollector()}},{key:"widgetTree",get:function(){var e=this.canvas.view.getRenderer();return null===e||void 0===e?void 0:e.widgetTree}}]),t}(yr);sc.Name="InteractiveMobile";var ac=[[Pd,!1],[sc,!1],[Ud,!1],[Fd,!1],[Fd,!1],[Od,!1]],lc=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.installFeatures(ac)},n.getAutoScrollOptions=function(){return null},t}(mr),dc=n("../node_modules/@tencent/xtable-common/es/palette/option.js"),cc="canvas",uc=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.offscreen=function(e){var t=e||{},n=this.getRect(t),i=Math.ceil(t.width||n.width),o=Math.ceil(t.height||n.height),r=void 0===t.x?n.x:t.x,s=void 0===t.y?n.y:t.y,a=t.pixelRatio,l=t.offset||0;i+=2*l,o+=2*l,r-=l,s-=l;var d=new Oi.RF({pixelRatio:a,width:i,height:o}),c=d.getContext();return d.isCache=!0,this._cache.delete(cc),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1),c.save(),c.translate(-r,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this.drawScene(d,this),this._isUnderCache=!1,c.restore(),this._cache.set(cc,{scene:d,filter:{getContext:function(){}},x:r,y:s}),this._requestDraw(),this},n.getRect=function(e){var t=e||{},n={};return void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()})),n},t}(Oi.$l),hc=function(e){function t(t,n,i,o,r){var s;return(s=e.call(this,t,n,dr.m.Card,r)||this).groupIndex=0,s.recordId="",s.groupIndex=i,s.recordId=o,s}(0,u.Z)(t,e);var n=t.prototype;return n.paint=function(e){var t;return(0,i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o,r,s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=this.collector.ranger,o=null!==(t=i.getGroupOffsetY(this.groupIndex))&&void 0!==t?t:0,r=this.getLayoutInfo(),this.groupWidget=new uc({x:r.x,y:r.y-o}),null===e||void 0===e||e.add(this.groupWidget),n.next=7,this.renderChildrenAsync(this.groupWidget);case 7:setTimeout((function(){var e;null===(e=s.groupWidget)||void 0===e||e.cache()}),10);case 8:case"end":return n.stop()}}),n,this)})))},n.clearCache=function(){var e;null===(e=this.groupWidget)||void 0===e||e.clearCache()},t}(Ar),gc=function(e){function t(t,n,i){var o;return(o=e.call(this,t,n,dr.m.CardWrap)||this).groupIndex=0,o.groupIndex=i,o}(0,u.Z)(t,e);var n=t.prototype;return n.paint=function(e){var t=this.getLayoutInfo();this.groupWidget=new Oi.$l({x:t.x,y:t.y}),null===e||void 0===e||e.add(this.groupWidget),this.clip(t.width,t.height),this.renderChildren(this.groupWidget)},n.clip=function(e,t){var n;void 0===e&&(e=0),void 0===t&&(t=0),null===(n=this.groupWidget)||void 0===n||n.clipFunc((function(n){n.rect(-2,-.5,e+4,t+1)}))},n.offsetCard=function(e){this.getChildren().forEach((function(t){t.groupWidget&&t.groupWidget.y(t.groupWidget.y()-e)}))},t}(Ar),fc=function(e){function t(t,n,i,o,r){var s;return void 0===i&&(i=0),(s=e.call(this,t,n,dr.m.Group,o)||this).collector=t,s.parent=n,s.index=i,s.insertIndex=o,s.widgetTree=r,s.wrapChildren=[],s.index=i,s}(0,u.Z)(t,e);var n=t.prototype;return n.setUnGrouped=function(e){this.isUnGrouped=e},n.paint=function(e){var t=this.collector.ranger,n=this.getLayoutInfo(),i=n.x-t.getOffsetX();this.groupWidget=new Oi.$l({x:i,y:n.y}),null===e||void 0===e||e.add(this.groupWidget),this.folded?this.renderWrapChildren(this.groupWidget):this.renderChildren(this.groupWidget),this.widgetTree.handleGroupShadowVisible(this.index)},n.addWrapChild=function(e){this.wrapChildren.push(e)},n.getFolded=function(){return this.folded},n.setFolded=function(e){this.folded=!!e},n.getWrapChildren=function(){return this.wrapChildren[0]},n.destroy=function(){e.prototype.destroy.call(this),this.wrapChildren.forEach((function(e){e.destroy()})),this.wrapChildren.length=0},n.renderWrapChildren=function(e){this.wrapChildren.length&&this.wrapChildren.forEach((function(t){t.paint(e)}))},t}(Ar),mc=function(e){function t(t,n,i){return e.call(this,t,n,i||dr.m.Shadow)||this}(0,u.Z)(t,e);var n=t.prototype;return n.paint=function(e){var t,n=this.getLayoutInfo();this.shadowWidget=null===(t=Dr.base.shape)||void 0===t?void 0:t.line(e,{shadowForStrokeEnabled:!0,strokeWidth:n.strokeWidth,stroke:n.stroke,points:n.points,visible:n.visible})},n.updateVisible=function(e){var t;null===(t=this.shadowWidget)||void 0===t||t.visible(e)},n.destroy=function(){e.prototype.destroy.call(this),this.shadowWidget&&(this.shadowWidget=null)},t}(Ar),pc=function(e){function t(t,n){return e.call(this,t,n)||this}return(0,u.Z)(t,e),t.prototype.paint=function(e){var t,n=this.getLayoutInfo();null===(t=Dr.base.shape)||void 0===t||t.liteText(e,n)},t}(Wr),vc=function(e){function t(t,n,i,o){var r;return(r=e.call(this,t,n,dr.m.Icon)||this).alias=i,r.actionMark=o,r}(0,u.Z)(t,e);var n=t.prototype;return n.paint=function(e){var t,n=this.getLayoutInfo(),i=this.actionMark?Object.assign(Object.assign(Object.assign({},this.actionMark),n),{listening:!0}):n;this.iconWidget=null===(t=Dr.base.icon)||void 0===t?void 0:t.draw(e,this.alias,i)},n.updateFillColor=function(e){var t;null===(t=this.iconWidget)||void 0===t||t.fill(e)},n.destroy=function(){e.prototype.destroy.call(this),this.iconWidget&&(this.iconWidget=null)},t}(Ar);function Ic(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yc(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _c=new Map;[[V.f.TEXT,"collectTextPainter"],[V.f.NUMBER,"collectNormalTextPainter"],[V.f.EMAIL,"collectNormalTextPainter"],[V.f.PHONE,"collectNormalTextPainter"],[V.f.CHECKBOX,"collectCheckboxPainter"],[V.f.DATE_TIME,"collectNormalTextPainter"],[V.f.CREATED_TIME,"collectNormalTextPainter"],[V.f.MODIFIED_TIME,"collectNormalTextPainter"],[V.f.IMAGE,"collectImagePainter"],[V.f.URL,"collectUrlPainter"],[V.f.MULTIPLE_SELECT,"collectSelectPainter"],[V.f.SINGLE_SELECT,"collectSelectPainter"],[V.f.CREATED_USER,"collectUserPainter"],[V.f.MODIFIED_USER,"collectUserPainter"],[V.f.PROGRESS,"collectProgressPainter"],[V.f.ATTACHMENT,"collectAttachmentPainter"]].forEach((function(e){var t=e[0],n=e[1];return _c.set(t,n)}));var bc=function(){function e(e){this.collector=e,this.initWidgetTree()}var t=e.prototype;return t.destroy=function(){var e;null===(e=this.rootWidget)||void 0===e||e.destroy(),this.rootWidget=null},t.rebuild=function(){this.destroy(),this.initWidgetTree()},t.getRootWidget=function(){return this.rootWidget},t.collectPainter=function(){var e,t=this.collector.getGroups();if(t){for(var n=this.collector.ranger,i=null!==(e=t.groupIds)&&void 0!==e?e:[],o=n.getGroupRange(),r=o.startGroupIndex,s=void 0===r?0:r,a=o.endGroupIndex,l=void 0===a?0:a,d=Math.min(l,i.length-1),c=s;c<=d;c++){var u=i[c];this.collectGroupPainter(t,u,c)}this.collectAddGroupPainter(i)}},t.collectAddGroupPainter=function(e){var t,n=this.collector,i=n.size,o=n.position,r=!!(null===(t=this.getRootWidget())||void 0===t?void 0:t.getChildren().find((function(e){return e.getType()===dr.m.AddGroup})));if(!r){var s=o.getX(e.length-1);if(s.length>0&&!this.collector.isMobile()){var a=s[1],l=void 0===a?0:a;this.collectAddGroupInfo(l+i.groupMargin)}}},t.getCardGroup=function(e,t){var n,i=null===this||void 0===this?void 0:this.getRootWidget(),o=this.collector.ranger.getGroupRange().startGroupIndex,r=void 0===o?0:o;return null===(n=null===i||void 0===i?void 0:i.getChildren())||void 0===n?void 0:n[e-(null!==t&&void 0!==t?t:r)]},t.collectGroupPainter=function(e,t,n){var i=this.collector,o=i.state,r=i.position,s=i.ranger.getGroupRange().startGroupIndex,a=void 0===s?0:s,l=t?typeof t+String(t):"null",d=o.isFoldedInStorage(l),c=r.getX(n)[0],u=void 0===c?0:c;this.collectGroupInfo({groupId:t,groups:e,groupIndex:n,contentWidth:u,folded:d,insertIndex:n-a})},t.collectCardInfoFromGroup=function(e,t,n,i){var o,r,s=this.collector.getCardConfig()||{},a=s.isShowFieldTitle,l=void 0!==a&&a,d=s.isShowCover,c=void 0!==d&&d,u=s.coverFieldId,h=void 0===u?"":u,g=this.collector.getVisibleFieldIds()||[],f=null!==(r=null===(o=null===e||void 0===e?void 0:e.groupRecordIds)||void 0===o?void 0:o.get(t))&&void 0!==r?r:[],m=this.collector.ranger.getGroupCardRange(i),p=m.startCardIndex,v=m.endCardIndex;if(p>=0&&v>=0)for(var I=p;I<=v;I++)this.collectCardInfo({isShowFieldTitle:l,isShowCover:c,coverFieldId:h,recordId:f[I],cardIndex:I,parent:n,groupIndex:i,visibleFieldIds:g,insertIndex:I-p})},t.collectCardInfo=function(e){var t,n=this,i=e.parent,o=e.recordId,r=e.groupIndex,s=e.cardIndex,a=e.isShowFieldTitle,l=e.isShowCover,d=e.coverFieldId,c=e.visibleFieldIds,u=e.insertIndex,h=this.collector,g=h.size,f=null!==(t=h.position.getGroupY(r,s))&&void 0!==t?t:[],m=f[0],p=void 0===m?0:m,v=f[1],I=void 0===v?0:v,y=new hc(this.collector,null!==i&&void 0!==i?i:null,r,o,u);y.updateLayoutInfo({x:g.groupPadding,y:p,width:g.cardWidth});var _=this.getIsRealShowCover(l,d,o),b=_.isRealShowCover,M=_.coverFieldValue,C=this.initCardPainter(y,b,M),w=C.rectPainter,T=C.rectContentPainter;null===c||void 0===c||c.forEach((function(e){var t,i,l,d=n.collector.getField(e),c=null===d||void 0===d?void 0:d.getStandardCell(o),u=n.collector.isPrimaryField(e);if((null===(t=null===c||void 0===c?void 0:c.data)||void 0===t?void 0:t.length)||u){var h=new zr(n.collector,T,e),g=null!==(i=n.collector.size.getCardFieldSize(r,s,e))&&void 0!==i?i:{};h.updateLayoutInfo({x:0,y:null!==(l=g.yPos)&&void 0!==l?l:0});var f=_c.get(null===d||void 0===d?void 0:d.getType());if(f){var m={field:d,isShowFieldTitle:a,isPrimaryField:u,fieldSize:g,content:c,parent:h,recordId:o};n[f](m)}}}));var E=I-p;T.updateLayoutInfo({height:E>0?E-2*hd.W9:0}),y.updateLayoutInfo({height:E}),w.updateLayoutInfo({height:E})},t.updateGroupXFromSomeGroup=function(e,t){for(var n,i,o=null!==(i=null===(n=this.rootWidget)||void 0===n?void 0:n.getChildren())&&void 0!==i?i:[],r=e,s=o.length;r<s;r++){var a=o[r],l=(null===a||void 0===a?void 0:a.getLayoutInfo().x)||0;null===a||void 0===a||a.updateLayoutInfo({x:l+t})}},t.getGroupAbsoluteLayout=function(e){var t,n,i,o=this.collector,r=o.size,s=o.state,a=o.position,l=o.ranger,d=s.getGroupFoldStatus(e),c=r.globalPaddingTop,u=r.groupWidth;return d&&(c+=r.groupHeadHeight,u=r.groupWrapWidth),{x:(null!==(t=a.getX(e))&&void 0!==t?t:[])[0]-l.getOffsetX(),y:c,width:u,height:null!==(i=null===(n=this.getRootWidget())||void 0===n?void 0:n.getLayoutInfo().height)&&void 0!==i?i:0}},t.getAddRecordPosition=function(e){var t=this.collector.ranger,n={x:0,y:0,width:0,height:0},i=this.getRootWidget(),o=this.getCardGroup(e);if(!o)return n;var r=this.getGroupAddRecord(e);if(!r)return n;var s=null===r||void 0===r?void 0:r.getLayoutInfo(),a=s.width,l=s.height,d=[i,o,r].reduce((function(e,t){return{x:e.x+t.getLayoutInfo().x,y:e.y+t.getLayoutInfo().y}}),{x:0,y:0});return{x:d.x-t.getOffsetX(),y:d.y,width:a,height:l}},t.getWrapGroupPosition=function(e){var t=this.collector.ranger,n={x:0,y:0,width:0,height:0},i=this.getRootWidget(),o=this.getCardGroup(e);if(!o)return n;var r=this.getGroupWrapChildren(e);if(!r)return n;var s=null===r||void 0===r?void 0:r.getLayoutInfo(),a=s.width,l=s.height,d=[i,o,r].reduce((function(e,t){return{x:e.x+t.getLayoutInfo().x,y:e.y+t.getLayoutInfo().y}}),{x:0,y:0});return{x:d.x-t.getOffsetX(),y:d.y,width:a,height:l}},t.getAddGroupPosition=function(){var e,t=this.collector,n=t.ranger,i=t.size,o=null===this||void 0===this?void 0:this.getRootWidget(),r=null===(e=null===o||void 0===o?void 0:o.getChildren())||void 0===e?void 0:e.find((function(e){return e.getType()===dr.m.AddGroup})),s=r.getLayoutInfo(),a=s.x,l=s.y;return Object.assign(Object.assign({},null===r||void 0===r?void 0:r.getLayoutInfo()),{x:a-n.getOffsetX(),y:l+i.globalPaddingTop})},t.collectSearchHighLight=function(){var e,t=this,n=this.collector.state.getHighlightInfos(),i=this.collector.state.getSearchState();if(0!==n.size||i){var o=this.getRootWidget();null===(e=null===o||void 0===o?void 0:o.getChildren())||void 0===e||e.forEach((function(e){e.getChildren().forEach((function(e){e.getType()===dr.m.CardWrap&&t.collectCardWrapSearchHighLight(e)}))}))}},t.collectCardWrapSearchHighLight=function(e){var t,n=this,i=null===(t=this.collector.state)||void 0===t?void 0:t.getHighlightInfos(),o=this.collector.state.getSearchState();this.collector&&(0!==i.size||o)&&(null===e||void 0===e||e.getChildren().forEach((function(e){n.collectCardSearchHighLight(e,i)})))},t.collectCardSearchHighLight=function(e,t){var n,i=e.groupIndex,o=e.recordId,r=this.collector.getCardIndex(o),s=null===(n=t.get(String(i)))||void 0===n?void 0:n.get(String(r)),a=e.getChildren().find((function(e){return e.getType()===dr.m.Rect}));if(a)if(s){var l={fill:Xi.Ov};a.updateLayoutInfo(l)}else a.updateLayoutInfo({fill:uo,stroke:to,strokeWidth:1})},t.getCardGroupWidget=function(e){var t,n=this.getCardGroup(e);return this.collector.state.getGroupFoldStatus(e)?null===(t=null===n||void 0===n?void 0:n.getWrapChildren())||void 0===t?void 0:t.groupWidget:null===n||void 0===n?void 0:n.groupWidget},t.getGroupChildrenWidget=function(e,t){var n,i=this.getCardGroup(e);return null===(n=null===i||void 0===i?void 0:i.getChildren())||void 0===n?void 0:n.find((function(e){return e.getType()===t}))},t.getGroupCardWrap=function(e){return this.getGroupChildrenWidget(e,dr.m.CardWrap)},t.getCard=function(e,t,n){var i,o,r=this.collector.ranger.getGroupCardRange(e).startCardIndex,s=void 0===r?0:r;return null===(o=null===(i=this.getGroupCardWrap(e))||void 0===i?void 0:i.getChildren())||void 0===o?void 0:o[t-(null!==n&&void 0!==n?n:s)]},t.getCardWidget=function(e,t){var n=this.getCard(e,t);return null===n||void 0===n?void 0:n.groupWidget},t.setGroupFoldStatus=function(e,t){var n,i;this.collector.state.setGroupFoldStatus(e,t),null===(i=null===(n=this.getCardGroup(e))||void 0===n?void 0:n.setFolded)||void 0===i||i.call(n,t)},t.setGroupFoldedStatus=function(e,t){var n=this.collector,i=n.size,o=n.state,r=n.position,s=r.getX(e);this.setGroupFoldStatus(e,!1),this.updateGroupXFromSomeGroup(e+1,i.groupWidth-i.groupWrapWidth),r.setX(e,[s[0],s[0]+i.groupWidth]),r.updateXAxisFromSomeIndex(e+1,i.groupWidth-i.groupWrapWidth),i.updateWholeContentWidth(i.contentWholeWidth+i.groupWidth-i.groupWrapWidth),o.updateFoldedStatusInStorage(e,t)},t.handleGroupShadowVisible=function(e){var t,n=this.getScrollerTopShadowWidget(e),i=this.getScrollerBottomShadowWidget(e),o=null===(t=this.collector.ranger)||void 0===t?void 0:t.getGroupOffsetY(e);o>0?null===n||void 0===n||n.visible(!0):null===n||void 0===n||n.visible(!1);var r=this.collector.size.groupSizes[e];o+r.viewHeight>=r.scrollHeight?null===i||void 0===i||i.visible(!1):null===i||void 0===i||i.visible(!0)},t.getFieldInfo=function(e,t){var n,i,o,r=this.collector,s=r.ranger,a=r.size,l=r.position,d=s.getActiveGroupIndex(e),c=s.getCardIndex(e,t),u=a.globalPaddingTop,h=a.groupHeadHeight,g=s.getGroupOffsetY(d),f=this.getCard(d,c).getChildren().find((function(e){return e.getType()===dr.m.CardContent}));if(c<0||!f)return null;for(var m,p=(null!==(n=l.getGroupYAxis()[d][c])&&void 0!==n?n:[0])[0],v=null!==(i=l.getXAxis()[d][0])&&void 0!==i?i:0,I=t+g-p-u-h-f.getLayoutInfo().y,y=Ic(null===f||void 0===f?void 0:f.getChildren());!(m=y()).done;){var _=m.value,b=_.getChildren()[0],M=b.getLayoutInfo(),C=M.y,w=M.height,T=C+_.getLayoutInfo().y;if(!Jo()(T)&&!Jo()(w)&&this.collector.isField(T,I,w,C)){var E=(null===(o=_.getParent())||void 0===o?void 0:o.getParent()).recordId,j=this.collector.getGroupIndex(E),A=this.collector.getCardIndex(E);return b.getType()===dr.m.Select?{type:b.getType(),recordId:E,fieldId:_.fieldId,groupIndex:j,cardIndex:A,painter:_,startX:v,startY:T+f.getLayoutInfo().y+p+this.collector.size.groupHeadHeight,isField:!0}:{type:b.getType(),recordId:E,fieldId:_.fieldId,groupIndex:j,cardIndex:A,painter:_,isField:!0}}}return null},t.getGroupAddRecord=function(e){var t,n=this.getCardGroup(e);return null===(t=null===n||void 0===n?void 0:n.getChildren())||void 0===t?void 0:t.find((function(e){return e.getType()===dr.m.AddRecord}))},t.getGroupWrapChildren=function(e){var t=this.getCardGroup(e);return null===t||void 0===t?void 0:t.getWrapChildren()},t.getScrollerTopShadowWidget=function(e){var t,n=this.getCardGroup(e),i=null===(t=null===n||void 0===n?void 0:n.getChildren())||void 0===t?void 0:t.find((function(e){return e.getType()===dr.m.TopShadow}));return null===i||void 0===i?void 0:i.shadowWidget},t.getScrollerBottomShadowWidget=function(e){var t,n=this.getCardGroup(e),i=null===(t=null===n||void 0===n?void 0:n.getChildren())||void 0===t?void 0:t.find((function(e){return e.getType()===dr.m.BottomShadow}));return null===i||void 0===i?void 0:i.shadowWidget},t.getGroupHead=function(e){var t,n=this.getCardGroup(e);return null===(t=null===n||void 0===n?void 0:n.getChildren())||void 0===t?void 0:t.find((function(e){return e.getType()===dr.m.GroupHead}))},t.getAddGroupIconWidget=function(){var e,t,n=null===this||void 0===this?void 0:this.getRootWidget(),i=null!==(e=null===n||void 0===n?void 0:n.getChildren())&&void 0!==e?e:[];if(!i.length)return null;var o=null===(t=i[i.length-1].getChildren())||void 0===t?void 0:t[0];return null===o||void 0===o?void 0:o.iconWidget},t.getGroupHeadMoreWidget=function(e){var t,n=this.getGroupHead(e),i=null===(t=null===n||void 0===n?void 0:n.getChildren())||void 0===t?void 0:t.find((function(e){return e.getType()===dr.m.Icon}));return null===i||void 0===i?void 0:i.iconWidget},t.getTextLayoutInfo=function(e,t,n){var i=oo;return e&&(i=t?io:no),{text:e?t||R.Z.t("unname_record"):t,width:this.collector.size.cardContentWidth,x:0,y:e?0:n,fontSize:e?ro:so,fontFamily:Xi.ut,fontStyle:e?ao:lo,lineHeight:e?1.428:1.33,align:"left",verticalAlign:"middle",fill:i,ellipsis:!1,wrap:"char"}},t.getUrlLayoutInfo=function(e,t,n){var i=e?ro:so,o=e?1.428:1.33;return{text:t,width:(null===n||void 0===n?void 0:n.hyperlinkType)?this.collector.size.cardContentWidth-Xi._u:this.collector.size.cardContentWidth,fontSize:i,fontFamily:Xi.ut,lineHeight:o,align:"left",verticalAlign:"middle"}},t.initWidgetTree=function(){var e,t;this.rootWidget=new xr(this.collector);var n=this.collector.size;null===(e=this.rootWidget)||void 0===e||e.updateLayoutInfo({width:n.activityViewWidth,height:n.activityViewHeight,x:0,y:null===(t=this.collector.size)||void 0===t?void 0:t.globalPaddingTop}),n.activityViewHeight>0&&(null===n||void 0===n||n.updateCardMaxShowHeight(n.activityViewHeight-n.heightExceptCard)),this.collectPainter()},t.collectAddGroupInfo=function(e){var t=this.collector.size,n=new Ar(this.collector,this.rootWidget,dr.m.AddGroup);n.updateLayoutInfo({x:e,y:0,width:t.addGroupWidth,height:t.groupHeadHeight});var i=this.collector.getCanGroupEdit()&&this.collector.canEdit()||!1;new vc(this.collector,n,Or.Y.ADD,null).updateLayoutInfo({x:t.groupPadding,y:(t.groupHeadHeight-hd.cZ)/2,width:hd.vM,height:hd.cZ,opacity:i?1:.4}),new pc(this.collector,n).updateLayoutInfo({text:R.Z.t("add_group"),x:t.groupPadding+hd.vM+hd._F,y:0,height:t.groupHeadHeight,width:t.addGroupWidth-t.groupPadding-hd.vM-2*hd._F,fontSize:hd.Ju,fontFamily:Xi.ut,fontStyle:hd.ls,align:"left",verticalAlign:"middle",fill:hd.Su,opacity:i?1:.4})},t.collectGroupInfo=function(e){var t,n,i=e.groupId,o=e.groups,r=e.groupIndex,s=e.contentWidth,a=e.folded,l=e.insertIndex,d=this.collector.size,c=!i,u=new fc(this.collector,this.rootWidget,r,l,this);u.setUnGrouped(c),u.setFolded(a),u.updateLayoutInfo({x:s,y:0,width:d.groupWidth,height:null!==(n=null===(t=this.rootWidget)||void 0===t?void 0:t.getLayoutInfo().height)&&void 0!==n?n:0}),this.collectGroupWrapChildren(i,o,u,r);var h=new gc(this.collector,u,r);h.updateLayoutInfo({x:0,y:d.groupHeadHeight,width:d.groupWidth});var g=d.getGroupSize(r),f=g.viewHeight,m=g.scrollHeight,p=g.cardSumHeight;this.collectCardInfoFromGroup(o,i,h,r);var v=this.collector.isMobile();0===p&&v&&this.collectNoGroupDataInfo(u),h.updateLayoutInfo({height:f}),this.collectGroupHeadInfo(i,o,u,r),this.collectGroupFootInfo(u,f,v),this.collectScrollerShadow(u,!1,[0,d.groupHeadHeight,d.groupWidth,d.groupHeadHeight],dr.m.TopShadow),m>d.cardMaxShowHeight&&this.collectScrollerShadow(u,!0,[0,f+d.groupHeadHeight,d.groupWidth,f+d.groupHeadHeight],dr.m.BottomShadow),this.collectCardWrapSearchHighLight(h)},t.collectGroupWrapChildren=function(e,t,n,i){var o,r,s=new Ar(this.collector,null);null===n||void 0===n||n.addWrapChild(s);var a=this.collector.size;s.updateLayoutInfo({x:0,y:a.groupHeadHeight,width:a.groupWrapWidth});var l=new Ur(this.collector,s,null);l.updateLayoutInfo({x:0,y:0,width:a.groupWrapWidth,stroke:to,strokeWidth:1,cornerRadius:4,fill:"#fff"});var d=hd.W9,c=this.getGroupTitleData(t,e),u=c.data,h=c.style;e||(h=0);var g=this.createGroupHeadTitlePainter({data:u,style:h,parentPainter:s,rectConfig:{x:(a.groupWrapWidth-hd.NZ)/2,y:d,width:hd.NZ},textConfig:{x:a.groupWrapWidth,y:h?hd.l6+d:d,height:a.groupWrapWidth,rotation:90,offsetX:0,offsetY:0},isUnGrouped:!e,isWrapPainter:!0,groupIndex:i}),f=h?g+2*hd.l6+hd.Df+d:g+hd.Df+d,m=f+this.createGroupHeadNumPainter(s,{text:R.Z.t("group_head_count",{count:(null===(r=null===(o=null===t||void 0===t?void 0:t.groupRecordIds)||void 0===o?void 0:o.get(e))||void 0===r?void 0:r.length)||0}),x:a.groupWrapWidth,y:f,height:a.groupWrapWidth,rotation:90,offsetX:0,offsetY:0})+hd.W9;l.updateLayoutInfo({height:m}),s.updateLayoutInfo({height:m})},t.collectGroupHeadInfo=function(e,t,n,i){var o,r,s,a=this.collector.size,l=new Ar(this.collector,n,dr.m.GroupHead);l.updateLayoutInfo({x:a.groupPadding,y:0,width:a.cardWidth,height:a.groupHeadHeight});var d=this.getGroupTitleData(t,e),c=d.data,u=d.style;e||(u=0);var h=this.createGroupHeadTitlePainter({data:c,style:u,parentPainter:l,rectConfig:{x:hd.__,y:(a.groupHeadHeight-hd.NZ)/2,height:hd.NZ},textConfig:{x:u?hd.l6+hd.__:hd.__,y:0,height:a.groupHeadHeight},isUnGrouped:!e,isWrapPainter:!1,groupIndex:i});this.createGroupHeadNumPainter(l,{text:R.Z.t("group_head_count",{count:(null===(s=null===(r=null===t||void 0===t?void 0:t.groupRecordIds)||void 0===r?void 0:r.get(e))||void 0===s?void 0:s.length)||0}),x:u?h+2*hd.l6+hd.Df+hd.__:h+hd.Df+hd.__,y:0,height:a.groupHeadHeight});var g={data:c,groupIndex:i,isUnGrouped:!e},f=((o={})[ko.k4]={type:ko.KW.KANBAN_GROUP_MENU,hoverCursor:ko.WV.POINTER,hoverRect:!0,value:g},o);new vc(this.collector,l,Or.Y.MORE,f).updateLayoutInfo({x:a.cardWidth-hd.zc,y:(a.groupHeadHeight-hd.cc)/2,width:hd.zc,height:hd.cc,visible:this.collector.isMobile()})},t.getGroupTitleData=function(e,t){var n,i,o=null===(n=null===e||void 0===e?void 0:e.groupValues)||void 0===n?void 0:n.get(t),r=0;switch(null===o||void 0===o?void 0:o.sourceType){case V.f.MULTIPLE_SELECT:case V.f.SINGLE_SELECT:r=(null===(i=null===o||void 0===o?void 0:o.data[0])||void 0===i?void 0:i.style)||0;break;default:i=null===o||void 0===o?void 0:o.data[0],r=0}return{data:i,style:r}},t.createGroupHeadTitlePainter=function(e){var t,n=e.data,i=e.style,o=e.parentPainter,r=e.rectConfig,s=e.textConfig,a=e.isUnGrouped,l=e.isWrapPainter,d=e.groupIndex,c=a?hd.Gc:hd.CD,u=this.getGroupHeadTitle(a,n);if(i){var h,g=(0,dc.F)(i);c=g.textColor;var f={groupIndex:d,data:n},m=((h={})[ko.k4]={type:ko.KW.EDIT_GROUP_TITLE,hoverCursor:ko.WV.POINTER,value:f},h);(t=new Ur(this.collector,o,l?null:m)).updateLayoutInfo(Object.assign({cornerRadius:hd.FS,fill:g.background,stroke:g.borderColor,strokeWidth:1},r))}var p=new pc(this.collector,o),v={text:u,fontSize:hd.Te,fontFamily:Xi.ut,fontStyle:i?hd.Do:hd.YU,align:"left",verticalAlign:"middle",fill:c},I=Object.assign(Object.assign({},v),s);p.updateLayoutInfo(I);var y=this.collectGroupHeadTitleSize(n,a,l);return t&&(l?t.updateLayoutInfo({height:y+2*hd.l6}):t.updateLayoutInfo({width:y+2*hd.l6})),p.updateLayoutInfo({width:y}),y},t.collectGroupHeadTitleSize=function(e,t,n){var i={text:this.getGroupHeadTitle(t,e),fontSize:hd.Te,fontFamily:Xi.ut,fontStyle:hd.YU,align:"left",verticalAlign:"middle"},o=this.collector.size,r=this.collector.isMobile()?o.groupWidth-hd.t8:hd.RU,s=o.activityViewHeight>0?o.activityViewHeight-o.globalPaddingBottom-o.globalPaddingTop-o.groupHeadHeight-hd.__-2*hd.W9-2*hd.l6-hd.Df-30:0,a=n?s:r,l=Dr.base.util.measureWidthWithConfig(Object.assign({x:0,y:0},i));return Math.ceil(l)>a?a:Math.ceil(l)},t.getGroupHeadTitle=function(e,t){return e?R.Z.t("ungroup"):(null===t||void 0===t?void 0:t.text)||R.Z.t("unname_group")},t.createGroupHeadNumPainter=function(e,t){var n=new pc(this.collector,e),i={fontSize:hd.AG,fontFamily:Xi.ut,fontStyle:hd.YU,align:"left",verticalAlign:"middle",fill:hd.Qp},o=Object.assign(Object.assign({},i),t);n.updateLayoutInfo(o);var r=this.collectGroupHeadNumSize(t);return n.updateLayoutInfo({width:r}),r},t.collectGroupHeadNumSize=function(e){var t,n={fontSize:hd.AG,fontFamily:Xi.ut,fontStyle:hd.YU,align:"left",verticalAlign:"middle",fill:hd.Qp};return Math.ceil(Dr.base.util.measureWidthWithConfig(Object.assign({x:0,y:0,text:null!==(t=e.text)&&void 0!==t?t:""},n)))},t.collectGroupFootInfo=function(e,t,n){if(!n){var i=this.collector.size,o=t>0?t+i.groupHeadHeight+i.groupCardMargin:i.groupHeadHeight,r=new Ar(this.collector,e,dr.m.AddRecord);r.updateLayoutInfo({x:0,y:o,width:i.groupWidth,height:i.groupFootHeight}),new Ur(this.collector,r,null).updateLayoutInfo({x:0,y:0,width:i.cardWidth,height:i.groupFootHeight,fill:uo,stroke:to,strokeWidth:1,cornerRadius:4});var s=this.collector.canEdit();new vc(this.collector,r,Or.Y.ADD,null).updateLayoutInfo({x:i.groupPadding+hd.d2,y:(i.groupFootHeight-hd.cZ)/2,width:hd.vM,height:hd.cZ,opacity:s?1:.4}),new pc(this.collector,r).updateLayoutInfo({text:R.Z.t("add_card"),height:i.groupFootHeight,width:i.cardWidth-hd.vM-hd.vq,x:i.groupPadding+hd.d2+hd.vM+hd.vq,y:0,fontSize:hd.hg,fontFamily:Xi.ut,fontStyle:hd.Bj,align:"left",verticalAlign:"middle",fill:hd.Dj,opacity:s?1:.4})}},t.collectScrollerShadow=function(e,t,n,i){new mc(this.collector,e,i).updateLayoutInfo({visible:t,strokeWidth:1,stroke:to,points:n})},t.collectNoGroupDataInfo=function(e){var t=this.collector.size,n=new Ar(this.collector,e);n.updateLayoutInfo({x:0,y:t.groupHeadHeight,width:t.groupWidth,height:hd.Pw}),new Ur(this.collector,n,null).updateLayoutInfo({x:0,y:0,width:t.groupWidth,height:hd.Pw,stroke:to,strokeWidth:1,cornerRadius:4,dash:[6,3]}),new pc(this.collector,n).updateLayoutInfo({text:R.Z.t("no_data"),x:0,y:0,height:hd.Pw,width:t.groupWidth,fontSize:hd.hg,fontFamily:Xi.ut,fontStyle:hd.Bj,align:"center",verticalAlign:"middle",fill:hd.qA})},t.getIsRealShowCover=function(e,t,n){var i,o=this.collector.getField(t),r=!1;e&&(null===o||void 0===o?void 0:o.getType())===V.f.IMAGE&&(r=!0);var s=null===o||void 0===o?void 0:o.getStandardCell(n);return(null===(i=null===s||void 0===s?void 0:s.data)||void 0===i?void 0:i.length)||(r=!1),{isRealShowCover:r,coverFieldValue:s}},t.initCardPainter=function(e,t,n){var i=this.collector.size,o=new Ur(this.collector,e,null);o.updateLayoutInfo({x:0,y:0,width:i.cardWidth,fill:uo,stroke:to,strokeWidth:1,cornerRadius:4}),t&&this.collectCoverInfo(e,n);var r=new Rr(this.collector,e);return r.updateLayoutInfo({x:hd.uW,y:t?hd.oy+hd.W9:hd.W9,width:i.cardContentWidth}),{rectPainter:o,rectContentPainter:r}},t.collectCoverInfo=function(e,t){var n,i=new Lr(this.collector,e,(null===(n=t.data[0])||void 0===n?void 0:n.imageUrl)||""),o=this.collector.size;i.updateLayoutInfo({x:.5,y:.5,width:o.cardWidth-1,height:hd.oy})},t.collectFieldTitle=function(e,t){new pc(this.collector,e).updateLayoutInfo({text:t.getTitle(),height:14,width:this.collector.size.cardContentWidth,x:0,y:0,fontSize:10,fontFamily:Xi.ut,fontStyle:"400",align:"left",verticalAlign:"middle",fill:co,lineHeight:1.4})},t.collectTextPainter=function(e){var t=e.parent,n=e.field,i=e.isShowFieldTitle,o=e.isPrimaryField,r=e.fieldSize,s=new pc(this.collector,t);i&&!o&&this.collectFieldTitle(t,n);var a=null!==r&&void 0!==r?r:{},l=a.titleHeight,d=void 0===l?0:l,c=a.contentHeight,u=void 0===c?0:c,h=a.text,g=void 0===h?"":h,f=this.getTextLayoutInfo(o||!1,g,d);s.updateLayoutInfo(f),s.updateLayoutInfo({height:u,ellipsis:!0,wrap:"char"}),t.updateLayoutInfo({width:this.collector.size.cardContentWidth,height:d+u})},t.collectNormalTextPainter=function(e){var t=e.parent,n=e.field,i=e.isShowFieldTitle,o=e.isPrimaryField,r=e.fieldSize,s=new pc(this.collector,t);i&&!o&&this.collectFieldTitle(t,n);var a=null!==r&&void 0!==r?r:{},l=a.titleHeight,d=void 0===l?0:l,c=a.contentHeight,u=void 0===c?0:c,h=a.text,g=void 0===h?"":h,f=this.getNormalTextLayoutInfo(o||!1,g,d);s.updateLayoutInfo(f),t.updateLayoutInfo({width:this.collector.size.cardContentWidth,height:u+d})},t.getNormalTextLayoutInfo=function(e,t,n){var i=oo;e&&(i=t?io:no);var o=e?ro:so;return{width:this.collector.size.cardContentWidth,height:e?20:16,text:e?t||R.Z.t("unname_record"):t,x:0,y:n,fontSize:o,fontFamily:Xi.ut,fontStyle:e?ao:hd.Do,align:"left",verticalAlign:"middle",fill:i,lineHeight:e?1.428:1.33}},t.collectUrlPainter=function(e){var t,n,i,o,r=e.parent,s=e.content,a=e.field,l=e.isShowFieldTitle,d=e.isPrimaryField,c=e.fieldSize,u=e.recordId,h=this.collector.size,g=null!==c&&void 0!==c?c:{},f=g.titleHeight,m=void 0===f?0:f,p=g.contentHeight,v=void 0===p?0:p,I=s,y={urlConfig:{fullWidth:!0,isAttachEvent:!1},textConfig:{fontSize:d?ro:so,lineHeight:d?1.428:1.33},actionMark:(t={},t[ko.k4]={type:ko.KW.OPEN_URL,hoverCursor:ko.WV.POINTER,fieldId:a.getId(),recordId:u},t)};0===(null===(n=null===I||void 0===I?void 0:I.data)||void 0===n?void 0:n.length)&&d&&(I=Object.assign(Object.assign({},I),{sourceType:V.f.TEXT}),y.textConfig.fill=no,y.textConfig.fontStyle=ao),0===(null===(i=null===I||void 0===I?void 0:I.data)||void 0===i?void 0:i.length)&&(null===(o=null===I||void 0===I?void 0:I.data)||void 0===o||o.push({text:R.Z.t("unname_record")}));var _=new Gr(this.collector,r,I,y);l&&!d&&this.collectFieldTitle(r,a),_.updateLayoutInfo({width:h.cardContentWidth,height:v,x:0,y:m}),r.updateLayoutInfo({width:h.cardContentWidth,height:v+m})},t.collectCheckboxPainter=function(e){var t=e.parent,n=e.content,i=e.field,o=e.isShowFieldTitle,r=e.fieldSize;o&&this.collectFieldTitle(t,i);var s=null!==r&&void 0!==r?r:{},a=s.titleHeight,l=void 0===a?0:a,d=s.contentHeight,c=void 0===d?0:d;if(new kr(this.collector,t,n).updateLayoutInfo({x:0,y:l,width:16,height:Ji}),!o){var u=new pc(this.collector,t),h=16+hd.i_;u.updateLayoutInfo({text:i.getTitle(),height:Ji,width:this.collector.size.cardContentWidth-h,x:h,y:0,fontSize:so,fontFamily:Xi.ut,fontStyle:lo,align:"left",verticalAlign:"middle",fill:oo})}t.updateLayoutInfo({width:this.collector.size.cardContentWidth,height:c+l})},t.collectImagePainter=function(e){this.collectCommonPainter(e,new Pr(this.collector,e.parent,e.content))},t.collectSelectPainter=function(e){var t=e.parent,n=e.content,i=e.field,o=e.isShowFieldTitle,r=e.fieldSize,s=null!==r&&void 0!==r?r:{},a=s.titleHeight,l=void 0===a?0:a,d=s.contentHeight,c=void 0===d?0:d,u=this.collector.size,h={x:-1,y:l-1,width:u.cardContentWidth,height:c},g={selectConfig:{height:Xi.PG}};new Br(this.collector,t,n,g).updateLayoutInfo(h),t.updateLayoutInfo({width:u.cardContentWidth,height:c+l}),o&&this.collectFieldTitle(t,i)},t.collectAttachmentPainter=function(e){var t=e.parent,n=e.content,i=e.field,o=e.isShowFieldTitle,r=e.fieldSize;o&&this.collectFieldTitle(t,i);var s=null!==r&&void 0!==r?r:{},a=s.titleHeight,l=void 0===a?0:a,d=s.contentHeight,c=void 0===d?0:d,u=this.collector.size,h={x:-1,y:l-1,width:u.cardContentWidth,height:0};new Sr(this.collector,t,n).updateLayoutInfo(Object.assign(Object.assign({},h),{height:c})),t.updateLayoutInfo({width:u.cardContentWidth,height:c+l})},t.collectUserPainter=function(e){this.collectCommonPainter(e,new Zr(this.collector,e.parent,e.content))},t.collectProgressPainter=function(e){this.collectCommonPainter(e,new Fr(this.collector,e.parent,e.content))},t.collectCommonPainter=function(e,t){var n=e.parent,i=e.field,o=e.isShowFieldTitle,r=e.fieldSize;o&&this.collectFieldTitle(n,i);var s=null!==r&&void 0!==r?r:{},a=s.titleHeight,l=void 0===a?0:a,d=s.contentHeight,c=void 0===d?0:d,u=this.collector.size;t.updateLayoutInfo({x:0,y:l,height:c,width:u.cardContentWidth}),n.updateLayoutInfo({width:u.cardContentWidth,height:c+l})},e}(),Mc=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){var e;this.board=new Dd(this.view,this.collector,this),this.widgetTree=new bc(this.collector),this.feature=new((null===(e=this.collector)||void 0===e?void 0:e.isMobile())?lc:oc)(this.collector,this.view,this.context)},n.renderInit=function(){var e,t;null===(e=this.board)||void 0===e||e.drawInit(),null===(t=this.feature)||void 0===t||t.updated()},n.renderForce=function(){var e,t,n,i,o=this.collector;null===(e=null===o||void 0===o?void 0:o.ranger)||void 0===e||e.update(),this.widgetTree.rebuild(),null===(t=this.widgetTree)||void 0===t||t.collectSearchHighLight(),null===(n=this.board)||void 0===n||n.drawForce(),null===(i=this.feature)||void 0===i||i.updated()},n.destroy=function(){var e,t;null===(e=this.board)||void 0===e||e.destroy(),null===(t=this.feature)||void 0===t||t.destroy(),this.widgetTree.destroy()},n.scrollToX=function(e){var t;null===(t=this.board)||void 0===t||t.scrollToX(e)},n.scrollToY=function(e,t){var n;null===(n=this.board)||void 0===n||n.scrollToY(e,t)},t}(Tr),Cc=function(e){function t(t){var n;return(n=e.call(this,t)||this).collector=new xd(t),n.renderer=new Mc(t,(0,Jn.Z)(n),n.collector),n.collector.isMobile()?n.touchOperator=new Ni((0,Jn.Z)(n),{easeX:.8,easeY:1}):n.mouseOperator=new Si((0,Jn.Z)(n)),n}(0,u.Z)(t,e);var n=t.prototype;return n.getType=function(){return v.bW.KANBAN},n.getRenderer=function(){return this.renderer},n.getCollector=function(){return this.collector},n.getScrollOffset=function(){return{x:0,y:0}},n.destroy=function(){var t,n,i,o;e.prototype.destroy.call(this),null===(t=this.renderer)||void 0===t||t.destroy(),null===(n=this.collector)||void 0===n||n.destroy(),null===(i=this.mouseOperator)||void 0===i||i.destroy(),null===(o=this.touchOperator)||void 0===o||o.destroy()},t}(ki),wc=(n("../node_modules/core-js/modules/es.number.is-nan.js"),function(e){function t(){var t;return(t=e.apply(this,arguments)||this).stickTextWidth=0,t.texts=[],t.units=[],t.stickIndex=1,t.scrollListener=new nl.DisposableStore,t.offsetX=t.layout.dimension.getOffsetX(),t.onScroll=function(e){t.handleScroll(e.x)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.board=Lo.u.board(),this.canvas.getLayer().add(this.board),this.scrollListener.add(this.emitter.global.ganttScroll.event(this.onScroll)),this.paint()},n.destroy=function(){this.clearShapes(),this.board.destroy(),this.scrollListener.clear()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){this.paint()},n.clearShapes=function(){this.units=[],this.texts=[],this.board.destroyChildren()},n.paint=function(){var e=this,t=tl(this.layout.size),n=this.layout.size,i=n.activityStartX,o=n.fieldHeight,r=n.globalPaddingTop,s=this.collector.isMobile()?0:24;this.stickRect={x:i+12+s,y:r+4,width:t-i-12-s,height:o/2},this.clearShapes(),this.collectTexts(),this.paintTexts(),this.board.clipFunc((function(t){return t.rect(e.stickRect.x,e.stickRect.y,e.stickRect.width,e.stickRect.height)}))},n.collectTexts=function(){var e,t=this.layout.dimension.getViewStartAndEndTime()[0],n=this.getPrevStart(t);this.units.push(n);var i=this.getDateText(new Date(t));this.units.push({x:this.stickRect.x,text:i,time:t,width:this.getTextWidth(i)});var o=this.getNextUnitCount(),r=this.getNextStarts(t,o);(e=this.units).push.apply(e,(0,l.Z)(r))},n.getTextWidth=function(e){return Math.ceil(Lo.u.util.measureWidth(e,Ua))},n.paintTexts=function(){var e=this;this.units.forEach((function(t){var n=e.paintUnit(t);e.texts.push(n)})),this.updateStickTextWidth()},n.paintUnit=function(e){return Lo.u.shape.text(this.board,Object.assign(Object.assign({text:e.text},this.stickRect),{x:e.x,width:void 0,fill:Ba,fontSize:Ua,align:"center"}))},n.updateStickTextWidth=function(){var e;this.stickTextWidth=Math.ceil(null===(e=this.texts[this.stickIndex])||void 0===e?void 0:e.width())},n.getNextUnitCount=function(){var e=this.layout.dimension.getType(),t=this.layout.dimension.getRenderCount(),n=1;switch(e){case Pa.XB.WEEK:case Pa.XB.MONTH:n=t/30;break;case Pa.XB.QUARTER:n=t/4;break;case Pa.XB.YEAR:n=t/12}return Math.ceil(n)},n.getPrevStart=function(e){var t=this.layout.dimension,n=new Date(e),i=n.getFullYear(),o=n.getMonth();t.getType()===Pa.XB.YEAR?n.setFullYear(i,0,0):n.setMonth(o,0);var r=n.getTime(),s=this.getDateText(n),a=this.getTextWidth(s),l=t.getTimeX(r)+t.getTimeSize()-t.getOffsetX()-a;return l+a>this.stickRect.x&&(l=this.stickRect.x-a),{x:l,text:s,time:r,width:a}},n.getNextStarts=function(e,t){for(var n,i=new Date(e),o=[];t>0;){var r=i.getFullYear(),s=i.getMonth();this.layout.dimension.getType()===Pa.XB.YEAR?i.setFullYear(r+1,0,1):i.setMonth(s+1,1);var a=i.getTime(),l=this.getDateText(i),d=this.layout.dimension.getTimeX(a)-this.layout.dimension.getOffsetX(),c=this.stickRect.x+(null===(n=this.units[this.stickIndex])||void 0===n?void 0:n.width);d<c&&(d=c),o.push({x:d,text:l,time:a,width:this.getTextWidth(l)}),t-=1}return o},n.getDateText=function(e){var t=function(e){return Number.isNaN(e)?"/":e},n=t(e.getFullYear()),i=t(e.getMonth()+1);switch(this.layout.dimension.getType()){case Pa.XB.WEEK:case Pa.XB.MONTH:case Pa.XB.QUARTER:return n+"年"+i+"月";case Pa.XB.YEAR:return n+"年"}},n.handleScroll=function(e){var t;if(this.offsetX!==this.layout.dimension.getOffsetX()){var n=this.offsetX<this.layout.dimension.getOffsetX();this.offsetX=this.layout.dimension.getOffsetX(),n?this.handleNext():this.handlePrev();for(var i=0;i<this.texts.length;i++){var o=this.texts[i];i!==this.stickIndex&&o.x(o.x()-e)}-1!==this.stickIndex?null===(t=this.texts[this.stickIndex])||void 0===t||t.x(this.stickRect.x):this.checkStickDefault()}},n.checkStickDefault=function(){var e=this;this.texts.some((function(t){var n=t.x(),i=n+t.width();if(n<e.stickRect.x&&i>e.stickRect.x)return!0}))||(this.stickIndex=1)},n.handleNext=function(){var e=this.stickRect.x,t=this.texts[2];if(t){var n=e+this.stickTextWidth;t.x()<=n&&t.x()>=e&&(this.stickIndex=-1),t.x()<e&&(this.stickIndex=2,this.updateChanges())}},n.handlePrev=function(){var e=this.stickRect.x,t=this.texts[0];if(t){var n=t.x();n+t.width()>=e&&n<=e&&(this.stickIndex=-1),n>=e&&(this.stickIndex=0,this.updateChanges())}},n.updateChanges=function(){if(this.units.length){if(0===this.stickIndex){var e=this.getPrevStart(this.units[0].time);this.removeIndex(this.units.length-1),this.units.unshift(e),this.texts.unshift(this.paintUnit(e))}if(2===this.stickIndex){var t=this.getNextStarts(this.units[this.units.length-1].time,1)[0];this.removeIndex(0),this.units.push(t),this.texts.push(this.paintUnit(t))}this.stickIndex=1,this.updateStickTextWidth()}},n.removeIndex=function(e){var t;this.units.splice(e,1),null===(t=this.texts.splice(e,1)[0])||void 0===t||t.destroy()},t}(il));wc.Name="TimelineHeadStick";var Tc=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),t.prototype.getOptions=function(){var e=this.canvas.view.getTimeline().layout;return{enableVertical:!1,enableHorizontal:!0,scrollEvent:"ganttScroll",getOffsetX:function(){return e.dimension.getOffsetX()},getOffsetY:function(){return 0},getStartX:function(){return e.size.activityStartX},getStartY:function(){return 0},getViewWidth:function(){return e.size.activityViewWidth},getScrollWidth:function(){return e.size.activityScrollWidth},getViewHeight:function(){return 0},getScrollHeight:function(){return 0},scrollLayoutToX:function(t){return e.scrollToX(t)},scrollLayoutToY:function(){}}},t}(Ss);Tc.Name="TimelineScroller";var Ec=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-range-time.js"),jc=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/is-day.js");function Ac(e,t){var n=e.x(),i=e.y(),o=e.width();return i+e.height()<t.y||i>t.y+t.height||n+o<t.x||n>t.x+t.width}var xc={fontSize:12,textMarginLeft:14,textInColor:ls.s0,textOutOpacity:.4,timeTextMaxWidth:300,groupTextMaxWidth:240,groupHeadTimeSize:6,selectedFillColor:Xi.UE,selectedBorderColor:ls.qK,selectedBorderWidth:4},Dc="layoutKey",Sc=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).bars=new Map,t.disposables=new nl.DisposableStore,t.updated=function(){t.paint()},t.onScroll=function(e){t.handleScroll(e.x,e.y)},t.handleViewPortLayout=function(e,n){if(!t.bars.has(n)){var i=t.getDataStartAndEndTime(e);if(i){var o=i[0],r=i[1],s=t.layout.dimension.getViewStartAndEndTime(),a=s[0],l=s[1],d=t.layout.dimension.getType();o>l&&!(0,jc.Vf)(o,l,d)||r<a&&!(0,jc.Vf)(r,a,d)||t.drawTimeBar(n)}}},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.board=Lo.u.board(),this.canvas.getLayer().add(this.board),this.disposables.add(this.emitter.global.ganttScroll.event(this.onScroll)),this.disposables.add(this.emitter.action.ganttRangeChange.event(this.updated)),this.paint()},n.destroy=function(){this.bars.clear(),this.board.destroy(),this.disposables.clear()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.getTimeBars=function(){return this.bars},n.getBoard=function(){return this.board},n.getTimeBar=function(e,t,n){t||(t=(0,ol.Z)(e,this.layout.dimension,this.collector)),n||(n=this.getDeltaDay(e));var i=this.collector.layout.getLayout(e);return t&&i?i.type===ns.yP.RECORD?this.drawRecordTimeBar(e,t,n):i.type===ns.yP.GROUP_HEAD?this.drawGroupHeadTimeBar(e,t,n):null:null},n.destroyTimeBar=function(e){var t;null===(t=this.bars.get(e))||void 0===t||t.destroy(),this.bars.delete(e)},n.redrawTimeBar=function(){var e=arguments.length<=0?void 0:arguments[0];return this.destroyTimeBar(e),this.drawTimeBar.apply(this,arguments)},n.paint=function(){this.bars.clear(),this.board.destroyChildren(),this.walkLayouts(this.handleViewPortLayout);var e=this.layout.area.getBodyClipRect();this.board.clipFunc((function(t){return t.rect(e.x,e.y,e.width,e.height)}))},n.handleScroll=function(e,t){for(var n=this.board.getChildren(),i=n.length-1;i>=0;){var o=n[i];o.x(o.x()-e),o.y(o.y()-t),Ac(o,this.layout.area.getBodyClipRect())&&this.destroyTimeBar(o.getAttr(Dc)),i-=1}this.walkLayouts(this.handleViewPortLayout)},n.getDataStartAndEndTime=function(e){var t=e.recordId,n=e.type;if(n===ns.yP.RECORD){if(this.collector.layout.isHiddenRecord(t))return;return this.layout.dimension.getStartAndEndTime(t)}if(n===ns.yP.GROUP_HEAD){var i=e.head.path;return(0,Ec.cW)(i,this.collector)}},n.getDeltaDay=function(e){var t=this.collector.layout.getLayout(e);if(!t)return 0;var n=this.getDataStartAndEndTime(t);if(!n)return 0;var i=n[0],o=n[1];return(0,Ec.Nj)(i,o)},n.getTitle=function(e){var t,n=this.collector.layout.getRecordIdByLayoutIndex(e),i=this.collector.getAllFieldIds()[0],o=this.collector.getCell(i,n);return(null===(t=null===o||void 0===o?void 0:o.data[0])||void 0===t?void 0:t.text)||"未命名记录"},n.drawTimeBar=function(){var e=arguments.length<=0?void 0:arguments[0],t=this.getTimeBar.apply(this,arguments);if(t)return this.board.moveToBottom(),this.board.add(t),this.bars.set(e,t),t},n.drawRecordTimeBar=function(e,t,n){var i=this.collector.layout.getRecordIdByLayoutIndex(e),o=this.collector.state.isSelectRecord(i),r={x:t.x,width:t.width,y:t.y+4+1,height:t.height-8},s=Lo.u.board(r);s.setAttr(Dc,e);var a={x:0,y:0,width:r.width,height:r.height},l={fill:o?xc.selectedFillColor:Wa,stroke:o?xc.selectedBorderColor:"transparent",strokeWidth:o?xc.selectedBorderWidth:0};Lo.u.shape.rect(s,Object.assign(Object.assign(Object.assign({},a),{cornerRadius:Xi.n_}),l));var d={x:xc.textMarginLeft,y:a.y,height:a.height},c=this.getTitle(e),u=Math.min(xc.timeTextMaxWidth,Lo.u.util.measureWidth(c,xc.fontSize));Lo.u.shape.text(s,Object.assign(Object.assign({},d),{width:xc.timeTextMaxWidth+1,text:c,fontSize:xc.fontSize,fill:xc.textInColor}));var h=" · "+n+"天",g=Lo.u.util.measureWidth(h,xc.fontSize);Lo.u.shape.text(s,Object.assign(Object.assign({},d),{x:d.x+u,text:h,fontSize:xc.fontSize,fill:ls.XM}));var f=u+g+xc.textMarginLeft,m=Math.max(t.width,f);return s.width(Math.round(m)),f>t.width&&Lo.u.shape.rect(s,{x:t.width,y:d.y+(d.height-xc.fontSize)/2,width:Math.round(f-t.width-g),height:xc.fontSize,fill:Xi.UE,opacity:xc.textOutOpacity}),s},n.drawGroupHeadTimeBar=function(e,t,n){var i,o=Object.assign({},t),r=Lo.u.board(o);r.setAttr(Dc,e);var s={x:0,y:t.height-16,width:o.width,height:xc.groupHeadTimeSize};Lo.u.shape.rect(r,Object.assign(Object.assign({},s),{fill:Wa}));var a=this.collector.layout.getLayout(e),l={x:xc.textMarginLeft,y:s.y-12,height:s.height},d=0;if(this.layout.dimension.isFullMode()||this.collector.isMobile()){var c=this.getGroupValueText(a.head.groupValue),u=Math.min(xc.groupTextMaxWidth,Lo.u.util.measureWidth(c,xc.fontSize));Lo.u.shape.text(r,Object.assign(Object.assign({},l),{width:xc.groupTextMaxWidth+1,text:c,fontSize:xc.fontSize,fill:ls.XM})),d=u}var h=(d?" · ":"")+" "+(null===(i=null===a||void 0===a?void 0:a.head)||void 0===i?void 0:i.count)+"项 · "+n+"天",g=Lo.u.util.measureWidth(h,xc.fontSize);Lo.u.shape.text(r,Object.assign(Object.assign({},l),{x:l.x+d,text:h,fontSize:xc.fontSize,fill:ls.XM}));var f=g+xc.textMarginLeft,m=Math.max(t.width,f);return r.width(Math.round(m)),r},n.getGroupValueText=function(e){var t=this;if(Array.isArray(e))return e.map((function(e){return t.getGroupValueText(e)})).join(",");var n=e.data;return n&&n.length?n.map((function(e){return e.text})).join(","):""},t}(il);Sc.Name="TimelineTimeBar";var Nc=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/fix-day-index.js"),Rc=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).scrollListener=new nl.DisposableStore,t.onScroll=function(e){t.handleScroll(e.x)},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.board=Lo.u.board(),this.canvas.getLayer().add(this.board),this.scrollListener.add(this.emitter.global.ganttScroll.event(this.onScroll)),this.paint()},n.destroy=function(){this.board.destroy(),this.scrollListener.clear()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){this.paint()},n.paint=function(){this.board.destroyChildren(),this.drawTodayMark();var e=this.layout.area.getBodyClipRect();this.board.clipFunc((function(t){return t.rect(e.x,e.y-6,e.width,e.height+6)}))},n.drawTodayMark=function(){var e=this.layout,t=e.dimension,n=e.size,i=t.getTimeSize(),o=t.getToday(),r=t.getTimeIndexByTime(o.getTime()),s={x:t.getTimeXByIndex(r)-t.getOffsetX()+(i-6)*this.getTodayXRate()+(t.getType()===Pa.XB.QUARTER?Math.round(i/7/2):0),y:n.activityStartY-6,width:6,height:6};Lo.u.shape.rect(this.board,Object.assign(Object.assign({},s),{fill:Xi.Ro,cornerRadius:6}));var a=n.globalHeight-n.globalPaddingBottom,l=a-(a<n.activityViewHeight?s.y:0);Lo.u.shape.line(this.board,{x:s.x+2.5+.5,y:s.y,points:[0,0,0,l],stroke:Xi.Ro,strokeWidth:1})},n.getTodayXRate=function(){var e=this.layout.dimension.getToday();switch(this.layout.dimension.getType()){case Pa.XB.WEEK:case Pa.XB.MONTH:return.5;case Pa.XB.QUARTER:return(0,Nc.Z)(e.getDay())/7;case Pa.XB.YEAR:var t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();return e.getDate()/t}},n.handleScroll=function(e){this.board.getChildren().forEach((function(t){return t.x(t.x()-e)}))},t}(il);Rc.Name="TimelineTodayLine";var Oc=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/get-days-month.js"),Lc=n("../node_modules/@tencent/xtable-render/es/views/gantt/utils/get-action-target/interface.js"),kc=function(){function e(e,t){var n=this;this.canvas=e,this.dimension=t,this.tooltipFeature=this.canvas.getFeature(vl.Name),this.actionTargetHandler=new Map,this.handleAddRecord=function(e,t){var i=n.collector.layout.getLayout(e.layoutIndex-1);n.canvas.context.getRenderer().emitter.service.addRecordClickEmitter.fire({recordId:null===i||void 0===i?void 0:i.recordId,cellValue:t.cellValue})},this.handleRecordFillTime=function(e,t){var i=n.collector.layout.getLayout(e.layoutIndex),o=null===i||void 0===i?void 0:i.recordId;o&&(n.emitter.service.expandRow.fire({recordId:o,isCheckUpdate:!0}),n.setRange(o),n.emitter.service.ganttRecordFillTime.fire({recordId:o,cellValue:t.cellValue}))},this.addRecordTootip=function(e){n.tooltipFeature.showStaticTip(e,R.Z.t("canvas_tip_add_record"))},this.emptyTimeBarTootip=function(e){n.tooltipFeature.showStaticTip(e,R.Z.t("set_time"))},this.actionTargetHandler.set(Lc.L.AddRecord,{click:this.handleAddRecord,tooltip:this.addRecordTootip}),this.actionTargetHandler.set(Lc.L.EmptyTimeBar,{click:this.handleRecordFillTime,tooltip:this.emptyTimeBarTootip})}var t=e.prototype;return t.click=function(e,t){var n,i=e.unit,o=this.collector.getGanttConfig();if(o){var r=o.startDateFieldId,s=o.endDateFieldId;if(r&&s){var a=t.getTime(i.timeIndex),l=0,d=t.getType();l=d===Pa.XB.YEAR?a+(0,Oc.Z)(a).days*Pa.s2:a+Pa.OV[d];var c=this.actionTargetHandler.get(e.type);null===c||void 0===c||c.click(i,{cellValue:(n={},n[r]=a,n[s]=l-Pa.s2,n)})}}},t.tooltip=function(e,t){var n,i=this.actionTargetHandler.get(e.type);null===(n=null===i||void 0===i?void 0:i.tooltip)||void 0===n||n.call(i,t)},t.setRange=function(e){var t=this.collector.getGanttConfig();if(t){var n=t.startDateFieldId,i=t.endDateFieldId,o=this.collector.getFieldIndex(n);-1===o&&(o=this.collector.getFieldIndex(i));var r=this.collector.getRecordIndex(e),s={startRow:r,endRow:r,startColumn:0,endColumn:this.collector.getAllFieldIds().length-1},a={row:r,column:-1===o?0:o};this.collector.getRangeModel().selectRange(s,a)}},(0,mi.Z)(e,[{key:"collector",get:function(){return this.canvas.collector}},{key:"emitter",get:function(){return this.canvas.context.getRenderer().emitter}}]),e}(),zc=n("../node_modules/@tencent/xtable-render/es/base/icon/alias.js"),Pc={stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:1,cornerRadius:4,dash:[4,3,0,0],paddingUD:4,paddingLR:4},Fc=function(){function e(e){var t=this;this.canvas=e,this.actionTargetHandler=new Map,this.isHover=!1,this.destroy=function(){var e,n;null===(e=t.rect)||void 0===e||e.destroy(),null===(n=t.board)||void 0===n||n.destroy()},this.hover=function(e){t.isHover=!0,t.show(e),t.canvas.view.setCursor(ko.WV.POINTER),t.listener=t.emitter.global.mousemove.event(t.onMousemove)},this.onMousemove=function(){t.isHover&&t.canvas.view.setCursor(ko.WV.POINTER)},this.handleAddRecord=function(e,n){var i=t.collector.layout.getLayout(e.layoutIndex-1);t.canvas.context.getRenderer().emitter.service.addRecordClickEmitter.fire({recordId:null===i||void 0===i?void 0:i.recordId,cellValue:n.cellValue})},this.handleRecordFillTime=function(e,n){var i=t.collector.layout.getLayout(e.layoutIndex),o=null===i||void 0===i?void 0:i.recordId;o&&t.canvas.context.getRenderer().emitter.service.ganttRecordFillTime.fire({recordId:o,cellValue:n.cellValue})},this.actionTargetHandler.set(Lc.L.AddRecord,this.handleAddRecord),this.actionTargetHandler.set(Lc.L.EmptyTimeBar,this.handleRecordFillTime)}var t=e.prototype;return t.cancelHover=function(){var e,t;this.isHover=!1,null===(e=this.board)||void 0===e||e.visible(!1),null===(t=this.listener)||void 0===t||t.dispose(),this.canvas.view.setCursor(ko.WV.DEFAULT)},t.reset=function(){this.destroy(),this.board=Lo.u.board({visible:!1}),this.rect=Lo.u.shape.rect(this.board,{stroke:Pc.stroke,strokeWidth:Pc.strokeWidth,cornerRadius:Pc.cornerRadius,dash:Pc.dash}),this.canvas.getLayer().add(this.board)},t.show=function(e){var t,n;this.reset();var i=this.addPadding(e);this.showIcon(i),this.rect.setAttrs(Object.assign(Object.assign({},i),{x:0,y:0})),null===(t=this.board)||void 0===t||t.setAttrs(i),null===(n=this.board)||void 0===n||n.visible(!0)},t.addPadding=function(e){var t=e.x,n=e.y,i=e.width,o=e.height;return{x:t+Pc.paddingLR,y:n+Pc.paddingUD,width:i-2*Pc.paddingLR,height:o-2*Pc.paddingUD}},t.showIcon=function(e){Lo.u.icon.draw(this.board,zc.Ye.BASE_ADD,{x:(e.width-Xi.UV)/2,y:(e.height-Xi.UV)/2,width:Xi.UV,height:Xi.UV})},(0,mi.Z)(e,[{key:"collector",get:function(){return this.canvas.collector}},{key:"emitter",get:function(){return this.canvas.context.getRenderer().emitter}},{key:"group",get:function(){return this.board}}]),e}();function Uc(e,t,n){var i=e.timeIndex,o=e.layoutIndex,r=e.layoutType,s=n.getTimeXByIndex(i)-n.getOffsetX(),a=t.getLayoutY(o),l=t.layout.getLayout(o);if(l&&t.layout.isHiddenLayout(l.parent))return null;var d=t.layout.getLayoutSize(r);return{x:s,y:a,width:n.getTimeSize(),height:d}}Fc.supportTargetType=new Set([Lc.L.AddRecord,Lc.L.EmptyTimeBar]);var Bc=n("../node_modules/@tencent/xtable-render/es/views/gantt/utils/get-action-target/index.js"),Wc=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).disposableStore=new nl.DisposableStore,t.actionTarget=null,t.onCanvasMouseMove=function(e){var n,i,o,r;if(!t.isPrevant(e)){var s=t.getActionTargetByEvent(e);if(t.isEventValid(e)&&s){var a=e.currentTarget.getRelativePointerPosition(),l=a.x,d=a.y,c=Uc(s.unit,t.collector,t.timeline.layout.dimension);t.fillTimeHandler.tooltip(s,{width:null!==(n=null===c||void 0===c?void 0:c.width)&&void 0!==n?n:0,height:null!==(i=null===c||void 0===c?void 0:c.height)&&void 0!==i?i:0,x:null!==(o=null===c||void 0===c?void 0:c.x)&&void 0!==o?o:l,y:null!==(r=null===c||void 0===c?void 0:c.y)&&void 0!==r?r:d-t.collector.size.globalPaddingTop}),N()(t.actionTarget,s)||(t.reset(),t.doActionTargetHover(s))}else t.reset()}},t.onCanvasMouseUp=function(e){if(0===e.evt.button&&(t.reset(),t.isEventValid(e))){var n=t.getActionTargetByEvent(e);n&&t.fillTimeHandler.click(n,t.timeline.layout.dimension)}},t.onCanvasScroll=function(){t.reset()},t.onDocumentMousemove=function(e){t.isContainsInStage(e.target)||t.reset()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.shape=new Fc(this.canvas),this.fillTimeHandler=new kc(this.canvas,this.timeline.layout.dimension),this.mousemoveDisposable=this.emitter.global.mousemove.event(this.onCanvasMouseMove)},n.destroy=function(){this.shape.destroy(),this.mousemoveDisposable.dispose()},n.addActivedEvents=function(){this.disposableStore.add(this.emitter.global.ganttScroll.event(this.onCanvasScroll)),this.disposableStore.add(this.emitter.global.mouseup.event(this.onCanvasMouseUp)),document.addEventListener("mousemove",this.onDocumentMousemove)},n.removeActivedEvents=function(){this.disposableStore.clear(),document.removeEventListener("mousemove",this.onDocumentMousemove)},n.updated=function(){},n.clipBoard=function(e,t){var n=this.timeline.layout.size,i=n.activityStartX,o=n.activityStartY,r=n.activityViewWidth,s=Math.max(0,i-t.x),a=Math.max(0,t.x+t.width-i-r+2),l=Math.max(0,o-t.y);e.clipFunc((function(e){return e.rect(s,l,t.width-s-a,t.height-l)}))},n.reset=function(){this.actionTarget&&Fc.supportTargetType.has(this.actionTarget.type)&&this.shape.cancelHover(),this.actionTarget=null,this.toDeactivated()},n.doActionTargetHover=function(e){if(this.actionTarget=e,Fc.supportTargetType.has(e.type)){var t=Uc(e.unit,this.collector,this.timeline.layout.dimension);if(t){var n=this.canvas.getFeature("TimelineTimeStick");if(!(e.type===Lc.L.EmptyTimeBar&&t.x<(null===n||void 0===n?void 0:n.getLeftStickEndX())&&(null===n||void 0===n?void 0:n.isInvalidType(e.unit.layoutIndex)))){this.shape.hover(t);var i=this.shape.group;i&&this.clipBoard(i,t),this.toActived()}}}},n.isEventValid=function(e){var t=e.currentTarget.getRelativePointerPosition(),n=t.x,i=t.y,o=this.timeline.layout.size;return!(!(0,Bc.$q)(n,o)||!(0,Bc.Mr)(i,o))},n.getActionTargetByEvent=function(e){var t=e.currentTarget.getRelativePointerPosition(),n=t.x,i=t.y;return(0,Bc.xy)(n,i,this.collector,this.timeline.layout)},n.isPrevant=function(e){var t=e.currentTarget.getRelativePointerPosition(),n=t.x,i=t.y,o=this.canvas.getFeature("WidthResize"),r=this.canvas.getFeature("FieldMove"),s=this.canvas.getFeature("Selector"),a=this.canvas.getFeature("Scroller"),l=this.canvas.getFeature("RecordMove"),d=this.canvas.getFeature("SmartFill"),c=this.canvas.getFeature("TimelineTimeBarAction");return(null===o||void 0===o?void 0:o.isHover)||(null===r||void 0===r?void 0:r.isMoving())||(null===s||void 0===s?void 0:s.isSelectMoving())||(null===a||void 0===a?void 0:a.isLocated(n,i))||(null===l||void 0===l?void 0:l.isMoving())||(null===d||void 0===d?void 0:d.isHovering())||(null===c||void 0===c?void 0:c.isOperating)},t}(il);function Gc(e,t){var n;return null!==(n=e.getFeature("TimelineTimeBar").getTimeBars().get(t))&&void 0!==n?n:null}function Zc(e,t){var n,i=t.dimension,o=(e-t.size.activityStartX+i.getOffsetX())/i.getTimeSize(),r=i.getType(),s=Math.floor(o),a=o-s,l=i.getTime(s);if(r===Pa.XB.YEAR){var d=new Date(l),c=new Date(d.getFullYear(),d.getMonth()+1,0),u=d.setDate(0);n=c.getTime()-u}else n=Pa.OV[r];var h=n/Pa.s2;return l+Math.round(a/(1/h))*Pa.s2}function Hc(e,t){var n=Zc(e.x,t),i=Zc(e.x+e.width,t);return i<n?null:Math.floor((i-n)/Pa.s2)}function Yc(e,t){var n=function(e,t){return Math.floor((t-e)/Pa.s2)+1}(e,t);return Qc(e)+" - "+Qc(t)+R.Z.t(",")+" "+R.Z.t("day_count",{day:n})}function Vc(e,t){var n=Zc(e.x,t),i=Zc(e.x+e.width,t);return t.dimension.getType()!==Pa.XB.YEAR&&(i-=Pa.s2),[n,i]}function Qc(e){var t=new Date(e),n=function(e){return e.toString().padStart(2,"0")},i=t.getFullYear(),o=t.getMonth()+1,r=t.getDate();return i+"/"+n(o)+"/"+n(r)}Wc.Name="TimelineFillTime",n("../node_modules/core-js/modules/es.string.pad-start.js");var Kc=function(){function e(e,t,n,i,o){void 0===o&&(o=e.getFeature(vl.Name)),this.canvas=e,this.timeline=t,this.collector=n,this.emitter=i,this.tooltipFeature=o}var t=e.prototype;return t.changeDimention=function(e){var t=null,n=this.collector.isMobile()?Ka:Qa;switch(e){case Za:this.timeline.layout.dimension.toToday();break;case Ya:this.timeline.layout.dimension.toPrevRange();break;case Va:this.timeline.layout.dimension.toNextRange();break;default:for(var i=0,o=Object.keys(n);i<o.length;i++){var r=o[i];if(n[r]===e){t=r;break}}t&&(this.timeline.layout.dimension.setType(t),this.collector.setViewStorage(Pa.g3,t))}this.canvas.view.renderForce()},t.scollToTimeLocate=function(e){if(e){var t=e.layoutIndex,n=e.toStart,i=e.stickType,o=this.collector.layout.getRecordIdByLayoutIndex(t);if(o&&i!==ka.ILLEGAL){var r=this.timeline.layout.dimension,s=0,a=r.getStartAndEndTime(o),l=a[0],d=a[1];s=n?r.getTimeIndexByTime(l)-1:r.getTimeIndexByTime(d)-r.getRenderCount()+5,r.toIndex(s),this.canvas.view.renderForce()}}},t.expandToFull=function(){var e=0;this.timeline.layout.dimension.isFullMode()&&(e=this.collector.size.defaultOuterWidth),this.collector.state.clearSearchHighlight(),this.collector.getRangeModel().resetSelection(),this.emitter.service.hideSearchPanel.fire(),this.collector.size.updateOuterWidth(e),this.collector.setViewStorage(os.ol,e),this.timeline.layout.dimension.toToday(),this.canvas.view.renderForce()},t.expandRow=function(e){var t=this.collector.layout.getRecordIdByLayoutIndex(e.unit.layoutIndex);this.emitter.service.expandRow.fire({recordId:t})},t.openGanttSetting=function(){this.emitter.service.expandGanttSetting.fire()},t.showTimeBarTooltip=function(e,t){var n=this.collector.layout.getRecordIdByLayoutIndex(t),i=this.timeline.layout.dimension.getStartAndEndTime(n),o=i[0],r=i[1],s=(0,ol.Z)(t,this.timeline.layout.dimension,this.collector);if(s){var a=Yc(o,r);this.tooltipFeature.showStaticTip({x:e.x,y:s.y,height:s.height,width:1},a)}},t.hideTooltip=function(){},e}(),Xc={fontSize:12,fill:ls.XM},Jc=function(){function e(e,t){this.canvas=e,this.timeline=t,this.actionTarget=null,this.board=Lo.u.board(),this.stickTextShape=Lo.u.shape.text(null,Xc),this.board.add(this.stickTextShape),this.canvas.getLayer().add(this.board),this.action=new Qs(this.canvas)}var t=e.prototype;return t.destroy=function(){this.board.destroy(),this.stickTextShape.destroy()},t.doActionHover=function(e,t){var n;this.action.show(e,t),this.canvas.view.setCursor(null!==(n=t.hoverCursor)&&void 0!==n?n:""),t.type===ko.KW.GANTT_SCROLLTO_TIME?this.doStickTextHover(t.value,e):this.cancelStickTextHover()},t.cancelActionHover=function(){this.action.clear(),this.cancelStickTextHover()},t.doHover=function(e){if(!N()(e,this.actionTarget))switch(this.actionTarget=e,e.type){case Lc.L.AddRecord:this.doRecordAddHover(e);break;case Lc.L.EmptyTimeBar:case Lc.L.TimeBar:case Lc.L.TimeBarOutside:this.doTimeRecordHover(e);break;default:this.hideHover()}},t.hideHover=function(){this.actionTarget=null,this.cancelRecordAddHover(),this.cancelTimeRecordHover(),this.cancelActionHover()},t.doRecordAddHover=function(e){var t=this.canvas.getFeature("Interactive"),n=e.unit;t.hover.showAddRecord({layoutType:n.layoutType,layoutIndex:n.layoutIndex,fieldId:n.timeIndex.toString()}),this.cancelTimeRecordHover()},t.doTimeRecordHover=function(e){var t=this.canvas.getFeature("RecordHover"),n=this.collector.layout.getRecordIdByLayoutIndex(e.unit.layoutIndex);null===t||void 0===t||t.setRecordHover(n),this.cancelRecordAddHover()},t.cancelRecordAddHover=function(){this.canvas.getFeature("Interactive").hover.hide()},t.cancelTimeRecordHover=function(){var e=this.canvas.getFeature("RecordHover");null===e||void 0===e||e.hideHover()},t.doStickTextHover=function(e,t){var n,i=e.stickType,o=e.layoutIndex,r=e.toStart;if(i!==ka.ILLEGAL){var s=null===(n=this.canvas.getFeature("TimelineTimeBar"))||void 0===n?void 0:n.getTimeBars();if(!(null===s||void 0===s?void 0:s.get(o))){var a=this.collector.layout.getRecordIdByLayoutIndex(o),l=this.timeline.layout.dimension.getStartAndEndTime(a),d=l[0],c=l[1],u=new Date(d).toLocaleDateString()+" - "+new Date(c).toLocaleDateString()+"，共"+(0,Ec.Nj)(d,c)+"天",h=t.x+t.width+8;if(!r){var g=Lo.u.util.measureWidth(u,Xc.fontSize);h=t.x-8-g}this.stickTextShape.setAttrs(Object.assign(Object.assign({},t),{width:void 0,x:h,text:u})),this.stickTextShape.visible(!0)}}},t.cancelStickTextHover=function(){this.stickTextShape.visible(!1)},(0,mi.Z)(e,[{key:"collector",get:function(){return this.canvas.collector}}]),e}(),qc=[ko.KW.GANTT_EXPAND_FULL,ko.KW.GANTT_OPEN_SETTING],$c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).onScroll=function(){t.hover.hideHover(),t.hover.cancelActionHover()},t.onCanvasMouseUp=function(e){var n=e.target.getAttr(ko.k4),i=e.currentTarget.getRelativePointerPosition(),o=i.x,r=i.y;if(0===e.evt.button&&!t.isPrevant(o,r)&&(t.isHitInGantt(e.evt.offsetX)||!(null===n||void 0===n?void 0:n.type)||qc.includes(n.type)))if(n)t.doAssignActionForClick(n);else{var s=(0,Bc.xy)(o,r,t.collector,t.timeline.layout);s&&t.doActionTargetForClick(s)}},t.onCanvasMouseMove=function(e){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y;if(t.isHitInGantt(i)&&!t.isPrevant(i,o)){var r=e.target.getAttr(ko.k4);if(r)t.doAssignActionForHover(r,hr(e.target));else{t.hover.cancelActionHover();var s=(0,Bc.xy)(i,o,t.collector,t.timeline.layout);if(s)return t.hover.doHover(s),t.handleActionTargetTooltip(s,{x:i,y:o}),void t.handleActionTargetCursor(s.type);t.hover.hideHover(),t.canvas.view.setCursor(ko.WV.DEFAULT)}}},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.action=new Kc(this.canvas,this.timeline,this.collector,this.emitter),this.hover=new Jc(this.canvas,this.timeline),this.scrollDisposable=this.emitter.global.ganttScroll.event(this.onScroll),this.mouseDownDisposable=this.emitter.global.mouseup.event(this.onCanvasMouseUp),this.mouseMoveDisposable=this.emitter.global.mousemove.event(this.onCanvasMouseMove)},n.destroy=function(){this.hover.destroy(),this.scrollDisposable.dispose(),this.mouseDownDisposable.dispose(),this.mouseMoveDisposable.dispose()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.handleActionTargetCursor=function(e){e===Lc.L.TimeBarOutside&&this.canvas.view.setCursor(ko.WV.DEFAULT)},n.handleActionTargetTooltip=function(e,t){e.type===Lc.L.TimeBar&&this.action.showTimeBarTooltip(t,e.unit.layoutIndex)},n.doAssignActionForClick=function(e){var t;switch(e.type){case ko.KW.GANTT_DIMENTION_CHANGE:this.action.changeDimention(e.value);break;case ko.KW.GANTT_SCROLLTO_TIME:this.action.scollToTimeLocate(e.value);break;case ko.KW.GANTT_EXPAND_FULL:this.action.expandToFull();break;case ko.KW.GANTT_OPEN_SETTING:this.action.openGanttSetting()}this.hover.cancelActionHover(),null===(t=this.canvas.getFeature("Interactive"))||void 0===t||t.getHover().hide()},n.doAssignActionForHover=function(e,t){e.hoverRect||e.hoverIcon?this.hover.doActionHover(t,e):this.hover.cancelActionHover()},n.isPrevant=function(e,t){var n=this.canvas.getFeature("WidthResize"),i=this.canvas.getFeature("FieldMove"),o=this.canvas.getFeature("Selector"),r=this.canvas.getFeature("Scroller"),s=this.canvas.getFeature("RecordMove"),a=this.canvas.getFeature("SmartFill"),l=this.canvas.getFeature("TimelineTimeBarAction");return(null===n||void 0===n?void 0:n.isHover)||(null===i||void 0===i?void 0:i.isMoving())||(null===o||void 0===o?void 0:o.isSelectMoving())||(null===r||void 0===r?void 0:r.isLocated(e,t))||(null===s||void 0===s?void 0:s.isMoving())||(null===a||void 0===a?void 0:a.isHovering())||(null===l||void 0===l?void 0:l.isOperating)},n.doActionTargetForClick=function(e){e.type===Lc.L.TimeBar&&this.action.expandRow(e)},t}(il);$c.Name="TimelineInteractive";var eu=n("../node_modules/@babel/runtime/helpers/esm/construct.js"),tu=function(){function e(e,t,n,i){var o=this;void 0===i&&(i=e.getFeature("TimelineTimeBar")),this.canvas=e,this.timeUnit=t,this.operatorHelper=n,this.timelineTimeBar=i,this.disposableStore=new nl.DisposableStore,this.autoScrollDistance=80,this.handleMouseDown=function(e){o.checkHit(e)&&(o.addEvents(),o.onCanvasMouseDown(e))},this.handleMouseUp=function(e){o.removeEvents(),o.onCanvasMouseUp(e)},this.handleDocumentMouseUp=function(){o.removeEvents(),o.onDocumentMouseUp()},this.mousedownDisposable=this.emitter.global.mousedown.event(this.handleMouseDown)}var t=e.prototype;return t.dispose=function(){this.mousedownDisposable.dispose(),this.disposableStore.clear()},t.autoScrollX=function(e){var t=this.timeline.layout,n=t.size,i=n.activityStartX,o=n.activityViewWidth,r=t.dimension.getOffsetX();e<i+this.autoScrollDistance?this.timeline.layout.scrollToX(r-er.w1):e>i+o-this.timeline.layout.size.globalPaddingRight-this.autoScrollDistance&&this.timeline.layout.scrollToX(r+er.w1)},t.autoScrollY=function(e){var t=this.timeline.layout.size,n=t.activityStartY,i=t.activityViewHeight,o=t.globalHeight,r=this.canvas.view.getScrollOffset().y;e<n+this.autoScrollDistance?this.canvas.view.scrollToY(r-er.w1):e>Math.min(n+i-this.autoScrollDistance,o)&&this.canvas.view.scrollToY(r+er.w1)},t.removeEvents=function(){this.disposableStore.clear(),document.removeEventListener("mouseup",this.handleDocumentMouseUp)},t.addEvents=function(){this.disposableStore.add(this.emitter.global.mouseup.event(this.handleMouseUp)),this.disposableStore.add(this.emitter.global.mousemove.event(this.onCanvasMouseMove)),this.disposableStore.add(this.emitter.global.ganttScroll.event(this.onGanttScroll.bind(this))),document.addEventListener("mouseup",this.handleDocumentMouseUp)},(0,mi.Z)(e,[{key:"collector",get:function(){return this.canvas.collector}},{key:"timeline",get:function(){return this.canvas.view.getTimeline()}},{key:"emitter",get:function(){return this.canvas.context.getRenderer().emitter}},{key:"layoutIndex",get:function(){return this.timeUnit.layoutIndex}},{key:"recordId",get:function(){return this.collector.layout.getRecordIdByLayoutIndex(this.timeUnit.layoutIndex)}},{key:"timeBar",get:function(){return Gc(this.canvas,this.layoutIndex)}},{key:"timeBarRect",get:function(){return this.operatorHelper.getTimeBarRect(this.layoutIndex)}}]),e}();(0,i.__decorate)([(0,zn.P)(50),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],tu.prototype,"autoScrollX",null),(0,i.__decorate)([(0,zn.P)(50),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],tu.prototype,"autoScrollY",null);var nu,iu={width:9,marginUD:4,lineWidth:1,backgroundColor:"rgba(0, 0, 0, 0.08)",linPaddingLR:3,linePaddingUd:7,stroke:"rgba(0, 0, 0, 0.5)",radius:4},ou=function(){function e(){}var t=e.prototype;return t.show=function(e,t,n){var i=this.getResizeShapesRects(t,n);if(i){var o=iu.radius;this.drawShape(e,i.left,[o,0,0,o]),this.drawShape(e,i.right,[0,o,o,0])}},t.drawShape=function(e,t,n){this.showMask(e,t,n),this.showLines(e,t)},t.showLines=function(e,t){var n=iu,i=t.height-2*n.linePaddingUd,o=t.x+n.linPaddingLR,r=t.y+n.linePaddingUd;this.showLine(e,[o,r,o,r+i]),o=t.x+t.width-n.linPaddingLR,this.showLine(e,[o,r,o,r+i])},t.showLine=function(e,t){var n=iu;Lo.u.shape.line(e,{strokeWidth:n.lineWidth,stroke:n.stroke,points:t}).moveToTop()},t.showMask=function(e,t,n){Lo.u.shape.rect(e,{visible:!0,fill:iu.backgroundColor,cornerRadius:n,x:t.x,y:t.y,width:t.width,height:t.height})},t.getResizeShapesRects=function(e,t){var n={x:0,y:0,width:iu.width,height:t-2*iu.marginUD};return{left:n,right:Object.assign(Object.assign({},n),{x:n.x+e.width-iu.width})}},e}();!function(e){e.LEFT="LEFT",e.RIGHT="RIGHT",e.EMPTY="EMPTY"}(nu||(nu={}));var ru=function(e){function t(){var n;return(n=e.apply(this,arguments)||this).isOperating=!1,n.resizeType=nu.EMPTY,n.checkHit=function(e){var i=e.currentTarget.getRelativePointerPosition().x,o=(0,Jn.Z)(n).timeBarRect;return!!o&&t.isHitInResizeShape(i,o)},n.hover=function(){n.canvas.view.setCursor(ko.WV.EW_RESIZE)},n.onCanvasMouseMove=function(e){n.eventOffset=e.currentTarget.getRelativePointerPosition(),n.handleResize()},n.onCanvasMouseDown=function(e){var i=(0,Jn.Z)(n).timeBarRect;if(i){var o=e.currentTarget.getRelativePointerPosition().x;n.collector.getRangeModel().resetSelection(),n.isOperating=!0,t.isHitLeftShape(o,i)?n.resizeType=nu.LEFT:t.isHitRigthShape(o,i)&&(n.resizeType=nu.RIGHT)}},n.onCanvasMouseUp=function(){n.done()},n.onDocumentMouseUp=function(){n.done()},n}(0,u.Z)(t,e),t.isHitInResizeShape=function(e,n){return t.isHitLeftShape(e,n)||t.isHitRigthShape(e,n)},t.isHitLeftShape=function(e,t){var n=t.x;return e<=n+iu.width&&e>=n},t.isHitRigthShape=function(e,t){var n=t.x,i=t.width;return e<=n+i&&e>=n+i-iu.width};var n=t.prototype;return n.onGanttScroll=function(){this.handleResize()},n.getResizeRect=function(e,t){var n=this.originTimeBarRect;if(!n)return null;var i=n,o=n.x,r=n.width;if(t===nu.LEFT){var s=o+r;return i.width=Math.max(0,s-e),i.x=Math.min(e,s),i}return t===nu.RIGHT?(i.width=Math.max(0,e-o),i):null},n.handleResize=function(){var e=this.resizeType;if(e!==nu.EMPTY&&this.eventOffset){var t=this.fixEventOffsetX(this.eventOffset.x),n=this.getResizeRect(t,e);if(n){var i=Hc(n,this.timeline.layout);if(i&&!(i<1)){this.resizeRect=n,this.operatorHelper.onTimeBarRectChange(this.layoutIndex,n),this.operatorHelper.showTimeBarTooltip(this.eventOffset,this.layoutIndex);var o=this.resizeType===nu.LEFT?20:-20;this.autoScrollX(t-o)}}}},n.setTime=function(){var e=this.resizeType,t=this.resizeRect;if(t&&e!==nu.EMPTY){var n=Vc(t,this.timeline.layout),i=n[0],o=n[1];this.operatorHelper.done(this.recordId,{startTime:i,endTime:o})}},n.fixEventOffsetX=function(e){var t=(0,ol.Z)(this.layoutIndex,this.timeline.layout.dimension,this.collector),n=this.resizeType;return n!==nu.EMPTY&&t?n===nu.LEFT?Math.min(t.x+t.width,e):Math.max(t.x,e):e},n.done=function(){this.setTime(),this.resizeType=nu.EMPTY,this.eventOffset=null,this.isOperating=!1,this.operatorHelper.hideTimeBarTooltip()},(0,mi.Z)(t,[{key:"originTimeBarRect",get:function(){var e;return null!==(e=(0,ol.Z)(this.layoutIndex,this.timeline.layout.dimension,this.collector))&&void 0!==e?e:null}}]),t}(tu),su=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).isOperating=!1,t.dragEventOffset=null,t.dragTimeBarRect=null,t.dragCenterOffset=null,t.deltaDay=null,t.dragBuffer=6,t.originTimeBar=null,t.checkHit=function(e){var n=e.currentTarget.getRelativePointerPosition().x,i=(0,Jn.Z)(t).timeBarRect;return!!i&&t.operatorHelper.isHitInTimeBar(e)&&!ru.isHitInResizeShape(n,i)},t.hover=function(){t.canvas.view.setCursor(ko.WV.ALL_SCROLL)},t.onCanvasMouseMove=function(e){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y;if(t.operatorHelper.showTimeBarTooltip({x:i,y:o},t.layoutIndex),t.dragEventOffset&&t.isHitInGanttActivity({x:i,y:o}))if(t.isOperating)t.handleDrag({x:i,y:o});else{var r=i-t.dragEventOffset.x,s=o-t.dragEventOffset.y;t.isOperating=Math.abs(r)>t.dragBuffer||Math.abs(s)>t.dragBuffer,t.isOperating?t.startDrag({x:i,y:o}):t.hover()}},t.onCanvasMouseDown=function(e){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y;t.isHitInGanttActivity({x:i,y:o})&&(t.dragEventOffset=e.currentTarget.getRelativePointerPosition())},t.onCanvasMouseUp=function(){t.done()},t.onDocumentMouseUp=function(){t.done()},t.recordMove=t.canvas.getFeature(Ea.Name),t}(0,u.Z)(t,e);var n=t.prototype;return n.onGanttScroll=function(){this.dragEventOffset&&(this.operatorHelper.showTimeBarTooltip(this.dragEventOffset,this.layoutIndex),this.handleDrag())},n.startDrag=function(e){var t=this.timeBarRect;if(t){var n=this.canvas.context.getCurrentView();if((null===n||void 0===n?void 0:n.isAutoSort())&&(null===n||void 0===n?void 0:n.getSortInfos().length))return qo.default.show({message:R.Z.t("cannot_dragger"),closable:!0,duration:1500,id:"record-move"}),this.resetDrag(),void this.removeEvents();this.isOperating=!0,this.dragTimeBarRect=t,this.dragEventOffset=e;var i=t.x+t.width/2,o=t.y+t.height/2;this.dragCenterOffset={x:e.x-i,y:e.y-o};var r=this.timeline.layout.dimension.getStartAndEndTime(this.recordId),s=r[0],a=r[1];this.deltaDay=(0,Ec.Nj)(s,a),this.canvas.view.setCursor(ko.WV.GRABBING),this.originTimeBar=this.timelineTimeBar.getTimeBar(this.layoutIndex),this.originTimeBar&&(this.originTimeBar.opacity(.6),this.timelineTimeBar.getBoard().add(this.originTimeBar))}},n.resetDrag=function(){var e;this.recordMove.hideLine(),this.dragEventOffset=null,this.dragTimeBarRect=null,this.dragCenterOffset=null,this.deltaDay=null,this.isOperating=!1,null===(e=this.originTimeBar)||void 0===e||e.destroy(),this.originTimeBar=null},n.handleDrag=function(e){if(void 0===e&&(e=this.dragEventOffset),this.isOperating){var t=this.timeBarRect,n=this.dragTimeBarRect,i=this.dragCenterOffset;if(t&&e&&n&&i){this.dragTimeBarRect=this.calculateRect(n,{x:e.x-i.x,y:e.y-i.y}),this.dragEventOffset=e,this.autoScrollX(e.x),this.autoScrollY(e.y),this.operatorHelper.onTimeBarRectChange(this.layoutIndex,this.dragTimeBarRect,this.deltaDay);var o=(0,js.V3)(e.y,this.collector);this.showLine(o)}}},n.showLine=function(e){if(this.dragEventOffset&&this.dragTimeBarRect){var t=this.collector.layout.getLayout(e);if((null===t||void 0===t?void 0:t.type)&&[ns.yP.RECORD].includes(t.type)){var n=this.recordMove.getRectByLayoutIndex(e);if(n){var i=e;this.dragEventOffset.y<n.y+n.height/2&&(i-=1),this.recordMove.showLine(i)}}else this.recordMove.hideLine()}},n.calculateRect=function(e,t){return Object.assign(Object.assign({},e),{x:t.x-e.width/2,y:t.y-e.height/2})},n.isHitInGanttActivity=function(e){var t=e.x,n=e.y;return(0,Bc.Mr)(n,this.timeline.layout.size)&&(0,Bc.$q)(t,this.timeline.layout.size)},n.done=function(){var e=this.recordMove.getSelectRecordIds(),t=this.recordId,n=this.applyDrag();this.resetDrag(),this.operatorHelper.hideTimeBarTooltip(),n?this.recordMove.refreshView(e,t):this.restoreTimeBar()},n.applyDrag=function(){var e,t=this.dragTimeBarRect,n=this.deltaDay,i=this.dragEventOffset;if(!t||!n||!i)return!1;var o,r=(0,js.V3)(i.y,this.collector),s=this.collector.layout.getLayout(r);if(!s)return!1;s.type===ns.yP.GROUP_HEAD?(r+=1,o=s.head.path):o=this.collector.layout.getUnitGroupPath({parentLayoutIndex:s.parent});var a=this.collector.layout.getRecordIdByLayoutIndex(r);if(!a)return!1;var l=Vc(t,this.timeline.layout),d=l[0],c=l[1],u=this.canvas.context.getCurrentView(),h=((e={})[this.recordId]={source:u.getRecordIndexFromAllRecordIds(this.recordId),target:u.getRecordIndexFromAllRecordIds(a)},e);return this.operatorHelper.done(this.recordId,{startTime:d,endTime:c,layoutIndex:r,deltaDay:n,moveDelta:{groupPath:o,recordMoveMap:h}}),!0},n.restoreTimeBar=function(){this.timelineTimeBar.redrawTimeBar(this.layoutIndex)},t}(tu),au=function(){function e(e,t){this.offsetY=e,this.board=t,this.init()}var t=e.prototype;return t.destroy=function(){this.line.destroy()},t.show=function(){this.reset(),this.setPoints.apply(this,arguments),this.line.visible()||(this.line.moveToTop(),this.line.show(),this.board.add(this.line))},t.hide=function(){this.line.visible()&&this.line.hide()},t.setPoints=function(e,t){var n=this.offsetY;this.line.points([e,n,t,n])},t.init=function(){this.line=Lo.u.shape.line(this.board,{visible:!1,strokeWidth:1,stroke:Xi.Ro})},t.reset=function(){var e;null===(e=this.line)||void 0===e||e.destroy(),this.init()},e}(),lu=n("../node_modules/@tencent/xtable-render/es/views/gantt/time-line/layout/utils/to-int.js"),du=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).resizeShape=new ou,t.headLineShape=new au(t.collector.size.activityStartY,t.timeline.layout.area.fieldContent),t.timeUnit=null,t.disposableStore=new nl.DisposableStore,t.operators=new Set,t.timelineTimeBar=t.canvas.getFeature(Sc.Name),t.tooltipFeature=t.canvas.getFeature(vl.Name),t.onCanvasMouseMove=function(e){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y;if(!t.isNeedPrevent()&&t.isHitInGantt(e.evt.offsetX)){var r=(0,Bc.jU)(i,o,t.collector,t.timeline.layout),s=e.target.getAttr(ko.k4);t.isHitInTimeBar(e)&&r&&!s?(t.toHover(r),t.checkOperatorsHover(e)):t.reset()}else t.reset()},t.onCanvasMouseDown=function(){var e,n;t.toDeactivated(),null===(e=t.mouseupDisposable)||void 0===e||e.dispose(),t.mouseupDisposable=t.emitter.global.mouseup.event(t.onCanvasMouseUp),document.addEventListener("mouseup",t.onCanvasMouseUp),null===(n=t.scrollDisposable)||void 0===n||n.dispose()},t.onCanvasMouseUp=function(){t.toActived(),t.reset(),t.mouseupDisposable.dispose(),document.removeEventListener("mouseup",t.onCanvasMouseUp)},t.onCanvasScroll=function(){t.reset()},t.onTimeBarRectChange=function(e,n,i){void 0===i&&(i=Hc(n,t.timeline.layout));var o=Gc(t.canvas,e);if(o&&i){t.timeBarRect=n,t.timelineTimeBar.redrawTimeBar(e,n,i),t.resizeShape.show(o,n,t.collector.getRecordHeight()),t.headLineShape.show(n.x,n.x+n.width);var r=t.timelineTimeBar.redrawTimeBar(e,n,i);r&&t.resizeShape.show(r,n,t.collector.getRecordHeight())}},t.getTimeBarRect=function(e){var n;if(e===(null===(n=t.timeUnit)||void 0===n?void 0:n.layoutIndex)&&t.timeBarRect)return t.timeBarRect;var i=t.collector.layout.getRecordIdByLayoutIndex(e);if(!i)return null;var o=(0,ol.Z)(i,t.layout.dimension,t.collector);return o?(o.width=Math.max(44,o.width),o):null},t.isHitInTimeBar=function(e){var n=e.currentTarget.getRelativePointerPosition(),i=n.x,o=n.y,r=(0,Bc.Ct)(o,t.collector,t.timeline.layout.size);if(!r)return!1;var s=t.collector.layout.getLayoutIndexByRecordId(r),a=t.getTimeBarRect(s);return!!a&&!(i<t.layout.size.activityStartX)&&i>=a.x&&i<=a.x+a.width&&o>=a.y&&o<=a.y+a.height},t.done=function(e,n){var i,o=t.collector.getGanttConfig();if(o){var r=o.startDateFieldId,s=o.endDateFieldId;if(r&&s){var a,l=t.collector.layout.getLayoutIndexByRecordId(e),d=[e,n,{startDateFieldId:r,endDateFieldId:s}];void 0===n.layoutIndex||n.layoutIndex===l?(i=t).doSetRecord.apply(i,d):(a=t).doMoveRecord.apply(a,d)}}},t.doMoveRecord=function(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=i[0],s=i[1];if(s.moveDelta){var a,l,d=(e=t).getSetRecordDelta.apply(e,i);d&&((l={})[r]=d,a=l);var c=t.collector.getTableId(),u=t.collector.getViewId(),h=t.canvas.view.getContext().getBehaviorApi();h.moveRecord({tableId:c,viewId:u,delta:Object.assign(Object.assign({},s.moveDelta),{records:a})})}},t.doSetRecord=function(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=i[0],s=(e=t).getSetRecordDelta.apply(e,i);if(s){var a=t.collector.getTableId(),l=t.collector.getViewId(),d=t.canvas.view.getContext().getBehaviorApi();d.setRecord({tableId:a,viewId:l,recordId:r,delta:s})}else t.timelineTimeBar.updated()},t.showTimeBarTooltip=function(e,n){var i=t.getTimeBarRect(n);if(i){var o=Vc(i,t.timeline.layout),r=Yc(o[0],o[1]);t.tooltipFeature.showTip({x:e.x,y:i.y,height:i.height,width:1},r,{config:{update:!0},props:{trigger:"click"}})}},t.hideTimeBarTooltip=function(){t.tooltipFeature.hide()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.toActived()},n.destroy=function(){var e,t;this.disposableStore.clear(),null===(e=this.mouseupDisposable)||void 0===e||e.dispose(),null===(t=this.scrollDisposable)||void 0===t||t.dispose(),this.unbindOperators(),this.headLineShape.destroy()},n.addActivedEvents=function(){this.disposableStore.add(this.emitter.global.mousedown.event(this.onCanvasMouseDown)),this.disposableStore.add(this.emitter.global.mousemove.event(this.onCanvasMouseMove))},n.removeActivedEvents=function(){this.disposableStore.clear()},n.updated=function(){},n.bindOperators=function(e){this.unbindOperators();var t=[this.canvas,e,{isHitInTimeBar:this.isHitInTimeBar,getTimeBarRect:this.getTimeBarRect,onTimeBarRectChange:this.onTimeBarRectChange,done:this.done,showTimeBarTooltip:this.showTimeBarTooltip,hideTimeBarTooltip:this.hideTimeBarTooltip}];this.operators.add((0,eu.Z)(ru,t)),this.operators.add((0,eu.Z)(su,t))},n.unbindOperators=function(){this.operators.forEach((function(e){return e.dispose()})),this.operators.clear()},n.checkOperatorsHover=function(e){var t=(0,l.Z)(this.operators).find((function(t){return t.checkHit(e)}));null===t||void 0===t||t.hover()},n.toHover=function(e){var t;if(!N()(this.timeUnit,e)){this.reset(),this.timeUnit=e;var n=e.layoutIndex,i=this.getTimeBarRect(n);if(i){var o=this.timelineTimeBar.redrawTimeBar(n,i);o&&(this.resizeShape.show(o,i,this.collector.getRecordHeight()),this.bindOperators(e),null===(t=this.scrollDisposable)||void 0===t||t.dispose(),this.scrollDisposable=this.emitter.global.ganttScroll.event(this.onCanvasScroll))}}},n.cancelHover=function(){var e;this.canvas.view.setCursor(ko.WV.DEFAULT),this.unbindOperators(),null===(e=this.scrollDisposable)||void 0===e||e.dispose()},n.restoreTimeBar=function(e){var t=this.timeBarRect,n=t?Hc(t,this.timeline.layout):null;this.timelineTimeBar.redrawTimeBar(e,null!==t&&void 0!==t?t:void 0,null!==n&&void 0!==n?n:void 0),this.timeBarRect=null},n.reset=function(){this.headLineShape.hide(),this.unbindOperators(),this.timeUnit&&(this.restoreTimeBar(this.timeUnit.layoutIndex),this.cancelHover(),this.timeUnit=null,this.tooltipFeature.hide())},n.getDeltaTime=function(e,t,n){var i,o=(0,Ec.tC)(n.startDateFieldId,n.endDateFieldId,e,this.collector),r=o[0],s=o[1],a={startTime:null,endTime:null};t.startTime&&!(0,jc.Fo)(t.startTime,r)&&(a.startTime=t.startTime);var l=null!==(i=a.startTime)&&void 0!==i?i:r,d=t.endTime;return t.deltaDay&&t.deltaDay>0&&(d=(0,lu.Z)(l+Pa.s2*(t.deltaDay-1))),d&&!(0,jc.Fo)(d,s)&&(a.endTime=d),null===a.startTime&&null===a.endTime?null:a},n.getSetRecordDelta=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],o=t[1],r=t[2],s=this.getDeltaTime(i,o,r);if(!s)return null;var a={};return null!==s.startTime&&(a[r.startDateFieldId]={value:s.startTime}),null!==s.endTime&&(a[r.endDateFieldId]={value:s.endTime}),a},n.isNeedPrevent=function(){var e=this.canvas.getFeature("WidthResize");return null===e||void 0===e?void 0:e.isHover},(0,mi.Z)(t,[{key:"isOperating",get:function(){return(0,l.Z)(this.operators).some((function(e){return e.isOperating}))}}]),t}(il);du.Name="TimelineTimeBarAction";var cu=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).board=Lo.u.board(),t.onCanvasTap=function(e){var n=e.event,i=n.target.getAttr(ko.k4);if(i)return t.doAsignActionTap(i),void t.doAsignActionPress(i,gr(n.target));var o=n.currentTarget.getRelativePointerPosition(),r=o.x,s=o.y,a=(0,Bc.xy)(r,s,t.collector,t.timeline.layout);(null===a||void 0===a?void 0:a.type)===Lc.L.TimeBar&&(t.action.expandRow(a),t.doRecordPress(a.unit.layoutIndex))},t.doRecordPress=function(e){var n=t.layout.size;if(e<0)return null;t.board.visible(!0),t.board.destroyChildren();var i=t.collector.getLayoutY(e),o=Gs(i,n.activityStartY),r=t.collector.getRecordHeight();i+=o,r-=o,t.showPress({x:0,y:i,width:n.outerWidth,height:r})},t.hidePress=function(){t.board.visible(!1),t.board.destroyChildren()},t}(0,u.Z)(t,e);var n=t.prototype;return n.bootstrap=function(){this.board.visible(!1),this.canvas.getLayer().add(this.board),this.action=new Kc(this.canvas,this.timeline,this.collector,this.emitter),this.tapListener=this.emitter.action.tap.event(this.onCanvasTap)},n.destroy=function(){var e;this.board.destroy(),null===(e=this.tapListener)||void 0===e||e.dispose()},n.addActivedEvents=function(){},n.removeActivedEvents=function(){},n.updated=function(){},n.doAsignActionTap=function(e){var t=e.value;switch(e.type){case ko.KW.GANTT_DIMENTION_CHANGE:this.isSwitchDimension(t)?this.emitter.service.ganttOpenDimensionSwitch.fire({selected:Ka[this.layout.dimension.getType()],dimensions:Object.values(Ka)}):this.action.changeDimention(t);break;case ko.KW.GANTT_SCROLLTO_TIME:this.action.scollToTimeLocate(t)}},n.isSwitchDimension=function(e){return Object.values(Ka).includes(e)},n.doAsignActionPress=function(e,t){if(e.type!==ko.KW.GANTT_SCROLLTO_TIME){e.type===ko.KW.GANTT_DIMENTION_CHANGE&&this.isSwitchDimension(e.value)&&(t.width+=Xi.UV);var n=function(e,t){var n=e.hoverRectExpandWidth,i=void 0===n?0:n,o=e.hoverRectExpandHeight,r=void 0===o?0:o;return{x:t.x-i,width:t.width+2*i,y:t.y-r,height:t.height+2*r}}(e,t);this.showPress(Object.assign(Object.assign({},n),{x:n.x-this.board.x(),y:n.y-this.board.y()}))}},n.showPress=function(e){var t=this;this.board.visible(!0),this.board.destroyChildren(),Lo.u.shape.rect(this.board,Object.assign(Object.assign({},e),{fill:Xi.mS,cornerRadius:Xi.n_})),setTimeout((function(){return t.hidePress()}),180)},t}(il);cu.Name="TimelineMobileInteractive";var uu=[[Sc,!1],[ll,!1],[wc,!1],[$c,!1],[Wc,!0],[Tc,!1],[du,!0],[Rc,!1]],hu=[[Sc,!1],[ll,!1],[wc,!1],[cu,!1],[Tc,!1],[Rc,!1]],gu=function(){function e(e,t){this.renderer=e,this.collector=t}var t=e.prototype;return t.installFeatures=function(){var e,t;this.collector.isMobile()?null===(e=this.renderer.feature)||void 0===e||e.installFeatures(hu):null===(t=this.renderer.feature)||void 0===t||t.installFeatures(uu)},t.destroy=function(){var e;null===(e=this.renderer.feature)||void 0===e||e.destroy()},e}(),fu=function(){function e(e,t){this.renderer=e,this.size=t,this.fieldRect=Lo.u.board(),this.fieldContent=Lo.u.board(),this.fieldLine=Lo.u.board(),this.fieldTop=Lo.u.board(),this.bodyRect=Lo.u.board(),this.bodyContent=Lo.u.board(),this.bodyLine=Lo.u.board(),this.bodyTop=Lo.u.board();var n=this.renderer.grid.getLayer();n.add(this.bodyRect),n.add(this.bodyContent),n.add(this.bodyTop),n.add(this.bodyLine),n.add(this.fieldRect),n.add(this.fieldContent),n.add(this.fieldLine),n.add(this.fieldTop)}var t=e.prototype;return t.destroy=function(){this.fieldRect.destroy(),this.fieldContent.destroy(),this.fieldLine.destroy(),this.fieldTop.destroy(),this.bodyRect.destroy(),this.bodyContent.destroy(),this.bodyLine.destroy(),this.bodyTop.destroy()},t.clear=function(){this.fieldRect.destroyChildren(),this.fieldContent.destroyChildren(),this.fieldLine.destroyChildren(),this.fieldTop.destroyChildren(),this.bodyRect.destroyChildren(),this.bodyContent.destroyChildren(),this.bodyLine.destroyChildren(),this.bodyTop.destroyChildren()},t.offsetChildren=function(e,t){e&&this.offsetChildrenX(e),t&&this.offsetChildrenY(t),(e||t)&&this.offsetChildrenXY(e,t)},t.getFieldClipRect=function(){return{x:this.size.activityStartX,y:this.size.globalPaddingTop,width:this.size.activityViewWidth,height:this.size.activityViewHeight+this.size.activityStartY}},t.getBodyClipRect=function(){return{x:this.size.activityStartX,y:this.size.activityStartY,width:this.size.activityViewWidth,height:this.size.activityViewHeight}},t.clip=function(){var e=this.getFieldClipRect();this.fieldContent.clipFunc((function(t){return t.rect(e.x,e.y,e.width,e.height)})),this.fieldTop.clipFunc((function(t){return t.rect(e.x,e.y,e.width,e.height)}));var t=this.getBodyClipRect();this.bodyContent.clipFunc((function(e){return e.rect(t.x,t.y,t.width,t.height)})),this.bodyTop.clipFunc((function(e){return e.rect(t.x,t.y,t.width,t.height)}))},t.offsetChildrenX=function(e){this.offsetNodes(this.fieldContent.getChildren(),e),this.offsetNodes(this.fieldTop.getChildren(),e)},t.offsetChildrenY=function(e){this.offsetNodes(this.bodyLine.getChildren(),0,e),this.offsetNodes(this.bodyRect.getChildren(),0,e)},t.offsetChildrenXY=function(e,t){this.offsetNodes(this.bodyContent.getChildren(),e,t),this.offsetNodes(this.bodyTop.getChildren(),e,t)},t.offsetNodes=function(e,t,n){for(var i=e.length-1;i>=0;){var o=e[i];t&&o.x(o.x()-t),n&&o.y(o.y()-n),i-=1}},e}();function mu(e){return e-Math.trunc(e)}function pu(e,t){var n=new Date(e);return new Date(n.setMonth(n.getMonth()+t))}n("../node_modules/core-js/modules/es.math.trunc.js");var vu=function(){function e(e,t,n){this.renderer=e,this.collector=t,this.size=n,this.startTime=0,this.endTime=0,this.total=0,this.activityViewWidth=0,this.timeSize=0,this.renderCount=0,this.offsetX=0,this.startDateFieldId="",this.endDateFieldId="",this.startTimeIndex=0,this.endTimeIndex=0,this.lastStartIndex=-1,this.today=new Date,this.gridOffsetY=0,this.gridStartLayoutIndex=0,this.gridEndLayoutIndex=0,this.type=this.collector.getViewStorage(Pa.g3)||Pa.XB.MONTH,this.today.setHours(0,0,0,0),this.updateRange()}var t=e.prototype;return t.update=function(){var e=this.collector.getGanttConfig();if(e){var t=e.startDateFieldId,n=e.endDateFieldId,i=this.startDateFieldId!==t||this.endDateFieldId!==n,o=this.getTimeRange(),r=o.startTime,s=o.endTime,a=this.startTime!==r||this.endTime!==s;(this.activityViewWidth!==this.size.activityViewWidth||a||i)&&(this.lastStartIndex=this.startTimeIndex,this.updateRange(),this.renderer.view.emitter.action.ganttRangeChange.fire())}},t.getRange=function(){return{startTimeIndex:this.startTimeIndex,endTimeIndex:this.endTimeIndex,startLayoutIndex:this.gridStartLayoutIndex,endLayoutIndex:this.gridEndLayoutIndex}},t.getToday=function(){return this.today},t.getGridOffsetY=function(){return this.gridOffsetY},t.setGridOffsetY=function(e){this.gridOffsetY=e},t.setGridLayoutRange=function(e,t){this.gridStartLayoutIndex=e,this.gridEndLayoutIndex=t},t.getOffsetX=function(){return this.offsetX},t.getRenderCount=function(){return this.renderCount},t.getType=function(){return this.type},t.setType=function(e){this.type=e,this.lastStartIndex=-1,this.updateRange()},t.calcWithDeltaX=function(e){e&&(this.updateOffsetX(this.offsetX+e),this.calcNewRange())},t.toToday=function(){this.lastStartIndex=-1,this.updateRange()},t.toPrevRange=function(){var e=Math.max(0,this.startTimeIndex-this.renderCount),t=e+this.renderCount-1;this.startTimeIndex=e,this.endTimeIndex=t,this.updateOffsetAndWidth()},t.toNextRange=function(){var e=Math.min(this.total,this.endTimeIndex+this.renderCount-1),t=e-this.renderCount;this.startTimeIndex=t,this.endTimeIndex=e,this.updateOffsetAndWidth()},t.toIndex=function(e){var t=this.fixStartIndex(Math.max(0,e)),n=t+this.renderCount-1;this.startTimeIndex=t,this.endTimeIndex=n,this.updateOffsetAndWidth()},t.getTimeSize=function(){return this.timeSize},t.getStartTime=function(){return this.startTime},t.getTimeX=function(e){var t=0,n=0;if(this.type===Pa.XB.YEAR){var i=(0,Oc.Z)(e),o=i.day,r=i.days;t=(0,Ec.Ws)(this.startTime,e),n=(o-1)/r*this.timeSize}else{var s=e-this.startTime,a=Pa.OV[this.type];t=Math.floor(s/a),n=s%a/a*this.timeSize}return Math.round(this.getTimeXByIndex(t)+n)},t.getTimeXByIndex=function(e){return this.size.activityStartX+e*this.timeSize},t.getTimeIndex=function(e){var t=e-this.size.activityStartX+this.offsetX;return Math.floor(t/this.timeSize)},t.getTimeIndexByTime=function(e){return this.type===Pa.XB.YEAR?(0,Ec.Ws)(this.startTime,e):Math.floor((e-this.startTime)/Pa.OV[this.type])},t.getTime=function(e){return this.type===Pa.XB.YEAR?pu(this.startTime,e).getTime():this.startTime+e*Pa.OV[this.type]},t.getViewStartAndEndTime=function(){var e=this.offsetX/this.timeSize,t=(this.offsetX+this.size.activityViewWidth)/this.timeSize,n=0,i=0;if(this.type===Pa.XB.YEAR){n=this.getTime(Math.ceil(e)),i=this.getTime(Math.floor(t));var o=(0,Oc.Z)(n).days,r=(0,Oc.Z)(n).days;n+=mu(e)*o*Pa.s2,i+=mu(t)*r*Pa.s2}else n=this.startTime+Math.round(e*Pa.OV[this.type]),i=this.startTime+Math.round(t*Pa.OV[this.type]);return[n,i]},t.getStartAndEndTime=function(e){return(0,Ec.Yx)(this.startDateFieldId,this.endDateFieldId,e,this.collector)},t.isFullMode=function(){return 0===this.collector.size.outerWidth},t.isWeekend=function(e){if(this.type!==Pa.XB.WEEK&&this.type!==Pa.XB.MONTH)return!1;var t=new Date(this.startTime+e*Pa.s2).getDay();return 0===t||6===t},t.getTodayXRate=function(){switch(this.type){case Pa.XB.WEEK:case Pa.XB.MONTH:return.5;case Pa.XB.QUARTER:return(0,Nc.Z)(this.today.getDay())/7;case Pa.XB.YEAR:var e=new Date(this.today.getFullYear(),this.today.getMonth()+1,0).getDate();return this.today.getDate()/e}},t.updateRange=function(){var e=this.collector.getGanttConfig();if(e){var t=e.startDateFieldId,n=e.endDateFieldId;if(t&&n){this.startDateFieldId=t,this.endDateFieldId=n;var i=this.getTimeRange(),o=i.startTime,r=i.endTime,s=i.total;this.startTime=o,this.endTime=r,this.total=s+1,this.timeSize=Fa[this.type],this.activityViewWidth=this.size.activityViewWidth,this.renderCount=Math.ceil(this.activityViewWidth/this.timeSize),this.startTimeIndex=this.getStartIndex(),this.endTimeIndex=this.getEndIndex(this.startTimeIndex),this.updateOffsetAndWidth()}}},t.getTimeRange=function(){var e=(0,Ec.ZP)(this.startDateFieldId,this.endDateFieldId,this.collector,this.type);return{startTime:e[0],endTime:e[1],total:e[2]}},t.getTodayIndex=function(){return this.type===Pa.XB.YEAR?(0,Ec.Ws)(this.startTime,this.today.getTime()):Math.floor((this.today.getTime()-this.startTime)/Pa.OV[this.type])},t.isInSameUnit=function(e,t){return(0,jc.Vf)(e,t,this.type)},t.getStartIndex=function(){if(-1===this.lastStartIndex){var e=this.getTodayIndex()-Math.ceil(.3*this.renderCount);return this.fixStartIndex(e)}return this.fixStartIndex(this.lastStartIndex)},t.fixStartIndex=function(e){if(this.type===Pa.XB.QUARTER){var t=this.getTime(e),n=t+Pa.OV[this.type]-Pa.s2;(0,jc.xj)(t,n)||(e-=1)}else if(this.type===Pa.XB.MONTH){var i=this.getTime(e),o=(0,Oc.Z)(i);o.day===o.days&&(e-=1)}return e=Math.max(0,e),e=Math.min(this.total-this.renderCount-1,e)},t.getEndIndex=function(e){return e+this.renderCount},t.updateOffsetX=function(e){this.offsetX=Math.min(this.size.activityScrollWidth-this.size.activityViewWidth,e),this.offsetX=Math.max(0,this.offsetX)},t.updateOffsetAndWidth=function(){this.size.setActivityScrollWidth(this.timeSize*this.total),this.updateOffsetX(this.startTimeIndex*this.timeSize)},t.calcNewRange=function(){var e=Math.floor(this.offsetX/this.timeSize);this.startTimeIndex=e,this.endTimeIndex=this.getEndIndex(e)},t.info=function(){var e=this.getViewStartAndEndTime(),t=e[0],n=e[1],i=new Date(this.startTime),r=new Date(this.endTime);o.k.info(["数据开始时间："+i.toLocaleDateString()+", 周 "+((0,Nc.Z)(i.getDay())+1),"数据结束时间："+r.toLocaleDateString()+", 周 "+((0,Nc.Z)(r.getDay())+1),"可视区开始时间："+new Date(t).toLocaleString(),"可视区结束时间："+new Date(n).toLocaleString(),"渲染起点下标："+this.startTimeIndex,"渲染终点下标："+this.endTimeIndex,"可视区域渲染数："+this.renderCount,"渲染总单位数："+(this.total-1)].join("\n"))},e}(),Iu=function(){function e(e){this.collector=e,this.globalPaddingRight=this.collector.isMobile()?0:ls.A9,this.globalPaddingTop=ls.e5,this.globalPaddingBottom=ls.vY,this.activityScrollWidth=0}return e.prototype.setActivityScrollWidth=function(e){this.activityScrollWidth=e},(0,mi.Z)(e,[{key:"outerWidth",get:function(){return this.collector.getContextRoot().offsetWidth-this.collector.size.outerWidth}},{key:"activityViewWidth",get:function(){return this.activityEndX-this.activityStartX}},{key:"activityViewHeight",get:function(){return this.collector.size.activityViewHeight}},{key:"activityStartX",get:function(){return this.collector.size.outerWidth||this.collector.size.globalPaddingLeft}},{key:"activityEndX",get:function(){return this.collector.getContextRoot().offsetWidth-this.globalPaddingRight}},{key:"activityStartY",get:function(){return this.collector.size.activityStartY}},{key:"fieldHeight",get:function(){return this.collector.size.fieldHeight}},{key:"globalHeight",get:function(){return this.collector.size.globalHeight}}]),e}();function yu(e,t){return e+":"+t}var _u=function(){function e(e,t,n,i,o){this.collector=e,this.dimension=t,this.size=n,this.area=i,this.pool=o,this.util=new cl.Z}var t=e.prototype;return t.mix=function(e,t){return Object.assign({name:yu(e.timeIndex,e.layoutIndex)},t)},t.isTopLayout=function(e){return-1===e.parentLayoutIndex},e}(),bu=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).cornerReduceWidth=t.collector.isMobile()?0:10,t}(0,u.Z)(t,e);var n=t.prototype;return n.drawStartFixed=function(e,t){var n=this,i=this.getWhiteCornerRadius(t);this.pool.rect(this.area.bodyRect,this.mix(t,Object.assign(Object.assign({},e),{width:this.size.activityViewWidth,fill:Xi.UE,cornerRadius:i})));var o=this.getStartCornerType(t);o&&!this.collector.isMobile()&&this.pool.corner(this.area.bodyLine,o,this.mix(t,Object.assign(Object.assign({},e),{width:this.cornerReduceWidth}))),this.getLinePoints(t,e).forEach((function(e){return n.pool.line(n.area.bodyLine,n.mix(t,{points:e}))}))},n.drawTime=function(e,t){var n=this;if(this.pool.line(this.area.bodyContent,this.mix(t,{x:e.x,y:e.y,points:[e.width,0,e.width,e.height]})),this.dimension.getType()!==Pa.XB.QUARTER)this.dimension.isWeekend(t.timeIndex)&&this.pool.rect(this.area.bodyContent,this.mix(t,Object.assign(Object.assign({},e),{x:e.x+1,fill:Xi.tj})));else{var i=Math.floor(e.width/7);[5,6].forEach((function(o,r){n.pool.rect(n.area.bodyContent,n.mix(t,Object.assign(Object.assign({},e),{width:i,x:e.x+i*o+r,fill:Xi.tj})))}))}},n.drawEndFixed=function(e,t){var n=this.getEndCornerType(t);!n||this.collector.isMobile()?this.pool.line(this.area.bodyLine,this.mix(t,{points:[e.x,e.y,e.x,e.y+e.height]})):this.pool.corner(this.area.bodyLine,n,this.mix(t,Object.assign(Object.assign({},e),{x:e.x-this.cornerReduceWidth,width:this.cornerReduceWidth})))},n.getLinePoints=function(e,t){var n=this.size.activityViewWidth-this.cornerReduceWidth,i=[t.x,t.y,t.x,t.y+t.height];switch(this.getEndCornerType(e)){case dl.a.RT:i=[t.x+n,t.y].concat(i);break;case dl.a.RB:i=i.concat([t.x+n,t.y+t.height]);break;case dl.a.RTRB:i=[t.x+n,t.y].concat(i).concat([t.x+n,t.y+t.height]);break;default:if(this.collector.isMobile())return[]}if(this.dimension.isFullMode())switch(this.getStartCornerType(e)){case dl.a.LT:i.pop(),i.pop(),i[2]+=this.cornerReduceWidth;break;case dl.a.LB:i.splice(0,2),i[0]+=this.cornerReduceWidth;break;case dl.a.LTLB:return[[t.x+n,t.y,t.x+this.cornerReduceWidth,t.y],[t.x+n,t.y+t.height,t.x+this.cornerReduceWidth,t.y+t.height]]}return[i]},n.getWhiteCornerRadius=function(e){if(this.collector.isMobile())return 0;var t=this.dimension.isFullMode();switch(this.getEndCornerType(e)){case dl.a.RT:return[t?Xi.n_:0,Xi.n_,0,0];case dl.a.RB:return[0,0,Xi.n_,t?Xi.n_:0];case dl.a.RTRB:return[t?Xi.n_:0,Xi.n_,Xi.n_,t?Xi.n_:0]}},n.getStartCornerType=function(e){if(!this.dimension.isFullMode())return null;switch(this.getEndCornerType(e)){case dl.a.RT:return dl.a.LT;case dl.a.RB:return dl.a.LB;case dl.a.RTRB:return dl.a.LTLB}},n.getEndCornerType=function(e){var t,n=this.collector.layout.getLayout(e.layoutIndex);if(!n)return null;if(e.layoutType===ns.yP.GROUP_HEAD&&-1===n.parent)return(null===(t=n.head)||void 0===t?void 0:t.folded)?dl.a.RTRB:dl.a.RT;if([ns.yP.RECORD_ADD,ns.yP.GROUP_FOOT].includes(e.layoutType)){var i=this.collector.layout.getLayout(e.parentLayoutIndex);if(-1===(null===i||void 0===i?void 0:i.parent))return dl.a.RB}return this.collector.layout.getLayouts().length-1===e.layoutIndex?dl.a.RB:null},t}(_u),Mu=function(e,t,n){var i;return(i={listening:!0})[ko.k4]={type:ko.KW.GANTT_DIMENTION_CHANGE,hoverCursor:ko.WV.POINTER,hoverRect:!0,value:e,hoverRectExpandWidth:t,hoverRectExpandHeight:n},i},Cu=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStartFixed=function(e,t){var n,i={x:this.size.activityStartX+.5,y:this.size.globalPaddingTop+.5,width:this.size.activityViewWidth,height:this.size.fieldHeight},o={strokeWidth:this.collector.isMobile()?0:Xi.YF,stroke:this.collector.isMobile()?"transparent":Xi.dS};if(this.pool.rect(this.area.fieldRect,this.mix(t,Object.assign(Object.assign(Object.assign({},i),{fill:Xi.UE,cornerRadius:this.getCornerRadius()}),o))),this.collector.isMobile())this.pool.line(this.area.fieldLine,this.mix(t,{points:[i.x,i.y+i.height,i.width,i.y+i.height]}));else{var r=this.dimension.isFullMode()?zc.Ye.SUPER_NEXT:zc.Ye.SUPER_PREV,s={x:this.size.activityStartX+8,y:e.y+8+5,width:18,height:18};this.pool.icon(this.area.fieldLine,r,this.mix(t,Object.assign(Object.assign({},s),((n={listening:!0})[ko.k4]={type:ko.KW.GANTT_EXPAND_FULL,hoverCursor:ko.WV.POINTER,hoverRectExpandWidth:2,hoverRectExpandHeight:2,hoverRect:!0},n))))}},n.drawTime=function(e,t){var n=function(e,t){var n=e.getTime(t),i=new Date(n),o=i.getDate(),r=i.getDay();switch(e.getType()){case Pa.XB.WEEK:case Pa.XB.MONTH:return""+o+Pa.gq[r];case Pa.XB.QUARTER:var s=t,a=e.getStartTime(),l=new Date(a+s*Pa.IZ),d=new Date(l.getTime()+Pa.IZ-Pa.s2);return l.getDate()+"日 - "+d.getDate()+"日";case Pa.XB.YEAR:return pu(e.getStartTime(),t).getMonth()+1+"月"}}(this.dimension,t.timeIndex),i=Object.assign(Object.assign({},e),{height:e.height/2,y:e.y+e.height/2});this.pool.text(this.area.fieldContent,this.mix(t,Object.assign(Object.assign({},i),{fontSize:ls.Cg,fill:ls.s0,align:"center",text:n})))},n.drawEndFixed=function(e,t){!this.collector.isMobile()&&this.size.outerWidth<480||this.drawDimensionSelector(e,t)},n.hasHeadSpace=function(){return this.collector.hasGroup()&&!this.collector.isShowStat()},n.getCornerRadius=function(){return this.collector.isMobile()?0:this.dimension.isFullMode()?this.hasHeadSpace()?Xi.n_:[Xi.n_,Xi.n_,0,0]:this.hasHeadSpace()?[0,Xi.n_,Xi.n_,0]:[0,Xi.n_,0,0]},n.drawDimensionSelector=function(e,t){var n=this,i=e.y+10,o=Xi.l2,r=tl(this.size);this.pool.rect(this.area.fieldLine,this.mix(t,{x:r,y:i,width:this.size.activityEndX-r,height:o,fill:Xi.UE}));var s=this.size.activityEndX-8;this.collector.isMobile()&&(s-=Xi.UV),el.slice().reverse().forEach((function(e){var r=e.key,a=e.width,l={x:s-a,y:i,width:a,height:o};n.drawSingleSelector(l,r,t),s-=a+8}))},n.drawSingleSelector=function(e,t,n){var i=this.dimension.getType(),o=this.area.fieldLine,r=e.y+Math.abs(Xi.UV-e.height)/2,s={fontSize:Ua,fill:Ba,align:"center"};switch(t){case Va:case Ya:this.pool.icon(o,t===Ya?zc.Ye.ARROW_PREV:zc.Ye.ARROW_NEXT,this.mix(n,Object.assign(Object.assign(Object.assign({},e),{y:r,width:18,height:18}),Mu(t,3,3))));break;case Ha:var a=e.x+Xi.UV/2+6,l=r+1;this.pool.line(o,this.mix(n,{points:[a,l,a,l+Xi.UV-4]}));break;case Ja:var d=Ka[i];this.pool.text(o,this.mix(n,Object.assign(Object.assign(Object.assign(Object.assign({},e),s),{fontSize:Ua,text:d}),Mu(d,3,0)))),this.pool.icon(o,zc.Ye.DROPDOWN,Object.assign(Object.assign({},e),{y:e.y+(e.height-Xi.UV)/2,x:e.x+e.width,width:Xi.UV,height:Xi.UV}));break;default:Qa[i]===t&&this.pool.rect(o,this.mix(n,Object.assign(Object.assign({},e),{fill:"rgba(0, 0, 0, 0.08)",cornerRadius:Xi.n_})));var c=t===Za?6:0;this.pool.text(o,this.mix(n,Object.assign(Object.assign(Object.assign(Object.assign({},e),s),{fontSize:Ua,text:t}),Mu(t,c,0))))}},t}(_u),wu=function(e){function t(){return e.apply(this,arguments)||this}(0,u.Z)(t,e);var n=t.prototype;return n.drawStartFixed=function(t,n){this.isTopLayout(n)||e.prototype.drawStartFixed.call(this,t,n)},n.drawTime=function(t,n){this.isTopLayout(n)||e.prototype.drawTime.call(this,t,n)},n.drawEndFixed=function(t,n){this.isTopLayout(n)||e.prototype.drawEndFixed.call(this,t,n)},t}(bu),Tu=function(){function e(e,t,n,i,o){this.collector=e,this.dimension=t,this.size=n,this.area=i,this.pool=o,this.initWidgets()}var t=e.prototype;return t.draw=function(e){var t=this.getDrawer(e);if(t){var n=this.getRect(e);switch(e.type){case ns.g1.START:t.drawStartFixed(n,e);break;case ns.g1.BODY:t.drawTime(n,e);break;case ns.g1.END:t.drawEndFixed(n,e)}}},t.getRect=function(e){var t=0,n=0;switch(e.type){case ns.g1.START:t=this.size.activityStartX;break;case ns.g1.BODY:t=this.dimension.getTimeXByIndex(e.timeIndex)-this.dimension.getOffsetX(),n=this.dimension.getTimeSize();break;case ns.g1.END:t=this.size.activityEndX}var i={x:t,y:this.collector.getLayoutY(e.layoutIndex),width:n,height:this.collector.layout.getLayoutSize(e.layoutType)};return e.layoutType===ns.yP.FIELD&&(i.y=this.size.globalPaddingTop),i},t.getDrawer=function(e){switch(e.layoutType){case ns.yP.FIELD:return this.fieldWidget;case ns.yP.SPACING:return this.spacingwidget;default:return this.blankWidget}},t.initWidgets=function(){this.blankWidget=new bu(this.collector,this.dimension,this.size,this.area,this.pool),this.fieldWidget=new Cu(this.collector,this.dimension,this.size,this.area,this.pool),this.spacingwidget=new wu(this.collector,this.dimension,this.size,this.area,this.pool)},e}(),Eu=-1,ju={layoutIndex:-1,parentLayoutIndex:-1},Au=function(){function e(e,t,n){var i=this;this.renderer=e,this.collector=t,this.emitter=n,this.drawWidget=function(e){i.widget.draw(e)},this.pool=new Vl,this.size=new Iu(this.collector),this.area=new fu(this.renderer,this.size),this.dimension=new vu(this.renderer,this.collector,this.size),this.widget=new Tu(this.collector,this.dimension,this.size,this.area,this.pool)}var t=e.prototype;return t.destroy=function(){this.pool.clear(),this.area.destroy()},t.drawInit=function(){this.paintWidgets(),this.batchDraw();var e=this.collector.ranger,t=e.getRange(),n=t.startLayoutIndex,i=t.endLayoutIndex;this.dimension.setGridLayoutRange(n,i),this.dimension.setGridOffsetY(e.getOffset().offsetY)},t.drawForce=function(){this.dimension.update(),this.area.clear(),this.pool.clear(),this.paintWidgets(),this.batchDraw()},t.scrollToX=function(e){var t=this.dimension.getOffsetX(),n=Math.round(e)-t,i=(0,Ro.Z)(n,t,this.size.activityScrollWidth,this.size.activityViewWidth);i&&this.emitter.global.ganttScroll.fire({x:i,y:0})},t.updateWidthDelta=function(e,t){var n=this.collector.ranger.getOffset().offsetY,i=this.collector.ranger.getRange(),o=i.startLayoutIndex,r=i.endLayoutIndex;this.dimension.setGridOffsetY(n);var s=this.getRange();if(this.dimension.setGridLayoutRange(o,r),this.dimension.calcWithDeltaX(e),this.offsetAreas(e,t),this.hasRangeChange(s)){var a=this.getRangeChange(s);this.drawDelta(a)}},t.batchDraw=function(){this.pool.batchDraw()},t.offsetAreas=function(e,t){this.area.offsetChildren(e,t)},t.drawDelta=function(e){this.removeDecreased(e.decreasedTimes,e.decreasedLayouts),this.paintIncreased(e.increasedTimes,e.increasedLayouts),this.batchDraw()},t.paintWidgets=function(){this.drawRangeTime(this.drawWidget),this.drawRangeRecord(this.drawWidget),this.area.clip()},t.drawRangeTime=function(e){this.drawTimeStick();for(var t=this.dimension.getRange(),n=t.startTimeIndex,i=t.endTimeIndex,o=n;o<=i;o++)e(Object.assign(Object.assign({type:ns.g1.BODY,layoutType:ns.yP.FIELD},ju),{timeIndex:o}))},t.drawTimeStick=function(){this.drawWidget(Object.assign(Object.assign({type:ns.g1.START,layoutType:ns.yP.FIELD},ju),{timeIndex:Eu})),this.drawWidget(Object.assign(Object.assign({type:ns.g1.END,layoutType:ns.yP.FIELD},ju),{timeIndex:Eu}))},t.drawRangeRecord=function(e){for(var t=this.dimension.getRange(),n=t.startTimeIndex,i=t.endTimeIndex,o=this.collector.ranger.getRange(),r=o.startLayoutIndex,s=o.endLayoutIndex,a=r;a<=s;a++){var l=this.collector.layout.getLayout(a);if(l&&!this.collector.layout.isHiddenLayout(l.parent)){this.drawRecordStick(l.type,a,l.parent);for(var d=n;d<=i;d++)l&&e({type:ns.g1.BODY,layoutType:l.type,layoutIndex:a,timeIndex:d,parentLayoutIndex:l.parent})}}},t.drawRecordStick=function(e,t,n){this.drawWidget({type:ns.g1.START,layoutType:e,layoutIndex:t,timeIndex:Eu,parentLayoutIndex:n}),this.drawWidget({type:ns.g1.END,layoutType:e,layoutIndex:t,timeIndex:Eu,parentLayoutIndex:n})},t.removeDecreased=function(e,t){var n=this,i=[];e.length&&this.getRangeLayouts(!0).forEach((function(t){e.forEach((function(e){i.push(yu(e,t))}))})),t.length&&this.getRangeTimes(!0).forEach((function(e){t.forEach((function(t){i.push(yu(e,t))}))})),i.forEach((function(e){n.pool.removeUnit(e)}))},t.paintIncreased=function(e,t){var n=this;e.length&&e.forEach((function(e){n.drawWidget(Object.assign(Object.assign({type:ns.g1.BODY,layoutType:ns.yP.FIELD},ju),{timeIndex:e})),n.getRangeLayouts().forEach((function(t){var i=n.collector.layout.getLayout(t);i&&!n.collector.layout.isHiddenLayout(i.parent)&&n.drawWidget({type:ns.g1.BODY,layoutType:i.type,layoutIndex:t,timeIndex:e,parentLayoutIndex:i.parent})}))})),t.length&&t.forEach((function(e){var t=n.collector.layout.getLayout(e);t&&!n.collector.layout.isHiddenLayout(t.parent)&&(n.drawRecordStick(t.type,e,t.parent),n.getRangeTimes().forEach((function(i){n.drawWidget({type:ns.g1.BODY,layoutType:t.type,layoutIndex:e,timeIndex:i,parentLayoutIndex:t.parent})})))}))},t.getRange=function(){var e=this.dimension.getRange();return{startTimeIndex:e.startTimeIndex,endTimeIndex:e.endTimeIndex,startLayoutIndex:e.startLayoutIndex,endLayoutIndex:e.endLayoutIndex}},t.hasRangeChange=function(e){var t=this.getRange();return t.startTimeIndex!==e.startTimeIndex||t.endTimeIndex!==e.endTimeIndex||t.startLayoutIndex!==e.startLayoutIndex||t.endLayoutIndex!==e.endLayoutIndex},t.getRangeChange=function(e){var t=this.getRange(),n=rs(e,t,"startTimeIndex","endTimeIndex"),i=n.decreaseds,o=n.increaseds,r=rs(e,t,"startLayoutIndex","endLayoutIndex");return{decreasedTimes:i,increasedTimes:o,decreasedLayouts:r.decreaseds,increasedLayouts:r.increaseds}},t.getRangeTimes=function(e){void 0===e&&(e=!1);var t=this.dimension.getRange(),n=t.startTimeIndex,i=t.endTimeIndex,o=Mo(n-1,i);return e&&o.unshift(Eu),o},t.getRangeLayouts=function(e){void 0===e&&(e=!1);var t=this.dimension.getRange(),n=t.startLayoutIndex,i=t.endLayoutIndex,o=Mo(n-1,i);return e&&o.unshift(Eu),o},e}(),xu=function(){function e(e,t,n){var i=this;this.renderer=e,this.collector=t,this.emitter=n,this.scrollDisposable=new nl.DisposableStore,this.onScroll=function(e){i.layout.updateWidthDelta(e.x,e.y)},this.bootstrap()}var t=e.prototype;return t.bootstrap=function(){this.layout=new Au(this.renderer,this.collector,this.emitter),this.feature=new gu(this.renderer,this.collector),this.scrollDisposable.add(this.emitter.global.ganttScroll.event(this.onScroll))},t.destroy=function(){this.layout.destroy(),this.feature.destroy(),this.scrollDisposable.clear()},t.renderInit=function(){this.layout.drawInit(),this.feature.installFeatures()},t.renderForce=function(){this.layout.drawForce()},t.renderForceAsync=function(){this.renderForce()},t.rebuild=function(){this.destroy(),this.bootstrap(),this.renderForce()},t.scrollToX=function(e){this.layout.scrollToX(e)},e}();(0,i.__decorate)([(0,wr.LF)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],xu.prototype,"renderForceAsync",null);var Du=function(e){function t(t){var n;return(n=e.call(this,t)||this).timeline=new xu(n.getRenderer(),n.getCollector(),t.getRenderer().emitter),n}(0,u.Z)(t,e);var n=t.prototype;return n.getTimeline=function(){return this.timeline},n.destroy=function(){e.prototype.destroy.call(this),this.timeline.destroy()},n.getType=function(){return v.bW.GANTT},n.renderInit=function(){e.prototype.renderInit.call(this),this.isReadyToUpdate()&&this.timeline.renderInit()},n.renderForce=function(){e.prototype.renderForce.call(this),this.isReadyToUpdate()&&this.timeline.renderForce()},n.renderForceAsync=function(){e.prototype.renderForceAsync.call(this),this.isReadyToUpdate()&&this.timeline.renderForceAsync()},n.rebuild=function(){e.prototype.rebuild.call(this),this.timeline.rebuild()},t}(cd),Su=function(){function e(){}return e.prototype.getView=function(e,t){var n;switch(t){case v.bW.GRID:n=new cd(e);break;case v.bW.KANBAN:n=new Cc(e);break;case v.bW.GALLERY:n=new Jr(e);break;case v.bW.GANTT:n=new Du(e);break;default:throw new Error("can not get view by type "+t)}return o.k.info("ViewFactory generate new view",t),n},e}(),Nu=function(){function e(e){this.context=e,this.emitter=new Ci,this.viewFactory=new Su}var t=e.prototype;return t.getView=function(){return this.currentView},t.render=function(){var e=this.context.getCurrentView();e&&(Di.markSwitchViewStart(),this.renderView(e.type),Di.markSwitchViewEnd())},t.rerender=function(){var e;null===(e=this.currentView)||void 0===e||e.renderForce()},t.destroy=function(){var e;null===(e=this.currentView)||void 0===e||e.destroy()},t.renderView=function(e){this.destroy(),this.currentView=this.createView(e);try{this.currentView.renderInit()}catch(t){throw Di.renderFirstContentError(),t}},t.createView=function(e){return void 0===e&&(e=v.bW.GRID),this.viewFactory.getView(this.context,e)},e}(),Ru=n("../node_modules/@tencent/xtable/es/constants/index.js"),Ou=n("../node_modules/@tencent/xtable-core/es/service/active-state/index.interface.js"),Lu=(n("../node_modules/core-js/modules/es.number.is-finite.js"),-999),ku="~",zu=function(){function e(e,t){this.tableMutationMap={},this.tableFetchFinishedTagMap={},this.offlineMutations=[],this.chunkAppliedCallbacks={},this.editor=e,this.applySerializedMutations=t}var t=e.prototype;return t.applyChunkMutations=function(e,t,n){var i=n.start,o=n.end,r=n.isFinished;Number.isFinite(i)||Number.isFinite(o)||(i=Lu,o=Lu),Number.isFinite(o)||(o=0,r=!0),this.storeChunkMutations(e,t,i,o);var s=this.getFrontLoadingReadyChunkIndex(e);s.length&&(this.runChunkMutations(e,s),this.clearChunkMutations(e,s)),this.runChunkAppliedCallbacks(e),this.updateFetchFinishedTag(e,r);var a=this.checkIsAllChunksApplied(e,s);a&&this.handleOfflineData(e),this.setTableStatus(e,a)},t.handleOfflineMutations=function(e){var t;this.offlineMutations=e.map((function(e){return a.Z.deserializeMutation(e)}));var n=null===(t=this.editor.getCurrentTable())||void 0===t?void 0:t.id;n&&this.checkIsPartialEditable(n)&&(this.handleOfflineData(n),this.setEditableStatus(n,vn.H.PARTIAL_EDITABLE))},t.afterSyncOfflineChangesets=function(){var e,t=null===(e=this.editor.getCurrentTable())||void 0===e?void 0:e.id;t&&this.checkIsPartialEditable(t)&&this.setEditableStatus(t,vn.H.PARTIAL_EDITABLE)},t.storeChunkMutations=function(e,t,n,i){this.tableMutationMap[e]||(this.tableMutationMap[e]={}),t.length&&(this.tableMutationMap[e][""+n+ku+i]=t)},t.getFrontLoadingReadyChunkIndex=function(e){var t=[],n=Object.keys(this.tableMutationMap[e]).sort((function(e,t){var n=e.split(ku)[0];if(+n===Lu)return-1;var i=t.split(ku)[0];return+i===Lu?1:+n-+i}));"-999~-999"===(null===n||void 0===n?void 0:n[0])&&t.push(n.shift());for(var i=0,o=n.length;i<o;i++){var r=n[i].split(ku)[0];if(0===i&&0!==+r)break;if(i>0&&+n[i-1].split(ku)[1]+1!==+r)break;t.push(n[i])}return t},t.runChunkMutations=function(e,t){var n,i,o=this,r=t.map((function(t){return o.tableMutationMap[e][t]})),s=(n=[]).concat.apply(n,(0,l.Z)(r));if(s.length){this.applySerializedMutations(e,s);var a=this.editor.getRenderer();null===(i=a.getView())||void 0===i||i.getCollector().update(),a.rerender()}},t.clearChunkMutations=function(e,t){var n=this;t.forEach((function(t){n.tableMutationMap[e][t]=[]}))},t.setTableStatus=function(e,t){var n=this.editor.getCore().base.getTableByTableId(e);if(n)return t?((0,ie.WE)(n.toJSON()),this.setEditableStatus(e,vn.H.ALL_EDITABLE),void n.stopLoading()):void(n.isLoading()||n.startLoading())},t.updateFetchFinishedTag=function(e,t){t&&(this.tableFetchFinishedTagMap[e]=t)},t.setEditableStatus=function(e,t){var n=this.editor.getCore().editableStatusService.getTableStatus(e);n!==vn.H.ALL_EDITABLE&&(this.editor.getCore().editableStatusService.setTableStatus(e,t),t===vn.H.PARTIAL_EDITABLE&&n===vn.H.NOT_EDITABLE&&(ti.r.firstChunkEditable(),o.k.info("首片可编辑：smartsheet tableId-"+e+" partial chunks editabled")),t===vn.H.ALL_EDITABLE&&(ti.r.allChunkEditable(),o.k.info("全文可编辑：smartsheet tableId-"+e+" all chunks editabled")))},t.checkIsAllChunksApplied=function(e,t){return t.length===Object.keys(this.tableMutationMap[e]).length&&this.tableFetchFinishedTagMap[e]},t.checkIsPartialEditable=function(e){var t=[3022,3021,3020,3012,3005];return!this.offlineMutations.some((function(n){return n.tableId===e&&t.includes(n.id)}))},t.handleOfflineData=function(e){var t=this;if(this.offlineMutations.length){var n=this.offlineMutations.filter((function(t){return t.tableId===e}));this.checkIsPartialEditable(e)?n.forEach((function(n){switch(n.id){case 3013:t.handleOfflineSetRecordMutation(e,n);break;case 3011:t.handleOfflineDeleteRecordMutation(e,n);break;default:t.applySerializedMutations(e,[a.Z.serializeMutation(n)])}})):this.applySerializedMutations(e,n.map((function(e){return a.Z.serializeMutation(e)}))),this.offlineMutations=[]}},t.handleOfflineSetRecordMutation=function(e,t){var n=this;this.chunkAppliedCallbacks[e]||(this.chunkAppliedCallbacks[e]={});var i=this.chunkAppliedCallbacks[e][t.recordId];this.chunkAppliedCallbacks[e][t.recordId]=function(){null===i||void 0===i||i.call(n);var o=n.editor.getCore().base.getTableByTableId(e);o&&o.getRecordIdList().includes(t.recordId)&&n.applySerializedMutations(e,[a.Z.serializeMutation(t)])}},t.handleOfflineDeleteRecordMutation=function(e,t){var n=this,i=this.editor.getCore().base.getTableByTableId(e);null===i||void 0===i||i.deleteRecord(t.recordId,t.delta.indexes,!0),this.chunkAppliedCallbacks[e]||(this.chunkAppliedCallbacks[e]={});var o=this.chunkAppliedCallbacks[e][t.recordId];this.chunkAppliedCallbacks[e][t.recordId]=function(){null===o||void 0===o||o.call(n);var i=n.editor.getCore().base.getTableByTableId(e);i&&i.getRecordIdList().includes(t.recordId)&&i.deleteRecord(t.recordId,t.delta.indexes,!0)}},t.runChunkAppliedCallbacks=function(e){var t=this;Object.keys(this.chunkAppliedCallbacks[e]||{}).forEach((function(n){var i=t.editor.getCore().base.getTableByTableId(e);(null===i||void 0===i?void 0:i.getRecordIdList().includes(n))&&(t.chunkAppliedCallbacks[e][n](),delete t.chunkAppliedCallbacks[e][n])}))},e}(),Pu=function(){function e(e){var t=this;this.editor=e,this.chunkManager=new zu(e,(function(e,n){t.applySerializedMutations(e,n)}))}var t=e.prototype;return t.getDefaultTableJSONByViewType=function(e){return void 0===e&&(e=v.bW.GRID),o.k.info("getDefaultTableJSONByViewType",e),(0,ft.C)({tableId:"",title:"tableTitle",userInfo:this.getCurrentUserInfo(),viewType:e})},t.getTableJSONByTemplateMutations=function(e,t){var n=(0,ft._)(e,t,this.getCurrentUserInfo());return n||(o.k.error("ConvertTemplateMutationsToTableJSON Mutaions Params Error",t),null)},t.insertTableByTableJSON=function(e,t){o.k.info("insertTableByTableJSON",e,t);var n=(0,gt.FO)(Object.assign(Object.assign({},t),{id:e}),0,!0);this.runMutations(n,0)},t.copyTable=function(e,t){o.k.info("smartSheetSDK copySheet ",e,t);var n=this.editor.getCore().base,i=n.getTableByTableId(e),r=n.getTableIndexById(e),s=i.toJSON();s.id=t;var a=(0,gt.FO)(s,r,!1);this.runMutations(a,0)},t.deleteTableById=function(e){o.k.info("smartSheetSDK deleteSheet ",e)},t.getKeyframeBySheetId=function(e,t){o.k.info("smartSheetSDK getKeyframeBySheetId ",e);var n=this.editor.getCore().base,i=!t;return(0,gt.Ls)(n,e,i)},t.coverTableByTemplateMutations=function(e,t){var n=(0,ft._)(e,t,this.getCurrentUserInfo());n?(this.editor.rangeModel.resetSelection(),this.editor.getBehaviorApi().overwriteTable({tableId:e,tableJSON:n})):o.k.error("CoverTableByTemplateMutations Mutaions Params Error",t)},t.applySerializedMutations=function(e,t){var n=this.getMutationsForApply(e,t);this.runMutations(n,-1)},t.applyChunkMutations=function(e,t,n){this.chunkManager.applyChunkMutations(e,t,n)},t.handleOfflineMutations=function(e){this.chunkManager.handleOfflineMutations(e)},t.afterSyncOfflineChangesets=function(){this.chunkManager.afterSyncOfflineChangesets()},t.handleCreateTableAcceptCommit=function(e,t){this.setAllRecordsTime(e,t)},t.render=function(e,t){this.editor.activeStateService.switchView({tableId:e,viewId:t,source:Ou.A.SwitchTable})},t.renderHistory=function(e,t,n){void 0===n&&(n=!1),o.k.info("renderHistory ",e,t,n),n&&(this.editor.rangeModel.resetSelection(),this.editor.getCore().resetCurrentState(),this.editor.activeStateService.resetState()),this.applySerializedMutations(e,t),this.render(e)},t.runMutations=function(e,t){var n=this.editor.getCore().base,i=this.editor.getRequestApi().mutationApi;e.forEach((function(e){e.setOperationType(t),i.run(e,n)}))},t.getMutationsForApply=function(e,t){var n=[],i=this.editor.getCore().base;return i.getTableByTableId(e)||n.push(new ht.Z({tableId:e,isRecover:!1,delta:{index:i.getTableCount(),title:e}})),t.forEach((function(e){n.push(a.Z.deserializeMutation(e))})),n},t.setAllRecordsTime=function(e,t){var n=this.editor.getCore(),i=n.base,o=n.rendererManagerService,r=i.getTableByTableId(e);if(r){var s=r.getRecordIdList();r.setPartialRecordsMeta(s.reduce((function(e,n){var i;return Object.assign(Object.assign({},e),((i={})[n]={createdTime:t},i))}),{})),s.forEach((function(e){var n=r.getRecordByRecordId(e);r.setRecord(e,Object.keys(n).reduce((function(e,n){var i;return Object.assign(Object.assign({},e),((i={})[n]=Object.assign(Object.assign({},e[n]),{modifiedTime:t}),i))}),n))})),o.rerenderAll()}},t.getCurrentUserInfo=function(){return this.editor.getCore().userService.getCurrentUserInfo()},e}(),Fu=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).watermarkConfigChangeEmitter=t._register(new qn.Emitter),t.onWatermarkConfigChange=t.watermarkConfigChangeEmitter.event,t.scale=1,t}(0,u.Z)(t,e);var n=t.prototype;return n.setWatermarkConfig=function(e){this.watermarkConfig=e,this.watermarkConfigChangeEmitter.fire(e)},n.getWatermarkConfig=function(){return this.watermarkConfig},n.setScale=function(e){this.scale=e},n.getScale=function(){return this.scale},n.getSearchCenter=function(){return this.searchCenter},n.setSearchCenter=function(e){this.searchCenter=e},t}(f.JT),Uu=n("../node_modules/@tencent/xtable/es/xtable-disposed-store.js"),Bu=function(e){function t(t){var n,i=t.core,o=t.id;return(n=e.call(this)||this).xTableDisposedStore=new Uu.t,n.onDidDisposeEmitter=n._register(new qn.Emitter),n.onRendererViewChangedEmitter=n._register(new qn.Emitter),n.onUndoRedoStatusChangedEmitter=n._register(new qn.Emitter),n.onCoreSelectionChangedEmitter=n._register(new qn.Emitter),n.onActivePointChangedEmitter=n._register(new qn.Emitter),n.invertMutation=function(e){return n.getRequestApi().mutationApi.invert(e,n.core.base)},n.runMutation=function(e){return n.getRequestApi().mutationApi.run(e,n.core.base)},n.follow=function(e,t,i){return n.getRequestApi().followRequestMutations(e,t,i)},n.afterUndoRedo=function(e){n.getRequestApi().triggerRender(e.undoMutations),n.getRequestApi().triggerCommit(e.undoMutations)},n.updateUndoRedoStatus=function(){n.onUndoRedoStatusChangedEmitter.fire()},n.onDidDispose=n.onDidDisposeEmitter.event,n.onRendererViewChanged=n.onRendererViewChangedEmitter.event,n.onUndoRedoStatusChanged=n.onUndoRedoStatusChangedEmitter.event,n.onCoreSelectionChanged=n.onCoreSelectionChangedEmitter.event,n.onActivePointChanged=n.onActivePointChangedEmitter.event,n.onEditorRendered=Xn.e.onEditorRendered.event,n.id=o,n.core=i,n.behaviorApi=i.behaviorApi,n.stateManager=new Fu,n.dataManager=new Pu((0,Jn.Z)(n)),n.renderer=new Nu((0,Jn.Z)(n)),n.activeStateService=new fi(n.core),n.rangeModel=new gi(n.activeStateService,{onCoreSelectionChangedEmitter:n.onCoreSelectionChangedEmitter,onActivePointChangedEmitter:n.onActivePointChangedEmitter}),n.floatState=new ni,n.watchRecordMoveService=new bi(n.activeStateService,n.rangeModel),n.watchTimerService=new Mi(n.activeStateService,n.core.rendererManagerService),n.recordDetail=new ii,n.core.rendererManagerService.registerRenderer(n.renderer),s.o.onActiveViewSwitched.event((function(e){var t=e.fromTable,i=e.fromView,o=e.toTable,r=e.toView;ti.r.whiteScreen(),n.renderer.render(),n.onRendererViewChangedEmitter.fire({editor:(0,Jn.Z)(n),fromTable:t,fromView:i,toTable:o,toView:r}),ti.r.firstScreenCanView()})),s.o.onPermissionChanged.event((function(){var e=n.renderer.getView();e&&(n.core.permissionService.getBasePermissionStatus().canEdit?e.switchToEditable():e.switchToReadonly())})),n.watchTimerService.startWatchTimer(),n}(0,u.Z)(t,e);var n=t.prototype;return n.dispose=function(){this.onDidDisposeEmitter.fire(),e.prototype.dispose.call(this)},n.getBasePermissionStatus=function(){return this.core.permissionService.getBasePermissionStatus()},n.attachEditor=function(e){var t=document.createElement("div");t.id=this.generateDomId(Ru.$X),t.className=Ru.$X,e.appendChild(t),this.root=t;var n=document.createElement("div");this.tableDescriptionRoot=n,n.id=this.generateDomId(Ru.pI),n.className=Ru.pI,this.root.appendChild(n);var i=document.createElement("div");this.renderRoot=i,i.id=this.generateDomId(Ru.pn),i.className=Ru.pn;var o=document.createElement("div");this.renderContainer=o,o.id=this.generateDomId(Ru.Jl),o.className=Ru.Jl,o.appendChild(i);var r=document.createElement("div");r.id=this.generateDomId(Ru.CY),r.className=Ru.CY,this.tableRoot=r,r.appendChild(o),this.root.appendChild(r);var s=document.createElement("div");s.id=Ru.Lg,s.style.display="none",this.root.appendChild(s),ei().isIOS&&this.renderRoot.addEventListener("touchstart",(function(e){return e.preventDefault()}))},n.registerUndoRedoStack=function(e){var t=this;this.undoRedoStack=e,this.undoRedoStack.registerDocType(Gn,{follow:this.follow,runMutation:this.runMutation,invertMutation:this.invertMutation,afterRedo:function(e){return t.afterUndoRedo(e)},afterUndo:function(e){return t.afterUndoRedo(e)},onUndoRedoStackChange:function(){return t.updateUndoRedoStatus()}}),this.behaviorApi.requestApi.registerUndoRedoStack(e)},n.getUndoRedoStack=function(){return this.undoRedoStack},n.getRoot=function(){return this.root},n.getTableRoot=function(){return this.tableRoot},n.getRenderRoot=function(){return this.renderRoot},n.getRenderContainer=function(){return this.renderContainer},n.getTableDescriptionRoot=function(){return this.tableDescriptionRoot},n.getCore=function(){return this.core},n.getRenderer=function(){return this.renderer},n.getScale=function(){return this.stateManager.getScale()},n.getDataManager=function(){return this.dataManager},n.getBehaviorApi=function(){return this.behaviorApi},n.getRequestApi=function(){return this.getBehaviorApi().requestApi},n.getMutationApi=function(){return this.getBehaviorApi().requestApi.mutationApi},n.getCurrentTable=function(){var e=this.activeStateService.getActiveTableId();if(e)return this.core.base.getTableByTableId(e)},n.getCurrentView=function(){var e,t=this.activeStateService.getActiveViewId();if(t)return null===(e=this.getCurrentTable())||void 0===e?void 0:e.getViewByViewId(t)},n.destroy=function(){this.renderer.destroy(),this.watchTimerService.dispose()},n.deserializeMutation=function(e){return a.Z.deserializeMutation(e)},n.serializeMutation=function(e){return a.Z.serializeMutation(e)},n.deserializeRequests=function(e){return this.getRequestApi().deserializeRequests(e)},n.runMutations=function(e){return this.getRequestApi().runMutations(e,this.core.base)},n.runAndCommitMutations=function(e){return this.getRequestApi().runAndCommitMutations(e,this.core.base)},n.generateDomId=function(e){return e+"_"+this.id},t}(f.JT),Wu=function(){function e(e){this.mode=e,this.currentEditor=null,this.editorMap={},this.init()}e.getInstance=function(){return e.instance||(e.instance=new e(Bn.SINGLE)),e.instance},e.createInstance=function(t){return e.instance=new e(t),e.instance};var t=e.prototype;return t.getCurrentEditor=function(){return this.mode===Bn.MULTIPLE||this.currentEditor||(this.currentEditor=this.createEditor("current")),this.currentEditor},t.createEditor=function(e){var t=new Bu({id:e,core:this.core});return this.editorMap[e]=t,t},t.setCurrentEditor=function(e){this.mode===Bn.MULTIPLE&&(this.currentEditor=this.editorMap[e]||null)},t.getCore=function(){return this.core},t.init=function(){var e=this,t={token:"baseznXBFUFn70sLi",title:"fakeTitle",owner:"mockUserId",rev:100,mutations:[]};this.core=Kn.createModel(t.token),this.core.initWithClientVars(t),Xn.e.onActiveEditorSwitched.event((function(t){var n=t.toEditor;e.setCurrentEditor(n.id)})),window.xtableCore=this.core,window.xtableEditorMap=this.editorMap},e}()},"../node_modules/@tencent/xtable/es/xtable-disposed-store.js":function(e,t,n){"use strict";n.d(t,{e:function(){return i},t:function(){return r}}),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.map.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/esnext.map.delete-all.js"),n("../node_modules/core-js/modules/esnext.map.every.js"),n("../node_modules/core-js/modules/esnext.map.filter.js"),n("../node_modules/core-js/modules/esnext.map.find.js"),n("../node_modules/core-js/modules/esnext.map.find-key.js"),n("../node_modules/core-js/modules/esnext.map.includes.js"),n("../node_modules/core-js/modules/esnext.map.key-of.js"),n("../node_modules/core-js/modules/esnext.map.map-keys.js"),n("../node_modules/core-js/modules/esnext.map.map-values.js"),n("../node_modules/core-js/modules/esnext.map.merge.js"),n("../node_modules/core-js/modules/esnext.map.reduce.js"),n("../node_modules/core-js/modules/esnext.map.some.js"),n("../node_modules/core-js/modules/esnext.map.update.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i,o=n("../node_modules/@tencent/containerized/build/main/index.js");!function(e){e[e.$onEditorClose=0]="$onEditorClose",e[e.$onEditorBlur=1]="$onEditorBlur",e[e.$onTableClose=2]="$onTableClose",e[e.$onViewClose=3]="$onViewClose"}(i||(i={}));var r=function(){function e(){this.disposedStoreMap=new Map}var t=e.prototype;return t.get=function(e){var t=this.disposedStoreMap.get(e)||new o.SL;return this.disposedStoreMap.set(e,t),t},t.dispose=function(e){var t;null===(t=this.disposedStoreMap.get(e))||void 0===t||t.dispose()},e}()},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/styles/drag.module.css":function(e,t){"use strict";t.Z={dragDivider:"_z18G1pPxlb47ADCwBDT"}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/styles/drawer.module.css":function(e,t){"use strict";t.Z={drawerFontColor:"nLc2JjZF3R_GqEA2WmS7",drawerHeader:"r2oEkCR2zEVCccjyEsBy",drawerHeaderTitle:"eLwSr9MF9aqcJjWlaCO2",drawerHeaderIcon:"eTK6bQ6BMTTpbaECII8d"}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/common/styles/menu.module.css":function(e,t){"use strict";t.Z={menuItem:"MvKeqjX2F3Wvmey7Peww",menuItemTitle:"pVBTmHogzO6IrZSow5MB",titleGroup:"alUlcUEi1SquCXoEu5MD",titleLimit:"vlnyk1ana52TtmMXPvxR",menuItemArrow:"yJqmr0ftjADwaYdpNuCp",menuItemIcon:"bhZyteVXAXZewNU2i0it"}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/sort/editor/index.module.css":function(e,t){"use strict";t.Z={baseEditorForm:"yTsNaEQybaEM3Youbzgw",baseEditorFormItem:"skXv2bTSGrceHHpWN3G_",removeIcon:"Eok07DW7CKd9qzlxlWyz",hide:"nWE0WTEHdgn_UUbbfjmJ",dragIcon:"y59QW1it8hoHwH3sXJth",formItem:"mRtXmsr6QVTKnXhEmlnc",formItemList:"I2E7ftBGGYeSAxO7xQjq",formItemHover:"f7JhxpcU2UTuWi57oWlz",formCol:"jBp1dabQG9pHtuToE20F",baseEditorHeader:"sXW8uDOcB7ls19MpRRcI",headerLabel:"ONPKf35Yp61JERARyYSy",headerSwitch:"KvMqf208oJjBBrNibRfU",headerSwitchLabel:"aY7jlNw_gG7OmpjrNXuF",headerRadioText:"kGdqqORQTlnW_J9AyW8A",headerRadioBox:"ayhESuW9JY3OVG5y3iv7",headerRadioGroup:"b4KJa0fGY5E_Yfzcz6Ym",footerBox:"nTK27l1Re4JsZY_PYuRB",baseEditorFormFooter:"vkazzSf8Uu_h1MJY1r6i",baseEditorFormFooterBox:"itHn2l9BvMXxUCVlRwvp",addIcon:"ZS0nFPKWRHO579ibW2C0",baseEditorFormFooterBoxText:"COs5djnqSnA5z7fNCMRE",formFooterSelect:"vBdq4aurrUqkFHSN7cvE",editorFontColor:"KGWatJBtjstKwp4tKFe8",editorIcon:"lzE5txzoGEAUcu6hDivc",selectOption:"IY1Ksj2f3PhdSxXWp_Ql",selectOptionIcon:"CyLCU3YFr5bfRNKv2ZIi",selectOptionText:"iZnPU71WyMZHYam4Po2W",baseEditorButtonGroup:"zXNvgXp0cnO4NaitLhxK",baseEditorButtonGroupDivider:"TZS3unZYDkTtYSwzSs_S",baseEditorButtonGroupItem:"JvcOnzeLUY6YH9VciknK"}},"../node_modules/@tencent/smartsheet-sdk/es/workbench/view-switch/mobile/index.module.css":function(e,t){"use strict";t.Z={viewSwitchPopupMount:"pB0IiMHUQrfe3WalO_EX",bottomDrawer:"eLJOW9KsYPNBy40ufryQ",bottomDrawerContainer:"kfpA_QunpB0cbrRnHfHH",bottomDrawerContent:"CjSCG6qf_SJxSJ61D4IS",bottomDrawerHeader:"diwy88wm4g7AzYqLcbas",bottomDrawerTitle:"D0t_NB8iqnbBaDZ6Sozm",bottomDrawerMenu:"nyjqqLzb0gUtxChnyKWO",bottomDrawerMenuItemGroup:"z16ALamJNei2xg_h_3Jc",menuItem:"wR2qkzmq9akgdGhsjvx1",menuItemIcon:"_YniiDe69taG4PcxrlvJ",menuItemTitle:"g_304_S1iSdokoQyKHo5",menuItemDivider:"NGFb7vJ0BBEtIq8e5Uw9",bottomDrawerDivider:"H2uRfkh_uEdn4PMQhrae",closeBtn:"I0V9TmkKCvxmajmMmSfu"}},"../node_modules/@tencent/alloy-cdn-retry-plugin/lib/adapter.js":function(e,t,n){"use strict";var i=n("../node_modules/@tencent/alloy-cdn-retry-plugin/lib/constant-bbb4776f.js");t.A=function(){return i.RuntimeNamespace in window?window[i.RuntimeNamespace].strategy:{getRetryCountLimit:function(){return 3},findRequestUrl:function(e,t){return e},emitLoadSuccessEvent:function(e,t){},emitLoadFailedEvent:function(e,t){}}}},"../node_modules/@tencent/alloy-cdn-retry-plugin/lib/constant-bbb4776f.js":function(e,t){"use strict";t.PluginPrefix="DocsCdnRetryPlugin",t.RuntimeNamespace="DCR"},"../node_modules/@tencent/dispose-tree/build/main/cancellation-util.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCancellationToken=t.CancellationTokenState=void 0;var n=function(){function e(){}return e.None=Object.freeze({isCancellationRequested:!1}),e.Cancelled=Object.freeze({isCancellationRequested:!0}),e}();t.CancellationTokenState=n,t.isCancellationToken=function(e){return e===n.None||e===n.Cancelled||!(!e||"object"!==typeof e)&&"boolean"===typeof e.isCancellationRequested}},"../node_modules/@tencent/dispose-tree/build/main/cancellation.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=void 0;var i=n("../node_modules/@tencent/dispose-tree/build/main/cancellation-util.js"),o=function(){function e(){this.isCancelled=!1}return e.prototype.cancel=function(){this.isCancelled||(this.isCancelled=!0)},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this.isCancelled},enumerable:!1,configurable:!0}),e}(),r=function(){function e(){this.innertoken=void 0}return Object.defineProperty(e.prototype,"token",{get:function(){return this.innertoken||(this.innertoken=new o),this.innertoken},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this.innertoken?this.innertoken instanceof o&&this.innertoken.cancel():this.innertoken=i.CancellationTokenState.Cancelled},e.prototype.dispose=function(){this.cancel()},e}();t.CancellationTokenSource=r},"../node_modules/@tencent/dispose-tree/build/main/disposable-base.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},r=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mixinRootDisposable=t.mixinDisposable=t.Disposable=t.RootDisposable=void 0;var s=n("../node_modules/@tencent/dispose-tree/build/main/dispose-trace.js"),a=n("../node_modules/@tencent/dispose-tree/build/main/dispose-marktrack.js"),l=n("../node_modules/@tencent/dispose-tree/build/main/disposable-store.js"),d=function(){function e(){this.disposedStore=new l.DisposableStore}return e.prototype.dispose=function(e){this.disposedStore.dispose(e)},e.prototype._register=function(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this.disposedStore.add(e)},e.None=Object.freeze({dispose:function(){}}),e}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.dispose=function(t){var n=t,i=!1;if(!n){var o=this.constructor.name;n=s.DisposeTrace.traceRoot(o),i=!0}e.prototype.dispose.call(this,n),i&&n.stop()},t.prototype._register=function(t){return e.prototype._register.call(this,t)},t}(d);t.RootDisposable=c;var u=function(e){function t(){var t=e.call(this)||this;return a.trackDisposable(t),t}return i(t,e),t.prototype.dispose=function(t){a.markTracked(this),e.prototype.dispose.call(this,t)},t}(d);t.Disposable=u,t.mixinDisposable=function(e){return function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.apply(this,r(t))||this;return i.disposedStore=new l.DisposableStore,a.trackDisposable(i),i}return i(t,e),t.prototype.dispose=function(e){a.markTracked(this),this.disposedStore.dispose(e)},t.prototype._register=function(e){return this.disposedStore.add(e)},t}(e)},t.mixinRootDisposable=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposedStore=new l.DisposableStore,t}return i(t,e),t.prototype.dispose=function(e){a.markTracked(this);var t=e,n=!1;if(!t){var i=this.constructor.name;t=s.DisposeTrace.traceRoot(i),n=!0}this.disposedStore.dispose(t),n&&t.stop()},t.prototype._register=function(e){return this.disposedStore.add(e)},t}(e)}},"../node_modules/@tencent/dispose-tree/build/main/disposable-store.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisposableStore=void 0;var i=n("../node_modules/@tencent/dispose-tree/build/main/dispose-trace.js"),o=n("../node_modules/@tencent/dispose-tree/build/main/dispose-marktrack.js"),r=function(){function e(){this.toDisposeSet=new Set,this.isDisposeState=!1}return e.prototype.dispose=function(e){if(!this.isDisposeState)if(o.markTracked(this),this.isDisposeState=!0,e)this.clear(e);else{var t=i.DisposeTrace.traceRoot(this.constructor.name);this.clear(t),t.stop()}},e.prototype.clear=function(e){this.toDisposeSet.forEach((function(t){var n=t.disposableId||t.constructor.name;t.dispose(null===e||void 0===e?void 0:e.branch(n))})),this.toDisposeSet.clear()},e.prototype.add=function(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return o.markTracked(t),this.isDisposeState?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this.toDisposeSet.add(t),t},e.DISABLE_DISPOSED_WARNING=!1,e}();t.DisposableStore=r},"../node_modules/@tencent/dispose-tree/build/main/dispose-marktrack.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackDisposable=t.markTracked=t.disableDisposablesTrack=t.enableDisposablesTrack=void 0;var i=n("../node_modules/@tencent/dispose-tree/build/main/disposable-base.js"),o=!1,r="__is_disposable_tracked__";t.enableDisposablesTrack=function(){o=!0},t.disableDisposablesTrack=function(){o=!1},t.markTracked=function(e){if(o&&e&&e!==i.Disposable.None)try{e[r]=!0}catch(t){}},t.trackDisposable=function(e){return o?(e[r]||(e[r]=!1),new Error("Potentially leaked disposable").stack,setTimeout((function(){e[r]}),3e3),e):e}},"../node_modules/@tencent/dispose-tree/build/main/dispose-trace.js":function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.DisposeTrace=t.disableDisposeTrace=t.enableDisposeTrace=void 0;var r=!1;t.enableDisposeTrace=function(){r=!0},t.disableDisposeTrace=function(){r=!1};var s=function(){function e(e){this.name=e,this._dep=[]}return e.traceRoot=function(t){return r?new e(t):e._None},e.prototype.branch=function(t){var n=new e(t);return this._dep.push([t,n]),n},e.prototype.stop=function(){var e=["dispose "+this.name,""+function e(t,n){var r,s,a=[],l=new Array(t+1).join("\t");try{for(var d=i(n._dep),c=d.next();!c.done;c=d.next()){var u=o(c.value,2),h=u[0],g=u[1];if(g){a.push(l+"dispose -> "+h);var f=e(t+1,g);f&&a.push(f)}else a.push(l+"dispose -> "+h)}}catch(m){r={error:m}}finally{try{c&&!c.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}return a.join("\n")}(1,this)];e.join("\n")},e._None=new(function(e){function t(){return e.call(this,null)||this}return n(t,e),t.prototype.stop=function(){},t.prototype.branch=function(){return this},t}(e)),e}();t.DisposeTrace=s},"../node_modules/@tencent/dispose-tree/build/main/dispose-util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryToMarkDispose=t.tryToDispose=t.toDisposable=t.combinedDisposable=t.dispose=t.isDisposable=void 0;var i=n("../node_modules/@tencent/dispose-tree/build/main/dispose-trace.js"),o=n("../node_modules/@tencent/dispose-tree/build/main/dispose-marktrack.js");function r(e){return"function"===typeof e.dispose&&(0===e.dispose.length||1===e.dispose.length)}function s(e,t){if(Array.isArray(e)){var n=t||i.DisposeTrace.traceRoot("disposables");return e.forEach((function(e){e&&(o.markTracked(e),e.dispose(n))})),n.stop(),[]}if(e){var r=t||i.DisposeTrace.traceRoot("disposables");return o.markTracked(e),e.dispose(r),r.stop(),e}}t.isDisposable=r,t.dispose=s,t.combinedDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach(o.markTracked),o.trackDisposable({dispose:function(t){return s(e,t)}})},t.toDisposable=function(e,t){void 0===t&&(t="");var n=o.trackDisposable({dispose:function(t){o.markTracked(n),e(t)},disposableId:t});return n},t.tryToDispose=function(e,t){e&&r(e)&&e.dispose(t)},t.tryToMarkDispose=function(e){r(e)&&o.markTracked(e)}},"../node_modules/@tencent/dispose-tree/build/main/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("../node_modules/@tencent/dispose-tree/build/main/disposable-base.js");Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}}),Object.defineProperty(t,"RootDisposable",{enumerable:!0,get:function(){return i.RootDisposable}}),Object.defineProperty(t,"mixinDisposable",{enumerable:!0,get:function(){return i.mixinDisposable}}),Object.defineProperty(t,"mixinRootDisposable",{enumerable:!0,get:function(){return i.mixinRootDisposable}});var o=n("../node_modules/@tencent/dispose-tree/build/main/dispose-marktrack.js");Object.defineProperty(t,"markTracked",{enumerable:!0,get:function(){return o.markTracked}}),Object.defineProperty(t,"trackDisposable",{enumerable:!0,get:function(){return o.trackDisposable}}),Object.defineProperty(t,"enableDisposablesTrack",{enumerable:!0,get:function(){return o.enableDisposablesTrack}}),Object.defineProperty(t,"disableDisposablesTrack",{enumerable:!0,get:function(){return o.disableDisposablesTrack}});var r=n("../node_modules/@tencent/dispose-tree/build/main/dispose-trace.js");Object.defineProperty(t,"DisposeTrace",{enumerable:!0,get:function(){return r.DisposeTrace}}),Object.defineProperty(t,"enableDisposeTrace",{enumerable:!0,get:function(){return r.enableDisposeTrace}}),Object.defineProperty(t,"disableDisposeTrace",{enumerable:!0,get:function(){return r.disableDisposeTrace}});var s=n("../node_modules/@tencent/dispose-tree/build/main/dispose-util.js");Object.defineProperty(t,"toDisposable",{enumerable:!0,get:function(){return s.toDisposable}}),Object.defineProperty(t,"isDisposable",{enumerable:!0,get:function(){return s.isDisposable}}),Object.defineProperty(t,"dispose",{enumerable:!0,get:function(){return s.dispose}}),Object.defineProperty(t,"combinedDisposable",{enumerable:!0,get:function(){return s.combinedDisposable}}),Object.defineProperty(t,"tryToDispose",{enumerable:!0,get:function(){return s.tryToDispose}}),Object.defineProperty(t,"tryToMarkDispose",{enumerable:!0,get:function(){return s.tryToMarkDispose}});var a=n("../node_modules/@tencent/dispose-tree/build/main/disposable-store.js");Object.defineProperty(t,"DisposableStore",{enumerable:!0,get:function(){return a.DisposableStore}});var l=n("../node_modules/@tencent/dispose-tree/build/main/cancellation.js");Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return l.CancellationTokenSource}})},"../node_modules/@tencent/doc-visibilitychange/dist/tabkit.js":function(e,t,n){n.g,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}({3:function(e,t,n){"use strict";n.r(t);var i,o=function(){function e(e){this.taskId=this.getRandomId(),this.taskFunction=e}return e.prototype.exec=function(){this.taskFunction()},e.prototype.getRandomId=function(){return Date.now().toString(32)+Math.random().toString(32).substring(2)},e}();void 0!==document.hidden?i="visibilitychange":void 0!==document.msHidden?i="msvisibilitychange":void 0!==document.webkitHidden&&(i="webkitvisibilitychange");var r,s,a,l=new(function(){function e(){var e=this;this.visibleTasks=[],this.hiddenTasks=[],this.destroyTasks=[],document.addEventListener(i,(function(){"hidden"===document.visibilityState&&e.hiddenTasks.forEach((function(e){return e.exec()})),"visible"===document.visibilityState&&e.visibleTasks.forEach((function(e){return e.exec()}))}))}return e.prototype.registerOnVisible=function(e){var t=new o(e);return this.visibleTasks.push(t),t.taskId},e.prototype.registerOnHidden=function(e){var t=new o(e);return this.hiddenTasks.push(t),t.taskId},e.prototype.registerOnDestory=function(e){var t=new o(e);return this.destroyTasks.push(t),t.taskId},e.prototype.destroy=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){e.destroyTasks.find((function(e){return e.taskId===t})).exec()}))},e.prototype.clear=function(){this.visibleTasks.length=0,this.hiddenTasks.length=0,this.destroyTasks.length=0},e}());!function(e){e.TabCountChange="TabCountChange",e.SuspendTab="SuspendTab"}(r||(r={})),function(e){e.Active="active",e.Inactive="inactive"}(s||(s={})),function(e){e.ReactivateTab="reactivate_tab",e.SuspendTab="suspend_tab",e.ReportOnly="report_only"}(a||(a={}));var d=/^tabStatus/,c=function(){function e(e){var t=this;this.suspendTimer=0,this.updateTimer=0,this.tabCount=1,this.disabledTime=36e4,this.tabCountLimit=0,this.handleStorageChange=function(){var e=t.getTabCount();e!==t.tabCount&&(t.listener.get(r.TabCountChange).forEach((function(e){return e()})),t.updateTabCount(e))},this.handleUnload=function(){localStorage.removeItem("tabStatus_"+t.id),t.destroy()},this.handleVisibilityChange=function(){if("visible"===document.visibilityState){clearTimeout(t.suspendTimer);var e=Date.now();t.report(a.ReactivateTab,e),t.updateCurTabStatus({activeTime:e,leaveTime:e,suspended:!1}),t.checkStatus()}else e=Date.now(),t.updateCurTabStatus({leaveTime:e}),clearTimeout(t.beatTimer)},this.options=e,this.count=this.getTabCount()||0,this.beatTimer=0,this.tabCountLimit=e.tabCountLimit||50,this.suspendTabTimeLimit=e.suspendTabTimeLimit||216e5,this.id=e.docId+"_"+this.getUniqId(),this.listener=new Map,this.log=e.log,this.handleLoad(),this.initEvent()}return Object.defineProperty(e.prototype,"defaultReportOptions",{get:function(){return{tab_count:this.getTabCount(),tab_limit:this.tabCountLimit,time_limit:this.suspendTabTimeLimit}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reportReactivateTimeLimit",{get:function(){return Math.floor(.8*this.suspendTabTimeLimit)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beatTime",{get:function(){return Math.min(3e5,Math.max(this.suspendTabTimeLimit/10,1e4))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logOptions",{get:function(){return{tab_count:this.getTabCount()}},enumerable:!1,configurable:!0}),e.prototype.getTabStatus=function(e){var t=localStorage.getItem("tabStatus_"+e);if(t)return JSON.parse(t)},e.prototype.setTabStatus=function(e,t){localStorage.setItem("tabStatus_"+e,JSON.stringify(t))},e.prototype.setTabCountLimit=function(e){this.tabCountLimit=e},e.prototype.checkStatus=function(){var e=this;clearInterval(this.beatTimer),this.beatTimer=setInterval((function(){var t=e.getAllTabStatus(),n=Object.keys(t),i=Date.now();n.forEach((function(n){var o=t[n];(!o||i-o>e.disabledTime)&&localStorage.removeItem(n)}))}),this.beatTime)},e.prototype.getCurTabStatus=function(){return this.getTabStatus(this.id)},e.prototype.getAllTabStatus=function(){var e={};return Object.keys(localStorage).forEach((function(t){d.test(t)&&(e[t]=t)})),e},e.prototype.getTabCount=function(){var e=0;return Object.keys(localStorage).forEach((function(t){d.test(t)&&(e+=1)})),e},e.prototype.addListener=function(e,t){var n=this.listener.get(e);n||(n=[],this.listener.set(e,n)),n.push(t)},e.prototype.removeListener=function(e,t){if(this.listener.has(e)){var n=this.listener.get(e),i=n.indexOf(t);-1!==i&&n.splice(i,1)}},e.prototype.destroy=function(){this.listener.clear(),clearTimeout(this.beatTimer),clearTimeout(this.updateTimer),document.removeEventListener("visibilitychange",this.handleVisibilityChange),window.removeEventListener("beforeunload",this.handleUnload),window.removeEventListener("storage",this.handleStorageChange)},e.prototype.initEvent=function(){document.addEventListener("visibilitychange",this.handleVisibilityChange),window.addEventListener("beforeunload",this.handleUnload)},e.prototype.handleLoad=function(){var e=Date.now();this.updateCurTabStatus({activeTime:e,leaveTime:e}),this.heartbeat(),"visible"===document.visibilityState&&this.checkStatus(),this.report(a.ReportOnly,Date.now())},e.prototype.getUniqId=function(){return""+~~(1e9*Math.random())},e.prototype.getLogData=function(e,t){return Object.assign({action:e,status:"visible"===document.visibilityState?s.Active:s.Inactive,inactive_duration:Math.floor(t/1e3),tabinfo:this.getCurTabStatus()},this.defaultReportOptions)},e.prototype.updateTabCount=function(e){this.tabCount=e},e.prototype.suspend=function(){var e=this.listener.get(r.SuspendTab),t=this.options.canLeavePage;t?(t(),this.report(a.ReportOnly,Date.now()),this.handleUnload()):this.report(a.SuspendTab,Date.now()),e&&e.forEach((function(e){return e()})),this.updateCurTabStatus({suspended:!0})},e.prototype.updateCurTabStatus=function(e){var t=this.getTabStatus(this.id)||{};e.activeTime&&(t.activeTime=e.activeTime),e.leaveTime&&(t.leaveTime=e.leaveTime),e.suspended?e.suspended&&(t.suspended=!0):delete t.suspended,(t.activeTime||t.leaveTime)&&this.setTabStatus(this.id,t)},e.prototype.suspendTab=function(){var e,t=this;if("visible"!==document.visibilityState){var n=this.getAllTabStatus(),i=Object.keys(n);if(!(i.length-this.tabCountLimit<=0)){var o=this.id,r=null===(e=n[o])||void 0===e?void 0:e.leaveTime;if(!(Date.now()-r<this.suspendTabTimeLimit)){var s=!0;i.forEach((function(e){var i;if(e!==t.id){var o=n[e].leaveTime;if(o){var a=null===(i=n[e])||void 0===i?void 0:i.suspended;o<r&&a&&(s=!1)}}})),s&&(this.suspendTimer=setTimeout((function(){t.suspend()})))}}}},e.prototype.report=function(e,t){var n=this.getTabStatus(this.id);if(n){var i=n.leaveTime;if(i){var o=t-i;if(e===a.ReactivateTab&&i<this.reportReactivateTimeLimit)return;var r=this.getLogData(e,o);this.log(e,r)}}},e.prototype.heartbeat=function(){var e=this;this.updateTimer=setInterval((function(){e.updateCurTabStatus({activeTime:Date.now()}),e.getTabCount()>e.tabCountLimit&&e.suspendTab()}),this.beatTime)},e}(),u={visibilitychange:l,tabManager:new(function(){function e(e){var t=this;this.option=e,this.strategies=[],this.onMaxTab=function(){t.strategies.forEach((function(e){return e.release()}))}}return e.prototype.addStrategy=function(e){this.strategies.push(e)},e.prototype.start=function(e){this.init(e),this.tabStatusManager.addListener(r.SuspendTab,this.onMaxTab)},e.prototype.stop=function(){this.tabStatusManager&&this.tabStatusManager.removeListener(r.SuspendTab,this.onMaxTab)},e.prototype.init=function(e){var t=e.log||function(){};this.tabStatusManager||(this.tabStatusManager=new c(Object.assign({tabCountLimit:10,suspendTabTimeLimit:3e5,docId:e.docId,log:t},this.option)))},e}())};t.default=u}}).default},"../node_modules/@tencent/docs-badge-service/lib/esm/index.js":function(e,t,n){"use strict";n.d(t,{Av:function(){return a},Oh:function(){return l}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function o(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function r(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var s=function(){function e(e){this.info=e,this.onUpdate=function(){},this.subBadges=new Map}return e.prototype.relatedTo=function(e,t){return this.subBadges.set(e+"-"+t,{position:e,key:t}),this.onUpdate(),this},e.prototype.removeRelatedBadge=function(e,t){var n=this.subBadges.delete(e+"-"+t);return this.onUpdate(),n},Object.defineProperty(e.prototype,"relatedBadges",{get:function(){return r([],o(this.subBadges.values()))},enumerable:!1,configurable:!0}),e}(),a=function(){function e(e){this.persistStorage=e,this.badgeList=new Map,this.subscribers=[]}return e.prototype.setPrefix=function(e){var t;null===(t=this.persistStorage)||void 0===t||t.setPrefix(e)},e.prototype.showBadgeOn=function(e,t){var n=this,o=e+"-"+t.key,r=Date.now(),a=i(i({version:1},t),{position:e}),l=new s(a);return t.expire>r&&!this.isRemoved(a)&&(this.badgeList.set(o,l),l.onUpdate=function(){n.updateBadge()},this.updateBadge()),l},e.prototype.removeBadgeOn=function(e,t){var n=this,i=e+"-"+t,o=this.badgeList.get(i),r=!1;o&&(this.badgeList.delete(i),this.setPersistStorage(o.info),r=!0,o.info.group&&this.badgeList.forEach((function(e){e.info.group===o.info.group&&(n.badgeList.delete(e.info.position+"-"+e.info.key),n.setPersistStorage(e.info),r=!0)}))),this.badgeList.forEach((function(n){r=n.removeRelatedBadge(e,t)||r})),r&&this.updateBadge()},e.prototype.subscribe=function(e){this.subscribers.push(e)},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))},e.prototype.clear=function(){this.badgeList.clear(),this.updateBadge()},e.prototype.isRemoved=function(e){return!!this.persistStorage&&this.persistStorage.isRemoved(e)},e.prototype.setPersistStorage=function(e){this.persistStorage&&this.persistStorage.setRemoved(e)},e.prototype.updateBadge=function(){var e=this,t=new Map;this.badgeList.forEach((function(e,n){t.set(n,e.info),e.relatedBadges.forEach((function(n){var o=n.position+"-"+n.key;t.has(o)||t.set(o,i(i({},n),{expire:e.info.expire}))}))}));var n=r([],o(t.values()));this.subscribers.forEach((function(){e.subscribers.forEach((function(e){return e(n)}))}))},e.prototype.getMainBadges=function(){return Array.from(this.badgeList.values())},e}(),l=function(){function e(e){void 0===e&&(e="badge-service"),this.prefix=e}return e.prototype.setPrefix=function(e){this.prefix=e},e.prototype.setRemoved=function(e){var t;try{var n=this.prefix+":badge-removed",i=JSON.parse(null!==(t=localStorage.getItem(n))&&void 0!==t?t:"[]"),s=e.position+"-"+e.key+":v"+e.version;i.push(s),localStorage.setItem(n,JSON.stringify(r([],o(new Set(i)))))}catch(a){console.error("Failed to set persist storage:\n"+a)}},e.prototype.isRemoved=function(e){var t;try{var n=this.prefix+":badge-removed",i=JSON.parse(null!==(t=localStorage.getItem(n))&&void 0!==t?t:"[]"),o=e.position+"-"+e.key+":v"+e.version;if(i.includes(o))return!0}catch(r){console.error("Failed to set persist storage:\n"+r)}return!1},e}()},"../node_modules/@tencent/docs-collab/lib/src/BaseMessageCenter.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n("../node_modules/@tencent/docs-collab/lib/src/manager/TaskQueueManager.js")),r=i(n("../node_modules/@tencent/docs-collab/lib/src/manager/VersionManager.js")),s=i(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),a=function(){function e(e){this.versionManager=new r.default(e),this.taskQueueManager=new o.default,s.default.debug("baseMessageCenter created")}return e.prototype.pause=function(){this.taskQueueManager.pause()},e.prototype.resume=function(){this.taskQueueManager.resume()},e.prototype.forceResume=function(){this.taskQueueManager.forceResume()},e.prototype.dispose=function(){s.default.debug("baseMessageCenter dispose"),this.taskQueueManager.dispose(),this.versionManager.dispose()},e}();t.default=a},"../node_modules/@tencent/docs-collab/lib/src/interface/full-member-manager.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INACTIVE_TIPS=t.ENTER_FULL_MEMBER_MODE_TIPS=t.QUERY_DATA_ERROR_TIPS=void 0,t.QUERY_DATA_ERROR_TIPS="服务器异常，请刷新重试。",t.ENTER_FULL_MEMBER_MODE_TIPS="可编辑的人数已达上限，当前仅可查看。",t.INACTIVE_TIPS="编辑人数较多，转为只能查看。"},"../node_modules/@tencent/docs-collab/lib/src/interface/hot-docs-manager.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUERY_DATA_ERROR_TIPS=void 0,t.QUERY_DATA_ERROR_TIPS="文档开小差了，刷新后更新最新内容。"},"../node_modules/@tencent/docs-collab/lib/src/manager/EventManager.js":function(e,t,n){"use strict";var i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js"),a=r(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),l=r(n("../node_modules/@tencent/docs-collab/lib/src/util/reporter.js")),d=function(){function e(){this._onRoomOpen=new s.Emitter,this.onRoomOpen=this._onRoomOpen.event,this._onConnectionStatusChange=new s.Emitter,this.onConnectionStatusChange=this._onConnectionStatusChange.event,this._onShutdown=new s.Emitter,this.onShutdown=this._onShutdown.event,this._onClosed=new s.Emitter,this.onClosed=this._onClosed.event,this._onEnterOnline=new s.Emitter,this.onEnterOnline=this._onEnterOnline.event,this._onEnterOffline=new s.Emitter,this.onEnterOffline=this._onEnterOffline.event,this._onNetReconnectedFail=new s.Emitter,this.onNetReconnectedFail=this._onNetReconnectedFail.event,this._onQueueChange=new s.Emitter,this.onQueueChange=this._onQueueChange.event,this._onAcceptCommit=new s.Emitter,this.onAcceptCommit=this._onAcceptCommit.event,this._onCommitError=new s.Emitter,this.onCommitError=this._onCommitError.event,this._onRetryCommit=new s.Emitter,this.onRetryCommit=this._onRetryCommit.event,this._onCommitBlock=new s.Emitter,this.onCommitBlock=this._onCommitBlock.event,this._onReceiveOtherMessage=new s.Emitter,this.onReceiveOtherMessage=this._onReceiveOtherMessage.event,this._onReceiveMessage=new s.Emitter,this.onReceiveMessage=this._onReceiveMessage.event,this._onTaskError=new s.Emitter,this.onTaskError=this._onTaskError.event,this._onTaskDestroy=new s.Emitter,this.onTaskDestroy=this._onTaskDestroy.event,this._onTaskShutDown=new s.Emitter,this.onTaskShutDown=this._onTaskShutDown.event,this._onVersionChange=new s.Emitter,this.onVersionChange=this._onVersionChange.event,this.onLogEmitter=new s.Emitter,this.onLog=this.onLogEmitter.event,this._onTdw=new s.Emitter,this.onTdw=this._onTdw.event,this.onReportEmitter=new s.Emitter,this.onReport=this.onReportEmitter.event}return e.prototype.injectDependency=function(e){var t=e.networkStatusManager,n=e.localUserChangeManager,i=e.sendMessageManager,o=e.receiveMessageManager,r=e.taskQueueManager,s=e.versionManager;this.networkStatusManager=t,this.localUserChangeManager=n,this.sendMessageManager=i,this.receiveMessageManager=o,this.taskQueueManager=r,this.versionManager=s,this.initEventEmitter()},e.prototype.dispose=function(){this._onRoomOpen.dispose(),this._onConnectionStatusChange.dispose(),this._onShutdown.dispose(),this._onClosed.dispose(),this._onEnterOnline.dispose(),this._onEnterOffline.dispose(),this._onNetReconnectedFail.dispose(),this._onQueueChange.dispose(),this._onAcceptCommit.dispose(),this._onCommitError.dispose(),this._onReceiveMessage.dispose(),this._onReceiveOtherMessage.dispose(),this._onTaskError.dispose(),this._onTaskDestroy.dispose(),this._onTaskShutDown.dispose(),this._onVersionChange.dispose(),this.onLogEmitter.dispose(),this._onTdw.dispose(),this.onReportEmitter.dispose(),this._onRetryCommit.dispose(),this._onCommitBlock.dispose()},e.prototype.initEventEmitter=function(){var e=this;this.networkStatusManager.onRoomOpen((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onRoomOpen).fire.apply(t,o(n))})),this.networkStatusManager.onConnectionStatusChange((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onConnectionStatusChange).fire.apply(t,o(n))})),this.networkStatusManager.onShutdown((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onShutdown).fire.apply(t,o(n))})),this.networkStatusManager.onClosed((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onClosed).fire.apply(t,o(n))})),this.networkStatusManager.onEnterOnline((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onEnterOnline).fire.apply(t,o(n))})),this.networkStatusManager.onEnterOffline((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onEnterOffline).fire.apply(t,o(n))})),this.networkStatusManager.onNetReconnectedFail((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onNetReconnectedFail).fire.apply(t,o(n))})),this.localUserChangeManager.onQueueChange((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onQueueChange).fire.apply(t,o(n))})),this.sendMessageManager.onAcceptCommit((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onAcceptCommit).fire.apply(t,o(n))})),this.sendMessageManager.onCommitError((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onCommitError).fire.apply(t,o(n))})),this.sendMessageManager.onRetryCommit((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onRetryCommit).fire.apply(t,o(n))})),this.sendMessageManager.onCommitBlock((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onCommitBlock).fire.apply(t,o(n))})),this.receiveMessageManager.onReceiveMessage((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onReceiveMessage).fire.apply(t,o(n))})),this.receiveMessageManager.onReceiveOtherMessage((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onReceiveOtherMessage).fire.apply(t,o(n))})),this.taskQueueManager.onTaskError((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onTaskError).fire.apply(t,o(n))})),this.taskQueueManager.onTaskDestroy((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onTaskDestroy).fire.apply(t,o(n))})),this.taskQueueManager.onTaskShutDown((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onTaskShutDown).fire.apply(t,o(n))})),this.versionManager.onVersionChange((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._onVersionChange).fire.apply(t,o(n))})),a.default.onLog((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e.onLogEmitter).fire.apply(t,o(n))})),l.default.onReport((function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e.onReportEmitter).fire.apply(t,o(n))}))},e}();t.default=d},"../node_modules/@tencent/docs-collab/lib/src/manager/LocalUserChangeManager.js":function(e,t,n){"use strict";var i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js"),a=r(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),l=function(){function e(){this._onQueueChange=new s.Emitter,this.onQueueChange=this._onQueueChange.event,this.waitingQueue=[],this.commitingQueue=[],a.default.debug("LocalUserChangeManager created")}return e.prototype.pushToWaitingQueue=function(e){var t;(t=this.waitingQueue).push.apply(t,o(e)),this.notifyQueueChange()},e.prototype.isCommittingEmpty=function(){return 0===this.commitingQueue.length},e.prototype.isWaitingEmpty=function(){return 0===this.waitingQueue.length},e.prototype.moveWaitingToCommiting=function(){this.isWaitingEmpty()||(a.default.debug("moveWaitingToCommiting: waitingQueue length: "+this.waitingQueue.length),this.commitingQueue.push(this.waitingQueue.shift()),this.notifyQueueChange())},e.prototype.clearUserChangeByTaskIdInQueue=function(e){this.commitingQueue=this.commitingQueue.filter((function(t){return t.getTaskId()!==e})),this.waitingQueue=this.waitingQueue.filter((function(t){return t.getTaskId()!==e})),this.notifyQueueChange()},e.prototype.clearAllUserChangeQueue=function(){this.commitingQueue=[],this.waitingQueue=[],this.notifyQueueChange()},e.prototype.getCommitingQueue=function(){return this.commitingQueue},e.prototype.updateVersion=function(e){o(this.commitingQueue,this.waitingQueue).forEach((function(t){t.updateBaseVersion(e)})),this.notifyQueueChange()},e.prototype.updateWaitingQueueVersion=function(e){this.waitingQueue.forEach((function(t){t.updateBaseVersion(e)}))},e.prototype.getWaitingQueue=function(){return this.waitingQueue},e.prototype.notifyQueueChange=function(){this._onQueueChange.fire({waitingQueue:this.waitingQueue.map((function(e){return e.getOriginData()})),commitingQueue:this.commitingQueue.map((function(e){return e.getOriginData()}))})},e.prototype.dispose=function(){a.default.debug("LocalUserChangeManager dispose"),this.waitingQueue=[],this.commitingQueue=[],this._onQueueChange.dispose()},e}();t.default=l},"../node_modules/@tencent/docs-collab/lib/src/manager/NetworkStatusManager.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js"),r=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js"),s=i(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),a=function(){function e(){this.roomStatus=o.RoomState.INIT,this.errCode=null,this._onRoomOpen=new r.Emitter,this.onRoomOpen=this._onRoomOpen.event,this._onConnectionStatusChange=new r.Emitter,this.onConnectionStatusChange=this._onConnectionStatusChange.event,this._onShutdown=new r.Emitter,this.onShutdown=this._onShutdown.event,this._onClosed=new r.Emitter,this.onClosed=this._onClosed.event,this._onEnterOnline=new r.Emitter,this.onEnterOnline=this._onEnterOnline.event,this._onEnterOffline=new r.Emitter,this.onEnterOffline=this._onEnterOffline.event,this._onNetReconnectedFail=new r.Emitter,this.onNetReconnectedFail=this._onNetReconnectedFail.event,s.default.debug("NetworkStatusManager created")}return e.prototype.handleOnRoomOpen=function(){s.default.info("NetworkStatusManager handleOnRoomOpen"),this.roomStatus=o.RoomState.OPENED,this.errCode=null,this._onRoomOpen.fire()},e.prototype.handleOnRoomStateChange=function(e,t){s.default.info("NetworkStatusManager handleOnRoomStateChange, roomState="+e+", description=",t),this.roomStatus=e,this._onConnectionStatusChange.fire({status:this.roomStatus,moreInfo:t})},e.prototype.handleNetReconnectedFail=function(){s.default.info("NetworkStatusManager handleNetReconnectedFail roomStatus="+this.roomStatus),this._onNetReconnectedFail.fire()},e.prototype.handleOnRoomShutDown=function(e){s.default.info("NetworkStatusManager handleOnRoomShutDown, reason=",e),this.roomStatus=o.RoomState.SHUTDOWN,this.errCode=e.errCode,this._onShutdown.fire({reason:e,status:this.roomStatus})},e.prototype.handleOnRoomClose=function(e){s.default.info("NetworkStatusManager handleOnRoomClose, reason=",e),this.roomStatus=o.RoomState.RECONNECTING_IN_CLOSED,this.errCode=e.errCode,e.shutDown?(this.roomStatus=o.RoomState.SHUTDOWN,this._onShutdown.fire({reason:e,status:this.roomStatus})):this._onClosed.fire({reason:e,status:this.roomStatus})},e.prototype.getRoomStatus=function(){return this.roomStatus},e.prototype.getErrCode=function(){return this.errCode},e.prototype.handleOnEnterOnline=function(){this._onEnterOnline.fire()},e.prototype.handleOnEnterOffline=function(){this._onEnterOffline.fire()},e.prototype.dispose=function(){s.default.debug("NetworkStatusManager dispose"),this.roomStatus=o.RoomState.INIT,this._onConnectionStatusChange.dispose(),this._onRoomOpen.dispose(),this._onShutdown.dispose(),this._onClosed.dispose()},e}();t.default=a},"../node_modules/@tencent/docs-collab/lib/src/manager/ReceiveMessageManager.js":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),u=d(n("../node_modules/@tencent/docs-collab/lib/src/task/CollabTask.js")),h=d(n("../node_modules/@tencent/docs-collab/lib/src/task/MissChangeTask.js")),g=s(n("../node_modules/@tencent/docs-collab/lib/src/model/ServerUserChange.js")),f=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js"),m=d(n("../node_modules/@tencent/docs-collab/lib/src/task/BigChangeTask.js")),p=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js"),v=d(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),I=d(n("../node_modules/@tencent/docs-collab/lib/src/util/reporter.js")),y=function(){function e(e){this._onReceiveOtherMessage=new p.Emitter,this.onReceiveOtherMessage=this._onReceiveOtherMessage.event,this._onReceiveMessage=new p.Emitter,this.onReceiveMessage=this._onReceiveMessage.event,this.dependency=e,v.default.info("ReceiveMessageManager created")}return e.prototype.handleReceiveMessageFromServer=function(e){if((null===e||void 0===e?void 0:e.type)&&c.isArray(e.data)){var t=e.type,n=e.data;if(t!==f.SERVER_MESSAGE_TYPE.CURSOR_MESSAGE&&v.default.debug("ReceiveMessageManager handleReceiveMessageFromServer, type="+t+", data=",n),this._onReceiveMessage.fire({type:t,data:n}),t===f.SERVER_MESSAGE_TYPE.NEW_CHANGES)this.handleNewChange(n);else if(t===f.SERVER_MESSAGE_TYPE.LAST_REVERSION){var i=a(n,1)[0];this.handleLastRervesion(i)}else t===f.SERVER_MESSAGE_TYPE.BIG_CHANGES?this.handleBigChange(n):this._onReceiveOtherMessage.fire({type:t,data:n})}},e.prototype.handleNewChange=function(e){var t=this;v.default.debug("ReceiveMessageManager handleNewChange"),e.forEach((function(e){var n,o,r=e.body,s=e.newRev,a=e.ts,l=r.data.commitId,d=new g.default(i(i({userChangesOrigin:g.ServerUserChangeOriginType.COLLAB_CHANGE,taskId:l,time:a},r.data),{newRev:s}));I.default.report(f.REPORT_MONITOR_TYPE.HANDLE_NEW_CHANGES,e);var c=new u.default(d.getTaskId(),d,{missChangeDependency:{globalPadId:null===(o=(n=t.dependency).getGlobalVars)||void 0===o?void 0:o.call(n).serverVars.globalPadId,getMissChangesUrl:t.dependency.getMissChangesUrl},versionManager:t.dependency.versionManager,acceptCommitDependency:t.dependency});t.dependency.taskQueueManager.pushTask(c)}))},e.prototype.handleLastRervesion=function(e){var t,n,i,o,r=this.dependency.versionManager.getCurrentVersion(),s=null===(n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.notice)||void 0===n?void 0:n.lastRev;if(v.default.info("ReceiveMessageManager handleLastRervesion, lastReversion: "+s+", currentVersion: "+r),!(r>=s)){var a=new h.default({from:r+1,to:s},{missChangeDependency:{globalPadId:null===(o=(i=this.dependency).getGlobalVars)||void 0===o?void 0:o.call(i).serverVars.globalPadId,getMissChangesUrl:this.dependency.getMissChangesUrl},versionManager:this.dependency.versionManager,acceptCommitDependency:this.dependency});this.dependency.taskQueueManager.pushTask(a)}},e.prototype.applyServerUserChanges=function(e){var t=this.dependency.localUserChangeManager.getCommitingQueue().map((function(e){return e.getTaskId()})),n=this.dependency.localUserChangeManager.getWaitingQueue().map((function(e){return e.getTaskId()})),i=new g.default(e);return l(t,n).indexOf(i.getTaskId())>-1?(this.dependency.acceptCommit(i.getVersion(),i.getTaskId()),!0):this.handleApplyServerUserChange(i)},e.prototype.dispose=function(){v.default.debug("ReceiveMessageManager dispose"),this.dependency=null,this._onReceiveMessage.dispose(),this._onReceiveOtherMessage.dispose()},e.prototype.handleBigChange=function(e){var t=this;e.forEach((function(e){var n,i;v.default.info("ReceiveMessageManager handleBigChange, newVersion:"+e.newRev);var o=e.newRev,r=new m.default({version:o,taskId:e.body.data.commitId,missChangeDependency:{globalPadId:null===(i=(n=t.dependency).getGlobalVars)||void 0===i?void 0:i.call(n).serverVars.globalPadId,getMissChangesUrl:t.dependency.getMissChangesUrl},versionManager:t.dependency.versionManager,localUserChangeManager:t.dependency.localUserChangeManager,acceptCommitDependency:t.dependency});t.dependency.taskQueueManager.pushTask(r,0)}))},e.prototype.handleApplyServerUserChange=function(e){var t,n,i,o,r=this.dependency.versionManager.getCurrentVersion(),s=e.getVersion();if(s<=r)return v.default.warn("ReceiveMessageManager handleApplyServerUserChange version error, currentVersion = "+r+", newVersion = "+s),!1;try{o=this.handleFollow(e)}catch(l){return v.default.error("ReceiveMessageManager handleApplyServerUserChange handleFollow error, error = ",null===l||void 0===l?void 0:l.stack,null===l||void 0===l?void 0:l.message),I.default.report(f.REPORT_MONITOR_TYPE.HANDLE_FOLLOW_ERROR,e.getData()),!1}try{null===(n=(t=this.dependency.collabDependency).applyServerUserChanges)||void 0===n||n.call(t,o.getData());var a=e.getVersion();a>this.dependency.versionManager.getCurrentVersion()&&(this.dependency.versionManager.updateVersion(a),null===(i=this.dependency)||void 0===i||i.localUserChangeManager.notifyQueueChange())}catch(l){return v.default.error("ReceiveMessageManager handleApplyServerUserChange onApplyServerUserChanges error, error = ",null===l||void 0===l?void 0:l.stack,null===l||void 0===l?void 0:l.message),I.default.report(f.REPORT_MONITOR_TYPE.APPLY_SERVER_USER_CHANGE_ERROR,e.getData()),!1}return!0},e.prototype.handleFollow=function(e){var t,n,i=this;if(v.default.debug("ReceiveMessageManager handleFollow"),!1===(null===(n=(t=this.dependency.collabDependency).checkIfNeedFollow)||void 0===n?void 0:n.call(t,e.getData())))return e;var o=this.dependency.localUserChangeManager.getCommitingQueue(),r=this.dependency.localUserChangeManager.getWaitingQueue(),s=e.getChangeset(),a=e.changesetType;return l(o,r).forEach((function(t){var n,o,r,l,d,c,u=t.getChangeset(),h=t.changesetType;(null===(r=i.dependency)||void 0===r?void 0:r.collabDependency.multiTypeFollow)?(l=(n=(c=i.handleMultiTypeFollow({changesetType:h,changeset:u},{changesetType:a,changeset:s})).localChangeString).changeset,d=n.changesetType,o=c.serverChangeString,s=o.changeset,a=o.changesetType):(l=(c=i.handleSingleTypeFollow(u,s)).localChangeset,s=c.serverChangeset),t.setChangeset(l,d),t.updateBaseVersion(e.getVersion())})),e.setChangeset(s,a),e},e.prototype.handleMultiTypeFollow=function(e,t){var n,i,o,r,s,a;return{localChangeString:null===(o=null===(n=this.dependency)||void 0===n?void 0:(i=n.collabDependency).multiTypeFollow)||void 0===o?void 0:o.call(i,t,e,!1),serverChangeString:null===(a=null===(r=this.dependency)||void 0===r?void 0:(s=r.collabDependency).multiTypeFollow)||void 0===a?void 0:a.call(s,e,t,!0)}},e.prototype.handleSingleTypeFollow=function(e,t){var n,i,o,r,s,a;return{localChangeset:null===(o=null===(n=this.dependency)||void 0===n?void 0:(i=n.collabDependency).follow)||void 0===o?void 0:o.call(i,t,e,!1),serverChangeset:null===(a=null===(r=this.dependency)||void 0===r?void 0:(s=r.collabDependency).follow)||void 0===a?void 0:a.call(s,e,t,!0)}},e}();t.default=y},"../node_modules/@tencent/docs-collab/lib/src/manager/SendMessageManager.js":function(e,t,n){"use strict";var i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.COMMITING_STATUS=void 0;var r=n("../node_modules/@tencent/docs-connection/lib/util/taskid.js"),s=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js"),a=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-error-code.js"),l=o(n("../node_modules/@tencent/docs-collab/lib/src/task/MissChangeTask.js")),d=n("../node_modules/@tencent/docs-collab/lib/src/util/handleErrorMessage.js"),c=o(n("../node_modules/@tencent/docs-collab/lib/src/task/AcceptTask.js")),u=n("../node_modules/@tencent/docs-connection/lib/interface/index.js"),h=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js"),g=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js"),f=o(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),m=o(n("../node_modules/@tencent/docs-collab/lib/src/util/reporter.js")),p=[a.RoomErrorCode.TIMEOUT,a.RoomErrorCode.ROOM_DISCONNECT,a.RoomErrorCode.ROOM_STATE_ERR],v=[a.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL,a.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR,a.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT,a.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG,a.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT],I=[a.RoomWebsocketErrorCode.SOCKET_CLIENT_NOT_READY_ERROR,a.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT,a.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT,a.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT,a.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT,a.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT,a.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT,a.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT];!function(e){e.INIT="INIT",e.NEED_RETRY="NEED_RETRY",e.RETRY_ING="RETRY_ING",e.BLOCK="BLOCK"}(t.COMMITING_STATUS||(t.COMMITING_STATUS={}));var y=3*u.DEFAULT_SEND_MESSAGE_TIMEOUT,_=function(){function e(e){this.retryCommitCount=0,this.retryPostCount=0,this._onAcceptCommit=new h.Emitter,this.onAcceptCommit=this._onAcceptCommit.event,this._onCommitError=new h.Emitter,this.onCommitError=this._onCommitError.event,this._onRetryCommit=new h.Emitter,this.onRetryCommit=this._onRetryCommit.event,this.commitingStatus="INIT",this._onCommitBlock=new h.Emitter,this.onCommitBlock=this._onCommitBlock.event,this.lastRequestTime=0,this.dependency=e,this.loop(),f.default.info("SendMessageManager created")}return e.prototype.resetRetryCount=function(){this.retryCommitCount=0,this.retryPostCount=0},e.prototype.addUserChange=function(e){f.default.debug("SendMessageManager addUserChange, userChanges taskId",e.map((function(e){return e.getTaskId()}))),this.dependency.localUserChangeManager.pushToWaitingQueue(e),this.checkAndSend()},e.prototype.sendMessage=function(e){this.readyToSendMessage()&&("USER_CHANGES"===e.cmd&&f.default.info("SendMessageManager sendMessage,cmd: USER_CHANGES, taskId:"+e.taskId),this.dependency.connectionController.sendMessage({cmd:e.cmd,taskId:e.taskId||r.generateMessageTaskId(),data:e.data,customParam:e.customParam,onsend:e.onsend,onsendAccept:e.onsendAccept,onError:e.onError}))},e.prototype.acceptCommit=function(e,t,n){var i;f.default.debug("SendMessageManager acceptCommit, newVersion="+e+", taskId:"+t),e>this.dependency.versionManager.getCurrentVersion()&&(this.dependency.versionManager.updateVersion(e),this.dependency.localUserChangeManager.updateWaitingQueueVersion(e));var o=this.dependency.localUserChangeManager.getCommitingQueue().find((function(e){return e.getTaskId()===t}));this._onAcceptCommit.fire({newVersion:e,data:o.getOriginData()});var r=o.getOriginData();r.otherOptions||(r.otherOptions={}),r.otherOptions.result=n,null===(i=null===o||void 0===o?void 0:o.onSuccess)||void 0===i||i.call(o,e,r),this.dependency.localUserChangeManager.clearUserChangeByTaskIdInQueue(t),this.lastRequestTime=0,this.checkAndSend()},e.prototype.commitAfterUpdateVersionToLatest=function(e,t){var n=this;this.updateVersionToLatest({toVersion:e,index:t,onDestroy:function(){n.lastRequestTime=0,n.loop(0)}})},e.prototype.dispose=function(){f.default.debug("SendMessageManager dispose"),this.commitingStatus="INIT",this.lastRequestTime=0,this.dependency=null,this._onAcceptCommit.dispose(),this._onCommitError.dispose(),this._onRetryCommit.dispose(),this.clearLoopTimer()},e.prototype.updateVersionToLatest=function(e){var t,n,i=e.toVersion,o=e.index,r=e.onDestroy,s=this.dependency.versionManager.getCurrentVersion();if(f.default.debug("SendMessageManager updateVersionToLatest, currentVersion="+s+", toVersion="+i),!(i&&s>=i)){var a=new l.default({from:s+1,to:i},{missChangeDependency:{globalPadId:null===(n=(t=this.dependency).getGlobalVars)||void 0===n?void 0:n.call(t).serverVars.globalPadId,getMissChangesUrl:this.dependency.getMissChangesUrl},versionManager:this.dependency.versionManager,acceptCommitDependency:this.dependency,onDestroy:r});this.dependency.taskQueueManager.pushTask(a,o)}},e.prototype.checkAndSend=function(){if(this.readyToSendMessage())return this.dependency.localUserChangeManager.isCommittingEmpty()&&!this.dependency.localUserChangeManager.isWaitingEmpty()?(this.dependency.localUserChangeManager.moveWaitingToCommiting(),void this.sendUserChange()):void(this.dependency.localUserChangeManager.isCommittingEmpty()||!this.checkNeedRetry()||this.retryCommit())},e.prototype.sendUserChange=function(){if(this.readyToSendMessage()){var e=this.dependency.localUserChangeManager.getCommitingQueue();if(0!==e.length&&1===e.length){var t=i(e,1)[0];return this.sendMessage({cmd:"USER_CHANGES",taskId:t.getTaskId(),data:t.getPreparedData(),customParam:{timeout:u.DEFAULT_SEND_MESSAGE_TIMEOUT,maxRetryCount:3,waitAcceptCmd:["ACCEPT_COMMIT","COMMIT_ERROR","TASK_DUPLICATE"]},onsend:this.onSend.bind(this),onsendAccept:this.onSendAccept.bind(this),onError:this.handleError.bind(this)}),m.default.report(g.REPORT_MONITOR_TYPE.SEND_USERCHANGE,{userChange:t.getOriginData(),isFirstCommit:"NEED_RETRY"!==this.commitingStatus}),void(this.lastRequestTime=(new Date).getTime())}}},e.prototype.batchSendMessage=function(e){var t,n=this;f.default.debug("SendMessageManager sendUserChange: commit batch userChanges, userChanges taskId=",e.map((function(e){return e.getTaskId()})));var i=this.dependency.getGlobalVars().serverVars;this.dependency.connectionController.batchCommitMessages({rev:null===(t=this.dependency)||void 0===t?void 0:t.versionManager.getCurrentVersion(),dver:null===i||void 0===i?void 0:i.dver,pver:null===i||void 0===i?void 0:i.pver,gray:null===i||void 0===i?void 0:i.gray,globalpadid:null===i||void 0===i?void 0:i.globalPadId,rel_rev:"网络层联调测试"},e.map((function(e){return e.getData()}))).then((function(e){var t=e.success,i=e.retCode,o=(e.type,e.data);if(!t)return n.handleErrorCode(i);null===o||void 0===o||o.forEach((function(e){n.handleAcceptCommit(e.newRev,e.commitId)}))})).catch((function(){m.default.report(g.REPORT_MONITOR_TYPE.BATCH_COMMIT_ERROR,e.map((function(e){return e.getOriginData()}))),n.handleErrorCode(-200)}))},e.prototype.checkNeedRetry=function(){return"NEED_RETRY"===this.commitingStatus||"BLOCK"!==this.commitingStatus&&(0===this.lastRequestTime?(this.lastRequestTime=Date.now(),!1):!this.isCommittingBlocked()&&this.isCommittingTimeout())},e.prototype.retryCommit=function(){var e;this.commitingStatus="RETRY_ING",this.sendUserChange();var t=this.dependency.localUserChangeManager.getCommitingQueue();this._onRetryCommit.fire(t.map((function(e){return e.getOriginData()}))),m.default.report(g.REPORT_MONITOR_TYPE.RETRY_COMMIT,{commitingQueue:null===(e=this.dependency)||void 0===e?void 0:e.localUserChangeManager.getCommitingQueue().map((function(e){return e.getData()})),lastRequestTime:this.lastRequestTime,currentTime:(new Date).getTime()})},e.prototype.isCommittingTimeout=function(){return Date.now()-this.lastRequestTime>y&&(f.default.info("SendMessageManager handleRetryCommit: timeout, need retry"),this.commitingStatus="NEED_RETRY",!0)},e.prototype.isCommittingBlocked=function(){var e,t;if(Date.now()-this.lastRequestTime>y&&"RETRY_ING"===this.commitingStatus){var n=this.dependency.localUserChangeManager.getCommitingQueue();return this._onCommitBlock.fire(n.map((function(e){return e.getOriginData()}))),f.default.error("SendMessageManager handleRetryCommit: commit block， timeout multiple times"),m.default.report(g.REPORT_MONITOR_TYPE.COMMITING_BLOCK_ERROR,{commitingQueue:null===(e=this.dependency)||void 0===e?void 0:e.localUserChangeManager.getCommitingQueue().map((function(e){return e.getOriginData()})),waitingQueue:null===(t=this.dependency)||void 0===t?void 0:t.localUserChangeManager.getWaitingQueue().map((function(e){return e.getOriginData()})),lastRequestTime:this.lastRequestTime,currentTime:(new Date).getTime()}),this.commitingStatus="BLOCK",!0}return!1},e.prototype.onSend=function(e,t,n,i){f.default.info("SendMessageManager onSend, taskId:"+e+", cmd:"+t),this.handleError(e,t,n,i)},e.prototype.handleError=function(e,t,n,i){var o=d.handleConnectionLayerResponse({taskId:e,cmd:t,data:n,result:i});0!==o&&(f.default.info("SendMessageManager handleError, errorCode="+o+", taskId="+e+", cmd="+t+", result=",i),this.handleErrorCode(o,{cmd:t,result:i}))},e.prototype.onSendAccept=function(e,t,n,i,o){var r,a={taskId:e,cmd:t,data:n,waitCmd:i,result:o};if(f.default.debug("SendMessageManager onSendAccept, taskId="+e+", cmd="+t+", waitCmd="+i),i===s.MessageWaitAcceptCmd.ACCEPT_COMMIT)this.handleAcceptCommit(null===(r=a.result.response)||void 0===r?void 0:r.new_rev,e,o);else if(i===s.MessageWaitAcceptCmd.COMMIT_ERROR){f.default.error("SendMessageManager onSendAccept: commit error");var l=d.getErrorCode(a);this.handleErrorCode(l,{cmd:t,result:o})}else i===s.MessageWaitAcceptCmd.TASK_DUPLICATE&&(f.default.error("SendMessageManager onSendAccept: task duplicate"),m.default.report(g.REPORT_MONITOR_TYPE.ACCEPT_TASK_DUPLICATE,a),this.handleDuplicateTask(a))},e.prototype.handleErrorCode=function(e,t){if(0!==e){f.default.info("SendMessageManager handleErrorCode, errorCode:"+e);var n=t||{},i=n.cmd,o=n.result,r=this.dependency.localUserChangeManager.getCommitingQueue(),s=this.checkErrorCodeIfNeedRetry(e,o);if(s.needRetry)return this.commitingStatus="NEED_RETRY",this.loop(s.retryInterval);this._onCommitError.fire({errorCode:e,cmd:i,result:o,commitingQueue:r.map((function(e){return e.getOriginData()}))}),r.forEach((function(t){var n;null===(n=t.onFailed)||void 0===n||n.call(t,e,t.getOriginData())})),this.resetCommitingStatus(),this.resetRetryCount()}},e.prototype.handleAcceptCommit=function(e,t,n){var i,o;f.default.debug("SendMessageManager handleAcceptCommit, taskId:"+t+", newVersion:"+e);var r=new c.default({to:e,acceptCommitDependency:this.dependency,versionManager:this.dependency.versionManager,taskId:t,missChangeDependency:{globalPadId:null===(o=(i=this.dependency).getGlobalVars)||void 0===o?void 0:o.call(i).serverVars.globalPadId,getMissChangesUrl:this.dependency.getMissChangesUrl},otherOptions:n});this.dependency.taskQueueManager.pushTask(r,0),this.resetCommitingStatus(),this.resetRetryCount()},e.prototype.loop=function(e){var t=this;this.loopTimer&&clearTimeout(this.loopTimer),this.loopTimer=setTimeout((function(){t.checkAndSend(),t.loop()}),void 0!==e?e:1e3)},e.prototype.handleDuplicateTask=function(e){var t,n,i,o=e.result.response.body.data.lastRev,r=e.taskId,s=this.dependency.versionManager.getCurrentVersion();if(f.default.info("SendMessageManager handleDuplicateTask, latestVersion="+o+", currentVersion="+s+", taskId="+r),this.resetCommitingStatus(),o<=s){if(-1===this.dependency.localUserChangeManager.getCommitingQueue().map((function(e){return e.getTaskId()})).indexOf(r))return void f.default.warn("SendMessageManager handleDuplicateTask, task has been handled");if(o===s)return f.default.warn("SendMessageManager handleDuplicateTask, task covert to accept commit"),void this.acceptCommit(o,r);null===(t=this.dependency)||void 0===t||t.shutDown(g.REPORT_MONITOR_TYPE.HANDLE_TASK_DUPLICATE_VERSION_ERROR),f.default.error("SendMessageManager handleDuplicateTask, need to clean offline data"),m.default.report(g.REPORT_MONITOR_TYPE.HANDLE_TASK_DUPLICATE_VERSION_ERROR,{latestVersion:o,currentVersion:s,packet:e})}else{var a=new l.default({from:s+1,to:o},{missChangeDependency:{globalPadId:null===(i=(n=this.dependency).getGlobalVars)||void 0===i?void 0:i.call(n).serverVars.globalPadId,getMissChangesUrl:this.dependency.getMissChangesUrl},versionManager:this.dependency.versionManager,acceptCommitDependency:this.dependency});this.dependency.taskQueueManager.pushTask(a,0)}},e.prototype.resetCommitingStatus=function(){this.commitingStatus="INIT"},e.prototype.readyToSendMessage=function(){var e=this.dependency.connectionController.isOnline(),t=this.dependency.connectionController.isConnecting();return this.updateNetworkAndRoomStatus(e,t),e&&t},e.prototype.updateNetworkAndRoomStatus=function(e,t){e===this.isOnline&&t===this.isRoomOpen||f.default.info("SendMessageManager checkIfCanSendMessage, isOnline = "+e+", isRoomOpen = "+t),this.isRoomOpen=t,this.isOnline=e},e.prototype.clearLoopTimer=function(){this.loopTimer&&(clearTimeout(this.loopTimer),this.loopTimer=void 0)},e.prototype.checkErrorCodeIfNeedRetry=function(e,t){var n,i,o,r,s,a,l,d=!1,c=0,u=null!==(l=null!==(r=null===(o=null===(i=null===(n=null===t||void 0===t?void 0:t.response)||void 0===n?void 0:n.body)||void 0===i?void 0:i.data)||void 0===o?void 0:o.retry_interval)&&void 0!==r?r:null===(a=null===(s=null===t||void 0===t?void 0:t.response)||void 0===s?void 0:s.onpost)||void 0===a?void 0:a.retry_interval)&&void 0!==l?l:5e3;return p.includes(e)?(d=!0,c=5e3):v.includes(e)&&this.retryCommitCount<3?(d=!0,c=u,this.retryCommitCount=this.retryCommitCount+1):I.includes(e)&&this.retryPostCount<3&&(d=!0,c=u,this.retryPostCount=this.retryPostCount+1),{needRetry:d,retryInterval:c}},e}();t.default=_},"../node_modules/@tencent/docs-collab/lib/src/manager/TaskQueueManager.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QUEUE_STATUS=void 0;var l,d=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js"),c=a(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js"));!function(e){e.WORKING="WORKING",e.PAUSE="PAUSE",e.IDLE="IDLE",e.SHUTDOWN="SHUTDOWN"}(l=t.QUEUE_STATUS||(t.QUEUE_STATUS={}));var u=function(){function e(){this.taskList=[],this.status=l.IDLE,this._onTaskError=new d.Emitter,this.onTaskError=this._onTaskError.event,this._onTaskDestroy=new d.Emitter,this.onTaskDestroy=this._onTaskDestroy.event,this._onTaskShutDown=new d.Emitter,this.onTaskShutDown=this._onTaskShutDown.event,c.default.info("TaskQueueManager created")}return Object.defineProperty(e.prototype,"length",{get:function(){return this.taskList.length},enumerable:!1,configurable:!0}),e.prototype.getStatus=function(){return this.status},e.prototype.isEmpty=function(){return 0===this.taskList.length},e.prototype.isQueueWorking=function(){return this.status===l.WORKING},e.prototype.pause=function(){if(c.default.info("TaskQueueManager pause, task length = "+this.taskList.length+", current task = ",this.currentTask),this.switchStatus(l.PAUSE),this.currentTask){var e=this.currentTask.reset();this.currentTask=void 0,this.pushTask([e],0)}},e.prototype.resume=function(){this.status!==l.SHUTDOWN&&this.switchStatus(l.WORKING)},e.prototype.forceResume=function(){this.switchStatus(l.WORKING,!0)},e.prototype.shutDown=function(e){c.default.warn("TaskQueueManager shutDown, error = ",null===e||void 0===e?void 0:e.stack,null===e||void 0===e?void 0:e.message),this.switchStatus(l.SHUTDOWN),this._onTaskShutDown.fire()},e.prototype.pushTask=function(e,t){var n;c.default.info("TaskQueueManager pushTask, taskQueue length = "+this.taskList.length+", index = "+t),void 0===t&&(t=this.length),Array.isArray(e)?(n=this.taskList).splice.apply(n,s([t,0],e)):this.taskList.splice(t,0,e),this.status===l.IDLE&&this.switchStatus(l.WORKING)},e.prototype.dispose=function(){c.default.info("TaskQueueManager dispose"),this.status=l.SHUTDOWN,this.currentTask=void 0,this.taskList=[],this._onTaskDestroy.dispose(),this._onTaskError.dispose()},e.prototype.hasNext=function(){return!this.isEmpty()},e.prototype.work=function(){c.default.debug("TaskQueueManager work"),this.hasNext()?this.runNext():this.switchStatus(l.IDLE)},e.prototype.popTask=function(){if(c.default.debug("TaskQueueManager popTask"),0!==this.length)return this.taskList.shift()},e.prototype.runNext=function(){return i(this,void 0,void 0,(function(){var e,t,n=this;return o(this,(function(i){switch(i.label){case 0:return c.default.debug("TaskQueueManager runNext"),(e=this.popTask())?(this.currentTask=e,c.default.info("TaskQueueManager runNext: run task, task=",{type:e.type,taskId:e.taskId,status:e.getCurrentStatus()}),[4,e.run().catch((function(t){c.default.error("TaskQueueManager runNext: run error"),n._onTaskError.fire({error:t,currentTask:e})}))]):[3,2];case 1:(t=i.sent())&&(c.default.debug("TaskQueueManager runNext: run task result, resultTask=",t.map((function(e){return{type:e.type,taskId:e.taskId,status:e.getCurrentStatus()}}))),this.pushTask(t,0)),this.destroyTaskAndCheckQueueStatus(e),i.label=2;case 2:return[2]}}))}))},e.prototype.destroyTaskAndCheckQueueStatus=function(e){c.default.debug("TaskQueueManager destroyTaskAndCheckQueueStatus"),this.currentTask=void 0,this._onTaskDestroy.fire(e),this.isQueueWorking()?this.work():this.switchStatus(l.IDLE)},e.prototype.switchStatus=function(e,t){if(void 0===t&&(t=!1),this.status!==l.SHUTDOWN||t){var n=!1;this.status!==l.WORKING&&e===l.WORKING&&(n=!0),this.status=e,n&&this.work()}},e}();t.default=u},"../node_modules/@tencent/docs-collab/lib/src/manager/VersionManager.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js"),r=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js"),s=i(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),a=i(n("../node_modules/@tencent/docs-collab/lib/src/util/reporter.js")),l=function(){function e(e){this._onVersionChange=new r.Emitter,this.onVersionChange=this._onVersionChange.event,this.currentVersion=e,s.default.debug("VersionManager created, baseVersion="+e)}return e.prototype.getCurrentVersion=function(){return this.currentVersion},e.prototype.updateVersion=function(e){s.default.info("VersionManager updateVersion, currentVersion="+this.currentVersion+", newVersion="+e);var t=this.currentVersion;t>e?a.default.report(o.REPORT_MONITOR_TYPE.UPDATE_VERSION_ERROR,{currentVersion:t,newVersion:e}):(this.currentVersion=e,this._onVersionChange.fire({newVersion:e,currentVersion:t}))},e.prototype.dispose=function(){s.default.debug("VersionManager dispose"),this.currentVersion=0,this._onVersionChange.dispose()},e}();t.default=l},"../node_modules/@tencent/docs-collab/lib/src/manager/full-member-manager.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FullMemberManager=void 0;var o=n("../node_modules/@tencent/docs-connection/lib/index.js"),r=n("../node_modules/@tencent/docs-collab/lib/src/interface/full-member-manager.js"),s=i(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),a=n("../node_modules/@tencent/docs-collab/lib/src/manager/tips-manager.js"),l=n("../node_modules/@tencent/docs-collab/lib/src/manager/query-data-manager.js"),d=function(){function e(e){var t=this;this.context=e,this.isFullMember=!1,this.onQueryDataSuccess=function(e){var n,i,o;if(!e.isOverConNum){var r=t.context.hotDocsManager,a=r.enableHotDocsMode&&r.isInitHotDocs;return t.existFullMemberMode(!a),a&&r.enterHotDocsMode(),void s.default.info("full member query data success, exist full member mode, reason: isOverConNum = "+e.isOverConNum+".")}s.default.info("full member query data success, notify update data to rev: "+e.rev+"."),null!==(o=null===(i=(n=t.context.dependency).onReceiveQueryData)||void 0===i?void 0:i.call(n,e))&&void 0!==o&&o&&t.context.dependency.setVersion(e.rev)},this.onQueryDataError=function(){var e;a.TipsManager.showServerErrorTips(r.QUERY_DATA_ERROR_TIPS),null===(e=t.queryDataTimer)||void 0===e||e.stop()},s.default.info("init full member mode, enable: "+this.enableFullMemberMode+".",e.option);var n=e.option.fullMemberInfo;this.enableFullMemberMode&&(this.queryDataTimer=new l.QueryDataTimer(e.dependency.getQueryDataUrl,this.onQueryDataSuccess,this.onQueryDataError),n.isFullMember&&this.enterFullMemberMode(r.ENTER_FULL_MEMBER_MODE_TIPS,a.FullMemberTipsType.normal))}return e.prototype.handleOnRoomClose=function(e){var t,n,i;if(this.enableFullMemberMode){var l,d=null!==(i=null===(n=null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.closeReason)||void 0===n?void 0:n.errCode)&&void 0!==i?i:0,c=a.FullMemberTipsType.normal;o.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL===d?(c=a.FullMemberTipsType.normal,l=r.ENTER_FULL_MEMBER_MODE_TIPS):o.RoomWebsocketErrorCode.INACTIVE===d&&(c=a.FullMemberTipsType.inactive,l=r.INACTIVE_TIPS),l&&(s.default.info("handle room close, enter full member mode, errorCode: "+d+"."),this.enterFullMemberMode(l,c))}},Object.defineProperty(e.prototype,"enableFullMemberMode",{get:function(){var e=this.context.option;return!!e.fullMemberInfo.enable&&!e.isCreator},enumerable:!1,configurable:!0}),e.prototype.enterFullMemberMode=function(e,t){var n,i=this.context,o=i.option,r=i.dependency;this.enableFullMemberMode&&(this.isFullMember||(this.isFullMember=!0,this.queryDataTimer.start(),o.isEditable&&(null===(n=r.onEditableChange)||void 0===n||n.call(r,!1),a.TipsManager.showFullMemberTips(e,t)),s.default.info("enter full member mode, isEditable: "+o.isEditable+".")))},e.prototype.existFullMemberMode=function(e){var t,n,i;void 0===e&&(e=!0);var o=this.context,r=o.option,l=o.dependency;this.enableFullMemberMode&&this.isFullMember&&(a.TipsManager.hide(),this.isFullMember=!1,this.queryDataTimer.stop(),e&&(null===(n=(t=this.context.dependency).reconnect)||void 0===n||n.call(t)),r.isEditable&&(null===(i=l.onEditableChange)||void 0===i||i.call(l,!0)),s.default.info("exist full member mode, isEditable: "+r.isEditable+"."))},e}();t.FullMemberManager=d},"../node_modules/@tencent/docs-collab/lib/src/manager/hot-docs-manager.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HotDocsManager=void 0;var o=i(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),r=n("../node_modules/@tencent/docs-collab/lib/src/manager/tips-manager.js"),s=n("../node_modules/@tencent/docs-collab/lib/src/manager/query-data-manager.js"),a=n("../node_modules/@tencent/docs-collab/lib/src/interface/hot-docs-manager.js"),l=function(){function e(e){this.context=e,this.isHotDocs=!1,o.default.info("init disable hot docs mode, enable: "+this.enableHotDocsMode+".",e.option);var t=e.option,n=t.hotDocsInfo,i=t.isInitFullMember;this.enableHotDocsMode&&(n.isQueryData&&(this.queryDataTimer=new s.QueryDataTimer(e.dependency.getQueryDataUrl,this.onQueryDataSuccess.bind(this),this.onQueryDataError.bind(this))),this.isInitHotDocs&&!i&&this.enterHotDocsMode())}return e.prototype.handleOnRoomOpen=function(){this.enableHotDocsMode&&this.isHotDocs&&(this.existHotDocsMode(),o.default.info("handle room open, exist hot docs mode."))},Object.defineProperty(e.prototype,"isInitHotDocs",{get:function(){return!!this.context.option.hotDocsInfo.isHotDocs},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableHotDocsMode",{get:function(){var e=this.context.option;return!!e.hotDocsInfo.enable&&!e.isCreator},enumerable:!1,configurable:!0}),e.prototype.enterHotDocsMode=function(){var e;this.enableHotDocsMode&&(this.isHotDocs||(this.isHotDocs=!0,null===(e=this.queryDataTimer)||void 0===e||e.start(),o.default.info("enter hot docs mode, isQueryData: "+this.context.option.hotDocsInfo.isQueryData+".")))},e.prototype.existHotDocsMode=function(){var e;this.enableHotDocsMode&&this.isHotDocs&&(this.isHotDocs=!1,null===(e=this.queryDataTimer)||void 0===e||e.stop(),r.TipsManager.hide(),o.default.info("exist hot docs mode, isQueryData: "+this.context.option.hotDocsInfo.isQueryData+"."))},e.prototype.onQueryDataSuccess=function(e){var t,n,i;o.default.info("hot docs query data success, notify update data to rev: "+e.rev+"."),null!==(i=null===(n=(t=this.context.dependency).onReceiveQueryData)||void 0===n?void 0:n.call(t,e))&&void 0!==i&&i&&this.context.dependency.setVersion(e.rev)},e.prototype.onQueryDataError=function(){var e;r.TipsManager.showServerErrorTips(a.QUERY_DATA_ERROR_TIPS),null===(e=this.queryDataTimer)||void 0===e||e.stop()},e}();t.HotDocsManager=l},"../node_modules/@tencent/docs-collab/lib/src/manager/query-data-manager.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryDataTimer=void 0;var s=r(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),a=n("../node_modules/@tencent/docs-collab/lib/src/util/query-data-util.js"),l=function(){function e(e,t,n,i){void 0===i&&(i=15e3),this.getQueryDataUrl=e,this.onSuccess=t,this.onError=n,this.interval=i,this.timer=0}return e.prototype.start=function(){var e=this;clearInterval(this.timer),this.timer=setInterval((function(){return e.queryData()}),this.interval),s.default.info("query data timer start")},e.prototype.stop=function(){clearInterval(this.timer),this.timer=0,s.default.info("query data timer stop")},e.prototype.queryData=function(){var e,t,n;return i(this,void 0,void 0,(function(){var i,r,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),i=this.getQueryDataUrl(),[4,a.sendQueryData(i)];case 1:return r=o.sent(),0!==(s=r.data).retcode?null===(e=this.onError)||void 0===e||e.call(this,s):null===(t=this.onSuccess)||void 0===t||t.call(this,s),[3,3];case 2:return o.sent(),null===(n=this.onError)||void 0===n||n.call(this),[3,3];case 3:return[2]}}))}))},e}();t.QueryDataTimer=l},"../node_modules/@tencent/docs-collab/lib/src/manager/tips-manager.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TipsManager=t.FullMemberTipsType=void 0;var o,r=i(n("../node_modules/@tencent/dui/lib/components/Snackbar/index.js")),s=10003,a="FullMemberErrorTips";!function(e){e[e.normal=1]="normal",e[e.inactive=2]="inactive"}(o=t.FullMemberTipsType||(t.FullMemberTipsType={}));var l=function(){function e(){}return e.hide=function(){var e;null===(e=this.snackbar)||void 0===e||e.close(),this.snackbar=null},e.showFullMemberTips=function(e,t){var n=this;t===o.inactive?this.snackbar=r.default.show({id:a,message:e,style:{zIndex:s},autoClose:!1,action:[{text:"开始编辑",onClick:this.onClickRefresh}]}):this.snackbar=r.default.show({message:e,id:a,style:{zIndex:s},autoClose:!1,closable:!0,onClose:function(){return n.snackbar=null}})},e.showServerErrorTips=function(e){var t=this;this.snackbar=r.default.show({message:e,type:"info",id:"ServerErrorTips",style:{zIndex:s},autoClose:!1,onClose:function(){return!0},action:[{text:"刷新",onClick:this.onClickRefresh},{text:"联系我们",onClick:function(){return t.onClickFeedback(),!1}}]})},e.onClickRefresh=function(){window.location.reload()},e.onClickFeedback=function(){window.open("https://support.qq.com/products/28096?customInfo=N0009","_blank")},e}();t.TipsManager=l},"../node_modules/@tencent/docs-collab/lib/src/messageCenter/index.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MissChangeTask=t.CollabTask=t.BigChangeTask=t.AcceptTask=t.BaseTask=t.LocalUserChange=t.ServerUserChange=t.BaseMessageCenter=t.NetworkStatusManager=t.TaskQueueManager=t.VersionManager=t.LocalUserChangeManager=void 0;var o=i(n("../node_modules/@tencent/docs-collab/lib/src/manager/LocalUserChangeManager.js"));t.LocalUserChangeManager=o.default;var r=i(n("../node_modules/@tencent/docs-collab/lib/src/manager/VersionManager.js"));t.VersionManager=r.default;var s=i(n("../node_modules/@tencent/docs-collab/lib/src/manager/TaskQueueManager.js"));t.TaskQueueManager=s.default;var a=i(n("../node_modules/@tencent/docs-collab/lib/src/manager/NetworkStatusManager.js"));t.NetworkStatusManager=a.default;var l=i(n("../node_modules/@tencent/docs-collab/lib/src/BaseMessageCenter.js"));t.BaseMessageCenter=l.default;var d=i(n("../node_modules/@tencent/docs-collab/lib/src/model/ServerUserChange.js"));t.ServerUserChange=d.default;var c=i(n("../node_modules/@tencent/docs-collab/lib/src/model/LocalUserChange.js"));t.LocalUserChange=c.default;var u=i(n("../node_modules/@tencent/docs-collab/lib/src/task/BaseTask.js"));t.BaseTask=u.default;var h=i(n("../node_modules/@tencent/docs-collab/lib/src/task/AcceptTask.js"));t.AcceptTask=h.default;var g=i(n("../node_modules/@tencent/docs-collab/lib/src/task/BigChangeTask.js"));t.BigChangeTask=g.default;var f=i(n("../node_modules/@tencent/docs-collab/lib/src/task/CollabTask.js"));t.CollabTask=f.default;var m=i(n("../node_modules/@tencent/docs-collab/lib/src/task/MissChangeTask.js"));t.MissChangeTask=m.default;var p=n("../node_modules/@tencent/docs-connection/lib/interface/index.js");Object.defineProperty(t,"CHANGESET_TYPE",{enumerable:!0,get:function(){return p.CHANGESET_TYPE}});var v=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js");Object.defineProperty(t,"MessageWaitAcceptCmd",{enumerable:!0,get:function(){return v.MessageWaitAcceptCmd}}),Object.defineProperty(t,"RoomState",{enumerable:!0,get:function(){return v.RoomState}});var I=n("../node_modules/@tencent/docs-connection/lib/base/command.js");Object.defineProperty(t,"Command",{enumerable:!0,get:function(){return I.Command}});var y=n("../node_modules/@tencent/docs-connection/lib/util/taskid.js");Object.defineProperty(t,"generateMessageTaskId",{enumerable:!0,get:function(){return y.generateMessageTaskId}});var _=n("../node_modules/@tencent/docs-collab/lib/src/messageCenter/messageCenter.js");Object.defineProperty(t,"MessageCenter",{enumerable:!0,get:function(){return _.MessageCenter}});var b=n("../node_modules/@tencent/docs-collab/lib/src/util/getMissChange.js");Object.defineProperty(t,"getMissChange",{enumerable:!0,get:function(){return b.getMissChange}});var M=n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js");Object.defineProperty(t,"LOG_TYPE",{enumerable:!0,get:function(){return M.LOG_TYPE}});var C=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js");Object.defineProperty(t,"REPORT_MONITOR_TYPE",{enumerable:!0,get:function(){return C.REPORT_MONITOR_TYPE}}),Object.defineProperty(t,"SERVER_MESSAGE_TYPE",{enumerable:!0,get:function(){return C.SERVER_MESSAGE_TYPE}}),Object.defineProperty(t,"REPORT_MONITOR_REMARK",{enumerable:!0,get:function(){return C.REPORT_MONITOR_REMARK}}),Object.defineProperty(t,"MISS_CHANGE_ERROR_TYPE",{enumerable:!0,get:function(){return C.MISS_CHANGE_ERROR_TYPE}})},"../node_modules/@tencent/docs-collab/lib/src/messageCenter/message-center-option.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMessageCenterOption=void 0,t.defaultMessageCenterOption={isCreator:!1,isEditable:!1,hotDocsInfo:{enable:!1,isHotDocs:!1,isQueryData:!1},fullMemberInfo:{enable:!1,isFullMember:!1}}},"../node_modules/@tencent/docs-collab/lib/src/messageCenter/messageCenter.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},l=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},d=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageCenter=void 0;var u=n("../node_modules/@tencent/docs-connection/lib/index.js"),h=c(n("../node_modules/@tencent/docs-collab/lib/src/manager/SendMessageManager.js")),g=c(n("../node_modules/@tencent/docs-collab/lib/src/manager/ReceiveMessageManager.js")),f=c(n("../node_modules/@tencent/docs-collab/lib/src/model/LocalUserChange.js")),m=c(n("../node_modules/@tencent/docs-collab/lib/src/manager/NetworkStatusManager.js")),p=c(n("../node_modules/@tencent/docs-collab/lib/src/manager/LocalUserChangeManager.js")),v=c(n("../node_modules/@tencent/docs-collab/lib/src/BaseMessageCenter.js")),I=c(n("../node_modules/@tencent/docs-collab/lib/src/manager/EventManager.js")),y=c(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),_=n("../node_modules/@tencent/docs-collab/lib/src/messageCenter/message-center-option.js"),b=n("../node_modules/@tencent/docs-collab/lib/src/manager/full-member-manager.js"),M=n("../node_modules/@tencent/docs-collab/lib/src/manager/hot-docs-manager.js"),C=n("../node_modules/@tencent/docs-collab/lib/src/util/ErrorCode.js"),w=function(e){function t(t,n){void 0===n&&(n=_.defaultMessageCenterOption);var i=e.call(this,t)||this;return i.messageCenterOption=n,i.globalVars={},i.eventManager=new I.default,y.default.info("MessageCenter created, baseVsersion = "+t),i}return i(t,e),t.prototype.setGlobalVars=function(e){y.default.info("MessageCenter setGlobalVars, options = "+e),this.globalVars=o({},e)},t.prototype.setOptionalFunction=function(e){this.initDenpendency(e)},t.prototype.start=function(){var e=this;y.default.info("MessageCenter start"),void 0===this.dependency&&this.initDenpendency(),this.localUserChangeManager=new p.default,this.versionManager.onVersionChange((function(t){var n,i=t.newVersion;e.localUserChangeManager.updateVersion(i),null===(n=e.connectionController)||void 0===n||n.setVersion(i)})),this.taskQueueManager.onTaskError((function(){e.onTaskError()})),this.networkStatusManager=new m.default,this.receiveMessageManager=new g.default({collabDependency:this.dependency.collabDependency,versionManager:this.versionManager,taskQueueManager:this.taskQueueManager,localUserChangeManager:this.localUserChangeManager,acceptCommit:this.acceptCommit.bind(this),applyServerUserChanges:this.applyServerUserChanges.bind(this),getGlobalVars:this.getGlobalVars.bind(this),getMissChangesUrl:this.dependency.baseConfigDependency.getMissChangesUrl}),this.initConnectionController(),this.sendMessageManager=new h.default({collabDependency:this.dependency.collabDependency,versionManager:this.versionManager,taskQueueManager:this.taskQueueManager,localUserChangeManager:this.localUserChangeManager,connectionController:this.connectionController,acceptCommit:this.acceptCommit.bind(this),applyServerUserChanges:this.applyServerUserChanges.bind(this),getGlobalVars:this.getGlobalVars.bind(this),getMissChangesUrl:this.dependency.baseConfigDependency.getMissChangesUrl,shutDown:this.shutDown.bind(this)}),this.eventManager.injectDependency({networkStatusManager:this.networkStatusManager,localUserChangeManager:this.localUserChangeManager,sendMessageManager:this.sendMessageManager,receiveMessageManager:this.receiveMessageManager,versionManager:this.versionManager,taskQueueManager:this.taskQueueManager});var t=this.messageCenterOption.fullMemberInfo;this.hotDocsManager=new M.HotDocsManager({option:o(o({},this.messageCenterOption),{isInitFullMember:!!t.enable&&!!t.isFullMember}),dependency:o({setVersion:function(t){return e.versionManager.updateVersion(t)}},this.dependency.queryDataDependency)}),this.fullMemberManager=new b.FullMemberManager({option:this.messageCenterOption,hotDocsManager:this.hotDocsManager,dependency:o({reconnect:function(){var t;return null===(t=e.connectionController)||void 0===t?void 0:t.reConnect()},setVersion:function(t){return e.versionManager.updateVersion(t)}},this.dependency.queryDataDependency)})},t.prototype.addUserChange=function(e){var t,n,i,o=this.hotDocsManager.enableHotDocsMode&&this.hotDocsManager.isHotDocs;o&&!(null===(t=this.connectionController)||void 0===t?void 0:t.isConnecting())&&(y.default.warn("start connect when isHotDocs: "+o),null===(n=this.connectionController)||void 0===n||n.connect()),i=e instanceof Array?e.map((function(e){return new f.default(e)})):[new f.default(e)],this.sendMessageManager.addUserChange(i)},t.prototype.openRoom=function(){var e,t=this.hotDocsManager.enableHotDocsMode&&this.hotDocsManager.isHotDocs,n=this.fullMemberManager.enableFullMemberMode&&this.fullMemberManager.isFullMember;t||n?y.default.warn("skip open room, isFullMember: "+n+", isHotDocs: "+t):null===(e=this.connectionController)||void 0===e||e.connect()},t.prototype.sendMessage=function(e){this.sendMessageManager.sendMessage(e)},t.prototype.shutDown=function(e,t,n){var i;void 0===e&&(e=""),y.default.info("MessageCenter shutDown, info="+e+", errCode="+t+", description="+n),this.taskQueueManager.shutDown(),null===(i=this.connectionController)||void 0===i||i.disconnect({errCode:t,reason:e||"active shutdown",description:n,shutDown:!0}),this.sendMessageManager.resetRetryCount()},t.prototype.getIsOnline=function(){var e;return null===(e=this.connectionController)||void 0===e?void 0:e.isOnline()},t.prototype.clearAllUserChangeQueue=function(){this.localUserChangeManager.clearAllUserChangeQueue()},t.prototype.dispose=function(){var t;e.prototype.dispose.call(this),y.default.debug("MessageCenter dispose"),this.taskQueueManager.dispose(),this.localUserChangeManager.dispose(),this.sendMessageManager.dispose(),this.receiveMessageManager.dispose(),this.versionManager.dispose(),null===(t=this.connectionController)||void 0===t||t.dispose(),this.networkStatusManager.dispose(),this.eventManager.dispose(),y.default.dispose()},t.prototype.reConnect=function(e){var t;null===(t=this.connectionController)||void 0===t||t.reConnect(e)},Object.defineProperty(t.prototype,"connectionController",{get:function(){return this.connectionControllerInstance},enumerable:!1,configurable:!0}),t.prototype.initDenpendency=function(e){void 0===e&&(e={}),y.default.debug("MessageCenter initDenpendency"),this.dependency||(this.dependency={});var t=e.follow,n=e.multiTypeFollow,i=e.applyServerUserChanges,o=e.getMissChangesUrl,r=e.checkIfNeedFollow,s=a(e,["follow","multiTypeFollow","applyServerUserChanges","getMissChangesUrl","checkIfNeedFollow"]);this.setGetMissChangesUrl(o),this.setApplyServerUserChanges(i),this.setFollow(t),this.setMultiTypeFollow(n),this.setCheckIfNeedFollow(r),this.setFullMemberDependency(s)},t.prototype.getGlobalVars=function(){return this.globalVars},t.prototype.setFullMemberDependency=function(e){this.dependency.queryDataDependency||(this.dependency.queryDataDependency={onEditableChange:function(){},getQueryDataUrl:function(){return""},onReceiveQueryData:function(){return!1}}),this.dependency.queryDataDependency=o({},e)},t.prototype.setCheckIfNeedFollow=function(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.checkIfNeedFollow=e||function(){return!0}},t.prototype.setGetMissChangesUrl=function(e){var t=this;this.dependency.baseConfigDependency||(this.dependency.baseConfigDependency={}),this.dependency.baseConfigDependency.getMissChangesUrl=e||function(){return r(t,void 0,void 0,(function(){return s(this,(function(e){return[2,""]}))}))}},t.prototype.setMultiTypeFollow=function(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.multiTypeFollow=e},t.prototype.setFollow=function(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.follow=e||function(e,t){return t}},t.prototype.setApplyServerUserChanges=function(e){this.dependency.collabDependency||(this.dependency.collabDependency={}),this.dependency.collabDependency.applyServerUserChanges=e||function(){}},t.prototype.onTaskError=function(){y.default.debug("MessageCenter onTaskError"),this.shutDown("TASK_ERROR",C.CollabErrorCode.TASK_ERROR)},t.prototype.initConnectionController=function(){var e=this;u.initLogAndManager({debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];y.default.debug.apply(y.default,d(e))},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];y.default.info.apply(y.default,d(e))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];y.default.warn.apply(y.default,d(e))},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];y.default.error.apply(y.default,d(e))}}),this.connectionControllerInstance=new u.ConnectionController(this.getGlobalVars()),this.connectionController.setVersion(this.versionManager.getCurrentVersion()),this.connectionController.onConnectionEvent((function(t){var n,i={shutDown:!0},o=new Map([["OnRoomStateChange",function(){var n,i,o,r,s,a;return e.networkStatusManager.handleOnRoomStateChange(null!==(o=null===(i=null===(n=t.data)||void 0===n?void 0:n.roomState)||void 0===i?void 0:i.roomState)&&void 0!==o?o:"",null!==(a=null===(s=null===(r=t.data)||void 0===r?void 0:r.roomState)||void 0===s?void 0:s.description)&&void 0!==a?a:"")}],["OnRoomOpen",function(){e.networkStatusManager.handleOnRoomOpen(),e.hotDocsManager.handleOnRoomOpen()}],["OnRoomClose",function(){var n,o;e.networkStatusManager.handleOnRoomClose(null!==(o=null===(n=t.data)||void 0===n?void 0:n.closeReason)&&void 0!==o?o:i),e.fullMemberManager.handleOnRoomClose(t)}],["OnRoomShutDown",function(){var n,o;return e.networkStatusManager.handleOnRoomShutDown(null!==(o=null===(n=t.data)||void 0===n?void 0:n.closeReason)&&void 0!==o?o:i)}],["OnReceiveMsgFromServer",function(){var n;return e.receiveMessageManager.handleReceiveMessageFromServer(null===(n=t.data)||void 0===n?void 0:n.serverMsg)}],["OnNetReconnectedFail",function(){return e.networkStatusManager.handleNetReconnectedFail()}],["OnEnterOnline",function(){return e.networkStatusManager.handleOnEnterOnline()}],["OnEnterOffline",function(){return e.networkStatusManager.handleOnEnterOffline()}]]);null===(n=o.get(t.event))||void 0===n||n()})),y.default.info("MessageCenter new ConnectionController() done")},t.prototype.acceptCommit=function(e,t,n){this.sendMessageManager.acceptCommit(e,t,n)},t.prototype.applyServerUserChanges=function(e){return this.receiveMessageManager.applyServerUserChanges(e)},t}(v.default);t.MessageCenter=w},"../node_modules/@tencent/docs-collab/lib/src/model/BaseUserChange.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("../node_modules/@tencent/docs-connection/lib/util/taskid.js"),o=function(){function e(e){var t=e.subId,n=e.changesetType,o=e.taskId,r=e.time,s=e.changeset;this.subId=t,this.taskId=o||i.generateMessageTaskId(),this.time=r||(new Date).getTime(),this.changeset=s,n&&(this.changesetType=n)}return e.prototype.getTaskId=function(){return this.taskId},e.prototype.getTime=function(){return this.time},e.prototype.getChangeset=function(){return this.changeset},e.prototype.setChangeset=function(e,t){this.changeset=e,t&&(this.changesetType=t)},e}();t.default=o},"../node_modules/@tencent/docs-collab/lib/src/model/LocalUserChange.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this,t)||this;n.head=!1,n.offlineMsg=!1;var i=t.changeSetCount,o=t.apool,r=t.keydata,s=t.oSubId,a=t.head,l=t.isWorkbook,d=t.offlineMsg,c=t.baseRev,u=t.firstCommitRev,h=t.applied,g=t.otherOptions,f=t.onFailed,m=t.onSuccess;return n.baseRev=c,n.offlineMsg=d||!1,n.apool=o||"",n.head=a||!1,n.keydata=r,n.oSubId=s||void 0,n.isWorkbook=l,n.firstCommitRev=u,n.changeSetCount=i||1,n.applied=h,n.otherOptions=g,n.onFailed=f,n.onSuccess=m,n}return i(t,e),t.prototype.getBaseVersion=function(){return this.baseRev},t.prototype.getOtherOptions=function(){return this.otherOptions},t.prototype.getPreparedData=function(){return this.prepareCommitMessage()},t.prototype.getData=function(){var e=this,t=e.baseRev,n=e.changeset,i=e.changeSetCount,o=e.subId,r=e.changesetType,s=e.apool,a=e.keydata,l=e.oSubId,d=e.taskId;return{baseRev:t,changeset:n,changeSetCount:i,changesetType:r,apool:s,keydata:a,subId:o,oSubId:l,head:e.head,taskId:d,firstCommitRev:e.firstCommitRev,applied:e.applied,isWorkbook:e.isWorkbook,offlineMsg:e.offlineMsg}},t.prototype.getOriginData=function(){var e=this;return{baseRev:e.baseRev,changeset:e.changeset,changeSetCount:e.changeSetCount,subId:e.subId,changesetType:e.changesetType,apool:e.apool,keydata:e.keydata,oSubId:e.oSubId,taskId:e.taskId,head:e.head,time:e.time,firstCommitRev:e.firstCommitRev,applied:e.applied,isWorkbook:e.isWorkbook,offlineMsg:e.offlineMsg,otherOptions:e.otherOptions}},t.prototype.updateBaseVersion=function(e){e>this.baseRev&&(this.baseRev=e)},t.prototype.prepareCommitMessage=function(){var e={baseRev:this.baseRev,changeSetCount:this.changeSetCount,changeset:this.changeset,apool:this.apool,keydata:this.keydata||!1,head:this.head,subId:this.subId,oSubId:this.oSubId||!1,taskId:this.taskId,firstCommitRev:this.firstCommitRev,offlineMsg:this.offlineMsg,applied:this.applied,isWorkbook:this.isWorkbook};return this.changesetType&&(e.changesetType=this.changesetType),e},t}(o(n("../node_modules/@tencent/docs-collab/lib/src/model/BaseUserChange.js")).default);t.default=r},"../node_modules/@tencent/docs-collab/lib/src/model/ServerUserChange.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerUserChangeOriginType=void 0;var r=o(n("../node_modules/@tencent/docs-collab/lib/src/model/BaseUserChange.js"));!function(e){e.COLLAB_CHANGE="COLLAB_CHANGE",e.MISS_CHANG="MISS_CHANG",e.BIG_CHANG="BIG_CHANG"}(t.ServerUserChangeOriginType||(t.ServerUserChangeOriginType={}));var s=function(e){function t(t){var n=e.call(this,t)||this,i=t.apool,o=t.author,r=t.head,s=t.need,a=t.revert,l=t.type,d=t.uuId,c=t.newRev,u=t.isWorkbook,h=t.userChangesOrigin;return n.apool=i,n.author=o,n.head=r,n.need=s,n.revert=a,n.type=l,n.uuId=d,n.newRev=c,n.isWorkbook=u,n.userChangesOrigin=h,n}return i(t,e),t.prototype.getVersion=function(){return this.newRev},t.prototype.getData=function(){var e=this,t=e.newRev,n=e.changeset,i=e.subId,o=e.changesetType,r=e.taskId,s=e.type,a=e.uuId;return{newRev:t,new_rev:t,changeset:n,subId:i,changesetType:o,commitId:r,apool:e.apool,author:e.author,head:e.head,need:e.need,revert:e.revert,isWorkbook:e.isWorkbook,taskId:r,type:s,uuId:a,userChangesOrigin:e.userChangesOrigin}},t}(r.default);t.default=s},"../node_modules/@tencent/docs-collab/lib/src/task/AcceptTask.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n("../node_modules/@tencent/docs-collab/lib/src/task/BaseTask.js")),u=d(n("../node_modules/@tencent/docs-collab/lib/src/task/MissChangeTask.js")),h=d(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),g=function(e){function t(t){var n=e.call(this,t.taskId)||this;n.type=c.TaskType.ACCEPT_TASK;var i=t.to,o=t.missChangeDependency,r=t.versionManager,s=t.acceptCommitDependency,a=t.otherOptions;return n.to=i,n.missChangeDependency=o,n.versionManager=r,n.acceptCommitDependency=s,n.otherOptions=a,n}return i(t,e),t.prototype.reset=function(){this.destory(!1);var e=this,n=e.versionManager;return new t({to:e.to,missChangeDependency:e.missChangeDependency,versionManager:n,acceptCommitDependency:e.acceptCommitDependency,taskId:e.taskId,otherOptions:e.otherOptions})},t.prototype.onInit=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return this.to<=this.versionManager.getCurrentVersion()?[2,!1]:[2,!0]}))}))},t.prototype.onStart=function(){var e=this,t=e.to,n=e.acceptCommitDependency,i=e.taskId,o=e.otherOptions,r=this.handleMissChange();if(r)return r;n.acceptCommit(t,i,o)},t.prototype.handleMissChange=function(){var e=this.to,t=this.versionManager.getCurrentVersion();if(this.to>t+1)return h.default.info("AcceptTask handleMissChange: need to fetch miss changes. currentVersion = "+t+", to = "+this.to),this.generateMissChangeTask(t+1,e-1)},t.prototype.generateMissChangeTask=function(e,n){var i=this,o=i.versionManager,r=i.missChangeDependency,s=i.to,a=i.acceptCommitDependency,l=new t({to:s,missChangeDependency:r,versionManager:o,acceptCommitDependency:a,taskId:i.taskId,otherOptions:i.otherOptions});return[new u.default({from:e,to:n},{missChangeDependency:r,versionManager:o,acceptCommitDependency:a}),l]},t}(c.default);t.default=g},"../node_modules/@tencent/docs-collab/lib/src/task/BaseTask.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskType=void 0;var s,a=r(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js"));!function(e){e.ACCEPT_TASK="ACCEPT_TASK",e.COLLAB_TASK="COLLAB_TASK",e.MISS_CHANGE_TASK="MISS_CHANGE_TASK",e.BIG_CHANGE_TASK="BIG_CHANGE_TASK"}(t.TaskType||(t.TaskType={})),function(e){e.INIT="INIT",e.START="START",e.DESTORY="DESTORY"}(s||(s={}));var l=function(){function e(e){this.currentStatus=s.INIT,this.onDestroy=function(){},this.taskId=e||this.getRandomId()}return e.prototype.isDestroyed=function(){return this.currentStatus===s.DESTORY},e.prototype.destory=function(e,t){this.currentStatus=s.DESTORY,this.onDestroy(e,t)},e.prototype.run=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return a.default.info("task "+this.taskId+" run  taskType: "+this.type),[4,this.init()];case 1:return t.sent()?(e=this.start())?[2,e]:(this.destory(!0),[2]):(this.destory(!1),[2])}}))}))},e.prototype.break=function(e){this.destory(!1,e)},e.prototype.getCurrentStatus=function(){return this.currentStatus},e.prototype.onInit=function(){return i(this,void 0,void 0,(function(){return o(this,(function(e){return[2,!0]}))}))},e.prototype.onStart=function(){},e.prototype.init=function(){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.currentStatus===s.DESTORY?[2]:(this.currentStatus=s.INIT,[4,this.onInit()]);case 1:return[2,e.sent()]}}))}))},e.prototype.start=function(){if(this.currentStatus!==s.DESTORY)return this.currentStatus=s.START,this.onStart()},e.prototype.getRandomId=function(){return Number(Date.now().toString()+(100*Math.random()).toFixed(0))},e}();t.default=l},"../node_modules/@tencent/docs-collab/lib/src/task/BigChangeTask.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},d=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},c=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var g=a(n("../node_modules/@tencent/docs-collab/lib/src/task/BaseTask.js")),f=n("../node_modules/@tencent/docs-collab/lib/src/util/getMissChange.js"),m=a(n("../node_modules/@tencent/docs-collab/lib/src/model/ServerUserChange.js")),p=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js"),v=h(n("../node_modules/@tencent/docs-collab/lib/src/task/CollabTask.js")),I=h(n("../node_modules/@tencent/docs-collab/lib/src/task/AcceptTask.js")),y=h(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),_=h(n("../node_modules/@tencent/docs-collab/lib/src/util/reporter.js")),b=function(e){function t(t){var n=e.call(this,t.taskId)||this;n.type=g.TaskType.BIG_CHANGE_TASK;var i=t.version,o=t.missChangeDependency,r=t.versionManager,s=t.localUserChangeManager,a=t.acceptCommitDependency,l=t.otherOptions;return n.version=i,n.missChangeDependency=o,n.versionManager=r,n.localUserChangeManager=s,n.acceptCommitDependency=a,n.otherOptions=l,y.default.info("new BigChangeTask: version = "+i),n}return i(t,e),t.prototype.reset=function(){this.destory(!1);var e=this,n=e.version,i=e.taskId,o=e.missChangeDependency,r=e.acceptCommitDependency,s=e.versionManager;return new t({version:n,taskId:i,missChangeDependency:o,localUserChangeManager:e.localUserChangeManager,versionManager:s,acceptCommitDependency:r,otherOptions:e.otherOptions})},t.prototype.onInit=function(){return l(this,void 0,void 0,(function(){var e,t,n,i,o;return d(this,(function(r){switch(r.label){case 0:if(t=(e=this).version,n=e.taskId,t<=this.versionManager.getCurrentVersion())return[2,!1];if(this.isTaskDuplicate(n))return[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),i=this,[4,this.fetchBigChangeFromServer(this.version)];case 2:return i.userChange=r.sent(),[3,4];case 3:return o=r.sent(),y.default.error("BigChangeTask onInit error, error=",null===o||void 0===o?void 0:o.stack,null===o||void 0===o?void 0:o.message),[2,!1];case 4:return[2,!0]}}))}))},t.prototype.onStart=function(){y.default.info("BigChangeTask onStart, taskId:"+this.taskId+", version:"+this.version);var e=this,t=e.taskId,n=e.version,i=e.missChangeDependency,r=e.userChange,s=e.versionManager,a=e.acceptCommitDependency;if(this.isTaskDuplicate(t))return[new I.default({to:n,taskId:t,missChangeDependency:i,versionManager:s,acceptCommitDependency:a})];var l=r.commitId,d=new m.default(o({userChangesOrigin:m.ServerUserChangeOriginType.BIG_CHANG,taskId:l},r));return[new v.default(d.getTaskId(),d,{missChangeDependency:i,versionManager:s,acceptCommitDependency:a})]},t.prototype.isTaskDuplicate=function(e){var t=this.localUserChangeManager.getCommitingQueue().map((function(e){return e.getTaskId()})),n=this.localUserChangeManager.getWaitingQueue().map((function(e){return e.getTaskId()}));return u(t,n).indexOf(e)>-1},t.prototype.fetchBigChangeFromServer=function(e){return l(this,void 0,void 0,(function(){var t,n,i,o;return d(this,(function(r){switch(r.label){case 0:return[4,f.getMissChange({from:e,to:e,globalPadId:this.missChangeDependency.globalPadId},this.missChangeDependency.getMissChangesUrl).catch((function(t){return y.default.error("BigChangeTask getBigChange error, error=",t),_.default.report(p.REPORT_MONITOR_TYPE.GET_BIG_CHANGE_ERROR,{version:e}),Promise.reject(t)}))];case 1:if(t=r.sent(),n=t.filter((function(t){return t.data.newRev===e})).map((function(e){return e.data})),i=n[0].newRev,o=this.versionManager.getCurrentVersion(),1!==n.length||i!==o+1)throw y.default.error("BigChangeTask getBigChange error, version not consequent, newRev = "+i+", preNewVersion = "+o),_.default.report(p.REPORT_MONITOR_TYPE.BIG_CHANGE_VERSION_ERROR,{version:e,changeList:t}),new Error("MissChangeTask version error");return[2,n[0]]}}))}))},t}(g.default);t.default=b},"../node_modules/@tencent/docs-collab/lib/src/task/CollabTask.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n("../node_modules/@tencent/docs-collab/lib/src/task/BaseTask.js")),u=d(n("../node_modules/@tencent/docs-collab/lib/src/task/MissChangeTask.js")),h=d(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),g=d(n("../node_modules/@tencent/docs-collab/lib/src/util/reporter.js")),f=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js"),m=function(e){function t(t,n,i){var o=e.call(this,t)||this;o.type=c.TaskType.COLLAB_TASK;var r=i.missChangeDependency,s=i.versionManager,a=i.acceptCommitDependency,l=i.otherOptions;return o.missChangeDependency=r,o.versionManager=s,o.newChange=n,o.acceptCommitDependency=a,o.otherOptions=l,o}return i(t,e),t.prototype.reset=function(){this.destory(!1);var e=this,n=e.taskId,i=e.missChangeDependency;return new t(n,e.newChange,{missChangeDependency:i,versionManager:e.versionManager,acceptCommitDependency:e.acceptCommitDependency,otherOptions:e.otherOptions})},t.prototype.onInit=function(){return a(this,void 0,void 0,(function(){return l(this,(function(e){return this.newChange.getVersion()<=this.versionManager.getCurrentVersion()?[2,!1]:[2,!0]}))}))},t.prototype.onStart=function(){var e=this,n=e.taskId,i=e.missChangeDependency,o=e.newChange,r=e.versionManager,s=e.acceptCommitDependency,a=e.otherOptions,l=o.getVersion(),d=this.versionManager.getCurrentVersion();if(l===d+1)this.acceptCommitDependency.applyServerUserChanges(o.getData());else{if(l>d+1)return h.default.info("CollabTask apply new changes, need MissChange: applyChangeVersion = "+l+", currentVersion = "+d),g.default.report(f.REPORT_MONITOR_TYPE.APPLY_COLLAB_CHANGE_VERSION_BREAK,{currentVersion:d,newVersion:l}),[new u.default({from:d+1,to:l-1},{missChangeDependency:i,versionManager:r,acceptCommitDependency:s}),new t(n,o,{missChangeDependency:i,versionManager:r,acceptCommitDependency:s,otherOptions:a})];l===d?(g.default.report(f.REPORT_MONITOR_TYPE.APPLY_COLLAB_CHANGE_VERSION_REPEAT,{currentVersion:d,newVersion:l}),h.default.info("CollabTask apply new changes, version not change.")):(g.default.report(f.REPORT_MONITOR_TYPE.APPLY_COLLAB_CHANGE_VERSION_BELOW,{currentVersion:d,newVersion:l}),h.default.info("CollabTask apply new changes, new version is lower than current version."))}},t}(c.default);t.default=m},"../node_modules/@tencent/docs-collab/lib/src/task/MissChangeTask.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},d=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},c=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=a(n("../node_modules/@tencent/docs-collab/lib/src/task/BaseTask.js")),g=n("../node_modules/@tencent/docs-collab/lib/src/util/getMissChange.js"),f=n("../node_modules/@tencent/docs-collab/lib/src/model/ServerUserChange.js"),m=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js"),p=u(n("../node_modules/@tencent/docs-collab/lib/src/util/logger.js")),v=u(n("../node_modules/@tencent/docs-collab/lib/src/util/reporter.js")),I=function(e){function t(t,n){var i=e.call(this,n.taskId)||this;i.type=h.TaskType.MISS_CHANGE_TASK;var o=t.from,r=t.to,s=n.missChangeDependency,a=n.versionManager,l=n.acceptCommitDependency,d=n.onDestroy,c=n.otherOptions;return i.from=o,i.to=r,i.missChangeDependency=s,i.versionManager=a,i.acceptCommitDependency=l,i.otherOptions=c,d&&(i.onDestroy=d),p.default.info("new MissChangeTask: from = "+o+", to = "+r),i}return i(t,e),t.prototype.reset=function(){this.destory(!1);var e=this,n=e.taskId,i=e.from,o=e.to,r=e.missChangeDependency,s=e.acceptCommitDependency;return new t({from:i,to:o},{taskId:n,missChangeDependency:r,versionManager:e.versionManager,acceptCommitDependency:s,onDestroy:e.onDestroy,otherOptions:e.otherOptions})},t.prototype.onInit=function(){return l(this,void 0,void 0,(function(){var e,t;return d(this,(function(n){switch(n.label){case 0:if(void 0!==this.to&&this.to<=this.versionManager.getCurrentVersion())return[2,!1];this.from<=this.versionManager.getCurrentVersion()&&(this.from=this.versionManager.getCurrentVersion()+1),n.label=1;case 1:return n.trys.push([1,3,,4]),e=this,[4,this.fetchMissChangeFromServer(this.from,this.to)];case 2:return e.missChangeList=n.sent(),[3,4];case 3:return t=n.sent(),p.default.error("MissChangeTask onInit error, error=",null===t||void 0===t?void 0:t.stack,null===t||void 0===t?void 0:t.message),[2,Promise.reject(t)];case 4:return[2,!0]}}))}))},t.prototype.onStart=function(){var e,t,n;if(p.default.info("MissChangeTask onStart, length="+(null===(n=this.missChangeList)||void 0===n?void 0:n.length)),this.missChangeList)try{for(var i=c(this.missChangeList),r=i.next();!r.done;r=i.next()){var s=r.value,a=s.commitId;if(!this.acceptCommitDependency.applyServerUserChanges(o({userChangesOrigin:f.ServerUserChangeOriginType.MISS_CHANG,taskId:a},s)))return void p.default.error("MissChangeTask applyServerUserChanges error, taskId="+a+", change=",s)}}catch(l){e={error:l}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t.prototype.fetchMissChangeFromServer=function(e,t){return l(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,u;return d(this,(function(d){switch(d.label){case 0:return[4,g.getMissChange({from:e,to:t,globalPadId:this.missChangeDependency.globalPadId},this.missChangeDependency.getMissChangesUrl).catch((function(e){return p.default.error("MissChangeTask getMissChange error, error=",e),Promise.reject(e)}))];case 1:n=d.sent(),i=this.versionManager.getCurrentVersion();try{for(o=c(n),r=o.next();!r.done;r=o.next()){if(s=r.value,(a=s.data.newRev)!==i+1)throw p.default.error("MissChangeTask getMissChange error, version not consequent, newRev = "+a+", preNewVersion = "+i),v.default.report(m.REPORT_MONITOR_TYPE.MISS_CHANGE_VERSION_ERROR,{from:e,to:t,preNewVersion:i,userChange:s}),new Error("MissChangeTask version error");i=a}}catch(h){l={error:h}}finally{try{r&&!r.done&&(u=o.return)&&u.call(o)}finally{if(l)throw l.error}}return[2,n.filter((function(t){return t.data.newRev>=e})).map((function(e){return e.data}))]}}))}))},t}(h.default);t.default=I},"../node_modules/@tencent/docs-collab/lib/src/util/ErrorCode.js":function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CollabErrorCode=void 0,function(e){e[e.TASK_ERROR=51001]="TASK_ERROR"}(n||(n={})),t.CollabErrorCode=n},"../node_modules/@tencent/docs-collab/lib/src/util/const.js":function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.MISS_CHANGE_ERROR_TYPE=t.REPORT_MONITOR_REMARK=t.REPORT_MONITOR_TYPE=t.SERVER_MESSAGE_TYPE=void 0,function(e){e.NEW_CHANGES="NEW_CHANGES",e.BIG_CHANGES="BIG_CHANGES",e.USER_NEWINFO="USER_NEWINFO",e.USER_LEAVE="USER_LEAVE",e.RIGHT_MESSAGE="RIGHT_MESSAGE",e.REVERT_MESSAGE="REVERT_MESSAGE",e.LAST_REVERSION="LAST_REVERSION",e.CURSOR_MESSAGE="CURSOR_MESSAGE",e.CODEREV_NEW="CODEREV_NEW",e.TITLE_MESSAGE="TITLE_MESSAGE",e.HANDLE_DELETE="HANDLE_DELETE",e.COMM_NOTICE="COMM_NOTICE",e.MARK_MESSAGE="MARK_MESSAGE",e.LIVE_MESSAGE="LIVE_MESSAGE"}(t.SERVER_MESSAGE_TYPE||(t.SERVER_MESSAGE_TYPE={})),function(e){e.BATCH_COMMIT_ERROR="BATCH_COMMIT_ERROR",e.RETRY_COMMIT="RETRY_COMMIT",e.SEND_USERCHANGE="SEND_USERCHANGE",e.ACCEPT_TASK_DUPLICATE="ACCEPT_TASK_DUPLICATE",e.HANDLE_NEW_CHANGES="HANDLE_NEW_CHANGES",e.HANDLE_TASK_DUPLICATE_VERSION_ERROR="HANDLE_TASK_DUPLICATE_VERSION_ERROR",e.HANDLE_FOLLOW_ERROR="HANDLE_FOLLOW_ERROR",e.APPLY_SERVER_USER_CHANGE_ERROR="APPLY_SERVER_USER_CHANGE_ERROR",e.APPLY_COLLAB_CHANGE_VERSION_BREAK="APPLY_COLLAB_CHANGE_VERSION_BREAK",e.APPLY_COLLAB_CHANGE_VERSION_REPEAT="APPLY_COLLAB_CHANGE_VERSION_REPEAT",e.APPLY_COLLAB_CHANGE_VERSION_BELOW="APPLY_COLLAB_CHANGE_VERSION_BELOW",e.GET_MISS_CHANGE_ERROR="GET_MISS_CHANGE_ERROR",e.MISS_CHANGE_VERSION_ERROR="MISS_CHANGE_VERSION_ERROR",e.GET_BIG_CHANGE_ERROR="GET_BIG_CHANGE_ERROR",e.BIG_CHANGE_VERSION_ERROR="BIG_CHANGE_VERSION_ERROR",e.COMMITING_BLOCK_ERROR="COMMITING_BLOCK_ERROR",e.UPDATE_VERSION_ERROR="UPDATE_VERSION_ERROR"}(i=t.REPORT_MONITOR_TYPE||(t.REPORT_MONITOR_TYPE={})),t.REPORT_MONITOR_REMARK=((n={})[i.BATCH_COMMIT_ERROR]="批量提交消息失败",n[i.RETRY_COMMIT]="重试提交消息",n[i.SEND_USERCHANGE]="提交单个消息到 Socket 侧",n[i.ACCEPT_TASK_DUPLICATE]="单个消息提交，后台返回 TASK_DUPLICATE 重复消息",n[i.HANDLE_NEW_CHANGES]="接收到新协同消息",n[i.HANDLE_TASK_DUPLICATE_VERSION_ERROR]="重复消息处理时，最新版本号小于或者等于当前版本号，版本异常",n[i.HANDLE_FOLLOW_ERROR]="冲突处理异常",n[i.APPLY_SERVER_USER_CHANGE_ERROR]="回调网络层依赖 ApplyServerUserChanges 时异常",n[i.APPLY_COLLAB_CHANGE_VERSION_BREAK]="应用协同消息时，应用版本出现断层",n[i.APPLY_COLLAB_CHANGE_VERSION_REPEAT]="应用协同消息时，应用版本重复",n[i.APPLY_COLLAB_CHANGE_VERSION_BELOW]="应用协同消息时，应用版本低于现在版本",n[i.GET_MISS_CHANGE_ERROR]="补拉版本任务 CGI 请求异常",n[i.MISS_CHANGE_VERSION_ERROR]="补拉版本任务回包数据版本不连续",n[i.COMMITING_BLOCK_ERROR]="提交任务队列阻塞（重试后依然失败）",n[i.GET_BIG_CHANGE_ERROR]="大数据版本任务 CGI 请求异常",n[i.BIG_CHANGE_VERSION_ERROR]="大数据拉取版本任务回包版本异常",n[i.UPDATE_VERSION_ERROR]="版本升级异常，当前版本大于要升的版本",n),function(e){e.AJAX_ERROR="AJAX_ERROR",e.RESULT_DATA_UNDEFINED="RESULT_DATA_UNDEFINED",e.RETCODE_ERROR="RETCODE_ERROR",e.RESULT_CHANGES_EMPTY="RESULT_CHANGES_EMPTY",e.FROM_BELOW_TO_ERROR="FROM_BELOW_TO_ERROR",e.FETCH_CGI_ERROR="FETCH_CGI_ERROR"}(t.MISS_CHANGE_ERROR_TYPE||(t.MISS_CHANGE_ERROR_TYPE={}))},"../node_modules/@tencent/docs-collab/lib/src/util/event/index.js":function(e,t,n){"use strict";var i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Emitter=void 0;var r=n("../node_modules/@tencent/docs-collab/lib/src/util/event/linkedList.js"),s=function(){function e(e){this._disposed=!1,this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t,n,i){var o,s,a;e._listeners||(e._listeners=new r.LinkedList);var l=e._listeners.isEmpty();l&&(null===(o=e._options)||void 0===o?void 0:o.onFirstListenerAdd)&&e._options.onFirstListenerAdd(e);var d=e._listeners.push(n?[t,n]:t);l&&(null===(s=e._options)||void 0===s?void 0:s.onFirstListenerDidAdd)&&e._options.onFirstListenerDidAdd(e),(null===(a=e._options)||void 0===a?void 0:a.onListenerDidAdd)&&e._options.onListenerDidAdd(e,t,n);var c={dispose:function(){var t;e._disposed||(d(),(null===(t=e._options)||void 0===t?void 0:t.onLastListenerRemove)&&(e._listeners&&!e._listeners.isEmpty()||e._options.onLastListenerRemove(e)))}};return Array.isArray(i)&&i.push(c),c}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new r.LinkedList);try{for(var s=i(this._listeners),a=s.next();!a.done;a=s.next()){var l=a.value;this._deliveryQueue.push([l,e])}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}for(;this._deliveryQueue.size>0;){var d=o(this._deliveryQueue.shift(),2),c=(l=d[0],d[1]);try{"function"===typeof l?l.call(void 0,c):l[0].call(l[1],c)}catch(h){console.error(h)}}}},e.prototype.dispose=function(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._disposed=!0},e}();t.Emitter=s,function(e){function t(e){return function(t,n,i){void 0===n&&(n=null);var o=!1,r=e((function(e){if(!o)return r?r.dispose():o=!0,t.call(n,e)}),null,i);return o&&r.dispose(),r}}e.once=t,e.signal=function(e){return e},e.buffer=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]);var i=n.slice(),o=e((function(e){i?i.push(e):a.fire(e)})),r=function(){i&&i.forEach((function(e){return a.fire(e)})),i=null},a=new s({onFirstListenerAdd:function(){o||(o=e((function(e){return a.fire(e)})))},onFirstListenerDidAdd:function(){i&&(t?setTimeout(r):r())},onLastListenerRemove:function(){o&&o.dispose(),o=null}});return a.event},e.fromPromise=function(e){var t=new s,n=!1;return e.then(void 0,(function(){return null})).then((function(){n?t.fire(void 0):setTimeout((function(){return t.fire(void 0)}),0)})),n=!0,t.event},e.toPromise=function(e){return new Promise((function(n){return t(e)(n)}))}}(t.Event||(t.Event={}))},"../node_modules/@tencent/docs-collab/lib/src/util/event/linkedList.js":function(e,t){"use strict";var n=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedList=void 0;var i=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),o=function(){function e(){this._first=i.Undefined,this._last=i.Undefined,this._size=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this._first===i.Undefined},e.prototype.clear=function(){this._first=i.Undefined,this._last=i.Undefined,this._size=0},e.prototype.unshift=function(e){return this._insert(e,!1)},e.prototype.push=function(e){return this._insert(e,!0)},e.prototype.shift=function(){if(this._first!==i.Undefined){var e=this._first.element;return this._remove(this._first),e}},e.prototype.pop=function(){if(this._last!==i.Undefined){var e=this._last.element;return this._remove(this._last),e}},e.prototype[Symbol.iterator]=function(){var e;return n(this,(function(t){switch(t.label){case 0:e=this._first,t.label=1;case 1:return e===i.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.toArray=function(){for(var e=[],t=this._first;t!==i.Undefined;t=t.next)e.push(t.element);return e},e.prototype._insert=function(e,t){var n=this,o=new i(e);if(this._first===i.Undefined)this._first=o,this._last=o;else if(t){var r=this._last;this._last=o,o.prev=r,r.next=o}else{var s=this._first;this._first=o,o.next=s,s.prev=o}this._size+=1;var a=!1;return function(){a||(a=!0,n._remove(o))}},e.prototype._remove=function(e){if(e.prev!==i.Undefined&&e.next!==i.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===i.Undefined&&e.next===i.Undefined?(this._first=i.Undefined,this._last=i.Undefined):e.next===i.Undefined?(this._last=this._last.prev,this._last.next=i.Undefined):e.prev===i.Undefined&&(this._first=this._first.next,this._first.prev=i.Undefined);this._size-=1},e}();t.LinkedList=o},"../node_modules/@tencent/docs-collab/lib/src/util/getMissChange.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMissChange=t.checkIsLoadFinish=t.checkParams=t.sendRequestWithRetry=t.sendRequest=void 0;var l=a(n("./node_modules/axios/index.js")),d=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js"),c=a(n("../node_modules/@tencent/docs-collab/lib/src/util/reporter.js"));function u(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,l.default({method:"get",url:e,responseType:"json"})];case 1:return[2,{isSuccess:!0,data:t.sent()}];case 2:return[2,{isSuccess:!1,error:t.sent(),data:void 0,errorDescription:d.MISS_CHANGE_ERROR_TYPE.AJAX_ERROR}];case 3:return[2]}}))}))}function h(e,t){return void 0===t&&(t=2),i(this,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:n={isSuccess:!1,data:void 0},i=0,o.label=1;case 1:return i<t?[4,u(e)]:[3,4];case 2:return(n=o.sent()).isSuccess?[2,n]:[4,new Promise((function(e){return setTimeout(e,1e3)}))];case 3:return o.sent(),i+=1,[3,1];case 4:return[2,n]}}))}))}function g(e){return!(void 0!==e.to&&e.to<e.from)}function f(e,t){return i(this,void 0,void 0,(function(){var n,i,r,s,a,l;return o(this,(function(o){switch(o.label){case 0:return g(e)?[4,t(e)]:[2,{isSuccess:!1,data:void 0,errorDescription:d.MISS_CHANGE_ERROR_TYPE.FROM_BELOW_TO_ERROR}];case 1:return[4,h(o.sent())];case 2:return n=o.sent(),i=n.data,n.isSuccess?(r=function(e){var t,n,i,o=e.data,r=!0,s=void 0,a=void 0;return void 0===o?(r=!1,s=d.MISS_CHANGE_ERROR_TYPE.RESULT_DATA_UNDEFINED):0!==(null===o||void 0===o?void 0:o.retcode)?(r=!1,s=d.MISS_CHANGE_ERROR_TYPE.RETCODE_ERROR,a=null===o||void 0===o?void 0:o.retcode):0===(null===(i=null===(n=null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.result)||void 0===n?void 0:n.changes)||void 0===i?void 0:i.length)&&(r=!1,s=d.MISS_CHANGE_ERROR_TYPE.RESULT_CHANGES_EMPTY),{isSuccess:r,errorDescription:s,retcode:a}}(i),s=r.isSuccess,a=r.errorDescription,l=r.retcode,[2,{data:null===i||void 0===i?void 0:i.data.result,isSuccess:s,errorDescription:a,retcode:l}]):[2,{isSuccess:!1,data:void 0,error:n.error,errorDescription:d.MISS_CHANGE_ERROR_TYPE.FETCH_CGI_ERROR}]}}))}))}function m(e,t,n){return void 0===e&&n>t?{isFinish:!1,from:t+1,to:n}:void 0!==e&&e>t&&e<=n?{isFinish:!1,from:t+1,to:e}:{isFinish:!0}}t.sendRequest=u,t.sendRequestWithRetry=h,t.checkParams=g,t.checkIsLoadFinish=m,t.getMissChange=function(e,t){return i(this,void 0,void 0,(function(){var n,i,r,a;return o(this,(function(o){switch(o.label){case 0:n=[],i=Object.assign({},e),o.label=1;case 1:return[4,f(i,t)];case 2:return(r=o.sent()).isSuccess?(n.push.apply(n,s(r.data.changes)),(a=m(e.to,r.data.to,r.data.rev)).isFinish?[2,n]:(i=Object.assign(e,{from:a.from,to:a.to}),[3,1])):(c.default.report(d.REPORT_MONITOR_TYPE.GET_MISS_CHANGE_ERROR,{options:e,result:r}),[2,Promise.reject(r)]);case 3:return[2]}}))}))}},"../node_modules/@tencent/docs-collab/lib/src/util/handleErrorMessage.js":function(e,t){"use strict";function n(e){var t,n,i,o,r=e.result,s=null===(n=null===(t=r.response)||void 0===t?void 0:t.onpost)||void 0===n?void 0:n.result,a=(null===(o=null===(i=r.response)||void 0===i?void 0:i.body)||void 0===o?void 0:o.data.reason)||r.errCode;return s||a}Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorCodeNeedRetry=t.getErrorCode=t.handleConnectionLayerResponse=void 0,t.handleConnectionLayerResponse=function(e){var t=e.result,i=0;return 0===t.errCode&&t.response||(i=n(e)),i},t.getErrorCode=n,t.isErrorCodeNeedRetry=function(e){return!1}},"../node_modules/@tencent/docs-collab/lib/src/util/logger.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_TYPE=void 0;var i=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js");!function(e){e.INFO="INFO",e.ERROR="ERROR",e.WARN="WARN",e.DEBUG="DEBUG"}(t.LOG_TYPE||(t.LOG_TYPE={}));var o=function(){function e(){this.onLogEmitter=new i.Emitter,this.onLog=this.onLogEmitter.event,this.initLogger()}return e.prototype.dispose=function(){this.onLogEmitter.dispose()},e.prototype.initLogger=function(){var e=this;this.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.onLogEmitter.fire({type:"INFO",data:t})},this.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.onLogEmitter.fire({type:"DEBUG",data:t})},this.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.onLogEmitter.fire({type:"WARN",data:t})},this.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.onLogEmitter.fire({type:"ERROR",data:t})}},e}();t.default=new o},"../node_modules/@tencent/docs-collab/lib/src/util/query-data-util.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryData=void 0;var r=n("../node_modules/@tencent/ark-request/lib/index.js");t.sendQueryData=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){return[2,r.networkRequest.get(e)]}))}))}},"../node_modules/@tencent/docs-collab/lib/src/util/reporter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("../node_modules/@tencent/docs-collab/lib/src/util/event/index.js"),o=n("../node_modules/@tencent/docs-collab/lib/src/util/const.js"),r=function(){function e(){this.onReportEmitter=new i.Emitter,this.onReport=this.onReportEmitter.event,this.initReporter()}return e.prototype.dispose=function(){this.onReportEmitter.dispose()},e.prototype.initReporter=function(){var e=this;this.report=function(t,n){e.onReportEmitter.fire({type:t,remark:o.REPORT_MONITOR_REMARK[t],data:n})}},e}();t.default=new r},"../node_modules/@tencent/docs-config/dist/index.js":function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./index.ts")}({"../node_modules/webpack/buildin/global.js":
/*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/global.js ***!
  \*************************************************/
/*! no static exports found */function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./config-constants.ts":
/*!*****************************!*\
  !*** ./config-constants.ts ***!
  \*****************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigItem=void 0;var i=(o.getKey=function(e){if(""===this.configName)throw new Error("子类未重命名configName!");return this.configName+"."+e},o.configName="",o);function o(){}t.ConfigItem=i},"./config-manager.ts":
/*!***************************!*\
  !*** ./config-manager.ts ***!
  \***************************/
/*! no static exports found */function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DocsConfig=void 0;var o=i(n(/*! lodash.merge */"lodash.merge")),r=i(n(/*! lodash.get */"lodash.get")),s=i(n(/*! lodash.isempty */"lodash.isempty")),a=i(n(/*! lodash.clonedeep */"lodash.clonedeep")),l=n(/*! ./utils */"./utils.ts"),d=(c.prototype.bind=function(e){o.default(this.cache,e)},c.prototype.get=function(e){return r.default(this.cache,e)},c.prototype.clear=function(){this.cache={}},c.prototype.getAll=function(){return this.cache},c);function c(){this.cache={}}function u(){this.cache=new d,this.init()}u.getInstance=function(){return this.instance||(this.instance=new u),this.instance},u.prototype.bind=function(e){s.default(e)||this.cache.bind(e)},u.prototype.clear=function(){this.cache.clear()},u.prototype.getConfig=function(e){return"object"==typeof(e=this.cache.get(e))?a.default(e):e},u.prototype.getAllConfig=function(){var e=null!==(e=this.cache.getAll())&&void 0!==e?e:{};return a.default(e)},u.prototype.saveToSessionStorage=function(e){var t;try{if(window&&window.sessionStorage){var n=null!==(t=null!=e?e:this.cache.getAll())&&void 0!==t?t:{};return window.sessionStorage.setItem("configCache",JSON.stringify(n)),!0}}catch(e){console.error(e)}return!1},u.prototype.loadFromSessionStorage=function(){try{if(!window||!window.sessionStorage)throw new Error("browser is not support sessionStorage");var e=window.sessionStorage.getItem("configCache");if(e)return this.bind(JSON.parse(e)),!0}catch(e){console.error(e)}return!1},u.prototype.init=function(){var e;"undefined"!=typeof window&&("object"==typeof(e=window.AppConfig)?(e=e[l.getURLQuery("mode")]||e.normal,e=o.default(e,null==e?void 0:e.custom),this.bind(e),this.saveToSessionStorage()):console.error("加载 AppConfig 配置出错"))},n=u,t.DocsConfig=n},"./index.ts":
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigItem=void 0;var i=n(/*! ./config-manager */"./config-manager.ts"),o=n(/*! ./config-constants */"./config-constants.ts");Object.defineProperty(t,"ConfigItem",{enumerable:!0,get:function(){return o.ConfigItem}}),t.default=i.DocsConfig},"./utils.ts":
/*!******************!*\
  !*** ./utils.ts ***!
  \******************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getURLQuery=void 0,t.getURLQuery=function(t,n){var i=null,o=(n?"?"+(n.split("?")[1]||""):null===(o=e.location)||void 0===o?void 0:o.search)||"";return(i=o?o.match(new RegExp("(\\?|&)"+t+"=([^&]*)(&|$)")):i)?decodeURIComponent(i[2]):""}}).call(this,n(/*! ./../node_modules/webpack/buildin/global.js */"../node_modules/webpack/buildin/global.js"))},"lodash.clonedeep":
/*!***********************************!*\
  !*** external "lodash.clonedeep" ***!
  \***********************************/
/*! no static exports found */function(e,t){e.exports=n("../node_modules/lodash.clonedeep/index.js")},"lodash.get":
/*!*****************************!*\
  !*** external "lodash.get" ***!
  \*****************************/
/*! no static exports found */function(e,t){e.exports=n("../node_modules/lodash.get/index.js")},"lodash.isempty":
/*!*********************************!*\
  !*** external "lodash.isempty" ***!
  \*********************************/
/*! no static exports found */function(e,t){e.exports=n("../node_modules/lodash.isempty/index.js")},"lodash.merge":
/*!*******************************!*\
  !*** external "lodash.merge" ***!
  \*******************************/
/*! no static exports found */function(e,t){e.exports=n("../node_modules/lodash.merge/index.js")}})},"../node_modules/@tencent/docs-connection/lib/base/command.js":function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0,function(e){e.UNKNOWN="UNKNOWN",e.HEART_BEAT="HEART_BEAT",e.CLIENT_READY="CLIENT_READY",e.CURSOR_MESSAGE="CURSOR_MESSAGE",e.USER_NEWINFO="USER_NEWINFO",e.USER_NEWINFOS="USER_NEWINFOS",e.USER_LEAVE="USER_LEAVE",e.USER_LEAVES="USER_LEAVES",e.QUIT_NOTICE="QUIT_NOTICE",e.USER_CHANGES="USER_CHANGES",e.NEW_CHANGES="NEW_CHANGES",e.ACCEPT_COMMIT="ACCEPT_COMMIT",e.GET_PRIVILEGE="GET_PRIVILEGE",e.BIG_COLLAB_SWITCH="BIG_COLLAB_SWITCH",e.COMMON_REQUEST="COMMON_REQUEST"}(n||(n={})),t.Command=n},"../node_modules/@tencent/docs-connection/lib/base/dispose.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/base/error/http-error.js":function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.HttpError=void 0;var i=function(e){function t(t,n,i){var o=e.call(this,i+", statusCode:"+t+" ")||this;return o.name="HttpError",o.statusCode=t,o.errorCode=n,o}return n(t,e),t}(Error);t.HttpError=i},"../node_modules/@tencent/docs-connection/lib/base/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/base/dispose.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/base/command.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/base/result.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/base/error/http-error.js"),t)},"../node_modules/@tencent/docs-connection/lib/base/result.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Result=void 0;var n=function(e,t){e&&(this.error=e),void 0!==t&&(this.data=t)};t.Result=n},"../node_modules/@tencent/docs-connection/lib/big-data-channel/big-data-channel-interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/big-data-channel/big-data-channel-options.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/big-data-channel/big-data-channel.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BigDataChannel=t.BuildBigDataChannel=void 0;var r=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),s=n("../node_modules/@tencent/docs-connection/lib/big-data-channel/request.js"),a=n("../node_modules/@tencent/docs-connection/lib/interface/index.js"),l=function(){function e(e,t){e&&(this.options=Object.assign({},e)),this.dependency=t,this.request=new s.Request}return e.prototype.dispose=function(){this.request=void 0},e.prototype.sendMessage=function(e){var t=this,n=this.checkSendMessage(e);if(0===n.errCode&&"object"===typeof e.data){var i={dver:this.options.dver,pver:this.options.pver,gray:this.options.gray,globalpadid:this.options.globalPadId,rel_rev:this.options.rel_rev},o=[e.data];this.batchCommitMessages(i,o).then((function(n){var i,o;r.ConnectionLog.info("batchCommitChangesResult : "+n.success+" retcode:"+n.retCode),n.success?null===(i=n.data)||void 0===i||i.forEach((function(i){var o,r,s,a,l,d,c;if(i.commitId===e.taskId){var u={errCode:0,response:{new_rev:i.new_rev}};null===(o=e.onsendAccept)||void 0===o||o.call(e,i.commitId,"USER_CHANGES",e.data,"ACCEPT_COMMIT",u)}else{var h={head:{base_rev:i.new_rev-1,docid:(null===(r=n.common)||void 0===r?void 0:r.docid)||t.options.globalPadId,dver:(null===(s=n.common)||void 0===s?void 0:s.dver)||t.options.dver,new_rev:i.new_rev,session_type:(null===(a=n.common)||void 0===a?void 0:a.session_type)||0,type:"USER_CHANGES",uid:(null===(l=n.common)||void 0===l?void 0:l.uid)||"",uuid:(null===(d=n.common)||void 0===d?void 0:d.uuId)||""},body:{data:{apool:i.apool,author:i.author,changeset:i.changeset,commitId:i.commitId,head:i.head,isWorkbook:i.isWorkbook||!1,need:i.need,revert:i.revert,subId:i.subId,newRev:i.newRev,new_rev:i.newRev,type:i.type,uuId:(null===(c=n.common)||void 0===c?void 0:c.uuId)||""}},newRev:i.newRev,socketId:""};t.dependency.handleOnReceivMsgFromServer("NEW_CHANGES",[h])}})):e.onError(e.taskId,e.cmd,e.data,{errCode:null!==(o=n.retCode)&&void 0!==o?o:52e3,errMsg:n.reason})}))}else e.onError(e.taskId,e.cmd,e.data,n)},e.prototype.batchCommitMessages=function(e,t){var n,s;return i(this,void 0,void 0,(function(){var i,a,l,d;return o(this,(function(o){switch(o.label){case 0:return i={success:!0,retCode:0,data:[]},a=this.packUserChanges(e,t),[4,this.commitUserChanges(e.globalpadid,a)];case 1:return(l=o.sent()).error?(i.type="NetworkException",r.ConnectionLog.error("batchCommitMessages: "+(null===(n=l.error)||void 0===n?void 0:n.message)),i.success=!1,[2,i]):((d=r.JsonUtil.parseJson(l.data))&&0===d.retcode?(d.Data.respective.forEach((function(t){var n;r.ConnectionLog.info("batchCommitMessages rev:"+(null===e||void 0===e?void 0:e.rev)+", newRev:"+t.newRev+", "+t.changeset+", taskId:"+t.commitId),null===(n=i.data)||void 0===n||n.push(t)})),i.type="Success",i.common=null===(s=d.Data)||void 0===s?void 0:s.common):(i.success=!1,i.retCode=d.retcode,i.type="ServerVerityException",i.reason=d.retmsg,r.ConnectionLog.error("batchCommitMessages retcode:"+(null===d||void 0===d?void 0:d.retcode))),[2,i])}}))}))},e.prototype.checkSendMessage=function(e){var t,n={errCode:0};return"USER_CHANGES"!==e.cmd?(n.errMsg="only support USER_CHANGES on offline.",n.errCode=52001):e.data&&"string"!==typeof e.data?e.onsend&&e.onsendAccept?(null===(t=this.options.config)||void 0===t?void 0:t.maxContentLength)&&a.getMessageDataLength(e.data)>this.options.config.maxContentLength&&(n.errMsg="message content is too large",n.errCode=52003):(n.errMsg="onsend or onsendAccept is undefine.",n.errCode=52001):(n.errMsg="send data type is conrect.",n.errCode=52001),n},e.prototype.packUserChanges=function(e,t){if(!t||0===t.length)return{};var n=t[0];return{common:{type:"USER_CHANGES",offlineMsg:!0,docid:e.globalpadid,uid:this.options.uid,dver:e.dver,base_rev:n.baseRev,code_ver:0,session_type:0,gray:e.gray||0,generalpacket:{rel_rev:e.rel_rev},pver:e.pver||this.options.pver,uuId:this.options.uuId},respective:t.map((function(e){return{task_id:e.taskId,subId:e.subId,oSubId:e.oSubId||!1,head:e.head||!1,keydata:e.keydata||!1,changeSetCount:e.changeSetCount||1,changeset:e.changeset,changesetType:e.changesetType,apool:e.apool,isWorkbook:e.isWorkbook}}))}},e.prototype.commitUserChanges=function(e,t){return i(this,void 0,void 0,(function(){var n,i;return o(this,(function(o){return n=r.Cookie.getXsrf(),i=r.JsonUtil.jsonStringify({padId:e,xsrf:n,data:r.JsonUtil.jsonStringify(t)}),[2,this.request.sendMessages("/dop-api/commitchanges",s.Method.POST,i,"custom")]}))}))},e}();t.BigDataChannel=l,t.BuildBigDataChannel=function(e,t){var n,i={dver:e.serverVars.dver,globalPadId:e.serverVars.globalPadId,pver:e.serverVars.pver,gray:e.serverVars.gray||0,rel_rev:"",uid:e.uid,uuId:e.uuId,userid:e.userid,config:null===(n=e.config)||void 0===n?void 0:n.bigDataCommitConfig};return new l(i,t)}},"../node_modules/@tencent/docs-connection/lib/big-data-channel/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/big-data-channel/big-data-channel-interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/big-data-channel/big-data-channel.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/big-data-channel/big-data-channel-options.interface.js"),t)},"../node_modules/@tencent/docs-connection/lib/big-data-channel/request.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Method=void 0;var r,s=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),a=n("../node_modules/@tencent/docs-connection/lib/base/index.js");!function(e){e.POST="POST",e.GET="GET"}(r||(r={})),t.Method=r;var l=function(){function e(){}return e.prototype.sendMessages=function(e,t,n,s){return void 0===t&&(t=r.GET),i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return[4,this.sendCommonRequest(e,t,n,s)];case 1:return(i=o.sent()).data?[2,i]:[4,this.sendCommonRequest(e,t,n,s)];case 2:return[2,o.sent()]}}))}))},e.prototype.sendCommonRequest=function(e,t,n,r){return i(this,void 0,void 0,(function(){return o(this,(function(i){return[2,new Promise((function(i){try{var o,l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState===XMLHttpRequest.DONE){var t="";if(200===l.status)try{t=r&&"custom"===r?l.responseText:s.JsonUtil.parseJson(l.responseText)}catch(n){s.ConnectionLog.error("sendCommonRequest failed: query:"+e+", responseText:"+l.responseText+" error:"+n),o=n}else o=new a.HttpError(l.status,0,"StatusError");i(new a.Result(o,t))}};try{l.timeout=3e4}catch(d){}l.ontimeout=function(){o=new Error("TimeOutError"),i(new a.Result(o))},l.open(t,e),l.setRequestHeader("content-type","application/json"),l.setRequestHeader("content-encoding","gzip"),l.send(n)}catch(c){i(new a.Result(c))}}))]}))}))},e}();t.Request=l},"../node_modules/@tencent/docs-connection/lib/channel/base-channel/base-channel.interface.js":function(e,t){"use strict";var n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.RetCode=t.HttpStatus=t.Method=void 0,function(e){e.POST="POST",e.GET="GET"}(n||(n={})),t.Method=n,function(e){e[e.SUCCESS=200]="SUCCESS",e[e.NOT_FOUND=404]="NOT_FOUND"}(i||(i={})),t.HttpStatus=i,function(e){e[e.SUCCESS=0]="SUCCESS"}(o||(o={})),t.RetCode=o},"../node_modules/@tencent/docs-connection/lib/channel/base-channel/base-channel.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseChannel=void 0;var r=n("../node_modules/@tencent/docs-connection/lib/channel/base-channel/request.js"),s=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),a=function(){function e(e,t){this.options=e,this.defaultConfig=t}return e.prototype.dispose=function(){this.paramsPacker=void 0,this.responseHandler=void 0},e.prototype.sendMessage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,a,l;return o(this,(function(o){switch(o.label){case 0:return this.paramsPacker&&this.responseHandler?(n=this.paramsPacker.pack(e,this.options),i=e.requestUrl,a=e.method,[4,(new r.Request).sendRequest(null!==i&&void 0!==i?i:this.defaultConfig.requestUrl,null!==a&&void 0!==a?a:this.defaultConfig.method,n)]):(t="Channel Error, sendMessage failed paramsPacker:"+this.paramsPacker+", responseHandler:"+this.responseHandler+" ",s.ConnectionLog.error(t),[2,{error:t}]);case 1:return l=o.sent(),[2,this.responseHandler.handle(l)]}}))}))},e}();t.BaseChannel=a},"../node_modules/@tencent/docs-connection/lib/channel/base-channel/request.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n("../node_modules/@tencent/ark-request/lib/index.js"),s=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),a=n("../node_modules/@tencent/docs-connection/lib/channel/base-channel/base-channel.interface.js"),l=n("../node_modules/@tencent/docs-connection/lib/base/index.js"),d=function(){function e(){}return e.prototype.sendRequest=function(e,t,n){return void 0===t&&(t=a.Method.POST),i(this,void 0,void 0,(function(){var i,d;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),i=void 0,t!==a.Method.GET?[3,2]:[4,r.networkRequest.get(e)];case 1:return i=o.sent(),[3,4];case 2:return[4,r.networkRequest.post(e,n,{contentType:"application/x-www-form-urlencoded"})];case 3:i=o.sent(),o.label=4;case 4:return[2,new l.Result(void 0,i)];case 5:return d=o.sent(),s.ConnectionLog.error("Request Failed, requestUrl:"+e+",error stack: "+(null===d||void 0===d?void 0:d.stack)+", error message: "+(null===d||void 0===d?void 0:d.message)),[2,new l.Result(d)];case 6:return[2]}}))}))},e}();t.Request=d},"../node_modules/@tencent/docs-connection/lib/channel/common-request-channel/common-request-channel.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.buildCommonRequestChannel=void 0;var o=n("../node_modules/@tencent/docs-connection/lib/channel/base-channel/base-channel.js"),r=n("../node_modules/@tencent/docs-connection/lib/channel/common-request-channel/common-request-params-packer.js"),s=n("../node_modules/@tencent/docs-connection/lib/channel/common-request-channel/common-response-handler.js"),a=n("../node_modules/@tencent/docs-connection/lib/channel/base-channel/base-channel.interface.js"),l=function(e){function t(t){var n=e.call(this,t,{requestUrl:"/dop-api/commitchanges",method:a.Method.POST})||this;return n.options=t,n.init(),n}return i(t,e),t.prototype.init=function(){this.paramsPacker=new r.CommonRequestParamsPacker,this.responseHandler=new s.CommonResponseHandler},t}(o.BaseChannel);t.buildCommonRequestChannel=function(e){return new l(e)}},"../node_modules/@tencent/docs-connection/lib/channel/common-request-channel/common-request-params-packer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonRequestParamsPacker=void 0;var i=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),o=function(){function e(){}return e.prototype.pack=function(e,t){var n,o=t.serverVars.globalPadId,r=i.Cookie.getXsrf(),s={common:{type:e.data.type,docid:t.serverVars.globalPadId,uid:t.uid,session_type:0,uuId:t.uuId,padType:null!==(n=t.module)&&void 0!==n?n:"",padSubType:e.data.padSubType},respective:e.data.changeset};return"padId="+o+"&xsrf="+r+"&data="+i.JsonUtil.jsonStringify(s)},e}();t.CommonRequestParamsPacker=o},"../node_modules/@tencent/docs-connection/lib/channel/common-request-channel/common-response-handler.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonResponseHandler=void 0;var n=function(){function e(){}return e.prototype.handle=function(e){if(e.error)return{error:e.error};var t=e.data,n=t.status,i=t.data;return{status:n,retcode:null===i||void 0===i?void 0:i.retcode,message:null===i||void 0===i?void 0:i.retmsg,data:null===i||void 0===i?void 0:i.Data}},e}();t.CommonResponseHandler=n},"../node_modules/@tencent/docs-connection/lib/controller/connection-controller-dependency.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/controller/connection-controller-options.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/controller/connection-controller.js":function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionController=void 0;var r=n("../node_modules/@tencent/netcheck/lib/index.js"),s=n("../node_modules/@tencent/ark-utils/lib/types/index.js"),a=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),l=n("../node_modules/@tencent/docs-connection/lib/big-data-channel/index.js"),d=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),c=n("../node_modules/@tencent/docs-connection/lib/interface/index.js"),u=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/index.js"),h=n("../node_modules/@tencent/docs-connection/lib/channel/common-request-channel/common-request-channel.js"),g=n("../node_modules/@tencent/docs-connection/lib/feature/index.js"),f=function(){function e(e){var t=this;this.onConnectionEventEmitter=new a.Emitter,this.middleWareCenter=new g.MiddleWareCenter,this.connectionFireEvent=function(e,n){t.onConnectionEventEmitter.fire({event:e,data:n})},this.options=e,this.onConnectionEvent=this.onConnectionEventEmitter.event,this.initDependencyEvent(),r.network.changeEnd(this.handleNetWorkChangeCallback.bind(this))}return e.prototype.dispose=function(){var e,t,n;r.network.remove(this.handleNetWorkChangeCallback.bind(this)),this.onConnectionEventEmitter.dispose(),null===(e=this.websocketChannelInstance)||void 0===e||e.dispose(),this.websocketChannelInstance=void 0,null===(t=this.bigDataChannelInstance)||void 0===t||t.dispose(),this.bigDataChannelInstance=void 0,null===(n=this.commonRequestChannelInstance)||void 0===n||n.dispose(),this.commonRequestChannelInstance=void 0},e.prototype.useMiddleWare=function(e,t){this.middleWareCenter.useMiddleWare(e,t)},e.prototype.connect=function(){d.ConnectionLog.info("connect"),this.connectChannel()},e.prototype.reConnect=function(e){var t,n,i;d.ConnectionLog.info("reConnect"),e&&(this.options=e),null===(t=this.websocketChannelInstance)||void 0===t||t.dispose(),this.websocketChannelInstance=void 0,null===(n=this.bigDataChannelInstance)||void 0===n||n.dispose(),this.bigDataChannelInstance=void 0,null===(i=this.commonRequestChannelInstance)||void 0===i||i.dispose(),this.commonRequestChannelInstance=void 0,this.connectChannel()},e.prototype.isConnecting=function(){return this.isChannelConnecting()},e.prototype.isDisconnect=function(){return this.isChannelDisconnect()},e.prototype.disconnect=function(e){this.disconnectChannel(e)},e.prototype.isOnline=function(){return r.network.isOnline},e.prototype.setVersion=function(e){s.isNumber(e)?this.version=e:d.ConnectionLog.error("setVersion version is not number")},e.prototype.sendMessage=function(e){this.isUseBigDataChannel(e)?this.bigDataChannel.sendMessage(e):this.websocketChannel.sendMessage(e)},e.prototype.sendCommonRequest=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.commonRequestChannel.sendMessage(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.batchCommitMessages=function(e,t){return i(this,void 0,void 0,(function(){return o(this,(function(n){return e.globalpadid?(null===t||void 0===t?void 0:t.length)?[2,this.bigDataChannel.batchCommitMessages(e,t)]:[2,this.handleMessagesError()]:[2,this.handlePadIdError()]}))}))},e.prototype.cancelMessageBySeq=function(e){this.websocketChannel.cancelMessageBySeq(e)},e.prototype.handlePadIdError=function(){var e="batchCommitMessages padId is undefine!";return d.ConnectionLog.warn(e),{success:!1,retCode:52001,reason:e}},e.prototype.handleMessagesError=function(){var e="batchCommitMessages message is null!";return d.ConnectionLog.warn(e),{success:!1,retCode:52001,reason:e}},Object.defineProperty(e.prototype,"bigDataChannel",{get:function(){return this.bigDataChannelInstance||(this.bigDataChannelInstance=l.BuildBigDataChannel(this.options,this.dependency)),this.bigDataChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketChannel",{get:function(){return this.websocketChannelInstance||(this.websocketChannelInstance=u.BuildRoomWebsocketChannel(this.options,this.dependency,this.middleWareCenter)),this.websocketChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commonRequestChannel",{get:function(){return this.commonRequestChannelInstance||(this.commonRequestChannelInstance=h.buildCommonRequestChannel(this.options)),this.commonRequestChannelInstance},enumerable:!1,configurable:!0}),e.prototype.handleNetWorkChangeCallback=function(e){var t,n,i,o;"online"===e?null===(n=(t=this.dependency).handleOnEnterOnline)||void 0===n||n.call(t):null===(o=(i=this.dependency).handleOnEnterOffline)||void 0===o||o.call(i)},e.prototype.isUseBigDataChannel=function(e){var t,n=null===(t=this.options.config)||void 0===t?void 0:t.bigDataCommitConfig;if("USER_CHANGES"===e.cmd&&!0===(null===n||void 0===n?void 0:n.isSupportBigDataCommit)){var i=c.getMessageDataLength(e.data);if(i>((null===n||void 0===n?void 0:n.minContentLength)||5242880))return d.ConnectionLog.info("sendMessage BigData, length:"+i),!0;if(this.websocketChannel.getRoomState()!==u.RoomState.OPENED)return!0}return!1},e.prototype.initDependencyEvent=function(){var e=this;this.dependency={handleOnEnterOnline:function(){e.connectionFireEvent("OnEnterOnline")},handleOnEnterOffline:function(){e.connectionFireEvent("OnEnterOffline")},handleOnRoomOpen:function(){e.connectionFireEvent("OnRoomOpen")},handleOnRoomStateChange:function(t,n){e.connectionFireEvent("OnRoomStateChange",{roomState:{roomState:t,description:n}})},handleOnReceivMsgFromServer:function(t,n){e.connectionFireEvent("OnReceiveMsgFromServer",{serverMsg:{type:t,data:n}})},onNetReconnectedFail:function(){e.connectionFireEvent("OnNetReconnectedFail")},getHeaderGeneralPacket:function(){var t,n;return null!==(n=null===(t=e.options.config)||void 0===t?void 0:t.headerGeneralPacket)&&void 0!==n?n:{}},getPadRev:function(){return e.version},handleOnRoomShutDown:function(t){e.connectionFireEvent("OnRoomShutDown",{closeReason:t})},handleOnRoomClose:function(t){e.connectionFireEvent("OnRoomClose",{closeReason:t})}}},e.prototype.isRoomState=function(e){return!!this.websocketChannelInstance&&this.websocketChannel.getRoomState()===e},e.prototype.connectChannel=function(){this.websocketChannel.connect()},e.prototype.isChannelConnecting=function(){return this.isRoomState(u.RoomState.OPENED)},e.prototype.isChannelDisconnect=function(){return this.isRoomState(u.RoomState.SHUTDOWN)},e.prototype.disconnectChannel=function(e){var t;null===(t=this.websocketChannelInstance)||void 0===t||t.shutdown(e)},e}();t.ConnectionController=f},"../node_modules/@tencent/docs-connection/lib/controller/connection-event.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionCallBackEvent=void 0,function(e){e.onEnterOnline="OnEnterOnline",e.onEnterOffline="OnEnterOffline",e.onRoomOpen="OnRoomOpen",e.onRoomClose="OnRoomClose",e.onRoomShutDown="OnRoomShutDown",e.onRoomStateChange="OnRoomStateChange",e.onReceiveMsgFromServer="OnReceiveMsgFromServer",e.onNetReconnectedFail="OnNetReconnectedFail"}(t.ConnectionCallBackEvent||(t.ConnectionCallBackEvent={}))},"../node_modules/@tencent/docs-connection/lib/controller/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/controller/connection-controller-options.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/controller/connection-controller-dependency.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/controller/connection-controller.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/controller/connection-event.js"),t)},"../node_modules/@tencent/docs-connection/lib/feature-message-center/feature-messge-center.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureMessageCenter=void 0;var i=n("../node_modules/@tencent/ark-utils/lib/event/index.js"),o=n("../node_modules/@tencent/docs-connection/node_modules/@tencent/docs-multi-tools/dist/user.js"),r=n("../node_modules/@tencent/docs-connection/lib/index.js"),s=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),a=n("../node_modules/@tencent/docs-connection/lib/feature-message-center/websocket/websocket-manager.js"),l=function(){function e(){this.onFeatureMessageEventEmitter=new i.Emitter,this.uid=o.getUid(),this.userId="p."+this.uid,this.gtag="main_page_"+this.userId,this.onFeatureMessageEvent=this.onFeatureMessageEventEmitter.event}return e.getInstance=function(){if(!n.g.featureMessageCenterInstance){var t=new e;n.g.featureMessageCenterInstance=t,t.connect()}return e.instance||(e.instance=n.g.featureMessageCenterInstance),e.instance},e.prototype.isConnecting=function(){return!!this.socketManager},e.prototype.connect=function(){this.isConnecting()||this.websocketConnect()},e.prototype.disConnect=function(e){var t;null===(t=this.socketManager)||void 0===t||t.disConnect(null!==e&&void 0!==e?e:"")},e.prototype.dispose=function(){var e;this.onFeatureMessageEventEmitter.dispose(),null===(e=this.socketManager)||void 0===e||e.dispose()},e.prototype.onConnect=function(){this.sendClientReady()},e.prototype.onConnectFail=function(){var e=this;if(!this.websocketDelayConnectTimer){this.socketManager=void 0;var t=1e3*Math.max(Math.floor(20*Math.random()),2);this.websocketDelayConnectTimer=setTimeout((function(){e.websocketConnect()}),t)}},e.prototype.onGetMessageFromServer=function(e){this.onFeatureMessageEventEmitter.fire({data:e})},e.prototype.onPostFromServer=function(){},e.prototype.websocketConnect=function(){this.uid&&(this.resetWebsocketDelayConnectTimer(),this.socketManager=new a.WebsocketManager({userId:this.userId,gtag:this.gtag,host:window.location.host,featureMessageCenterReceiver:this}),this.socketManager.connect())},e.prototype.sendClientReady=function(){var e,t={type:"CLIENT_READY",uid:this.userId,gtag:this.gtag,cookie:s.getCookieForMessage(!0)},n=r.generateMessageTaskId()+"="+s.JsonUtil.jsonStringify(t);null===(e=this.socketManager)||void 0===e||e.sendMessage(n)},e.prototype.resetWebsocketDelayConnectTimer=function(){this.websocketDelayConnectTimer&&(clearTimeout(this.websocketDelayConnectTimer),this.websocketDelayConnectTimer=0)},e}();t.FeatureMessageCenter=l},"../node_modules/@tencent/docs-connection/lib/feature-message-center/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("../node_modules/@tencent/docs-connection/lib/feature-message-center/feature-messge-center.js");Object.defineProperty(t,"FeatureMessageCenter",{enumerable:!0,get:function(){return i.FeatureMessageCenter}})},"../node_modules/@tencent/docs-connection/lib/feature-message-center/websocket/websocket-manager.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketManager=void 0;var s=r(n("../node_modules/@tencent/docs-connection/lib/socket.io/index.js")),a=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),l=n("../node_modules/@tencent/docs-connection/lib/util/log.js"),d=function(){function e(e){var t=this;this.options=e,this.socket=null,this.socketStatus=0,this.handleConnect=function(){l.ConnectionLog.info("socket io connect readyState: "+t.socket.io.readyState+", id:"+t.socket.id),t.options.featureMessageCenterReceiver.onConnect()},this.handleError=function(e){l.ConnectionLog.info("socket io error, type:"+(null===e||void 0===e?void 0:e.type)+", message:"+(null===e||void 0===e?void 0:e.message)+", description:"+(null===e||void 0===e?void 0:e.description)),t.disConnect(a.JsonUtil.jsonStringify(e)+" socket io error Closed by client.")},this.handleReconnectFailed=function(e){l.ConnectionLog.info("socket io reconnect_failed"),t.disConnect(a.JsonUtil.jsonStringify(e)+" reconnect_failed Closed by client.")},this.handleConnectFailed=function(e){l.ConnectionLog.info("socket io connect_failed"),t.disConnect(a.JsonUtil.jsonStringify(e)+"  connect_failed Closed by client.")},this.handleGet=function(e){t.options.featureMessageCenterReceiver.onGetMessageFromServer(e)},this.handlePost=function(e){t.options.featureMessageCenterReceiver.onPostFromServer(e)}}return e.prototype.dispose=function(){this.disConnectSocket()},e.prototype.connect=function(){var e=s.default("wss://"+this.options.host,{query:{gtag:this.options.gtag},transports:s.DEFAULT_TRANSPORT_MODE,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:s.WEBSOCKET_CONFIG.reconnectionDelay,reconnectionDelayMax:s.WEBSOCKET_CONFIG.reconnectionDelayMax,randomizationFactor:s.WEBSOCKET_CONFIG.randomizationFactor,timeout:s.WEBSOCKET_CONFIG.connectTimeout,path:"/socket.io"});this.socket=e,this.socket?(this.socket.on("get",this.handleGet),this.socket.on("post",this.handlePost),this.socket.on("connect",this.handleConnect),this.socket.on("connect_failed",this.handleConnectFailed),this.socket.on("error",this.handleError),this.socket.on("reconnect_failed",this.handleReconnectFailed)):l.ConnectionLog.warn("socket is null")},e.prototype.disConnect=function(e){l.ConnectionLog.info("socket io disconnect reason: "+e),this.disConnectSocket(),this.options.featureMessageCenterReceiver.onConnectFail()},e.prototype.sendMessage=function(e){e&&this.socket&&this.socket.emit("post",e)},e.prototype.disConnectSocket=function(){this.socket&&(this.socket.disconnect(),this.socket=null)},e}();t.WebsocketManager=d},"../node_modules/@tencent/docs-connection/lib/feature/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/feature/middle-ware/index.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/index.js"),t)},"../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/limit-frequency-message.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/message-priority.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/limit-frequency-manager.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/limit-frequency-manager.interface.js"),t)},"../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/limit-frequency-manager.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/limit-frequency-manager.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LimitFrequencyManager=void 0;var i=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),o=n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/limit-frequency-message.js"),r=n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/message-priority.interface.js"),s=n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/user-inout-message.js"),a=function(){function e(e){this.dependency=e,this.limitFrequencyMessageMap=new Map,this.limitFrequencyMessageMap.set(s.USER_INOUT_TYPE,new s.UserInoutMessage(s.USER_INOUT_TYPE,r.MessagePriority.MIDDLE,this.dependency))}return e.prototype.dispose=function(){this.limitFrequencyMessageMap.clear(),this.reset()},e.prototype.reset=function(){this.memberCount=0},e.prototype.setPriority=function(e,t){this.limitFrequencyMessageMap.get(e)&&i.ConnectionLog.warn("LimitFrequencyManager type:"+e+" is exit."),this.limitFrequencyMessageMap.set(e,new o.LimitFrequencyMessage(e,t,this.dependency))},e.prototype.handleMessage=function(e){var t=this;this.updateMemberCount(e),this.limitFrequencyMessageMap.forEach((function(n){var i=e.head.type;n.shouldLimit(i)&&(null===n||void 0===n||n.handleMessage(e,t.getLimitFrequencyLevel(),t.memberCount))}))},e.prototype.updateMemberCount=function(e){var t,n,i,o,r;if(["USER_NEWINFO","USER_NEWINFOS","USER_LEAVE","USER_LEAVES"].includes(e.head.type)){var s=null!==(r=null!==(i=null===(n=null===(t=e.body)||void 0===t?void 0:t.notice)||void 0===n?void 0:n.mem_count)&&void 0!==i?i:null===(o=e.body)||void 0===o?void 0:o.mem_count)&&void 0!==r?r:0;this.memberCount=s}},e.prototype.getLimitFrequencyLevel=function(){return this.memberCount<=r.MIN_THRESHOLD?r.LimitFrequencyLevel.LOW:this.memberCount<=r.MIDDLE_THRESHOLD?r.LimitFrequencyLevel.MIDDLE:this.memberCount<=r.MAX_THRESHOLD?r.LimitFrequencyLevel.HIGH:r.LimitFrequencyLevel.HIGHEST},e}();t.LimitFrequencyManager=a},"../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/limit-frequency-message.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LimitFrequencyMessage=void 0;var i=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),o=n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/message-priority.interface.js"),r=function(){function e(e,t,n){this.type=e,this.priority=t,this.dependency=n,this.duration=o.NOT_LIMIT_FREQUENCY,this.messages=[]}return e.prototype.shouldLimit=function(e){return this.type===e},e.prototype.handleMessage=function(e,t,n){var i=this;this.memberCount=n;var r=this.calculateLimitDuration(t);r!==o.NOT_LIMIT_FREQUENCY?(e.needDeal=!1,r!==o.FOREVER_LIMIT_FREQUENCY?(this.pushMessage(e),r!==this.duration&&(this.reset(),this.duration=r,this.transferTimer=setInterval((function(){i.transfer()}),this.duration))):this.duration=r):r!==this.duration&&(this.transfer(),this.reset())},e.prototype.pushMessage=function(e){this.messages.push(e)},e.prototype.transfer=function(){this.messages.length&&(i.ConnectionLog.info("transfer memberCount:"+this.memberCount+", type:"+this.type+", duration:"+this.duration),this.transferToBusiness(this.type,this.messages),this.messages.splice(0,this.messages.length))},e.prototype.transferToBusiness=function(e,t){this.dependency.handleOnReceivMsgFromServer(e,t)},e.prototype.reset=function(){clearInterval(this.transferTimer),this.transferTimer=0,this.duration=o.NOT_LIMIT_FREQUENCY},e.prototype.calculateLimitDuration=function(e){try{return this.priority===o.MessagePriority.HIGH?o.NOT_LIMIT_FREQUENCY:o.LIMIT_FREQUENCY_STRAGEGY[this.priority][e]}catch(t){return o.NOT_LIMIT_FREQUENCY}},e}();t.LimitFrequencyMessage=r},"../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/message-priority.interface.js":function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.FOREVER_LIMIT_FREQUENCY=t.NOT_LIMIT_FREQUENCY=t.LIMIT_FREQUENCY_STRAGEGY=t.MAX_THRESHOLD=t.MIDDLE_THRESHOLD=t.MIN_THRESHOLD=t.LimitFrequencyLevel=t.MessagePriority=void 0,function(e){e[e.HIGH=0]="HIGH",e[e.MIDDLE=1]="MIDDLE",e[e.LOW=2]="LOW"}(n||(n={})),t.MessagePriority=n,function(e){e[e.LOW=0]="LOW",e[e.MIDDLE=1]="MIDDLE",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(i||(i={})),t.LimitFrequencyLevel=i,t.MIN_THRESHOLD=20,t.MIDDLE_THRESHOLD=50,t.MAX_THRESHOLD=100,t.NOT_LIMIT_FREQUENCY=0;var o=Number.MAX_SAFE_INTEGER;t.FOREVER_LIMIT_FREQUENCY=o;var r=[[0,0,0,0],[0,5e3,1e4,2e4],[0,1e4,2e4,o]];t.LIMIT_FREQUENCY_STRAGEGY=r},"../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/user-inout-message.js":function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.USER_INOUT_TYPE=t.UserInoutMessage=void 0;var o=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),r=n("../node_modules/@tencent/docs-connection/lib/feature/limit-frequency/limit-frequency-message.js"),s="USER_INOUT_TYPE";t.USER_INOUT_TYPE=s;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userNewInfos=new Map,t.userLeaves=new Map,t}return i(t,e),t.prototype.shouldLimit=function(e){return["USER_NEWINFO","USER_LEAVE"].includes(e)},t.prototype.pushMessage=function(e){var t=e.body.notice;"USER_NEWINFO"===e.head.type&&this.pushUserNewInfo(t),"USER_LEAVE"===e.head.type&&this.pushUserLeave(t)},t.prototype.transfer=function(){var e;(this.userNewInfos.size||(null===(e=this.userLeaves)||void 0===e?void 0:e.size))&&(o.ConnectionLog.info("transfer memberCount:"+this.memberCount+", type:USER_INOUT_TYPE, duration:"+this.duration),this.transferUserNewInfo(),this.transferUserLeave(),this.userNewInfos.clear(),this.userLeaves.clear())},t.prototype.transferUserNewInfo=function(){if(this.userNewInfos.size){var e=Array.from(this.userNewInfos.values());this.userNewInfos.clear();var t={head:{type:"USER_NEWINFOS"},body:{mem_count:this.memberCount,notices:e}};this.transferToBusiness("USER_NEWINFOS",[t])}},t.prototype.transferUserLeave=function(){var e;if(null===(e=this.userLeaves)||void 0===e?void 0:e.size){var t=Array.from(this.userLeaves.values());this.userLeaves.clear();var n={head:{type:"USER_LEAVES"},body:{mem_count:this.memberCount,notices:t}};this.transferToBusiness("USER_LEAVES",[n])}},t.prototype.pushUserNewInfo=function(e){e&&e.uuId&&(this.userLeaves.has(e.uuId)?this.userLeaves.delete(e.uuId):this.userNewInfos.set(e.uuId,e))},t.prototype.pushUserLeave=function(e){e&&e.uuId&&(this.userNewInfos.has(e.uuId)?this.userNewInfos.delete(e.uuId):this.userLeaves.set(e.uuId,e))},t}(r.LimitFrequencyMessage);t.UserInoutMessage=a},"../node_modules/@tencent/docs-connection/lib/feature/middle-ware/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/feature/middle-ware/middleware-center.js"),t)},"../node_modules/@tencent/docs-connection/lib/feature/middle-ware/middleware-center.js":function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MiddleWareCenter=t.MiddleWareType=void 0,function(e){e.RECEIVE_MESSAGE_FROM_SERVER="RECEIVE_MESSAGE_FROM_SERVER"}(n||(n={})),t.MiddleWareType=n;var i=function(){function e(){this.middleWares=new Map}return e.prototype.useMiddleWare=function(e,t){if(e&&t){var n=this.getMiddleWares(e);n.push(t),this.middleWares.set(e,n)}},e.prototype.run=function(e,t){var n=this.getMiddleWares(e);this.compose(n,t)},e.prototype.getMiddleWares=function(e){var t;return null!==(t=this.middleWares.get(e))&&void 0!==t?t:[]},e.prototype.compose=function(e,t){var n=-1;return function i(o){if(o<=n)throw new Error("next only called once");if(n=o,o===e.length)return t;var r=e[o];return null===r||void 0===r?void 0:r(t,i.bind(null,o+1))}(0)},e}();t.MiddleWareCenter=i},"../node_modules/@tencent/docs-connection/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("../node_modules/@tencent/docs-connection/lib/base/index.js");Object.defineProperty(t,"Command",{enumerable:!0,get:function(){return i.Command}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return i.Result}});var o=n("../node_modules/@tencent/docs-connection/lib/util/index.js");Object.defineProperty(t,"generateUuid",{enumerable:!0,get:function(){return o.generateUuid}}),Object.defineProperty(t,"generateMessageTaskId",{enumerable:!0,get:function(){return o.generateMessageTaskId}}),Object.defineProperty(t,"initLogAndManager",{enumerable:!0,get:function(){return o.initLogAndManager}}),Object.defineProperty(t,"initReportManager",{enumerable:!0,get:function(){return o.initReportManager}});var r=n("../node_modules/@tencent/docs-connection/lib/feature/index.js");Object.defineProperty(t,"MiddleWareType",{enumerable:!0,get:function(){return r.MiddleWareType}}),Object.defineProperty(t,"MiddleWareCenter",{enumerable:!0,get:function(){return r.MiddleWareCenter}}),Object.defineProperty(t,"MessagePriority",{enumerable:!0,get:function(){return r.MessagePriority}});var s=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/index.js");Object.defineProperty(t,"RoomState",{enumerable:!0,get:function(){return s.RoomState}}),Object.defineProperty(t,"MessageWaitAcceptCmd",{enumerable:!0,get:function(){return s.MessageWaitAcceptCmd}}),Object.defineProperty(t,"RoomErrorCode",{enumerable:!0,get:function(){return s.RoomErrorCode}}),Object.defineProperty(t,"RoomWebsocketErrorCode",{enumerable:!0,get:function(){return s.RoomWebsocketErrorCode}});var a=n("../node_modules/@tencent/docs-connection/lib/controller/index.js");Object.defineProperty(t,"ConnectionController",{enumerable:!0,get:function(){return a.ConnectionController}}),Object.defineProperty(t,"ConnectionCallBackEvent",{enumerable:!0,get:function(){return a.ConnectionCallBackEvent}});var l=n("../node_modules/@tencent/docs-connection/lib/interface/index.js");Object.defineProperty(t,"BatchCommitFailReason",{enumerable:!0,get:function(){return l.BatchCommitFailReason}}),Object.defineProperty(t,"CHANGESET_TYPE",{enumerable:!0,get:function(){return l.CHANGESET_TYPE}}),Object.defineProperty(t,"IBatchCommitChangesResultRetcode",{enumerable:!0,get:function(){return l.IBatchCommitChangesResultRetcode}}),Object.defineProperty(t,"DEFAULT_SEND_MESSAGE_TIMEOUT",{enumerable:!0,get:function(){return l.DEFAULT_SEND_MESSAGE_TIMEOUT}});var d=n("../node_modules/@tencent/docs-connection/lib/feature-message-center/index.js");Object.defineProperty(t,"FeatureMessageCenter",{enumerable:!0,get:function(){return d.FeatureMessageCenter}})},"../node_modules/@tencent/docs-connection/lib/interface/batch-commit-packet.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/interface/batch-commit-result.interface.js":function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.IBatchCommitChangesResultRetcode=t.BatchCommitFailReason=void 0,function(e){e.UNKNOW="Unknow",e.SUCCESS="Success",e.NETWORK_EXCEPTION="NetworkException",e.SERVER_VERITY_EXCEPTION="ServerVerityException"}(n||(n={})),t.BatchCommitFailReason=n,function(e){e[e.UNKNOWN_ERROR=52e3]="UNKNOWN_ERROR",e[e.PARAMETER_WRONG=52001]="PARAMETER_WRONG",e[e.WEBSOCKET_UNSUPPORT_BATCH_COMMIT=52002]="WEBSOCKET_UNSUPPORT_BATCH_COMMIT",e[e.CONTENT_LENGTH_EXCEED_LIMIT=52003]="CONTENT_LENGTH_EXCEED_LIMIT"}(i||(i={})),t.IBatchCommitChangesResultRetcode=i},"../node_modules/@tencent/docs-connection/lib/interface/channel.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/interface/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/interface/channel.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/userchange.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/batch-commit-packet.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/batch-commit-result.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/room-send-message-packet.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/room-send-message-result.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/message-data-type.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/room-close-reason.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/newchanges.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/servermessage.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/servermessage-head.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/interface/servermessage-body.interface.js"),t)},"../node_modules/@tencent/docs-connection/lib/interface/message-data-type.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareCommitMessage=t.getMessageDataLength=t.CHANGESET_TYPE=void 0;var i,o=n("../node_modules/@tencent/docs-connection/lib/util/index.js");!function(e){e.SMARTSHEET="smartsheet",e.SMARTCANVAS="smartcanvas"}(i||(i={})),t.CHANGESET_TYPE=i,t.getMessageDataLength=function(e){var t;return e?e instanceof Object?(null===(t=e.changeset)||void 0===t?void 0:t.length)||0:e.length||0:0},t.prepareCommitMessage=function(e,t,n){if("string"===typeof e)return e;var i={type:"USER_CHANGES",baseRev:e.baseRev,changeSetCount:e.changeSetCount,changeset:e.changeset,apool:e.apool,isWorkbook:e.isWorkbook,keydata:e.keydata||!1,head:e.head,subId:e.subId,changesetType:e.changesetType,oSubId:e.oSubId||!1,uuId:t,offlineMsg:e.offlineMsg,pver:n};return o.JsonUtil.jsonStringify(i)}},"../node_modules/@tencent/docs-connection/lib/interface/newchanges.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/interface/room-close-reason.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/interface/room-send-message-packet.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SEND_MESSAGE_TIMEOUT=void 0,t.DEFAULT_SEND_MESSAGE_TIMEOUT=25e3},"../node_modules/@tencent/docs-connection/lib/interface/room-send-message-result.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/interface/servermessage-body.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/interface/servermessage-head.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/interface/servermessage.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/interface/userchange.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/report/collab-room-reporter.js":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("../node_modules/@tencent/tencent-doc-report/libs/tencent-doc-report.es.js"),r=function(){function e(){}return e.prototype.loginRoomError=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(i(i({},e),{source:"loginRoom"})))},e.prototype.commitError=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(i(i({},e),{source:"commitError"})))},e.prototype.serverNotice=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(i(i({},e),{source:"serverNotice"})))},e.prototype.shutDownReport=function(e){this.NeedToResetLastErrorCode(e)||e.attrName===this.lastAttrName?this.resetLastErrorCode():this.reportToServer(i(i({},e),{source:"shutDown"}))},e.prototype.reportSocketConnect=function(e){this.reportToServer(i(i({},e),{source:"socketConnect"}))},e.prototype.reportToServer=function(e){var t=e.module,n=void 0===t?"unkown":t,i=e.source,r=void 0===i?"":i,s=e.transports,a=void 0===s?"":s;o.zzsStatus({attrid:e.attrName,status:e.status,errmsg:e.errorMessage,dimensions:[n,r,a],project:"collab"})},e.prototype.resetLastErrorCode=function(){this.lastAttrName=""},e.prototype.NeedToResetLastErrorCode=function(e){return!(null===e||void 0===e?void 0:e.attrName)||"0"===(null===e||void 0===e?void 0:e.attrName)},e}();t.default=new r},"../node_modules/@tencent/docs-connection/lib/socket.io/config.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WMODE=t.TRANSPOET_MODE_MAP=t.DEFAULT_ATTEMPT_TRANSPORT_MODE=t.DEFAULT_TRANSPORT_MODE=t.WEBSOCKET_CONFIG=void 0,t.WEBSOCKET_CONFIG={reconnectMaxTimes:3,connectTimeout:5e3,reconnectionDelay:3e3,reconnectionDelayMax:5e3,randomizationFactor:1,pollingReopenCount:0,pollingAttemptCount:3};var n=["websocket"];t.DEFAULT_TRANSPORT_MODE=n;var i=["polling","websocket"];t.DEFAULT_ATTEMPT_TRANSPORT_MODE=i;var o=new Map([["w",n],["l",["polling"]],["b",i]]);t.TRANSPOET_MODE_MAP=o,t.DEFAULT_WMODE="ww"},"../node_modules/@tencent/docs-connection/lib/socket.io/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n("../node_modules/@tencent/docs-connection/lib/socket.io/socket.io/socket.io-client.js"));o(n("../node_modules/@tencent/docs-connection/lib/socket.io/config.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/socket.io/socket.io.interface.js"),t),t.default=s.default},"../node_modules/@tencent/docs-connection/lib/socket.io/socket.io.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/socket.io/socket.io/socket.io-client.js":function(e,t,n){var i=n("../node_modules/buffer/index.js").Buffer;
/*!
 * Socket.IO v2.2.0
 * (c) 2014-2018 Guillermo Rauch
 * Released under the MIT License.
 */e.exports=function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e,t){"object"===("undefined"==typeof e?"undefined":o(e))&&(t=e,e=void 0),t=t||{};var n,i=r(e),s=i.source,c=i.id,u=i.path,h=d[c]&&u in d[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||h?(l("ignoring socket cache for %s",s),n=a(s,t)):(d[c]||(l("new io instance for %s",s),d[c]=a(s,t)),n=d[c]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),s=n(7),a=n(12),l=n(3)("socket.io-client");e.exports=t=i;var d=t.managers={};t.protocol=s.protocol,t.connect=i,t.Manager=n(12),t.Socket=n(36)},function(e,t,n){"use strict";function i(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),r("parse %s",e),n=o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}var o=n(2),r=n(3)("socket.io-client:url");e.exports=i},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),r=e.indexOf("]");-1!=o&&-1!=r&&(e=e.substring(0,o)+e.substring(o,r).replace(/:/g,";")+e.substring(r,e.length));for(var s=n.exec(e||""),a={},l=14;l--;)a[i[l]]=s[l]||"";return-1!=o&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,n){(function(i){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function r(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var o=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(r=o))})),e.splice(r,0,i)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function l(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof i&&"env"in i&&(e=i.env.DEBUG),e}function d(){try{return window.localStorage}catch(e){}}(t=e.exports=n(5)).log=s,t.formatArgs=r,t.save=a,t.load=l,t.useColors=o,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:d(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(l())}).call(t,n(4))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(e){if(u===clearTimeout)return clearTimeout(e);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function s(){m&&g&&(m=!1,g.length?f=g.concat(f):p=-1,f.length&&a())}function a(){if(!m){var e=o(s);m=!0;for(var t=f.length;t;){for(g=f,f=[];++p<t;)g&&g[p].run();p=-1,t=f.length}g=null,m=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function d(){}var c,u,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(e){u=i}}();var g,f=[],m=!1,p=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=d,h.addListener=d,h.once=d,h.off=d,h.removeListener=d,h.removeAllListeners=d,h.emit=d,h.prependListener=d,h.prependOnceListener=d,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){function i(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,i=+new Date,r=i-(o||i);e.diff=r,e.prev=o,e.curr=i,o=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;l++;var o=t.formatters[i];if("function"==typeof o){var r=s[l];n=o.call(e,r),s.splice(l,1),l--}return n})),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}var o;return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=i(e),n.destroy=r,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function s(e){t.save(e),t.names=[],t.skips=[];var n,i=("string"==typeof e?e:"").split(/[\s,]+/),o=i.length;for(n=0;n<o;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var r=t.instances[n];r.enabled=t.enabled(r.namespace)}}function a(){t.enable("")}function l(e){if("*"===e[e.length-1])return!0;var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1}function d(e){return e instanceof Error?e.stack||e.message:e}(t=e.exports=o.debug=o.default=o).coerce=d,t.disable=a,t.enable=s,t.enabled=l,t.humanize=n(6),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(e){return e>=d?Math.round(e/d)+"d":e>=l?Math.round(e/l)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return r(e,d,"day")||r(e,l,"hour")||r(e,a,"minute")||r(e,s,"second")||e+" ms"}function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,a=60*s,l=60*a,d=24*l,c=365.25*d;e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return n(e);if("number"===r&&!1===isNaN(e))return t.long?o(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function i(){}function o(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=r(e.data);if(!1===i)return v;n+=i}return h("encoded %j as %s",e,n),n}function r(e){try{return JSON.stringify(e)}catch(t){return!1}}function s(e,t){function n(e){var n=f.deconstructPacket(e),i=o(n.packet),r=n.buffers;r.unshift(i),t(r)}f.removeBlobs(e,n)}function a(){this.reconstructor=null}function l(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return u("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(n+1))for(i.nsp="";++n&&","!==(s=e.charAt(n))&&(i.nsp+=s,n!==e.length););else i.nsp="/";var r=e.charAt(n+1);if(""!==r&&Number(r)==r){for(i.id="";++n;){var s;if(null==(s=e.charAt(n))||Number(s)!=s){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}if(e.charAt(++n)){var a=d(e.substr(n));if(!1===a||i.type!==t.ERROR&&!m(a))return u("invalid payload");i.data=a}return h("decoded %s as %j",e,i),i}function d(e){try{return JSON.parse(e)}catch(t){return!1}}function c(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:t.ERROR,data:"parser error: "+e}}var h=n(3)("socket.io-parser"),g=n(8),f=n(9),m=n(10),p=n(11);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=i,t.Decoder=a;var v=t.ERROR+'"encode error"';i.prototype.encode=function(e,n){h("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?s(e,n):n([o(e)])},g(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=l(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new c(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!p(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){function i(e){if(e)return o(e)}function o(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,o=0;o<n.length;o++)if((i=n[o])===t||i.fn===t){n.splice(o,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){function i(e,t){if(!e)return e;if(s(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=i(e[a],t);return o}if("object"==typeof e&&!(e instanceof Date)){for(var l in o={},e)o[l]=i(e[l],t);return o}return e}function o(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(r(e))for(var n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"==typeof e)for(var i in e)e[i]=o(e[i],t);return e}var r=n(10),s=n(11),a=Object.prototype.toString,l="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),d="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=i(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=o(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function n(e,a,c){if(!e)return e;if(l&&e instanceof Blob||d&&e instanceof File){i++;var u=new FileReader;u.onload=function(){c?c[a]=this.result:o=this.result,--i||t(o)},u.readAsArrayBuffer(e)}else if(r(e))for(var h=0;h<e.length;h++)n(e[h],h,e);else if("object"==typeof e&&!s(e))for(var g in e)n(e[g],g,e)}var i=0,o=e;n(o),i||t(o)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){function n(e){return o&&i.isBuffer(e)||r&&(e instanceof ArrayBuffer||s(e))}e.exports=n;var o="function"==typeof i&&"function"==typeof i.isBuffer,r="function"==typeof ArrayBuffer,s=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}},function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);e&&"object"===("undefined"==typeof e?"undefined":o(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new g({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||l;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(13),s=n(36),a=n(8),l=n(7),d=n(38),c=n(39),u=n(3)("socket.io-client:manager"),h=n(35),g=n(40),f=Object.prototype.hasOwnProperty;e.exports=i,i.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},i.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=d(n,"open",(function(){i.onopen(),e&&e()})),s=d(n,"error",(function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var l=setTimeout((function(){u("connect attempt timed out after %d",a),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",a)}),a);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(s),this},i.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(d(e,"data",c(this,"ondata"))),this.subs.push(d(e,"ping",c(this,"onping"))),this.subs.push(d(e,"pong",c(this,"onpong"))),this.subs.push(d(e,"error",c(this,"onerror"))),this.subs.push(d(e,"close",c(this,"onclose"))),this.subs.push(d(this.decoder,"decoded",c(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},i.prototype.socket=function(e,t){function n(){~h(o.connecting,i)||o.connecting.push(i)}var i=this.nsps[e];if(!i){i=new s(this,e,t),this.nsps[e]=i;var o=this;i.on("connecting",n),i.on("connect",(function(){i.id=o.generateId(e)})),this.autoConnect&&n()}return i},i.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},i.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()})))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(14),e.exports.parser=n(21)},function(e,t,n){function i(e,t){return this instanceof i?(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new i(e,t)}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var r=n(15),s=n(8),a=n(3)("engine.io-client:socket"),l=n(35),d=n(21),c=n(2),u=n(29);e.exports=i,i.priorWebsocketSuccess=!1,s(i.prototype),i.protocol=d.protocol,i.Socket=i,i.Transport=n(20),i.transports=n(15),i.parser=n(21),i.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=d.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},i.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;u=u||t}u||(a('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",(function(t){if(!u)if("pong"===t.type&&"probe"===t.data){if(a('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",c),!c)return;i.priorWebsocketSuccess="websocket"===c.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause((function(){u||"closed"!==h.readyState&&(a("changing transport and sending upgrade packet"),d(),h.setTransport(c),c.send([{type:"upgrade"}]),h.emit("upgrade",c),c=null,h.upgrading=!1,h.flush())}))}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=c.name,h.emit("upgradeError",n)}})))}function n(){u||(u=!0,d(),c.close(),c=null)}function o(t){var i=new Error("probe error: "+t);i.transport=c.name,n(),a('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",i)}function r(){o("transport closed")}function s(){o("socket closed")}function l(e){c&&e.name!==c.name&&(a('"%s" works - aborting "%s"',e.name,c.name),n())}function d(){c.removeListener("open",t),c.removeListener("error",o),c.removeListener("close",r),h.removeListener("close",s),h.removeListener("upgrading",l)}a('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),u=!1,h=this;i.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",o),c.once("close",r),this.once("close",s),this.once("upgrading",l),c.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},i.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},i.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():e()})):this.upgrading?n():e()}return this},i.prototype.onError=function(e){a("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t,n){function i(e){var t=!1,n=!1,i=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,l=location.port;l||(l=a?443:80),t=e.hostname!==location.hostname||l!==e.port,n=e.secure!==a}if(e.xdomain=t,e.xscheme=n,"open"in new o(e)&&!e.forceJSONP)return new r(e);if(!i)throw new Error("JSONP disabled");return new s(e)}var o=n(16),r=n(18),s=n(32),a=n(33);t.polling=i,t.websocket=a},function(e,t,n){var i=n(17);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(r){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){function i(){}function o(e){if(l.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function r(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in r.requests)r.requests.hasOwnProperty(e)&&r.requests[e].abort()}var a=n(16),l=n(19),d=n(8),c=n(30),u=n(3)("engine.io-client:polling-xhr");if(e.exports=o,e.exports.Request=r,c(o,l),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new r(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),o=this;i.on("success",t),i.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=i},o.prototype.doPoll=function(){u("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},d(r.prototype),r.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),n=this;try{u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(i){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError(t.status)}),0))},u("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){n.onError(o)}),0)}"undefined"!=typeof document&&(this.index=r.requestsCount++,r.requests[this.index]=this)},r.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},r.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},r.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},r.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete r.requests[this.index],this.xhr=null}},r.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},r.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},r.prototype.abort=function(){this.cleanup()},r.requestsCount=0,r.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",s);else if("function"==typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,s,!1)}},function(e,t,n){function i(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=n(20),r=n(29),s=n(21),a=n(30),l=n(31),d=n(3)("engine.io-client:polling");e.exports=i;var c=null!=new(n(16))({xdomain:!1}).responseType;a(i,o),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){d("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(d("we are currently polling - waiting to pause"),i++,this.once("pollComplete",(function(){d("pre-pause polling complete"),--i||t()}))),this.writable||(d("we are currently writing - waiting to pause"),i++,this.once("drain",(function(){d("pre-pause writing complete"),--i||t()})))}else t()},i.prototype.poll=function(){d("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;d("polling got data %s",e);var n=function(e,n,i){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():d('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){d("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(d("transport open - closing"),e()):(d("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var o=n(21),r=n(8);e.exports=i,r(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){function i(e,n){return n("b"+t.packets[e.type]+e.data.data)}function o(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var o=e.data,r=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=I[e.type];for(var a=0;a<r.length;a++)s[a+1]=r[a];return i(s.buffer)}function r(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,i)},o.readAsArrayBuffer(e.data)}function s(e,n,i){if(!n)return t.encodeBase64Packet(e,i);if(v)return r(e,n,i);var o=new Uint8Array(1);return o[0]=I[e.type],i(new b([o.buffer,e.data]))}function a(e){try{e=f.decode(e,{strict:!1})}catch(t){return!1}return e}function l(e,t,n){for(var i=new Array(e.length),o=g(e.length,n),r=function(e,n,o){t(n,(function(t,n){i[e]=n,o(t,i)}))},s=0;s<e.length;s++)r(s,e[s],o)}var d,c=n(22),u=n(23),h=n(24),g=n(25),f=n(26);"undefined"!=typeof ArrayBuffer&&(d=n(27));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),p="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=m||p;t.protocol=3;var I=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=c(I),_={type:"error",data:"parser error"},b=n(28);t.encodePacket=function(e,t,n,r){"function"==typeof t&&(r=t,t=!1),"function"==typeof n&&(r=n,n=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer)return o(e,t,r);if("undefined"!=typeof b&&a instanceof b)return s(e,t,r);if(a&&a.base64)return i(e,r);var l=I[e.type];return void 0!==e.data&&(l+=n?f.encode(String(e.data),{strict:!1}):String(e.data)),r(""+l)},t.encodeBase64Packet=function(e,n){var i,o="b"+t.packets[e.type];if("undefined"!=typeof b&&e.data instanceof b){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];n(o+e)},r.readAsDataURL(e.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(s){for(var a=new Uint8Array(e.data),l=new Array(a.length),d=0;d<a.length;d++)l[d]=a[d];i=String.fromCharCode.apply(null,l)}return o+=btoa(i),n(o)},t.decodePacket=function(e,n,i){if(void 0===e)return _;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(i&&!1===(e=a(e)))return _;var o=e.charAt(0);return Number(o)==o&&y[o]?e.length>1?{type:y[o],data:e.substring(1)}:{type:y[o]}:_}o=new Uint8Array(e)[0];var r=h(e,1);return b&&"blob"===n&&(r=new b([r])),{type:y[o],data:r}},t.decodeBase64Packet=function(e,t){var n=y[e.charAt(0)];if(!d)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=d.decode(e.substr(1));return"blob"===t&&b&&(i=new b([i])),{type:n,data:i}},t.encodePayload=function(e,n,i){function o(e){return e.length+":"+e}function r(e,i){t.encodePacket(e,!!s&&n,!1,(function(e){i(null,o(e))}))}"function"==typeof n&&(i=n,n=null);var s=u(e);return n&&s?b&&!v?t.encodePayloadAsBlob(e,i):t.encodePayloadAsArrayBuffer(e,i):e.length?void l(e,r,(function(e,t){return i(t.join(""))})):i("0:")},t.decodePayload=function(e,n,i){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,i);var o;if("function"==typeof n&&(i=n,n=null),""===e)return i(_,0,1);for(var r,s,a="",l=0,d=e.length;l<d;l++){var c=e.charAt(l);if(":"===c){if(""===a||a!=(r=Number(a)))return i(_,0,1);if(a!=(s=e.substr(l+1,r)).length)return i(_,0,1);if(s.length){if(o=t.decodePacket(s,n,!1),_.type===o.type&&_.data===o.data)return i(_,0,1);if(!1===i(o,l+r,d))return}l+=r,a=""}else a+=c}return""!==a?i(_,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function i(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}return e.length?void l(e,i,(function(e,t){var i=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),o=new Uint8Array(i),r=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);n=i.buffer}o[r++]=t?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)o[r++]=parseInt(a[s]);for(o[r++]=255,i=new Uint8Array(n),s=0;s<i.length;s++)o[r++]=i[s]})),n(o.buffer)})):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function i(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);e=i.buffer,t[0]=0}var r=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(r.length+1);for(o=0;o<r.length;o++)s[o]=parseInt(r[o]);if(s[r.length]=255,b){var a=new b([t.buffer,s.buffer,e]);n(null,a)}}))}l(e,i,(function(e,t){return n(new b(t))}))},t.decodePayloadAsBinary=function(e,n,i){"function"==typeof n&&(i=n,n=null);for(var o=e,r=[];o.byteLength>0;){for(var s=new Uint8Array(o),a=0===s[0],l="",d=1;255!==s[d];d++){if(l.length>310)return i(_,0,1);l+=s[d]}o=h(o,2+l.length),l=parseInt(l);var c=h(o,0,l);if(a)try{c=String.fromCharCode.apply(null,new Uint8Array(c))}catch(u){var g=new Uint8Array(c);for(c="",d=0;d<g.length;d++)c+=String.fromCharCode(g[d])}r.push(c),o=h(o,l)}var f=r.length;r.forEach((function(e,o){i(t.decodePacket(e,n,!0),o,f)}))}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},function(e,t,n){function o(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var t=0,n=e.length;t<n;t++)if(o(e[t]))return!0;return!1}if("function"==typeof i&&i.isBuffer&&i.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||a&&e instanceof Blob||l&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return o(e.toJSON(),!0);for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&o(e[s]))return!0;return!1}var r=n(10),s=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),l="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);e.exports=o},function(e,t){e.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var o=new Uint8Array(e),r=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)r[a]=o[s];return r.buffer}},function(e,t){function n(e,t,n){function o(e,i){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(r=!0,t(e),t=n):0!==o.count||r||t(null,i)}var r=!1;return n=n||i,o.count=e,0===e?t():o}function i(){}e.exports=n},function(e,t){function n(e){for(var t,n,i=[],o=0,r=e.length;o<r;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<r?56320==(64512&(n=e.charCodeAt(o++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--):i.push(t);return i}function i(e){for(var t,n=e.length,i=-1,o="";++i<n;)(t=e[i])>65535&&(o+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=f(t);return o}function o(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function r(e,t){return f(e>>t&63|128)}function s(e,t){if(0==(4294967168&e))return f(e);var n="";return 0==(4294965248&e)?n=f(e>>6&31|192):0==(4294901760&e)?(o(e,t)||(e=65533),n=f(e>>12&15|224),n+=r(e,6)):0==(4292870144&e)&&(n=f(e>>18&7|240),n+=r(e,12),n+=r(e,6)),n+f(63&e|128)}function a(e,t){for(var i=!1!==(t=t||{}).strict,o=n(e),r=o.length,a=-1,l="";++a<r;)l+=s(o[a],i);return l}function l(){if(g>=h)throw Error("Invalid byte index");var e=255&u[g];if(g++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,n;if(g>h)throw Error("Invalid byte index");if(g==h)return!1;if(t=255&u[g],g++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|l())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|l()<<6|l())>=2048)return o(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}function c(e,t){var o=!1!==(t=t||{}).strict;u=n(e),h=u.length,g=0;for(var r,s=[];!1!==(r=d(o));)s.push(r);return i(s)}/*! https://mths.be/utf8js v2.1.2 by @mathias */var u,h,g,f=String.fromCharCode;e.exports={version:"2.1.2",encode:a,decode:c}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<e.length;i++)n[e.charCodeAt(i)]=i;t.encode=function(t){var n,i=new Uint8Array(t),o=i.length,r="";for(n=0;n<o;n+=3)r+=e[i[n]>>2],r+=e[(3&i[n])<<4|i[n+1]>>4],r+=e[(15&i[n+1])<<2|i[n+2]>>6],r+=e[63&i[n+2]];return o%3===2?r=r.substring(0,r.length-1)+"=":o%3===1&&(r=r.substring(0,r.length-2)+"=="),r},t.decode=function(e){var t,i,o,r,s,a=.75*e.length,l=e.length,d=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<l;t+=4)i=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],r=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],u[d++]=i<<2|o>>4,u[d++]=(15&o)<<4|r>>2,u[d++]=(3&r)<<6|63&s;return c}}()},function(e,t){function n(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function i(e,t){t=t||{};var i=new r;return n(e).forEach((function(e){i.append(e)})),t.type?i.getBlob(t.type):i.getBlob()}function o(e,t){return new Blob(n(e),t||{})}var r="undefined"!=typeof r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),l=r&&r.prototype.append&&r.prototype.getBlob;"undefined"!=typeof Blob&&(i.prototype=Blob.prototype,o.prototype=Blob.prototype),e.exports=s?a?Blob:o:l?i:void 0},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),i=0,o=n.length;i<o;i++){var r=n[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function n(e){var t="";do{t=s[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function i(e){var t=0;for(c=0;c<e.length;c++)t=t*a+l[e.charAt(c)];return t}function o(){var e=n(+new Date);return e!==r?(d=0,r=e):e+"."+n(d++)}for(var r,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,l={},d=0,c=0;c<a;c++)l[s[c]]=c;o.encode=n,o.decode=i,e.exports=o},function(e,t,n){(function(t){function i(){}function o(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof t?t:{}}function r(e){if(s.call(this,e),this.query=this.query||{},!l){var t=o();l=t.___eio=t.___eio||[]}this.index=l.length;var n=this;l.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=i)}),!1)}var s=n(19),a=n(30);e.exports=r;var l,d=/\n/g,c=/\\n/g;a(r,s),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},r.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';r=document.createElement(t)}catch(e){(r=document.createElement("iframe")).name=o.iframeId,r.src="javascript:0"}r.id=o.iframeId,o.form.appendChild(r),o.iframe=r}var o=this;if(!this.form){var r,s=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),i(),e=e.replace(c,"\\\n"),this.area.value=e.replace(d,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){function o(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(g=s),a.call(this,e)}var r,s,a=n(20),l=n(21),d=n(29),c=n(30),u=n(31),h=n(3)("engine.io-client:websocket");if("undefined"==typeof self)try{s=n(34)}catch(f){}else r=self.WebSocket||self.MozWebSocket;var g=r||s;e.exports=o,c(o,a),o.prototype.name="websocket",o.prototype.supportsBinary=!0,o.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new g(e,t):new g(e):new g(e,t,n)}catch(o){return this.emit("error",o)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},o.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},o.prototype.write=function(e){function t(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}var n=this;this.writable=!1;for(var o=e.length,r=0,s=o;r<s;r++)!function(e){l.encodePacket(e,n.supportsBinary,(function(r){if(!n.usingBrowserWebSocket){var s={};e.options&&(s.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof r?i.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(s.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,s)}catch(l){h("websocket closed before onclose event")}--o||t()}))}(e[r])},o.prototype.onClose=function(){a.prototype.onClose.call(this)},o.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},o.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=d.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},o.prototype.check=function(){return!(!g||"__initialize"in g&&this.name===o.prototype.name)}},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},function(e,t,n){"use strict";function i(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(7),s=n(8),a=n(37),l=n(38),d=n(39),c=n(3)("socket.io-client:socket"),u=n(29),h=n(23);e.exports=i;var g={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=s.prototype.emit;s(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[l(e,"open",d(this,"onopen")),l(e,"packet",d(this,"onpacket")),l(e,"close",d(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},i.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(g.hasOwnProperty(e))return f.apply(this,arguments),this;var t=a(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===o(this.query)?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},i.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=a(arguments);c("sending ack %j",i),t.packet({type:h(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},i.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(e){return this.flags.compress=e,this},i.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){function n(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}e.exports=n},function(e,t){"use strict";function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=n},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])},"../node_modules/@tencent/docs-connection/lib/util/cookie.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDecodeURIComponentValue=t.getCookieForMessage=t.Cookie=void 0;var n=function(e){try{return decodeURIComponent(e)}catch(t){return e}};t.getDecodeURIComponentValue=n;var i={get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?n(t[2]):""},getXsrf:function(){return i.get("TOK")||""}};t.Cookie=i,t.getCookieForMessage=function(e){void 0===e&&(e=!1);var t="";if(e){var o=document.cookie.split(";");t=o.map((function(e){var t=/(\w+)=(.*)/.exec(e.trim())||[],i=t[0],o=t[1],r=t[2];return o?o+"="+n(r):i})).join(";")}else["p_luin","p_lskey","p_skey","p_uin","uid","uid_key","ww_utoken","SID","SID_S"].forEach((function(e){var n=i.get(e);n&&(t=t+" "+e+"="+n+";")}));return t}},"../node_modules/@tencent/docs-connection/lib/util/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/util/cookie.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/util/log.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/util/reporter.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/util/taskid.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/util/json-util.js"),t)},"../node_modules/@tencent/docs-connection/lib/util/json-util.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonUtil=void 0;var i=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),o=function(){function e(){}return e.parseJson=function(e){var t;try{t=JSON.parse(e)}catch(n){i.ConnectionLog.error("parseJson: error = "+n+".")}return t},e.jsonStringify=function(e){var t="";try{t=JSON.stringify(e)}catch(n){i.ConnectionLog.error("jsonStringify: error = "+n+".")}return t},e}();t.JsonUtil=o},"../node_modules/@tencent/docs-connection/lib/util/log.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initLogAndManager=t.ConnectionLog=void 0;var n={ConnectionLogModule:"ConnectionLog ",liteReconnects:0,needSaveLog:function(){return n.liteReconnects<5},debug:function(){},info:function(){},warn:function(){},error:function(){}};t.ConnectionLog=n,t.initLogAndManager=function(e){e&&(n.debug=function(t){var i;n.needSaveLog()&&(null===(i=e.debug)||void 0===i||i.call(e,n.ConnectionLogModule,t))},n.info=function(t){var i;n.needSaveLog()&&(null===(i=e.info)||void 0===i||i.call(e,n.ConnectionLogModule,t))},n.warn=function(t){var i;n.needSaveLog()&&(null===(i=e.warn)||void 0===i||i.call(e,n.ConnectionLogModule,t))},n.error=function(t){var i;n.needSaveLog()&&(null===(i=e.error)||void 0===i||i.call(e,n.ConnectionLogModule,t))})}},"../node_modules/@tencent/docs-connection/lib/util/reporter.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initReportManager=t.ReportManager=void 0;var n={tdw:function(e){},monitor:function(e){}};t.ReportManager=n,t.initReportManager=function(e){e&&(n.tdw=function(t){var n;null===(n=e.tdw)||void 0===n||n.call(e,t)},n.monitor=function(t){var n;null===(n=e.monitor)||void 0===n||n.call(e,t)})}},"../node_modules/@tencent/docs-connection/lib/util/taskid.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMessageTaskId=t.generateUuid=void 0,t.generateUuid=function(e,t){return t?e+t.slice(0,5):e},t.generateMessageTaskId=function(){return Math.ceil(0x4189374bc6a7f0*Math.random())}},"../node_modules/@tencent/docs-connection/lib/websocket-channel/index.js":function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-channel.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-message.inerface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-util.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-error-code.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-channel.interface.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/socket.io/config.js"),t),o(n("../node_modules/@tencent/docs-connection/lib/websocket-channel/websocket/room-websocket-dependency.interface.js"),t)},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js":function(e,t){"use strict";var n,i,o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageState=t.MessageWaitAcceptCmd=t.MessageResultEvent=t.RoomState=void 0,function(e){e.INIT="INIT",e.CONNECTING="CONNECTING",e.OPENED="OPENED",e.RECONNECTING_IN_CLOSED="RECONNECTING_In_CLOSED",e.SHUTDOWN="SHUTDOWN"}(n||(n={})),t.RoomState=n,function(e){e.ON_POST="onpost",e.NET_STATUS_CHANGE="netStatusChange",e.ON_SEND_ACCEPT="onsendAccept"}(i||(i={})),t.MessageResultEvent=i,function(e){e.ACCEPT_COMMIT="ACCEPT_COMMIT",e.COMMIT_ERROR="COMMIT_ERROR",e.TASK_DUPLICATE="TASK_DUPLICATE"}(o||(o={})),t.MessageWaitAcceptCmd=o,function(e){e.UNKNOWN="unknown",e.SENDING="sending",e.WAITTING="waitting",e.WAIT_ACCEPT="waitAccept"}(r||(r={})),t.MessageState=r},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-error-code.js":function(e,t){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketErrorCode=t.RoomErrorCode=void 0,function(e){e[e.SUCCESS=0]="SUCCESS",e[e.TIMEOUT=101]="TIMEOUT",e[e.PARA_ERROR=102]="PARA_ERROR",e[e.EXIST=103]="EXIST",e[e.ROOM_DISCONNECT=104]="ROOM_DISCONNECT",e[e.ROOM_CLOSE=105]="ROOM_CLOSE",e[e.ROOM_STATE_ERR=106]="ROOM_STATE_ERR"}(n||(n={})),t.RoomErrorCode=n,function(e){e[e.SOCKET_SERVER_SUCCESS=0]="SOCKET_SERVER_SUCCESS",e[e.SOCKET_DATA_SERVER_UNKNOWN_ERROR=1e4]="SOCKET_DATA_SERVER_UNKNOWN_ERROR",e[e.SOCKET_DATA_PROTOCOL_FIELD_LACK=10001]="SOCKET_DATA_PROTOCOL_FIELD_LACK",e[e.SOCKET_DATA_SERVER_ERROR=4e4]="SOCKET_DATA_SERVER_ERROR",e[e.SOCKET_DATA_DOC_NOT_EXIST=40001]="SOCKET_DATA_DOC_NOT_EXIST",e[e.SOCKET_DATA_SUBID_ERROR=40002]="SOCKET_DATA_SUBID_ERROR",e[e.SOCKET_DATA_ACTION_LENGTH=40003]="SOCKET_DATA_ACTION_LENGTH",e[e.SOCKET_DATA_CHANGESET_EASYSYNC=40005]="SOCKET_DATA_CHANGESET_EASYSYNC",e[e.SOCKET_DATA_SAVE_FAIL=40006]="SOCKET_DATA_SAVE_FAIL",e[e.SOCKET_DATA_READ_FAIL=40020]="SOCKET_DATA_READ_FAIL",e[e.SOCKET_DATA_BASEREV_ERROR=40021]="SOCKET_DATA_BASEREV_ERROR",e[e.SOCKET_DATA_NOT_SUPPORTED_TYPE=40022]="SOCKET_DATA_NOT_SUPPORTED_TYPE",e[e.SOCKET_DATA_NOT_SUPPORTED_PROTO=40023]="SOCKET_DATA_NOT_SUPPORTED_PROTO",e[e.SOCKET_GRAY_VERSION_INCONFORMITY=40024]="SOCKET_GRAY_VERSION_INCONFORMITY",e[e.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT=40025]="SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT",e[e.SOCKET_DATA_CONTENT_LIMIT=40026]="SOCKET_DATA_CONTENT_LIMIT",e[e.SOCKET_DATA_REV_DIFF_UPPER_TEN=40027]="SOCKET_DATA_REV_DIFF_UPPER_TEN",e[e.SOCKET_DATA_EASYSYNC_TIMEOUT=40028]="SOCKET_DATA_EASYSYNC_TIMEOUT",e[e.SOCKET_CLIENT_VERSION_TOO_OLD=40029]="SOCKET_CLIENT_VERSION_TOO_OLD",e[e.SOCKET_JS_TOO_OLD=40030]="SOCKET_JS_TOO_OLD",e[e.SOCKET_NOT_CONFILCT_TO_COMMIT=40031]="SOCKET_NOT_CONFILCT_TO_COMMIT",e[e.SOCKET_COMMIT_QUEUE_NORMAL_LOCK=40032]="SOCKET_COMMIT_QUEUE_NORMAL_LOCK",e[e.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK=40033]="SOCKET_COMMIT_QUEUE_OFFLINE_LOCK",e[e.SOCKET_COMMIT_DVER_INCONFORMITY=40034]="SOCKET_COMMIT_DVER_INCONFORMITY",e[e.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR=40035]="SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR",e[e.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR=40036]="SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR",e[e.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR=40037]="SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR",e[e.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION=40038]="SOCKET_WEB_VERSION_GREATER_SERVER_VERSION",e[e.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT=40039]="SOCKET_SHEET_ROW_COL_NUMBER_LIIMT",e[e.SOCKET_DATA_DOCID_ERROR=41001]="SOCKET_DATA_DOCID_ERROR",e[e.SOCKET_DATA_PROTOCOL_TYPE_ERROR=41002]="SOCKET_DATA_PROTOCOL_TYPE_ERROR",e[e.SOCKET_SERVER_ERROR=6e4]="SOCKET_SERVER_ERROR",e[e.SOCKET_LAYER_ERROR=60001]="SOCKET_LAYER_ERROR",e[e.SOCKET_CLIENT_NOT_READY_ERROR=60002]="SOCKET_CLIENT_NOT_READY_ERROR",e[e.SOCKET_CLIENT_DATA_ERROR=60003]="SOCKET_CLIENT_DATA_ERROR",e[e.SOCKET_COLLAB_ROOM_TIMEOUT=60004]="SOCKET_COLLAB_ROOM_TIMEOUT",e[e.SOCKET_COLLAB_SERVER_TIMEOUT=60005]="SOCKET_COLLAB_SERVER_TIMEOUT",e[e.SOCKET_USER_AUTH_FAILED=60006]="SOCKET_USER_AUTH_FAILED",e[e.SOCKET_DOC_PRIVILEGE_FAILED=60007]="SOCKET_DOC_PRIVILEGE_FAILED",e[e.SOCKET_PACKAGE_SIZE_TOO_LARGE=60008]="SOCKET_PACKAGE_SIZE_TOO_LARGE",e[e.SOCKET_COLLAB_ROOM_ALREADY_EXIST=60009]="SOCKET_COLLAB_ROOM_ALREADY_EXIST",e[e.SOCKET_COLLAB_ROOM_MEMBER_FULL=60010]="SOCKET_COLLAB_ROOM_MEMBER_FULL",e[e.SOCKET_SERVER_STORAGE_TIMEOUT=60011]="SOCKET_SERVER_STORAGE_TIMEOUT",e[e.SOCKET_SERVER_CGI_TIMEOUT=60013]="SOCKET_SERVER_CGI_TIMEOUT",e[e.SOCKET_FREQUENCY_LIMIT=60014]="SOCKET_FREQUENCY_LIMIT",e[e.SOCKET_USER_DOC_NOPRIVILEGE=60015]="SOCKET_USER_DOC_NOPRIVILEGE",e[e.SOCKET_USER_CHANGE_PARAM_ERROR=60016]="SOCKET_USER_CHANGE_PARAM_ERROR",e[e.SOCKET_COMMAND_NOT_SUPPORTED=60017]="SOCKET_COMMAND_NOT_SUPPORTED",e[e.SOCKET_HACKPAD_TIMEOUT=60018]="SOCKET_HACKPAD_TIMEOUT",e[e.SOCKET_SERVER_WAITTING_TOO_LONG=60019]="SOCKET_SERVER_WAITTING_TOO_LONG",e[e.SOCKET_SERVER_WAITTING_TIMEOUT=60020]="SOCKET_SERVER_WAITTING_TIMEOUT",e[e.SOCKET_AUTH_TIMEOUT=60021]="SOCKET_AUTH_TIMEOUT",e[e.SOCKET_GET_PRIVILEGE_TIMEOUT=60022]="SOCKET_GET_PRIVILEGE_TIMEOUT",e[e.SOCKET_IP_BLACK_LIST=60030]="SOCKET_IP_BLACK_LIST",e[e.SOCKET_USER_BLACK_LIST=60031]="SOCKET_USER_BLACK_LIST",e[e.SOCKET_DOCMENT_BLACK_LIST=60032]="SOCKET_DOCMENT_BLACK_LIST",e[e.SOCKET_USERAGENT_BLACK_LIST=60033]="SOCKET_USERAGENT_BLACK_LIST",e[e.SOCKET_SWITCH_BIG_COLLAB=60034]="SOCKET_SWITCH_BIG_COLLAB",e[e.EXIT_BIG_COLLAB=60035]="EXIT_BIG_COLLAB",e[e.SOCKET_UNKNOWN_ERROR=-1]="SOCKET_UNKNOWN_ERROR",e[e.SOCKET_COLLABROOM_GET_VIP_FAIL=7e4]="SOCKET_COLLABROOM_GET_VIP_FAIL",e[e.SOCKET_COLLABROOM_NOT_VIP_FULL=70001]="SOCKET_COLLABROOM_NOT_VIP_FULL",e[e.SOCKET_COLLABROOM_DOC_DELETED=70002]="SOCKET_COLLABROOM_DOC_DELETED",e[e.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN=1000001]="ROOM_WEBSOCKET_DISPOSE_SHUTDOWN",e[e.INACTIVE=1000002]="INACTIVE",e[e.CODEREV_NEW=1000003]="CODEREV_NEW",e[e.SOCKET_SEND_MESSAGE_TIMEOUT=1000004]="SOCKET_SEND_MESSAGE_TIMEOUT"}(i||(i={})),t.RoomWebsocketErrorCode=i},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-heart-beat.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomHeartBeat=void 0;var i=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),o=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js"),r=function(){function e(e,t,n){this.heartBeatInterval=15e3,this.messageSender=e,this.channelOption=t,this.roomStatusDependency=n}return e.prototype.dispose=function(){this.clearHeartBeatTimer()},e.prototype.startHeartBeatOnTimer=function(e){var t=this;e&&e!==this.heartBeatInterval&&(this.heartBeatInterval=e),this.heartBeatTimer||(this.heartBeatTimer=setTimeout((function(){t.sendHeartBeat()}),this.heartBeatInterval))},e.prototype.onHeartBeatResponse=function(e,t){var n;this.heartBeatCount=0;var i=(null===(n=null===t||void 0===t?void 0:t.onpost)||void 0===n?void 0:n.heartbeat_interval)||this.heartBeatInterval;this.startHeartBeatOnTimer(i)},e.prototype.resetHeartBeat=function(){this.clearHeartBeatTimer(),this.heartBeatCount=0,this.heartBeatInterval=15e3},e.prototype.clearHeartBeatTimer=function(){this.heartBeatTimer&&(clearTimeout(this.heartBeatTimer),this.heartBeatTimer=0)},e.prototype.sendHeartBeat=function(){var e;this.clearHeartBeatTimer();var t=null===(e=this.roomStatusDependency)||void 0===e?void 0:e.getRoomState();if(t===o.RoomState.OPENED&&this.messageSender){if(this.heartBeatCount>0&&i.ConnectionLog.warn("sendHeartBeat: heart beat count over 1, count = "+this.heartBeatCount),this.heartBeatCount>3)return i.ConnectionLog.warn("sendHeartBeat: max heart beat count reached, the connection will be close."),void this.messageSender.closeAndDelayReopen({reason:"closed by heart beat error.",shutDown:!1},0);this.heartBeatCount+=1;var n={type:"HEART_BEAT",task_id:i.generateMessageTaskId(),docid:this.channelOption.globalPadId,uid:this.channelOption.userId.replace("p.","").replace("g.","")},r=i.JsonUtil.jsonStringify(n)+"\n";this.messageSender.postMessageWithWebsocket(r),this.startHeartBeatOnTimer(this.heartBeatInterval)}else i.ConnectionLog.warn("sendHeartBeat: room state error, state = "+t)},e}();t.RoomHeartBeat=r},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-login.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomLogin=void 0;var o=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),r=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-util.js"),s=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js"),a=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-error-code.js"),l=i(n("../node_modules/@tencent/docs-connection/lib/report/collab-room-reporter.js")),d=function(){function e(e,t,n){this.loginCount=0,this.delayLoginTimer=0,this.loginSeq=0,this.loginTimeout=0,this.loginTime=0,this.messageSender=e,this.channelOption=t,this.roomStatusDependency=n}return e.prototype.dispose=function(){this.resetLogin()},e.prototype.login=function(){this.isConnected()?this.loginInternal():o.ConnectionLog.error("loginRoom: not connected!")},e.prototype.resetLogin=function(){this.loginCount=0,this.loginSeq=0,this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0),this.delayLoginTimer&&(clearTimeout(this.delayLoginTimer),this.delayLoginTimer=0)},e.prototype.onLoginResponse=function(e,t){if("CLIENT_READY"===e.type){var n={errCode:a.RoomErrorCode.SUCCESS,errMsg:"",response:t};this.handleLoginResponse(e.task_id,e.type,n)}},e.prototype.isConnected=function(){return this.messageSender.isConnected()},e.prototype.loginInternal=function(){var e,t=this;this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0),this.loginCount+=1,this.loginSeq=o.generateMessageTaskId();var n={roomType:"padpage",roomName:"padpage/"+this.channelOption.globalPadId,upid:null!==(e=this.channelOption.upid)&&void 0!==e?e:"",gid:this.channelOption.globalPadId,sid:this.channelOption.sid,tid:this.channelOption.tid,sig:this.channelOption.sig,data:{stats:this.getStats()}};o.ConnectionLog.info("loginRoom: CLIENT_READY: "+this.loginSeq),this.loginPostData=this.messageSender.createPostData("CLIENT_READY",this.loginSeq,o.JsonUtil.jsonStringify(n)),this.messageSender.postMessageWithWebsocket(this.loginPostData),this.loginTime=r.RoomUtil.getCurrentTime(),this.loginTimeout=setTimeout((function(){o.ConnectionLog.warn("loginRoom: time out, seq = "+t.loginSeq);var e={errCode:a.RoomErrorCode.TIMEOUT,errMsg:"login room time out."};t.handleLoginResponse(t.loginSeq,"CLIENT_READY",e)}),3e3)},e.prototype.handleLoginResponse=function(e,t,n){this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0);var i={errCode:0,errMsg:"",event:s.MessageResultEvent.ON_POST,needRetry:!1};if(this.checkLoginResult(n)?(this.roomStatusDependency.notifyRoomOpened(n),i.errCode=n.response.onpost.result):this.handleLoginResponseFail(n,i),0!==i.errCode){i.errMsg=r.RoomUtil.getWebsocketChannelErrorMessage(i.errCode);var o={module:this.channelOption.module,cmd:"CLIENT_READY",attrName:String(n.errCode||n.response.onpost.result),status:1,errorMessage:i.errMsg};l.default.loginRoomError(o)}},e.prototype.checkLoginResult=function(e){var t,n;return 0===e.errCode&&(0===(null===(n=null===(t=e.response)||void 0===t?void 0:t.onpost)||void 0===n?void 0:n.result)||e.response.onpost.result===a.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_ALREADY_EXIST)},e.prototype.handleLoginResponseFail=function(e,t){0!==e.errCode?(o.ConnectionLog.error("handleLoginFailed: client error, code = "+e.errCode+"."),this.loginCount>=2?(o.ConnectionLog.error("handleLoginFailed: login count = "+this.loginCount+"."),this.resetLogin(),this.messageSender.closeAndDelayReopen({reason:r.RoomUtil.getWebsocketChannelErrorMessage(e.errCode),shutDown:!1},0),t.needRetry=!1):(this.delayLogin(1500),t.needRetry=!0),t.errCode=e.errCode,t.event=s.MessageResultEvent.NET_STATUS_CHANGE):this.handleLoginResponseServerFail(e,t)},e.prototype.handleLoginResponseServerFail=function(e,t){var n=e.response.onpost.result;t.errCode=n;var i={errCode:n,reason:r.RoomUtil.getWebsocketChannelErrorMessage(n,"login failed."),shutDown:!1};this.shouldRetryLogin(n)?this.handleLoginRetry(e,t):this.shouldReopen(n)?this.messageSender.closeAndDelayReopen(i,0):this.shutdownByServerFailure(i,t),o.ConnectionLog.error("handleLoginResponseSvrFail: errCode = "+n)},e.prototype.shouldRetryLogin=function(e){return e===a.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT||e===a.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT||e===a.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT||e===a.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT||e===a.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT},e.prototype.shouldReopen=function(e){return e===a.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR||e===a.RoomWebsocketErrorCode.SOCKET_CLIENT_NOT_READY_ERROR},e.prototype.shutdownByServerFailure=function(e,t){e.shutDown=!0,this.messageSender.shutDown(e),t.needRetry=!1},e.prototype.handleLoginRetry=function(e,t){var n,i,o,s=e.response.onpost.result,l={errCode:s,reason:r.RoomUtil.getWebsocketChannelErrorMessage(s,"login failed."),shutDown:!1};if(this.loginCount>=2)this.resetLogin(),s===a.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT&&this.messageSender.closeAndDelayReopen(l,0),t.needRetry=!1;else{var d=null!==(o=null===(i=null===(n=null===e||void 0===e?void 0:e.response)||void 0===n?void 0:n.onpost)||void 0===i?void 0:i.retry_interval)&&void 0!==o?o:this.delayLoginTime;this.delayLogin(d),t.needRetry=!0}},e.prototype.delayLogin=function(e){var t=this;this.delayLoginTimer=setTimeout((function(){t.login()}),e)},e.prototype.getStats=function(){return{screen:""}},e}();t.RoomLogin=d},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-status.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomStatus=void 0;var i=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-login.js"),o=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-heart-beat.js"),r=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),s=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js"),a=function(){function e(e,t,n){this.roomState=s.RoomState.INIT,this.channelOption=t,this.connectionControllerDependency=n,this.messageSender=e,this.roomLogin=new i.RoomLogin(e,t,this),this.roomHeartBeat=new o.RoomHeartBeat(e,this.channelOption,this)}return Object.defineProperty(e.prototype,"state",{get:function(){return this.roomState},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.roomState=s.RoomState.INIT,this.roomHeartBeat.dispose(),this.roomLogin.dispose()},e.prototype.openRoom=function(){this.checkRoomState()&&(this.messageSender.openWebsocketConnection(),this.roomState===s.RoomState.INIT?this.setRoomState(s.RoomState.CONNECTING):this.setRoomState(s.RoomState.RECONNECTING_IN_CLOSED))},e.prototype.onRoomClosed=function(e){e.shutDown?this.handleShutDown(e):this.handleRoomClose(e)},e.prototype.loginRoom=function(){this.roomLogin.login()},e.prototype.resetLogin=function(){this.roomLogin.resetLogin()},e.prototype.onLoginResponse=function(e,t){this.roomLogin.onLoginResponse(e,t)},e.prototype.resetHeartBeat=function(){this.roomHeartBeat.resetHeartBeat()},e.prototype.onHeartBeatResponse=function(e,t){this.roomHeartBeat.onHeartBeatResponse(e,t)},e.prototype.roomStateReconnecting=function(){this.setRoomState(s.RoomState.CONNECTING)},e.prototype.getRoomState=function(){return this.state},e.prototype.notifyRoomOpened=function(e){this.setRoomState(s.RoomState.OPENED),this.resetLogin(),this.roomHeartBeat.resetHeartBeat();var t=e.response;this.roomHeartBeat.startHeartBeatOnTimer(t.onpost.heartbeat_interval),this.messageSender.startMessageSending(),this.messageSender.notifyRoomOpened(),this.connectionControllerDependency.handleOnRoomOpen()},e.prototype.checkRoomState=function(){return this.state!==s.RoomState.OPENED&&this.state!==s.RoomState.SHUTDOWN||(r.ConnectionLog.warn("checkRoomState:state is "+this.state+"!"),!1)},e.prototype.setRoomState=function(e,t){void 0===t&&(t=""),e!==this.roomState&&(this.roomState=e,r.ConnectionLog.info("setRoomState:set new state = "+e),this.connectionControllerDependency.handleOnRoomStateChange(this.roomState,t))},e.prototype.handleShutDown=function(e){var t=this.roomState;this.setRoomState(s.RoomState.SHUTDOWN,e.reason),t!==s.RoomState.SHUTDOWN&&this.connectionControllerDependency.handleOnRoomShutDown(e)},e.prototype.handleRoomClose=function(e){var t=this.roomState;this.setRoomState(s.RoomState.RECONNECTING_IN_CLOSED,e.reason),t!==s.RoomState.RECONNECTING_IN_CLOSED&&this.connectionControllerDependency.handleOnRoomClose(e)},e}();t.RoomStatus=a},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-util.js":function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomUtil=void 0;var o=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/index.js"),r=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-error-code.js"),s=((i={})[r.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR]="Server internal error, code = "+r.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR]="Connection not exist, code = "+r.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED]="TX-LOGIN-PSKEY-EXPIRED 登录态校验失败, code = "+r.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED,i[r.RoomWebsocketErrorCode.SOCKET_CLIENT_DATA_ERROR]="请求数据出错, code = "+r.RoomWebsocketErrorCode.SOCKET_CLIENT_DATA_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT]="后台房间超时, code = "+r.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT]="后台服务超时, code = "+r.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT]="后台存储超时, code = "+r.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT]="后台CGI超时, code = "+r.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_DOC_PRIVILEGE_FAILED]="权限校验失败, code = "+r.RoomWebsocketErrorCode.SOCKET_DOC_PRIVILEGE_FAILED,i[r.RoomWebsocketErrorCode.SOCKET_USER_DOC_NOPRIVILEGE]="权限校验无权限, code = "+r.RoomWebsocketErrorCode.SOCKET_USER_DOC_NOPRIVILEGE,i[r.RoomWebsocketErrorCode.SOCKET_PACKAGE_SIZE_TOO_LARGE]="超过最大包长限制, code = "+r.RoomWebsocketErrorCode.SOCKET_PACKAGE_SIZE_TOO_LARGE,i[r.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL]="Member full, code = "+r.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL,i[r.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL]="Member full, code = "+r.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL,i[r.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT]="频率限制, code = "+r.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT,i[r.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT]="TX-LOGIN-PSKEY-EXPIRED 鉴权超时, code = "+r.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT]="权限超时, code = "+r.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_DATA_SERVER_UNKNOWN_ERROR]="后台发生未知异常错误, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_SERVER_UNKNOWN_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_FIELD_LACK]="数据协议字段缺失, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_FIELD_LACK,i[r.RoomWebsocketErrorCode.SOCKET_DATA_DOC_NOT_EXIST]="文档不存在, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_DOC_NOT_EXIST,i[r.RoomWebsocketErrorCode.SOCKET_DATA_SUBID_ERROR]="subId不正确, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_SUBID_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_DATA_ACTION_LENGTH]="提交失败 action检查失败, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_ACTION_LENGTH,i[r.RoomWebsocketErrorCode.SOCKET_DATA_CHANGESET_EASYSYNC]="changeset easysync 异常, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_CHANGESET_EASYSYNC,i[r.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL]="数据落盘失败, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL,i[r.RoomWebsocketErrorCode.SOCKET_DATA_READ_FAIL]="读数据失败, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_READ_FAIL,i[r.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR]="baseRev错误, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_TYPE]="不支持文档类型, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_TYPE,i[r.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_PROTO]="不支持请求协议, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_PROTO,i[r.RoomWebsocketErrorCode.SOCKET_GRAY_VERSION_INCONFORMITY]="灰度版本号不一致, code = "+r.RoomWebsocketErrorCode.SOCKET_GRAY_VERSION_INCONFORMITY,i[r.RoomWebsocketErrorCode.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT]="编辑提交文档被禁止协同, code = "+r.RoomWebsocketErrorCode.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT,i[r.RoomWebsocketErrorCode.SOCKET_DATA_CONTENT_LIMIT]=" 编辑提交大小限制, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_CONTENT_LIMIT,i[r.RoomWebsocketErrorCode.SOCKET_DATA_REV_DIFF_UPPER_TEN]="base版本号与服务器最新版本差距超过10, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_REV_DIFF_UPPER_TEN,i[r.RoomWebsocketErrorCode.SOCKET_DATA_EASYSYNC_TIMEOUT]="当前提交后台处理协同冲突超时, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_EASYSYNC_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_CLIENT_VERSION_TOO_OLD]="CLIENT_READY 前端版本过期, code = "+r.RoomWebsocketErrorCode.SOCKET_CLIENT_VERSION_TOO_OLD,i[r.RoomWebsocketErrorCode.SOCKET_JS_TOO_OLD]="USER_CHANGES 前端版本过期, code = "+r.RoomWebsocketErrorCode.SOCKET_JS_TOO_OLD,i[r.RoomWebsocketErrorCode.SOCKET_NOT_CONFILCT_TO_COMMIT]="前端限制，存在冲突, code = "+r.RoomWebsocketErrorCode.SOCKET_NOT_CONFILCT_TO_COMMIT,i[r.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_NORMAL_LOCK]="提交队列被正常提交锁, code = "+r.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_NORMAL_LOCK,i[r.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK]="提交队列被离线提交锁, code = "+r.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK,i[r.RoomWebsocketErrorCode.SOCKET_COMMIT_DVER_INCONFORMITY]="编辑提交，dver 版本不一致, code = "+r.RoomWebsocketErrorCode.SOCKET_COMMIT_DVER_INCONFORMITY,i[r.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR]="表格编辑提交，中台服务器错误, code = "+r.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR]="表格编辑提交，提交mutaton格式错误, code = "+r.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR]="表格编辑提交，提交mutaton apply出错, code = "+r.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION]="前端版本大于后端版本, code = "+r.RoomWebsocketErrorCode.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION,i[r.RoomWebsocketErrorCode.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT]="表格编辑单元格数，行数、列数超限, code = "+r.RoomWebsocketErrorCode.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT,i[r.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR]="批量提交docid不一致, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR]="批量提交协议类型不一致, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_USER_CHANGE_PARAM_ERROR]="userchange 参数错误, code = "+r.RoomWebsocketErrorCode.SOCKET_USER_CHANGE_PARAM_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_COMMAND_NOT_SUPPORTED]="任务管理层发现不支持命令, code = "+r.RoomWebsocketErrorCode.SOCKET_COMMAND_NOT_SUPPORTED,i[r.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT]="commit error：Hackpad调用超时, code = "+r.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG]="onpost：队列超长，前端延迟重试, code = "+r.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG,i[r.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT]="commit error：队列超时，前端延迟重试, code = "+r.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT,i[r.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR]="批量提交docid不一致, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR]="批量提交协议类型不一致, code = "+r.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR,i[r.RoomWebsocketErrorCode.SOCKET_COLLABROOM_GET_VIP_FAIL]="获取会员失败, code = "+r.RoomWebsocketErrorCode.SOCKET_COLLABROOM_GET_VIP_FAIL,i[r.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL]="登录非会员房间满员, code = "+r.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL,i[r.RoomWebsocketErrorCode.SOCKET_COLLABROOM_DOC_DELETED]="文档已经被删除, code = "+r.RoomWebsocketErrorCode.SOCKET_COLLABROOM_DOC_DELETED,i[r.RoomWebsocketErrorCode.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN]="连接层 dispose 时关闭房间层错误码, code = "+r.RoomWebsocketErrorCode.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN,i[r.RoomWebsocketErrorCode.INACTIVE]="后台房间踢人，原因是不活跃或者数据升级类, code = "+r.RoomWebsocketErrorCode.INACTIVE,i[r.RoomWebsocketErrorCode.CODEREV_NEW]=" 后台踢人，原因是数据版本dver、pver或者其他不匹配, code = "+r.RoomWebsocketErrorCode.CODEREV_NEW,i[r.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT]="Websocket 提交消息超时, code = "+r.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT,i),a=function(){function e(){}return e.getWebsocketChannelErrorMessage=function(e,t){var n;void 0===t&&(t="");var i=null!==(n=s[e])&&void 0!==n?n:"error msg, code = "+e;return t&&(i=t+" "+i),i},e.getCurrentTime=function(){return(new Date).getTime()},e.createNewMessage=function(e,t,n,i,r,s,a,l,d,c){return{taskId:e,postData:t,timeout:n,maxRetryCount:i,cmd:r,data:s,waitAcceptCmd:a,onError:l,onsend:d,onsendAccept:c,retryCount:0,lastSendTime:0,onpostTime:0,firstSendTime:0,state:o.MessageState.WAITTING}},e.delay=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},e}();t.RoomUtil=a},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-channel.interface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-channel.js":function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BuildRoomWebsocketChannel=t.RoomWebsocketChannel=void 0;var a=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-status.js"),l=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-message-sender.js"),d=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-util.js"),c=s(n("../node_modules/@tencent/docs-connection/lib/report/collab-room-reporter.js")),u=n("../node_modules/@tencent/docs-connection/lib/socket.io/config.js"),h=function(){function e(e,t){this.padInfo=e,this.roomDependency=t,this.websocketMessageSender=new l.RoomWebsocketMessageSender(this.padInfo,this.roomDependency,this),this.roomStatus=new a.RoomStatus(this.websocketMessageSender,i({},this.padInfo),this.roomDependency)}return e.prototype.connect=function(){this.websocketMessageSender.openWebsocketConnection()},e.prototype.shutdown=function(e){var t,n,i={module:this.padInfo.module,attrName:String(null!==(t=e.errCode)&&void 0!==t?t:0),status:1,errorMessage:d.RoomUtil.getWebsocketChannelErrorMessage(null!==(n=e.errCode)&&void 0!==n?n:0)};this.websocketMessageSender.shutDown(e),c.default.shutDownReport(i)},e.prototype.dispose=function(){this.websocketMessageSender.dispose(),this.roomStatus.dispose()},e.prototype.sendMessage=function(e){this.websocketMessageSender.sendMessage(e)},e.prototype.batchCommitMessages=function(e,t){return o(this,void 0,void 0,(function(){return r(this,(function(e){return[2,{success:!1,retCode:52002,reason:"websocket not support batch commit."}]}))}))},e.prototype.cancelMessageBySeq=function(e){this.websocketMessageSender.cancelMessageBySeq(e)},e.prototype.openRoom=function(){this.roomStatus.openRoom()},e.prototype.onRoomClosed=function(e){this.roomStatus.onRoomClosed(e)},e.prototype.roomStateReconnecting=function(){this.roomStatus.roomStateReconnecting()},e.prototype.getRoomState=function(){return this.roomStatus.getRoomState()},e.prototype.loginRoom=function(){this.roomStatus.loginRoom()},e.prototype.onLoginResponse=function(e,t){this.roomStatus.onLoginResponse(e,t)},e.prototype.resetLogin=function(){this.roomStatus.resetLogin()},e.prototype.onHeartBeatResponse=function(e,t){this.roomStatus.onHeartBeatResponse(e,t)},e.prototype.resetHeartBeat=function(){this.roomStatus.resetHeartBeat()},e}();t.RoomWebsocketChannel=h,t.BuildRoomWebsocketChannel=function(e,t,n){var i,o,r,s,a,l,d={module:e.module,padId:e.serverVars.padId,globalPadId:e.serverVars.globalPadId,codeVer:null!==(i=e.serverVars.pver)&&void 0!==i?i:0,gray:null!==(o=e.serverVars.gray)&&void 0!==o?o:0,dver:e.serverVars.dver,pver:e.serverVars.pver,apId:e.serverVars.apid,wmode:null!==(r=e.serverVars.wmode)&&void 0!==r?r:u.DEFAULT_WMODE,padType:e.serverVars.padType,websocketReopenCount:null!==(s=e.serverVars.websocketReopenCount)&&void 0!==s?s:u.WEBSOCKET_CONFIG.pollingReopenCount,pollingAttemptNumber:null!==(a=e.serverVars.pollingAttemptNumber)&&void 0!==a?a:u.WEBSOCKET_CONFIG.pollingAttemptCount,upid:e.serverVars.client.upid,sid:e.serverVars.client.sid,tid:e.serverVars.client.tid,sig:e.serverVars.client.sig,uid:e.uid,uuId:e.userid,userId:e.userid,nowUserIndex:null!==(l=e.nowUserIndex)&&void 0!==l?l:window.nowUserIndex,middleWareCenter:n,config:e.config};return new h(d,t)}},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-message-queue.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketMessageQueue=void 0;var i=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/index.js"),o=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),r=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-error-code.js"),s=function(){function e(e){this.messageWaittingQueue=[],this.messageFinishQueue=[],this.messageSenderDependency=e}return e.prototype.dispose=function(){this.messageWaittingQueue=[],this.messageFinishQueue=[]},e.prototype.messageCount=function(){return this.messageWaittingQueue.length},e.prototype.messageAlreadyExist=function(e){var t=this.getMessageByTaskId(e.taskId);return(null===t||void 0===t?void 0:t.cmd)===e.cmd},e.prototype.getMessageByTaskId=function(e){return this.messageWaittingQueue.find((function(t){return t.taskId===e}))},e.prototype.getFinishedMessageByTaskId=function(e){return this.messageFinishQueue.find((function(t){return t.taskId===e}))},e.prototype.readyToSendMessage=function(){if(0===this.messageWaittingQueue.length)return o.ConnectionLog.info("readyToSendMessage: empty messageQueue"),!1;var e=this.messageWaittingQueue.find((function(e){return e.state===i.MessageState.SENDING}));return!e||(o.ConnectionLog.info("readyToSendMessage: message is sending, taskId = "+e.taskId),!1)},e.prototype.addWaittingMessage=function(e){this.messageWaittingQueue.push(e)},e.prototype.addFinishMessage=function(e,t){void 0===t&&(t=-1),this.removeMessageFromQueue(e,t),this.messageFinishQueue.push(e)},e.prototype.removeMessageFromQueue=function(e,t){void 0===t&&(t=-1);var n=t>=0&&t<this.messageWaittingQueue.length?t:this.getIndexOfMessage(e);this.messageWaittingQueue.splice(n,1)},e.prototype.handleMessageQueueByRoomClose=function(){for(var e=0;e<this.messageWaittingQueue.length;){var t=this.messageWaittingQueue[e];this.handleMessageByRoomClose(t),e+=1}},e.prototype.handleMessageByRoomClose=function(e){this.messageSenderDependency.doErrorCallback(e,{errCode:r.RoomErrorCode.ROOM_CLOSE,errMsg:"room close"})},e.prototype.handleMsgBySocketDisconnect=function(){for(var e=0;e<this.messageWaittingQueue.length;){var t=this.messageWaittingQueue[e];t.retryCount>=t.maxRetryCount?(this.handleRetryCountLimitedMessageBySocketDisconnect(t),this.removeMessageFromQueue(t,e)):(this.handleMesageBySocketDisconnect(t),e+=1)}},e.prototype.getFirstWaittingMessage=function(){return this.messageWaittingQueue.find((function(e){return e.state===i.MessageState.WAITTING}))},e.prototype.processMessageQueue=function(){for(var e=!1,t=!1,n=!1,o=0;o<this.messageWaittingQueue.length;){var r=this.messageWaittingQueue[o];this.sendingMsgIsTimeout(r)?(e=!0,r.retryCount<r.maxRetryCount?(this.retryMessageByTimeout(r),o+=1):this.handleRetryCountLimitedMessageByTimeout(r)):(t=r.state===i.MessageState.SENDING,n=r.state===i.MessageState.WAITTING,o+=1)}return this.clearFinishQueueIfNeed(),!t&&n&&(e=!0),e},e.prototype.cancelMessage=function(e){for(var t=0;t<this.messageWaittingQueue.length;){var n=this.messageWaittingQueue[t];if(n.taskId===e)return o.ConnectionLog.info("cancelMessageBySeq: seq = "+e),this.addFinishMessage(n),n;t+=1}},e.prototype.clearFinishQueueIfNeed=function(){this.messageFinishQueue.length>50&&this.messageFinishQueue.splice(0,this.messageFinishQueue.length-50)},e.prototype.sendingMsgIsTimeout=function(e){var t=i.RoomUtil.getCurrentTime();return(e.state===i.MessageState.SENDING||e.state===i.MessageState.WAIT_ACCEPT)&&t>e.lastSendTime&&t-e.lastSendTime>e.timeout},e.prototype.handleRetryCountLimitedMessageBySocketDisconnect=function(e){this.messageIsSendingOrWaitAccept(e)&&this.messageSenderDependency.doErrorCallback(e,{errCode:r.RoomErrorCode.ROOM_DISCONNECT,errMsg:"room disconnect"})},e.prototype.handleMesageBySocketDisconnect=function(e){this.messageIsSendingOrWaitAccept(e)&&(e.state=i.MessageState.WAITTING)},e.prototype.messageIsSendingOrWaitAccept=function(e){return e.state===i.MessageState.SENDING||e.state===i.MessageState.WAIT_ACCEPT},e.prototype.handleRetryCountLimitedMessageByTimeout=function(e){o.ConnectionLog.warn("send message timeout, taskId = "+e.taskId+", cmd = "+e.cmd+"."),e.retryCount=0,this.messageSenderDependency.closeAndDelayReopen({reason:"websocket send message timeout.",errCode:i.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT,shutDown:!1},0)},e.prototype.retryMessageByTimeout=function(e){o.ConnectionLog.warn("send message timeout, try again, taskId = "+e.taskId+",\n        cmd = "+e.cmd+", retryCount = "+e.retryCount+", maxRetryCount = "+e.maxRetryCount+", state = "+e.state),e.state=i.MessageState.WAITTING},e.prototype.getIndexOfMessage=function(e){return this.messageWaittingQueue.findIndex((function(t){return t.taskId===e.taskId}))},e}();t.RoomWebsocketMessageQueue=s},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-message-sender.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketMessageSender=void 0;var o=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/websocket/room-websocket.js"),r=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),s=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-channel-define.js"),a=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-util.js"),l=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-error-code.js"),d=i(n("../node_modules/@tencent/docs-connection/lib/report/collab-room-reporter.js")),c=n("../node_modules/@tencent/docs-connection/lib/interface/index.js"),u=n("../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-message-queue.js"),h=n("../node_modules/@tencent/docs-connection/lib/feature/index.js"),g=function(){function e(e,t,n){var i,o,r=this;this.reconnectTimes=[],this.liteReconnects=0,this.socketDisconnectTimer=0,this.reopenDelayTimer=0,this.websocketDisconneted=!1,this.hasSocketReconnected=!1,this.firstConnect=!0,this.messageSenderTimer=0,this.channelOption=e,this.roomControllerDependency=t,this.roomChannelDependency=n,this.roomMsgQueue=new u.RoomWebsocketMessageQueue(this),this.limitFrequencyManager=new h.LimitFrequencyManager(this.roomControllerDependency),null===(o=null===(i=this.channelOption.config)||void 0===i?void 0:i.messagePriority)||void 0===o||o.forEach((function(e,t){r.limitFrequencyManager.setPriority(t,e)}))}return e.prototype.dispose=function(){var e,t;null===(e=this.roomWebsocket)||void 0===e||e.dispose(),this.roomMsgQueue.dispose(),this.clearSocket(),null===(t=this.limitFrequencyManager)||void 0===t||t.dispose()},e.prototype.openWebsocketConnection=function(){this.isConnected()?r.ConnectionLog.warn("openWebsocketConnection: already exist."):this.roomChannelDependency.getRoomState()!==s.RoomState.SHUTDOWN?this.createWebsocketAndConnect():r.ConnectionLog.error("openWebsocketConnection: room state shut down.")},e.prototype.isConnected=function(){var e,t;return!this.websocketDisconneted&&null!==(t=null===(e=this.roomWebsocket)||void 0===e?void 0:e.isConnected())&&void 0!==t&&t},e.prototype.shutDown=function(e){var t;r.ConnectionLog.error("shutDown, close reason: "+e.reason+", errCode:"+e.errCode),e.reason=null!==(t=e.reason)&&void 0!==t?t:"close by client.",this.clearSocket(),e.shutDown=!0,this.notifyRoomClosed(e,0)},e.prototype.sendMessage=function(e){this.isValidMessageParam(e)?this.roomChannelDependency.getRoomState()!==s.RoomState.OPENED?(r.ConnectionLog.warn("sendMessage: room state error, state = "+this.roomChannelDependency.getRoomState()+"!"),this.needReopen()&&this.reopen(),this.doErrorCallback(e,{errCode:l.RoomErrorCode.ROOM_STATE_ERR,errMsg:"can not send message in this room state."})):this.sendMessageInternal(e):(r.ConnectionLog.error("sendMessage: waitAcceptCmd params invalid!"),this.doErrorCallback(e,{errCode:l.RoomErrorCode.PARA_ERROR,errMsg:"msg param invalid."}))},e.prototype.cancelMessageBySeq=function(e){var t=this.roomMsgQueue.cancelMessage(e);(null===t||void 0===t?void 0:t.state)===s.MessageState.SENDING&&this.startMessageSending()},e.prototype.postMessageWithWebsocket=function(e){var t;null===(t=this.roomWebsocket)||void 0===t||t.postMessageForWebSocket(e)},e.prototype.createPostData=function(e,t,n,i){var o,s,a=Number(this.channelOption.userId.startsWith("g")),l=this.channelOption.userId.replace("p.","").replace("g.",""),d={apid:this.channelOption.apId,type:e,task_id:t,docid:this.channelOption.globalPadId,uid:l,cookie:r.getCookieForMessage(null===(o=this.channelOption.config)||void 0===o?void 0:o.isUseAllCookie),base_rev:"object"===typeof n&&"number"===typeof n.baseRev?n.baseRev:this.roomControllerDependency.getPadRev(),code_ver:this.channelOption.codeVer,session_type:a,gray:this.channelOption.gray,dver:this.channelOption.dver,wl:r.Cookie.get("wl"),u:this.channelOption.nowUserIndex,generalpacket:this.roomControllerDependency.getHeaderGeneralPacket(),docs_type:this.channelOption.padType};d=Object.assign(null!==i&&void 0!==i?i:{},d);var u=r.JsonUtil.jsonStringify(d)+"\n";return u+=null!==(s=c.prepareCommitMessage(n,this.channelOption.uuId,this.channelOption.pver))&&void 0!==s?s:""},e.prototype.startMessageSending=function(){this.roomMsgQueue.messageCount()>0&&this.trySendPendingMessage()},e.prototype.notifyRoomOpened=function(){this.firstConnect=!1,this.limitFrequencyManager.reset()},e.prototype.closeAndDelayReopen=function(e,t){var n;e.reason=null!==(n=e.reason)&&void 0!==n?n:"close by client.",r.ConnectionLog.info("closeAndDelayReopen: close reason = "+e.reason+", delay time = "+t),this.clearSocket(),e.shutDown=!1,this.notifyRoomClosed(e,t)},e.prototype.onSocketStatusChanged=function(e){e.event?("open"!==e.event&&this.roomChannelDependency.getRoomState()!==s.RoomState.SHUTDOWN&&this.roomChannelDependency.roomStateReconnecting(),this.handleSocketStatusChangeEvent(e)):r.ConnectionLog.warn("onSocketStatusChanged: channel info error.")},e.prototype.onGetMessageFromServer=function(e){var t=e.split("\r\n");t instanceof Array?this.parseGetMsgDataList(t):r.ConnectionLog.error("onGetMessageFromServer: message data error.")},e.prototype.onPostFromServer=function(e){var t=e.split("\n").map((function(e){return r.JsonUtil.parseJson(e)})),n=t[0],i=t[1];n&&i?"HEART_BEAT"!==n.type?"CLIENT_READY"!==n.type?this.parsePostCommonMessageFromServer(n,i):this.roomChannelDependency.onLoginResponse(n,i):this.roomChannelDependency.onHeartBeatResponse(n,i):r.ConnectionLog.error("onPostFromServer: message data parsed error.")},e.prototype.onSocketOpen=function(){this.liteReconnects=0,this.reconnectTimes=[],this.websocketDisconneted=!1,this.hasSocketReconnected=!1,r.ConnectionLog.info("onSocketOpenEvent"),this.clearDisconnectTimer(),this.clearReopenDelayTimer(),this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.loginRoom()},e.prototype.onSocketClosed=function(e){r.ConnectionLog.info("onSocketClosedEvent: socket closed!"),this.roomWebsocket=null,this.notifyRoomClosed({reason:e,shutDown:!1},0),this.hasSocketReconnected&&this.roomControllerDependency.onNetReconnectedFail()},e.prototype.onReopenCount=function(){return this.liteReconnects},e.prototype.doErrorCallback=function(e,t){e.onError(e.taskId,e.cmd,e.data,t)},e.prototype.reportMessage=function(e,t){var n={cmd:e.cmd,attrName:String(t.errCode),status:1,module:this.channelOption.module,errorMessage:t.errMsg,waitAcceptCmd:t.waitAcceptCmd};d.default.commitError(n)},e.prototype.sendMessageInternal=function(e){var t,n,i,o;if(this.roomMsgQueue.messageAlreadyExist(e))this.doErrorCallback(e,{errCode:l.RoomErrorCode.EXIST,errMsg:"msg already exist."});else{var s=e.taskId||r.generateMessageTaskId(),d=this.createPostData(e.cmd,s,e.data,e.additionalFieldsToHead),u=c.DEFAULT_SEND_MESSAGE_TIMEOUT;(null===(t=e.customParam)||void 0===t?void 0:t.timeout)&&(e.customParam.timeout=Math.min(e.customParam.timeout,3e4),u=Math.max(u,e.customParam.timeout));var h,g=1;(null===(n=e.customParam)||void 0===n?void 0:n.maxRetryCount)&&(g=Math.min(e.customParam.maxRetryCount,5)),(null===(i=e.customParam)||void 0===i?void 0:i.waitAcceptCmd)&&(h=null===(o=e.customParam)||void 0===o?void 0:o.waitAcceptCmd);var f=a.RoomUtil.createNewMessage(s,d,u,g,e.cmd,e.data,h,e.onError,e.onsend,e.onsendAccept);this.roomMsgQueue.addWaittingMessage(f),this.startMessageSending(),this.startMessageTimer()}},e.prototype.handleSocketStatusChangeEvent=function(e){var t;r.ConnectionLog.info("handleSocketStatusChangeEvent: "+e.event+" reason: "+(null!==(t=e.disconnectReason)&&void 0!==t?t:e.failReason)),"reconnecting"===e.event?this.hasSocketReconnected=!0:"disconnect"===e.event&&this.handleDisconnectEvent(e)},e.prototype.createWebsocketAndConnect=function(){if(this.roomWebsocket)r.ConnectionLog.warn("createWebsocketAndConnect:socket has exist");else{var e={padId:this.channelOption.padId,roomWebSocketDependency:this,tag:this.channelOption.padId,gid:this.channelOption.globalPadId,upid:this.channelOption.upid||"",sig:this.channelOption.sig,uid:this.channelOption.uid,uidKey:r.Cookie.get("uid_key"),wmode:this.channelOption.wmode,websocketReopenCount:this.channelOption.websocketReopenCount,pollingAttemptNumber:this.channelOption.pollingAttemptNumber,nowUserIndex:this.channelOption.nowUserIndex,module:this.channelOption.module};this.roomWebsocket=new o.RoomWebsocket(e),this.roomWebsocket.connect(),this.setupSocketTime=a.RoomUtil.getCurrentTime()}},e.prototype.clearSocket=function(){this.roomWebsocket&&(this.roomWebsocket.disconnect(""),this.clearDisconnectTimer()),this.roomWebsocket=null},e.prototype.reopen=function(){r.ConnectionLog.info("reopen: socket reopen."),this.clearSocket(),this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.openWebsocketConnection()},e.prototype.needReopen=function(){var e=this.roomChannelDependency.getRoomState();if(e===s.RoomState.CONNECTING||e===s.RoomState.RECONNECTING_IN_CLOSED){var t=a.RoomUtil.getCurrentTime();if(this.setupSocketTime&&t>this.setupSocketTime&&t-this.setupSocketTime>5e4)return!0}return!1},e.prototype.notifyRoomClosed=function(e,t){var n;r.ConnectionLog.info("notifyRoomClosed: reason = "+e.reason+", shutdown = "+e.shutDown),this.clearDisconnectTimer(),this.websocketDisconneted=!0,this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.roomMsgQueue.handleMessageQueueByRoomClose(),this.firstConnect=!1,this.roomChannelDependency.onRoomClosed(e),e.shutDown?this.reset():this.delayReopen(null!==(n=e.reason)&&void 0!==n?n:"",t)},e.prototype.delayReopen=function(e,t){var n=this;if(!this.reopenDelayTimer){this.reconnectTimes.push(a.RoomUtil.getCurrentTime()),this.liteReconnects+=1;var i=t;t||(i=Math.min(3e4,1e3*Math.pow(2,this.liteReconnects+1)),i=this.generateFuzzyInterval(i,.4*i)),this.reopenDelayTimer=setTimeout((function(){n.clearReopenDelayTimer(),n.roomChannelDependency.openRoom()}),i)}},e.prototype.generateFuzzyInterval=function(e,t){return e+Math.floor(Math.random()*(2*t+1)-t)},e.prototype.reset=function(){this.roomWebsocket=null,this.liteReconnects=0,this.reconnectTimes=[],this.clearDisconnectTimer(),this.clearReopenDelayTimer(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.resetHeartBeat()},e.prototype.parsePostCommonMessageFromServer=function(e,t){var n=this.roomMsgQueue.getMessageByTaskId(e.task_id);n&&n.cmd===e.type?(this.handleCommonMessage(n,t),this.finishParseMessage(n,t)):this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id)||r.ConnectionLog.warn("parsePostCommonMessageFromServer: msg not found! seq = "+e.task_id+", cmd = "+e.type),this.startMessageSending(),this.roomMsgQueue.clearFinishQueueIfNeed()},e.prototype.finishParseMessage=function(e,t){var n,i=t.onpost.result;(null===(n=e.waitAcceptCmd)||void 0===n?void 0:n.length)&&0===i?e.state=s.MessageState.WAIT_ACCEPT:this.roomMsgQueue.addFinishMessage(e),this.startMessageSending()},e.prototype.handleCommonMessage=function(e,t){e.onpostTime=a.RoomUtil.getCurrentTime();var n=t.onpost.result,i=t.onpost.retry_interval;if(n!==l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS&&r.ConnectionLog.error("handleCommonMessage: server response error, code = "+n),this.reportMsgParseErrorIfNeed(n,e,t),n!==l.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR&&n!==l.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED)if(n!==l.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR){var o={errCode:n,errMsg:"",response:t};n===l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS?this.doMsgOnSendSuccessCallback(e,o):this.doErrorCallback(e,o)}else this.closeAndDelayReopen({errCode:n,reason:a.RoomUtil.getWebsocketChannelErrorMessage(n),shutDown:!1},i);else this.shutDown({errCode:n,reason:a.RoomUtil.getWebsocketChannelErrorMessage(n),shutDown:!0})},e.prototype.reportMsgParseErrorIfNeed=function(e,t,n){if(e!==l.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS){var i={errCode:e,errMsg:a.RoomUtil.getWebsocketChannelErrorMessage(e),event:s.MessageResultEvent.ON_POST,response:n,needRetry:!1};this.reportMessage(t,i)}},e.prototype.trySendPendingMessage=function(){this.needReopen()?this.reopen():this.readyToSendMessage()&&this.sendWaitingMessage()},e.prototype.sendWaitingMessage=function(){var e=this.roomMsgQueue.getFirstWaittingMessage();e&&(this.postOneMessage(e),this.startMessageTimer())},e.prototype.postOneMessage=function(e){this.preparePostMessage(e),this.postMessageWithWebsocket(e.postData)},e.prototype.preparePostMessage=function(e){0!==e.retryCount&&e.firstSendTime||(e.firstSendTime=a.RoomUtil.getCurrentTime()),e.retryCount+=1,e.lastSendTime=a.RoomUtil.getCurrentTime(),e.onpostTime=0,e.state=s.MessageState.SENDING},e.prototype.startMessageTimer=function(){var e=this;this.messageSenderTimer||(this.messageSenderTimer=setTimeout((function(){e.handleMessageTimer()}),1e3))},e.prototype.handleMessageTimer=function(){this.messageSenderTimer&&(clearTimeout(this.messageSenderTimer),this.messageSenderTimer=0);var e=this.roomMsgQueue.processMessageQueue();this.roomMsgQueue.messageCount()>0&&(e&&this.startMessageSending(),this.startMessageTimer())},e.prototype.readyToSendMessage=function(){return this.roomChannelDependency.getRoomState()===s.RoomState.OPENED&&this.isConnected()?this.roomMsgQueue.readyToSendMessage():(r.ConnectionLog.warn("readyToSendMessage: roomstate = "+this.roomChannelDependency.getRoomState()+", websocket connected = "+this.isConnected()),!1)},e.prototype.handleInactiveQuit=function(){var e={attrName:String(l.RoomWebsocketErrorCode.INACTIVE),status:1,module:this.channelOption.module,errorMessage:a.RoomUtil.getWebsocketChannelErrorMessage(l.RoomWebsocketErrorCode.INACTIVE)};this.shutDown({reason:"close by server, INACTIVE.",errCode:l.RoomWebsocketErrorCode.INACTIVE,shutDown:!0}),d.default.shutDownReport(e)},e.prototype.receiveMessageFromServer=function(e,t){var n,i={head:e,body:t,newRev:e.new_rev,ts:e.ts,socketId:(null===(n=this.roomWebsocket)||void 0===n?void 0:n.socketId)||"",needDeal:!0};this.limitFrequencyManager.handleMessage(i),i.needDeal&&this.roomControllerDependency.handleOnReceivMsgFromServer(e.type,[i])},e.prototype.handleWaitAcceptMessage=function(e,t){var n=this.roomMsgQueue.getMessageByTaskId(e.task_id);n?this.processWaitAcceptMessage(n,e,t)?this.roomMsgQueue.addFinishMessage(n):r.ConnectionLog.error("processWaitAcceptMessage: msg found but waitcmd not match. seq = "+n.taskId+", cmd = "+n.cmd+", wait cmd = "+e.type):(n=this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id))||this.receiveMessageFromServer(e,t)},e.prototype.hasWaitAcceptCommand=function(e,t){var n;return!!(null===(n=e.waitAcceptCmd)||void 0===n?void 0:n.includes(t))},e.prototype.processWaitAcceptMessage=function(e,t,n){var i,o,r,l;if(this.hasWaitAcceptCommand(e,t.type)){this.doMsgOnSendAcceptSuccessCallback(e,t,n);var d={errCode:null!==(o=null===(i=n.data)||void 0===i?void 0:i.reason)&&void 0!==o?o:0,errMsg:a.RoomUtil.getWebsocketChannelErrorMessage(null!==(l=null===(r=n.data)||void 0===r?void 0:r.reason)&&void 0!==l?l:0),waitAcceptCmd:t.type,event:s.MessageResultEvent.ON_SEND_ACCEPT,response:n,needRetry:!1};return this.reportMessage(e,d),!0}return!1},e.prototype.parseGetMsgDataList=function(e){for(var t=0;t<e.length;t++){var n=e[t].split("\n");if(n.length<2)return void r.ConnectionLog.error("onGetMessageFromServer: message data error.");this.parseGetMsgList(n)}},e.prototype.parseGetMsgList=function(e){var t=e.map((function(e){return r.JsonUtil.parseJson(e)})),n=t[0],i=t[1];this.isInactiveQuitMsg(n,i)?this.handleInactiveQuit():0!==this.roomMsgQueue.messageCount()?this.handleWaitAcceptMessage(n,i):this.processFinishedGetMsg(n,i)},e.prototype.isInactiveQuitMsg=function(e,t){return"QUIT_NOTICE"===(null===e||void 0===e?void 0:e.type)&&"INACTIVE"===(null===t||void 0===t?void 0:t.notice.quit_type)},e.prototype.processFinishedGetMsg=function(e,t){this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id)||this.receiveMessageFromServer(e,t)},e.prototype.handleDisconnectEvent=function(e){var t=this;e.event&&(this.websocketDisconneted=!0,this.socketDisconnectTimer||(this.roomChannelDependency.resetLogin(),this.roomChannelDependency.resetHeartBeat(),this.roomMsgQueue.handleMsgBySocketDisconnect(),this.socketDisconnectTimer=setTimeout((function(){var n,i;e.socketId||e.socketId!==(null===(n=t.roomWebsocket)||void 0===n?void 0:n.socketId)||t.disConnect(null!==(i=e.disconnectReason)&&void 0!==i?i:"")}),25e3)))},e.prototype.clearDisconnectTimer=function(){this.socketDisconnectTimer&&(clearTimeout(this.socketDisconnectTimer),this.socketDisconnectTimer=0)},e.prototype.clearReopenDelayTimer=function(){this.reopenDelayTimer&&(clearTimeout(this.reopenDelayTimer),this.reopenDelayTimer=0)},e.prototype.disConnect=function(e){r.ConnectionLog.info("disConnect, reason:"+e),this.roomChannelDependency.getRoomState()!==s.RoomState.SHUTDOWN&&(this.clearSocket(),this.notifyRoomClosed({reason:"close by disconnect, reason "+e,shutDown:!1},0))},e.prototype.doMsgOnSendAcceptSuccessCallback=function(e,t,n){var i;null===(i=e.onsendAccept)||void 0===i||i.call(e,e.taskId,e.cmd,e.data,t.type,{errCode:0,errMsg:"",response:{body:n,new_rev:t.new_rev}})},e.prototype.doMsgOnSendSuccessCallback=function(e,t){var n;null===(n=e.onsend)||void 0===n||n.call(e,e.taskId,e.cmd,e.data,t)},e.prototype.isValidMessageParam=function(e){var t;return!(e.onsendAccept&&(!(null===(t=e.customParam)||void 0===t?void 0:t.waitAcceptCmd)||"[object Array]"!==Object.prototype.toString.call(e.customParam.waitAcceptCmd)||0===e.customParam.waitAcceptCmd.length))},e}();t.RoomWebsocketMessageSender=g},"../node_modules/@tencent/docs-connection/lib/websocket-channel/room-websocket-message.inerface.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"../node_modules/@tencent/docs-connection/lib/websocket-channel/websocket/room-websocket-dependency.interface.js":function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketEvent=void 0,function(e){e.open="open",e.close="close",e.connect="connect",e.connectFail="connectfail",e.reconnecting="reconnecting",e.disconnect="disconnect",e.connectTimeout="connect_timeout",e.connectError="connect_error"}(n||(n={})),t.RoomWebsocketEvent=n},"../node_modules/@tencent/docs-connection/lib/websocket-channel/websocket/room-websocket.js":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocket=void 0;var o=n("../node_modules/@tencent/netcheck/lib/index.js"),r=n("../node_modules/@tencent/docs-connection/lib/socket.io/config.js"),s=i(n("../node_modules/@tencent/docs-connection/lib/socket.io/socket.io/socket.io-client.js")),a=n("../node_modules/@tencent/docs-connection/lib/util/index.js"),l=i(n("../node_modules/@tencent/docs-connection/lib/report/collab-room-reporter.js")),d=function(){function e(e){var t=this;this.socketId=String(Math.floor(1e12*Math.random())),this.isWebSocketOpen=!1,this.socketChannel=null,this.socketAttempts=0,this.handleReconnectAttempt=function(){t.socketChannel.io.opts.transports=t.attemptTransports},this.handleConnectError=function(e){var n,i,r;if(a.ConnectionLog.info("socket io connect_error, isOnline:"+o.network.isOnline+", type:"+(null===e||void 0===e?void 0:e.type)+", code:"+(null===e||void 0===e?void 0:e.code)+",\n      message:"+(null===e||void 0===e?void 0:e.message)+", description:"+(null===e||void 0===e?void 0:e.description)),o.network.isOnline){var s="number"===typeof(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:void 0;l.default.reportSocketConnect({attrName:"SocketConnect",status:1,module:null===(n=t.roomWebsocketParams)||void 0===n?void 0:n.module,errorMessage:(null===e||void 0===e?void 0:e.message)+", status:"+s,transports:null===(r=null===(i=t.socketChannel)||void 0===i?void 0:i.io.opts.transports)||void 0===r?void 0:r[0]})}var d=t.getSocketChannelInfo();d.event="connect_error",d.failReason="io connect_error unknown",(null===e||void 0===e?void 0:e.type)&&(d.failReason=e.type),t.roomWebSocketDependency.onSocketStatusChanged(d)},this.handleConnectTimeout=function(e){var n=t.getSocketChannelInfo();n.event="connect_timeout",n.failReason="connect_timeout timeout:"+e,t.roomWebSocketDependency.onSocketStatusChanged(n)},this.handleGet=function(e){t.roomWebSocketDependency.onGetMessageFromServer(e)},this.handlePost=function(e){t.roomWebSocketDependency.onPostFromServer(e)},this.handleConnect=function(){var e,n,i,o,r;a.ConnectionLog.info("socket io connect readyState: "+(null===(e=t.socketChannel)||void 0===e?void 0:e.io.readyState)+", id:"+(null===(n=t.socketChannel)||void 0===n?void 0:n.id)),l.default.reportSocketConnect({module:null===(i=t.roomWebsocketParams)||void 0===i?void 0:i.module,attrName:"SocketConnect",status:0,errorMessage:"Success",transports:null===(r=null===(o=t.socketChannel)||void 0===o?void 0:o.io.opts.transports)||void 0===r?void 0:r[0]}),t.isWebSocketOpen=!0,t.roomWebSocketDependency.onSocketOpen()},this.handleReconnect=function(e){a.ConnectionLog.info("socket io reconnect number: "+e+" channel.readyState: "+t.socketChannel.io.readyState),t.socketAttempts=0},this.handleReconnecting=function(e){t.socketAttempts=e,t.socketChannel.io.opts.transports=t.initTransports,t.roomWebSocketDependency.onReopenCount()>=t.pollingReopenCount&&e>=t.pollingAttemptCount&&(t.socketChannel.io.opts.transports=t.attemptTransports),a.ConnectionLog.info("socket io reconnecting number:"+e+" readyState: "+t.socketChannel.io.readyState+", transports:"+t.socketChannel.io.opts.transports);var n=t.getSocketChannelInfo();n.event="reconnecting",t.roomWebSocketDependency.onSocketStatusChanged(n)},this.handleRetry=function(e){a.ConnectionLog.info("socket io retry, msg:"+e),t.doDisconnect("Server restarted or socket timed out on server. serverRetry offlineEdit")},this.handleDisconnect=function(e){var n;a.ConnectionLog.info("socket io disconnect, msg: "+a.JsonUtil.jsonStringify(e)+" channel.readyState: "+(null===(n=t.socketChannel)||void 0===n?void 0:n.io.readyState));var i=a.JsonUtil.jsonStringify(e)+"，ClosedByOthers.",o=t.getSocketChannelInfo();o.event="disconnect",o.disconnectReason=""+i,o.socketId=t.socketId,t.roomWebSocketDependency.onSocketStatusChanged(o),t.socketAttempts=0},this.handleConnectFailed=function(e){a.ConnectionLog.info("socket io connect_failed"),t.socketAttempts=0,t.doDisconnect(a.JsonUtil.jsonStringify(e)+"  connect_failed Closed by client.")},this.handleError=function(e){a.ConnectionLog.info("socket io error, type:"+(null===e||void 0===e?void 0:e.type)+", code:"+(null===e||void 0===e?void 0:e.code)+",\n     message:"+(null===e||void 0===e?void 0:e.message)+", description:",null===e||void 0===e?void 0:e.description),t.doDisconnect(a.JsonUtil.jsonStringify(e)+" socket io error Closed by client.")},this.handleReconnectFailed=function(e){a.ConnectionLog.info("socket io reconnect_failed"),t.socketAttempts=0,t.doDisconnect(a.JsonUtil.jsonStringify(e)+" reconnect_failed Closed by client.")},this.roomWebSocketDependency=e.roomWebSocketDependency,this.roomWebsocketParams=Object.assign({},e),this.initTransports=this.getTransports(e.wmode),this.attemptTransports=this.getAttemptTransports(e.wmode),this.pollingReopenCount=e.websocketReopenCount,this.pollingAttemptCount=e.pollingAttemptNumber}return e.prototype.dispose=function(){this.disconnect("socket io dispose"),this.roomWebSocketDependency=void 0,this.roomWebsocketParams=void 0},e.prototype.isConnected=function(){return this.isWebSocketOpen},e.prototype.connect=function(){var e="wss://"+window.location.host,t=s.default(e,{query:{tag:this.roomWebsocketParams.tag,gtag:this.roomWebsocketParams.gid,utag:this.roomWebsocketParams.upid,sig:this.roomWebsocketParams.sig,uid:this.roomWebsocketParams.uid,uid_key:this.roomWebsocketParams.uidKey,u:this.roomWebsocketParams.nowUserIndex,padid:this.roomWebsocketParams.padId},transports:this.initTransports,reconnection:!0,reconnectionAttempts:r.WEBSOCKET_CONFIG.reconnectMaxTimes,reconnectionDelay:r.WEBSOCKET_CONFIG.reconnectionDelay,reconnectionDelayMax:r.WEBSOCKET_CONFIG.reconnectionDelayMax,randomizationFactor:r.WEBSOCKET_CONFIG.randomizationFactor,timeout:r.WEBSOCKET_CONFIG.connectTimeout,path:"/websocket"});this.socketChannel=t,a.ConnectionLog.info("socket io new channel transports: "+t.io.opts.transports+", pollingReopenCount = "+this.pollingReopenCount+", pollingAttemptNumber= "+this.pollingAttemptCount),t.on("reconnect_attempt",this.handleReconnectAttempt),t.on("connect_error",this.handleConnectError),t.on("connect_timeout",this.handleConnectTimeout),t.on("get",this.handleGet),t.on("post",this.handlePost),t.on("connect",this.handleConnect),t.on("reconnect",this.handleReconnect),t.on("reconnecting",this.handleReconnecting),t.on("retry",this.handleRetry),t.on("disconnect",this.handleDisconnect),t.on("connect_failed",this.handleConnectFailed),t.on("error",this.handleError),t.on("reconnect_failed",this.handleReconnectFailed)},e.prototype.postMessageForWebSocket=function(e){this.socketChannel&&this.socketChannel.emit("post",e)},e.prototype.getSocketConnectCount=function(){return this.socketAttempts},e.prototype.getSocketChannelInfo=function(){var e={};return this.socketChannel&&(e.connected=this.socketChannel.connected,e.disconnected=this.socketChannel.disconnected,this.socketChannel.io&&(e.readyState=this.socketChannel.io.readyState,e.reconnecting=this.socketChannel.io.reconnecting)),e},e.prototype.disconnect=function(e){a.ConnectionLog.info("socket io disconnect reason: "+e),this.socketChannel&&(this.socketChannel.disconnect(),this.socketChannel=null),this.isWebSocketOpen=!1},e.prototype.getTransports=function(e){return r.TRANSPOET_MODE_MAP.get(e.charAt(0))||r.DEFAULT_TRANSPORT_MODE},e.prototype.getAttemptTransports=function(e){return r.TRANSPOET_MODE_MAP.get(e.charAt(1))||r.DEFAULT_ATTEMPT_TRANSPORT_MODE},e.prototype.doDisconnect=function(e){this.disconnect("socket io doDisconnect reason: "+e),this.roomWebSocketDependency.onSocketClosed(e)},e}();t.RoomWebsocket=d},"../node_modules/@tencent/docs-keymap/lib/esm/index.js":function(e,t,n){"use strict";n.d(t,{Al:function(){return d},Gk:function(){return l},Jz:function(){return c},N9:function(){return s},VD:function(){return o},Vj:function(){return g},en:function(){return h},sr:function(){return u},yl:function(){return r}});class i{static isMobile(){return/(mobile)/i.test(navigator.userAgent)}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isIOS(){return/(iphone|ipad|ipod)/i.test(navigator.userAgent)}static isIPad(){return/(ipad)/i.test(navigator.userAgent)}static isMac(){return!this.isMobile()&&/Mac OS X/i.test(navigator.userAgent)}static isFireFox(){return/firefox/i.test(navigator.userAgent)}static isChrome(){return/chrome/i.test(navigator.userAgent)}}var o,r,s;!function(e){e[e.EMPTY=-1]="EMPTY",e[e.BREAK=3]="BREAK",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.CLEAR=12]="CLEAR",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.ARROW_LEFT=37]="ARROW_LEFT",e[e.ARROW_UP=38]="ARROW_UP",e[e.ARROW_RIGHT=39]="ARROW_RIGHT",e[e.ARROW_DOWN=40]="ARROW_DOWN",e[e.SELECT=41]="SELECT",e[e.PRINT=42]="PRINT",e[e.EXECUTE=43]="EXECUTE",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.HELP=47]="HELP",e[e.NUM_0=48]="NUM_0",e[e.NUM_1=49]="NUM_1",e[e.NUM_2=50]="NUM_2",e[e.NUM_3=51]="NUM_3",e[e.NUM_4=52]="NUM_4",e[e.NUM_5=53]="NUM_5",e[e.NUM_6=54]="NUM_6",e[e.NUM_7=55]="NUM_7",e[e.NUM_8=56]="NUM_8",e[e.NUM_9=57]="NUM_9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META_LEFT=91]="META_LEFT",e[e.META_RIGHT=93]="META_RIGHT",e[e.NUM_TIMES=106]="NUM_TIMES",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_POINT=110]="NUM_POINT",e[e.NUM_DIVIDE=111]="NUM_DIVIDE",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.SEMI=186]="SEMI",e[e.EQUAL=187]="EQUAL",e[e.COMMA=188]="COMMA",e[e.MINUS=189]="MINUS",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.BACKQUOTE=192]="BACKQUOTE",e[e.BRACKET_LEFT=219]="BRACKET_LEFT",e[e.BACK_SLASH=220]="BACK_SLASH",e[e.BRACKET_RIGHT=221]="BRACKET_RIGHT"}(o||(o={})),function(e){e[e.EQUAL=61]="EQUAL",e[e.MINUS=173]="MINUS",e[e.META_FIREFOX=224]="META_FIREFOX"}(r||(r={})),function(e){e[e.SHIFT=1e3]="SHIFT",e[e.ALT=1e4]="ALT",e[e.CTRL_WIN=1e5]="CTRL_WIN",e[e.CTRL_MAC=2e5]="CTRL_MAC",e[e.WIN=1e6]="WIN",e[e.COMMAND=2e6]="COMMAND"}(s||(s={}));const a=1e7;var l,d,c;!function(e){e[e.PRIMARY_BUTTON=1e7]="PRIMARY_BUTTON",e[e.SECONDARY_BUTTON=2e7]="SECONDARY_BUTTON",e[e.MIDDLE_BUTTON=4e7]="MIDDLE_BUTTON"}(l||(l={})),function(e){e[e.WHEEL_ANTICLOCKWISE=1e8]="WHEEL_ANTICLOCKWISE",e[e.WHEEL_CLOCKWISE=2e8]="WHEEL_CLOCKWISE"}(d||(d={})),function(e){e.KEY_UP="keyup",e.KEY_PRESS="keypress",e.KEY_DOWN="keydown"}(c||(c={}));var u=Object.freeze({__proto__:null,get KeyCode(){return o},get KeyCodeFireFox(){return r},get KeyAssist(){return s},MOUSE_EVENT_TIMES:a,get MouseCode(){return l},get WheelCode(){return d},get KeyType(){return c}});class h{static getKeyCode(e){let{keyCode:t}=e;return i.isFireFox()&&(t===r.EQUAL?t=o.EQUAL:t===r.MINUS&&(t=o.MINUS)),t}static getMouseCode(e){return e.buttons*a}static getWheelCode(e){let t=0;return e.deltaY>0?t=d.WHEEL_CLOCKWISE:e.deltaY<0&&(t=d.WHEEL_ANTICLOCKWISE),t}static getAssistKey(e){let t=0;return i.isMac()||i.isIPad()?(t+=e.altKey?s.ALT:0,t+=e.shiftKey?s.SHIFT:0,t+=e.ctrlKey?s.CTRL_MAC:0,t+=e.metaKey?s.COMMAND:0):(t+=e.altKey?s.ALT:0,t+=e.shiftKey?s.SHIFT:0,t+=e.ctrlKey?s.CTRL_WIN:0,t+=e.metaKey?s.WIN:0),t}}class g{constructor(e,t=!1){this.keymap=new Map,this.onKeyEvent=e=>{const t=h.getKeyCode(e),n=h.getAssistKey(e)+t;this.run(n,e)},this.onMouseEvent=e=>{const t=h.getMouseCode(e),n=h.getAssistKey(e)+t;this.run(n,e)},this.onWheelEvent=e=>{const t=h.getWheelCode(e),n=h.getAssistKey(e)+t;this.run(n,e)},this.sorter=(e,t)=>(t.weight||0)-(e.weight||0),this.useCapture=t,this.targetNode=e||document,this.targetNode.addEventListener("keydown",this.onKeyEvent,{capture:t}),this.targetNode.addEventListener("mousedown",this.onMouseEvent,{capture:t}),this.targetNode.addEventListener("wheel",this.onWheelEvent,{passive:!1})}register(e){if(!this.isValidContributedKeyBinding(e))return;const t=i.isMac()||i.isIOS()?"mac":"win";[].concat(e.keyBindings[t]).forEach((t=>{if(t===o.EMPTY)return;let n=[e];if(this.keymap.has(t)){const e=this.keymap.get(t);e&&(n=n.concat(e))}this.keymap.set(t,n)}))}removeByFeature(e){const t=[],n=[];this.keymap.forEach(((i,o)=>{i.forEach((r=>{r.handler===e&&(1===i.length?t.push(o):n.push([o,r]))}))})),t.forEach((e=>{this.keymap.delete(e)})),n.forEach((e=>{const[t,n]=e,i=this.keymap.get(t);this.keymap.set(t,i.filter((e=>e.handler!==n.handler)))}))}destroy(){this.targetNode.removeEventListener("keydown",this.onKeyEvent,{capture:this.useCapture}),this.targetNode.removeEventListener("mousedown",this.onMouseEvent,{capture:this.useCapture}),this.targetNode.removeEventListener("wheel",this.onWheelEvent)}isValidContributedKeyBinding(e){return!!e&&"function"===typeof e.handler&&(!e.when||"function"===typeof e.when)&&!(e.keyBindings.mac&&!Array.isArray(e.keyBindings.mac))&&!(e.keyBindings.win&&!Array.isArray(e.keyBindings.win))&&!(e.description&&!Array.isArray(e.description))}run(e,t){const n=this.keymap.get(e);null===n||void 0===n||n.sort(this.sorter),null===n||void 0===n||n.forEach((e=>{const{handler:n,shouldPreventDefault:i=!0,when:o}=e;!(null===o||void 0===o?void 0:o())&&o||(i&&t&&t.preventDefault(),n(t))}))}}},"../node_modules/@tencent/docs-scenario-components-message-center/dist/index.js":function(e,t,n){var i;window,e.exports=(i=n("../node_modules/@tencent/docs-scenario-components-message-center/node_modules/@tencent/docs-multi-tools/dist/index.js"),function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){!function(e){"use strict";function t(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function n(e){return t("Array",e)}function i(e){return t("Date",e)}function o(e){return t("Object",e)}function r(e){return o(e)?JSON.stringify(e):e}var s=void 0!==s?s:{};"undefined"!=typeof window?s=window:"undefined"!=typeof self&&(s=self);var a=s;function l(e,t,n,i,o){var s=new Date;s.setTime(s.getTime()+(n?864e5*n:2592e6)),a.document&&(document.cookie=e+"="+encodeURIComponent(r(t))+";expires="+s.toGMTString()+";path="+(i||"/")+";"+(o?"domain="+o+";":""))}function d(e,t,n){var i=new Date(0);a.document&&(document.cookie=e+"=;expires="+i.toUTCString()+";path="+(t||"/")+";"+(n?"domain="+n+";":""))}function c(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n="";return a.document&&(n=a.document.cookie.match(t)),(n?n[1]:"")||null}var u=function(){return a.location.hash},h=function(){return a.location.search};e.extend=function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var s in t)if(t.hasOwnProperty(s)){var a=o(t[s]),l=n(t[s]);a||l?r&&(a?(i[s]={},e(t[s],i[s],r-1)):l&&(i[s]=[],e(t[s],i[s],r-1))):i[s]=t[s]}},e.setCookie=l,e.delCookie=d,e.getCookie=c,e.formatDate=function(e,t){if(e){var n=t,o=i(e)?e:new Date(e),r={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours()%12==0?12:o.getHours()%12,"H+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};for(var s in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,String(o.getFullYear()).substr(4-RegExp.$1.length))),/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[String(o.getDay())])),r)new RegExp("("+s+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?r[s]:("00"+r[s]).substr(String(r[s]).length)));return n}},e.setItem=function(e,t){var n=r(t);void 0!==a.Storage?localStorage.setItem(e,n):l(e,n)},e.getItem=function(e){return void 0!==a.Storage?localStorage.getItem(e):c(e)},e.delItem=function(e){void 0!==a.Storage?delete localStorage[e]:d(e)},e.callApi=function(e){if(a.document){var t=document.createElement("iframe");t.src=e,t.height=0,t.width=0,t.style.cssText="display: none",document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t),t=null}),2e3)}},e.encodeHTML=function(e){return e&&0!==e.length?e.replace(/&/g,"&#38;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br>"):""},e.decodeHTML=function(e){return 0===e.length?"":e.replace(/&#38;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/&nbsp;/g," ").replace(/<br>/g,"\n")},e.isType=t,e.isBoolean=function(e){return t("Boolean",e)},e.isNumber=function(e){return t("Number",e)},e.isString=function(e){return t("String",e)},e.isFunction=function(e){return t("Function",e)},e.isArray=n,e.isDate=i,e.isRegExp=function(e){return t("RegExp",e)},e.isObject=o,e.isError=function(e){return t("Error",e)},e.getHash=function(e){var t="";return a.location&&(t=u().match(new RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""},e.getUrlParam=function(e){var t="",n=a.location;return n&&(t=h().match(new RegExp("(\\?|#|&)"+e+"=([^&]*)(#|&|$)"))),!t&&n&&(t=u().match(new RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""},e.getQuery=function(e){var t="";return a.location&&(t=h().match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""},e._stringify=r,e._parse=function(e){return o(e)?e:JSON.parse(e)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t){e.exports=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"ErrorCode",(function(){return c})),n.d(t,"ErrorMsg",(function(){return u}));var c,u,h=n(0),g=n(1),f=function(){function e(t){i(this,e),this.channelName="".concat(t,"Channel"),this.storageName="".concat(t,"Storage"),this.cookieName="".concat(t,"Cookie"),this.init(),this.nowUid=Object(h.getCookie)("uid");var n="".concat(Math.floor(1e9*Math.random()),"_").concat(+new Date);window.messageCenterTabKey||(window.messageCenterTabKey=n),this.tabKey=window.messageCenterTabKey||n}return r(e,[{key:"init",value:function(){window&&window.BroadcastChannel&&(this.msgCenter=new BroadcastChannel(this.channelName))}},{key:"postMessage",value:function(e){var t,n,i,o;e.key=this.tabKey,null===(n=null===(t=window)||void 0===t?void 0:t.log)||void 0===n||n.log("message center get message:, ".concat(JSON.stringify(e)," time: ").concat(+new Date)),this.msgCenter&&this.msgCenter.postMessage(e);try{localStorage.setItem(this.storageName,JSON.stringify(e))}catch(t){null===(o=null===(i=window)||void 0===i?void 0:i.log)||void 0===o||o.log("message center set message fail:, ".concat(JSON.stringify(e)," time: ").concat(+new Date))}}},{key:"initListener",value:function(){var e=this;this.msgCenter&&(this.msgCenter.onmessage=function(t){t&&(null==e||e.channelHandler(t))}),window.addEventListener("storage",(function(t){t.key===e.storageName&&(null==e||e.storageHandler(t))})),document.addEventListener("visibilitychange",(function(){setTimeout((function(){null==e||e.visibilityHandle()}),100)}))}},{key:"listenerHandleFun",value:function(e){var t=e.channelHandler,n=e.storageHandler,i=e.visibilityHandle;t&&(this.channelHandler=t),i&&(this.visibilityHandle=i),this.storageHandler=n,this.initListener()}},{key:"messageHandleFun",value:function(e){}}]),e}();function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}!function(e){e[e.switchLogin=1e4]="switchLogin",e[e.logoutLogin=10001]="logoutLogin"}(c||(c={})),function(e){e.switchLogin="user switch login in other tab",e.logoutLogin="user logout login in other tab"}(u||(u={}));var p=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=m(n);function n(e){var o;return i(this,n),(o=t.call(this,e)).hadSendMsg=!1,o.nowUsesId=Object(g.getNowUserId)(),o.isMulti=Object(g.isMultiLoginGray)(),o.listenerHandleFun({channelHandler:o.channelFun,storageHandler:o.storageFun,visibilityHandle:o.visibilityFun}),o}return r(n,[{key:"checkIsSame",value:function(e){return!this.isMulti||e===this.nowUsesId}},{key:"getCookieValue",value:function(){var e=(Object(h.getCookie)(this.cookieName)||"").split("_");return{type:e[0],userIndex:e[1]}}},{key:"dispatchMsg",value:function(e){this.isMulti&&("logoutLogin"!==e&&"logout"!==e||document.dispatchEvent(new CustomEvent("logoutAccount")))}},{key:"checkSameUser",value:function(){return Object(h.getCookie)("uid")===this.nowUid}},{key:"checkNoNeedVisibility",value:function(){var e=window.clientVars,t="101520907"===(null==e?void 0:e.ownerAppid);return this.hadSendMsg||"visible"!==document.visibilityState||this.isMulti||!t}},{key:"visibilityFun",value:function(){var e;this.checkNoNeedVisibility()||this.checkSameUser()||null===(e=this.messageHandleFun)||void 0===e||e.call(this,this.getErrorMsg("switch"))}},{key:"channelFun",value:function(e){var t=this;if(e){var n=e.data;n.key!==this.tabKey&&this.checkNeedLogin(n,(function(e){var i,o,r;null===(i=t.messageHandleFun)||void 0===i||i.call(t,t.getErrorMsg(e)),null===(r=null===(o=window)||void 0===o?void 0:o.log)||void 0===r||r.log("channel Event:".concat(e,", source tab:").concat(n.key,"， now tabKey:").concat(t.tabKey,"， :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0}))}}},{key:"storageFun",value:function(e){var t=this,n=e.newValue;if(n){var i=JSON.parse(n);i.key!==this.tabKey&&this.checkNeedLogin(i,(function(e){setTimeout((function(){var n,o,r;t.hadSendMsg||(null===(n=t.messageHandleFun)||void 0===n||n.call(t,t.getErrorMsg(e)),null===(r=null===(o=window)||void 0===o?void 0:o.log)||void 0===r||r.log("storage Event:".concat(e,", source tab:").concat(i.key,"， now tabKey:").concat(t.tabKey,"， :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0)}),100)}))}}},{key:"getErrorMsg",value:function(e){return"switchLogin"===e||"switch"===e?{code:c.switchLogin,msg:u.switchLogin}:"logoutLogin"===e||"logout"===e?{code:c.logoutLogin,msg:u.logoutLogin}:void 0}},{key:"checkNeedLogin",value:function(e,t){this.checkIsSame(e.data)&&("switch"===e.type?t("switchLogin"):"logout"===e.type&&t("logoutLogin"))}},{key:"setCallback",value:function(e){this.messageHandleFun=e}}]),n}(f))("docMessageCenter");t.default=p}]))},"../node_modules/@tencent/docs-scenario-components-suspend-button/dist/index.js":function(e,t,n){var i,o;window,e.exports=(i=n("react"),o=n("../node_modules/@tencent/dui/lib/components/Tooltip/index.js"),function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(e,t){e.exports=i},function(e,t,n){var i=n(4),o=n(5),r=n(6),s=n(8);e.exports=function(e,t){return i(e)||o(e,t)||r(e,t)||s()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(9);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(14)(i,o),i.locals&&(e.exports=i.locals)},function(e,t){e.exports=o},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(7);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){t=e.exports=n(10)(!1);var i=n(11),o=i(n(12)),r=i(n(13));t.push([e.i,".suspend-button {\n  position: fixed;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  width: 48px;\n  height: 48px;\n  font-family: PingFang SC;\n  -webkit-transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1);\n  transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1);\n  cursor: pointer;\n}\n.suspend-button .background {\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  opacity: 0.6;\n  background: rgba(245, 166, 35, 0.24);\n  -webkit-transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1), background 0s;\n  transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1), background 0s;\n}\n.suspend-button.guide-text {\n  font-size: 14px;\n  line-height: 18px;\n  font-weight: 400;\n  white-space: nowrap;\n  color: #000000;\n  opacity: 0;\n  visibility: hidden;\n  -webkit-transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1);\n  transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1);\n}\n.suspend-button .head-container {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  width: 48px;\n  height: 48px;\n}\n.suspend-button .head-container .direction-pointer {\n  position: absolute;\n  width: 48px;\n  height: 48px;\n  background-image: url("+o+");\n  background-size: contain;\n  -webkit-transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1), background 0s;\n  transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1), background 0s;\n}\n.suspend-button .head-container .no-direction-pointer {\n  position: absolute;\n  width: 38px;\n  height: 38px;\n  border-radius: 50%;\n  opacity: 1;\n  background: #ffb400;\n  -webkit-transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1), background 0s;\n  transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1), background 0s;\n}\n.suspend-button .head-container .head-img {\n  z-index: 1;\n  border-radius: 50%;\n  width: 28px;\n  height: 28px;\n  -webkit-transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1);\n  transition: 0.4s cubic-bezier(0.42, 0, 0.23, 1);\n}\n.suspend-button.guiding .background {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  padding: 0 4px 0 31px;\n  border-radius: 24px 0 0 24px;\n}\n.suspend-button.guiding.guide-text {\n  visibility: visible;\n  opacity: 1;\n  cursor: pointer;\n}\n.suspend-button.suspending {\n  -webkit-transition: none;\n  transition: none;\n}\n.suspend-button.suspending .background {\n  background: -webkit-radial-gradient(49.98% 0%, 100% 100%, #dec69e 0%, #e0d5c4 100%);\n  background: radial-gradient(100% 100% at 49.98% 0%, #dec69e 0%, #e0d5c4 100%);\n  opacity: 0.6;\n}\n.suspend-button.suspending .direction-pointer {\n  background: url("+r+");\n}\n.suspend-button.suspending .no-direction-pointer {\n  background: #e09e00;\n}\n.suspend-container-pc,\n.suspend-container-mobile {\n  position: fixed;\n}\n.suspend-container-pc:hover .background {\n  background: -webkit-radial-gradient(49.98% 0%, 100% 100%, #dec69e 0%, #e0d5c4 100%);\n  background: radial-gradient(100% 100% at 49.98% 0%, #dec69e 0%, #e0d5c4 100%);\n  opacity: 0.6;\n}\n.suspend-container-pc:hover .direction-pointer {\n  background: url("+r+");\n}\n.suspend-container-pc:hover .no-direction-pointer {\n  background: #e09e00;\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i=e[1]||"",o=e[3];if(!o)return i;if(t&&"function"==typeof btoa){var r=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[i].concat(s).concat([r]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];null!=s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUgMjguNzQ5MkM1IDE4LjIyODggMTkuOTc3OSAzLjM4MzI2IDIzLjMzMzggMC4yNjMxMzZDMjMuNzA4OCAtMC4wODY4Nzc2IDI0LjI4NjIgLTAuMDg2ODczNyAyNC42NjYyIDAuMjU4MTM5QzI4LjAzMiAzLjM1ODI2IDQzIDE4LjA5MzggNDMgMjguNzQ5M0M0MyAzOS4zNzk3IDM0LjQ5MTkgNDggMjQgNDhDMTMuNTA4MSA0OCA1IDM5LjM3OTcgNSAyOC43NDkyWiIgZmlsbD0idXJsKCNwYWludDBfcmFkaWFsXzI0Ml8zMjQ2OCkiLz4KPGRlZnM+CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQwX3JhZGlhbF8yNDJfMzI0NjgiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuMDEwNyA0OCkgcm90YXRlKC05MC4wMTI4KSBzY2FsZSg0OCAzOCkiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRkZCNDAwIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGQjQwMCIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUgMjguNzQ5MkM1IDE4LjIyODggMTkuOTc3OSAzLjM4MzI2IDIzLjMzMzggMC4yNjMxMzdDMjMuNzA4OCAtMC4wODY4NzY3IDI0LjI4NjIgLTAuMDg2ODc1NSAyNC42NjYyIDAuMjU4MTM4QzI4LjAzMiAzLjM1ODI2IDQzIDE4LjA5MzggNDMgMjguNzQ5MkM0MyAzOS4zNzk3IDM0LjQ5MTkgNDggMjQgNDhDMTMuNTA4MSA0OCA1IDM5LjM3OTcgNSAyOC43NDkyVjI4Ljc0OTJaIiBmaWxsPSIjRTA5RTAwIi8+Cjwvc3ZnPgo="},function(e,t,n){var i,o,r={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),a=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=a.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),d=null,c=0,u=[],h=n(15);function g(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(y(i.parts[s],t))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(y(i.parts[s],t));r[i.id]={id:i.id,refs:1,parts:a}}}}function f(e,t){for(var n=[],i={},o=0;o<e.length;o++){var r=e[o],s=t.base?r[0]+t.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function m(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),I(t,e.attrs),m(e,t),t}function I(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,o,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var s=c++;n=d||(d=v(t)),i=M.bind(null,n,s,!1),o=M.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",I(t,e.attrs),m(e,t),t}(t),i=w.bind(null,n,t),o=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),i=C.bind(null,n),o=function(){p(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return g(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var s=n[o];(a=r[s.id]).refs--,i.push(a)}for(e&&g(f(e,t),t),o=0;o<i.length;o++){var a;if(0===(a=i[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var _,b=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function M(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function C(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function w(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=h(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"SuspendButtonMobile",(function(){return c})),n.d(t,"SuspendButtonPc",(function(){return f}));var i,o=n(1),r=n.n(o),s=n(0),a=n.n(s);n(2),function(e){e.LEFT="left",e.RIGHT="right"}(i||(i={}));var l=document.documentElement,d=window.visualViewport;function c(e){var t=e.imgUrl,n=e.hideDirection,i=void 0!==n&&n,o=e.directionDegree,c=void 0===o?0:o,u=e.minBottomOffsetOnResize,h=void 0===u?16:u,g=e.shouldShowGuideAnimation,f=void 0!==g&&g,m=e.guideText,p=void 0===m?"":m,v=(e.shouldShowBreathingAnimation,e.style),I=e.onClick,y=e.onDragStart,_=(e.onDragEnd,Object(s.useState)(f)),b=r()(_,2),M=b[0],C=b[1],w=Object(s.useState)(M?126:48),T=r()(w,2),E=T[0],j=T[1],A=Object(s.useState)(M?0:16),x=r()(A,2),D=x[0],S=x[1],N=Object(s.useRef)(null),R=Object(s.useRef)(0),O=Object(s.useRef)(0),L=Object(s.useCallback)((function(){return l.clientWidth-E-D}),[E,D]),k=Object(s.useCallback)((function(){var e=l.clientHeight/2-24;return d?(d.height<e+48&&(e=d.height-48-h),e):e}),[]),z=L(),P=k(),F=Object(s.useRef)(z),U=Object(s.useRef)(P),B=Object(s.useRef)(l.clientWidth),W=Object(s.useRef)(l.clientHeight),G=Object(s.useState)(z),Z=r()(G,2),H=Z[0],Y=Z[1],V=Object(s.useState)(P),Q=r()(V,2),K=Q[0],X=Q[1],J=Object(s.useState)(!1),q=r()(J,2),$=q[0],ee=q[1],te=function(){d&&(d.height<K+48&&X(d.height-48-h),Y(H+l.clientWidth-B.current),B.current=l.clientWidth,W.current=l.clientHeight,F.current=L(),U.current=k())};Object(s.useEffect)((function(){if(d)return d.addEventListener("resize",te),function(){d.removeEventListener("resize",te)}}),[te]);var ne=Object(s.useCallback)((function(e){var t,n;ee(!0),null==y||y(e);var i=e.touches[0];R.current=i.clientX-Number(null===(t=N.current)||void 0===t?void 0:t.getBoundingClientRect().left),O.current=i.clientY-Number(null===(n=N.current)||void 0===n?void 0:n.getBoundingClientRect().top)}),[]),ie=Object(s.useCallback)((function(e){var t=e.touches[0],n=t.clientX-R.current,i=t.clientY-O.current;n<0?n=0:n>B.current-E&&(n=B.current-E),i<0?i=0:i>W.current-48&&(i=W.current-48),Y(n),X(i)}),[E]),oe=function(e){ee(!1),null==y||y(e),H<(l.clientWidth-E)/2?Y(D):Y(F.current)};return Object(s.useEffect)((function(){if(f){var e=setTimeout((function(){C(!1),j(48),S(16),F.current=l.clientWidth-48-16,U.current=k(),Y(F.current),X(U.current)}),2e3);return function(){clearTimeout(e)}}}),[]),a.a.createElement("div",{className:"suspend-container-mobile",style:v},a.a.createElement("div",{className:"suspend-button ".concat($?"suspending":"suspend-button-end"," ").concat(M?"guiding":""),onTouchStart:ne,onTouchMove:ie,onTouchEnd:oe,onClick:I,style:{width:E,height:48,left:H,top:K}},a.a.createElement("div",{className:"background"})),a.a.createElement("div",{className:"suspend-button ".concat($?"suspending":"suspend-button-end"," ").concat(M?"guiding":""),ref:N,onTouchStart:ne,onTouchMove:ie,onTouchEnd:oe,onClick:I,style:{width:48,height:48,left:H,top:K}},a.a.createElement("div",{className:"head-container"},!i&&a.a.createElement("div",{className:"direction-pointer",style:{transform:"rotate(".concat(c,"deg) translateY(-5px)")}}),i&&a.a.createElement("div",{className:"no-direction-pointer"}),a.a.createElement("img",{className:"head-img",src:t}))),a.a.createElement("div",{className:"guide-text suspend-button ".concat($?"suspending":"suspend-button-end"," ").concat(M?"guiding":""),onTouchStart:ne,onTouchMove:ie,onTouchEnd:oe,onClick:I,style:{left:M?H+48+11:l.clientWidth,top:M?K:K+0}},p))}var u=n(3),h=n.n(u),g=document.documentElement;function f(e){var t=e.imgUrl,n=e.hideDirection,o=void 0!==n&&n,l=e.directionDegree,d=void 0===l?0:l,c=e.minBottomOffsetOnResize,u=void 0===c?16:c,f=e.shouldShowGuideAnimation,m=void 0!==f&&f,p=e.guideText,v=void 0===p?"":p,I=e.tipText,y=(e.shouldShowBreathingAnimation,e.style),_=e.onClick,b=e.onDragStart,M=e.onDragEnd,C=Object(s.useState)(m),w=r()(C,2),T=w[0],E=w[1],j=Object(s.useState)(T?126:48),A=r()(j,2),x=A[0],D=A[1],S=Object(s.useState)(T?0:16),N=r()(S,2),R=N[0],O=N[1],L=Object(s.useState)(i.LEFT),k=r()(L,2),z=k[0],P=k[1],F=Object(s.useRef)(null),U=Object(s.useRef)(0),B=Object(s.useRef)(0),W=Object(s.useCallback)((function(){return g.clientWidth-x-R}),[x,R]),G=Object(s.useCallback)((function(){return g.clientHeight/2-24}),[]),Z=W(),H=G(),Y=Object(s.useRef)(Z),V=Object(s.useRef)(H),Q=Object(s.useRef)(g.clientWidth),K=Object(s.useRef)(g.clientHeight),X=Object(s.useRef)(!1),J=Object(s.useState)(Z),q=r()(J,2),$=q[0],ee=q[1],te=Object(s.useState)(H),ne=r()(te,2),ie=ne[0],oe=ne[1],re=Object(s.useState)(!1),se=r()(re,2),ae=se[0],le=se[1],de=function(){g.clientHeight<ie+48&&oe(g.clientHeight-48-u),ee($+g.clientWidth-Q.current),Q.current=g.clientWidth,K.current=g.clientHeight,Y.current=W(),V.current=G()};Object(s.useEffect)((function(){return window.addEventListener("resize",de),function(){window.removeEventListener("resize",de)}}),[de]);var ce=Object(s.useCallback)((function(e){var t,n;e.preventDefault(),le(!0),U.current=e.clientX-Number(null===(t=F.current)||void 0===t?void 0:t.getBoundingClientRect().left),B.current=e.clientY-Number(null===(n=F.current)||void 0===n?void 0:n.getBoundingClientRect().top)}),[]),ue=Object(s.useCallback)((function(e){if(e.preventDefault(),ae){X.current=!0,null==b||b(e);var t=e.clientX-U.current,n=e.clientY-B.current;t<0?t=0:t>Q.current-x&&(t=Q.current-x),n<0?n=0:n>K.current-48&&(n=K.current-48),ee(t),oe(n)}}),[ae,x]),he=function(e){e.preventDefault(),le(!1),X.current&&(null==M||M(e)),$<(g.clientWidth-x)/2?(ee(R),P(i.RIGHT)):(ee(Y.current),P(i.LEFT))};Object(s.useEffect)((function(){return document.addEventListener("mousemove",ue),document.addEventListener("mouseup",he),function(){document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",he)}}),[ue,he]);var ge=Object(s.useCallback)((function(e){X.current?X.current=!1:null==_||_(e)}),[ae]);return Object(s.useEffect)((function(){if(m){var e=setTimeout((function(){E(!1),D(48),O(16),Y.current=g.clientWidth-48-16,V.current=g.clientHeight/2-24,ee(Y.current),oe(V.current)}),3500);return function(){clearTimeout(e)}}}),[]),a.a.createElement("div",{className:"suspend-container-pc",style:y},a.a.createElement("div",{className:"suspend-button ".concat(ae?"suspending":"suspend-button-end"," ").concat(T?"guiding":""),onMouseDown:ce,onClick:ge,style:{width:x,height:48,left:$,top:ie}},a.a.createElement("div",{className:"background"})),a.a.createElement("div",{className:"suspend-button ".concat(ae?"suspending":"suspend-button-end"," ").concat(T?"guiding":""),ref:F,onMouseDown:ce,onClick:ge,style:{width:48,height:48,left:$,top:ie}},a.a.createElement(h.a,{title:I,disabled:!I||ae||T,placement:z,trigger:"hover"},a.a.createElement("div",{className:"head-container"},!o&&a.a.createElement("div",{className:"direction-pointer",style:{transform:"rotate(".concat(d,"deg) translateY(-5px)")}}),o&&a.a.createElement("div",{className:"no-direction-pointer"}),a.a.createElement("img",{className:"head-img",src:t})))),a.a.createElement("div",{className:"guide-text suspend-button ".concat(ae?"suspending":"suspend-button-end"," ").concat(T?"guiding":""),onMouseDown:ce,onClick:ge,style:{left:T?$+48+11:g.clientWidth,top:T?ie:ie+0}},v))}}]))},"../node_modules/@tencent/ftnh5uploader/dist/FtnUploader.min.js":function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){var n={noop:function(){},unikey:function(){return["f",+new Date,Math.random()].join("").split(".").join("")},isPlainObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},extend:function(){var e,t,n,i,o,r=arguments[0]||{},s=1,a=arguments.length,l=!1,d=this;for("boolean"==typeof r&&(l=r,r=arguments[1]||{},s=2),"object"==typeof r||d.isFunction(r)||(r={}),a===s&&(r=this,--s);s<a;s++)if(null!=(e=arguments[s]))for(t in e)n=r[t],r!==(i=e[t])&&(l&&i&&d.isPlainObject(i)?(o=n||{},r[t]=d.extend(l,o,i)):void 0!==i&&(r[t]=i));return r},inherits:function(e,t,n){var i;"function"==typeof t?(i=t,t=null):i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},this.extend(i,e,n||{}),i.__super__=e.prototype;var o=function(){};return o.prototype=e.prototype,i.prototype=new o,t&&this.extend(i.prototype,t),i},isDOMElement:function(e){return!(!e||"undefined"==typeof window||e!==window&&!e.nodeType)},isFileInput:function(e){return e&&e.nodeName&&e.getAttribute&&/input/gi.test(e.nodeName)&&/file/gi.test(e.getAttribute("type"))},ajax:function(e,t){t||(t={});var n=new XMLHttpRequest,i=t.method||"GET";n.open(i,e,!0);var o=t.timeout||6e4;n.timeout=o;var r=t.responseType;r&&(n.responseType=r);var s=t.headers||{};for(var a in s)n.setRequestHeader(a,s[a]);var l=function(){},d=t.error||l,c=t.complete||l,u=t.success||l,h=function(){d.apply(n,[n])};n.onload=function(e){if(4==n.readyState){if(200==n.status)try{u.apply(n,[n.response])}catch(e){d.apply(n,[n,e])}else d.apply(n,[n]);c.apply(n,[n])}},n.onerror=h,n.onabort=h,n.ontimeout=h;var g=t.uploadProgress||l;g&&(n.upload.onprogress=g),n.send(t.data)},createWorker:function(e,t){var n,i;try{if(this.isIE())i=new Worker(t);else try{n=window.URL.createObjectURL(new Blob([e]));try{i=new Worker(n)}catch(t){i=new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){i=new Worker(t)}finally{window.URL.revokeObjectURL(n)}}catch(e){i=!1}return i},isIE:function(){var e=navigator.userAgent.toLowerCase();return/(msie|trident|edge)/gi.test(e)}};e.exports=n},function(e,t,n){var i=n(0);function o(e){this.uploader=e,this.options=e.options,this.init()}i.extend(o.prototype,{init:i.noop,_stopPropagation:function(e){e.stopPropagation()},_preventDefault:function(e){e.preventDefault()}}),o.register=function(e,t,n){var r=i.inherits(o,t,n);return r.name=e,o._widgetClasses.push(r),r},o._widgetClasses=[],e.exports=o},function(e,t){function n(){this._tasksList=[],this._workers=[]}n.prototype.addWorker=function(e){if(e.__status__&&"ready"!=e.__status__)return console.warn("worker add twice");for(var t,n,i=0,o=this._tasksList.length;i<o;i++)if((n=this._tasksList[i])&&n.length)for(;t=n.shift();)if(this._runTask(e,t))return;e.__status__="ready",this._workers.push(e)},n.prototype._runTask=function(e,t){var n=this;return!!t.start(e)&&(t.result().then((function(){e.__status__="ready",n.addWorker(e)}),(function(t){return e.__status__="ready",n.addWorker(e),Promise.reject(t)})),e.__status__="running",n.removeWorker(e),!0)},n.prototype.findWorker=function(e){return this._workers.findIndex((function(t){return t===e}))},n.prototype.removeWorker=function(e){this._workers=this._workers.filter((function(t){return t!==e}))},n.prototype.runTask=function(e,t){return this._workers.length>0?this._runTask(this._workers[0],e):this.insertTask(e,t),e.result()},n.prototype.insertTask=function(e,t){t&&(t=Number(t)),t||(t=0),(this._tasksList[t]||(this._tasksList[t]=[])).push(e),(e.__priority||(e.__priority=[])).push(t)},n.prototype.removeTask=function(e){for(var t=this._tasksList,n=t.length;n--;)t[n]&&(t[n]=t[n].filter((function(t){return e!==t})))},e.exports=n},function(e,t){function n(){var e=this;e.timing={},e._resolve=e._reject=null,e._step("init"),e._promise=new Promise((function(t,n){e._resolve=t,e._reject=n})).then((function(t){return e._step("start"),e.handle_(t)})),e._promise.then((function(){e._step("success")}),(function(t){return e._step("error"),Promise.reject(t)}))}n.prototype.SPEED_TEST=!0,n.prototype.timeEnd=function(e){this.SPEED_TEST&&(this.timing[e]=+new Date)},n.prototype.speedReport=function(){var e=this.timing,t=e.success||e.error||e.aborted,n=t-e.init||1,i=e.start-e.init,o=t-e.start;return["[",this.__status__,"]"," init:",e.init," total:",n,"ms"," wait:",i,"ms(",(i/n*100).toFixed(2),"%)"," run:",o,"ms(",(o/n*100).toFixed(2),"%)"].join("")},n.prototype._step=function(e){this.__status__=e,this.timeEnd(e)},n.prototype.start=function(e){if(this._resolve){var t=this._resolve;return this._reject=this._resolve=null,t(e),!0}return!1},n.prototype.abort=function(e){if(this._reject){var t=this._reject;this._reject=this._resolve=null,!0!==e&&t(new Error("abort"))}this._step("aborted")},n.prototype.handle_=function(){},n.prototype.result=function(){return this._promise},n.proto=function(){function e(){}return e.prototype=this.prototype,new e},e.exports=n},function(e,t){function n(e,t,n){this.__status__="init",this._readers=e,this._workers=t,this.block=n,this.tasks={}}function i(e){return{data:e,type:"chunkMD5"}}n.prototype.readAsBuffer=function(e,t){var n=this._readers.task(this.block,"toBuffer");return this.__status__="readAsBuffer",this._readers.run(n,e),n.result()},n.prototype.read=function(e,t){var n=this.tasks.read;return n&&!t||(n&&t&&n.abort(!0),n=this.tasks.read=this._readers.task(this.block)),this.__status__="read",this._readers.run(n,e),n.result()},n.prototype.free=function(){for(var e in delete this.tasks.read,this.tasks)this._workers.queue.removeTask(this.tasks[e]),delete this.tasks[e]},n.prototype.hash=function(e,t){return this._readAndHash("hash",i,e,t)},n.prototype.fileMd5=function(e,t){return this._hashRoute("file_md5",e,t)},n.prototype.fileSha1=function(e,t){return this._hashRoute("file_sha1",e,t)},n.prototype._hashHandle=function(e,t,n,i,o){var r=this.tasks[t];return r&&!o||(r&&o&&(r.abort(!0),delete this.tasks[t]),r=this.tasks[t]=this._workers.task(n(e))),this.__status__=t,this._workers.run(r,i),r.result()},n.prototype._readAndHash=function(e,t,n,i){var o=this,r=o.tasks[e];return!r||i?(r&&i&&(r.abort(!0),delete o.tasks[e]),o.read(n,!1).then((function(i){return o._nResumeReadTime=+new Date,o._hashHandle(i,e,t,n,!1)}))):(o._workers.run(r,n),r.result())},n.prototype._hashRoute=function(e,t,n){var i=this;return n instanceof Promise?n.then((function(n){return i._hashRoute(e,t,n)})):n?i._hashHandle(n,e,t,e,!0):i._readAndHash(e,t,e,!0)},n.prototype.cancel=function(){var e=this.tasks;for(var t in e)e[t]&&e[t].abort&&e[t].abort(!0),delete e[t]},e.exports=n},function(e,t,n){n(6).polyfill();var i=n(9),o=n(11),r=n(13),s=n(4),a=n(14),l=n(15),d=n(0),c=n(16);function u(e){this.context=e,this._listeningTo=[]}u.prototype={on:function(e,t){this._listeningTo[e]=t},fire:function(e,t){var n;return!(n=this._listeningTo[e])||n.apply(this.context||this,t)}};var h,g,f=l.status,m=n(1),p=n(17),v=n(18),I=m._widgetClasses,y=n(19),_={conCurrent:1,ReaderLimitNum:2,HashWorkLimitNum:2,maxRetryNum:100,maxSingleRetryNum:3,signFileBlockSize:524288,uploadFileBlockSize:524288,cacheThresholdLimitNum:1,auto:!0,hashWorkerUrl:"./hash_worker.js",events:{createFile:function(e,t){t(!1,new Error("must inherit createFile method!!!"))}}};function b(e){this.options=d.extend(!0,{},_,e),this.fileQueueManager=new c,this.events=new u(this),this._init()}b.prototype={_init:function(){this._initEvents(),this._initUploader()},_initEvents:function(){var e=this.options.events;for(var t in e)this.events.on(t,e[t])},_initUploader:function(){this._initUploaderWidget(),this._initUploaderQueue()},_initUploaderWidget:function(){for(var e,t=0,n=I.length;t<n;t++)(e=I[t])&&e.isNeedInit(this.options)&&new e(this)},_doFileAdd:function(e,t){for(var n,i,o=this.fileQueueManager,r=0,s=e.length;r<s;r++)n=e[r],i=new l({name:n.name,size:n.size,h5File:n,container:t&&t.target,status:f.READY}),this.events.fire("fileBeforeAdd",[i])&&(o.addFile(i),this.events.fire("fileAdd",[i]),this.options.auto&&this._nextFile())},_initUploaderQueue:function(){var e=this;if(!h){h=new i,g=new o,h.PRIORITY=g.PRIORITY={send:0,send_read:0,block_hash:0,file_sha1:1,file_md5:2,pre_read_file_hash:3,pre_block_hash:3};for(var t=this.options.ReaderLimitNum;t--;)h.fork();var n=[];for(t=this.options.HashWorkLimitNum;t--;)n.push(g.fork(d.createWorker(y,this.options.hashWorkerUrl)));Promise.all(n).then((function(){e.events.fire("uploaderInit",["init success"])})).catch((function(){e.events.fire("uploaderInit",["init fail"])}))}},_nextFile:function(){var e,t=this.fileQueueManager.getAllFiles();if(!this._isBusy())for(var n=0,i=t.length;n<i;n++)if((e=t[n]).get("status")===f.READY){e.resumeUpload?(e.resumeUpload(),delete e.resumeUpload):this._startUpload(e),this._nextFile();break}},_isBusy:function(){return this._getUploadingFiles().length>this.options.conCurrent},_getUploadingFiles:function(){for(var e,t,n=this.fileQueueManager.getAllFiles(),i=[],o=0,r=n.length;o<r;o++)(t=(e=n[o]).get("status"))!==f.SIGN&&t!==f.UPLOAD||i.push(e);return i},_startUpload:function(e){this._updateFileProgress(e.set({status:f.SIGN,signPercent:0,uploadPercent:0,uploadedSize:0,realPostedTime:0,realPostedSize:0,speed:0,remainTime:0,startUploadTime:0,percent:0})),this._startFileSign(e)},_startFileSign:function(e){this._doFileSign(e)},_updateFileProgress:function(e){switch(e.get("status")){case f.READY:this.events.fire("fileReady",[e]);break;case f.SIGN:this.events.fire("fileSign",[e.get("signPercent"),e]);break;case f.UPLOAD:this._calcSpeed(e),this.events.fire("fileUpload",[e.get("uploadPercent"),e]);break;case f.PAUSED:this.events.fire("filePaused",[e])}},_calcSpeed:function(e,t){var n,i=e.get("size"),o=e.get("lastCalcPercent"),r=e.get("lastCalcTime"),s=e.get("uploadPercent"),a=e.get("speed"),l=+new Date;s-o<=0||(r?(e.set({lastCalcTime:l,lastCalcPercent:s}),(!a||l-r>(t||500))&&(a=i*(s-o)/100/(l-r))>0&&(n=i*(100-s)/100/a,e.set({speed:(a/1024*1e3).toFixed(2),remainTime:(n/1e3).toFixed(2)}),(a/1024*1e3).toFixed(2),(n/1e3).toFixed(2))):e.set({lastCalcTime:l,lastCalcPercent:s}))},_doFileSign:function(e){var t,n,i,o=this,r=e.get("size"),s=Math.ceil(r/o.options.signFileBlockSize),a=s>2?2:s,l=1,d=0;!function c(u){t=Promise.resolve(u);for(var h=0;h<a;h++)if(n=i||o._genFileBlock(e,d),d+=o.options.signFileBlockSize,i=d>r?{}:o._genFileBlock(e,d),function(n,i,d){t=t.then((function(t){if(!e.isInterupted()){t||(t=[]),e.set("curFileBlock",i);var d=Promise.all([i._hashHandle("","file_sha1",(function(e){return{data:{state:t[0],chunk:i.block},type:"appendSHA1"}}),"file_sha1",!0),i._hashHandle("","file_md5",(function(e){return{data:{state:t[1],chunk:i.block},type:"appendMD5"}}),"file_md5",!0)]);return d.then((function(){i.free(),o._onFileBlockSign(e,i.__nOffset/r*100)})),a==n+1&&l*a<s?d.then((function(e){l++,c(e)})):d}})).catch((function(t){e.set("curFileBlock",null),o._error(e.set("error","[sign]:fileHashError"))}))}(h,n),(l-1)*a+h+1==s){t.then((function(t){if(e.set("curFileBlock",null),!e.isInterupted())return Promise.all([g.run(g.task({data:t[0],type:"getSHA1"})),g.run(g.task({data:t[1],type:"getMD5"}))])})).then((function(t){e.isInterupted()||o._doFileSignEnd(e.set({sha:t[0],md5:t[1],status:f.UPLOAD}))}),(function(t){console.error(t),e.set("curFileBlock",null),o._error(e.set("error","[sign]:fileHashError"))}));break}}()},_genFileBlock:function(e,t){var n=new s(h,g,e.get("h5File").slice(t,t+this.options.signFileBlockSize));return n.__nOffset=t,n},_onFileBlockSign:function(e,t){var n=e.get("size");t=this.options.signFileBlockSize>n?100:Math.max(Math.min(100,Math.ceil(t)),0),e.set("signPercent",t),this._updateFileProgress(e)},_doFileSignEnd:function(e){var t=this;new Promise((function(n,i){t.events.fire("createFile",[e,function(e,t){e?n(t):i(t)}])})).then((function(n){t._startFileSend(e.set({uploadDomain:n.domain,fileKey:n.fileKey,fileId:n.fileId,startUploadTime:+new Date}))})).catch((function(n){t._error(e.set("error","[_createFile]: "+n.message))}))},_startFileSend:function(e){this._doFileSend(e),this._updateFileProgress(e)},_doFileSend:function(e){var t=new r(h,g,e.get("h5File"),this.options.uploadFileBlockSize,this.options.cacheThresholdLimitNum);t.addCache(0,65536),this._doFileBlockSend(e,t,0)},_doFileBlockSend:function(e,t,n,i){var o,r,s,a,l=this,d=+new Date,c=e.get("size");return t.fetch(n).then((function(d){if(!e.isInterupted())return s=d[0],a=d[1],o=d[2],r=o.block.size,l._sendData2FTNByAjax(e,n,s,a);e.resumeUpload=function(){l._updateFileProgress(e.set({status:f.UPLOAD})),l._doFileBlockSend(e,t,n,i)}})).then((function(t){return l._setRealPostSize(e,d,r),t}),(function(t){throw l._setRealPostSize(e,d,r),t})).then((function(o){if(e.isInterupted())e.resumeUpload=function(){l._updateFileProgress(e.set({status:f.UPLOAD})),l._doFileBlockSend(e,t,n,i)};else{var s=n+r,a=s/c*100;if(l._updateFileProgress(e.set({uploadPercent:a,uploadedSize:s})),!o.end){if(o.nextOffset>=c)throw new Error("nextOffsetOverFlow");return l._doFileBlockSend(e,t,o.nextOffset)}l._finishFile(e)}})).catch((function(o){var r=e.get("hasUploadRetryNum")||0;i||(i=0),r<l.options.maxRetryNum&&i<l.options.maxSingleRetryNum?(e.set("hasUploadRetryNum",++r),l._doFileBlockSend(e,t,n,i?i+1:1)):(console.error(o),l._error(e.set("error",o.message)))}))},_sendData2FTNByAjax:function(e,t,n,i){var o=this;return new Promise((function(r,s){var l=["//",e.get("uploadDomain"),"/ftn_handler/"].join(""),c=a.genFTNRequestBody(e.get("fileKey"),e.get("sha"),e.get("h5File"),i,t,e.get("fileId"));/^http/gi.test(location.protocol)||(l="https:"+l),d.ajax(l,{method:"POST",data:c,headers:{"DATA-MD5":n,"content-type":"application/octet-stream","Cache-Control":"no-cache"},responseType:"arraybuffer",complete:function(t){if(t.upload.onprogress=null,200==t.status)try{r(a.parseFTNRespone(t.response,e.get("fileId")))}catch(e){s(e)}else{var n=t.getResponseHeader("User-ReturnCode");s(new Error(n?"FtnError,"+n:"http,"+t.status))}},error:function(e,t){e.upload.onprogress=null,s(t||new Error("http,"+e.status))},uploadProgress:function(n){if(n.lengthComputable&&!e.isInterupted()){var r=Math.floor(n.loaded/n.total*i.byteLength);n.loaded,n.total,o._updateFileProgress(e.set("uploadPercent",(r+t)/e.get("size")*100))}}})}))},_setRealPostSize:function(e,t,n){n>0&&e.get("status")!==f.PAUSED&&e.set({realPostTime:(e.get("realPostTime")||0)+(new Date-t),realPostSize:(e.get("realPostSize")||0)+n})},_finishFile:function(e){e.set("status","complete"),this.events.fire("fileComplete",[e]),this._remove(e),this._nextFile()},_error:function(e){e.set("status","error"),this.events.fire("fileError",[e.get("error"),e]),this._nextFile()},_remove:function(e){this.fileQueueManager.removeFile(e)},start:function(){this._nextFile()},add:function(e){this._doFileAdd(e,{})},cancel:function(e){var t=this.fileQueueManager.getFile(e),n=t.get("curFileBlock");t.set("status",f.CANCELED),n&&n.cancel(),this.events.fire("fileCanceled",[t]),this._remove(t),this._nextFile()},pause:function(e){var t=this.fileQueueManager.getFile(e);t.get("status")!==f.SIGN?(t.set("status",f.PAUSED),this._updateFileProgress(t),this._nextFile()):console.error("signing can not paused")},resumeUpload:function(e){var t=this.fileQueueManager.getFile(e);this._updateFileProgress(t.set({status:f.READY})),this._nextFile()}},b.detect=function(){return"function"==typeof Array.prototype.every&&"Promise|FileReader|DataView|ArrayBuffer|Uint8Array|URL|Blob|Worker".split("|").every((function(e){return e in window}))&&"function"==typeof ArrayBuffer.prototype.slice},b.FtnFile=l,b.Widget=m,b.FilePicker=p,b.FileDropAndDrag=v,e.exports=b},function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e){return"function"==typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,r=void 0,s=void 0,a=function(e,t){f[o]=e,f[o+1]=t,2===(o+=2)&&(s?s(m):p())},l="undefined"!=typeof window?window:void 0,d=l||{},c=d.MutationObserver||d.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function g(){var e=setTimeout;return function(){return e(m,1)}}var f=new Array(1e3);function m(){for(var e=0;e<o;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;o=0}var p=void 0;function v(e,t){var n=this,i=new this.constructor(_);void 0===i[y]&&L(i);var o=n._state;if(o){var r=arguments[o-1];a((function(){return R(o,i,r,n._result)}))}else S(n,i,e,t);return i}function I(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return j(t,e),t}p=u?function(){return t.nextTick(m)}:c?function(){var e=0,t=new c(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():h?function(){var e=new MessageChannel;return e.port1.onmessage=m,function(){return e.port2.postMessage(0)}}():void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(m)}:g()}catch(e){return g()}}():g();var y=Math.random().toString(36).substring(2);function _(){}var b=void 0,M=1,C=2,w={error:null};function T(e){try{return e.then}catch(e){return w.error=e,w}}function E(t,n,i){n.constructor===t.constructor&&i===v&&n.constructor.resolve===I?function(e,t){t._state===M?x(e,t._result):t._state===C?D(e,t._result):S(t,void 0,(function(t){return j(e,t)}),(function(t){return D(e,t)}))}(t,n):i===w?(D(t,w.error),w.error=null):void 0===i?x(t,n):e(i)?function(e,t,n){a((function(e){var i=!1,o=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(n,t,(function(n){i||(i=!0,t!==n?j(e,n):x(e,n))}),(function(t){i||(i=!0,D(e,t))}),e._label);!i&&o&&(i=!0,D(e,o))}),e)}(t,n,i):x(t,n)}function j(e,t){e===t?D(e,new TypeError("You cannot resolve a promise with itself")):function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?E(e,t,T(t)):x(e,t)}function A(e){e._onerror&&e._onerror(e._result),N(e)}function x(e,t){e._state===b&&(e._result=t,e._state=M,0!==e._subscribers.length&&a(N,e))}function D(e,t){e._state===b&&(e._state=C,e._result=t,a(A,e))}function S(e,t,n,i){var o=e._subscribers,r=o.length;e._onerror=null,o[r]=t,o[r+M]=n,o[r+C]=i,0===r&&e._state&&a(N,e)}function N(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,o=void 0,r=e._result,s=0;s<t.length;s+=3)i=t[s],o=t[s+n],i?R(n,i,o,r):o(r);e._subscribers.length=0}}function R(t,n,i,o){var r=e(i),s=void 0,a=void 0,l=void 0,d=void 0;if(r){if((s=function(e,t){try{return e(t)}catch(e){return w.error=e,w}}(i,o))===w?(d=!0,a=s.error,s.error=null):l=!0,n===s)return void D(n,new TypeError("A promises callback cannot return that same promise."))}else s=o,l=!0;n._state!==b||(r&&l?j(n,s):d?D(n,a):t===M?x(n,s):t===C&&D(n,s))}var O=0;function L(e){e[y]=O++,e._state=void 0,e._result=void 0,e._subscribers=[]}var k=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[y]||L(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===b&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===I){var o=T(e);if(o===v&&e._state!==b)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===z){var r=new n(_);E(r,e,o),this._willSettleAt(r,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===b&&(this._remaining--,e===C?D(i,n):this._result[t]=n),0===this._remaining&&x(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;S(e,void 0,(function(e){return n._settledAt(M,t,e)}),(function(e){return n._settledAt(C,t,e)}))},e}(),z=function(){function e(t){this[y]=O++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t((function(t){j(e,t)}),(function(t){D(e,t)}))}catch(t){D(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},e}();return z.prototype.then=v,z.all=function(e){return new k(this,e).promise},z.race=function(e){var t=this;return i(e)?new t((function(n,i){for(var o=e.length,r=0;r<o;r++)t.resolve(e[r]).then(n,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},z.resolve=I,z.reject=function(e){var t=new this(_);return D(t,e),t},z._setScheduler=function(e){s=e},z._setAsap=function(e){a=e},z._asap=a,z.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=z},z.Promise=z,z}))}).call(t,n(7),n(8))},function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,d=[],c=!1,u=-1;function h(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&g())}function g(){if(!c){var e=a(h);c=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new f(e,t)),1!==d.length||c||a(g)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(2),o=n(10);function r(){this.queue=new i}r.prototype.PRIORITY={},r.prototype.fork=function(){this.queue.addWorker(new FileReader)},r.prototype.task=function(e,t){var n=this,i=new o(e,t);return i.result().then((function(){n.queue.removeTask(i)})),i},r.prototype.run=function(e,t){return this.queue.runTask(e,this.PRIORITY[t])},e.exports=r},function(e,t,n){var i=n(3);function o(e,t){this._type=t,this._rdBlock=e,i.call(this)}o.prototype=i.proto(),o.prototype.handle_=function(e){var t=this;return new Promise((function(n,i){function o(e){a(),n(e.target.result)}function r(){a(),i(new Error("aborted"))}function s(e){a(),i(e)}function a(){delete t._rdBlock,e.removeEventListener("load",o),e.removeEventListener("abort",r),e.removeEventListener("error",s)}e.addEventListener("load",o),e.addEventListener("abort",r),e.addEventListener("error",s),e.readAsArrayBuffer(t._rdBlock)}))},e.exports=o},function(e,t,n){var i=n(2),o=n(12);function r(){this.queue=new i}r.prototype.PRIORITY={},r.prototype.fork=function(e){var t=this;return new Promise((function(n,i){if(!e){var o=new Error("init worker fail!");return o}e.addEventListener("message",(function i(o){e.removeEventListener("message",i),"ready"==o.data.type&&(n(),t.queue.addWorker(e))})),e.addEventListener("error",(function(t){e.postMessage({type:"reset"})}))}))},r.prototype.task=function(e){return new o(e)},r.prototype.run=function(e,t){return this.queue.runTask(e,this.PRIORITY[t])},e.exports=r},function(e,t,n){var i=n(3);function o(e){this._wkmsg=e,i.call(this)}o.prototype=i.proto(),o.prototype.handle_=function(e){var t=this;return new Promise((function(n,i){function o(i){if("done"===i.data.type)s(),n(i.data.data);else if("retry"===i.data.type){if(t.nRetryCount=t.nRetryCount||0,t.nRetryCount>4)return i.data.data,r(i.data.data);t.nRetryCount++,e.postMessage(t._wkmsg)}}function r(e){s(),i(e)}function s(){delete t._wkmsg,e.removeEventListener("message",o),e.removeEventListener("error",r)}e.addEventListener("message",o),e.addEventListener("error",r),e.postMessage(t._wkmsg)}))},e.exports=o},function(e,t,n){var i=n(4);function o(e,t,n,i,o){this._workers=t,this._readers=e,this._chunkSize=i,this._file=n,this._cacheThreshold=o,this._caches={length:0}}o.prototype.fetch=function(e){var t=this._caches[e];return t||(console&&console.warn("no cache:%d",e),t=this.addCache(e,this._chunkSize)),this._cleanup(e),delete this._caches[e],this._runPrefetch(t._fetch_end),Promise.all([t.hash("block_hash"),t.read("send_read"),t])},o.prototype.addCache=function(e,t){var n=e+t,o=this._caches[e]=new i(this._readers,this._workers,this._file.slice(e,n));return this._caches.length++,o._fetch_start=e,o._fetch_end=n,o},o.prototype.rmCache=function(e){var t=this._caches[e];t&&t.cancel&&(t.cancel(),delete this._caches[e])},o.prototype._runPrefetch=function(e){var t=this;if(!(t._caches.length>t._cacheThreshold)){for(;e<t._file.size&&t._caches[e];)e+=t._chunkSize;e>=t._file.size||t._prefetch(e).then((function(){t._runPrefetch(e+t._chunkSize)}))}},o.prototype._prefetch=function(e){return this.addCache(e,this._chunkSize).hash("pre_block_hash")},o.prototype._cleanup=function(e){var t=this._caches,n=0;for(var i in t)"length"!=i&&(i<e?this.rmCache(i):n++);t.length=n},o.prototype.resetCache=function(){this._caches={length:0}},e.exports=o},function(e,t){var n=2882377846,i={};function o(e){for(var t=new ArrayBuffer(e.length/2),n=new Uint8Array(t),i=t.byteLength;i--;){var o=parseInt(e.substr(2*i,2),16);if(isNaN(o))throw new Error("parse hex err");n[i]=o}return t}function r(e){var t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e,!1),t}function s(e){var t=s.headABView;return t||(t=new DataView(new ArrayBuffer(16)),s.headABView=t,u(t,[n,1007,0])),t.setUint32(12,e,!1),t.buffer}function a(e,t,n){var i=a.bodyABLenView;i||(i=new DataView(new ArrayBuffer(20)),a.bodyABLenView=i);var o=c(e.size),r=c(t);return u(i,[o.low,r.low,n.byteLength,o.high,r.high]),i.buffer}var l=4294967295,d=l+1;function c(e){return{low:e&l,high:e/d|0}}function u(e,t,n){n||(n=0),t.forEach((function(t,i){e.setUint32(n+4*i,t,!1)}))}t.genFTNRequestBody=function(e,t,n,l,d,c){var u=function(e,t,n){if(!i[n]){var s=o(e),a=o(t);i[n]={ukeyAB:s,ukeyABLen:r(s.byteLength),fkeyAB:a,fkeyABLen:r(a.byteLength)}}return i[n]}(e,t,c),h=u.ukeyAB,g=u.ukeyABLen,f=u.fkeyAB,m=u.fkeyABLen,p=a(n,d,l),v=p.byteLength+h.byteLength+f.byteLength+g.byteLength+m.byteLength+l.byteLength,I=s(v),y=new ArrayBuffer(v+I.byteLength),_=new Uint8Array(y),b=0;return[I,g,h,m,f,p,l].forEach((function(e){_.set(new Uint8Array(e),b),b+=e.byteLength})),_},t.parseFTNRespone=function(e,t){var o=new DataView(e);if(o.getUint32(0,!1)!=n)throw new Error("Unknow response");var r=o.getUint32(4,!1);if(r)throw new Error("cgi,"+r);if(0==o.getUint8(16))return{nextOffset:function(e,t){return e+(t||0)*d}(o.getUint32(17,!1),o.getUint32(21,!1))};if(1==o.getUint8(16))return function(e){i[e]&&delete i[e]}(t),{end:!0};throw new Error("Unknow status")}},function(e,t,n){var i=n(0);function o(e,t){var n=e||{};this.id=i.unikey("f"),this.attributes={},this.set(n)}o.prototype.toJSON=function(){return this.attributes},o.prototype.get=function(e){return this.attributes[e]},o.prototype.set=function(e,t){if(null==e)return this;var n;"object"==typeof e?n=e:(n={})[e]=t;var i=this.attributes;for(var o in n)i[o]=n[o];return this},o.prototype.isCanceled=function(e,t){return this.get("status")===o.status.CANCELED},o.prototype.isPaused=function(e,t){return this.get("status")===o.status.PAUSED},o.prototype.isInterupted=function(){return this.isCanceled()||this.isPaused()},o.status={READY:"ready",SIGN:"sign",UPLOAD:"upload",PAUSED:"paused",CANCELED:"canceled",COMPLETE:"complete",ERROR:"error"},e.exports=o},function(e,t){function n(){this._ftnFileQueue=[],this._ftnFileMap={}}n.prototype={getFile:function(e){return this._ftnFileMap[e]},removeFile:function(e){var t=this._ftnFileQueue,n=this._ftnFileMap;t.splice(t.indexOf(e),1),delete n[e.id]},addFile:function(e){var t=this._ftnFileQueue,n=this._ftnFileMap;t.push(e),n[e.id]=e},getAllFiles:function(){return this._ftnFileQueue}},e.exports=n},function(e,t,n){var i=n(1),o=n(0),r=i.register("FilePicker",{init:function(){var e=this.options;e.pick&&this.addBtn(e.pick)},addBtn:function(e){var t,n=this;e instanceof Array||(e=[e]);for(var i=0,r=e.length;i<r;i++){if(t=e[i],o.isDOMElement(t)||(t=document.getElementById(t)),!o.isFileInput(t))return void console.error("is not input of file");t.addEventListener("click",(function(){t.value=""}),!1),t.addEventListener("change",(function(e){e.stopPropagation(),e.preventDefault(),n.uploader.events.fire("change",[e])&&n.uploader._doFileAdd(e.target.files,e)}),!1)}}},{isNeedInit:function(e){return e.pick}});e.exports=r},function(e,t,n){var i=n(1),o=n(0),r=i.register(i,{init:function(){var e=this.options;e.dragAndDrop&&this.initContainer(e.dragAndDrop)},initContainer:function(e){var t=this;o.isDOMElement(e)||(e=document.getElementById(e)),e.addEventListener("dragover",t.createDragHandler("dragover"),!1),e.addEventListener("dragenter",t.createDragHandler("dragenter"),!1),e.addEventListener("dragleave",t.createDragHandler("dragleave"),!1),e.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault(),t.uploader.events.fire("drop",[e])&&t.uploader._doFileAdd(e.dataTransfer.files,e)}),!1)},createDragHandler:function(e){var t=this;return function(n){n.preventDefault(),t.uploader.events.fire(e,[n])}}},{isNeedInit:function(e){return e.dragAndDrop}});e.exports=r},function(e,t){e.exports='!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var r=n(1),a=new(n(2)),s=new r.YaMD5,f={reset:function(){a.reset(),s.start()},chunkMD5:function(t){return s.start().appendByteArray(new Uint8Array(t)).end()},appendMD5:function(t){return t.state?s.setState(t.state):s.start(),s.appendByteArray(new Uint8Array(t.chunk)).getState()},getMD5:function(t){return s.setState(t).end()},chunkSHA1:function(t){return a.digest(t)},appendSHA1:function(t){return t.state?a.setState(t.state):a.reset(),a.append(t.chunk),a.getState()},getSHA1:function(t){return a.setState(t),a.end()}},i=!!self.FileReader,h=i?new FileReader:new FileReaderSync;function u(t,e,n){i?function(t,e,n){function r(t){f(),e(t.target.result)}function a(t){f(),n(t.target.error)}function s(t){f(),n(t.target.error)}function f(){h.removeEventListener("load",r),h.removeEventListener("abort",a),h.removeEventListener("error",s)}h.addEventListener("load",r),h.addEventListener("abort",a),h.addEventListener("error",s),h.readAsArrayBuffer(t)}.apply(null,arguments):function(t,e,n){try{var r=h.readAsArrayBuffer(t);e(r)}catch(t){n(t)}}.apply(null,arguments)}self.addEventListener("message",function(t){var e=t.data;function n(){var t=f[e.type](e.data),n=t&&(t.state||t.heap);self.postMessage({type:"done",data:t},n&&[n]),n&&n.byteLength&&alert("Transferrable Objects are not supported by your browser")}"appendSHA1"==e.type||"appendMD5"==e.type?u(e.data.chunk||e.data,function(t){e.data.chunk?e.data.chunk=t:e.data=t,n()},function(t){self.postMessage({type:"retry",data:t.message})}):n()}),self.postMessage({type:"ready"})},function(t,e){!function(t){"use strict";var e=function(t,e){var n=t[0],r=t[1],a=t[2],s=t[3];r=((r+=((a=((a+=((s=((s+=((n=((n+=(r&a|~r&s)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&a)+e[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&r)+e[2]+606105819|0)<<17|a>>>15)+s|0)&s|~a&n)+e[3]-1044525330|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r&a|~r&s)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&a)+e[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&r)+e[6]-1473231341|0)<<17|a>>>15)+s|0)&s|~a&n)+e[7]-45705983|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r&a|~r&s)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&a)+e[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&r)+e[10]-42063|0)<<17|a>>>15)+s|0)&s|~a&n)+e[11]-1990404162|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r&a|~r&s)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&a)+e[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&r)+e[14]-1502002290|0)<<17|a>>>15)+s|0)&s|~a&n)+e[15]+1236535329|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r&s|a&~s)+e[1]-165796510|0)<<5|n>>>27)+r|0)&a|r&~a)+e[6]-1069501632|0)<<9|s>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|a>>>18)+s|0)&n|s&~n)+e[0]-373897302|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r&s|a&~s)+e[5]-701558691|0)<<5|n>>>27)+r|0)&a|r&~a)+e[10]+38016083|0)<<9|s>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|a>>>18)+s|0)&n|s&~n)+e[4]-405537848|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r&s|a&~s)+e[9]+568446438|0)<<5|n>>>27)+r|0)&a|r&~a)+e[14]-1019803690|0)<<9|s>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|a>>>18)+s|0)&n|s&~n)+e[8]+1163531501|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r&s|a&~s)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&a|r&~a)+e[2]-51403784|0)<<9|s>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|a>>>18)+s|0)&n|s&~n)+e[12]-1926607734|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r^a^s)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^a)+e[8]-2022574463|0)<<11|s>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|a>>>16)+s|0)^s^n)+e[14]-35309556|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r^a^s)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^a)+e[4]+1272893353|0)<<11|s>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|a>>>16)+s|0)^s^n)+e[10]-1094730640|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r^a^s)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^a)+e[0]-358537222|0)<<11|s>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|a>>>16)+s|0)^s^n)+e[6]+76029189|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((s=((s+=((n=((n+=(r^a^s)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^a)+e[12]-421815835|0)<<11|s>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|a>>>16)+s|0)^s^n)+e[2]-995338651|0)<<23|r>>>9)+a|0,r=((r+=((s=((s+=(r^((n=((n+=(a^(r|~s))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~a))+e[7]+1126891415|0)<<10|s>>>22)+n|0)^((a=((a+=(n^(s|~r))+e[14]-1416354905|0)<<15|a>>>17)+s|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+a|0,r=((r+=((s=((s+=(r^((n=((n+=(a^(r|~s))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~a))+e[3]-1894986606|0)<<10|s>>>22)+n|0)^((a=((a+=(n^(s|~r))+e[10]-1051523|0)<<15|a>>>17)+s|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+a|0,r=((r+=((s=((s+=(r^((n=((n+=(a^(r|~s))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~a))+e[15]-30611744|0)<<10|s>>>22)+n|0)^((a=((a+=(n^(s|~r))+e[6]-1560198380|0)<<15|a>>>17)+s|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+a|0,r=((r+=((s=((s+=(r^((n=((n+=(a^(r|~s))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~a))+e[11]-1120210379|0)<<10|s>>>22)+n|0)^((a=((a+=(n^(s|~r))+e[2]+718787259|0)<<15|a>>>17)+s|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+a|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=a+t[2]|0,t[3]=s+t[3]|0},n=[],r=function(){this._dataLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._bufferLength=0,this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()},a=new Int32Array([1732584193,-271733879,-1732584194,271733878]),s=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.prototype.appendStr=function(t){for(var n,r=this._buffer8,a=this._buffer32,s=this._bufferLength,f=0;f<t.length;f++){if((n=t.charCodeAt(f))<128)r[s++]=n;else if(n<2048)r[s++]=192+(n>>>6),r[s++]=63&n|128;else if(n<55296||n>56319)r[s++]=224+(n>>>12),r[s++]=n>>>6&63|128,r[s++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++f)-56320)+65536)>1114111)throw"Unicode standard supports code points up to U+10FFFF";r[s++]=240+(n>>>18),r[s++]=n>>>12&63|128,r[s++]=n>>>6&63|128,r[s++]=63&n|128}s>=64&&(this._dataLength+=64,e(this._state,a),s-=64,a[0]=a[16])}return this._bufferLength=s,this},r.prototype.appendAsciiStr=function(t){for(var n,r=this._buffer8,a=this._buffer32,s=this._bufferLength,f=0;;){for(n=Math.min(t.length-f,64-s);n--;)r[s++]=t.charCodeAt(f++);if(s<64)break;this._dataLength+=64,e(this._state,a),s=0}return this._bufferLength=s,this},r.prototype.appendByteArray=function(t){for(var n,r=this._buffer8,a=this._buffer32,s=this._bufferLength,f=0;;){for(n=Math.min(t.length-f,64-s);n--;)r[s++]=t[f++];if(s<64)break;this._dataLength+=64,e(this._state,a),s=0}return this._bufferLength=s,this},r.prototype.getState=function(){var t={state:this._state.buffer.slice(0),dataLength:this._dataLength,bufferLength:this._bufferLength};return this._bufferLength&&(t.buffer=this._buffer.slice(0)),t},r.prototype.setState=function(t){return this._state.set(new Int32Array(t.state)),this._dataLength=t.dataLength,this._bufferLength=t.bufferLength,t.bufferLength&&this._buffer32.set(new Uint32Array(t.buffer)),this},r.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(a),this},r.prototype.end=function(t){var r=this._bufferLength;this._dataLength+=r;var a=this._buffer8;a[r]=128,a[r+1]=a[r+2]=a[r+3]=0;var f=this._buffer32,i=1+(r>>2);f.set(s.subarray(i),i),r>55&&(e(this._state,f),f.set(s));var h=8*this._dataLength;if(h<=4294967295)f[14]=h;else{var u=h.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(u[2],16),c=parseInt(u[1],16)||0;f[14]=o,f[15]=c}return e(this._state,f),t?this._state:function(t){for(var e,r,a,s="0123456789abcdef",f=n,i=0;i<4;i++)for(r=8*i,e=t[i],a=0;a<8;a+=2)f[r+1+a]=s.charAt(15&e),e>>>=4,f[r+0+a]=s.charAt(15&e),e>>>=4;return f.join("")}(this._state)};var f=new r;r.hashStr=function(t,e){return f.start().appendStr(t).end(e)},r.hashAsciiStr=function(t,e){return f.start().appendAsciiStr(t).end(e)},"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello")&&console.error("YaMD5> this javascript engine does not support YaMD5. Sorry."),"object"==typeof t&&(t.YaMD5=r)}(this)},function(t,e,n){!function(){t.exports=i;var e=function(t){for(t+=9;t%64>0;t+=1);return t},n=function(t,e){var n=new Uint8Array(t.buffer),r=e%4,a=e-r;switch(r){case 0:n[a+3]=0;case 1:n[a+2]=0;case 2:n[a+1]=0;case 3:n[a+0]=0}for(var s=1+(e>>2);s<t.length;s++)t[s]=0},r=function(t,e,n){t[e>>2]|=128<<24-(e%4<<3),t[14+(2+(e>>2)&-16)]=n/(1<<29)|0,t[15+(2+(e>>2)&-16)]=n<<3},a=function(t){var e,n,r="",a=new Uint8Array(t);for(e=0;e<a.length;e++)n=a[e],r+="0123456789abcdef".charAt(n>>4&15)+"0123456789abcdef".charAt(n>>0&15);return r},s=function(t){var e;if(t<=65536)return 65536;if(t<16777216)for(e=65536;e<t;e<<=1);else for(e=16777216;e<t;e+=16777216);return e},f=function(t,e){var n=new Int32Array(t,e+320,5),r=new Int32Array(5),a=new DataView(r.buffer);return a.setInt32(0,n[0],!1),a.setInt32(4,n[1],!1),a.setInt32(8,n[2],!1),a.setInt32(12,n[3],!1),a.setInt32(16,n[4],!1),r};function i(t){"use strict";var h={};if((t=t||65536)%64>0)throw new Error("Chunk size must be a multiple of 128 bit");function u(){h.offset=0;var t=new Int32Array(h.heap,h.padMaxChunkLen+320,5);t[0]=1732584193,t[1]=-271733879,t[2]=-1732584194,t[3]=271733878,t[4]=-1009589776}function o(t,e,n,r){var a=r%4,s=(n+a)%4,f=n-s;switch(a){case 0:h.h8[r]=t[e+3];case 1:h.h8[r+1-(a<<1)|0]=t[e+2];case 2:h.h8[r+2-(a<<1)|0]=t[e+1];case 3:h.h8[r+3-(a<<1)|0]=t[e]}if(!(n<s+a)){for(var i=4-a;i<f;i=i+4|0)h.h32[r+i>>2|0]=t[e+i]<<24|t[e+i+1]<<16|t[e+i+2]<<8|t[e+i+3];switch(s){case 3:h.h8[r+f+1|0]=t[e+f+2];case 2:h.h8[r+f+2|0]=t[e+f+1];case 1:h.h8[r+f+3|0]=t[e+f]}}}h.offset=0,h.maxChunkLen=t,h.padMaxChunkLen=e(t),h.heap=new ArrayBuffer(s(h.padMaxChunkLen+320+20)),h.h32=new Int32Array(h.heap),h.h8=new Int8Array(h.heap),h.core=new i._core({Int32Array:Int32Array},{},h.heap),u();var c=this.rawDigest=function(t){var a=t.byteLength;u(),t=new Uint8Array(t);for(var s=h.maxChunkLen,i=0;i+s<a;i+=s)o(t,i,s,0),h.core.hash(s,h.padMaxChunkLen);var c=e(s=a-i),p=new Int32Array(h.heap,0,c>>2);return o(t,i,s,0),n(p,s),r(p,s,a),h.core.hash(c,h.padMaxChunkLen),f(h.heap,h.padMaxChunkLen)};this.digest=function(t){return a(c(t).buffer)};this.reset=function(){u()};this.append=function(t){var e=0,n=t.byteLength,r=h.offset%h.maxChunkLen;for(t=new Uint8Array(t),h.offset+=n;e<n;){var a=Math.min(n-e,h.maxChunkLen-r);o(t,e,a,r),e+=a,(r+=a)===h.maxChunkLen&&(h.core.hash(h.maxChunkLen,h.padMaxChunkLen),r=0)}};var p=this.rawEnd=function(){var t=h.offset,a=t%h.maxChunkLen,s=e(a),i=new Int32Array(h.heap,0,s>>2);n(i,a),r(i,a,t),h.core.hash(s,h.padMaxChunkLen);var o=f(h.heap,h.padMaxChunkLen);return u(),o};this.end=function(){return a(p().buffer)},this.getState=function(){var t;if(h.offset%h.maxChunkLen)t=h.heap.slice(0);else{var e=new Int32Array(h.heap,h.padMaxChunkLen+320,5);t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}return{offset:h.offset,heap:t}},this.setState=function(t){(h.offset=t.offset,20===t.heap.byteLength)?new Int32Array(h.heap,h.padMaxChunkLen+320,5).set(new Int32Array(t.heap)):h.h32.set(new Int32Array(t.heap))}}i._core=function(t,e,n){var r=new t.Int32Array(n);return{hash:function(t,e){t|=0;var n=0,a=0,s=0,f=0,i=0,h=0,u=0,o=0,c=0,p=0,d=0,y=0,b=0,g=0;for(s=0|r[320+(e|=0)>>2],i=0|r[e+324>>2],u=0|r[e+328>>2],c=0|r[e+332>>2],d=0|r[e+336>>2],n=0;(0|n)<(0|t);n=n+64|0){for(f=s,h=i,o=u,p=c,y=d,a=0;(0|a)<64;a=a+4|0)b=((s<<5|s>>>27)+(i&u|~i&c)|0)+(1518500249+((g=0|r[n+a>>2])+d|0)|0)|0,d=c,c=u,u=i<<30|i>>>2,i=s,s=b,r[t+a>>2]=g;for(a=t+64|0;(0|a)<(t+80|0);a=a+4|0)b=((s<<5|s>>>27)+(i&u|~i&c)|0)+(1518500249+((g=(r[a-12>>2]^r[a-32>>2]^r[a-56>>2]^r[a-64>>2])<<1|(r[a-12>>2]^r[a-32>>2]^r[a-56>>2]^r[a-64>>2])>>>31)+d|0)|0)|0,d=c,c=u,u=i<<30|i>>>2,i=s,s=b,r[a>>2]=g;for(a=t+80|0;(0|a)<(t+160|0);a=a+4|0)b=((s<<5|s>>>27)+(i^u^c)|0)+(1859775393+((g=(r[a-12>>2]^r[a-32>>2]^r[a-56>>2]^r[a-64>>2])<<1|(r[a-12>>2]^r[a-32>>2]^r[a-56>>2]^r[a-64>>2])>>>31)+d|0)|0)|0,d=c,c=u,u=i<<30|i>>>2,i=s,s=b,r[a>>2]=g;for(a=t+160|0;(0|a)<(t+240|0);a=a+4|0)b=((s<<5|s>>>27)+(i&u|i&c|u&c)|0)+(((g=(r[a-12>>2]^r[a-32>>2]^r[a-56>>2]^r[a-64>>2])<<1|(r[a-12>>2]^r[a-32>>2]^r[a-56>>2]^r[a-64>>2])>>>31)+d|0)-1894007588|0)|0,d=c,c=u,u=i<<30|i>>>2,i=s,s=b,r[a>>2]=g;for(a=t+240|0;(0|a)<(t+320|0);a=a+4|0)b=((s<<5|s>>>27)+(i^u^c)|0)+(((g=(r[a-12>>2]^r[a-32>>2]^r[a-56>>2]^r[a-64>>2])<<1|(r[a-12>>2]^r[a-32>>2]^r[a-56>>2]^r[a-64>>2])>>>31)+d|0)-899497514|0)|0,d=c,c=u,u=i<<30|i>>>2,i=s,s=b,r[a>>2]=g;s=s+f|0,i=i+h|0,u=u+o|0,c=c+p|0,d=d+y|0}r[e+320>>2]=s,r[e+324>>2]=i,r[e+328>>2]=u,r[e+332>>2]=c,r[e+336>>2]=d}}}}()}]);'}])},"../node_modules/@tencent/idle-loader/lib/index.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{IdleValue:function(){return g},Priority:function(){return i},createScheduler:function(){return h},defineIdleProperties:function(){return m},defineIdleProperty:function(){return f},scheduler:function(){return u}});var i,o=function(){if("object"==typeof performance&&"function"==typeof performance.now)return function(){return performance.now()};var e=Date,t=e.now();return function(){return e.now()-t}}(),r=function(){function e(){var e=this;this.isMessageLoopRunning=!1,this.performWorkUntilDeadline=function(t){var n;if(e.deadline=t,e.scheduledHostCallback){var i=o(),r=(null==t?void 0:t.didTimeout)||!1;e.scheduledHostCallback(r,i)?null===(n=window.requestIdleCallback)||void 0===n||n.call(window,e.performWorkUntilDeadline,{timeout:500}):(e.isMessageLoopRunning=!1,e.scheduledHostCallback=void 0)}else e.isMessageLoopRunning=!1}}return e.prototype.shouldYieldToHost=function(e){var t,n,i,o;void 0===e&&(e=0);var r=null===(n=null===(t=this.deadline)||void 0===t?void 0:t.timeRemaining)||void 0===n?void 0:n.call(t);if(void 0!==r&&r<e)return!0;var s=navigator;return!!(null===(o=null===(i=null==s?void 0:s.scheduling)||void 0===i?void 0:i.isInputPending)||void 0===o?void 0:o.call(i))},e.prototype.requestHostCallback=function(e){if("function"!=typeof window.requestIdleCallback)throw Error("requestIdleCallback undefined when use ExecutorIdleCallback!");this.scheduledHostCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,window.requestIdleCallback(this.performWorkUntilDeadline,{timeout:500}))},e}(),s=function(){function e(){}return e.prototype.shouldYieldToHost=function(){return!1},e.prototype.requestHostCallback=function(e){var t=this;this.scheduledHostCallback?setTimeout((function(){return t.requestHostCallback(e)}),0):(this.scheduledHostCallback=e,setTimeout((function(){return t.flushCallback()}),0))},e.prototype.flushCallback=function(){var e=this;if(this.scheduledHostCallback)try{var t=o();this.scheduledHostCallback(!1,t),this.scheduledHostCallback=void 0}catch(o){throw setTimeout((function(){return e.flushCallback()}),0),o}},e}(),a=function(){function e(){var t=this;this.maxYieldInterval=300,this.yieldInterval=10,this.deadline=0,this.isMessageLoopRunning=!1,e.UUID+=1,this.key=""+e.UUID,l.get().onMessage(this.key,(function(){t.performWorkUntilDeadline()}))}return e.prototype.shouldYieldToHost=function(){var e,t,n=navigator;if(void 0!==(null===(e=null==n?void 0:n.scheduling)||void 0===e?void 0:e.isInputPending)){var i=n.scheduling,r=o();return r>=this.deadline&&(!!(null===(t=i.isInputPending)||void 0===t?void 0:t.call(i))||r>=this.maxYieldInterval)}return o()>=this.deadline},e.prototype.requestHostCallback=function(e){this.scheduledHostCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,l.get().postMessage(this.key))},e.prototype.performWorkUntilDeadline=function(){if(this.scheduledHostCallback){var e=o();this.deadline=e+this.yieldInterval;var t=this.scheduledHostCallback(!1,e);try{t?l.get().postMessage(this.key):(this.isMessageLoopRunning=!1,this.scheduledHostCallback=void 0)}catch(e){throw l.get().postMessage(this.key),e}}else this.isMessageLoopRunning=!1},e.UUID=0,e}(),l=function(){function e(){var e=this;this.callbacks=new Map,this.channel=new MessageChannel,this.port=this.channel.port2,this.channel.port1.onmessage=function(t){var n=t.data,i=e.callbacks.get(n);"function"==typeof i?i():null===console||void 0===console||console.warn("non callback found by "+n)}}return e.get=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.onMessage=function(e,t){this.callbacks.set(e,t)},e.prototype.postMessage=function(e){this.port.postMessage(e)},e}(),d=function(){function e(){this.heap=[]}return e.prototype.push=function(e){var t=this.heap.length;this.heap.push(e),this.siftUp(e,t)},e.prototype.peek=function(){return this.heap[0]},e.prototype.pop=function(){var e=this.heap[0];if(void 0!==e){var t=this.heap.pop();return t&&t!==e&&(this.heap[0]=t,this.siftDown(t,0)),e}},e.prototype.size=function(){return this.heap.length},e.prototype.clear=function(){this.heap=[]},e.prototype.siftUp=function(e,t){for(var n=t;;){var i=n-1>>>1,o=this.heap[i];if(!(void 0!==o&&this.compare(o,e)>0))return;this.heap[i]=e,this.heap[n]=o,n=i}},e.prototype.siftDown=function(e,t){for(var n=t,i=this.heap.length;n<i;){var o=2*(n+1)-1,r=this.heap[o],s=o+1,a=this.heap[s];if(void 0!==r&&this.compare(r,e)<0)void 0!==a&&this.compare(a,r)<0?(this.heap[n]=a,this.heap[s]=e,n=s):(this.heap[n]=r,this.heap[o]=e,n=o);else{if(!(void 0!==a&&this.compare(a,e)<0))return;this.heap[n]=a,this.heap[s]=e,n=s}}},e.prototype.compare=function(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id},e}();!function(e){e[e.hight=1]="hight",e[e.normal=2]="normal",e[e.low=3]="low",e[e.idle=4]="idle"}(i||(i={}));var c=function(){function e(){var e=this;this.highPriorityTimeout=0,this.normalPriorityTimeout=2e3,this.lowPriorityTimeout=5e3,this.idlePriorityTimeout=1073741823,this.taskIdCounter=1,this.isSchedulerPaused=!1,this.isHostCallbackSchedule=!1,this.isPerformingWork=!1,this.flushWork=function(t,n){e.isHostCallbackSchedule=!1;try{return e.workLoop(t,n)}finally{e.currentTask=void 0,e.isPerformingWork=!1}},this.workLoop=function(t,n){var i=n;for(e.currentTask=e.taskQueue.peek();e.currentTask&&!e.isSchedulerPaused;){var o=e.currentTask,r=o.expirationTime,s=o.minTime;if(r>i&&(t||e.executor.shouldYieldToHost(s)))break;var a=e.currentTask.callback;if("function"==typeof a){e.currentTask.callback=void 0;var l=a();"function"==typeof l?e.currentTask.callback=l:e.currentTask===e.taskQueue.peek()&&e.taskQueue.pop()}else e.taskQueue.pop();e.currentTask=e.taskQueue.peek()}return!!e.currentTask},this.taskQueue=new d,this.executor=this.createHostExecutor()}return e.prototype.scheduleTask=function(e,t){var n,r=o();switch((null==t?void 0:t.priority)||i.idle){case i.hight:n=this.highPriorityTimeout;break;case i.normal:n=this.normalPriorityTimeout;break;case i.low:n=this.lowPriorityTimeout;break;case i.idle:default:n=this.idlePriorityTimeout}var s=null==t?void 0:t.minTime;void 0===s&&(s=1),this.taskIdCounter+=1;var a={id:this.taskIdCounter,expirationTime:r+n,sortIndex:r+n,minTime:s,callback:e};return this.taskQueue.push(a),this.isHostCallbackSchedule||this.isPerformingWork||(this.isHostCallbackSchedule=!0,this.executor.requestHostCallback(this.flushWork)),a},e.prototype.cancelTask=function(e){e.callback=void 0},e.prototype.clearPendingTasks=function(){this.taskQueue.clear()},e.prototype.pause=function(){this.isSchedulerPaused=!0},e.prototype.continue=function(){this.isSchedulerPaused=!1,this.isHostCallbackSchedule||this.isPerformingWork||(this.isHostCallbackSchedule=!0,this.executor.requestHostCallback(this.flushWork))},e.prototype.createHostExecutor=function(){try{if("function"==typeof(null===window||void 0===window?void 0:window.requestIdleCallback))return new r;if("undefined"!=typeof MessageChannel)return new a}catch(i){null===console||void 0===console||console.info("use polyfill executor")}return new s},e}(),u=new c;function h(){return new c}var g=function(){function e(e,t){var n=this;this.initFun=e,this.idleHandle=u.scheduleTask((function(){n.value=n.initFun()}),t)}return e.prototype.getValue=function(){return void 0===this.value&&(this.cancelIdleInit(),this.value=this.initFun()),this.value},e.prototype.setValue=function(e){this.cancelIdleInit(),this.value=e},e.prototype.cancelIdleInit=function(){this.idleHandle&&(u.cancelTask(this.idleHandle),this.idleHandle=void 0)},e}(),f=function(e,t,n){var i=new g(n);Object.defineProperty(e,t,{configurable:!0,get:i.getValue.bind(i),set:i.setValue.bind(i)})},m=function(e,t){Object.keys(t).forEach((function(n){f(e,n,t[n])}))}},"../node_modules/@tencent/jank-sdk/lib/index.js":function(e,t,n){"use strict";n.d(t,{ZP:function(){return E},M4:function(){return l},Hr:function(){return d}});var i,o,r=function(){function e(){this._listeners={}}return e.prototype._hasEventListener=function(e,t){return void 0!==this._listeners[e]&&this._listeners[e].indexOf(t)>-1},e.prototype.addEventListener=function(e,t){this._hasEventListener(e,t)||(void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t))},e.prototype.removeEventListener=function(e,t){if(this._hasEventListener(e,t)){var n=this._listeners[e].indexOf(t);this._listeners[e].splice(n,1)}},e.prototype.dispatchEvent=function(e,t){if(void 0!==this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},e}(),s=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=new(function(e){function t(){var t=e.call(this)||this;return t._queue=[],t._taskStack=[],t._count=0,t}return s(t,e),t.prototype._runTask=function(){this.dispatchEvent("runTask")},t.prototype._overTask=function(){this._queue.push(this._parse()),this._taskStack=[],this._count=0,this._queue.length>5&&(this._queue=this._queue.slice(-5)),this.dispatchEvent("overTask")},t.prototype._parse=function(){for(var e,t=[],n=[],i=0;i<this._taskStack.length;i++)if((e=this._taskStack[i]).sub=[],void 0===t[0]||t[0].id!==e.id||t[0].type===e.type)(t[0]?t[0].sub:n).push(e),t.unshift(e);else{var o=t.shift();o.time=e.end-o.start,o.start=o.start,delete o.type}return n},Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"task",{get:function(){return this._queue[this._queue.length-1]},enumerable:!0,configurable:!0}),t.prototype.start=function(e){0===this._count&&this._runTask(),this._count++,this._taskStack.push({id:e,start:Date.now(),type:0})},t.prototype.end=function(e){this._taskStack.push({id:e,end:Date.now(),type:1}),this._count--,0===this._count&&this._overTask()},t.prototype.clear=function(){0===this._count?this._queue.length=0:console.warn("堆栈记录执行过程中无法清除")},t}(r)),l=function(e){return function(t,n,i){!function(e,t,n,i){var o;try{if(o=e.toString().match(/^(class|function)\s(\w+)[\(\s]/),"[object Array]"!==Object.prototype.toString.apply(o))return console.warn("proxy function error",o),i}catch(s){return console.warn("proxy function error",s),i}var r=o[2];if("string"!==typeof r)return i;e.prototype[n+"-decorators"]=i.value,i.value=function(){a.start(r+"-"+n);var t=e.prototype[n+"-decorators"].apply(this,arguments);return a.end(r+"-"+n),t}}(e,0,n,i)}},d=function(e,t){if(!t){var n=void 0;try{if(n=e.toString().match(/^(function)\s(\w+)[\(\s]/),"[object Array]"!==Object.prototype.toString.apply(n))return console.warn("proxy function error"),e}catch(i){return console.warn("proxy function error",i),e}if(null===n)return e;t=n[2]}return"string"!==typeof t?e:function(){a.start(""+t);var n=e.apply(this,arguments);return a.end(""+t),n}};!function(e){e.REGISTER="jank_register",e.HEARTBEAT="jank_heartbeat",e.ASK_AMOUNT="jank_ask_amount",e.UNREGISTER="jank_unregister"}(i||(i={})),function(e){e.CONFIRM="jank_confirm",e.HEARTBEAT="jank_heartbeat",e.REPLY_AMOUNT="jank_reply_amount"}(o||(o={}));var c,u=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(e){e[e.UNINIT=0]="UNINIT",e[e.RUNNING=1]="RUNNING",e[e.FINISH=2]="FINISH"}(c||(c={}));var h,g,f,m=function(e){function t(){var t=e.call(this)||this;return t._status=c.UNINIT,t._controller=null,t._resolve=null,t._reject=null,t._handleMessage=function(e){var n=e.data;switch(n.type){case o.CONFIRM:break;case o.HEARTBEAT:t._heartbeat();break;case o.REPLY_AMOUNT:t._replyAmount(n.data);break;default:console.error("unknown response message in tabs amount")}},t._handleBeforeunload=function(){t._unregister()},t}return u(t,e),t.prototype._sendMessage=function(e){this._controller&&this._controller.postMessage&&this._controller.postMessage(e)},t.prototype._replyAmount=function(e){void 0===e&&this._reject("unknown error"),0===e.retcode?this._resolve(e.result):this._reject(e.result),this._resolve=null,this._reject=null},t.prototype._register=function(){this._sendMessage({type:i.REGISTER})},t.prototype._unregister=function(){this._sendMessage({type:i.UNREGISTER})},t.prototype._heartbeat=function(){this._sendMessage({type:i.HEARTBEAT})},t.prototype._askAmount=function(){this._sendMessage({type:i.ASK_AMOUNT})},t.prototype._addEventListener=function(){navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",this._handleMessage),window.addEventListener("beforeunload",this._handleBeforeunload)},t.prototype.start=function(){this._status==c.UNINIT?navigator.serviceWorker?navigator.serviceWorker.controller?(this._controller=navigator.serviceWorker.controller,this._status=c.RUNNING,this._register(),this._addEventListener()):console.error("please register service by business code"):console.error("can't use service-worker in this client"):console.error("only can start tabs amount once")},t.prototype.end=function(){this._status=c.FINISH,this._unregister()},t.prototype.amount=function(){var e=this;return null!==this._resolve||null!==this._reject?Promise.reject("repeat request"):(this._askAmount(),new Promise((function(t,n){e._resolve=t,e._reject=n})))},t}(r),p=JSON.parse('{"HeartbeatConfig":{"jankLimit":1000,"TriggerLimit":10,"StopOnPageHidden":true},"PageActiveConfig":{"Limit":180000}}'),v=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(e){function t(t){var n=e.call(this)||this;return n._handleVisibilityChange=function(){var e=document[h];"hidden"===e?n.stop():n.start(),n.dispatchEvent("pageVisiableChange",e)},n._tick=function(){var e=Date.now()-n._preHeartBeatTime;e>n._app.config.HeartbeatConfig.jankLimit?(n._triggerTimes++,n.dispatchEvent("jank",e)):n.dispatchEvent("heart",e),"finish"!==n._status&&"stop"!==n._status&&n._checkNextTick()},n._app=t,n._status="uninit",n._preHeartBeatTime=0,n._timeoutTimer=null,n._triggerTimes=0,n}return v(t,e),t.prototype._init=function(){if(this._app.config.HeartbeatConfig.StopOnPageHidden){if("undefined"!==typeof document.hidden)g="visibilitychange",h="visibilityState";else if("undefined"!==typeof document.mozHidden)g="mozvisibilitychange",h="mozVisibilityState";else if("undefined"!==typeof document.msHidden)g="msvisibilitychange",h="msVisibilityState";else{if("undefined"===typeof document.webkitHidden)return;g="webkitvisibilitychange",h="webkitVisibilityState"}document.addEventListener(g,this._handleVisibilityChange)}},t.prototype._checkNextTick=function(){0!==this._app.config.HeartbeatConfig.TriggerLimit&&this._triggerTimes>=this._app.config.HeartbeatConfig.TriggerLimit?this._status="finish":(this._preHeartBeatTime=Date.now(),this._timeoutTimer=requestAnimationFrame(this._tick))},t.prototype.start=function(){this._app.config.HeartbeatConfig.StopOnPageHidden&&document.hidden||("uninit"===this._status&&this._init(),"finish"!==this._status&&"run"!==this._status&&(this._timeoutTimer?console.warn("[jank] timeout exist"):(this._status="run",this._checkNextTick())))},t.prototype.stop=function(){"finish"!==this._status&&"stop"!==this._status&&(cancelAnimationFrame(this._timeoutTimer),this._timeoutTimer=null,this._status="stop")},t}(r),y=navigator.userAgent.toLowerCase(),_="pc"===(/(android)/.test(y)?"android":/(iphone|ipad|ipod)/.test(y)?"ios":"pc"),b=function(){function e(e){var t=this;this._timer=0,this._lastActive=0,this._check=function(){_?document.body.addEventListener("mousemove",t._handle):document.body.addEventListener("touchstart",t._handle)},this._handle=function(){_?document.body.removeEventListener("mousemove",t._handle):document.body.removeEventListener("touchstart",t._handle),t.start()},this._app=e,this._timeInterval=this._app.config.PageActiveConfig.Limit}return e.prototype.start=function(){this._lastActive=Date.now(),this._timer=setTimeout(this._check,this._timeInterval)},e.prototype.stop=function(){clearTimeout(this._timer)},e.prototype.lastActive=function(){return this._lastActive},e}(),M=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return t.HeartbeatConfig&&Object.assign(p.HeartbeatConfig,t.HeartbeatConfig),t.PageActiveConfig&&Object.assign(p.PageActiveConfig,t.PageActiveConfig),n._config=Object.assign(p,t),n._initHeartbeatMonitor(),n._initPageActiveMonitor(),n._initTabsAmountMonitor(),n._traceStack=a,n}return M(t,e),t.prototype._initHeartbeatMonitor=function(){this._heartbeatMonitor=new I(this)},t.prototype._initPageActiveMonitor=function(){this._pageActiveMonitor=new b(this)},t.prototype._initTabsAmountMonitor=function(){this._tabsAmountMonitor=new m},Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heartbeatMonitor",{get:function(){return this._heartbeatMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageActiveMonitor",{get:function(){return this._pageActiveMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsAmountMonitor",{get:function(){return this._tabsAmountMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"traceStack",{get:function(){return this._traceStack},enumerable:!0,configurable:!0}),t}(r);!function(e){e.MONITOR="monitor",e.CLOSE="close"}(f||(f={}));var w={key:"jank_heartbeat"},T=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),E=(function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.stack=[],n._status=f.CLOSE,n._jankTimes=0,n._handleHeart=function(e){n.stack=[],n.log(w),n.dispatchEvent("heart",e);var t=n.pageActiveMonitor.lastActive();Date.now()-t>n._config.PageActiveConfig.Limit&&n.closeMonitor()},n._handleJank=function(e){n.dispatchEvent("jank",{jankTime:e,stack:n.stack,position:n._calcJankPosition()}),n._jankTimes=n._jankTimes+1;var t=n.pageActiveMonitor.lastActive(),i=Date.now();(n._jankTimes>=n._config.HeartbeatConfig.TriggerLimit||i-t>n._config.PageActiveConfig.Limit)&&n.closeMonitor()},n._handlePageVisiableChange=function(e){"hidden"===e?n.closeMonitor():n.startMonitor(),n.dispatchEvent("pageVisiableChange",e)},n._config=Object.assign(p,t),n._sdk=new C(n._config),n._sdk.heartbeatMonitor.addEventListener("jank",n._handleJank),n._sdk.heartbeatMonitor.addEventListener("heart",n._handleHeart),n._sdk.heartbeatMonitor.addEventListener("pageVisiableChange",n._handlePageVisiableChange),n}T(t,e),t.prototype.log=function(e){this._status===f.MONITOR&&(this.stack.length>500&&this.stack.shift(),this.stack.push({jankLogOptions:e,time:(new Date).getTime()}))},t.prototype.startMonitor=function(){this._jankTimes>=this._config.HeartbeatConfig.TriggerLimit||(this._status=f.MONITOR,this.stack=[],this.log(w),this._sdk.heartbeatMonitor.start(),this._sdk.pageActiveMonitor.start())},t.prototype.closeMonitor=function(){this._sdk.heartbeatMonitor.stop(),this._sdk.pageActiveMonitor.stop(),this.stack=[],this._status=f.CLOSE},t.prototype._calcJankPosition=function(){for(var e,t=this.stack,n=0;n<t.length;n++){var i=t[n],o=t[n+1];if(n===t.length-1)break;o.time-i.time>this._config.HeartbeatConfig.jankLimit&&(e=n)}return e},Object.defineProperty(t.prototype,"jankSDK",{get:function(){return this._sdk},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._sdk.config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heartbeatMonitor",{get:function(){return this._sdk.heartbeatMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageActiveMonitor",{get:function(){return this._sdk.pageActiveMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsAmountMonitor",{get:function(){return this._sdk.tabsAmountMonitor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"traceStack",{get:function(){return this._sdk.traceStack},enumerable:!0,configurable:!0})}(r),C)},"../node_modules/@tencent/netcheck/lib/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{network:function(){return u}});var i,o=n("../node_modules/@tencent/docs-user-agent/dist/index.js"),r=n.n(o),s=(n("../node_modules/core-js/features/promise/any.js"),function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}),a=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};!function(e){e.OFF_LINE="offline",e.ON_LINE="online"}(i||(i={}));var l="/pc/misc/files/20200114/390bc96befed3c9fe3aa1d013695fb41.gif",d=["https://pub.idqqimg.com"+l,"https://s.url.cn"+l];window.__offlinetest=!1;var c=function(){function e(){this.duration=15e3,this.counter=0,this.status=this.navigatorOnlineStatus,this.netchecksource=d[0],this.callbacks=[],this.bindVisibility()}return e.prototype.init=function(){var e=this;return this.preNetCheck().then((function(t){e.status=t})),window.addEventListener("online",this.handleNetstatus.bind(this)),window.addEventListener("offline",this.handleNetstatus.bind(this)),this.startChect(),this},Object.defineProperty(e.prototype,"isOnline",{get:function(){return!window.__offlinetest&&this.status===i.ON_LINE},enumerable:!1,configurable:!0}),e.prototype.changeEnd=function(e){this.callbacks.push(e)},e.prototype.remove=function(e){for(var t=this.callbacks.slice(0,this.callbacks.length),n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),this.callbacks=t)},e.prototype.handleCalback=function(){var e=this;this.callbacks.forEach((function(t){t(e.status)}))},e.prototype.bindVisibility=function(){var e;"undefined"!==typeof document.hidden?e="visibilitychange":"undefined"!==typeof document.mozHidden?e="mozvisibilitychange":"undefined"!==typeof document.msHidden?e="msvisibilitychange":"undefined"!==typeof document.webkitHidden&&(e="webkitvisibilitychange"),window.mqq&&r().isAndroid&&(r().isTencentDocsApp||r().isTimOrQQ)&&!r().isQQMiniProgram?window.mqq.addEventListener("qbrowserVisibilityChange",this.handleVisibility.bind(this)):document.addEventListener(e,this.handleVisibility.bind(this))},e.prototype.handleVisibility=function(){document.hidden||document.webkitHidden||document.msHidden||document.mozHidden?this.pause():this.startChect()},e.prototype.pause=function(){clearTimeout(this.Timer),this.Timer=null},e.prototype.startChect=function(){var e=this;this.Timer=window.setTimeout((function(){e.polling(),e.startChect()}),this.duration)},e.prototype.polling=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return this.preCheckOnlineStatus?[3,1]:(this.status=this.navigatorOnlineStatus,[3,3]);case 1:return e=this,[4,this.netcheck()];case 2:e.status=t.sent(),t.label=3;case 3:return this.counter>=250?(this.preNetCheck(),this.counter=0):this.counter+=1,this.handleCalback(),[2]}}))}))},Object.defineProperty(e.prototype,"navigatorOnlineStatus",{get:function(){return window.navigator.onLine?i.ON_LINE:i.OFF_LINE},enumerable:!1,configurable:!0}),e.prototype.preNetCheck=function(){return s(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){return[2,new Promise((function(t){var n=d.map((function(t){return e.sourceCheck(t)}));Promise.any(n).then((function(n){e.preCheckOnlineStatus=!0,e.netchecksource=n,t(i.ON_LINE)})).catch((function(n){console.error(n),e.preCheckOnlineStatus=!1,t(i.OFF_LINE)}))}))]}))}))},e.prototype.sourceCheck=function(e){return s(this,void 0,void 0,(function(){var t;return a(this,(function(n){return t=new Image,[2,new Promise((function(n,i){t.onload=function(){n(e)},t.onerror=function(){i(e+" load fail")},t.src=e+"?t="+Date.now()}))]}))}))},e.prototype.netcheck=function(){return s(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){return this.netcheckImage||(this.netcheckImage=new Image),[2,new Promise((function(t){e.netcheckImage.onload=function(){t(i.ON_LINE)},e.netcheckImage.onerror=function(){t(i.OFF_LINE)},e.netcheckImage.src=e.netchecksource+"?t="+Date.now()}))]}))}))},e.prototype.handleNetstatus=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e=this,[4,this.netcheck()];case 1:return e.status=t.sent(),this.handleCalback(),[2]}}))}))},e}();t.default=c;var u=(new c).init()},"../node_modules/@tencent/tdoc-scheduler/lib/tdoc-scheduler.cjs.js":function(e,t,n){"use strict";var i=n("../node_modules/@tencent/tdoc-scheduler/node_modules/rxjs/dist/esm5/index.js"),o=n("../node_modules/events/events.js");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function r(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function s(e){return"function"===typeof e}function a(e){return function(t){if(function(e){return s(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},l(e,t)};function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function c(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function h(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function f(e,t){for(var n=0,i=t.length,o=e.length;n<i;n++,o++)e[o]=t[n];return e}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function p(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(e,t||[]),r=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){o[e]&&(i[e]=function(t){return new Promise((function(n,i){r.push([e,t,n,i])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof m?Promise.resolve(n.value.v).then(l,d):c(r[0][2],n)}catch(i){c(r[0][3],i)}var n}function l(e){a("next",e)}function d(e){a("throw",e)}function c(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function v(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,o,(t=e[n](t)).done,t.value)}))}}}var I=function(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function y(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var _=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,i,o;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r))try{for(var a=h(r),l=a.next();!l.done;l=a.next())l.value.remove(this)}catch(v){e={error:v}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else r.remove(this);var d=this.initialTeardown;if(s(d))try{d()}catch(y){o=y instanceof I?y.errors:[y]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var u=h(c),m=u.next();!m.done;m=u.next()){var p=m.value;try{M(p)}catch(_){o=null!==o&&void 0!==o?o:[],_ instanceof I?o=f(f([],g(o)),g(_.errors)):o.push(_)}}}catch(b){n={error:b}}finally{try{m&&!m.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}if(o)throw new I(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)M(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&y(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&y(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();function b(e){return e instanceof _||e&&"closed"in e&&s(e.remove)&&s(e.add)&&s(e.unsubscribe)}function M(e){s(e)?e():e.unsubscribe()}var C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},w={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=w.delegate;return((null===n||void 0===n?void 0:n.setTimeout)||setTimeout).apply(void 0,f([],g(e)))},clearTimeout:function(e){var t=w.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function T(e){w.setTimeout((function(){var t=C.onUnhandledError;if(!t)throw e;t(e)}))}function E(){}var j=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,b(t)&&t.add(n)):n.destination=S,n}return d(t,e),t.create=function(e,t,n){return new A(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(_),A=function(e){function t(t,n,i){var o,r=e.call(this)||this;if(s(t))o=t;else if(t){var a;o=t.next,n=t.error,i=t.complete,r&&C.useDeprecatedNextContext?(a=Object.create(t)).unsubscribe=function(){return r.unsubscribe()}:a=t,o=null===o||void 0===o?void 0:o.bind(a),n=null===n||void 0===n?void 0:n.bind(a),i=null===i||void 0===i?void 0:i.bind(a)}return r.destination={next:o?x(o):E,error:x(null!==n&&void 0!==n?n:D),complete:i?x(i):E},r}return d(t,e),t}(j);function x(e,t){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,f([],g(t)))}catch(i){T(i)}}}function D(e){throw e}var S={closed:!0,next:E,error:D,complete:E},N="function"===typeof Symbol&&Symbol.observable||"@@observable";function R(e){return e}function O(e){return 0===e.length?R:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var L=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,o=this,r=(i=e)&&i instanceof j||function(e){return e&&s(e.next)&&s(e.error)&&s(e.complete)}(i)&&b(i)?e:new A(e,t,n);return function(){var e=o,t=e.operator,n=e.source;r.add(t?t.call(r,n):n?o._subscribe(r):o._trySubscribe(r))}(),r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=k(t))((function(t,i){var o;o=n.subscribe((function(t){try{e(t)}catch(n){i(n),null===o||void 0===o||o.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[N]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=k(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function k(e){var t;return null!==(t=null!==e&&void 0!==e?e:C.Promise)&&void 0!==t?t:Promise}var z="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function P(e){if(e instanceof L)return e;if(null!=e){if(function(e){return s(e[N])}(e))return a=e,new L((function(e){var t=a[N]();if(s(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((r=e)&&"number"===typeof r.length&&"function"!==typeof r)return o=e,new L((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(s(null===(i=e)||void 0===i?void 0:i.then))return n=e,new L((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,T)}));if(function(e){return Symbol.asyncIterator&&s(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}(e))return F(e);if(function(e){return s(null===e||void 0===e?void 0:e[z])}(e))return t=e,new L((function(e){var n,i;try{for(var o=h(t),r=o.next();!r.done;r=o.next()){var s=r.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return s(null===e||void 0===e?void 0:e.getReader)}(e))return F(function(e){return p(this,arguments,(function(){var t,n,i;return u(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,m(t.read())];case 3:return n=o.sent(),i=n.value,n.done?[4,m(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,m(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,i,o,r,a;throw function(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function F(e){return new L((function(t){(function(e,t){var n,i,o,r;return c(this,void 0,void 0,(function(){var s,a;return u(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=v(e),l.label=1;case 1:return[4,n.next()];case 2:if((i=l.sent()).done)return[3,4];if(s=i.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),i&&!i.done&&(r=n.return)?[4,r.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var U,B=function(e){function t(t,n,i,o,r){var s=e.call(this,t)||this;return s.onFinalize=r,s._next=n?function(e){try{n(e)}catch(i){t.error(i)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return d(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(j);function W(e,t,n){return void 0===n&&(n=1/0),s(t)?W((function(n,i){return function(e,t){return a((function(n,i){var o=0;n.subscribe(new B(i,(function(n){i.next(e.call(t,n,o++))})))}))}((function(e,o){return t(n,e,i,o)}))(P(e(n,i)))}),n):("number"===typeof t&&(n=t),a((function(t,i){return function(e,t,n,i,o,r,s,a){var l=[],d=0,c=0,u=!1,h=function(){!u||l.length||d||t.complete()},g=function(e){return d<i?f(e):l.push(e)},f=function(e){r&&t.next(e),d++;var a=!1;P(n(e,c++)).subscribe(new B(t,(function(e){null===o||void 0===o||o(e),r?g(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{d--;for(var e=function(){var e=l.shift();s?function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=!1);var r=t.schedule((function(){n(),o?e.add(this.schedule(null,i)):this.unsubscribe()}),i);e.add(r)}(t,s,(function(){return f(e)})):f(e)};l.length&&d<i;)e();h()}catch(n){t.error(n)}})))};return e.subscribe(new B(t,g,(function(){u=!0,h()}))),function(){null===a||void 0===a||a()}}(t,i,e,n)})))}function G(e,t){return s(t)?W(e,t,1):W(e,1)}class Z{constructor(){this.queue=[]}enqueue(e){this.queue.push(e)}dequeue(){return this.queue.shift()}size(){return this.queue.length}}t.TE=void 0,(U=t.TE||(t.TE={}))[U.fail=-1]="fail",U[U.success=0]="success",t.JC=class{constructor(e){this.options=e,this.eventEmitter=new o.EventEmitter;const t={status:0,data:null===e||void 0===e?void 0:e.initData};this.source=new i.BehaviorSubject(t)}start(){return this.assembleChain(),this.emitLifecycleStatus("active"),new Promise((e=>{this.source.subscribe({next:t=>{e(t),this.emitLifecycleStatus("completed",t)},error:t=>{var n;const i=null===(n=this.options)||void 0===n?void 0:n.onError;if(!i)throw t;i(t),e(t)}})}))}serialNext(e){e.forEach((e=>{this.source=this.source.pipe(G((t=>this.executeTask(e,t))))}))}parallellNext(e){this.parallelNext(e)}parallelNext(e){this.source=this.source.pipe(G((t=>{const n=this.assembleParallelTasks(e,t);return i.forkJoin(n)})))}iif(e,t,n){this.source=this.source.pipe(G((o=>i.iif((()=>e(o)),t.getRxSource(o),n?n.getRxSource(o):i.of(o)))))}getRxSource(e){return this.source.next(e),this.source}emitLifecycleStatus(e,...t){this.eventEmitter.emit(e,...t)}assembleChain(){}assembleParallelTasks(e,t){return e.map((e=>this.executeTask(e,t)))}executeTask(e,t){return r(this,void 0,void 0,(function*(){let n;if(-1===t.status)return t;try{n=yield e.run(t)}catch(i){if(n={status:-1,data:i},!e.onError)throw i;e.onError(i)}return n}))}},t.Wf=class{constructor(e=new Z){this.eventEmitter=new o.EventEmitter,this.pausedKeys=new Set,this.isExecuting=!1,this.waitingQueue=e}add(e,t){this.waitingQueue.enqueue(e,t),e.emitLifecycleStatus("waiting"),this.isNeedWait()||this.executeNextJob()}pause(e){const t=null!==e&&void 0!==e?e:this.generatePauseKey();return this.pausedKeys.add(t),t}resume(e){const t=this.pausedKeys.delete(e);return 0===this.pausedKeys.size&&this.executeNextJob(),t}size(){return this.waitingQueue.size()}done(){return new Promise((e=>{this.eventEmitter.on("done",(()=>{e()}))}))}isNeedWait(){return this.isExecuting||this.isPaused}executeJob(e){return r(this,void 0,void 0,(function*(){this.isExecuting=!0,yield e.start(),this.isExecuting=!1,this.isPaused||this.executeNextJob()}))}executeNextJob(){return r(this,void 0,void 0,(function*(){const e=this.waitingQueue.dequeue();e?this.executeJob(e):this.eventEmitter.emit("done")}))}generatePauseKey(){return Math.random().toString(36).substr(2,5)}get isPaused(){return this.pausedKeys.size>0}}},"../node_modules/@tencent/tdocs_fps/lib/index.js":function(e,t,n){"use strict";function i(e,t,n,i){var o=window.devicePixelRatio||1,r=Math.round(n*o),s=Math.round(i*o);e.setAttribute("width",String(r)),e.setAttribute("height",String(s)),e.style.width=r/o+"px",e.style.height=s/o+"px",t.scale(o,o)}function o(e){return e.clientX?{clientX:e.clientX,clientY:e.clientY}:{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}}n.d(t,{T:function(){return s}});var r=function(){function e(){var e=this;this._visiable=!1,this._left=30,this._top=30,this._width=50,this._height=50,this._dragCacheOffset={x:0,y:0},this._down=function(t){var n=o(t),i=n.clientX,r=n.clientY;e._dragCacheOffset.x=i-e._canvas.offsetLeft,e._dragCacheOffset.y=r-e._canvas.offsetTop,document.body.addEventListener("mousemove",e._move),document.body.addEventListener("touchmove",e._move),document.body.addEventListener("mouseup",e._up),document.body.addEventListener("touchend",e._up)},this._move=function(t){var n=o(t),i=n.clientX,r=n.clientY;e._left=i-e._dragCacheOffset.x,e._top=r-e._dragCacheOffset.y,e._canvas.style.left=e._left+"px",e._canvas.style.top=e._top+"px"},this._up=function(){e._dragCacheOffset.x=0,e._dragCacheOffset.y=0,document.body.removeEventListener("mousemove",e._move),document.body.removeEventListener("touchmove",e._move),document.body.removeEventListener("mouseup",e._up),document.body.removeEventListener("touchend",e._up)}}return Object.defineProperty(e.prototype,"visiable",{get:function(){return this._visiable},enumerable:!1,configurable:!0}),e.prototype.show=function(){this._visiable||(this._init(),this._visiable=!0)},e.prototype.hide=function(){this._visiable&&(this._visiable=!1,this._dispose())},e.prototype.draw=function(e){var t=1e3/e;this._draw(t)},e.prototype._draw=function(e){this._ctx.clearRect(0,0,this._width,this._height),this._ctx.drawImage(this._backCanvas,0,0,this._width*devicePixelRatio,this._height*devicePixelRatio,1,0,this._width,this._height),this._ctx.clearRect(0,0,1,this._height),this._ctx.save(),this._ctx.strokeStyle="#2ec3f7",this._ctx.translate(.5,0),this._ctx.beginPath(),this._ctx.moveTo(0,this._height),this._ctx.lineTo(0,(1-Math.min(120,e)/120)*this._height),this._ctx.closePath(),this._ctx.stroke(),this._ctx.restore(),this._backCtx.clearRect(0,0,this._width,this._height),this._backCtx.drawImage(this._canvas,0,0,this._width*devicePixelRatio,this._height*devicePixelRatio,0,0,this._width,this._height),this._ctx.save(),this._ctx.strokeStyle="#ff0000",this._ctx.beginPath(),this._ctx.moveTo(0,this._height/2),this._ctx.lineTo(this._width,this._height/2),this._ctx.closePath(),this._ctx.stroke(),this._ctx.restore()},e.prototype._init=function(){var e,t,n;this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._backCanvas=document.createElement("canvas"),this._backCtx=this._backCanvas.getContext("2d"),e=this._canvas,t=this._left,n=this._top,Object.assign(e.style,{position:"absolute",backgroundColor:"#d8f5ff",left:t+"px",top:n+"px",zIndex:1e6}),i(this._canvas,this._ctx,this._width,this._height),i(this._backCanvas,this._backCtx,this._width,this._height),this._canvas.addEventListener("mousedown",this._down),this._canvas.addEventListener("touchstart",this._down),document.body.appendChild(this._canvas)},e.prototype._dispose=function(){this._canvas=null,this._ctx=null,this._canvas.removeEventListener("mousedown",this._down),this._canvas.removeEventListener("touchstart",this._down),document.body.removeChild(this._canvas)},e}(),s=function(){function e(e){var t=this;void 0===e&&(e={}),this._running=!1,this._last=0,this._timer=0,this._record=[],this._threshold=Number.MAX_SAFE_INTEGER,this._maxInterval=0,this._box=new r,this._listeners=[],this._run=function(){var e=Date.now()-t._last;t._record.push(e),t._shouldDispatch(),t._box.visiable&&t._box.draw(e),t._last=Date.now(),t._timer=requestAnimationFrame(t._run)},void 0!==e.cycle&&(this._threshold=e.cycle/16>>0),void 0!==e.maxInterval&&(this._maxInterval=e.maxInterval)}return e.prototype.start=function(){this._running?console.warn("已经启动 fps 监听"):(this._running=!0,this._lastDispatch=Date.now(),this._last=Date.now(),this._timer=requestAnimationFrame(this._run))},e.prototype.end=function(){window.cancelAnimationFrame(this._timer),this._running=!1,this._record.length>0&&(this._dispatch(),this._record.length=0)},e.prototype.visiable=function(){this._box.show()},e.prototype.invisible=function(){this._box.hide()},e.prototype.addListener=function(e){this._hasListener(e)||this._listeners.push(e)},e.prototype.removeListener=function(e){this._hasListener(e)&&(this._listeners=this._listeners.filter((function(t){return t!==e})))},e.prototype._shouldDispatch=function(){(0!==this._maxInterval&&Date.now()-this._lastDispatch>this._maxInterval||this._record.length>=this._threshold)&&this._dispatch()},e.prototype._hasListener=function(e){return!this._listeners.every((function(t){return t!==e}))},e.prototype._dispatch=function(){var e=this;this._record.shift(),this._listeners.forEach((function(t){t(e._record)})),this._record.length=0,this._lastDispatch=Date.now()},e}()},"../node_modules/@tencent/tdocs_support_bridge/lib/index.js":function(e,t,n){"use strict";n.d(t,{Jn:function(){return s}});var i=n("../node_modules/@tencent/tdocs_fps/lib/index.js"),o=n("../node_modules/@tencent/docs-user-agent/dist/index.js"),r=n.n(o),s=(window.mqq&&window.mqq.android&&window._mqqWebViewJSInterface&&window._mqqWebViewJSInterface.invoke,new(function(){function e(){this._cacheFps={fps:null,isDefault:!1,callback:null},window.mqq||console.warn("没有 mqq，无法使用 support bridge！")}return e.prototype.sendEvent=function(e,t){r().isTencentDocsApp&&this._invokeNative("docx","webEvent",JSON.stringify({type:t,namespace:e,offlineStatus:String(!!window.__isOfflinePkg)}))},e.prototype.sendFps=function(e,t){window.mqq&&r().isTencentDocsApp&&this._sendFps(e,t)},e.prototype.startFps=function(e,t){window.mqq&&r().isTencentDocsApp&&(this._fpsResourceFree(),t||((t=new i.T({cycle:1e3,maxInterval:2e3})).start(),this._cacheFps.isDefault=!0),this._cacheFps.fps=t,this._cacheFps.callback=this._sendFps.bind(this,e),t.addListener(this._cacheFps.callback))},e.prototype.endFps=function(){window.mqq&&r().isTencentDocsApp&&this._fpsResourceFree()},e.prototype.invoke=function(e,t){if(r().isTencentDocsApp)try{Object.assign(t,{offlineStatus:String(!!window.__isOfflinePkg)});var n=JSON.stringify(t);this._invokeNative("docx",e,n)}catch(i){console.error("JSON stringify 失败",i)}},e.prototype._sendFps=function(e,t){this._invokeNative("docx","webFps",JSON.stringify({fps:t,namespace:e,offlineStatus:String(!!window.__isOfflinePkg)}))},e.prototype._fpsResourceFree=function(){this._cacheFps.callback&&(this._cacheFps.fps.removeListener(this._cacheFps.callback),this._cacheFps.callback=null),this._cacheFps.isDefault?(this._cacheFps.fps.invisible(),this._cacheFps.fps.end(),this._cacheFps.fps=null,this._cacheFps.isDefault=!1):this._cacheFps.fps=null},e.prototype._invokeNative=function(e,t,n){var i;null===(i=window.mqq)||void 0===i||i.invoke("docx",t,n)},e.prototype._invokeNativeAndroid=function(e,t,n){var i,o="jsbridge://"+encodeURIComponent(e)+"/"+encodeURIComponent(t)+"?p="+encodeURIComponent(n);null===(i=window._mqqWebViewJSInterface)||void 0===i||i.invoke(o)},e}()))},"../node_modules/@tencent/txdoc_dayjs/dayjs.min.js":function(e){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",i="hour",o="day",r="week",s="month",a="quarter",l="year",d=/^(\d{4})[-/](\d{1,2})[-/](\d{0,2})([^0-9]+(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?)?(\+\d{1,4})?$/,c=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},h={s:u,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+u(i,2,"0")+":"+u(o,2,"0")},m:function(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,s),o=t-i<0,r=e.clone().add(n+(o?-1:1),s);return Number(-(n+(t-i)/(o?i-r:r-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(d){return{M:s,y:l,w:r,d:o,h:i,m:n,s:t,ms:e,Q:a}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f="en",m={};m[f]=g;var p=function(e){return e instanceof b},v=function(e,t,n){var i;if(!e)return f;if("string"==typeof e)m[e]&&(i=e),t&&(m[e]=t,i=e);else{var o=e.name;m[o]=e,i=o}return n||(f=i),i},I=function(e,t,n){if(p(e))return e.clone();var i=t?"string"==typeof t?{format:t,pl:n}:t:{};return i.date=e,new b(i)},y=h;y.l=v,y.i=p,y.w=function(e,t){return I(e,{locale:t.$L,utc:t.$u})};var _=function(e){var t=e.date,n=e.utc,i=e.autoIncrease;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(d);if(o){if(i)return n?new Date(Date.UTC(o[1],o[2]-1,o[3]||1,o[5]||0,o[6]||0,o[7]||0,o[8]||0)):new Date(o[1],o[2]-1,o[3]||1,o[4]||0,o[5]||0,o[6]||0,o[7]||0);var r=function(){var e=new Date(arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5],arguments.length<=6?void 0:arguments[6]);return e.getFullYear()!==(arguments.length<=1?void 0:arguments[1])||e.getMonth()!==(arguments.length<=2?void 0:arguments[2])||e.getDate()!==(arguments.length<=3?void 0:arguments[3])||e.getHours()!==(arguments.length<=4?void 0:arguments[4])||e.getMinutes()!==(arguments.length<=5?void 0:arguments[5])||e.getSeconds()!==(arguments.length<=6?void 0:arguments[6])?null:e}(t,Number(o[1]),Number(o[2]-1),Number(o[3]||1),Number(o[5]||0),Number(o[6]||0),Number(o[7]||0));return r||new Date(NaN)}}return new Date(t)},b=function(){function d(e){this.$L=this.$L||v(e.locale,null,!0),this.parse(e)}var u=d.prototype;return u.parse=function(e){this.$d=_(e),this.init()},u.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},u.$utils=function(){return y},u.isValid=function(){return!("Invalid Date"===this.$d.toString())},u.isSame=function(e,t){var n=I(e);return this.startOf(t)<=n&&n<=this.endOf(t)},u.isAfter=function(e,t){return I(e)<this.startOf(t)},u.isBefore=function(e,t){return this.endOf(t)<I(e)},u.$g=function(e,t,n){return y.u(e)?this[t]:this.set(n,e)},u.year=function(e){return this.$g(e,"$y",l)},u.month=function(e){return this.$g(e,"$M",s)},u.day=function(e){return this.$g(e,"$W",o)},u.date=function(e){return this.$g(e,"$D","date")},u.hour=function(e){return this.$g(e,"$H",i)},u.minute=function(e){return this.$g(e,"$m",n)},u.second=function(e){return this.$g(e,"$s",t)},u.millisecond=function(t){return this.$g(t,"$ms",e)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(e,a){var d=this,c=!!y.u(a)||a,u=y.p(e),h=function(e,t){var n=y.w(d.$u?Date.UTC(d.$y,t,e):new Date(d.$y,t,e),d);return c?n:n.endOf(o)},g=function(e,t){return y.w(d.toDate()[e].apply(d.toDate(),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),d)},f=this.$W,m=this.$M,p=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case l:return c?h(1,0):h(31,11);case s:return c?h(1,m):h(0,m+1);case r:var I=this.$locale().weekStart||0,_=(f<I?f+7:f)-I;return h(c?p-_:p+(6-_),m);case o:case"date":return g(v+"Hours",0);case i:return g(v+"Minutes",1);case n:return g(v+"Seconds",2);case t:return g(v+"Milliseconds",3);default:return this.clone()}},u.endOf=function(e){return this.startOf(e,!1)},u.$set=function(r,a){var d,c=y.p(r),u="set"+(this.$u?"UTC":""),h=(d={},d[o]=u+"Date",d.date=u+"Date",d[s]=u+"Month",d[l]=u+"FullYear",d[i]=u+"Hours",d[n]=u+"Minutes",d[t]=u+"Seconds",d[e]=u+"Milliseconds",d)[c],g=c===o?this.$D+(a-this.$W):a;if(c===s||c===l){var f=this.clone().set("date",1);f.$d[h](g),f.init(),this.$d=f.set("date",Math.min(this.$D,f.daysInMonth())).toDate()}else h&&this.$d[h](g);return this.init(),this},u.set=function(e,t){return this.clone().$set(e,t)},u.get=function(e){return this[y.p(e)]()},u.add=function(e,a){var d,c=this;e=Number(e);var u=y.p(a),h=function(t){var n=I(c);return y.w(n.date(n.date()+Math.round(t*e)),c)};if(u===s)return this.set(s,this.$M+e);if(u===l)return this.set(l,this.$y+e);if(u===o)return h(1);if(u===r)return h(7);var g=(d={},d[n]=6e4,d[i]=36e5,d[t]=1e3,d)[u]||1,f=this.valueOf()+e*g;return y.w(f,this)},u.subtract=function(e,t){return this.add(-1*e,t)},u.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=y.z(this),o=this.$locale(),r=this.$H,s=this.$m,a=this.$M,l=o.weekdays,d=o.months,u=function(e,i,o,r){return e&&(e[i]||e(t,n))||o[i].substr(0,r)},h=function(e){return y.s(r%12||12,e,"0")},g=o.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:y.s(a+1,2,"0"),MMM:u(o.monthsShort,a,d,3),MMMM:d[a]||d(this,n),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:u(o.weekdaysMin,this.$W,l,2),ddd:u(o.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:y.s(r,2,"0"),h:h(1),hh:h(2),a:g(r,s,!0),A:g(r,s,!1),m:String(s),mm:y.s(s,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:i};return n.replace(c,(function(e,t){return t||f[e]||i.replace(":","")}))},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(e,d,c){var u,h=y.p(d),g=I(e),f=6e4*(g.utcOffset()-this.utcOffset()),m=this-g,p=y.m(this,g);return p=(u={},u[l]=p/12,u[s]=p,u[a]=p/3,u[r]=(m-f)/6048e5,u[o]=(m-f)/864e5,u[i]=m/36e5,u[n]=m/6e4,u[t]=m/1e3,u)[h]||m,c?p:y.a(p)},u.daysInMonth=function(){return this.endOf(s).$D},u.$locale=function(){return m[this.$L]},u.locale=function(e,t){if(!e)return this.$L;var n=this.clone();return n.$L=v(e,t,!0),n},u.clone=function(){return y.w(this.toDate(),this)},u.toDate=function(){return new Date(this.$d)},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},d}();return I.prototype=b.prototype,I.extend=function(e,t){return e(t,b,I),I},I.locale=v,I.isDayjs=p,I.unix=function(e){return I(1e3*e)},I.en=m[f],I.Ls=m,I}()},"../node_modules/@tencent/wdocs-utils/dist/index.es.js":function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o,r=function(){function e(){var t,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=[],(n="hooks")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i;var o=XMLHttpRequest.prototype.open,r=this.hooks;XMLHttpRequest.prototype.open=function(e,t){var n={method:e,url:t};r.forEach((function(e){n=e(n)}));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];o.call.apply(o,[this,n.method,n.url].concat(s))}}var t,n,o;return t=e,(n=[{key:"use",value:function(e){-1===this.hooks.indexOf(e)&&this.hooks.push(e)}},{key:"eject",value:function(e){this.hooks.splice(this.hooks.indexOf(e),1)}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();new r;function s(){return"undefined"!==typeof window}function a(){return"undefined"!==typeof n.g}s()?window:a()?n.g:s||"undefined"===typeof self?a()&&n.g.describe:self,function(e){e.xsrf="TOK",e.devRouteId="dev_route_id",e.devOaName="dev_oa_name",e.fd="fd",e.envId="env_id",e.sid="SID",e.sids="SID_S",e.uid="uid",e.uidKey="uid_key",e.uin="uin",e.loginTime="loginTime",e.hasBeenLogin="has_been_login",e.adtag="adtag"}(o||(o={})),window.location.hostname},"../node_modules/@tencent/weblog-browser/dist/config.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GLOBAL_VAR=t.STORAGE_KEY_PREFIX=t.CDN_PATH_PREFIX=void 0,t.CDN_PATH_PREFIX="https://weblog.cdn-go.cn/sdk/latest/",t.STORAGE_KEY_PREFIX="wl",t.GLOBAL_VAR="log"},"../node_modules/@tencent/weblog-browser/dist/index.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("../node_modules/@tencent/weblog-browser/dist/logger-proxy-config.js");t.default=i.configSDK("https://weblog.cdn-go.cn/sdk/latest/browser/browser.js")},"../node_modules/@tencent/weblog-browser/dist/logger-proxy-config.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.configSDK=t.initGlobalSingle=t.ProxyBrowserClient=t.LOADER_KEY=void 0;var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/weblog-utils/dist/index.js"),r=n("../node_modules/@tencent/weblog-browser/dist/config.js"),s=n("../node_modules/@tencent/weblog-browser/dist/remote-plugins.js");t.LOADER_KEY="loader";var a=function(){function e(e){this.isProxy=!0,this.inited=!1,this.buffers=[],this.sdkUrl=e,this.namespace=t.LOADER_KEY}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("debug",e,!0)},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("log",e,!0)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("info",e,!0)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("warn",e,!0)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("error",e,!0)},e.prototype.init=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.inited||(this.inited=!0,s.injectScript(this.sdkUrl,r.GLOBAL_VAR).then((function(n){var o,r,s;e.realSdk=n,n.init.apply(n,i.__spread(t));try{for(var a=i.__values(e.buffers),l=a.next();!l.done;l=a.next()){var d=l.value,c=n.getLogger(d.n),u=c[d.f].apply(c,i.__spread(JSON.parse(d.a)));null===(s=d.r)||void 0===s||s.call(d,u)}}catch(h){o={error:h}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}})))},e.prototype.identify=function(e,t){this.invoke("identify",[e,t])},e.prototype.report=function(e,t){return this.invokePromise("report",[e,t])},e.prototype.query=function(e){return this.invokePromise("query",[e])},e.prototype.loadAsset=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.invoke("loadAsset",e)},e.prototype.getLogger=function(e){return Object.create(this,{namespace:{value:t.LOADER_KEY+"_"+e}})},e.prototype.invoke=function(e,t,n,r){try{if(n&&t.push(Date.now()),this.realSdk){var s=this.realSdk.getLogger(this.namespace),a=s[e].apply(s,i.__spread(t));null===r||void 0===r||r(a)}this.buffers.push({f:e,n:this.namespace,a:o.safeStringify(t),r:r})}catch(l){console.error(l)}},e.prototype.invokePromise=function(e,t,n){var i=this;return new Promise((function(o){i.invoke(e,t,n,o)}))},e}();function l(e,t){var n,i=null!==(n=window[e])&&void 0!==n?n:t();return window[e]=i,i}t.ProxyBrowserClient=a,t.initGlobalSingle=l,t.configSDK=function(e){return l(r.GLOBAL_VAR,(function(){return new a(e)}))}},"../node_modules/@tencent/weblog-browser/dist/remote-plugins.js":function(e,t,n){var i=this;Object.defineProperty(t,"__esModule",{value:!0}),t.injectScript=t.getBrowserRemotePlugin=t.REMOTE_PLUGINS_URL=void 0;var o,r=n("./node_modules/tslib/tslib.es6.js"),s=n("../node_modules/@tencent/weblog-browser/dist/config.js");function a(e,t){return new Promise((function(n){var i=document.createElement("script");i.async=!0,i.src=e,i.onload=function(){var e=t.split(".").reduce((function(e,t){return e[t]}),window);n(e)},(document.head||document.body).appendChild(i)}))}t.REMOTE_PLUGINS_URL=s.CDN_PATH_PREFIX+"browser-remote-plugins/browser-remote-plugins.js",t.getBrowserRemotePlugin=function(e){return r.__awaiter(i,void 0,void 0,(function(){var n;return r.__generator(this,(function(i){switch(i.label){case 0:return o?[2,o]:[4,a(t.REMOTE_PLUGINS_URL,"window.WebLog.BrowserRemotePlugins")];case 1:return n=i.sent(),[2,o=o||n&&new n(e)]}}))}))},t.injectScript=a},"../node_modules/@tencent/weblog-super-logger/dist/opentelemetry-logger.js":function(e,t,n){var i=n("./node_modules/tslib/tslib.es6.js").__importDefault(n("../node_modules/@tencent/weblog-browser/dist/index.js")),o=function(){function e(){this.opentelemetryLogger=i.default.getLogger("xhr")}return e.prototype.xlog=function(e){try{var t=e.attributes,n=e.traceId;this.opentelemetryLogger.info({traceId:n,method:t["http.method"],url:t["http.url"],status:t["http.status_code"]})}catch(i){}},e}();t.ZP=new o},"../node_modules/@tencent/weblog-super-logger/dist/raven-logger.js":function(e,t,n){var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/weblog-utils/dist/index.js"),r=i.__importDefault(n("../node_modules/@tencent/weblog-browser/dist/index.js")),s=function(){function e(){this.ravenLogger=r.default.getLogger("raven")}return e.prototype.xlog=function(e){var t,n;try{var i=e.project,r=e.release,s=e.message,a=e.exception;e.event_id||(e.event_id=o.getUUID());var l={project:i,release:r,event_id:e.event_id},d=(null===(n=null===(t=null===a||void 0===a?void 0:a.values)||void 0===t?void 0:t[0])||void 0===n?void 0:n.value)||"";d+=(a.values[0].stacktrace.frames||[]).reduceRight((function(e,t){var n=t.colno,i=t.lineno;return e+"\n at "+t.function+" "+t.filename+":"+i+":"+n}),""),this.ravenLogger.error(s||d,l)}catch(c){}return e},e}();t.ZP=new s},"../node_modules/@tencent/weblog-types/dist/IEvent.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EventName=void 0,function(e){e.INSERT_LOG="insert_log",e.GET_CONFIG="get_config"}(t.EventName||(t.EventName={}))},"../node_modules/@tencent/weblog-types/dist/IIntegration.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsHook=void 0,function(e){e[e.BeforeInvokeLog=0]="BeforeInvokeLog"}(t.IntegrationsHook||(t.IntegrationsHook={}))},"../node_modules/@tencent/weblog-types/dist/LogLevel.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,function(e){e[e.DEBUG=1]="DEBUG",e[e.LOG=1]="LOG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.FATAL=5]="FATAL"}(t.LogLevel||(t.LogLevel={}))},"../node_modules/@tencent/weblog-types/dist/index.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsHook=t.LogLevel=t.EventName=void 0;var i=n("../node_modules/@tencent/weblog-types/dist/IEvent.js");Object.defineProperty(t,"EventName",{enumerable:!0,get:function(){return i.EventName}});var o=n("../node_modules/@tencent/weblog-types/dist/LogLevel.js");Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return o.LogLevel}});var r=n("../node_modules/@tencent/weblog-types/dist/IIntegration.js");Object.defineProperty(t,"IntegrationsHook",{enumerable:!0,get:function(){return r.IntegrationsHook}})},"../node_modules/@tencent/weblog-utils/dist/ajax.js":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxPost=t.ajaxGet=t.ajax=void 0;var n=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")};function i(e,t,n){if(void 0===n&&(n="GET"),e.setRequestHeader)for(var i in"GET"!==n&&"POST"!==n||e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t=t||{})t.hasOwnProperty(i)&&e.setRequestHeader(i,t[i])}var o=function(e,t){void 0===t&&(t={withCredentials:!1}),e.withCredentials=!!t.withCredentials};function r(e){return new Promise((function(t,r){var s=n(e.param||{}),l=e.url;l+=(l.indexOf("?")>=0?"&":"?")+s;var d=a(e,{success:function(e){t(e)},error:function(e){r(e)}});d&&(d.open("GET",l,!0),o(d,e.xhrFields),i(d,e.headers||{},"GET"),d.send())}))}function s(e){return new Promise((function(t,r){var s=e.url,l="",d=a(e,{success:function(e){t(e)},error:function(e){r(e)}});d&&(d.open("POST",s,!0),"json"===e.contentType?(l=JSON.stringify(e.param),d.setRequestHeader("Content-Type","application/json")):(l=n(e.param||{}),o(d,e.xhrFields),i(d,e.headers||{},"POST")),d.send(l))}))}function a(e,t){var n=new XMLHttpRequest;if(!n)throw new Error("XMLHttp is not defined");var i=e.timeout,o=e.dataType,r=void 0===o?"json":o;try{i&&(n.timeout=i)}catch(s){}return n.onreadystatechange=function(){var e,i;if(4===n.readyState)if(200===n.status){var o=n.responseText;"json"===r&&(o=JSON.parse(n.responseText)),null===(e=null===t||void 0===t?void 0:t.success)||void 0===e||e.call(t,o)}else null===(i=null===t||void 0===t?void 0:t.error)||void 0===i||i.call(t,{errCode:n.status})},n.onerror=function(){var e;null===(e=null===t||void 0===t?void 0:t.error)||void 0===e||e.call(t,{errCode:-1})},n.ontimeout=function(){var e;null===(e=null===t||void 0===t?void 0:t.error)||void 0===e||e.call(t,{errCode:-2})},n}t.ajaxGet=r,t.ajaxPost=s,t.ajax=function(e){switch(e.ajaxType){case"GET":r(e);break;case"POST":s(e)}}},"../node_modules/@tencent/weblog-utils/dist/index.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/tslib/tslib.es6.js");i.__exportStar(n("../node_modules/@tencent/weblog-utils/dist/misc.js"),t),i.__exportStar(n("../node_modules/@tencent/weblog-utils/dist/ajax.js"),t),i.__exportStar(n("../node_modules/@tencent/weblog-utils/dist/sdk-utils.js"),t)},"../node_modules/@tencent/weblog-utils/dist/misc.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=t.safeStringify=t.isObject=t.isType=t.getGlobalObject=void 0;var i={};function o(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function r(e){return o("Object",e)}t.getGlobalObject=function(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i},t.isType=o,t.isObject=r,t.safeStringify=function(e){var t=new Set,n="Circular";try{return JSON.stringify(e,(function(e,n){if(r(n)||Array.isArray(n)){if(t.has(n))return'["Circular"]';t.add(n)}return n}))}catch(i){return console.error(i),r(e)?'{Object:["Circular"]}':Array.isArray(e)?'["Circular"]':n}},t.getUUID=function(){if("undefined"===typeof crypto&&"undefined"===typeof msCrypto)return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));var e=new Uint16Array(8);crypto.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return t(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])}},"../node_modules/@tencent/weblog-utils/dist/sdk-utils.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.queryAndListenCurrentSessionInsertLog=void 0;var i=n("./node_modules/tslib/tslib.es6.js"),o=n("../node_modules/@tencent/weblog-types/dist/index.js");t.queryAndListenCurrentSessionInsertLog=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=e.on(o.EventName.INSERT_LOG,(function(e){n.push(e)})),[4,e.query()];case 1:return i.sent().concat(n).forEach(t),r(),n=[],[2,e.on(o.EventName.INSERT_LOG,t)]}}))}))}},"../node_modules/@tencent/wedocs-icons/esm/components/filetype-tdoc-tform.js":function(e,t,n){"use strict";var i=n("react"),o=n("../node_modules/@tencent/wedocs-icons/esm/icon.js"),r={tag:"svg",attrs:{fill:"none",viewBox:"0 0 32 32",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"url(#filetype-tdoc-tform_paint0_linear)",d:"M6.96 9.82c0-1 .8-1.8 1.8-1.8H29.2c1 0 1.8.8 1.8 1.8V29.2c0 1-.8 1.8-1.8 1.8H8.76c-1 0-1.8-.8-1.8-1.8V9.82z",fillRule:"evenodd",clipRule:"evenodd"}},{tag:"g",attrs:{filter:"url(#filetype-tdoc-tform_filter0_i)"},children:[{tag:"path",attrs:{fill:"url(#filetype-tdoc-tform_paint1_linear)",d:"M2 2.8C2 1.8 2.8 1 3.8 1h21.4c1 0 1.8.8 1.8 1.8V29c0 1.1.9 2 2 2H3.8c-1 0-1.8-.8-1.8-1.8V2.8z"}}]},{tag:"g",attrs:{filter:"url(#filetype-tdoc-tform_filter1_d)"},children:[{tag:"path",attrs:{fill:"#FFFBE0",d:"M8.02 18.51l2.12-2.12 3.18 3.18 7.07-7.07 2.13 2.12-9.2 9.2-5.3-5.31z"}}]},{tag:"defs",attrs:{},children:[{tag:"linearGradient",attrs:{id:"filetype-tdoc-tform_paint0_linear",x1:30.97,x2:26.35,y1:15.28,y2:15.28,gradientUnits:"userSpaceOnUse"},children:[{tag:"stop",attrs:{stopColor:"#EB9000"}},{tag:"stop",attrs:{offset:1,stopColor:"#EB7E00"}}]},{tag:"linearGradient",attrs:{id:"filetype-tdoc-tform_paint1_linear",x1:7.98,x2:-14.08,y1:-9.72,y2:17.91,gradientUnits:"userSpaceOnUse"},children:[{tag:"stop",attrs:{stopColor:"#FFCD00"}},{tag:"stop",attrs:{offset:1,stopColor:"#FFAB00"}}]},{tag:"filter",attrs:{id:"filetype-tdoc-tform_filter0_i",width:28,height:30,x:2,y:1,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},children:[{tag:"feFlood",attrs:{result:"BackgroundImageFix",floodOpacity:0}},{tag:"feBlend",attrs:{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}},{tag:"feColorMatrix",attrs:{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}},{tag:"feOffset",attrs:{dx:1}},{tag:"feGaussianBlur",attrs:{stdDeviation:.5}},{tag:"feComposite",attrs:{in2:"hardAlpha",k2:-1,k3:1,operator:"arithmetic"}},{tag:"feColorMatrix",attrs:{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.24 0"}},{tag:"feBlend",attrs:{in2:"shape",result:"effect1_innerShadow"}}]},{tag:"filter",attrs:{id:"filetype-tdoc-tform_filter1_d",width:16.5,height:13.31,x:7.02,y:12.5,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},children:[{tag:"feFlood",attrs:{result:"BackgroundImageFix",floodOpacity:0}},{tag:"feColorMatrix",attrs:{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}},{tag:"feOffset",attrs:{dy:1}},{tag:"feGaussianBlur",attrs:{stdDeviation:.5}},{tag:"feColorMatrix",attrs:{values:"0 0 0 0 0.510162 0 0 0 0 0.263303 0 0 0 0 0 0 0 0 0.2 0"}},{tag:"feBlend",attrs:{in2:"BackgroundImageFix",result:"effect1_dropShadow"}},{tag:"feBlend",attrs:{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}}]}]}]},s=(0,i.forwardRef)((function(e,t){return(0,i.createElement)(o.A,Object.assign({},e,{id:"filetype-tdoc-tform",ref:t,icon:r}))}));s.displayName="FiletypeTdocTform",t.Z=s},"../node_modules/@tencent/wedocs-icons/esm/components/loading-spinner.js":function(e,t,n){"use strict";var i=n("react"),o=n("../node_modules/@tencent/wedocs-icons/esm/icon.js"),r={tag:"svg",attrs:{style:{margin:"auto"},display:"block",preserveAspectRatio:"xMidYMid",viewBox:"0 0 100 100",width:"1em",height:"1em"},children:[{tag:"circle",attrs:{cx:50,cy:50,r:30,fill:"none",stroke:"#dae9ff80",strokeWidth:10}},{tag:"circle",attrs:{cx:50,cy:50,r:30,fill:"none",stroke:"#4892fe",transform:"rotate(708.95 50 50)",strokeLinecap:"round",strokeWidth:10},children:[{tag:"animateTransform",attrs:{attributeName:"transform",dur:"1.25s",keyTimes:"0;0.5;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;180 50 50;720 50 50"}},{tag:"animate",attrs:{attributeName:"stroke-dasharray",dur:"1.25s",keyTimes:"0;0.5;1",repeatCount:"indefinite",values:"18.84955592153876 169.64600329384882;75.39822368615503 113.09733552923254;18.84955592153876 169.64600329384882"}}]}]},s=(0,i.forwardRef)((function(e,t){return(0,i.createElement)(o.A,Object.assign({},e,{id:"loading-spinner",ref:t,icon:r}))}));s.displayName="LoadingSpinner",t.Z=s},"../node_modules/@tencent/wedocs-icons/esm/icon.js":function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var i=n("react"),o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},s=(0,i.forwardRef)((function(e,t){var n=e.icon,i=e.id,s=e.className,l=r(e,["icon","id","className"]),d=("wedocs-icon wedocs-icon-"+i+" "+(s||"")).trim();return a(n,""+i,o({ref:t,className:d},l))}));function a(e,t,n){return(0,i.createElement)(e.tag,o(o({key:t},e.attrs),n),(e.children||[]).map((function(n,i){return a(n,t+"-"+e.tag+"-"+i)})))}s.displayName="WefeIcon"},"../node_modules/@tencent/docs-design-resources/history/png@2x/form_share_weixin.png":function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAC3FJREFUeAHt3U+LnVcdwPHz3Jm0waSx7cKiBRtEokERQfEtCL4AdetCXKlbBRcigkvBlULRrb4EX4EacVMqxaKStBaxyIzEkdSMuddrpSXh6UzOnHvuPff8zmdATO48/36f3+NXJtB0Wq2/ki8CBIYUWAw5taEJEHhbQAC8CAQGFhCAgZdvdAIC4B0gMLCAAAy8fKMTEADvAIGBBQRg4OUbnYAAeAcIDCwgAAMv3+gEBMA7QGBgAQEYePlGJyAA3gECAwsIwMDLNzoBAfAOEBhYQAAGXr7RCQiAd4DAwAICMPDyjU5AALwDBAYWEICBl290AgLgHSAwsIAADLx8oxMQAO8AgYEFBGDg5RudgAB4BwgMLCAAAy/f6AQEwDtAYGABARh4+UYnIADeAQIDCxyGmP30KK3uvpzS/aOUVqchRgozxMGVND33hTDjRBuk7wDcez0t77yY0vGt5F9yvJ+v5nTlekrrPU3Xv7afDzj4U/X7I8Dxr9Lypa+n1dFv/I9/z1/iaVqk1e2f7PlTjvl4fQbg5NW0/MMP0urBW2NurcOpRWA/l9ZlAJZ//lFaLe/vp6inOlNABM6kafaN/gJw96W0OvljMzA33kxABDbzq312dwFY/eN3tQ1cb8cCIrBj8HNu110A0r/fPGcc3+pFQAT2Y1PdBcAf/O3Hi1PjKUSghuJm1+guAJuN6+x9ExCBthsRgLb+7r4WEIF2r4EAtLN354cEROAhjB3+UgB2iO1W5wuIwPk+2/iuAGxD1TWLBUSgmK7oRAEoYnPSNgVEYJu6j15bAB718Ls9ERCB3SxCAHbj7C4FAiJQgHbBUwTggmAO362ACGzXWwC26+vqFQREoALiGZcQgDNgfLxfAiKwnX0IwHZcXXULAiJQH1UA6pu64hYFRKAurgDU9XS1HQiIQD1kAahn6Uo7FBCBOtgCUMfRVRoIiMDm6AKwuaErNBQQgc3wBWAzP2fvgYAIlC9BAMrtnLlHAiJQtgwBKHNz1h4KiMDFlyIAFzdzxh4LiMDFliMAF/NydAcCIpC/JAHIt3JkRwIikLcsAchzclSHAiLw+KUJwOONHNGxgAicvzwBON/HdwMIiMDZSxSAs218J5CACLz3MgXgvV18GlBABOZLFYC5iU8CC4jAo8sVgEc9/G4Agf9H4McDTPr4EQXg8UaOCCgwTQdpdVsEBCDgy22kPAERSEkA8t4VRwUVGD0CAhD0xTZWvsDIERCA/PfEkYEFRo2AAAR+qY12MYERIyAAF3tHHB1cYLQICEDwF9p4FxcYKQICcPH3wxkDCIwSAQEY4GU2YpnACBEQgLJ3w1mDCESPgAAM8iIbs1wgcgQEoPy9cOZAAlEjIAADvcRG3UwgYgQEYLN3wtmDCUSLgAAM9gIbd3OBSBEQgM3fB1cYUCBKBARgwJfXyHUEIkRAAOq8C64yqEDvERCAQV9cY9cT6DkCh/UYXInAXGB1epKW/7o9/0bET177WZo+/JWuJhOArtbV4cPe/3tarf8zxNe0SFNng/oRoLOFeVwCNQUEoKamaxHoTEAAOluYxyVQU0AAamq6FoHOBASgs4V5XAI1BQSgpqZrEehMQAA6W5jHJVBTQABqaroWgc4EBKCzhXlcAjUFBKCmpmsR6ExAADpbmMclUFNAAGpquhaBzgQEoLOFeVwCNQUEoKamaxHoTEAAOluYxyVQU0AAamq6FoHOBASgs4V5XAI1BQSgpqZrEehMQAA6W5jHJVBTQABqaroWgc4EBKCzhXlcAjUFBKCmpmsR6ExAADpbmMclUFNAAGpquhaBzgQEoLOFeVwCNQUEoKamaxHoTEAAOluYxyVQU0AAamq6FoHOBASgs4V5XAI1BQSgpqZrEehMQAA6W5jHJVBTQABqaroWgc4EBKCzhXlcAjUFDmtebKhrXb2RFje/v/HIy99+ceNrLG5+L6WrH9/4Or1eYPnKd1I6ebXXx2/63AJQyj8dpunStdKz6553cGV/nqXuZHlXW+/CV5mAHwHK3JxFIISAAIRYoyEIlAkIQJmbswiEEBCAEGs0BIEyAQEoc3MWgRACAhBijYYgUCYgAGVuziIQQkAAQqzREATKBASgzM1ZBEIICECINRqCQJmAAJS5OYtACAEBCLFGQxAoExCAMjdnEQghIAAh1mgIAmUCAlDm5iwCIQT8g9Sla7z3WnrwyndLz6563vLOT1M6fKrqNbu62HoXvsoEBKDMLaX/nKR0/OvSs+ue98/f172eqw0j4EeAYVZtUAJzAQGYm/iEwDACAjDMqg1KYC4gAHMTnxAYRkAAhlm1QQnMBQRgbuITAsMICMAwqzYogbmAAMxNfEJgGAEBGGbVBiUwFxCAuYlPCAwjIADDrNqgBOYCAjA38QmBYQQEYJhVG5TAXEAA5iY+ITCMgAAMs2qDEpgLCMDcxCcEhhEQgGFWbVACcwEBmJv4hMAwAgIwzKoNSmAuIABzE58QGEZAAIZZtUEJzAUEYG7iEwLDCAjAMKs2KIG5gADMTXxCYBgBARhm1QYlMBfwbwaam+R9cvmDaXr+y3nHnnPU6k8/POe7ed+anv9SSpc/lHdwwKNWb/w8pbf+GnCy7Y8kAKXGl55Ji+c+X3r2u+c9qBGAZz6XpmufePeao/3iwZu/FIDCpfsRoBDOaQQiCAhAhC2agUChgAAUwjmNQAQBAYiwRTMQKBQQgEI4pxGIICAAEbZoBgKFAgJQCOc0AhEEBCDCFs1AoFBAAArhnEYggoAARNiiGQgUCghAIZzTCEQQEIAIWzQDgUIBASiEcxqBCAICEGGLZiBQKCAAhXBOIxBBwN8HULrF0+O0/Nv6n0Pfg6/V8a20uveXPXiSRo+w3oWvMgEBKHN7+y+gqPG3+ZTe/uHzVm/84uHf+jWBbAE/AmRTOZBAPAEBiLdTExHIFhCAbCoHEognIADxdmoiAtkCApBN5UAC8QQEIN5OTUQgW0AAsqkcSCCegADE26mJCGQLCEA2lQMJxBMQgHg7NRGBbAEByKZyIIF4AgIQb6cmIpAtIADZVA4kEE9AAOLt1EQEsgUEIJvKgQTiCQhAvJ2aiEC2gABkUzmQQDwBAYi3UxMRyBYQgGwqBxKIJyAA8XZqIgLZAgKQTeVAAvEEBCDeTk1EIFtAALKpHEggnoAAxNupiQhkCwhANpUDCcQTEIB4OzURgWwBAcimciCBeAICEG+nJiKQLSAA2VQOJBBPQADi7dREBLIFBCCbyoEE4gkIQLydmohAtoAAZFM5kEA8ge4CMB1cjrcFE8UQ6PDd7C4A6ckPxHhZTBFOYOrw3ewuANPTnwn34hgohsD09Ge7G6S7AKRrn0rT1Y92B+2BYwtMV66n9P5PdzdkfwFYEy8+8o00LZ7oDtsDxxSYFpfW7+Q318NN3Q3YZQDS1Rtp8bFvJ38g2N37Fu6Bp4Mn0+LGt1J66maXs02r9VeXT/6/h773elreeTGl41up5zG69R/4wadp/f/26z+PWrzw1ZTe90K3En0H4B3206O0uvtySvePUlqdvvOp/yZQX2C6lNITz6bp2idTuvRs/evv+IoxArBjNLcjEEWgzz8DiKJvDgKNBQSg8QLcnkBLAQFoqe/eBBoLCEDjBbg9gZYCAtBS370JNBYQgMYLcHsCLQUEoKW+exNoLCAAjRfg9gRaCghAS333JtBYQAAaL8DtCbQUEICW+u5NoLGAADRegNsTaCkgAC313ZtAYwEBaLwAtyfQUkAAWuq7N4HGAgLQeAFuT6ClgAC01HdvAo0FBKDxAtyeQEsBAWip794EGgsIQOMFuD2BlgIC0FLfvQk0FhCAxgtwewItBQSgpb57E2gsIACNF+D2BFoKCEBLffcm0FhAABovwO0JtBQQgJb67k2gsYAANF6A2xNoKfBfRnsz1aH4jgcAAAAASUVORK5CYII="},"../node_modules/@tencent/docs-design-resources/mobile/svg/star-fill-48.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+5YiH54mHPC90aXRsZT4KICAgIDxnIGlkPSLop4bop4kiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLmmJ/lvaIiIGZpbGw9IiNGRkNDMDEiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQuMjY4MjE2MSwzNi43NjU4MzMzIEwxMi43MTI2NjAzLDQyLjQ0Nzc1ODggQzExLjk2OTI0MjMsNDIuODEzMzAxMiAxMS4wNzAyNTIzLDQyLjUwNjk3MjUgMTAuNzA0NzEsNDEuNzYzNTU0NiBDMTAuNTcxMzc0MSw0MS40OTIzODQyIDEwLjUyMzA0OCw0MS4xODcyNjUgMTAuNTY2MDYxNyw0MC44ODgxNjM2IEwxMi4zOTkwMzA4LDI4LjE0MjM2NTQgTDMuNDI0MzM1MzksMTguOTA4MTkwMyBDMi44NDY5NTUxNCwxOC4zMTQxMTY2IDIuODYwNDg3ODQsMTcuMzY0NDY1NiAzLjQ1NDU2MTUzLDE2Ljc4NzA4NTMgQzMuNjcxMjU2ODEsMTYuNTc2NDc5MSAzLjk0NjUwODg2LDE2LjQzNjIzMTIgNC4yNDQyNjMxMSwxNi4zODQ3MTIyIEwxNi45MzI2NTYyLDE0LjE4OTMwMTIgTDIyLjk0MTU0NTIsMi44MDAzNDE2NSBDMjMuMzI4MTIyNSwyLjA2NzY0MTUzIDI0LjIzNTQ3NjIsMS43ODcwNTM1OCAyNC45NjgxNzYzLDIuMTczNjMwOTIgQzI1LjIzNTQzNzIsMi4zMTQ2Mzk1IDI1LjQ1Mzg3ODUsMi41MzMwODA3NiAyNS41OTQ4ODcsMi44MDAzNDE2NSBMMzEuNjAzNzc2MSwxNC4xODkzMDEyIEw0NC4yOTIxNjkxLDE2LjM4NDcxMjIgQzQ1LjEwODQ2NzMsMTYuNTI1OTUyNCA0NS42NTU3MSwxNy4zMDIxOTA1IDQ1LjUxNDQ2OTksMTguMTE4NDg4NyBDNDUuNDYyOTUwOSwxOC40MTYyNDMgNDUuMzIyNzAzLDE4LjY5MTQ5NSA0NS4xMTIwOTY4LDE4LjkwODE5MDMgTDM2LjEzNzQwMTQsMjguMTQyMzY1NCBMMzcuOTcwMzcwNiw0MC44ODgxNjM2IEMzOC4wODgyOTMzLDQxLjcwODE1NDkgMzcuNTE5MTU0Miw0Mi40Njg0ODQ0IDM2LjY5OTE2MjksNDIuNTg2NDA3MSBDMzYuNDAwMDYxNSw0Mi42Mjk0MjA4IDM2LjA5NDk0MjMsNDIuNTgxMDk0NyAzNS44MjM3NzE5LDQyLjQ0Nzc1ODggTDI0LjI2ODIxNjEsMzYuNzY1ODMzMyBaIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"../node_modules/@tencent/docs-design-resources/mobile/svg/star-unfill-48.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi9uYXZpZ2F0aW9uL3N0YXI8L3RpdGxlPgogICAgPGcgaWQ9IuinhuiniSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb24vbmF2aWdhdGlvbi9zdGFyIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4Ij48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNC45NjgxNzYzLDIuMjY5ODI1IEMyNS4yMzU0MzcyLDIuNDEwODMzNTggMjUuNDUzODc4NSwyLjYyOTI3NDg0IDI1LjU5NDg4NywyLjg5NjUzNTczIEwzMS42MDM3NzYxLDE0LjI4NTQ5NTMgTDQ0LjI5MjE2OTEsMTYuNDgwOTA2MyBDNDUuMTA4NDY3MywxNi42MjIxNDY0IDQ1LjY1NTcxLDE3LjM5ODM4NDYgNDUuNTE0NDY5OSwxOC4yMTQ2ODI4IEM0NS40NjI5NTA5LDE4LjUxMjQzNyA0NS4zMjI3MDMsMTguNzg3Njg5MSA0NS4xMTIwOTY4LDE5LjAwNDM4NDQgTDM2LjEzNzQwMTQsMjguMjM4NTU5NSBMMzcuOTcwMzcwNiw0MC45ODQzNTc3IEMzOC4wODgyOTMzLDQxLjgwNDM0OSAzNy41MTkxNTQyLDQyLjU2NDY3ODUgMzYuNjk5MTYyOSw0Mi42ODI2MDEyIEMzNi40MDAwNjE1LDQyLjcyNTYxNDkgMzYuMDk0OTQyMyw0Mi42NzcyODg3IDM1LjgyMzc3MTksNDIuNTQzOTUyOSBMMjQuMjY4MjE2MSwzNi44NjIwMjc0IEwxMi43MTI2NjAzLDQyLjU0Mzk1MjkgQzExLjk2OTI0MjMsNDIuOTA5NDk1MyAxMS4wNzAyNTIzLDQyLjYwMzE2NjYgMTAuNzA0NzEsNDEuODU5NzQ4NyBDMTAuNTcxMzc0MSw0MS41ODg1NzgzIDEwLjUyMzA0OCw0MS4yODM0NTkxIDEwLjU2NjA2MTcsNDAuOTg0MzU3NyBMMTIuMzk5MDMwOCwyOC4yMzg1NTk1IEwzLjQyNDMzNTM5LDE5LjAwNDM4NDQgQzIuODQ2OTU1MTQsMTguNDEwMzEwNyAyLjg2MDQ4Nzg0LDE3LjQ2MDY1OTYgMy40NTQ1NjE1MywxNi44ODMyNzk0IEMzLjY3MTI1NjgxLDE2LjY3MjY3MzIgMy45NDY1MDg4NiwxNi41MzI0MjUzIDQuMjQ0MjYzMTEsMTYuNDgwOTA2MyBMMTYuOTMyNjU2MiwxNC4yODU0OTUzIEwyMi45NDE1NDUyLDIuODk2NTM1NzMgQzIzLjMyODEyMjUsMi4xNjM4MzU2MSAyNC4yMzU0NzYyLDEuODgzMjQ3NjYgMjQuOTY4MTc2MywyLjI2OTgyNSBaIiBpZD0i6Lev5b6EIiBmaWxsPSIjRTFFM0U1IiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_appendix.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9hcHBlbmRpeDwvdGl0bGU+CiAgICA8ZyBpZD0iUEPmlbDmja7pqozor4Horr7nva7pnaLmnb8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04Ny4wMDAwMDAsIC01Mi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzkuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4LjAzMDE3MiwgMC4wMDAwMDApIiBpZD0i6Lev5b6EIj4KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBwb2ludHM9IjAgMCAyNCAwIDI0IDI0IDAgMjQiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEuMzAxNjc3NCw1LjU1OTgwNDI1IEMxMi44ODE2MTY3LDMuOTgwMDY1MjMgMTUuNDQzMTcxNSwzLjk4MDA2NTI1IDE3LjAyMzExMDcsNS41NTk4MDQyOSBDMTguNTUwNDI3Niw3LjA4NjkyNzY1IDE4LjYwMTMzODIsOS41MzEyODY3IDE3LjE3NTg0MjUsMTEuMTE5NTU5MSBMMTcuMDIzMTEwOCwxMS4yODA3MzY2IEwxMS43ODIzNzExLDE2LjUyMDgxMjMgQzEwLjg3MDM2NTgsMTcuNDMyNzAyIDkuMzkxNzQ1OTEsMTcuNDMyNzAyIDguNDc5NzQwNjYsMTYuNTIwODEyMyBDNy42MDkxNDg0MywxNS42NTAzMzA0IDcuNTY5NTc2MDUsMTQuMjYzNTU0NCA4LjM2MTAyMzUyLDEzLjM0NjEzNjcgTDguNDc5NzQwNjQsMTMuMjE4Mzc2NCBMMTMuNzIwNDgwNCw3Ljk3ODMwMDcxIEMxMy45NjQ1NzM1LDcuNzM0MjM4NDkgMTQuMzYwMzAxNiw3LjczNDI2MzU3IDE0LjYwNDM2MzgsNy45NzgzNTY3MSBDMTQuODIxMzA4LDguMTk1MzI4NCAxNC44NDUzOTMxLDguNTMyMTEwNDMgMTQuNjc2NjMyNiw4Ljc3NTY4NDkxIEwxNC42MDQzMDc4LDguODYyMjQwMTkgTDkuMzYzNTY4MTIsMTQuMTAyMzE1OCBDOC45Mzk3NDkxNiwxNC41MjYwODExIDguOTM5NzQ5MTYsMTUuMjEzMTA3NSA5LjM2MzU2ODEzLDE1LjYzNjg3MjggQzkuNzU3MTU0OTMsMTYuMDMwNDA5NyAxMC4zNzc4NDYxLDE2LjA1ODUxOTUgMTAuODAzODc2NCwxNS43MjEyMDIyIEwxMC44OTg1NDM2LDE1LjYzNjg3MjggTDE2LjEzOTI4MzMsMTAuMzk2Nzk3MiBDMTcuMjMxMDM2Miw5LjMwNTE4MjU0IDE3LjIzMTAzNjIsNy41MzUzNTgzOCAxNi4xMzkyODMzLDYuNDQzNzQzNzcgQzE1LjA5Mjk3ODEsNS4zOTc1NzExOSAxMy40MjM2MzkyLDUuMzUzOTgwNjUgMTIuMzI1NDE0Niw2LjMxMjk3MjE2IEwxMi4xODU1MDQ5LDYuNDQzNzQzNzMgTDYuOTQ0NzY1MTcsMTEuNjgzODE5NCBDNS4xODUwNzgyNiwxMy40NDMyODM0IDUuMTg1MDc4MjgsMTYuMjk1OTA1MyA2Ljk0NDc2NTIyLDE4LjA1NTM2OTIgQzguNjQ5NTA0MzEsMTkuNzU5ODkyMyAxMS4zODAzNjM2LDE5LjgxMzE1ODcgMTMuMTQ5MjM1MiwxOC4yMTUxNjgzIEwxMy4zMTczNDY1LDE4LjA1NTM2OTMgTDE4LjU1ODA4NjMsMTIuODE1MjkzNiBDMTguODAyMTc5NCwxMi41NzEyMzE0IDE5LjE5NzkwNzUsMTIuNTcxMjU2NSAxOS40NDE5Njk3LDEyLjgxNTM0OTYgQzE5LjY1ODkxMzksMTMuMDMyMzIxMyAxOS42ODI5OTksMTMuMzY5MTAzMyAxOS41MTQyMzg1LDEzLjYxMjY3NzggTDE5LjQ0MTkxMzcsMTMuNjk5MjMzMSBMMTQuMjAxMTc0LDE4LjkzOTMwODggQzExLjk1MzMwMDcsMjEuMTg2ODk3MSA4LjMwODgxMDk3LDIxLjE4Njg5NzEgNi4wNjA5Mzc3NCwxOC45MzkzMDg3IEMzLjg3Mzc3NTI5LDE2Ljc1MjQyMzQgMy44MTQ2NjI3NiwxMy4yNDM0NzM4IDUuODgzNjAwMiwxMC45ODUxMjU1IEw2LjA2MDkzNzY5LDEwLjc5OTg3OTkgTDExLjMwMTY3NzQsNS41NTk4MDQyNSBaIiBmaWxsPSIjODE4NjhGIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_checkbox.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9jaGVja2JveDwvdGl0bGU+CiAgICA8ZyBpZD0iUEPmlbDmja7pqozor4Horr7nva7pnaLmnb8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzUuMDAwMDAwLCAtNTIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5LjAwMDAwMCwgNTIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5Ni4wMzAxNzIsIDAuMDAwMDAwKSIgaWQ9Iue8lue7hCI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgc3Ryb2tlPSIjOTc5Nzk3IiBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTcuMDc5OTAxMiw0Ljk5ODE1NzI5IEwxNS43Nzk5MDEyLDYuMjk4MTU3MjkgTDYuMyw2LjMgTDYuMjk3LDkuOTk5MTU3MjkgTDYuMywxNCBMNi4zLDE3LjcgTDE3LjcsMTcuNyBMMTcuNjk5OTAxMiwxMi41ODExNTczIEwxOSwxMS4yODExNTczIEwxOSwxOCBDMTksMTguNTUyMjg0NyAxOC41NTIyODQ3LDE5IDE4LDE5IEw2LDE5IEM1LjQ0NzcxNTI1LDE5IDUsMTguNTUyMjg0NyA1LDE4IEw1LDYgQzUsNS40NDc3MTUyNSA1LjQ0NzcxNTI1LDUgNiw1IEwxNy4wNzk5MDEyLDQuOTk4MTU3MjkgWiBNMTkuNjU2ODU0Miw2LjgyMTU3Mjg4IEMxOS45MTA2OTUsNy4wNzU0MTM2NiAxOS45MTA2OTUsNy40ODY5NzA5IDE5LjY1Njg1NDIsNy43NDA4MTE2OSBMMTEuOTg0NzQ1NywxNS40MTI5MjAzIEMxMS43ODk0ODM1LDE1LjYwODE4MjQgMTEuNDcyOTAxLDE1LjYwODE4MjQgMTEuMjc3NjM4OSwxNS40MTI5MjAzIEw4LjM0MzE0NTc1LDEyLjQ3ODQyNzEgQzguMDg5MzA0OTYsMTIuMjI0NTg2MyA4LjA4OTMwNDk2LDExLjgxMzAyOTEgOC4zNDMxNDU3NSwxMS41NTkxODgzIEM4LjU5Njk4NjU0LDExLjMwNTM0NzUgOS4wMDg1NDM3OCwxMS4zMDUzNDc1IDkuMjYyMzg0NTcsMTEuNTU5MTg4MyBMMTEuNjMxMTkyMywxMy45Mjc5OTYgTDE4LjczNzYxNTQsNi44MjE1NzI4OCBDMTguOTkxNDU2Miw2LjU2NzczMjA5IDE5LjQwMzAxMzUsNi41Njc3MzIwOSAxOS42NTY4NTQyLDYuODIxNTcyODggWiIgaWQ9IlNoYXBlIiBmaWxsPSIjODE4NjhGIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_contact.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9jb250YWN0PC90aXRsZT4KICAgIDxnIGlkPSJQQ+aVsOaNrumqjOivgeiuvue9rumdouadvyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iui1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIzMS4wMDAwMDAsIC01Mi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzkuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE5Mi4wMzAxNzIsIDAuMDAwMDAwKSIgaWQ9IlBDL+W3peWFt+agjy/liJvlu7rkuroiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaLlpIfku70iIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMiwxMiBDMTUuMTc4MTcyNywxMiAxOSwxMy41OTU4OTY0IDE5LDE1Ljk4OTE3NjUgTDE5LDE5IEw1LDE5IEw1LDE1Ljk4OTE3NjUgQzUsMTMuNjUxNTU0MSA4LjY0NjEzNDg0LDEyLjA3NDY1OSAxMS43NzcyNzg5LDEyLjAwMjU3OTMgTDEyLDEyIFogTTEyLDEzLjMgQzkuMTY0NTAyNDcsMTMuMyA2LjQ1OTAzMjc5LDE0LjY1NDQ2NCA2LjMwNjc0OTIyLDE1Ljg4MTI5NTYgTDYuMywxNS45ODkxNzY1IEw2LjMsMTcuNyBMMTcuNywxNy43IEwxNy43LDE1Ljk4OTE3NjUgQzE3LjcsMTQuNzcxMTM0OCAxNS4wNzU1NDQ1LDEzLjM4MTg2OTYgMTIuMjQ5NzkxOSwxMy4zMDM0NzczIEwxMiwxMy4zIFogTTEyLDQgQzEzLjkzMjk5NjYsNCAxNS41LDUuNTY3MDAzMzggMTUuNSw3LjUgQzE1LjUsOS4zNjg1NjM0IDE0LjAzNTcyMjQsMTAuODk1MTI2NCAxMi4xOTIwMzUyLDEwLjk5NDgyMTEgTDEyLDExIEMxMC4wNjcwMDM0LDExIDguNSw5LjQzMjk5NjYyIDguNSw3LjUgQzguNSw1LjYzMTQzNjYgOS45NjQyNzc2LDQuMTA0ODczNTUgMTEuODA3OTY0OCw0LjAwNTE3ODg2IEwxMiw0IFogTTEyLDUuMyBDMTAuNzg0OTczNiw1LjMgOS44LDYuMjg0OTczNTUgOS44LDcuNSBDOS44LDguNzE1MDI2NDUgMTAuNzg0OTczNiw5LjcgMTIsOS43IEMxMy4yMTUwMjY0LDkuNyAxNC4yLDguNzE1MDI2NDUgMTQuMiw3LjUgQzE0LjIsNi4yODQ5NzM1NSAxMy4yMTUwMjY0LDUuMyAxMiw1LjMgWiIgaWQ9IuW9oueKtue7k+WQiCIgZmlsbD0iIzgxODY4RiI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_date31.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9kYXRlPC90aXRsZT4KICAgIDxnIGlkPSJQQ+aVsOaNrumqjOivgeiuvue9rumdouadvyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iui1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNy4wMDAwMDAsIC01Mi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzkuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI4OC4wMzAxNzIsIDAuMDAwMDAwKSIgaWQ9IlBDL+W3peWFt+agjy/mj5LlhaUv5pel5pyfIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTgsNCBMOCw1IEwxNS43NSw1IEwxNS43NSw0IEwxNyw0IEwxNyw1IEwxOSw1IEMxOS41NTIyODQ3LDUgMjAsNS40NDc3MTUyNSAyMCw2IEwyMCwxOCBDMjAsMTguNTUyMjg0NyAxOS41NTIyODQ3LDE5IDE5LDE5IEw1LDE5IEM0LjQ0NzcxNTI1LDE5IDQsMTguNTUyMjg0NyA0LDE4IEw0LDYgQzQsNS40NDc3MTUyNSA0LjQ0NzcxNTI1LDUgNSw1IEw2Ljc1LDUgTDYuNzUsNCBMOCw0IFogTTE4LjcsNi4zIEw1LjMsNi4zIEw1LjMsMTcuNyBMMTguNywxNy43IEwxOC43LDYuMyBaIE0xNSw4LjUxMjQ1OTQ3IEwxNSwxNS41IEwxMy44NTc2NzI4LDE1LjUgTDEzLjg1NzM3MjgsOS44ODc4NDYzOSBMMTMuMTI3ODEyLDEwLjQ1MzQ5OTYgTDEyLjk0ODkwMzYsMTAuMzU3OTYyOCBMMTIuOTQ4OTAzNiw5LjIzMzQxNTY2IEwxMy45NzAwNjE2LDguNTEyNDU5NDcgTDE1LDguNTEyNDU5NDcgWiBNOS44NzczNDE2OSw4LjUgQzEwLjQ3OTY5OTgsOC41MDYzODQ0OSAxMC45NjM5MTY1LDguNzExNjE5MTMgMTEuMzIzMzEwMyw5LjExNjU2NTU3IEMxMS42NjQ0MTg5LDkuNTA4NDIzNjMgMTEuODM4OTk0LDkuOTczNTQyNzQgMTEuODQ1MDkyLDEwLjUwODAyNSBDMTEuODQ1MDkyLDEwLjc3NzU0NTYgMTEuNzk5Mzg0MSwxMS4wMzc4NDg4IDExLjcwNTc1MjIsMTEuMjk0MTAzMSBDMTEuNjE3ODg2OSwxMS41MDA2MTE4IDExLjQ3NjI0MzcsMTEuNjg3NDE0NSAxMS4yODIxMTc5LDExLjg1NDY0OTQgTDExLjI1MTYxNDMsMTEuODc3OTYyMiBMMTEuMjg0NjQ0MywxMS45MDMwNjYgQzExLjM4NDk0ODEsMTEuOTg3MDA4NSAxMS40NzMwNzc2LDEyLjA3NzU3MTIgMTEuNTQ4OTUyNCwxMi4xNzQ4NTU4IEwxMS42NTM1NjM0LDEyLjMyNTgzNjggTDExLjczOTczMjEsMTIuNDg2OTc3IEMxMS44NTg4NTU1LDEyLjc1NzU2MzUgMTEuOTE4NTUxNywxMy4wNDE3MDA1IDExLjkxODU1MTcsMTMuMzM5MzY1NiBDMTEuOTEyNTA5NiwxMy45OTI1MTM1IDExLjcxODIwNjEsMTQuNTEzNjc2OCAxMS4zMzY2ODM3LDE0Ljg5MzQ3MDEgQzEwLjk2MTI0MDgsMTUuMjgyOTggMTAuNDc4NDc3NSwxNS40ODExNTM5IDkuODkzNTE1NzcsMTUuNDg3NTQwNSBDOS40MzgyOTg2MSwxNS40ODc1NDA1IDkuMDMyOTI3NjEsMTUuMzMyMDgyMSA4LjY4MTc1MTQ4LDE1LjAyMjkxNTQgQzguMzczNDgzNTgsMTQuNzUxNTI0MSA4LjE2MTE0NjE1LDE0LjM3NTYxMDkgOC4wNDQyNTQzMSwxMy44OTg0NjkzIEw4LDEzLjY4Nzc5MiBMOC4xMDg3NDgzMSwxMy41NDk2OTUgTDkuMDExOTM1NzIsMTMuNTQ5Njk1IEw5LjExNTIyNzg1LDEzLjYyNDU4NDEgQzkuMTg5NzE5NTgsMTMuODI5NDAxNyA5LjI5MzQ5NTI3LDEzLjk5Mjg3NDIgOS40Mjc1MTM0OSwxNC4xMTc1OTUxIEM5LjU1NTczNTA1LDE0LjIzOTgxNzIgOS43Mjc5NzEyLDE0LjMwMTY4MTIgOS45NDk2OTQ4OSwxNC4zMDE2ODEyIEMxMC4xODU2NjQzLDE0LjMwMTY4MTIgMTAuMzgwNzMxMSwxNC4yMTgwNjU3IDEwLjU0NDUzNzgsMTQuMDQ1NDQ4OCBDMTAuNzA1MTY5MywxMy44ODkyNzkgMTAuNzg4ODkwMywxMy42NjQ1MzIgMTAuNzk0MTI4MywxMy4zNjc2NzQyIEMxMC43ODg4Njk0LDEzLjA1OTg2NjQgMTAuNzA0NjY4MSwxMi44Mjg0NDgxIDEwLjU0MzkwMTQsMTIuNjY2ODQyMyBDMTAuNDE1NjYxNSwxMi41NDAxODU1IDEwLjI1OTkwNzQsMTIuNDY0MjU3MiAxMC4wNzM1OTcxLDEyLjQzODk1MjEgTDkuOTI4MDg3NTQsMTIuNDI5NDYzNSBMOS40MzcxNjg0NSwxMi40Mjk0NjM1IEw5LjQ0OTQ2ODY3LDExLjM1Mjk4NCBMOS44NTg5NDQwMSwxMS4zNTI5ODQgQzEwLjEzOTYxODIsMTEuMzUyOTg0IDEwLjM1MDQ1MiwxMS4yNzM5NTY0IDEwLjQ5OTQ0MTQsMTEuMTE2ODU0NCBDMTAuNjQ3MTc5MywxMC45NjYzMjkyIDEwLjcyMDY0NTMsMTAuNzcxOTc2NiAxMC43MjA2NzE0LDEwLjUyODc5MDcgQzEwLjcxNTUxMywxMC4yNzg1NDQ2IDEwLjYzODY4MTMsMTAuMDc3OTY3MiAxMC40OTA3OTg0LDkuOTIxOTgzMDUgQzEwLjM0MTU5NTksOS43Njk5NjU2NSAxMC4xNDk0MDc4LDkuNjkxMjkyMDIgOS45MTA4MDE2Niw5LjY4NTg1MzQ3IEM5Ljc0Mjc1NDEsOS42ODU4NTM0NyA5LjU5MDkzMjA0LDkuNzQyMjg3MDggOS40NDk0Njg2Nyw5Ljg1ODg3NzY1IEM5LjMzNDE2ODA4LDkuOTQ5MDI3NzcgOS4yNDc5NjQxMywxMC4wODA2MDY1IDkuMTkxMzc5NDUsMTAuMjU2NDE1OSBMOS4xNTQ1MDI3MiwxMC4zOTY2MDk5IEw5LjA0NjUwNzQ5LDEwLjQ4Nzk3MiBMOC4xNDMzMjAwOCwxMC40ODc5NzIgTDguMDMzMjI2MDksMTAuMzU5ODMyOSBDOC4wODE4ODk2Niw5Ljg0MDIwMzk4IDguMjgyMzAxMzQsOS4zOTk3NDE3MiA4LjYzMjI2NTE1LDkuMDQzNTAzMjcgQzguOTM0ODY4MSw4LjczMjg0NTg2IDkuMjkxMjIzNjEsOC41NTQ2NjYyMiA5LjY5NzYwNTIxLDguNTEwNjQ5MSBMOS44NzczNDE2OSw4LjUgWiIgaWQ9IuW9oueKtue7k+WQiCIgZmlsbD0iIzgxODY4RiI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_dropdown.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9kcm9wZG93bjwvdGl0bGU+CiAgICA8ZyBpZD0iUEPmlbDmja7pqozor4Horr7nva7pnaLmnb8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MTUuMDAwMDAwLCAtNTIuMDAwMDAwKSIgZmlsbD0iIzgxODY4RiI+CiAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5LjAwMDAwMCwgNTIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NzYuMDMwMTcyLCAwLjAwMDAwMCkiIGlkPSLlvaLnirbnu5PlkIgiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMiw0IEMxNi40MTgyNzgsNCAyMCw3LjU4MTcyMiAyMCwxMiBDMjAsMTYuNDE4Mjc4IDE2LjQxODI3OCwyMCAxMiwyMCBDNy41ODE3MjIsMjAgNCwxNi40MTgyNzggNCwxMiBDNCw3LjU4MTcyMiA3LjU4MTcyMiw0IDEyLDQgWiBNMTIsNS4zIEM4LjI5OTY5MjE4LDUuMyA1LjMsOC4yOTk2OTIxOCA1LjMsMTIgQzUuMywxNS43MDAzMDc4IDguMjk5NjkyMTgsMTguNyAxMiwxOC43IEMxNS43MDAzMDc4LDE4LjcgMTguNywxNS43MDAzMDc4IDE4LjcsMTIgQzE4LjcsOC4yOTk2OTIxOCAxNS43MDAzMDc4LDUuMyAxMiw1LjMgWiBNMTQuMzA1Mzc2MywxMC41IEwxNS4yLDExLjM3Mzk0OTYgTDEyLDE0LjUgTDguOCwxMS4zNzM5NDk2IEw5LjY5NDYyMzY2LDEwLjUgTDEyLjAwMDY4ODIsMTIuNzUyNzczMSBMMTQuMzA1Mzc2MywxMC41IFoiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},"../node_modules/@tencent/docs-design-resources/pc/svg/data_email.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9lbWFpbDwvdGl0bGU+CiAgICA8ZyBpZD0iUEPmlbDmja7pqozor4Horr7nva7pnaLmnb8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zOS4wMDAwMDAsIC01Mi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzkuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDMwMTcyLCAwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSLot6/lvoQiIHBvaW50cz0iMCAwIDI0IDAgMjQgMjQgMCAyNCI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOSw1IEMxOS41NTIyODQ3LDUgMjAsNS40NDc3MTUyNSAyMCw2IEwyMCwxNyBDMjAsMTcuNTUyMjg0NyAxOS41NTIyODQ3LDE4IDE5LDE4IEw1LDE4IEM0LjQ0NzcxNTI1LDE4IDQsMTcuNTUyMjg0NyA0LDE3IEw0LDYgQzQsNS40NDc3MTUyNSA0LjQ0NzcxNTI1LDUgNSw1IEwxOSw1IFogTTE4Ljc1LDcuOTQ2IEwxMiwxMi43NjgwNjQ4IEw1LjI1LDcuOTQ3IEw1LjI1LDE2Ljc1IEwxOC43NSwxNi43NSBMMTguNzUsNy45NDYgWiBNMTguNzUsNi4yNSBMNS4yNSw2LjI1IEw1LjI1LDYuNjQ5IEw1LjM2MzI3Mzg3LDYuNDkxNDE2NTggTDEyLDExLjIzMSBMMTguNjM2NzI2MSw2LjQ5MTQxNjU4IEwxOC43NSw2LjY1IEwxOC43NSw2LjI1IFoiIGlkPSLlvaLnirbnu5PlkIgiIGZpbGw9IiM4MTg2OEYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_idcard.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9pZGNhcmQ8L3RpdGxlPgogICAgPGcgaWQ9IlBD5pWw5o2u6aqM6K+B6K6+572u6Z2i5p2/IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzc1LjAwMDAwMCwgLTUyLjAwMDAwMCkiIGZpbGw9IiM4MTg2OEYiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5LjAwMDAwMCwgNTIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMzYuMDMwMTcyLCAwLjAwMDAwMCkiIGlkPSLlvaLnirbnu5PlkIgiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOSw1IEMxOS41NTIyODQ3LDUgMjAsNS40NDc3MTUyNSAyMCw2IEwyMCwxNyBDMjAsMTcuNTUyMjg0NyAxOS41NTIyODQ3LDE4IDE5LDE4IEw1LDE4IEM0LjQ0NzcxNTI1LDE4IDQsMTcuNTUyMjg0NyA0LDE3IEw0LDYgQzQsNS40NDc3MTUyNSA0LjQ0NzcxNTI1LDUgNSw1IEwxOSw1IFogTTE4Ljc1LDYuMjUgTDUuMjUsNi4yNSBMNS4yNSwxNi43NSBMMTguNzUsMTYuNzUgTDE4Ljc1LDYuMjUgWiBNMTcsMTIgTDE3LDEzLjMgTDExLDEzLjMgTDExLDEyIEwxNywxMiBaIE05LDkgTDksMTIgTDcsMTIgTDcsOSBMOSw5IFogTTE3LDkgTDE3LDEwLjMgTDExLDEwLjMgTDExLDkgTDE3LDkgWiI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_number.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9udW1iZXI8L3RpdGxlPgogICAgPGcgaWQ9IlBD5pWw5o2u6aqM6K+B6K6+572u6Z2i5p2/IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDcxLjAwMDAwMCwgLTUyLjAwMDAwMCkiIGZpbGw9IiM4MTg2OEYiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5LjAwMDAwMCwgNTIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MzIuMDMwMTcyLCAwLjAwMDAwMCkiIGlkPSIxMjMiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjE4OTg5NTMsMTcuODg0Mjk3NSBMNi4xODk4OTUzLDYuMTE1NzAyNDggTDUuMDY5NTQxODMsNi4xMTU3MDI0OCBMMyw4LjAxNjUyODkzIEwzLDkuMzcxOTAwODMgTDUuMDY5NTQxODMsNy40MzgwMTY1MyBMNS4wNjk1NDE4MywxNy44ODQyOTc1IEw2LjE4OTg5NTMsMTcuODg0Mjk3NSBaIE0xMy43NTc0NjgxLDE3Ljg4NDI5NzUgTDEzLjc1NzQ2ODEsMTYuODI2NDQ2MyBMOC45OTU5NjU4MSwxNi44MjY0NDYzIEwxMi44NzA1MjE2LDExLjU3MDI0NzkgQzEzLjQ3NzM3OTcsMTAuNzQzODAxNyAxMy43NTc0NjgxLDEwLjEzMjIzMTQgMTMuNzU3NDY4MSw5LjE5MDA4MjY0IEMxMy43NTc0NjgxLDcuMjU2MTk4MzUgMTIuNTI4MTkxMyw2LjAxNjUyODkzIDEwLjcwNzYxNjksNi4wMTY1Mjg5MyBDOC44NTU5MjE2Miw2LjAxNjUyODkzIDcuNjU3NzY1ODIsNy4zNTUzNzE5IDcuNjU3NzY1ODIsOS4yMDY2MTE1NyBMOC43NzgxMTkzLDkuMjA2NjExNTcgQzguNzc4MTE5Myw3LjY4NTk1MDQxIDkuNjgwNjI2MjYsNy4wNzQzODAxNyAxMC43MDc2MTY5LDcuMDc0MzgwMTcgQzExLjkyMTMzMzIsNy4wNzQzODAxNyAxMi42MzcxMTQ2LDcuOTE3MzU1MzcgMTIuNjM3MTE0Niw5LjE5MDA4MjY0IEMxMi42MzcxMTQ2LDkuODM0NzEwNzQgMTIuNDM0ODI4NSwxMC4zNDcxMDc0IDEyLjAxNDY5NiwxMC45MjU2MTk4IEw3LjY0MjIwNTM2LDE2LjgyNjQ0NjMgTDcuNjQyMjA1MzYsMTcuODg0Mjk3NSBMMTMuNzU3NDY4MSwxNy44ODQyOTc1IFogTTE3Ljc0Nzg2MjgsMTggQzE5LjU1Mjg3NjgsMTggMjEsMTYuODQyOTc1MiAyMSwxNC42Nzc2ODYgQzIxLDEzLjIwNjYxMTYgMjAuNDI0MjYyOCwxMi4yNDc5MzM5IDE5LjMwMzkwOTMsMTEuODAxNjUyOSBDMjAuMjk5Nzc5MSwxMS4zMjIzMTQgMjAuNzk3NzE0LDEwLjQyOTc1MjEgMjAuNzk3NzE0LDkuMTkwMDgyNjQgQzIwLjc5NzcxNCw3LjI3MjcyNzI3IDE5LjU1Mjg3NjgsNiAxNy43NDc4NjI4LDYgQzE2LjA2NzMzMjYsNiAxNC43NjAyNTM2LDcuMTIzOTY2OTQgMTQuNjM1NzY5OSw5LjAyNDc5MzM5IEwxNS43NTYxMjMzLDkuMDI0NzkzMzkgQzE1Ljg2NTA0NjYsNy44MTgxODE4MiAxNi41ODA4MjgsNy4wNTc4NTEyNCAxNy43NDc4NjI4LDcuMDU3ODUxMjQgQzE4LjgyMTUzNDksNy4wNTc4NTEyNCAxOS42NzczNjA1LDcuODAxNjUyODkgMTkuNjc3MzYwNSw5LjIwNjYxMTU3IEMxOS42NzczNjA1LDEwLjUyODkyNTYgMTkuMDU0OTQxOSwxMS4zMzg4NDMgMTcuNzAxMTgxNCwxMS4zMzg4NDMgTDE3LjQ2Nzc3NDUsMTEuMzM4ODQzIEwxNy40Njc3NzQ1LDEyLjM4MDE2NTMgTDE3LjcwMTE4MTQsMTIuMzgwMTY1MyBDMTkuMjEwNTQ2NSwxMi4zODAxNjUzIDE5Ljg3OTY0NjUsMTMuMjM5NjY5NCAxOS44Nzk2NDY1LDE0LjY2MTE1NyBDMTkuODc5NjQ2NSwxNi4wOTkxNzM2IDE4Ljk0NjAxODYsMTYuOTQyMTQ4OCAxNy43NDc4NjI4LDE2Ljk0MjE0ODggQzE2LjY4OTc1MTIsMTYuOTQyMTQ4OCAxNS43MDk0NDE5LDE2LjM2MzYzNjQgMTUuNjE2MDc5MSwxNC44OTI1NjIgTDE0LjQ5NTcyNTcsMTQuODkyNTYyIEMxNC41ODkwODg1LDE3LjAyNDc5MzQgMTYuMDA1MDkwOCwxOCAxNy43NDc4NjI4LDE4IFoiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},"../node_modules/@tencent/docs-design-resources/pc/svg/data_phonenumber.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjODE4NjhGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05Ljk0MSA0LjM3NUg2LjY0N2EyLjI3MiAyLjI3MiAwIDAgMC0yLjI3MiAyLjI3MmMuNDI0IDcuMDAxIDUuOTc3IDEyLjU1NCAxMi45NCAxMi45NzcgMS4yOTMuMDAxIDIuMzEtMS4wMTYgMi4zMS0yLjI3MXYtMy4yOTRhLjYyNS42MjUgMCAwIDAtLjM5My0uNThsLTQuMTE3LTEuNjQ3LS4wOTctLjAzYS42MjUuNjI1IDAgMCAwLS42NzIuMjg4bC0uOTI4IDEuNTQ3LS4wNjktLjAzOGE4LjQzMyA4LjQzMyAwIDAgMS0yLjk0OC0yLjk0OGwtLjAzOS0uMDcgMS41NDgtLjkyN2EuNjI1LjYyNSAwIDAgMCAuMjU4LS43NjhsLTEuNjQ2LTQuMTE4YS42MjUuNjI1IDAgMCAwLS41OC0uMzkzWm0tLjQyNCAxLjI1IDEuMjkyIDMuMjMtMS42MDEuOTYyYS42MjUuNjI1IDAgMCAwLS4yNC44MTIgOS42ODQgOS42ODQgMCAwIDAgNC40MDMgNC40MDJsLjA5OS4wMzljLjI2OS4wOC41NjQtLjAzLjcxMy0uMjc4bC45NjEtMS42MDIgMy4yMzEgMS4yOTJ2Mi44N2MwIC41NjUtLjQ1OCAxLjAyMy0xLjAyMiAxLjAyMy02LjI5NS0uMzg0LTExLjM0NC01LjQzMy0xMS43My0xMS43NjYuMDAyLS41MjYuNDYtLjk4NCAxLjAyNC0uOTg0aDIuODdaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_progress.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9wcm9ncmVzczwvdGl0bGU+CiAgICA8ZyBpZD0iUEPmlbDmja7pqozor4Horr7nva7pnaLmnb8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODMuMDAwMDAwLCAtNTIuMDAwMDAwKSIgZmlsbD0iIzgxODY4RiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzkuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0NC4wMzAxNzIsIDAuMDAwMDAwKSIgaWQ9IuW9oueKtue7k+WQiCI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5LDggQzE5LjU1MjI4NDcsOCAyMCw4LjQ0NzcxNTI1IDIwLDkgTDIwLDE1IEMyMCwxNS41NTIyODQ3IDE5LjU1MjI4NDcsMTYgMTksMTYgTDUsMTYgQzQuNDQ3NzE1MjUsMTYgNCwxNS41NTIyODQ3IDQsMTUgTDQsOSBDNCw4LjQ0NzcxNTI1IDQuNDQ3NzE1MjUsOCA1LDggTDE5LDggWiBNMTUuMDc3LDkuMjUgTDEwLjEzMyw5LjI1IEwxMC4zODM4ODM1LDkuNSBMNS41LDE0LjM4Mzg4MzUgTDUuMjUsMTQuMTMzIEw1LjI1LDE0Ljc1IEw5Ljg3NCwxNC43NSBMOS42MTYzMjIzLDE0LjQ4MDkyODMgTDE1LjA3Nyw5LjI1IFogTTE4Ljc1LDkuMjUgTDE2Ljg4NSw5LjI1IEwxMS4xNDEsMTQuNzUgTDE4Ljc1LDE0Ljc1IEwxOC43NSw5LjI1IFogTTguODY2LDkuMjUgTDUuMjUsOS4yNSBMNS4yNSwxMi44NjYgTDguODY2LDkuMjUgWiI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_star.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV9zdGFyPC90aXRsZT4KICAgIDxnIGlkPSJQQ+aVsOaNrumqjOivgeiuvue9rumdouadvyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iui1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3OS4wMDAwMDAsIC01Mi4wMDAwMDApIiBmaWxsPSIjODE4NjhGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOS4wMDAwMDAsIDUyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQwLjAzMDE3MiwgMC4wMDAwMDApIiBpZD0i6Lev5b6EIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIsNCBDMTIuMTMwMjkzMiw0IDEyLjM5MDg3OTUsNC4xMjc5ODk2OSAxMi41MjExNzI2LDQuNTExOTU4NzcgTDE0LjM0NTI3NjksOC4wOTU2NzAxMyBDMTQuNDc1NTcsOC4zNTE2NDk1MSAxNC44NjY0NDk1LDguNzM1NjE4NTkgMTUuMjU3MzI5LDguNzM1NjE4NTkgTDE5LjI5NjQxNjksOS4zNzU1NjcwNCBDMjAuMDc4MTc1OSw5LjUwMzU1Njc0IDIwLjIwODQ2OTEsMTAuMDE1NTE1NSAxOS42ODcyOTY0LDEwLjM5OTQ4NDYgTDE2LjY5MDU1MzcsMTMuMjE1MjU3OCBDMTYuNDI5OTY3NCwxMy40NzEyMzcyIDE2LjI5OTY3NDMsMTMuOTgzMTk1OSAxNi4yOTk2NzQzLDE0LjIzOTE3NTMgTDE2Ljk1MTE0MDEsMTguMjA2ODU1OCBDMTcuMDgxNDMzMiwxOC44NDY4MDQyIDE2LjY5MDU1MzcsMTkuMjMwNzczMyAxNi4wMzkwODc5LDE4Ljg0NjgwNDIgTDEyLjY1MTQ2NTgsMTYuOTI2OTU4OCBDMTIuNTY0NjAzNywxNi44NDE2MzI0IDEyLjQxOTgzMzUsMTYuODEzMTkwMiAxMi4yOTQzNjYsMTYuODAzNzA5NSBMMTIuMTMwMjkzMiwxNi43OTg5NjkyIEwxMS45MzU4MDMxLDE2LjgwMTk1NDMgQzExLjc5NTI1MzYsMTYuODA5NDE3MyAxMS43MDIxODcxLDE2LjgzNTUzNzYgMTEuNjA5MTIwNSwxNi45MjY5NTg4IEw3Ljk2MDkxMjA1LDE4Ljg0NjgwNDIgQzcuMzQ1NjM4OCwxOS4yMDk0NDE3IDYuOTYyODAyMTEsMTguODg3MDk3MyA3LjAzMTkyNTQsMTguMzExMDU1OSBMNy43MDAzMjU3MywxNC4yMzkxNzUzIEM3LjcwMDMyNTczLDEzLjg1NTIwNjIgNy41NzAwMzI1NywxMy40NzEyMzcyIDcuMzA5NDQ2MjUsMTMuMjE1MjU3OCBMNC4zMTI3MDM1OCwxMC4zOTk0ODQ2IEMzLjc5MTUzMDk0LDkuODg3NTI1ODEgMy45MjE4MjQxLDkuMzc1NTY3MDQgNC43MDM1ODMwNiw5LjM3NTU2NzA0IEw4Ljc0MjY3MTAxLDguNzM1NjE4NTkgQzkuMTMzNTUwNDksOC43MzU2MTg1OSA5LjUyNDQyOTk3LDguMzUxNjQ5NTEgOS42NTQ3MjMxMyw4LjA5NTY3MDEzIEwxMS40Nzg4Mjc0LDQuNTExOTU4NzcgQzExLjYwOTEyMDUsNC4yNTU5NzkzOCAxMS44Njk3MDY4LDQgMTIsNCBaIE0xMiw2LjI0MiBMMTAuNzY4NzE4Niw4LjY2MjY5MjMgQzEwLjQzNTc3MTQsOS4zMTY4MTQzIDkuNzI0MDA2NTIsOS45MDIzMjQzNSA4LjkxNjk2Mzc1LDkuOTc3NDg1MTUgTDguODg1LDkuOTc4IEw2LjE1MSwxMC40MTIgTDguMTg1NDEyMDcsMTIuMzIzNTI3IEM4LjY0NDk2ODc0LDEyLjc3NDk1OTEgOC45MDExMjc4OCwxMy4zOTUxMjQxIDguOTQzOTA0MjgsMTQuMDQzODQzMiBMOC45NTAzMjU3MywxNC4yMzkxNzUzIEw4LjkzMzgxNzc4LDE0LjQ0MTY1MzQgTDguNDg3LDE3LjE1NyBMMTAuOTIzLDE1Ljg3NSBMMTAuOTg5NzM0MywxNS44MjY0NzQ1IEMxMS4yMTE5OTAxLDE1LjY4MDA2ODUgMTEuNDU3NDA1NywxNS41OTk5NTE1IDExLjc0MTQ0MDUsMTUuNTY2NjMyOSBMMTEuOTE2NjE5NCwxNS41NTIxMDE1IEwxMi4xNjYzOTI4LDE1LjU0OTQ5MDUgTDEyLjM4ODU1MTUsMTUuNTU3MjYyOSBDMTIuNzA5NzUzNiwxNS41ODE1MzQgMTIuOTk4ODU2MywxNS42NTA3MTI3IDEzLjI2NjUxOTgsMTUuODI0NDQxIEwxMy4zNTYsMTUuODg5IEwxNS41MDMsMTcuMTA2IEwxNS4wNjYxOTA3LDE0LjQ0MTcwNDggTDE1LjA0OTY3NDMsMTQuMjM5MTc1MyBDMTUuMDQ5Njc0MywxMy42NjYzMjMxIDE1LjI3NDM1NzMsMTIuOTUyMTEzMSAxNS43MDA2ODEsMTIuNDQ4NjU4MiBMMTUuODM0NjA0MiwxMi4zMDQyOTY1IEwxNy44NDgsMTAuNDEyIEwxNS4xMTQsOS45NzggTDE1LjA4MzAzNjIsOS45Nzc0ODUxNSBDMTQuMzMzNjM5NCw5LjkwNzY5Mjk4IDEzLjY2NjM5NTQsOS4zOTc4NTQ3NyAxMy4zMDgzMjIyLDguODAxNjUwMTQgTDEzLjIzMTI4MTQsOC42NjI2OTIzIEwxMiw2LjI0MiBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_telephonenumber.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjODE4NjhGIiBkPSJtNS4yOTMgMTMuNzA3LjQ0Mi40NDItLjQ0Mi0uNDQyWm0yLjE0OS0xLjI2NWEuNjI1LjYyNSAwIDEgMC0uODg0LS44ODRsLjg4NC44ODRabTEwLS44ODRhLjYyNS42MjUgMCAxIDAtLjg4NC44ODRsLjg4NC0uODg0Wm0xLjI2NSAyLjE1LjQ0Mi0uNDQzLS40NDIuNDQyWk02IDE4LjYyNGgxMnYtMS4yNUg2djEuMjVaTTUuNjI1IDE3di0yLjU4NmgtMS4yNVYxN2gxLjI1Wm0uMTEtMi44NTEgMS43MDctMS43MDctLjg4NC0uODg0LTEuNzA3IDEuNzA3Ljg4NC44ODRabTEwLjgyMy0xLjcwNyAxLjcwNyAxLjcwNy44ODQtLjg4NC0xLjcwNy0xLjcwNy0uODg0Ljg4NFptMS44MTcgMS45NzJWMTdoMS4yNXYtMi41ODZoLTEuMjVabS0uMTEtLjI2NWMuMDcuMDcuMTEuMTY2LjExLjI2NWgxLjI1YzAtLjQzLS4xNzEtLjg0NC0uNDc2LTEuMTQ5bC0uODg0Ljg4NFptLTEyLjY0LjI2NWMwLS4xLjA0LS4xOTUuMTEtLjI2NWwtLjg4NC0uODg0YTEuNjI1IDEuNjI1IDAgMCAwLS40NzYgMS4xNWgxLjI1Wk0xOCAxOC42MjVjLjg5OCAwIDEuNjI1LS43MjcgMS42MjUtMS42MjVoLTEuMjVhLjM3NS4zNzUgMCAwIDEtLjM3NS4zNzV2MS4yNVptLTEyLTEuMjVBLjM3NS4zNzUgMCAwIDEgNS42MjUgMTdoLTEuMjVjMCAuODk4LjcyOCAxLjYyNSAxLjYyNSAxLjYyNXYtMS4yNVoiLz48cGF0aCBzdHJva2U9IiM4MTg2OEYiIHN0cm9rZS13aWR0aD0iMS4yNSIgZD0iTTE5Ljk5OCA5LjM1QzE5Ljk3OCA4LjA5NSAxNi45MSA2IDEyIDZTNC4wMiA4LjA5NCA0LjAwMiA5LjM1Yy0uMDE4IDEuMjU3LjAxNyAyLjg5MiAyLjAzOCAyLjYyIDIuMzY0LS4zMiAyLjIxOC0xLjE4IDIuMjE4LTIuNDEgMC0uODU3IDEuOTIzLTEuMDY0IDMuNzQyLTEuMDY0czMuNzQuMjA3IDMuNzQyIDEuMDY1YzAgMS4yMy0uMTQ2IDIuMDkgMi4yMTggMi40MDkgMi4wMi4yNzIgMi4wNTYtMS4zNjMgMi4wMzgtMi42MloiLz48Y2lyY2xlIGN4PSIxMiIgY3k9IjEzLjUiIHI9IjIiIHN0cm9rZT0iIzgxODY4RiIgc3Ryb2tlLXdpZHRoPSIxLjI1Ii8+PC9zdmc+"},"../node_modules/@tencent/docs-design-resources/pc/svg/data_temperature.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZGF0YV90ZW1wZXJhdHVyZTwvdGl0bGU+CiAgICA8ZyBpZD0iUEPmlbDmja7pqozor4Horr7nva7pnaLmnb8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLotYTmupAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MTkuMDAwMDAwLCAtNTIuMDAwMDAwKSIgZmlsbD0iIzgxODY4RiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzkuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4MC4wMzAxNzIsIDAuMDAwMDAwKSIgaWQ9IuW9oueKtue7k+WQiCI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE1LjQ4MTQ1MTEsNSBDMTcuNzg1NDUxMSw1IDE5LjQ5NTQ1MTEsNi40MDQgMTkuOTI3NDUxMSw4LjgxNiBMMTkuOTI3NDUxMSw4LjgxNiBMMTguNTIzNDUxMSw4LjgxNiBDMTguMTgxNDUxMSw3LjI1IDE3LjA4MzQ1MTEsNi4yMjQgMTUuNDgxNDUxMSw2LjIyNCBDMTQuNjM1NDUxMSw2LjIyNCAxMy44MjU0NTExLDYuNTQ4IDEzLjI2NzQ1MTEsNy4xMjQgQzEyLjQ1NzQ1MTEsNy45NTIgMTIuMzY3NDUxMSw4LjgzNCAxMi4zNjc0NTExLDExLjUxNiBMMTIuMzY3ODUzNCwxMS44MDY2ODEzIEMxMi4zNzUxMDU0LDE0LjI2MzI1OTMgMTIuNDg3NDUxMSwxNS4xMTA2NjY3IDEzLjI2NzQ1MTEsMTUuOTA4IEMxMy44MjU0NTExLDE2LjQ4NCAxNC42MzU0NTExLDE2LjgwOCAxNS40ODE0NTExLDE2LjgwOCBDMTcuMDgzNDUxMSwxNi44MDggMTguMjE3NDUxMSwxNS43ODIgMTguNTU5NDUxMSwxNC4yMTYgTDE4LjU1OTQ1MTEsMTQuMjE2IEwxOS45Mjc0NTExLDE0LjIxNiBDMTkuNTEzNDUxMSwxNi42MjggMTcuNzY3NDUxMSwxOC4wMzIgMTUuNDgxNDUxMSwxOC4wMzIgQzE0LjIyMTQ1MTEsMTguMDMyIDEzLjA2OTQ1MTEsMTcuNTY0IDEyLjIwNTQ1MTEsMTYuNyBDMTEuMDkyMjIwMywxNS41ODY3NjkyIDExLjAwNjU4NzIsMTQuNDI3NTI2NiAxMSwxMi4xMTc5ODgyIEwxMSwxMi4xMTc5ODgyIEwxMSwxMC45MTQwMTE4IEMxMS4wMDY1ODcyLDguNjA0NDczMzcgMTEuMDkyMjIwMyw3LjQ0NTIzMDc3IDEyLjIwNTQ1MTEsNi4zMzIgQzEzLjA2OTQ1MTEsNS40NjggMTQuMjIxNDUxMSw1IDE1LjQ4MTQ1MTEsNSBaIE02LjUsNiBDNy44ODA3MTE4Nyw2IDksNy4xMTkyODgxMyA5LDguNSBDOSw5Ljg4MDcxMTg3IDcuODgwNzExODcsMTEgNi41LDExIEM1LjExOTI4ODEzLDExIDQsOS44ODA3MTE4NyA0LDguNSBDNCw3LjExOTI4ODEzIDUuMTE5Mjg4MTMsNiA2LjUsNiBaIE02LjUsNy4zIEM1LjgzNzI1ODMsNy4zIDUuMyw3LjgzNzI1ODMgNS4zLDguNSBDNS4zLDkuMTYyNzQxNyA1LjgzNzI1ODMsOS43IDYuNSw5LjcgQzcuMTYyNzQxNyw5LjcgNy43LDkuMTYyNzQxNyA3LjcsOC41IEM3LjcsNy44MzcyNTgzIDcuMTYyNzQxNyw3LjMgNi41LDcuMyBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/data_text.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjgzOTI5IDUuODM5MjlWMTguMTYwN0gxOC4xNjA3VjUuODM5MjlINS44MzkyOVpNNS41NzE0MyA0LjVDNC45Nzk2OSA0LjUgNC41IDQuOTc5NyA0LjUgNS41NzE0M1YxOC40Mjg2QzQuNSAxOS4wMjAzIDQuOTc5NyAxOS41IDUuNTcxNDMgMTkuNUgxOC40Mjg2QzE5LjAyMDMgMTkuNSAxOS41IDE5LjAyMDMgMTkuNSAxOC40Mjg2VjUuNTcxNDNDMTkuNSA0Ljk3OTY5IDE5LjAyMDMgNC41IDE4LjQyODYgNC41SDUuNTcxNDNaIiBmaWxsPSIjODE4NjhGIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOS43MDY5IDE2SDguNUwxMS4zOTY2IDhIMTEuMzk2NkgxMi42MDM0SDEyLjYwMzVMMTUuNTAwMSAxNkgxNC4yOTMyTDEzLjY1OTUgMTQuMjVIMTAuMzQwNUw5LjcwNjkgMTZaTTEwLjc5MzEgMTNIMTMuMjA3TDEyIDkuNjY2NThMMTAuNzkzMSAxM1oiIGZpbGw9IiM4MTg2OEYiLz4KPC9zdmc+Cg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/file_drive_default_16.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMSIgd2lkdGg9IjE0IiBoZWlnaHQ9IjE2IiByeD0iMSIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjI1IDNIOC41VjZWN0gxMi41VjEyLjI1QzEyLjUgMTIuNjY0MiAxMi4xNjQyIDEzIDExLjc1IDEzSDQuMjVDMy44MzU3OSAxMyAzLjUgMTIuNjY0MiAzLjUgMTIuMjVWMy43NUMzLjUgMy4zMzU3OSAzLjgzNTc5IDMgNC4yNSAzWk0xMi41IDZWNS45NDExOEw5LjUgMy4yOTQxMlY2SDEyLjVaIiBmaWxsPSIjODE4NjhGIi8+CjxyZWN0IHg9IjEuMjUiIHk9IjAuMjUiIHdpZHRoPSIxMy41IiBoZWlnaHQ9IjE1LjUiIHJ4PSIwLjc1IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utb3BhY2l0eT0iMC4xNiIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4KPC9zdmc+Cg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/file_form_36.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzZweCIgaGVpZ2h0PSIzNnB4IiB2aWV3Qm94PSIwIDAgMzYgMzYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZmlsZV9mb3JtXzM2PC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iOTkuODY1NzE3JSIgeTE9IjQxLjIwNzc0NjglIiB4Mj0iODAuNjU1MDc3NyUiIHkyPSI0MS4yMDc3NDY4JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRUI5MDAwIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNFQjdFMDAiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSI2Ny45ODg4NjY3JSIgeTE9IjAlIiB4Mj0iOS4xNzcwNjc4NyUiIHkyPSI5OS40NTIzMzAzJSIgaWQ9ImxpbmVhckdyYWRpZW50LTIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZDRDAwIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkFCMDAiIG9mZnNldD0iOTkuOTMxMzc2NyUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxwYXRoIGQ9Ik0xOS4zMjc1OTYsMCBDMjAuMjQ4MDcwNiwtMS41ODIxMzUxNWUtMTUgMjAuOTk0MjYyNywwLjc0NjE5MjA4NCAyMC45OTQyNjI3LDEuNjY2NjY2NjcgTDIwLjk5NDI2MjcsMjUgTDEuNjY2NjY2NjcsMjUgQzAuNzQ2MTkyMDg0LDI1IC02LjM4NTYyNzI3ZS0xNywyNC4yNTM4MDc5IDAsMjMuMzMzMzMzMyBMMCwxLjY2NjY2NjY3IEMtMS4xMjcyNTYyNWUtMTYsMC43NDYxOTIwODQgMC43NDYxOTIwODQsLTIuNzUwMDA3NzJlLTE2IDEuNjY2NjY2NjcsMCBMMTkuMzI3NTk2LDAgWiBNMjIuNjY3MTE0MywyNSBMMjIuNjc4LDI0Ljk5OSBMMjIuNjc4OTU1MSwyNSBMMjEuMDEyMjg4NCwyNSBMMjEuMDExMzEyNCwyMy41MjQ2ODA4IEMyMS4xMDYyMjQ3LDI0LjM1NTAzNTggMjEuODExMzQ5NywyNSAyMi42NjcxMTQzLDI1IFoiIGlkPSJwYXRoLTMiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii00LjQlIiB5PSItNC4wJSIgd2lkdGg9IjEwOC44JSIgaGVpZ2h0PSIxMDguMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci00Ij4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41IiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIxIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAxICAgMCAwIDAgMCAxICAgMCAwIDAgMCAxICAwIDAgMCAwLjI0IDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgICAgPHBhdGggZD0iTTE1LjMyODU3NTksOS41ODMzMzMzMyBMMTcuMDk2MzQyOSwxMS4zNTExMDAzIEwxMS4yMDM3ODY0LDE3LjI0MzY1NjggTDkuNDM2MDE5NDIsMTkuMDExNDIzNyBMNy42NjgyNTI0NywxNy4yNDM2NTY4IEw1LjAxNjYwMjA0LDE0LjU5MjAwNjQgTDYuNzg0MzY4OTksMTIuODI0MjM5NCBMOS40MzU2MDIwNCwxNS40NzUzMzMzIEwxNS4zMjg1NzU5LDkuNTgzMzMzMzMgWiIgaWQ9InBhdGgtNSI+PC9wYXRoPgogICAgICAgIDxmaWx0ZXIgeD0iLTE2LjYlIiB5PSItMTAuNiUiIHdpZHRoPSIxMzMuMSUiIGhlaWdodD0iMTQyLjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItNiI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjEiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjAuNSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMC41MTAxNjE5MTEgICAwIDAgMCAwIDAuMjYzMzAzMDggICAwIDAgMCAwIDAgIDAgMCAwIDAuMjA3MzU5MDQ3IDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSLlk4Hnsbvlm77moIflupMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLohb7orq/mlofmoaPlk4Hnsbvlm77moIfliIflm77lupMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjAzLjAwMDAwMCwgLTExMDcuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJmaWxlX2Zvcm1fMzYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMDMuMDAwMDAwLCAxMTA3LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9ImJnIiBmaWxsPSIjRkZGRkZGIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHJ4PSI4Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8ZyBpZD0iaWNvbi/mlofku7Yv5Yib5bu6L+WcqOe6v+aUtumbhuihqCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNi4wMDAwMDAsIDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTUuODMzMzMzMzMsNS45OTYzMzc4OSBMMjIuMzMzMzMzMyw1Ljk5NjMzNzg5IEMyMy4yNTM4MDc5LDUuOTk2MzM3ODkgMjQsNi43NDI1Mjk5NyAyNCw3LjY2MzAwNDU2IEwyNCwyMy4zMzMzMzMzIEMyNCwyNC4yNTM4MDc5IDIzLjI1MzgwNzksMjUgMjIuMzMzMzMzMywyNSBMNS44MzMzMzMzMywyNSBDNC45MTI4NTg3NSwyNSA0LjE2NjY2NjY3LDI0LjI1MzgwNzkgNC4xNjY2NjY2NywyMy4zMzMzMzMzIEw0LjE2NjY2NjY3LDcuNjYzMDA0NTYgQzQuMTY2NjY2NjcsNi43NDI1Mjk5NyA0LjkxMjg1ODc1LDUuOTk2MzM3ODkgNS44MzMzMzMzMyw1Ljk5NjMzNzg5IFoiIGlkPSLog4zmma/mnb8iIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMSkiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5YmN5pmv5p2/Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTIpIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHhsaW5rOmhyZWY9IiNwYXRoLTMiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItNCkiIHhsaW5rOmhyZWY9IiNwYXRoLTMiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5b2i54q257uT5ZCIIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTYpIiB4bGluazpocmVmPSIjcGF0aC01Ij48L3VzZT4KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSIjRkZGQkUwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHhsaW5rOmhyZWY9IiNwYXRoLTUiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},"../node_modules/@tencent/docs-design-resources/pc/svg/floatingtoolbar_dele.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZmxvYXRpbmd0b29sYmFyX2RlbGU8L3RpdGxlPgogICAgPGcgaWQ9IlBDIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iUEMv5rWu5Yqo5bel5YW35qCPL+WIoOmZpCIgZmlsbD0iIzQ2NEQ1QSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUuNSw0IEMxNS43NzYxNDI0LDQgMTYsNC4yMjM4NTc2MyAxNiw0LjUgTDE2LDYuNDk5IEwxNy40NjE1OTMxLDYuNSBMMTcuNDcxLDYuNSBMMjAsNi41IEwyMCw3Ljc1IEwxNy45MDcsNy43NDkgTDE3LjAzNDMwMSwxOS41MzY5MzU4IEMxNy4wMTQ5NjA1LDE5Ljc5ODAzMzUgMTYuNzk3NDgwMSwyMCAxNi41MzU2NjcyLDIwIEw3LjQ2NDMzMjgzLDIwIEM3LjIwMjUxOTg3LDIwIDYuOTg1MDM5NTIsMTkuNzk4MDMzNSA2Ljk2NTY5ODk1LDE5LjUzNjkzNTggTDYuMDkyLDcuNzQ5IEw0LDcuNzUgTDQsNi41IEw2LjUwMTQ3MTA2LDYuNTAxMzY2MTIgQzYuNTEzNzYxOTYsNi41MDA0NTU2OSA2LjUyNjA4MjMzLDYuNSA2LjUzODQwNjksNi41IEw4LDYuNDk5IEw4LDQuNSBDOCw0LjIyMzg1NzYzIDguMjIzODU3NjMsNCA4LjUsNCBMMTUuNSw0IFogTTE2LjY1Mzk4MjcsNy43NSBMNy4zNDYwMTcyNiw3Ljc1IEw4LjE2MDgzMjA3LDE4Ljc1IEwxNS44MzkxNjc5LDE4Ljc1IEwxNi42NTM5ODI3LDcuNzUgWiBNMTIuNjQ5ODc1MywxMSBMMTIuNjQ5ODc1MywxNiBMMTEuMzk5ODc1MywxNiBMMTEuMzk5ODc1MywxMSBMMTIuNjQ5ODc1MywxMSBaIE0xNC43NSw1LjI1IEw5LjI1LDUuMjUgTDkuMjUsNi40OTkgTDE0Ljc1LDYuNDk5IEwxNC43NSw1LjI1IFoiIGlkPSLlvaLnirbnu5PlkIgiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},"../node_modules/@tencent/docs-design-resources/pc/svg/placeholder_48_image.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+cGxhY2Vob2xkZXJfNDhfaW1hZ2U8L3RpdGxlPgogICAgPGcgaWQ9IuaOp+S7tiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IlBsYWNlaG9sZGVy5Y2g5L2N5Zu+L+WFg+e0oC/lm77niYciIGZpbGw9IiNDQkNERDEiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwyMCBDMzkuOTcwNTYyNywyMCA0NCwyNC4wMjk0MzczIDQ0LDI5IEM0NCwzMy45NzA1NjI3IDM5Ljk3MDU2MjcsMzggMzUsMzggQzMwLjAyOTQzNzMsMzggMjYsMzMuOTcwNTYyNyAyNiwyOSBDMjYsMjQuMDI5NDM3MyAzMC4wMjk0MzczLDIwIDM1LDIwIFogTTM3LDEwIEMzOC4xMDQ1Njk1LDEwIDM5LDEwLjg5NTQzMDUgMzksMTIgTDM5LjAwMDkxNTcsMTcuNjgzMTQ2NSBDMzguMzU3NjI0OSwxNy40NTU3MTY4IDM3LjY4OTE1NDEsMTcuMjgxNTgzNiAzNy4wMDA4MDkyLDE3LjE2NjA1MjcgTDM3LDEyIEw5LDEyIEw5LDI5Ljk2MyBMMTguMjE3OTM4NiwxOS42MDI2OTc1IEwyMy44MTk0OTgxLDI0LjYzMjY2MTQgQzIzLjU0NjQ3MTMsMjUuMzMxMDkzNyAyMy4zMzcwMDAyLDI2LjA2MTM2OTkgMjMuMTk4MTk2MywyNi44MTYzNzg2IEwxOC4zNzYwNzc5LDIyLjQ4NTIxMDcgTDksMzMuMDIyIEw5LDM0IEwyNC4wODg2Mjc4LDM0LjAwMTE4MzYgQzI0LjQxMjc5OTIsMzQuNzA3Mjg5MiAyNC44MDM0OTUxLDM1LjM3NjUxMjMgMjUuMjUyNjkwMSwzNi4wMDA4Mjc1IEw5LDM2IEM3Ljg5NTQzMDUsMzYgNywzNS4xMDQ1Njk1IDcsMzQgTDcsMTIgQzcsMTAuODk1NDMwNSA3Ljg5NTQzMDUsMTAgOSwxMCBMMzcsMTAgWiBNMzUsMjIgQzMxLjEzNDAwNjgsMjIgMjgsMjUuMTM0MDA2OCAyOCwyOSBDMjgsMzIuODY1OTkzMiAzMS4xMzQwMDY4LDM2IDM1LDM2IEMzOC44NjU5OTMyLDM2IDQyLDMyLjg2NTk5MzIgNDIsMjkgQzQyLDI1LjEzNDAwNjggMzguODY1OTkzMiwyMiAzNSwyMiBaIE0zNiwzMSBMMzYsMzMgTDM0LDMzIEwzNCwzMSBMMzYsMzEgWiBNMzYsMjUgTDM2LDMwIEwzNCwzMCBMMzQsMjUgTDM2LDI1IFoiIGlkPSLlvaLnirbnu5PlkIgiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/toolbar_add_photo.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+dG9vbGJhcl9hZGRfcGhvdG88L3RpdGxlPgogICAgPGcgaWQ9InRvb2xiYXJfYWRkX3Bob3RvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgNS4wMDAwMDApIiBmaWxsPSIjNDY0RDVBIj4KICAgICAgICAgICAgPHBhdGggZD0iTTE0LjQxNjY2NjcsMC41ODMzMzMzMzMgQzE0LjkyMjkyNzcsMC41ODMzMzMzMzMgMTUuMzMzMzMzMywwLjk5MzczODk3OSAxNS4zMzMzMzMzLDEuNSBMMTUuMzMzMzMzMywxMi41IEMxNS4zMzMzMzMzLDEzLjAwNjI2MSAxNC45MjI5Mjc3LDEzLjQxNjY2NjcgMTQuNDE2NjY2NywxMy40MTY2NjY3IEwxLjU4MzMzMzMzLDEzLjQxNjY2NjcgQzEuMDc3MDcyMzEsMTMuNDE2NjY2NyAwLjY2NjY2NjY2NywxMy4wMDYyNjEgMC42NjY2NjY2NjcsMTIuNSBMMC42NjY2NjY2NjcsMS41IEMwLjY2NjY2NjY2NywwLjk5MzczODk3OSAxLjA3NzA3MjMxLDAuNTgzMzMzMzMzIDEuNTgzMzMzMzMsMC41ODMzMzMzMzMgTDE0LjQxNjY2NjcsMC41ODMzMzMzMzMgWiBNMTQuMTQxNjY2NywxLjc3NSBMMS44NTgzMzMzMywxLjc3NSBMMS44NTgzMzMzMywxMi4yMjUgTDE0LjE0MTY2NjcsMTIuMjI1IEwxNC4xNDE2NjY3LDEuNzc1IFogTTkuNTI3Nzc3NzgsNS4xNjY2NjY2NyBMMTIuNTgzMzMzMywxMC42NjY2NjY3IEwzLjQxNjY2NjY3LDEwLjY2NjY2NjcgTDUuNDUzNzAzNyw3LjAwOTE2NjY3IEw2Ljk3NTI1MDI4LDkuNTA2MTE2MjEgTDkuNTI3Nzc3NzgsNS4xNjY2NjY2NyBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICAgICAgPHJlY3QgaWQ9IuefqeW9ouWkh+S7vSIgZmlsbD0iI0U0RTRFNCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48L3JlY3Q+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/pc/svg/toolbar_smartsheet_excel.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjYiIGhlaWdodD0iMjYiIHZpZXdCb3g9IjAgMCAyNiAyNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgb3BhY2l0eT0iMC4wMSIgeD0iMSIgeT0iMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRDhEOEQ4IiBzdHJva2U9IiM5Nzk3OTciLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC41IDZDMjAuNzc2MSA2IDIxIDYuMjIzODYgMjEgNi41VjE5LjVDMjEgMTkuNzc2MSAyMC43NzYxIDIwIDIwLjUgMjBINS41QzUuMjIzODYgMjAgNSAxOS43NzYxIDUgMTkuNVY2LjVDNSA2LjIyMzg2IDUuMjIzODYgNiA1LjUgNkgyMC41Wk0xMCAxNi4wMjhINi4yOTlMNi4zIDE4LjdIMTBWMTYuMDI4Wk0xOS43IDE2LjAyOEgxMS4yNVYxOC43SDE5LjdWMTYuMDI4Wk0xMCAxMS43NUg2LjI5OVYxNC43NzhIMTBWMTEuNzVaTTE5LjcgMTEuNzVIMTEuMjVWMTQuNzc4SDE5LjdWMTEuNzVaTTEwIDcuMjk5TDYuMyA3LjNMNi4yOTkgMTAuNUgxMFY3LjI5OVpNMTkuNyA3LjNMMTEuMjUgNy4yOTlWMTAuNUgxOS43VjcuM1oiIGZpbGw9IiM0NTRENUEiLz4KPC9zdmc+Cg=="},"../node_modules/@tencent/docs-design-resources/x-pc/svg/basic_16_drag.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+YmFzaWNfMTZfZHJhZzwvdGl0bGU+CiAgICA8ZyBpZD0i5o6n5Lu2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i57yW57uEIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02LDExIEM2LjU1MjI4NDc1LDExIDcsMTEuNDQ3NzE1MyA3LDEyIEM3LDEyLjU1MjI4NDcgNi41NTIyODQ3NSwxMyA2LDEzIEM1LjQ0NzcxNTI1LDEzIDUsMTIuNTUyMjg0NyA1LDEyIEM1LDExLjQ0NzcxNTMgNS40NDc3MTUyNSwxMSA2LDExIFogTTEwLDExIEMxMC41NTIyODQ3LDExIDExLDExLjQ0NzcxNTMgMTEsMTIgQzExLDEyLjU1MjI4NDcgMTAuNTUyMjg0NywxMyAxMCwxMyBDOS40NDc3MTUyNSwxMyA5LDEyLjU1MjI4NDcgOSwxMiBDOSwxMS40NDc3MTUzIDkuNDQ3NzE1MjUsMTEgMTAsMTEgWiBNNiw3IEM2LjU1MjI4NDc1LDcgNyw3LjQ0NzcxNTI1IDcsOCBDNyw4LjU1MjI4NDc1IDYuNTUyMjg0NzUsOSA2LDkgQzUuNDQ3NzE1MjUsOSA1LDguNTUyMjg0NzUgNSw4IEM1LDcuNDQ3NzE1MjUgNS40NDc3MTUyNSw3IDYsNyBaIE0xMCw3IEMxMC41NTIyODQ3LDcgMTEsNy40NDc3MTUyNSAxMSw4IEMxMSw4LjU1MjI4NDc1IDEwLjU1MjI4NDcsOSAxMCw5IEM5LjQ0NzcxNTI1LDkgOSw4LjU1MjI4NDc1IDksOCBDOSw3LjQ0NzcxNTI1IDkuNDQ3NzE1MjUsNyAxMCw3IFogTTYsMyBDNi41NTIyODQ3NSwzIDcsMy40NDc3MTUyNSA3LDQgQzcsNC41NTIyODQ3NSA2LjU1MjI4NDc1LDUgNiw1IEM1LjQ0NzcxNTI1LDUgNSw0LjU1MjI4NDc1IDUsNCBDNSwzLjQ0NzcxNTI1IDUuNDQ3NzE1MjUsMyA2LDMgWiBNMTAsMyBDMTAuNTUyMjg0NywzIDExLDMuNDQ3NzE1MjUgMTEsNCBDMTEsNC41NTIyODQ3NSAxMC41NTIyODQ3LDUgMTAsNSBDOS40NDc3MTUyNSw1IDksNC41NTIyODQ3NSA5LDQgQzksMy40NDc3MTUyNSA5LjQ0NzcxNTI1LDMgMTAsMyBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjODE4NjhGIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"../node_modules/@tencent/docs-design-resources/x-pc/svg/data_multiselect.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk1MDAyIDhMMy43NSA1LjkxMzE2TDQuNjY2NjcgNS4wNDM2NEw1Ljk0OTg4IDYuMjYwODRMOC4zMzMzMyA0TDkuMjUgNC44Njk1Mkw1Ljk1MDAyIDhaTTIwLjI1IDUuOTQ0MzRIMTAuMjVWNy4xOTQzNEgyMC4yNVY1Ljk0NDM0Wk0yMC4yNSAxMS40NDQzSDEwLjI1VjEyLjY5NDNIMjAuMjVWMTEuNDQ0M1pNMTAuMjUgMTYuOTQ0M0gyMC4yNVYxOC4xOTQzSDEwLjI1VjE2Ljk0NDNaTTUuOTUwMDIgMTkuNUwzLjc1IDE3LjQxMzJMNC42NjY2NyAxNi41NDM2TDUuOTQ5ODggMTcuNzYwOEw4LjMzMzMzIDE1LjVMOS4yNSAxNi4zNjk1TDUuOTUwMDIgMTkuNVpNMy43NSAxMS45MTMyTDUuOTUwMDIgMTRMOS4yNSAxMC44Njk1TDguMzMzMzMgMTBMNS45NDk4OCAxMi4yNjA4TDQuNjY2NjcgMTEuMDQzNkwzLjc1IDExLjkxMzJaIiBmaWxsPSIjODE4NjhGIi8+Cjwvc3ZnPgo="},"../node_modules/@tencent/docs-design-resources/x-pc/svg/dropdown_24_hover.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZHJvcGRvd25fMjRfaG92ZXI8L3RpdGxlPgogICAgPGcgaWQ9IuS4u+ahhuaetiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWIl+ihqOeKtuaAgSZhbXA75Zu+5qCH6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjY1OC4wMDAwMDAsIC00NzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLlm77moIciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0NjYuMDAwMDAwLCAzMzcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i57yW57uELTQ5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDQuMDAwMDAwLCAxMjIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuS4i+aLieeureWktCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDIwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaG92ZXIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4LjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGwtb3BhY2l0eT0iMC4wNCIgZmlsbD0iIzAwMDAwMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IlBDL+WfuuehgC/nrq3lpLQv5LiL5aSH5Lu9LTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCA0LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIHg9IjAiIHk9IjAiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgcng9IjIiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iUEMv5Z+656GAL+eureWktC/kuIoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMDAwMDAwLCA4LjAwMDAwMCkgc2NhbGUoMSwgLTEpIHRyYW5zbGF0ZSgtOC4wMDAwMDAsIC04LjAwMDAwMCkgIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOC4yMTMzMzMzMyw1LjYxNzc3Nzc4IEwxMS42OCwxMC4yNCBDMTEuNzY4MzY1NiwxMC4zNTc4MjA3IDExLjc0NDQ4NzQsMTAuNTI0OTY3OCAxMS42MjY2NjY3LDEwLjYxMzMzMzMgQzExLjU4MDUwNzcsMTAuNjQ3OTUyNiAxMS41MjQzNjU0LDEwLjY2NjY2NjcgMTEuNDY2NjY2NywxMC42NjY2NjY3IEw0LjUzMzMzMzMzLDEwLjY2NjY2NjcgQzQuMzg2MDU3NCwxMC42NjY2NjY3IDQuMjY2NjY2NjcsMTAuNTQ3Mjc1OSA0LjI2NjY2NjY3LDEwLjQgQzQuMjY2NjY2NjcsMTAuMzQyMzAxMyA0LjI4NTM4MDc3LDEwLjI4NjE1OSA0LjMyLDEwLjI0IEw3Ljc4NjY2NjY3LDUuNjE3Nzc3NzggQzcuODc1MDMyMjMsNS40OTk5NTcwMyA4LjA0MjE3OTI1LDUuNDc2MDc4ODggOC4xNiw1LjU2NDQ0NDQ0IEM4LjE4MDIxNDg0LDUuNTc5NjA1NTggOC4xOTgxNzIyLDUuNTk3NTYyOTMgOC4yMTMzMzMzMyw1LjYxNzc3Nzc4IFoiIGlkPSLkuInop5LlvaIiIGZpbGw9IiM4MTg2OEYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/x-pc/svg/dropdown_24_nor.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ZHJvcGRvd25fMjRfbm9yPC90aXRsZT4KICAgIDxnIGlkPSLkuLvmoYbmnrYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLliJfooajnirbmgIEmYW1wO+Wbvuagh+i1hOa6kCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MTAuMDAwMDAwLCAtNDc5LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i5Zu+5qCHIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDY2LjAwMDAwMCwgMzM3LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Iue8lue7hC00OSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ0LjAwMDAwMCwgMTIyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJub3IiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iUEMv5Z+656GAL+eureWktC/kuIvlpIfku70tMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC4wMDAwMDAsIDQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iUEMv5Z+656GAL+eureWktC/kuIoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMDAwMDAwLCA4LjAwMDAwMCkgc2NhbGUoMSwgLTEpIHRyYW5zbGF0ZSgtOC4wMDAwMDAsIC04LjAwMDAwMCkgIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHJ4PSIyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguMjEzMzMzMzMsNS42MTc3Nzc3OCBMMTEuNjgsMTAuMjQgQzExLjc2ODM2NTYsMTAuMzU3ODIwNyAxMS43NDQ0ODc0LDEwLjUyNDk2NzggMTEuNjI2NjY2NywxMC42MTMzMzMzIEMxMS41ODA1MDc3LDEwLjY0Nzk1MjYgMTEuNTI0MzY1NCwxMC42NjY2NjY3IDExLjQ2NjY2NjcsMTAuNjY2NjY2NyBMNC41MzMzMzMzMywxMC42NjY2NjY3IEM0LjM4NjA1NzQsMTAuNjY2NjY2NyA0LjI2NjY2NjY3LDEwLjU0NzI3NTkgNC4yNjY2NjY2NywxMC40IEM0LjI2NjY2NjY3LDEwLjM0MjMwMTMgNC4yODUzODA3NywxMC4yODYxNTkgNC4zMiwxMC4yNCBMNy43ODY2NjY2Nyw1LjYxNzc3Nzc4IEM3Ljg3NTAzMjIzLDUuNDk5OTU3MDMgOC4wNDIxNzkyNSw1LjQ3NjA3ODg4IDguMTYsNS41NjQ0NDQ0NCBDOC4xODAyMTQ4NCw1LjU3OTYwNTU4IDguMTk4MTcyMiw1LjU5NzU2MjkzIDguMjEzMzMzMzMsNS42MTc3Nzc3OCBaIiBpZD0i5LiJ6KeS5b2iIiBmaWxsPSIjODE4NjhGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},"../node_modules/@tencent/docs-design-resources/x-pc/svg/icon_smartsheet_attribute_link.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOC43MjY3IDExLjQyMTJDMjAuNDI0NCA5LjcyMzUzIDIwLjQyNDQgNi45NzA5OSAxOC43MjY3IDUuMjczMjhDMTcuMDI5IDMuNTc1NTcgMTQuMjc2NSAzLjU3NTU3IDEyLjU3ODggNS4yNzMyOEwxMC4yNzMzIDcuNTc4NzZDOC41NzU1NyA5LjI3NjQ3IDguNTc1NTcgMTIuMDI5IDEwLjI3MzMgMTMuNzI2N0MxMC43NzY4IDE0LjIzMDMgMTEuMzczMiAxNC41ODQ1IDEyLjAwNzMgMTQuNzg5M0MxMi4wMzczIDE0LjM1NjggMTIuMTU5IDEzLjk0OTUgMTIuMzUzIDEzLjU4NjhDMTEuOTE2IDEzLjQzOTEgMTEuNTA1NCAxMy4xOTExIDExLjE1NzIgMTIuODQyOEM5Ljk0NzYxIDExLjYzMzMgOS45NDc2MSA5LjY3MjIgMTEuMTU3MiA4LjQ2MjY1TDEzLjQ2MjYgNi4xNTcxN0wxMy42MDU1IDYuMDIyOTdDMTQuODIxOSA0Ljk0OTQgMTYuNjc5OCA0Ljk5NDEzIDE3Ljg0MjggNi4xNTcxN0wxNy45NzcgNi4yOTk5OEMxOS4wNTA2IDcuNTE2NDYgMTkuMDA1OSA5LjM3NDMyIDE3Ljg0MjggMTAuNTM3NEwxNi4xNTEzIDEyLjIyODlDMTYuNTQ5NSAxMi4zOTQ1IDE2LjkwNDMgMTIuNjQzNCAxNy4xOTQgMTIuOTUzOUwxOC43MjY3IDExLjQyMTJaTTEzIDEwQzEzIDEwLjM5MDQgMTIuOTI1NCAxMC43NjMzIDEyLjc4OTggMTEuMTA1NEMxMi44MDc2IDExLjEyMjQgMTIuODI1MyAxMS4xMzk2IDEyLjg0MjggMTEuMTU3MkwxMi45NzcgMTEuM0MxNC4wNTA2IDEyLjUxNjUgMTQuMDA1OSAxNC4zNzQzIDEyLjg0MjggMTUuNTM3NEwxMC41Mzc0IDE3Ljg0MjhMMTAuMzk0NSAxNy45NzdDOS4xNzgwNiAxOS4wNTA2IDcuMzIwMiAxOS4wMDU5IDYuMTU3MTcgMTcuODQyOEM0Ljk0NzYxIDE2LjYzMzMgNC45NDc2MSAxNC42NzIyIDYuMTU3MTcgMTMuNDYyNkw3LjY5NzA3IDExLjkyMjdDNy40MTcyMiAxMS41ODc5IDcuMjA5MDMgMTEuMTkxMSA3LjA5NjA2IDEwLjc1Nkw1LjI3MzI4IDEyLjU3ODhDMy41NzU1NyAxNC4yNzY1IDMuNTc1NTcgMTcuMDI5IDUuMjczMjggMTguNzI2N0M2Ljk3MDk5IDIwLjQyNDQgOS43MjM1MyAyMC40MjQ0IDExLjQyMTIgMTguNzI2N0wxMy43MjY3IDE2LjQyMTJDMTUuNDI0NCAxNC43MjM1IDE1LjQyNDQgMTEuOTcxIDEzLjcyNjcgMTAuMjczM0MxMy40OTY0IDEwLjA0MjkgMTMuMjQ2NiA5Ljg0Mzg1IDEyLjk4MjcgOS42NzYwMUMxMi45OTQxIDkuNzgyNDQgMTMgOS44OTA1NCAxMyAxMFoiIGZpbGw9IiM4MTg2OEYiLz4KPC9zdmc+Cg=="},"../node_modules/@tencent/docs-design-resources/x-pc/svg/icon_smartsheet_control_add.svg":function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9zbWFydHNoZWV0X2NvbnRyb2xfYWRkPC90aXRsZT4KICAgIDxnIGlkPSJQQ+aZuuiDveihqOagvOS4u+mhtemdoiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWIl+ihqOeKtuaAgSZhbXA75Zu+5qCH6LWE5rqQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcwMC4wMDAwMDAsIC03NzAuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLlm77moIciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDAuMDAwMDAwLCA1ODIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0i6KGo5Y2V5pON5L2cIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTg4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJf5Zu+5qCHL+W3peWFt+agjy8wNF/lubvnga/niYcv6aG16Z2i5pS+5aSnIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjAuMDAwMDAwLCAwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLDcgTDEzLDExIEwxNywxMSBMMTcsMTMgTDEzLDEzIEwxMywxNyBMMTEsMTcgTDExLDEzIEw3LDEzIEw3LDExIEwxMSwxMSBMMTEsNyBMMTMsNyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9IiM4MTg2OEYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="}}]),window.jsExecEndTimeStamp=Date.now(),window.cachedPerformanceEntries||(window.cachedPerformanceEntries=[]),window.cachedPerformanceEntries.push({name:"jsExec: js/initial_vendors_tencent_3.8f4d874ebde84ccd3d20.js",entryType:"jsExec",startTime:window.jsExecStartTimeStamp,endTime:window.jsExecEndTimeStamp});
//# sourceMappingURL=initial_vendors_tencent_3.8f4d874ebde84ccd3d20.js.map