!function(o,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var i in e)("object"==typeof exports?exports:o)[i]=e[i]}}(self,(function(){return(()=>{"use strict";var o={d:(n,e)=>{for(var i in e)o.o(e,i)&&!o.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},o:(o,n)=>Object.prototype.hasOwnProperty.call(o,n),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},n={};o.r(n),o.d(n,{BridgeDocsDetailHook:()=>e});var e=function(){function o(){}return o.execute=function(){var n,e;this.initEnvironment();try{if(!this.checkBridgeInstances())return;for(var i=function(o){o.hook(),window.addEventListener("beforeunload",(function(){o.onDestroy()}))},t=0,r=null===(n=window.top)||void 0===n?void 0:n.bridgeInstances;t<r.length;t++)i(r[t])}catch(n){null===(e=window.log)||void 0===e||e.warn(o.TAG,"cross domain happen! Not in same domain!")}},o.checkBridgeInstances=function(){var n,e,i,t,r,d,l="离线包: "+(window.__isOfflinePkg?"开":"关");return window.top!==window&&(null===(n=window.top)||void 0===n?void 0:n.globalBoxEnv)?(null===(t=null===(i=window.log)||void 0===i?void 0:i.info)||void 0===t||t.call(i,o.TAG,"当前环境为 iframe 容器",l,JSON.stringify(window.top.globalBoxEnv)),!(((null===(r=window.top)||void 0===r?void 0:r.bridgeInstances)||[]).length<=0)||(null===(d=window.log)||void 0===d||d.error(o.TAG,"bridgeInstances is empty"),!1)):(null===(e=window.log)||void 0===e||e.info(o.TAG,"当前环境不在 iframe 容器!",l),!1)},o.initEnvironment=function(){var n;try{document.domain=document.domain.split(".").slice(-3).join(".")}catch(e){null===(n=window.log)||void 0===n||n.error(o.TAG,"domain change error.",e)}},o.TAG="BridgeDocsDetailHook",o}();return e.execute(),n})()}));