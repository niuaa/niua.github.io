self.window=self,window.jsExecStartTimeStamp=Date.now(),(self.webpackChunk_tencent_alloy_builder=self.webpackChunk_tencent_alloy_builder||[]).push([["initial_vendors_tencent_ark"],{"../node_modules/@tencent/ark-application/lib/index.js":function(e,t,n){n.d(t,{aG:function(){return mp},eU:function(){return yp},jE:function(){return c},y5:function(){return Ha}});var r=n("../node_modules/@tencent/containerized/build/main/index.js"),o=n("../node_modules/@tencent/logger/lib/index.js"),i=n("../node_modules/@tencent/ark-domain/lib/index.js"),s=n("../node_modules/@tencent/dispose-tree/build/main/index.js"),u=n("../node_modules/@tencent/tencent_doc_open_url/dist/index.js"),a=n("../node_modules/buffer/index.js").Buffer,c=(0,r.yh)("IConnectionControllerService"),f=function(e,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},f(e,t)};function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};function d(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function h(e,t){return function(n,r){t(n,r,e)}}function g(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function v(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))}function y(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function m(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function _(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var E="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function S(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function O(e){var t={exports:{}};return e(t,t.exports),t.exports}var C=Object.defineProperty({},"__esModule",{value:!0}),T=O((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0,function(e){e.UNKNOWN="UNKNOWN",e.HEART_BEAT="HEART_BEAT",e.CLIENT_READY="CLIENT_READY",e.CURSOR_MESSAGE="CURSOR_MESSAGE",e.USER_NEWINFO="USER_NEWINFO",e.USER_NEWINFOS="USER_NEWINFOS",e.USER_LEAVE="USER_LEAVE",e.USER_LEAVES="USER_LEAVES",e.QUIT_NOTICE="QUIT_NOTICE",e.USER_CHANGES="USER_CHANGES",e.NEW_CHANGES="NEW_CHANGES",e.ACCEPT_COMMIT="ACCEPT_COMMIT",e.GET_PRIVILEGE="GET_PRIVILEGE",e.BIG_COLLAB_SWITCH="BIG_COLLAB_SWITCH"}(n||(n={})),t.Command=n})),R=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Result=void 0;var n=function(e,t){e&&(this.error=e),void 0!==t&&(this.data=t)};t.Result=n})),A=O((function(e,t){var n=E&&E.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.HttpError=void 0;var r=function(e){function t(t,n,r){var o=e.call(this,r+", statusCode:"+t+" ")||this;return o.name="HttpError",o.statusCode=t,o.errorCode=n,o}return n(t,e),t}(Error);t.HttpError=r})),x=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(C,t),r(T,t),r(R,t),r(A,t)})),I=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDecodeURIComponentValue=t.getCookieForMessage=t.Cookie=void 0;var n=function(e){try{return decodeURIComponent(e)}catch(ae){return e}};t.getDecodeURIComponentValue=n;var r={get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?n(t[2]):""},getXsrf:function(){return r.get("TOK")||""}};t.Cookie=r,t.getCookieForMessage=function(e){void 0===e&&(e=!1);var t="";if(e){var o=document.cookie.split(";");t=o.map((function(e){var t=/(\w+)=(.*)/.exec(e.trim())||[],r=t[0],o=t[1],i=t[2];return o?o+"="+n(i):r})).join(";")}else["p_luin","p_lskey","p_skey","p_uin","uid","uid_key","ww_utoken","SID","SID_S"].forEach((function(e){var n=r.get(e);n&&(t=t+" "+e+"="+n+";")}));return t}})),k=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initLogAndManager=t.ConnectionLog=void 0;var n={ConnectionLogModule:"ConnectionLog ",liteReconnects:0,needSaveLog:function(){return n.liteReconnects<5},debug:function(){},info:function(){},warn:function(){},error:function(){}};t.ConnectionLog=n,t.initLogAndManager=function(e){e&&(n.debug=function(t){var r;n.needSaveLog()&&(null===(r=e.debug)||void 0===r||r.call(e,n.ConnectionLogModule,t))},n.info=function(t){var r;n.needSaveLog()&&(null===(r=e.info)||void 0===r||r.call(e,n.ConnectionLogModule,t))},n.warn=function(t){var r;n.needSaveLog()&&(null===(r=e.warn)||void 0===r||r.call(e,n.ConnectionLogModule,t))},n.error=function(t){var r;n.needSaveLog()&&(null===(r=e.error)||void 0===r||r.call(e,n.ConnectionLogModule,t))})}})),M=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initReportManager=t.ReportManager=void 0;var n={tdw:function(e){},monitor:function(e){}};t.ReportManager=n,t.initReportManager=function(e){e&&(n.tdw=function(t){var n;null===(n=e.tdw)||void 0===n||n.call(e,t)},n.monitor=function(t){var n;null===(n=e.monitor)||void 0===n||n.call(e,t)})}})),D=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateMessageTaskId=t.generateUuid=void 0,t.generateUuid=function(e,t){return t?e+t.slice(0,5):e},t.generateMessageTaskId=function(){return Math.ceil(0x4189374bc6a7f0*Math.random())}})),P=L,N=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.JsonUtil=void 0;var n=function(){function e(){}return e.parseJson=function(e){var t;try{t=JSON.parse(e)}catch(n){P.ConnectionLog.error("parseJson: error = "+n+".")}return t},e.jsonStringify=function(e){var t="";try{t=JSON.stringify(e)}catch(n){P.ConnectionLog.error("jsonStringify: error = "+n+".")}return t},e}();t.JsonUtil=n})),L=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(I,t),r(k,t),r(M,t),r(D,t),r(N,t)})),j=O((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MiddleWareCenter=t.MiddleWareType=void 0,function(e){e.RECEIVE_MESSAGE_FROM_SERVER="RECEIVE_MESSAGE_FROM_SERVER"}(n||(n={})),t.MiddleWareType=n;var r=function(){function e(){this.middleWares=new Map}return e.prototype.useMiddleWare=function(e,t){if(e&&t){var n=this.getMiddleWares(e);n.push(t),this.middleWares.set(e,n)}},e.prototype.run=function(e,t){var n=this.getMiddleWares(e);this.compose(n,t)},e.prototype.getMiddleWares=function(e){var t;return null!==(t=this.middleWares.get(e))&&void 0!==t?t:[]},e.prototype.compose=function(e,t){var n=-1;return function r(o){if(o<=n)throw new Error("next only called once");if(n=o,o===e.length)return t;var i=e[o];return null===i||void 0===i?void 0:i(t,r.bind(null,o+1))}(0)},e}();t.MiddleWareCenter=r})),U=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(j,t)})),F=O((function(e,t){var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.FOREVER_LIMIT_FREQUENCY=t.NOT_LIMIT_FREQUENCY=t.LIMIT_FREQUENCY_STRAGEGY=t.MAX_THRESHOLD=t.MIDDLE_THRESHOLD=t.MIN_THRESHOLD=t.LimitFrequencyLevel=t.MessagePriority=void 0,function(e){e[e.HIGH=0]="HIGH",e[e.MIDDLE=1]="MIDDLE",e[e.LOW=2]="LOW"}(n||(n={})),t.MessagePriority=n,function(e){e[e.LOW=0]="LOW",e[e.MIDDLE=1]="MIDDLE",e[e.HIGH=2]="HIGH",e[e.HIGHEST=3]="HIGHEST"}(r||(r={})),t.LimitFrequencyLevel=r,t.MIN_THRESHOLD=20,t.MIDDLE_THRESHOLD=50,t.MAX_THRESHOLD=100,t.NOT_LIMIT_FREQUENCY=0;var o=Number.MAX_SAFE_INTEGER;t.FOREVER_LIMIT_FREQUENCY=o;var i=[[0,0,0,0],[0,5e3,1e4,2e4],[0,1e4,2e4,o]];t.LIMIT_FREQUENCY_STRAGEGY=i})),W=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LimitFrequencyMessage=void 0;var n=function(){function e(e,t,n){this.type=e,this.priority=t,this.dependency=n,this.duration=F.NOT_LIMIT_FREQUENCY,this.messages=[]}return e.prototype.shouldLimit=function(e){return this.type===e},e.prototype.handleMessage=function(e,t,n){var r=this;this.memberCount=n;var o=this.calculateLimitDuration(t);o!==F.NOT_LIMIT_FREQUENCY?(e.needDeal=!1,o!==F.FOREVER_LIMIT_FREQUENCY?(this.pushMessage(e),o!==this.duration&&(this.reset(),this.duration=o,this.transferTimer=setInterval((function(){r.transfer()}),this.duration))):this.duration=o):o!==this.duration&&(this.transfer(),this.reset())},e.prototype.pushMessage=function(e){this.messages.push(e)},e.prototype.transfer=function(){if(this.messages.length){var e=this.transferType();P.ConnectionLog.info("transfer memberCount:"+this.memberCount+", type:"+e+", duration:"+this.duration),this.transferToBusiness(e,this.messages),this.messages.splice(0,this.messages.length)}},e.prototype.transferToBusiness=function(e,t){this.dependency.handleOnReceivMsgFromServer(e,t)},e.prototype.reset=function(){clearInterval(this.transferTimer),this.transferTimer=0,this.duration=F.NOT_LIMIT_FREQUENCY},e.prototype.calculateLimitDuration=function(e){try{return this.priority===F.MessagePriority.HIGH?F.NOT_LIMIT_FREQUENCY:F.LIMIT_FREQUENCY_STRAGEGY[this.priority][e]}catch(t){return F.NOT_LIMIT_FREQUENCY}},e.prototype.transferType=function(){return this.type+"S"},e}();t.LimitFrequencyMessage=n})),q=O((function(e,t){var n=E&&E.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.USER_INOUT_TYPE=t.UserInoutMessage=void 0;var r="USER_INOUT_TYPE";t.USER_INOUT_TYPE=r;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userNewInfos=new Map,t.userLeaves=new Map,t}return n(t,e),t.prototype.shouldLimit=function(e){return["USER_NEWINFO","USER_LEAVE"].includes(e)},t.prototype.pushMessage=function(e){var t=e.body.notice;"USER_NEWINFO"===e.head.type&&this.pushUserNewInfo(t),"USER_LEAVE"===e.head.type&&this.pushUserLeave(t)},t.prototype.transfer=function(){var e;(this.userNewInfos.size||(null===(e=this.userLeaves)||void 0===e?void 0:e.size))&&(P.ConnectionLog.info("transfer memberCount:"+this.memberCount+", type:USER_INOUT_TYPE, duration:"+this.duration),this.transferUserNewInfo(),this.transferUserLeave(),this.userNewInfos.clear(),this.userLeaves.clear())},t.prototype.transferUserNewInfo=function(){if(this.userNewInfos.size){var e=Array.from(this.userNewInfos.values());this.userNewInfos.clear();var t={head:{type:"USER_NEWINFOS"},body:{mem_count:this.memberCount,notices:e}};this.transferToBusiness("USER_NEWINFOS",[t])}},t.prototype.transferUserLeave=function(){var e;if(null===(e=this.userLeaves)||void 0===e?void 0:e.size){var t=Array.from(this.userLeaves.values());this.userLeaves.clear();var n={head:{type:"USER_LEAVES"},body:{mem_count:this.memberCount,notices:t}};this.transferToBusiness("USER_LEAVES",n)}},t.prototype.pushUserNewInfo=function(e){e&&e.uuId&&(this.userLeaves.has(e.uuId)?this.userLeaves.delete(e.uuId):this.userNewInfos.set(e.uuId,e))},t.prototype.pushUserLeave=function(e){e&&e.uuId&&(this.userNewInfos.has(e.uuId)?this.userNewInfos.delete(e.uuId):this.userLeaves.set(e.uuId,e))},t}(W.LimitFrequencyMessage);t.UserInoutMessage=o})),B=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LimitFrequencyManager=void 0;var n=function(){function e(e){this.dependency=e,this.limitFrequencyMessageMap=new Map,this.limitFrequencyMessageMap.set(q.USER_INOUT_TYPE,new q.UserInoutMessage(q.USER_INOUT_TYPE,F.MessagePriority.MIDDLE,this.dependency))}return e.prototype.dispose=function(){this.limitFrequencyMessageMap.clear(),this.reset()},e.prototype.reset=function(){this.memberCount=0},e.prototype.setPriority=function(e,t){this.limitFrequencyMessageMap.get(e)&&P.ConnectionLog.warn("LimitFrequencyManager type:"+e+" is exit."),this.limitFrequencyMessageMap.set(e,new W.LimitFrequencyMessage(e,t,this.dependency))},e.prototype.handleMessage=function(e){var t=this;this.updateMemberCount(e),this.limitFrequencyMessageMap.forEach((function(n){var r=e.head.type;n.shouldLimit(r)&&(null===n||void 0===n||n.handleMessage(e,t.getLimitFrequencyLevel(),t.memberCount))}))},e.prototype.updateMemberCount=function(e){var t,n,r,o,i;if(["USER_NEWINFO","USER_NEWINFOS","USER_LEAVE","USER_LEAVES"].includes(e.head.type)){var s=null!==(i=null!==(r=null===(n=null===(t=e.body)||void 0===t?void 0:t.notice)||void 0===n?void 0:n.mem_count)&&void 0!==r?r:null===(o=e.body)||void 0===o?void 0:o.mem_count)&&void 0!==i?i:0;this.memberCount=s}},e.prototype.getLimitFrequencyLevel=function(){return this.memberCount<=F.MIN_THRESHOLD?F.LimitFrequencyLevel.LOW:this.memberCount<=F.MIDDLE_THRESHOLD?F.LimitFrequencyLevel.MIDDLE:this.memberCount<=F.MAX_THRESHOLD?F.LimitFrequencyLevel.HIGH:F.LimitFrequencyLevel.HIGHEST},e}();t.LimitFrequencyManager=n})),Q=Object.defineProperty({},"__esModule",{value:!0}),V=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(W,t),r(F,t),r(B,t),r(Q,t)})),G=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(U,t),r(V,t)})),K=O((function(e,t){var n,r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageState=t.MessageWaitAcceptCmd=t.MessageResultEvent=t.RoomState=void 0,function(e){e.INIT="INIT",e.CONNECTING="CONNECTING",e.OPENED="OPENED",e.RECONNECTING_IN_CLOSED="RECONNECTING_In_CLOSED",e.SHUTDOWN="SHUTDOWN"}(n||(n={})),t.RoomState=n,function(e){e.ON_POST="onpost",e.NET_STATUS_CHANGE="netStatusChange",e.ON_SEND_ACCEPT="onsendAccept"}(r||(r={})),t.MessageResultEvent=r,function(e){e.ACCEPT_COMMIT="ACCEPT_COMMIT",e.COMMIT_ERROR="COMMIT_ERROR",e.TASK_DUPLICATE="TASK_DUPLICATE"}(o||(o={})),t.MessageWaitAcceptCmd=o,function(e){e.UNKNOWN="unknown",e.SENDING="sending",e.WAITTING="waitting",e.WAIT_ACCEPT="waitAccept"}(i||(i={})),t.MessageState=i})),H=O((function(e,t){var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketErrorCode=t.RoomErrorCode=void 0,function(e){e[e.SUCCESS=0]="SUCCESS",e[e.TIMEOUT=101]="TIMEOUT",e[e.PARA_ERROR=102]="PARA_ERROR",e[e.EXIST=103]="EXIST",e[e.ROOM_DISCONNECT=104]="ROOM_DISCONNECT",e[e.ROOM_CLOSE=105]="ROOM_CLOSE",e[e.ROOM_STATE_ERR=106]="ROOM_STATE_ERR"}(n||(n={})),t.RoomErrorCode=n,function(e){e[e.SOCKET_SERVER_SUCCESS=0]="SOCKET_SERVER_SUCCESS",e[e.SOCKET_DATA_SERVER_UNKNOWN_ERROR=1e4]="SOCKET_DATA_SERVER_UNKNOWN_ERROR",e[e.SOCKET_DATA_PROTOCOL_FIELD_LACK=10001]="SOCKET_DATA_PROTOCOL_FIELD_LACK",e[e.SOCKET_DATA_SERVER_ERROR=4e4]="SOCKET_DATA_SERVER_ERROR",e[e.SOCKET_DATA_DOC_NOT_EXIST=40001]="SOCKET_DATA_DOC_NOT_EXIST",e[e.SOCKET_DATA_SUBID_ERROR=40002]="SOCKET_DATA_SUBID_ERROR",e[e.SOCKET_DATA_ACTION_LENGTH=40003]="SOCKET_DATA_ACTION_LENGTH",e[e.SOCKET_DATA_CHANGESET_EASYSYNC=40005]="SOCKET_DATA_CHANGESET_EASYSYNC",e[e.SOCKET_DATA_SAVE_FAIL=40006]="SOCKET_DATA_SAVE_FAIL",e[e.SOCKET_DATA_READ_FAIL=40020]="SOCKET_DATA_READ_FAIL",e[e.SOCKET_DATA_BASEREV_ERROR=40021]="SOCKET_DATA_BASEREV_ERROR",e[e.SOCKET_DATA_NOT_SUPPORTED_TYPE=40022]="SOCKET_DATA_NOT_SUPPORTED_TYPE",e[e.SOCKET_DATA_NOT_SUPPORTED_PROTO=40023]="SOCKET_DATA_NOT_SUPPORTED_PROTO",e[e.SOCKET_GRAY_VERSION_INCONFORMITY=40024]="SOCKET_GRAY_VERSION_INCONFORMITY",e[e.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT=40025]="SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT",e[e.SOCKET_DATA_CONTENT_LIMIT=40026]="SOCKET_DATA_CONTENT_LIMIT",e[e.SOCKET_DATA_REV_DIFF_UPPER_TEN=40027]="SOCKET_DATA_REV_DIFF_UPPER_TEN",e[e.SOCKET_DATA_EASYSYNC_TIMEOUT=40028]="SOCKET_DATA_EASYSYNC_TIMEOUT",e[e.SOCKET_CLIENT_VERSION_TOO_OLD=40029]="SOCKET_CLIENT_VERSION_TOO_OLD",e[e.SOCKET_JS_TOO_OLD=40030]="SOCKET_JS_TOO_OLD",e[e.SOCKET_NOT_CONFILCT_TO_COMMIT=40031]="SOCKET_NOT_CONFILCT_TO_COMMIT",e[e.SOCKET_COMMIT_QUEUE_NORMAL_LOCK=40032]="SOCKET_COMMIT_QUEUE_NORMAL_LOCK",e[e.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK=40033]="SOCKET_COMMIT_QUEUE_OFFLINE_LOCK",e[e.SOCKET_COMMIT_DVER_INCONFORMITY=40034]="SOCKET_COMMIT_DVER_INCONFORMITY",e[e.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR=40035]="SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR",e[e.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR=40036]="SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR",e[e.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR=40037]="SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR",e[e.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION=40038]="SOCKET_WEB_VERSION_GREATER_SERVER_VERSION",e[e.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT=40039]="SOCKET_SHEET_ROW_COL_NUMBER_LIIMT",e[e.SOCKET_DATA_DOCID_ERROR=41001]="SOCKET_DATA_DOCID_ERROR",e[e.SOCKET_DATA_PROTOCOL_TYPE_ERROR=41002]="SOCKET_DATA_PROTOCOL_TYPE_ERROR",e[e.SOCKET_SERVER_ERROR=6e4]="SOCKET_SERVER_ERROR",e[e.SOCKET_LAYER_ERROR=60001]="SOCKET_LAYER_ERROR",e[e.SOCKET_CLIENT_NOT_READY_ERROR=60002]="SOCKET_CLIENT_NOT_READY_ERROR",e[e.SOCKET_CLIENT_DATA_ERROR=60003]="SOCKET_CLIENT_DATA_ERROR",e[e.SOCKET_COLLAB_ROOM_TIMEOUT=60004]="SOCKET_COLLAB_ROOM_TIMEOUT",e[e.SOCKET_COLLAB_SERVER_TIMEOUT=60005]="SOCKET_COLLAB_SERVER_TIMEOUT",e[e.SOCKET_USER_AUTH_FAILED=60006]="SOCKET_USER_AUTH_FAILED",e[e.SOCKET_DOC_PRIVILEGE_FAILED=60007]="SOCKET_DOC_PRIVILEGE_FAILED",e[e.SOCKET_PACKAGE_SIZE_TOO_LARGE=60008]="SOCKET_PACKAGE_SIZE_TOO_LARGE",e[e.SOCKET_COLLAB_ROOM_ALREADY_EXIST=60009]="SOCKET_COLLAB_ROOM_ALREADY_EXIST",e[e.SOCKET_COLLAB_ROOM_MEMBER_FULL=60010]="SOCKET_COLLAB_ROOM_MEMBER_FULL",e[e.SOCKET_SERVER_STORAGE_TIMEOUT=60011]="SOCKET_SERVER_STORAGE_TIMEOUT",e[e.SOCKET_SERVER_CGI_TIMEOUT=60013]="SOCKET_SERVER_CGI_TIMEOUT",e[e.SOCKET_FREQUENCY_LIMIT=60014]="SOCKET_FREQUENCY_LIMIT",e[e.SOCKET_USER_DOC_NOPRIVILEGE=60015]="SOCKET_USER_DOC_NOPRIVILEGE",e[e.SOCKET_USER_CHANGE_PARAM_ERROR=60016]="SOCKET_USER_CHANGE_PARAM_ERROR",e[e.SOCKET_COMMAND_NOT_SUPPORTED=60017]="SOCKET_COMMAND_NOT_SUPPORTED",e[e.SOCKET_HACKPAD_TIMEOUT=60018]="SOCKET_HACKPAD_TIMEOUT",e[e.SOCKET_SERVER_WAITTING_TOO_LONG=60019]="SOCKET_SERVER_WAITTING_TOO_LONG",e[e.SOCKET_SERVER_WAITTING_TIMEOUT=60020]="SOCKET_SERVER_WAITTING_TIMEOUT",e[e.SOCKET_AUTH_TIMEOUT=60021]="SOCKET_AUTH_TIMEOUT",e[e.SOCKET_GET_PRIVILEGE_TIMEOUT=60022]="SOCKET_GET_PRIVILEGE_TIMEOUT",e[e.SOCKET_IP_BLACK_LIST=60030]="SOCKET_IP_BLACK_LIST",e[e.SOCKET_USER_BLACK_LIST=60031]="SOCKET_USER_BLACK_LIST",e[e.SOCKET_DOCMENT_BLACK_LIST=60032]="SOCKET_DOCMENT_BLACK_LIST",e[e.SOCKET_USERAGENT_BLACK_LIST=60033]="SOCKET_USERAGENT_BLACK_LIST",e[e.SOCKET_SWITCH_BIG_COLLAB=60034]="SOCKET_SWITCH_BIG_COLLAB",e[e.EXIT_BIG_COLLAB=60035]="EXIT_BIG_COLLAB",e[e.SOCKET_UNKNOWN_ERROR=-1]="SOCKET_UNKNOWN_ERROR",e[e.SOCKET_COLLABROOM_GET_VIP_FAIL=7e4]="SOCKET_COLLABROOM_GET_VIP_FAIL",e[e.SOCKET_COLLABROOM_NOT_VIP_FULL=70001]="SOCKET_COLLABROOM_NOT_VIP_FULL",e[e.SOCKET_COLLABROOM_DOC_DELETED=70002]="SOCKET_COLLABROOM_DOC_DELETED",e[e.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN=1000001]="ROOM_WEBSOCKET_DISPOSE_SHUTDOWN",e[e.INACTIVE=1000002]="INACTIVE",e[e.CODEREV_NEW=1000003]="CODEREV_NEW",e[e.SOCKET_SEND_MESSAGE_TIMEOUT=1000004]="SOCKET_SEND_MESSAGE_TIMEOUT"}(r||(r={})),t.RoomWebsocketErrorCode=r})),z=ya,Y=O((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomUtil=void 0;var r=((n={})[H.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR]="Server internal error, code = "+H.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR]="Connection not exist, code = "+H.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED]="TX-LOGIN-PSKEY-EXPIRED 登录态校验失败, code = "+H.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED,n[H.RoomWebsocketErrorCode.SOCKET_CLIENT_DATA_ERROR]="请求数据出错, code = "+H.RoomWebsocketErrorCode.SOCKET_CLIENT_DATA_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT]="后台房间超时, code = "+H.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT]="后台服务超时, code = "+H.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT]="后台存储超时, code = "+H.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT]="后台CGI超时, code = "+H.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_DOC_PRIVILEGE_FAILED]="权限校验失败, code = "+H.RoomWebsocketErrorCode.SOCKET_DOC_PRIVILEGE_FAILED,n[H.RoomWebsocketErrorCode.SOCKET_USER_DOC_NOPRIVILEGE]="权限校验无权限, code = "+H.RoomWebsocketErrorCode.SOCKET_USER_DOC_NOPRIVILEGE,n[H.RoomWebsocketErrorCode.SOCKET_PACKAGE_SIZE_TOO_LARGE]="超过最大包长限制, code = "+H.RoomWebsocketErrorCode.SOCKET_PACKAGE_SIZE_TOO_LARGE,n[H.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL]="Member full, code = "+H.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_MEMBER_FULL,n[H.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL]="Member full, code = "+H.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL,n[H.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT]="频率限制, code = "+H.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT,n[H.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT]="TX-LOGIN-PSKEY-EXPIRED 鉴权超时, code = "+H.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT]="权限超时, code = "+H.RoomWebsocketErrorCode.SOCKET_GET_PRIVILEGE_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_DATA_SERVER_UNKNOWN_ERROR]="后台发生未知异常错误, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_SERVER_UNKNOWN_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_FIELD_LACK]="数据协议字段缺失, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_FIELD_LACK,n[H.RoomWebsocketErrorCode.SOCKET_DATA_DOC_NOT_EXIST]="文档不存在, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_DOC_NOT_EXIST,n[H.RoomWebsocketErrorCode.SOCKET_DATA_SUBID_ERROR]="subId不正确, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_SUBID_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_DATA_ACTION_LENGTH]="提交失败 action检查失败, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_ACTION_LENGTH,n[H.RoomWebsocketErrorCode.SOCKET_DATA_CHANGESET_EASYSYNC]="changeset easysync 异常, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_CHANGESET_EASYSYNC,n[H.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL]="数据落盘失败, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_SAVE_FAIL,n[H.RoomWebsocketErrorCode.SOCKET_DATA_READ_FAIL]="读数据失败, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_READ_FAIL,n[H.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR]="baseRev错误, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_BASEREV_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_TYPE]="不支持文档类型, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_TYPE,n[H.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_PROTO]="不支持请求协议, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_NOT_SUPPORTED_PROTO,n[H.RoomWebsocketErrorCode.SOCKET_GRAY_VERSION_INCONFORMITY]="灰度版本号不一致, code = "+H.RoomWebsocketErrorCode.SOCKET_GRAY_VERSION_INCONFORMITY,n[H.RoomWebsocketErrorCode.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT]="编辑提交文档被禁止协同, code = "+H.RoomWebsocketErrorCode.SOCKET_DOCUMENT_EDIT_COLLAB_LIMIT,n[H.RoomWebsocketErrorCode.SOCKET_DATA_CONTENT_LIMIT]=" 编辑提交大小限制, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_CONTENT_LIMIT,n[H.RoomWebsocketErrorCode.SOCKET_DATA_REV_DIFF_UPPER_TEN]="base版本号与服务器最新版本差距超过10, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_REV_DIFF_UPPER_TEN,n[H.RoomWebsocketErrorCode.SOCKET_DATA_EASYSYNC_TIMEOUT]="当前提交后台处理协同冲突超时, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_EASYSYNC_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_CLIENT_VERSION_TOO_OLD]="CLIENT_READY 前端版本过期, code = "+H.RoomWebsocketErrorCode.SOCKET_CLIENT_VERSION_TOO_OLD,n[H.RoomWebsocketErrorCode.SOCKET_JS_TOO_OLD]="USER_CHANGES 前端版本过期, code = "+H.RoomWebsocketErrorCode.SOCKET_JS_TOO_OLD,n[H.RoomWebsocketErrorCode.SOCKET_NOT_CONFILCT_TO_COMMIT]="前端限制，存在冲突, code = "+H.RoomWebsocketErrorCode.SOCKET_NOT_CONFILCT_TO_COMMIT,n[H.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_NORMAL_LOCK]="提交队列被正常提交锁, code = "+H.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_NORMAL_LOCK,n[H.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK]="提交队列被离线提交锁, code = "+H.RoomWebsocketErrorCode.SOCKET_COMMIT_QUEUE_OFFLINE_LOCK,n[H.RoomWebsocketErrorCode.SOCKET_COMMIT_DVER_INCONFORMITY]="编辑提交，dver 版本不一致, code = "+H.RoomWebsocketErrorCode.SOCKET_COMMIT_DVER_INCONFORMITY,n[H.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR]="表格编辑提交，中台服务器错误, code = "+H.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MIDDLE_SERVER_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR]="表格编辑提交，提交mutaton格式错误, code = "+H.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_FORMAT_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR]="表格编辑提交，提交mutaton apply出错, code = "+H.RoomWebsocketErrorCode.SOCKET_SHEET_COMMIT_MUTATION_APPLY_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION]="前端版本大于后端版本, code = "+H.RoomWebsocketErrorCode.SOCKET_WEB_VERSION_GREATER_SERVER_VERSION,n[H.RoomWebsocketErrorCode.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT]="表格编辑单元格数，行数、列数超限, code = "+H.RoomWebsocketErrorCode.SOCKET_SHEET_ROW_COL_NUMBER_LIIMT,n[H.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR]="批量提交docid不一致, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR]="批量提交协议类型不一致, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_USER_CHANGE_PARAM_ERROR]="userchange 参数错误, code = "+H.RoomWebsocketErrorCode.SOCKET_USER_CHANGE_PARAM_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_COMMAND_NOT_SUPPORTED]="任务管理层发现不支持命令, code = "+H.RoomWebsocketErrorCode.SOCKET_COMMAND_NOT_SUPPORTED,n[H.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT]="commit error：Hackpad调用超时, code = "+H.RoomWebsocketErrorCode.SOCKET_HACKPAD_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG]="onpost：队列超长，前端延迟重试, code = "+H.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TOO_LONG,n[H.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT]="commit error：队列超时，前端延迟重试, code = "+H.RoomWebsocketErrorCode.SOCKET_SERVER_WAITTING_TIMEOUT,n[H.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR]="批量提交docid不一致, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_DOCID_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR]="批量提交协议类型不一致, code = "+H.RoomWebsocketErrorCode.SOCKET_DATA_PROTOCOL_TYPE_ERROR,n[H.RoomWebsocketErrorCode.SOCKET_COLLABROOM_GET_VIP_FAIL]="获取会员失败, code = "+H.RoomWebsocketErrorCode.SOCKET_COLLABROOM_GET_VIP_FAIL,n[H.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL]="登录非会员房间满员, code = "+H.RoomWebsocketErrorCode.SOCKET_COLLABROOM_NOT_VIP_FULL,n[H.RoomWebsocketErrorCode.SOCKET_COLLABROOM_DOC_DELETED]="文档已经被删除, code = "+H.RoomWebsocketErrorCode.SOCKET_COLLABROOM_DOC_DELETED,n[H.RoomWebsocketErrorCode.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN]="连接层 dispose 时关闭房间层错误码, code = "+H.RoomWebsocketErrorCode.ROOM_WEBSOCKET_DISPOSE_SHUTDOWN,n[H.RoomWebsocketErrorCode.INACTIVE]="后台房间踢人，原因是不活跃或者数据升级类, code = "+H.RoomWebsocketErrorCode.INACTIVE,n[H.RoomWebsocketErrorCode.CODEREV_NEW]=" 后台踢人，原因是数据版本dver、pver或者其他不匹配, code = "+H.RoomWebsocketErrorCode.CODEREV_NEW,n[H.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT]="Websocket 提交消息超时, code = "+H.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT,n),o=function(){function e(){}return e.getWebsocketChannelErrorMessage=function(e,t){var n;void 0===t&&(t="");var o=null!==(n=r[e])&&void 0!==n?n:"error msg, code = "+e;return t&&(o=t+" "+o),o},e.getCurrentTime=function(){return(new Date).getTime()},e.createNewMessage=function(e,t,n,r,o,i,s,u,a,c){return{taskId:e,postData:t,timeout:n,maxRetryCount:r,cmd:o,data:i,waitAcceptCmd:s,onError:u,onsend:a,onsendAccept:c,retryCount:0,lastSendTime:0,onpostTime:0,firstSendTime:0,state:z.MessageState.WAITTING}},e.delay=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},e}();t.RoomUtil=o}));function $(e){var t=new RegExp("(?:^|;+|\\s+)".concat(e,"=([^;]*)")),n="object"===typeof document&&document.cookie.match(t);return n?n[1]:null}function J(e,t,n,r,o){var i=new Date;i.setTime(i.getTime()+(n?36e5*n:2592e6)),"undefined"!==typeof document&&(document.cookie="".concat(e,"=").concat(t,";expires=").concat(i.toGMTString(),";path=").concat(o||"/",";").concat(r?"domain=".concat(r,";"):""))}function X(e){var t=window.location.search.substring(1);if(t)for(var n=0,r=t.split("&");n<r.length;n++){var o=r[n].split("="),i=o[0],s=o[1];if(i===e)return s}}function Z(e,t){void 0===t&&(t=window.navigator.userAgent);try{var n=new RegExp("\\b".concat(e,"\\/((\\d+\\.){1,3}\\d+)"),"i").exec(t);return n&&n.length>1&&n[1]||""}catch(r){return""}}var ee={doc:1,sheet:2,form:3,slide:4,pdf:7,mind:8,flowchart:9,rec:10},te={qq:1,wx:2,ww:5},ne=-1,re=1,oe=0;function ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;var se={exports:{}};function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}"undefined"!=typeof window&&window;var ae,ce=ie(se.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==ue(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=74)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(18)("wks"),o=n(17),i=n(0).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==ue(e)?null!==e:"function"==typeof e}},function(e,t,n){var r=n(0),o=n(15),i=n(11),s=n(12),u=n(19),a=function e(t,n,a){var c,f,l,p,d=t&e.F,h=t&e.G,g=t&e.P,v=t&e.B,y=h?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,m=h?o:o[n]||(o[n]={}),b=m.prototype||(m.prototype={});for(c in h&&(a=n),a)l=((f=!d&&y&&void 0!==y[c])?y:a)[c],p=v&&f?u(l,r):g&&"function"==typeof l?u(Function.call,l):l,y&&s(y,c,l,t&e.U),m[c]!=l&&i(m,c,p),g&&b[c]!=l&&(b[c]=l)};r.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var r=n(2),o=n(25),i=n(16),s=Object.defineProperty;t.f=n(1)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(14),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(7),o=n(27);e.exports=n(1)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0),o=n(11),i=n(13),s=n(17)("src"),u=n(46),a=(""+u).split("toString");n(15).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,s)||o(n,s,e[t]?""+e[t]:a.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||u.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(15),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(47)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(28);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(8);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(32),o=n(8);e.exports=function(e){return r(o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r,o,i=n(41),s=RegExp.prototype.exec,u=String.prototype.replace,a=s,c=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=void 0!==/()??/.exec("")[1];(c||f)&&(a=function(e){var t,n,r,o,a=this;return f&&(n=new RegExp("^"+a.source+"$(?!\\s)",i.call(a))),c&&(t=a.lastIndex),r=s.call(a,e),c&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=a},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==ue(Symbol.iterator)?e.exports=n=function(e){return ue(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ue(e)},n(t)}e.exports=n},function(e,t,n){e.exports=!n(1)&&!n(3)((function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(4)("unscopables"),o=Array.prototype;null==o[r]&&n(11)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(19),o=n(32),i=n(20),s=n(9),u=n(51);e.exports=function(e,t){var n=1==e,a=2==e,c=3==e,f=4==e,l=6==e,p=5==e||l,d=t||u;return function(t,u,h){for(var g,v,y=i(t),m=o(y),b=r(u,h,3),_=s(m.length),E=0,w=n?d(t,_):a?d(t,0):void 0;_>E;E++)if((p||E in m)&&(v=b(g=m[E],E,y),e))if(n)w[E]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:w.push(g)}else if(f)return!1;return l?-1:c||f?f:w}}},function(e,t,n){var r=n(10);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(5),o=n(55).set;e.exports=function(e,t,n){var i,s=t.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(56),o=n(27),i=n(21),s=n(16),u=n(13),a=n(25),c=Object.getOwnPropertyDescriptor;t.f=n(1)?c:function(e,t){if(e=i(e),t=s(t,!0),a)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(36),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(13),o=n(21),i=n(57)(!1),s=n(37)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),a=0,c=[];for(n in u)n!=s&&r(u,n)&&c.push(n);for(;t.length>a;)r(u,n=t[a++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(18)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(5),o=n(10),i=n(4)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(66)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(67),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=ue(i))throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(68);var r=n(12),o=n(11),i=n(3),s=n(8),u=n(4),a=n(23),c=u("species"),f=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=u(e),d=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!t})):void 0;if(!d||!h||"replace"===e&&!f||"split"===e&&!l){var g=/./[p],v=n(s,p,""[e],(function(e,t,n,r,o){return t.exec===a?d&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=v[0],m=v[1];r(String.prototype,e,y),o(RegExp.prototype,p,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(6);r(r.S+r.F*!n(1),"Object",{defineProperty:n(7).f})},function(e,t,n){e.exports=n(18)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(6);r(r.P,"Array",{fill:n(49)}),n(30)("fill")},function(e,t,n){var r=n(20),o=n(29),i=n(9);e.exports=function(e){for(var t=r(this),n=i(t.length),s=arguments.length,u=o(s>1?arguments[1]:void 0,n),a=s>2?arguments[2]:void 0,c=void 0===a?n:o(a,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(6),o=n(31)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(30)("find")},function(e,t,n){var r=n(52);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(5),o=n(53),i=n(4)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(10);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=n(13),i=n(10),s=n(33),u=n(16),a=n(3),c=n(35).f,f=n(34).f,l=n(7).f,p=n(58).trim,d=r.Number,h=d,g=d.prototype,v="Number"==i(n(60)(g)),y="trim"in String.prototype,m=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=y?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var s,a=t.slice(2),c=0,f=a.length;c<f;c++)if((s=a.charCodeAt(c))<48||s>o)return NaN;return parseInt(a,r)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(v?a((function(){g.valueOf.call(n)})):"Number"!=i(n))?s(new h(m(t)),n,d):m(t)};for(var b,_=n(1)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;_.length>E;E++)o(h,b=_[E])&&!o(d,b)&&l(d,b,f(h,b));d.prototype=g,g.constructor=d,n(12)(r,"Number",d)}},function(e,t,n){var r=n(5),o=n(2),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(19)(Function.call,n(34).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(21),o=n(9),i=n(29);e.exports=function(e){return function(t,n,s){var u,a=r(t),c=o(a.length),f=i(s,c);if(e&&n!=n){for(;c>f;)if((u=a[f++])!=u)return!0}else for(;c>f;f++)if((e||f in a)&&a[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(6),o=n(8),i=n(3),s=n(59),u="["+s+"]",a=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(e,t,n){var o={},u=i((function(){return!!s[e]()||"​"!="​"[e]()})),a=o[e]=u?t(l):s[e];n&&(o[n]=a),r(r.P+r.F*u,"String",o)},l=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(61),i=n(22),s=n(37)("IE_PROTO"),u=function(){},a=function(){var e,t=n(26)("iframe"),r=i.length;for(t.style.display="none",n(63).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),a=e.F;r--;)delete a.prototype[i[r]];return a()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[s]=e):n=a(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(7),o=n(2),i=n(62);e.exports=n(1)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),u=s.length,a=0;u>a;)r.f(e,n=s[a++],t[n]);return e}},function(e,t,n){var r=n(36),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(38),o=n(2),i=n(65),s=n(39),u=n(9),a=n(40),c=n(23),f=n(3),l=Math.min,p=[].push,d="length",h=!f((function(){}));n(42)("split",2,(function(e,t,n,f){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,s,u,a=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,h=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,f+"g");(i=c.call(g,o))&&!((s=g.lastIndex)>l&&(a.push(o.slice(l,i.index)),i[d]>1&&i.index<o[d]&&p.apply(a,i.slice(1)),u=i[0][d],l=s,a[d]>=h));)g.lastIndex===i.index&&g.lastIndex++;return l===o[d]?!u&&g.test("")||a.push(""):a.push(o.slice(l)),a[d]>h?a.slice(0,h):a}:"0".split(void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):g.call(String(o),n,r)},function(e,t){var r=f(g,e,this,t,g!==n);if(r.done)return r.value;var c=o(e),p=String(this),d=i(c,RegExp),v=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),m=new d(h?c:"^(?:"+c.source+")",y),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===p.length)return null===a(m,p)?[p]:[];for(var _=0,E=0,w=[];E<p.length;){m.lastIndex=h?E:0;var S,O=a(m,h?p:p.slice(E));if(null===O||(S=l(u(m.lastIndex+(h?0:E)),p.length))===_)E=s(p,E,v);else{if(w.push(p.slice(_,E)),w.length===b)return w;for(var C=1;C<=O.length-1;C++)if(w.push(O[C]),w.length===b)return w;E=_=S}}return w.push(p.slice(_)),w}]}))},function(e,t,n){var r=n(2),o=n(28),i=n(4)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[i])?t:o(n)}},function(e,t,n){var r=n(14),o=n(8);e.exports=function(e){return function(t,n){var i,s,u=String(o(t)),a=r(n),c=u.length;return a<0||a>=c?e?"":void 0:(i=u.charCodeAt(a))<55296||i>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):i:e?u.slice(a,a+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(10),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(23);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){var r=n(6),o=n(31)(1);r(r.P+r.F*!n(70)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(3);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(2),o=n(20),i=n(9),s=n(14),u=n(39),a=n(40),c=Math.max,f=Math.min,l=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(42)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),s=null==r?void 0:r[t];return void 0!==s?s.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var l=r(e),p=String(this),d="function"==typeof t;d||(t=String(t));var v=l.global;if(v){var y=l.unicode;l.lastIndex=0}for(var m=[];;){var b=a(l,p);if(null===b)break;if(m.push(b),!v)break;""===String(b[0])&&(l.lastIndex=u(p,i(l.lastIndex),y))}for(var _,E="",w=0,S=0;S<m.length;S++){b=m[S];for(var O=String(b[0]),C=c(f(s(b.index),p.length),0),T=[],R=1;R<b.length;R++)T.push(void 0===(_=b[R])?_:String(_));var A=b.groups;if(d){var x=[O].concat(T,C,p);void 0!==A&&x.push(A);var I=String(t.apply(void 0,x))}else I=g(O,p,C,T,A,t);C>=w&&(E+=p.slice(w,C)+I,w=C+O.length)}return E+p.slice(w)}];function g(e,t,r,i,s,u){var a=r+e.length,c=i.length,f=d;return void 0!==s&&(s=o(s),f=p),n.call(u,f,(function(n,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(a);case"<":u=s[o.slice(1,-1)];break;default:var f=+o;if(0===f)return n;if(f>c){var p=l(f/10);return 0===p?n:p<=c?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}u=i[f-1]}return void 0===u?"":u}))}}))},function(e,t,n){var r=n(0),o=n(33),i=n(7).f,s=n(35).f,u=n(38),a=n(41),c=r.RegExp,f=c,l=c.prototype,p=/a/g,d=/a/g,h=new c(p)!==p;if(n(1)&&(!h||n(3)((function(){return d[n(4)("match")]=!1,c(p)!=p||c(d)==d||"/a/i"!=c(p,"i")})))){c=function(e,t){var n=this instanceof c,r=u(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(h?new f(r&&!i?e.source:e,t):f((r=e instanceof c)?e.source:e,r&&i?a.call(e):t),n?this:l,c)};for(var g=function(e){e in c||i(c,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},v=s(f),y=0;v.length>y;)g(v[y++]);l.constructor=c,c.prototype=l,n(12)(r,"RegExp",c)}n(73)("RegExp")},function(e,t,n){var r=n(0),o=n(7),i=n(1),s=n(4)("species");e.exports=function(e){var t=r[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){n.r(t),n.d(t,"UserAgent",(function(){return h})),n.d(t,"getVersionFromUA",(function(){return d})),n.d(t,"compareVersion",(function(){return p}));var r=n(24),o=n.n(r),i=(n(45),n(43)),s=n.n(i),u=n(44),a=n.n(u),c=(n(48),n(50),n(54),n(64),n(69),n(71),n(72),/\d+([._]\d+)*/);function f(e){var t,n=c.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function l(e){var t=f(e);return(null==t?void 0:t.split(".").map(Number))||[]}function p(e,t){return n=l(e),r=l(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function d(e,t){var n;try{n=new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(e){return null}var r=n.exec(t);return r?f(r[0].substring(e.length)):null}var h=function(){function e(t){var n=this;s()(this,e),this.userAgent="",this.getAndroidVersion=function(){return n.isAndroid?d("Android",n.userAgent):null},this.isAndroidVersionAboveOrEqual=function(e){return p(n.getAndroidVersion()||"",e)>=0},this.getIOSVersion=function(){return n.isIOS?d("OS",n.userAgent):null},this.isIOSVersionAboveOrEqual=function(e){return p(n.getIOSVersion()||"",e)>=0},this.getPCQQBrowserVersion=function(){return n.isPCQQBrowser?d("QQBrowser",n.userAgent):null},this.isPCQQBrowserVersionAboveOrEqual=function(e){return p(n.getPCQQBrowserVersion()||"",e)>=0},this.getMobileQQBrowserVersion=function(){return n.isMobileQQBrowser?d("MQQBrowser",n.userAgent):null},this.isMobileQQBrowserVersionAboveOrEqual=function(e){return p(n.getMobileQQBrowserVersion()||"",e)>=0},this.getChromeVersion=function(){return d("Chrome",n.userAgent)},this.isChromeVersionAboveOrEqual=function(e){return p(n.getChromeVersion()||"",e)>=0},this.getWeChatVersion=function(){return n.isWeChat||n.isWxMiniProgram?d("MicroMessenger",n.userAgent):null},this.isWeChatVersionAboveOrEqual=function(e){return p(n.getWeChatVersion()||"",e)>=0},this.getWxDriveVersion=function(){return n.isWxDrive?d("WXDrive",n.userAgent):null},this.isWxDriveVersionAboveOrEqual=function(e){return p(n.getWxDriveVersion()||"",e)>=0},this.getWxWorkVersion=function(){return n.isWxWork?d("wxwork",n.userAgent):null},this.isWxWorkVersionAboveOrEqual=function(e){return p(n.getWxWorkVersion()||"",e)>=0},this.getQQVersion=function(){return n.isQQ||n.isQQMiniProgram?d("QQ",n.userAgent):null},this.isQQVersionAboveOrEqual=function(e){return p(n.getQQVersion()||"",e)>=0},this.getTimVersion=function(){return n.isTim?d("TIM",n.userAgent):null},this.isTimVersionAboveOrEqual=function(e){return p(n.getTimVersion()||"",e)>=0},this.getTencentDocsAppVersion=function(){return d("TencentDocs",n.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(e){return p(n.getTencentDocsAppVersion()||"",e)>=0},this.getPCTencentDocsClientVersion=function(){return d("TxDocsPC",n.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(e){return p(n.getPCTencentDocsClientVersion()||"",e)>=0},this.getElectronTencentDocsClientVersion=function(){return d("TDAppDesktop",n.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(e){return p(n.getElectronTencentDocsClientVersion()||"",e)>=0},void 0===t&&(t="undefined"!=typeof navigator?navigator.userAgent:""),Object.defineProperty(this,"userAgent",{value:t,writable:!1})}return a()(e,[{key:"isMobile",get:function(){return/(mobile)/i.test(this.userAgent)||this.isAndroidPad}},{key:"isMobilePhone",get:function(){return/(mobile)/i.test(this.userAgent)&&!this.isIPad}},{key:"isIPhone",get:function(){return/(iphone)/i.test(this.userAgent)}},{key:"isIPad",get:function(){return/(ipad)/i.test(this.userAgent)}},{key:"isAndroidPhone",get:function(){return/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isAndroidPad",get:function(){return!/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isPC",get:function(){return!this.isMobile}},{key:"isMac",get:function(){return!this.isMobile&&/Mac OS X/i.test(this.userAgent)}},{key:"isIPadEmulatedMac",get:function(){return this.isMac&&navigator.maxTouchPoints>1}},{key:"isAndroid",get:function(){return/android|adr/i.test(this.userAgent)}},{key:"isIOS",get:function(){return/(iphone|ipad|ipod)/i.test(this.userAgent)}},{key:"isWindows",get:function(){return/(win64|wow64|win32|wow32|windows nt)/i.test(this.userAgent)}},{key:"isWindowsUWP",get:function(){return/MSAppHost/i.test(this.userAgent)}},{key:"isLinux",get:function(){return/linux/i.test(this.userAgent)&&!this.isAndroid}},{key:"isLinuxKylin",get:function(){return/linux-kylin/i.test(this.userAgent)}},{key:"isLinuxUOS",get:function(){return/linux-uos/i.test(this.userAgent)}},{key:"isPCQQBrowser",get:function(){return!this.isMobile&&/QQBrowser/i.test(this.userAgent)&&!/QBCore/i.test(this.userAgent)}},{key:"isMobileQQBrowser",get:function(){return this.isMobile&&/MQQBrowser/i.test(this.userAgent)&&!this.isTimOrQQ&&!this.isWeChat&&!this.isWxWork&&!this.isTencentDocsApp&&!this.isWeiYunApp&&!this.isMiniProgram}},{key:"isQQBrowser",get:function(){return this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser}},{key:"isChrome",get:function(){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isSafari",get:function(){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isIE",get:function(){return/MSIE/i.test(this.userAgent)&&!/opera/i.test(this.userAgent)||/Trident/i.test(this.userAgent)}},{key:"isOldEdge",get:function(){return/Edge/i.test(this.userAgent)}},{key:"isChromiumEdge",get:function(){return/Edg\//i.test(this.userAgent)}},{key:"isFirefox",get:function(){return/(Firefox|Focus|FxiOS)\//i.test(this.userAgent)}},{key:"isWeChat",get:function(){return/MicroMessenger/i.test(this.userAgent)&&!this.isWxWork&&!this.isWxMiniProgram}},{key:"isWxWork",get:function(){return/(wxwork)/i.test(this.userAgent)}},{key:"isWxDrive",get:function(){return/WXDrive/i.test(this.userAgent)}},{key:"isQQ",get:function(){return/QQ\//i.test(this.userAgent)&&!this.isTencentDocsApp&&!this.isQQMiniProgram&&!this.isTim}},{key:"isQQForGooglePlay",get:function(){return/QQ\//i.test(this.userAgent)&&/_GM/i.test(this.userAgent)}},{key:"isTim",get:function(){return/TIM/i.test(this.userAgent)}},{key:"isPCTim",get:function(){return/QBCore/i.test(this.userAgent)&&/TIM2.0/i.test(this.userAgent)}},{key:"isTimOrQQ",get:function(){return this.isTim||this.isQQ}},{key:"isTimOrQQFamily",get:function(){return this.isTim||/QQ/i.test(this.userAgent)}},{key:"isMiniProgram",get:function(){return/miniprogram|miniapp(?!enable)/i.test(this.userAgent)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment}},{key:"isWxMiniProgram",get:function(){return/MicroMessenger/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isQQMiniProgram",get:function(){return/QQ\/|TIM/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isWxNativeMiniProgram",get:function(){return!this.isQQNativeMiniProgram&&"object"===("undefined"==typeof wx?"undefined":o()(wx))&&"function"==typeof wx.canIUse&&!0===wx.canIUse("request")}},{key:"isQQNativeMiniProgram",get:function(){return"object"===("undefined"==typeof qq?"undefined":o()(qq))&&"function"==typeof qq.canIUse&&!0===qq.canIUse("request")}},{key:"isNativeMiniProgram",get:function(){return this.isWxNativeMiniProgram||this.isQQNativeMiniProgram}},{key:"isTencentDocsApp",get:function(){return/TencentDocs/i.test(this.userAgent)}},{key:"isPCTencentDocsClient",get:function(){return/TxDocsPC/i.test(this.userAgent)}},{key:"isPCTencentDocsApp",get:function(){return this.isPCTencentDocsClient}},{key:"isElectronTencentDocsClient",get:function(){return/TDAppDesktop/i.test(this.userAgent)}},{key:"isWeiYunApp",get:function(){return/weiyun/i.test(this.userAgent)}},{key:"isSouGou",get:function(){return/SE 2\.X MetaSr 1\.0/i.test(this.userAgent)}},{key:"isTencentMeeting",get:function(){return/tencent_wemeet/i.test(this.userAgent)}}]),e}();t.default=new h}]));function fe(e){for(var t="",n=0;n<e;n++)t+=Math.random().toString(36).substr(2);return t}function le(){var e;return null!==(e=window.basicClientVars)&&void 0!==e?e:{}}function pe(){var e;return null!==(e=window.clientVars)&&void 0!==e?e:{}}var de="doc.weixin.qq.com"===(null===(ae=window.location)||void 0===ae?void 0:ae.hostname),he=null,ge=null,ve=null;function ye(){if(he)return he;var e=$("p_luin")||$("p_uin");return e&&(he=e.replace(/^[o0]+/i,"")),he}function me(){if(ge)return ge;var e=$("uid");return e&&(ge=e),ge}function be(){return ye()||function(){var e;return(null===(e=le().userInfo)||void 0===e?void 0:e.uin)||pe().uin||null}()||_e()}function _e(){return function(){var e;return(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||null}()||me()||function(){var e,t;return(null===(e=le().userInfo)||void 0===e?void 0:e.userId)||(null===(t=pe().userInfo)||void 0===t?void 0:t.uid)||null}()}function Ee(){var e;try{var t=null===(e=window.localStorage)||void 0===e?void 0:e.getItem("browserStr");return t||(t=fe(5),window.localStorage&&window.localStorage.setItem("browserStr",t)),t}catch(n){return fe(5)}}function we(){if(ve)return ve;var e=X("adtag");if(e)ve=e,J("adtag",e,8760,".docs.qq.com","/"),localStorage.setItem("tdsourcetag",e);else{var t=X("tdsourcetag");if(t)ve=t,J("adtag",t,8760,".docs.qq.com","/"),localStorage.setItem("tdsourcetag",t);else{var n=X("from_page");n&&(ve=n,J("adtag",n,8760,".docs.qq.com","/"),localStorage.setItem("tdsourcetag",n))}}return ve||(ve=localStorage.getItem("tdsourcetag")||$("adtag")||""),ve}function Se(){if(pe().userIsGuest)return 3;if(!be())return 3;var e=$("utype");return e&&te[e]?te[e]:ne}function Oe(e){void 0===e&&(e="");var t=function(){var e,t;return(null===(t=null===(e=le().docInfo)||void 0===e?void 0:e.padInfo)||void 0===t?void 0:t.padType)||pe().padType}()||e;return t&&ee[t]?ee[t]:ne}function Ce(){var e,t=(null===(e=le().docInfo)||void 0===e?void 0:e.isOwner)||pe().isOwner;return"undefined"===typeof t?ne:t?re:oe}function Te(e){var t;return e||(null===(t=le().authInfo)||void 0===t?void 0:t.privilegeFlag)||pe().rightFlag||ne}function Re(){var e,t,n=(null===(t=null===(e=le().docInfo)||void 0===e?void 0:e.padInfo)||void 0===t?void 0:t.padTitle)||pe().padTitle;return n?n.replace(/&/g,"\\&").replace(/\|/g,"\\|").replace(/=/g,"\\=").replace(/%/g,"\\%").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t"):null}function Ae(){var e=Ie(),t=ke();return e&&t?"".concat(e,"$").concat(t):pe().globalPadId||null}function xe(){var e;return(null===(e=le().createInfo)||void 0===e?void 0:e.creatorId)||pe().creatorId||null}function Ie(){var e,t;return(null===(t=null===(e=le().docInfo)||void 0===e?void 0:e.padInfo)||void 0===t?void 0:t.domainId)||pe().domainId||null}function ke(){var e,t;return(null===(t=null===(e=le().docInfo)||void 0===e?void 0:e.padInfo)||void 0===t?void 0:t.padId)||pe().padId||null}function Me(){var e,t;return(null===(t=null===(e=le().docInfo)||void 0===e?void 0:e.ownerInfo)||void 0===t?void 0:t.ownerId)||pe().ownerId||null}function De(){var e,t;return(null===(t=null===(e=pe().collab_client_vars)||void 0===e?void 0:e.apid)||void 0===t?void 0:t.apid)||null}function Pe(){var e,t;return(null===(e=le().userInfo)||void 0===e?void 0:e.corpId)||(null===(t=pe().userInfo)||void 0===t?void 0:t.corp_id)||null}function Ne(){return ce.isMobile?ce.isAndroid?2:ce.isIOS?ce.isIPad?6:3:4:ce.isMac?5:ce.isLinuxUOS?9:ce.isLinuxKylin?8:ce.isLinux?7:ce.isPCTencentDocsClient||ce.isWindows?1:ne}function Le(){for(var e=[[ce.isPCTencentDocsClient,10],[ce.isTencentMeeting,14],[ce.isTim,2],[ce.isWxMiniProgram,3],[ce.isWeChat,4],[ce.isTencentDocsApp,6],[ce.isWindowsUWP,8],[ce.isQQ,1],[ce.isWxWork,9],[ce.isWeiYunApp,11],[ce.isQQMiniProgram,12],[ce.isElectronTencentDocsClient,13],[ce.isQQBrowser,5],[ce.isMobileQQBrowser,5],[ce.isChrome,5],[ce.isQQBrowser,5],[ce.isSafari,5],[ce.isOldEdge,5],[ce.isIE,5],[ce.isChromiumEdge,5],[ce.isFirefox,5]],t=0;t<e.length;t++){var n=e[t],r=n[0],o=n[1];if(r)return o}return ne}function je(){var e=pe(),t=e.userLoginCorpName,n=e.userLoginCorpId;if(!t||!n){var r=e.userInfo||{};t=r.corp_name,n=r.corp_id}return t&&n?"".concat(t,"-").concat(n):null}var Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ue.apply(this,arguments)},Fe={},We=!1,qe=!1;function Be(e){void 0===e&&(e={}),Object.assign(Fe,Ue({table:"dc03111",third_appid:De(),uin:be(),uid:_e(),user_mac:Ee(),uin_type:Se(),platform:Ne(),appid:ce.isElectronTencentDocsClient?Z("TDAppDesktop"):ce.isPCTencentDocsClient?Z("TxDocsPC"):ce.isTencentDocsApp?Z("TencentDocs"):void 0,touin:xe(),isOwner:Ce(),file_type:Oe(),id:ke(),source1:Le(),source2:"",source3:je()||we(),obj1:Te(),obj2:Re(),ver1:Ae(),ver2:xe(),ver3:Ie(),ver4:Me(),web_version:window.__globalReleaseVersion||null,abtest:window.ExpIdList||null},de?{work_weixin_ext:JSON.stringify({corpid:Pe(),itemname:"",vid:_e(),logid:""}),work_weixin_source:""}:{}),e);var t=$("free_go_proxy")||$("env_name")||$("env_id")||$("fd");t&&(Fe.dev_route_id=t)}function Qe(e){var t=new Set;return JSON.stringify(e,(function(e,n){if(function(e){return function(e,t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}("Object",e)}(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return n}))}function Ve(e){return"functionName"in e}function Ge(e,t,n){var r;try{if(window.tencentDocReport)return void(r=window.tencentDocReport[e])[t].apply(r,n);He({className:e,methodName:t,argsStringified:Qe(n)})}catch(o){console.error(o)}}function Ke(e,t){var n;try{if(window.tencentDocReport)return void(n=window.tencentDocReport)[e].apply(n,t);He({functionName:e,argsStringified:Qe(t)})}catch(r){console.error(r)}}function He(e){var t;null!==(t=window.tencentDocReportBuffers)&&void 0!==t||(window.tencentDocReportBuffers=[]),window.tencentDocReportBuffers.push(e)}function ze(){window.tencentDocReportBuffers=[],delete window.tencentDocReportBuffers}!function(e){var t,n;window.tencentDocReportInjected||(t=e,n="tencentDocReport",new Promise((function(e){var r=document.createElement("script");r.async=!0,r.src=t,r.id="@tencent-tencent-doc-report",r.crossOrigin="anonymous",r.setAttribute("retry-when-error","true"),r.onload=function(){var t=window[n];e(t)},window.tencentDocReportInjected||(window.tencentDocReportInjected=!0,(document.head||document.body).appendChild(r))}))).then((function(){var e,t;if(window.tencentDocReportBuffers)for(var n=0,r=window.tencentDocReportBuffers;n<r.length;n++){var o=r[n];Ve(o)?(e=window.tencentDocReport)[o.functionName].apply(e,JSON.parse(o.argsStringified)):(t=window.tencentDocReport[o.className])[o.methodName].apply(t,JSON.parse(o.argsStringified))}})).then((function(){ze()})).catch((function(){ze()}))}("https://tencent-doc.cdn-go.cn/doc-report/3.0/report.js");var Ye,$e,Je={init:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ge("KVR","init",e)},oss:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ge("KVR","oss",e)}},Xe=Object.freeze({__proto__:null,KVR:Je,LogPadType:{Sheet:"sheet",Backend:"backend",WxJsSdk:"WxJsSdk",Mqq:"Mqq",Fc:"fc",Sc:"sc",Ark:"ark",DC:"dc",Doc:"doc",BlankPage:"blankPage",Slide:"slide",PDF:"pdf",Form:"form",Scenario:"scenario",SmartSheet:"smartSheet"},esLogReport:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("esLogReport",e)},getAuth:function(e){return Te(e)},getCookieUid:function(){return me()},getCookieUin:function(){return ye()},getDefaultTdwData:function(){return function(){var e=pe();return!We&&e.ownerId&&(We=!0,Be()),!qe&&e.userInfo&&(qe=!0,Be()),Fe}()},getFileTypeForReport:function(e){return Oe(e)},getPlatform:function(){return Ne()},getSource1:function(){return Le()},huatuo:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("huatuo",e)},idkey:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("idkey",e)},monitor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("monitor",e)},reportErrorCode:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("reportErrorCode",e)},resetDefaultTdwData:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("resetDefaultTdwData",e)},retcode:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("retcode",e)},tdw:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("tdw",e)},tdwSingle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("tdwSingle",e)},tipReport:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("tipReport",e)},webLog:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("webLog",e)},webLogAndEsReport:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("webLogAndEsReport",e)},zzsStatus:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("zzsStatus",e)},zzsValue:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ke("zzsValue",e)}}),Ze=S(Xe),et=E&&E.__assign||function(){return et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},et.apply(this,arguments)},tt=function(){function e(){}return e.prototype.loginRoomError=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(et(et({},e),{source:"loginRoom"})))},e.prototype.commitError=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(et(et({},e),{source:"commitError"})))},e.prototype.serverNotice=function(e){this.NeedToResetLastErrorCode(e)?this.resetLastErrorCode():(this.lastAttrName=e.attrName,this.reportToServer(et(et({},e),{source:"serverNotice"})))},e.prototype.shutDownReport=function(e){this.NeedToResetLastErrorCode(e)||e.attrName===this.lastAttrName?this.resetLastErrorCode():this.reportToServer(et(et({},e),{source:"shutDown"}))},e.prototype.reportSocketConnect=function(e){this.reportToServer(et(et({},e),{source:"socketConnect"}))},e.prototype.reportToServer=function(e){var t=e.module,n=void 0===t?"unkown":t,r=e.source,o=void 0===r?"":r,i=e.transports,s=void 0===i?"":i;Ze.zzsStatus({attrid:e.attrName,status:e.status,errmsg:e.errorMessage,dimensions:[n,o,s],project:"collab"})},e.prototype.resetLastErrorCode=function(){this.lastAttrName=""},e.prototype.NeedToResetLastErrorCode=function(e){return!(null===e||void 0===e?void 0:e.attrName)||"0"===(null===e||void 0===e?void 0:e.attrName)},e}(),nt=new tt,rt=Object.defineProperty({default:nt},"__esModule",{value:!0}),ot=O((function(e,t){var n=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomLogin=void 0;var r=n(rt),o=function(){function e(e,t,n){this.loginCount=0,this.delayLoginTimer=0,this.loginSeq=0,this.loginTimeout=0,this.loginTime=0,this.messageSender=e,this.channelOption=t,this.roomStatusDependency=n}return e.prototype.dispose=function(){this.resetLogin()},e.prototype.login=function(){this.isConnected()?this.loginInternal():P.ConnectionLog.error("loginRoom: not connected!")},e.prototype.resetLogin=function(){this.loginCount=0,this.loginSeq=0,this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0),this.delayLoginTimer&&(clearTimeout(this.delayLoginTimer),this.delayLoginTimer=0)},e.prototype.onLoginResponse=function(e,t){if("CLIENT_READY"===e.type){var n={errCode:H.RoomErrorCode.SUCCESS,errMsg:"",response:t};this.handleLoginResponse(e.task_id,e.type,n)}},e.prototype.isConnected=function(){return this.messageSender.isConnected()},e.prototype.loginInternal=function(){var e,t=this;this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0),this.loginCount+=1,this.loginSeq=P.generateMessageTaskId();var n={roomType:"padpage",roomName:"padpage/"+this.channelOption.globalPadId,upid:null!==(e=this.channelOption.upid)&&void 0!==e?e:"",gid:this.channelOption.globalPadId,sid:this.channelOption.sid,tid:this.channelOption.tid,sig:this.channelOption.sig,data:{stats:this.getStats()}};P.ConnectionLog.info("loginRoom: CLIENT_READY: "+this.loginSeq),this.loginPostData=this.messageSender.createPostData("CLIENT_READY",this.loginSeq,P.JsonUtil.jsonStringify(n)),this.messageSender.postMessageWithWebsocket(this.loginPostData),this.loginTime=Y.RoomUtil.getCurrentTime(),this.loginTimeout=setTimeout((function(){P.ConnectionLog.warn("loginRoom: time out, seq = "+t.loginSeq);var e={errCode:H.RoomErrorCode.TIMEOUT,errMsg:"login room time out."};t.handleLoginResponse(t.loginSeq,"CLIENT_READY",e)}),3e3)},e.prototype.handleLoginResponse=function(e,t,n){this.loginTimeout&&(clearTimeout(this.loginTimeout),this.loginTimeout=0);var o={errCode:0,errMsg:"",event:K.MessageResultEvent.ON_POST,needRetry:!1};if(this.checkLoginResult(n)?(this.roomStatusDependency.notifyRoomOpened(n),o.errCode=n.response.onpost.result):this.handleLoginResponseFail(n,o),0!==o.errCode){o.errMsg=Y.RoomUtil.getWebsocketChannelErrorMessage(o.errCode);var i={module:this.channelOption.module,cmd:"CLIENT_READY",attrName:String(n.errCode||n.response.onpost.result),status:1,errorMessage:o.errMsg};r.default.loginRoomError(i)}},e.prototype.checkLoginResult=function(e){var t,n;return 0===e.errCode&&(0===(null===(n=null===(t=e.response)||void 0===t?void 0:t.onpost)||void 0===n?void 0:n.result)||e.response.onpost.result===H.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_ALREADY_EXIST)},e.prototype.handleLoginResponseFail=function(e,t){0!==e.errCode?(P.ConnectionLog.error("handleLoginFailed: client error, code = "+e.errCode+"."),this.loginCount>=2?(P.ConnectionLog.error("handleLoginFailed: login count = "+this.loginCount+"."),this.resetLogin(),this.messageSender.closeAndDelayReopen({reason:Y.RoomUtil.getWebsocketChannelErrorMessage(e.errCode),shutDown:!1},0),t.needRetry=!1):(this.delayLogin(1500),t.needRetry=!0),t.errCode=e.errCode,t.event=K.MessageResultEvent.NET_STATUS_CHANGE):this.handleLoginResponseServerFail(e,t)},e.prototype.handleLoginResponseServerFail=function(e,t){var n=e.response.onpost.result;t.errCode=n;var r={errCode:n,reason:Y.RoomUtil.getWebsocketChannelErrorMessage(n,"login failed."),shutDown:!1};this.shouldRetryLogin(n)?this.handleLoginRetry(e,t):this.shouldReopen(n)?this.messageSender.closeAndDelayReopen(r,0):this.shutdownByServerFailure(r,t),P.ConnectionLog.error("handleLoginResponseSvrFail: errCode = "+n)},e.prototype.shouldRetryLogin=function(e){return e===H.RoomWebsocketErrorCode.SOCKET_COLLAB_ROOM_TIMEOUT||e===H.RoomWebsocketErrorCode.SOCKET_COLLAB_SERVER_TIMEOUT||e===H.RoomWebsocketErrorCode.SOCKET_SERVER_STORAGE_TIMEOUT||e===H.RoomWebsocketErrorCode.SOCKET_SERVER_CGI_TIMEOUT||e===H.RoomWebsocketErrorCode.SOCKET_FREQUENCY_LIMIT},e.prototype.shouldReopen=function(e){return e===H.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR||e===H.RoomWebsocketErrorCode.SOCKET_CLIENT_NOT_READY_ERROR},e.prototype.shutdownByServerFailure=function(e,t){e.shutDown=!0,this.messageSender.shutDown(e),t.needRetry=!1},e.prototype.handleLoginRetry=function(e,t){var n,r,o,i=e.response.onpost.result,s={errCode:i,reason:Y.RoomUtil.getWebsocketChannelErrorMessage(i,"login failed."),shutDown:!1};if(this.loginCount>=2)this.resetLogin(),i===H.RoomWebsocketErrorCode.SOCKET_AUTH_TIMEOUT&&this.messageSender.closeAndDelayReopen(s,0),t.needRetry=!1;else{var u=null!==(o=null===(r=null===(n=null===e||void 0===e?void 0:e.response)||void 0===n?void 0:n.onpost)||void 0===r?void 0:r.retry_interval)&&void 0!==o?o:this.delayLoginTime;this.delayLogin(u),t.needRetry=!0}},e.prototype.delayLogin=function(e){var t=this;this.delayLoginTimer=setTimeout((function(){t.login()}),e)},e.prototype.getStats=function(){return{screen:""}},e}();t.RoomLogin=o})),it=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RoomHeartBeat=void 0;var n=function(){function e(e,t,n){this.heartBeatInterval=15e3,this.messageSender=e,this.channelOption=t,this.roomStatusDependency=n}return e.prototype.dispose=function(){this.clearHeartBeatTimer()},e.prototype.startHeartBeatOnTimer=function(e){var t=this;e&&e!==this.heartBeatInterval&&(this.heartBeatInterval=e),this.heartBeatTimer||(this.heartBeatTimer=setTimeout((function(){t.sendHeartBeat()}),this.heartBeatInterval))},e.prototype.onHeartBeatResponse=function(e,t){var n;this.heartBeatCount=0;var r=(null===(n=null===t||void 0===t?void 0:t.onpost)||void 0===n?void 0:n.heartbeat_interval)||this.heartBeatInterval;this.startHeartBeatOnTimer(r)},e.prototype.resetHeartBeat=function(){this.clearHeartBeatTimer(),this.heartBeatCount=0,this.heartBeatInterval=15e3},e.prototype.clearHeartBeatTimer=function(){this.heartBeatTimer&&(clearTimeout(this.heartBeatTimer),this.heartBeatTimer=0)},e.prototype.sendHeartBeat=function(){var e;this.clearHeartBeatTimer();var t=null===(e=this.roomStatusDependency)||void 0===e?void 0:e.getRoomState();if(t===K.RoomState.OPENED&&this.messageSender){if(this.heartBeatCount>0&&P.ConnectionLog.warn("sendHeartBeat: heart beat count over 1, count = "+this.heartBeatCount),this.heartBeatCount>3)return P.ConnectionLog.warn("sendHeartBeat: max heart beat count reached, the connection will be close."),void this.messageSender.closeAndDelayReopen({reason:"closed by heart beat error.",shutDown:!1},0);this.heartBeatCount+=1;var n={type:"HEART_BEAT",task_id:P.generateMessageTaskId(),docid:this.channelOption.globalPadId,uid:this.channelOption.userId.replace("p.","").replace("g.","")},r=P.JsonUtil.jsonStringify(n)+"\n";this.messageSender.postMessageWithWebsocket(r),this.startHeartBeatOnTimer(this.heartBeatInterval)}else P.ConnectionLog.warn("sendHeartBeat: room state error, state = "+t)},e}();t.RoomHeartBeat=n})),st=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RoomStatus=void 0;var n=function(){function e(e,t,n){this.roomState=K.RoomState.INIT,this.channelOption=t,this.connectionControllerDependency=n,this.messageSender=e,this.roomLogin=new ot.RoomLogin(e,t,this),this.roomHeartBeat=new it.RoomHeartBeat(e,this.channelOption,this)}return Object.defineProperty(e.prototype,"state",{get:function(){return this.roomState},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.roomState=K.RoomState.INIT,this.roomHeartBeat.dispose(),this.roomLogin.dispose()},e.prototype.openRoom=function(){this.checkRoomState()&&(this.messageSender.openWebsocketConnection(),this.roomState===K.RoomState.INIT?this.setRoomState(K.RoomState.CONNECTING):this.setRoomState(K.RoomState.RECONNECTING_IN_CLOSED))},e.prototype.onRoomClosed=function(e){e.shutDown?this.handleShutDown(e):this.handleRoomClose(e)},e.prototype.loginRoom=function(){this.roomLogin.login()},e.prototype.resetLogin=function(){this.roomLogin.resetLogin()},e.prototype.onLoginResponse=function(e,t){this.roomLogin.onLoginResponse(e,t)},e.prototype.resetHeartBeat=function(){this.roomHeartBeat.resetHeartBeat()},e.prototype.onHeartBeatResponse=function(e,t){this.roomHeartBeat.onHeartBeatResponse(e,t)},e.prototype.roomStateReconnecting=function(){this.setRoomState(K.RoomState.CONNECTING)},e.prototype.getRoomState=function(){return this.state},e.prototype.notifyRoomOpened=function(e){this.setRoomState(K.RoomState.OPENED),this.resetLogin(),this.roomHeartBeat.resetHeartBeat();var t=e.response;this.roomHeartBeat.startHeartBeatOnTimer(t.onpost.heartbeat_interval),this.messageSender.startMessageSending(),this.messageSender.notifyRoomOpened(),this.connectionControllerDependency.handleOnRoomOpen()},e.prototype.checkRoomState=function(){return this.state!==K.RoomState.OPENED&&this.state!==K.RoomState.SHUTDOWN||(P.ConnectionLog.warn("checkRoomState:state is "+this.state+"!"),!1)},e.prototype.setRoomState=function(e,t){void 0===t&&(t=""),e!==this.roomState&&(this.roomState=e,P.ConnectionLog.info("setRoomState:set new state = "+e),this.connectionControllerDependency.handleOnRoomStateChange(this.roomState,t))},e.prototype.handleShutDown=function(e){var t=this.roomState;this.setRoomState(K.RoomState.SHUTDOWN,e.reason),t!==K.RoomState.SHUTDOWN&&this.connectionControllerDependency.handleOnRoomShutDown(e)},e.prototype.handleRoomClose=function(e){var t=this.roomState;this.setRoomState(K.RoomState.RECONNECTING_IN_CLOSED,e.reason),t!==K.RoomState.RECONNECTING_IN_CLOSED&&this.connectionControllerDependency.handleOnRoomClose(e)},e}();t.RoomStatus=n})),ut=O((function(e,t){"undefined"!=typeof window&&window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=73)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(18)("wks"),o=n(17),i=n(0).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(0),o=n(15),i=n(11),s=n(12),u=n(19),a=function(e,t,n){var c,f,l,p,d=e&a.F,h=e&a.G,g=e&a.S,v=e&a.P,y=e&a.B,m=h?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});for(c in h&&(n=t),n)l=((f=!d&&m&&void 0!==m[c])?m:n)[c],p=y&&f?u(l,r):v&&"function"==typeof l?u(Function.call,l):l,m&&s(m,c,l,e&a.U),b[c]!=l&&i(b,c,p),v&&_[c]!=l&&(_[c]=l)};r.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var r=n(2),o=n(24),i=n(16),s=Object.defineProperty;t.f=n(1)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(14),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(7),o=n(26);e.exports=n(1)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0),o=n(11),i=n(13),s=n(17)("src"),u=n(45),a=(""+u).split("toString");n(15).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,s)||o(n,s,e[t]?""+e[t]:a.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||u.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(15),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(46)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(27);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(8);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(31),o=n(8);e.exports=function(e){return r(o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r,o,i=n(40),s=RegExp.prototype.exec,u=String.prototype.replace,a=s,c=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=void 0!==/()??/.exec("")[1];(c||f)&&(a=function(e){var t,n,r,o,a=this;return f&&(n=new RegExp("^"+a.source+"$(?!\\s)",i.call(a))),c&&(t=a.lastIndex),r=s.call(a,e),c&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=a},function(e,t,n){e.exports=!n(1)&&!n(3)((function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(4)("unscopables"),o=Array.prototype;null==o[r]&&n(11)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(19),o=n(31),i=n(20),s=n(9),u=n(50);e.exports=function(e,t){var n=1==e,a=2==e,c=3==e,f=4==e,l=6==e,p=5==e||l,d=t||u;return function(t,u,h){for(var g,v,y=i(t),m=o(y),b=r(u,h,3),_=s(m.length),E=0,w=n?d(t,_):a?d(t,0):void 0;_>E;E++)if((p||E in m)&&(v=b(g=m[E],E,y),e))if(n)w[E]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:w.push(g)}else if(f)return!1;return l?-1:c||f?f:w}}},function(e,t,n){var r=n(10);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(5),o=n(54).set;e.exports=function(e,t,n){var i,s=t.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(55),o=n(26),i=n(21),s=n(16),u=n(13),a=n(24),c=Object.getOwnPropertyDescriptor;t.f=n(1)?c:function(e,t){if(e=i(e),t=s(t,!0),a)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(35),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(13),o=n(21),i=n(56)(!1),s=n(36)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),a=0,c=[];for(n in u)n!=s&&r(u,n)&&c.push(n);for(;t.length>a;)r(u,n=t[a++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(18)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(5),o=n(10),i=n(4)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(65)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(66),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(67);var r=n(12),o=n(11),i=n(3),s=n(8),u=n(4),a=n(23),c=u("species"),f=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=u(e),d=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!t})):void 0;if(!d||!h||"replace"===e&&!f||"split"===e&&!l){var g=/./[p],v=n(s,p,""[e],(function(e,t,n,r,o){return t.exec===a?d&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=v[0],m=v[1];r(String.prototype,e,y),o(RegExp.prototype,p,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(6);r(r.S+r.F*!n(1),"Object",{defineProperty:n(7).f})},function(e,t,n){e.exports=n(18)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(6);r(r.P,"Array",{fill:n(48)}),n(29)("fill")},function(e,t,n){var r=n(20),o=n(28),i=n(9);e.exports=function(e){for(var t=r(this),n=i(t.length),s=arguments.length,u=o(s>1?arguments[1]:void 0,n),a=s>2?arguments[2]:void 0,c=void 0===a?n:o(a,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(6),o=n(30)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(29)("find")},function(e,t,n){var r=n(51);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(5),o=n(52),i=n(4)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(10);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=n(13),i=n(10),s=n(32),u=n(16),a=n(3),c=n(34).f,f=n(33).f,l=n(7).f,p=n(57).trim,d=r.Number,h=d,g=d.prototype,v="Number"==i(n(59)(g)),y="trim"in String.prototype,m=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=y?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var s,a=t.slice(2),c=0,f=a.length;c<f;c++)if((s=a.charCodeAt(c))<48||s>o)return NaN;return parseInt(a,r)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(v?a((function(){g.valueOf.call(n)})):"Number"!=i(n))?s(new h(m(t)),n,d):m(t)};for(var b,_=n(1)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;_.length>E;E++)o(h,b=_[E])&&!o(d,b)&&l(d,b,f(h,b));d.prototype=g,g.constructor=d,n(12)(r,"Number",d)}},function(e,t,n){var r=n(5),o=n(2),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(19)(Function.call,n(33).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(21),o=n(9),i=n(28);e.exports=function(e){return function(t,n,s){var u,a=r(t),c=o(a.length),f=i(s,c);if(e&&n!=n){for(;c>f;)if((u=a[f++])!=u)return!0}else for(;c>f;f++)if((e||f in a)&&a[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(6),o=n(8),i=n(3),s=n(58),u="["+s+"]",a=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(e,t,n){var o={},u=i((function(){return!!s[e]()||"​"!="​"[e]()})),a=o[e]=u?t(l):s[e];n&&(o[n]=a),r(r.P+r.F*u,"String",o)},l=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(60),i=n(22),s=n(36)("IE_PROTO"),u=function(){},a=function(){var e,t=n(25)("iframe"),r=i.length;for(t.style.display="none",n(62).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),a=e.F;r--;)delete a.prototype[i[r]];return a()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[s]=e):n=a(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(7),o=n(2),i=n(61);e.exports=n(1)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),u=s.length,a=0;u>a;)r.f(e,n=s[a++],t[n]);return e}},function(e,t,n){var r=n(35),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(37),o=n(2),i=n(64),s=n(38),u=n(9),a=n(39),c=n(23),f=n(3),l=Math.min,p=[].push,d="length",h=!f((function(){}));n(41)("split",2,(function(e,t,n,f){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,s,u,a=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,h=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,f+"g");(i=c.call(g,o))&&!((s=g.lastIndex)>l&&(a.push(o.slice(l,i.index)),i[d]>1&&i.index<o[d]&&p.apply(a,i.slice(1)),u=i[0][d],l=s,a[d]>=h));)g.lastIndex===i.index&&g.lastIndex++;return l===o[d]?!u&&g.test("")||a.push(""):a.push(o.slice(l)),a[d]>h?a.slice(0,h):a}:"0".split(void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):g.call(String(o),n,r)},function(e,t){var r=f(g,e,this,t,g!==n);if(r.done)return r.value;var c=o(e),p=String(this),d=i(c,RegExp),v=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),m=new d(h?c:"^(?:"+c.source+")",y),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===p.length)return null===a(m,p)?[p]:[];for(var _=0,E=0,w=[];E<p.length;){m.lastIndex=h?E:0;var S,O=a(m,h?p:p.slice(E));if(null===O||(S=l(u(m.lastIndex+(h?0:E)),p.length))===_)E=s(p,E,v);else{if(w.push(p.slice(_,E)),w.length===b)return w;for(var C=1;C<=O.length-1;C++)if(w.push(O[C]),w.length===b)return w;E=_=S}}return w.push(p.slice(_)),w}]}))},function(e,t,n){var r=n(2),o=n(27),i=n(4)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[i])?t:o(n)}},function(e,t,n){var r=n(14),o=n(8);e.exports=function(e){return function(t,n){var i,s,u=String(o(t)),a=r(n),c=u.length;return a<0||a>=c?e?"":void 0:(i=u.charCodeAt(a))<55296||i>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):i:e?u.slice(a,a+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(10),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(23);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){var r=n(6),o=n(30)(1);r(r.P+r.F*!n(69)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(3);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(2),o=n(20),i=n(9),s=n(14),u=n(38),a=n(39),c=Math.max,f=Math.min,l=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(41)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),s=null==r?void 0:r[t];return void 0!==s?s.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var l=r(e),p=String(this),d="function"==typeof t;d||(t=String(t));var v=l.global;if(v){var y=l.unicode;l.lastIndex=0}for(var m=[];;){var b=a(l,p);if(null===b)break;if(m.push(b),!v)break;""===String(b[0])&&(l.lastIndex=u(p,i(l.lastIndex),y))}for(var _,E="",w=0,S=0;S<m.length;S++){b=m[S];for(var O=String(b[0]),C=c(f(s(b.index),p.length),0),T=[],R=1;R<b.length;R++)T.push(void 0===(_=b[R])?_:String(_));var A=b.groups;if(d){var x=[O].concat(T,C,p);void 0!==A&&x.push(A);var I=String(t.apply(void 0,x))}else I=g(O,p,C,T,A,t);C>=w&&(E+=p.slice(w,C)+I,w=C+O.length)}return E+p.slice(w)}];function g(e,t,r,i,s,u){var a=r+e.length,c=i.length,f=d;return void 0!==s&&(s=o(s),f=p),n.call(u,f,(function(n,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(a);case"<":u=s[o.slice(1,-1)];break;default:var f=+o;if(0===f)return n;if(f>c){var p=l(f/10);return 0===p?n:p<=c?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}u=i[f-1]}return void 0===u?"":u}))}}))},function(e,t,n){var r=n(0),o=n(32),i=n(7).f,s=n(34).f,u=n(37),a=n(40),c=r.RegExp,f=c,l=c.prototype,p=/a/g,d=/a/g,h=new c(p)!==p;if(n(1)&&(!h||n(3)((function(){return d[n(4)("match")]=!1,c(p)!=p||c(d)==d||"/a/i"!=c(p,"i")})))){c=function(e,t){var n=this instanceof c,r=u(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(h?new f(r&&!i?e.source:e,t):f((r=e instanceof c)?e.source:e,r&&i?a.call(e):t),n?this:l,c)};for(var g=function(e){e in c||i(c,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},v=s(f),y=0;v.length>y;)g(v[y++]);l.constructor=c,c.prototype=l,n(12)(r,"RegExp",c)}n(72)("RegExp")},function(e,t,n){var r=n(0),o=n(7),i=n(1),s=n(4)("species");e.exports=function(e){var t=r[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){n.r(t),n.d(t,"UserAgent",(function(){return p})),n.d(t,"getVersionFromUA",(function(){return l})),n.d(t,"compareVersion",(function(){return f})),n(44);var r=n(42),o=n.n(r),i=n(43),s=n.n(i),u=(n(47),n(49),n(53),n(63),n(68),n(70),n(71),/\d+([._]\d+)*/);function a(e){var t,n=u.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function c(e){var t=a(e);return(null==t?void 0:t.split(".").map(Number))||[]}function f(e,t){return n=c(e),r=c(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function l(e,t){var n;try{n=new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(e){return null}var r=n.exec(t);return r?a(r[0].substring(e.length)):null}var p=function(){function e(t){var n=this;o()(this,e),this.userAgent="",this.getAndroidVersion=function(){return n.isAndroid?l("Android",n.userAgent):null},this.isAndroidVersionAboveOrEqual=function(e){return f(n.getAndroidVersion()||"",e)>=0},this.getIOSVersion=function(){return n.isIOS?l("OS",n.userAgent):null},this.isIOSVersionAboveOrEqual=function(e){return f(n.getIOSVersion()||"",e)>=0},this.getPCQQBrowserVersion=function(){return n.isPCQQBrowser?l("QQBrowser",n.userAgent):null},this.isPCQQBrowserVersionAboveOrEqual=function(e){return f(n.getPCQQBrowserVersion()||"",e)>=0},this.getMobileQQBrowserVersion=function(){return n.isMobileQQBrowser?l("MQQBrowser",n.userAgent):null},this.isMobileQQBrowserVersionAboveOrEqual=function(e){return f(n.getMobileQQBrowserVersion()||"",e)>=0},this.getChromeVersion=function(){return l("Chrome",n.userAgent)},this.isChromeVersionAboveOrEqual=function(e){return f(n.getChromeVersion()||"",e)>=0},this.getWeChatVersion=function(){return n.isWeChat||n.isWxMiniProgram?l("MicroMessenger",n.userAgent):null},this.isWeChatVersionAboveOrEqual=function(e){return f(n.getWeChatVersion()||"",e)>=0},this.getWxDriveVersion=function(){return n.isWxDrive?l("WXDrive",n.userAgent):null},this.isWxDriveVersionAboveOrEqual=function(e){return f(n.getWxDriveVersion()||"",e)>=0},this.getWxWorkVersion=function(){return n.isWxWork?l("wxwork",n.userAgent):null},this.isWxWorkVersionAboveOrEqual=function(e){return f(n.getWxWorkVersion()||"",e)>=0},this.getQQVersion=function(){return n.isQQ||n.isQQMiniProgram?l("QQ",n.userAgent):null},this.isQQVersionAboveOrEqual=function(e){return f(n.getQQVersion()||"",e)>=0},this.getTimVersion=function(){return n.isTim?l("TIM",n.userAgent):null},this.isTimVersionAboveOrEqual=function(e){return f(n.getTimVersion()||"",e)>=0},this.getTencentDocsAppVersion=function(){return l("TencentDocs",n.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(e){return f(n.getTencentDocsAppVersion()||"",e)>=0},this.getPCTencentDocsClientVersion=function(){return l("TxDocsPC",n.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(e){return f(n.getPCTencentDocsClientVersion()||"",e)>=0},this.getElectronTencentDocsClientVersion=function(){return l("TDAppDesktop",n.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(e){return f(n.getElectronTencentDocsClientVersion()||"",e)>=0},void 0===t&&(t="undefined"!=typeof navigator?navigator.userAgent:""),Object.defineProperty(this,"userAgent",{value:t,writable:!1})}return s()(e,[{key:"isMobile",get:function(){return/(mobile)/i.test(this.userAgent)||this.isAndroidPad}},{key:"isMobilePhone",get:function(){return/(mobile)/i.test(this.userAgent)&&!this.isIPad}},{key:"isIPhone",get:function(){return/(iphone)/i.test(this.userAgent)}},{key:"isIPad",get:function(){return/(ipad)/i.test(this.userAgent)}},{key:"isAndroidPhone",get:function(){return/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isAndroidPad",get:function(){return!/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isPC",get:function(){return!this.isMobile}},{key:"isMac",get:function(){return!this.isMobile&&/Mac OS X/i.test(this.userAgent)}},{key:"isIPadEmulatedMac",get:function(){return this.isMac&&navigator.maxTouchPoints>1}},{key:"isAndroid",get:function(){return/android|adr/i.test(this.userAgent)}},{key:"isIOS",get:function(){return/(iphone|ipad|ipod)/i.test(this.userAgent)}},{key:"isWindows",get:function(){return/(win64|wow64|win32|wow32|windows nt)/i.test(this.userAgent)}},{key:"isWindowsUWP",get:function(){return/MSAppHost/i.test(this.userAgent)}},{key:"isLinux",get:function(){return/linux/i.test(this.userAgent)&&!this.isAndroid}},{key:"isLinuxKylin",get:function(){return/linux-kylin/i.test(this.userAgent)}},{key:"isLinuxUOS",get:function(){return/linux-uos/i.test(this.userAgent)}},{key:"isPCQQBrowser",get:function(){return!this.isMobile&&/QQBrowser/i.test(this.userAgent)&&!/QBCore/i.test(this.userAgent)}},{key:"isMobileQQBrowser",get:function(){return this.isMobile&&/MQQBrowser/i.test(this.userAgent)&&!this.isTimOrQQ&&!this.isWeChat&&!this.isWxWork&&!this.isTencentDocsApp&&!this.isWeiYunApp&&!this.isMiniProgram}},{key:"isQQBrowser",get:function(){return this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser}},{key:"isChrome",get:function(){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isSafari",get:function(){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isIE",get:function(){return/MSIE/i.test(this.userAgent)&&!/opera/i.test(this.userAgent)||/Trident/i.test(this.userAgent)}},{key:"isOldEdge",get:function(){return/Edge/i.test(this.userAgent)}},{key:"isChromiumEdge",get:function(){return/Edg\//i.test(this.userAgent)}},{key:"isFirefox",get:function(){return/(Firefox|Focus|FxiOS)\//i.test(this.userAgent)}},{key:"isWeChat",get:function(){return/MicroMessenger/i.test(this.userAgent)&&!this.isWxWork&&!this.isWxMiniProgram}},{key:"isWxWork",get:function(){return/(wxwork)/i.test(this.userAgent)}},{key:"isWxWorkCustom",get:function(){return/WeComCEF/i.test(this.userAgent)&&this.isWxWork}},{key:"isWxDrive",get:function(){return/WXDrive/i.test(this.userAgent)}},{key:"isQQ",get:function(){return/QQ\//i.test(this.userAgent)&&!this.isTencentDocsApp&&!this.isQQMiniProgram&&!this.isTim}},{key:"isQQForGooglePlay",get:function(){return/QQ\//i.test(this.userAgent)&&/_GM/i.test(this.userAgent)}},{key:"isTim",get:function(){return/TIM/i.test(this.userAgent)}},{key:"isPCTim",get:function(){return/QBCore/i.test(this.userAgent)&&/TIM2.0/i.test(this.userAgent)}},{key:"isTimOrQQ",get:function(){return this.isTim||this.isQQ}},{key:"isTimOrQQFamily",get:function(){return this.isTim||/QQ/i.test(this.userAgent)}},{key:"isMiniProgram",get:function(){return/miniprogram|miniapp(?!enable)/i.test(this.userAgent)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment}},{key:"isWxMiniProgram",get:function(){return/MicroMessenger/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isQQMiniProgram",get:function(){return/QQ\/|TIM/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isTencentDocsApp",get:function(){return/TencentDocs/i.test(this.userAgent)}},{key:"isPCTencentDocsClient",get:function(){return/TxDocsPC/i.test(this.userAgent)}},{key:"isPCTencentDocsApp",get:function(){return this.isPCTencentDocsClient}},{key:"isElectronTencentDocsClient",get:function(){return/TDAppDesktop/i.test(this.userAgent)}},{key:"isWeiYunApp",get:function(){return/weiyun/i.test(this.userAgent)}},{key:"isSouGou",get:function(){return/SE 2\.X MetaSr 1\.0/i.test(this.userAgent)}},{key:"isTencentMeeting",get:function(){return/tencent_wemeet/i.test(this.userAgent)}},{key:"isTencentMeetingRooms",get:function(){return/TencentMeetingRooms/i.test(this.userAgent)}}]),e}();t.default=new p}])})),at=w(ut),ct=function(e){return e&&e.Math==Math&&e},ft=ct("object"==typeof globalThis&&globalThis)||ct("object"==typeof window&&window)||ct("object"==typeof self&&self)||ct("object"==typeof E&&E)||function(){return this}()||Function("return this")(),lt=function(e){try{return!!e()}catch(t){return!0}},pt=!lt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),dt=!lt((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),ht=Function.prototype.call,gt=dt?ht.bind(ht):function(){return ht.apply(ht,arguments)},vt={}.propertyIsEnumerable,yt=Object.getOwnPropertyDescriptor,mt={f:yt&&!vt.call({1:2},1)?function(e){var t=yt(this,e);return!!t&&t.enumerable}:vt},bt=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},_t=Function.prototype,Et=_t.bind,wt=_t.call,St=dt&&Et.bind(wt,wt),Ot=dt?function(e){return e&&St(e)}:function(e){return e&&function(){return wt.apply(e,arguments)}},Ct=Ot({}.toString),Tt=Ot("".slice),Rt=function(e){return Tt(Ct(e),8,-1)},At=ft.Object,xt=Ot("".split),It=lt((function(){return!At("z").propertyIsEnumerable(0)}))?function(e){return"String"==Rt(e)?xt(e,""):At(e)}:At,kt=ft.TypeError,Mt=function(e){if(void 0==e)throw kt("Can't call method on "+e);return e},Dt=function(e){return It(Mt(e))},Pt=function(e){return"function"==typeof e},Nt=function(e){return"object"==typeof e?null!==e:Pt(e)},Lt=function(e){return Pt(e)?e:void 0},jt=function(e,t){return arguments.length<2?Lt(ft[e]):ft[e]&&ft[e][t]},Ut=Ot({}.isPrototypeOf),Ft=jt("navigator","userAgent")||"",Wt=ft.process,qt=ft.Deno,Bt=Wt&&Wt.versions||qt&&qt.version,Qt=Bt&&Bt.v8;Qt&&($e=(Ye=Qt.split("."))[0]>0&&Ye[0]<4?1:+(Ye[0]+Ye[1])),!$e&&Ft&&(!(Ye=Ft.match(/Edge\/(\d+)/))||Ye[1]>=74)&&(Ye=Ft.match(/Chrome\/(\d+)/))&&($e=+Ye[1]);var Vt=$e,Gt=!!Object.getOwnPropertySymbols&&!lt((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Vt&&Vt<41})),Kt=Gt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ht=ft.Object,zt=Kt?function(e){return"symbol"==typeof e}:function(e){var t=jt("Symbol");return Pt(t)&&Ut(t.prototype,Ht(e))},Yt=ft.String,$t=function(e){try{return Yt(e)}catch(t){return"Object"}},Jt=ft.TypeError,Xt=function(e){if(Pt(e))return e;throw Jt($t(e)+" is not a function")},Zt=function(e,t){var n=e[t];return null==n?void 0:Xt(n)},en=ft.TypeError,tn=Object.defineProperty,nn=function(e,t){try{tn(ft,e,{value:t,configurable:!0,writable:!0})}catch(n){ft[e]=t}return t},rn="__core-js_shared__",on=ft[rn]||nn(rn,{}),sn=O((function(e){(e.exports=function(e,t){return on[e]||(on[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),un=ft.Object,an=function(e){return un(Mt(e))},cn=Ot({}.hasOwnProperty),fn=Object.hasOwn||function(e,t){return cn(an(e),t)},ln=0,pn=Math.random(),dn=Ot(1..toString),hn=function(e){return"Symbol("+(void 0===e?"":e)+")_"+dn(++ln+pn,36)},gn=sn("wks"),vn=ft.Symbol,yn=vn&&vn.for,mn=Kt?vn:vn&&vn.withoutSetter||hn,bn=function(e){if(!fn(gn,e)||!Gt&&"string"!=typeof gn[e]){var t="Symbol."+e;Gt&&fn(vn,e)?gn[e]=vn[e]:gn[e]=Kt&&yn?yn(t):mn(t)}return gn[e]},_n=ft.TypeError,En=bn("toPrimitive"),wn=function(e,t){if(!Nt(e)||zt(e))return e;var n,r=Zt(e,En);if(r){if(void 0===t&&(t="default"),n=gt(r,e,t),!Nt(n)||zt(n))return n;throw _n("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&Pt(n=e.toString)&&!Nt(r=gt(n,e)))return r;if(Pt(n=e.valueOf)&&!Nt(r=gt(n,e)))return r;if("string"!==t&&Pt(n=e.toString)&&!Nt(r=gt(n,e)))return r;throw en("Can't convert object to primitive value")}(e,t)},Sn=function(e){var t=wn(e,"string");return zt(t)?t:t+""},On=ft.document,Cn=Nt(On)&&Nt(On.createElement),Tn=function(e){return Cn?On.createElement(e):{}},Rn=!pt&&!lt((function(){return 7!=Object.defineProperty(Tn("div"),"a",{get:function(){return 7}}).a})),An=Object.getOwnPropertyDescriptor,xn={f:pt?An:function(e,t){if(e=Dt(e),t=Sn(t),Rn)try{return An(e,t)}catch(n){}if(fn(e,t))return bt(!gt(mt.f,e,t),e[t])}},In=pt&&lt((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),kn=ft.String,Mn=ft.TypeError,Dn=function(e){if(Nt(e))return e;throw Mn(kn(e)+" is not an object")},Pn=ft.TypeError,Nn=Object.defineProperty,Ln=Object.getOwnPropertyDescriptor,jn="enumerable",Un="configurable",Fn="writable",Wn={f:pt?In?function(e,t,n){if(Dn(e),t=Sn(t),Dn(n),"function"===typeof e&&"prototype"===t&&"value"in n&&Fn in n&&!n.writable){var r=Ln(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:Un in n?n.configurable:r.configurable,enumerable:jn in n?n.enumerable:r.enumerable,writable:!1})}return Nn(e,t,n)}:Nn:function(e,t,n){if(Dn(e),t=Sn(t),Dn(n),Rn)try{return Nn(e,t,n)}catch(r){}if("get"in n||"set"in n)throw Pn("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},qn=pt?function(e,t,n){return Wn.f(e,t,bt(1,n))}:function(e,t,n){return e[t]=n,e},Bn=Ot(Function.toString);Pt(on.inspectSource)||(on.inspectSource=function(e){return Bn(e)});var Qn,Vn,Gn,Kn=on.inspectSource,Hn=ft.WeakMap,zn=Pt(Hn)&&/native code/.test(Kn(Hn)),Yn=sn("keys"),$n=function(e){return Yn[e]||(Yn[e]=hn(e))},Jn={},Xn="Object already initialized",Zn=ft.TypeError,er=ft.WeakMap;if(zn||on.state){var tr=on.state||(on.state=new er),nr=Ot(tr.get),rr=Ot(tr.has),or=Ot(tr.set);Qn=function(e,t){if(rr(tr,e))throw new Zn(Xn);return t.facade=e,or(tr,e,t),t},Vn=function(e){return nr(tr,e)||{}},Gn=function(e){return rr(tr,e)}}else{var ir=$n("state");Jn[ir]=!0,Qn=function(e,t){if(fn(e,ir))throw new Zn(Xn);return t.facade=e,qn(e,ir,t),t},Vn=function(e){return fn(e,ir)?e[ir]:{}},Gn=function(e){return fn(e,ir)}}var sr,ur={set:Qn,get:Vn,has:Gn,enforce:function(e){return Gn(e)?Vn(e):Qn(e,{})},getterFor:function(e){return function(t){var n;if(!Nt(t)||(n=Vn(t)).type!==e)throw Zn("Incompatible receiver, "+e+" required");return n}}},ar=Function.prototype,cr=pt&&Object.getOwnPropertyDescriptor,fr=fn(ar,"name"),lr={EXISTS:fr,PROPER:fr&&"something"===function(){}.name,CONFIGURABLE:fr&&(!pt||pt&&cr(ar,"name").configurable)},pr=O((function(e){var t=lr.CONFIGURABLE,n=ur.get,r=ur.enforce,o=String(String).split("String");(e.exports=function(e,n,i,s){var u,a=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet,l=s&&void 0!==s.name?s.name:n;Pt(i)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!fn(i,"name")||t&&i.name!==l)&&qn(i,"name",l),(u=r(i)).source||(u.source=o.join("string"==typeof l?l:""))),e!==ft?(a?!f&&e[n]&&(c=!0):delete e[n],c?e[n]=i:qn(e,n,i)):c?e[n]=i:nn(n,i)})(Function.prototype,"toString",(function(){return Pt(this)&&n(this).source||Kn(this)}))})),dr=Math.ceil,hr=Math.floor,gr=function(e){var t=+e;return t!==t||0===t?0:(t>0?hr:dr)(t)},vr=Math.max,yr=Math.min,mr=Math.min,br=function(e){return(t=e.length)>0?mr(gr(t),9007199254740991):0;var t},_r=function(e){return function(t,n,r){var o,i=Dt(t),s=br(i),u=function(e,t){var n=gr(e);return n<0?vr(n+t,0):yr(n,t)}(r,s);if(e&&n!=n){for(;s>u;)if((o=i[u++])!=o)return!0}else for(;s>u;u++)if((e||u in i)&&i[u]===n)return e||u||0;return!e&&-1}},Er=(_r(!0),_r(!1)),wr=Ot([].push),Sr=function(e,t){var n,r=Dt(e),o=0,i=[];for(n in r)!fn(Jn,n)&&fn(r,n)&&wr(i,n);for(;t.length>o;)fn(r,n=t[o++])&&(~Er(i,n)||wr(i,n));return i},Or=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Cr=Or.concat("length","prototype"),Tr={f:Object.getOwnPropertyNames||function(e){return Sr(e,Cr)}},Rr={f:Object.getOwnPropertySymbols},Ar=Ot([].concat),xr=jt("Reflect","ownKeys")||function(e){var t=Tr.f(Dn(e)),n=Rr.f;return n?Ar(t,n(e)):t},Ir=function(e,t,n){for(var r=xr(t),o=Wn.f,i=xn.f,s=0;s<r.length;s++){var u=r[s];fn(e,u)||n&&fn(n,u)||o(e,u,i(t,u))}},kr=/#|\.prototype\./,Mr=function(e,t){var n=Pr[Dr(e)];return n==Lr||n!=Nr&&(Pt(t)?lt(t):!!t)},Dr=Mr.normalize=function(e){return String(e).replace(kr,".").toLowerCase()},Pr=Mr.data={},Nr=Mr.NATIVE="N",Lr=Mr.POLYFILL="P",jr=Mr,Ur=xn.f,Fr=function(e,t){var n,r,o,i,s,u=e.target,a=e.global,c=e.stat;if(n=a?ft:c?ft[u]||nn(u,{}):(ft[u]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(s=Ur(n,r))&&s.value:n[r],!jr(a?r:u+(c?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ir(i,o)}(e.sham||o&&o.sham)&&qn(i,"sham",!0),pr(n,r,i,e)}},Wr=!lt((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),qr=$n("IE_PROTO"),Br=ft.Object,Qr=Br.prototype,Vr=Wr?Br.getPrototypeOf:function(e){var t=an(e);if(fn(t,qr))return t[qr];var n=t.constructor;return Pt(n)&&t instanceof n?n.prototype:t instanceof Br?Qr:null},Gr=ft.String,Kr=ft.TypeError,Hr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Ot(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return Dn(n),function(e){if("object"==typeof e||Pt(e))return e;throw Kr("Can't set "+Gr(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),zr=Object.keys||function(e){return Sr(e,Or)},Yr=pt&&!In?Object.defineProperties:function(e,t){Dn(e);for(var n,r=Dt(t),o=zr(t),i=o.length,s=0;i>s;)Wn.f(e,n=o[s++],r[n]);return e},$r={f:Yr},Jr=jt("document","documentElement"),Xr=$n("IE_PROTO"),Zr=function(){},eo=function(e){return"<script>"+e+"<\/script>"},to=function(e){e.write(eo("")),e.close();var t=e.parentWindow.Object;return e=null,t},no=function(){try{sr=new ActiveXObject("htmlfile")}catch(t){}no="undefined"!=typeof document?document.domain&&sr?to(sr):function(){var e,t=Tn("iframe");return t.style.display="none",Jr.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(eo("document.F=Object")),e.close(),e.F}():to(sr);for(var e=Or.length;e--;)delete no.prototype[Or[e]];return no()};Jn[Xr]=!0;var ro=Object.create||function(e,t){var n;return null!==e?(Zr.prototype=Dn(e),n=new Zr,Zr.prototype=null,n[Xr]=e):n=no(),void 0===t?n:$r.f(n,t)},oo=Error,io=Ot("".replace),so=String(oo("zxcasd").stack),uo=/\n\s*at [^:]*:[^\n]*/,ao=uo.test(so),co=function(e,t){if(ao&&"string"==typeof e&&!oo.prepareStackTrace)for(;t--;)e=io(e,uo,"");return e},fo=function(e,t){Nt(t)&&"cause"in t&&qn(e,"cause",t.cause)},lo=Ot(Ot.bind),po=function(e,t){return Xt(e),void 0===t?e:dt?lo(e,t):function(){return e.apply(t,arguments)}},ho={},go=bn("iterator"),vo=Array.prototype,yo={};yo[bn("toStringTag")]="z";var mo="[object z]"===String(yo),bo=bn("toStringTag"),_o=ft.Object,Eo="Arguments"==Rt(function(){return arguments}()),wo=mo?Rt:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=_o(e),bo))?n:Eo?Rt(t):"Object"==(r=Rt(t))&&Pt(t.callee)?"Arguments":r},So=bn("iterator"),Oo=function(e){if(void 0!=e)return Zt(e,So)||Zt(e,"@@iterator")||ho[wo(e)]},Co=ft.TypeError,To=function(e,t,n){var r,o;Dn(e);try{if(!(r=Zt(e,"return"))){if("throw"===t)throw n;return n}r=gt(r,e)}catch(i){o=!0,r=i}if("throw"===t)throw n;if(o)throw r;return Dn(r),n},Ro=ft.TypeError,Ao=function(e,t){this.stopped=e,this.result=t},xo=Ao.prototype,Io=function(e,t,n){var r,o,i,s,u,a,c,f,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),g=po(t,l),v=function(e){return r&&To(r,"normal",e),new Ao(!0,e)},y=function(e){return p?(Dn(e),h?g(e[0],e[1],v):g(e[0],e[1])):h?g(e,v):g(e)};if(d)r=e;else{if(!(o=Oo(e)))throw Ro($t(e)+" is not iterable");if(void 0!==(f=o)&&(ho.Array===f||vo[go]===f)){for(i=0,s=br(e);s>i;i++)if((u=y(e[i]))&&Ut(xo,u))return u;return new Ao(!1)}r=function(e,t){var n=arguments.length<2?Oo(e):t;if(Xt(n))return Dn(gt(n,e));throw Co($t(e)+" is not iterable")}(e,o)}for(a=r.next;!(c=gt(a,r)).done;){try{u=y(c.value)}catch(m){To(r,"throw",m)}if("object"==typeof u&&u&&Ut(xo,u))return u}return new Ao(!1)},ko=ft.String,Mo=function(e){if("Symbol"===wo(e))throw TypeError("Cannot convert a Symbol value to a string");return ko(e)},Do=function(e,t){return void 0===e?arguments.length<2?"":t:Mo(e)},Po=!lt((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",bt(1,7)),7!==e.stack)})),No=bn("toStringTag"),Lo=ft.Error,jo=[].push,Uo=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,o=Ut(Fo,this);Hr?n=Hr(new Lo,o?Vr(this):Fo):(n=o?this:ro(Fo),qn(n,No,"Error")),void 0!==t&&qn(n,"message",Do(t)),Po&&qn(n,"stack",co(n.stack,1)),fo(n,r);var i=[];return Io(e,jo,{that:i}),qn(n,"errors",i),n};Hr?Hr(Uo,Lo):Ir(Uo,Lo,{name:!0});var Fo=Uo.prototype=ro(Lo.prototype,{constructor:bt(1,Uo),message:bt(1,""),name:bt(1,"AggregateError")});Fr({global:!0},{AggregateError:Uo});var Wo=bn("unscopables"),qo=Array.prototype;void 0==qo[Wo]&&Wn.f(qo,Wo,{configurable:!0,value:ro(null)});var Bo,Qo,Vo,Go=function(e){qo[Wo][e]=!0},Ko=bn("iterator"),Ho=!1;[].keys&&("next"in(Vo=[].keys())?(Qo=Vr(Vr(Vo)))!==Object.prototype&&(Bo=Qo):Ho=!0);var zo=void 0==Bo||lt((function(){var e={};return Bo[Ko].call(e)!==e}));zo&&(Bo={}),Pt(Bo[Ko])||pr(Bo,Ko,(function(){return this}));var Yo={IteratorPrototype:Bo,BUGGY_SAFARI_ITERATORS:Ho},$o=Wn.f,Jo=bn("toStringTag"),Xo=function(e,t,n){e&&!n&&(e=e.prototype),e&&!fn(e,Jo)&&$o(e,Jo,{configurable:!0,value:t})},Zo=Yo.IteratorPrototype,ei=function(){return this},ti=lr.PROPER,ni=lr.CONFIGURABLE,ri=Yo.IteratorPrototype,oi=Yo.BUGGY_SAFARI_ITERATORS,ii=bn("iterator"),si="keys",ui="values",ai="entries",ci=function(){return this},fi=function(e,t,n,r,o,i,s){!function(e,t,n,r){var o=t+" Iterator";e.prototype=ro(Zo,{next:bt(+!r,n)}),Xo(e,o,!1),ho[o]=ei}(n,t,r);var u,a,c,f=function(e){if(e===o&&g)return g;if(!oi&&e in d)return d[e];switch(e){case si:case ui:case ai:return function(){return new n(this,e)}}return function(){return new n(this)}},l=t+" Iterator",p=!1,d=e.prototype,h=d[ii]||d["@@iterator"]||o&&d[o],g=!oi&&h||f(o),v="Array"==t&&d.entries||h;if(v&&(u=Vr(v.call(new e)))!==Object.prototype&&u.next&&(Vr(u)!==ri&&(Hr?Hr(u,ri):Pt(u[ii])||pr(u,ii,ci)),Xo(u,l,!0)),ti&&o==ui&&h&&h.name!==ui&&(ni?qn(d,"name",ui):(p=!0,g=function(){return gt(h,this)})),o)if(a={values:f(ui),keys:i?g:f(si),entries:f(ai)},s)for(c in a)(oi||p||!(c in d))&&pr(d,c,a[c]);else Fr({target:t,proto:!0,forced:oi||p},a);return d[ii]!==g&&pr(d,ii,g,{name:o}),ho[t]=g,a},li=Wn.f,pi="Array Iterator",di=ur.set,hi=ur.getterFor(pi),gi=fi(Array,"Array",(function(e,t){di(this,{type:pi,target:Dt(e),index:0,kind:t})}),(function(){var e=hi(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),vi=ho.Arguments=ho.Array;if(Go("keys"),Go("values"),Go("entries"),pt&&"values"!==vi.name)try{li(vi,"name",{value:"values"})}catch(bp){}var yi=mo?{}.toString:function(){return"[object "+wo(this)+"]"};mo||pr(Object.prototype,"toString",yi,{unsafe:!0});var mi="process"==Rt(ft.process),bi=bn("species"),_i=ft.TypeError,Ei=function(){},wi=[],Si=jt("Reflect","construct"),Oi=/^\s*(?:class|function)\b/,Ci=Ot(Oi.exec),Ti=!Oi.exec(Ei),Ri=function(e){if(!Pt(e))return!1;try{return Si(Ei,wi,e),!0}catch(bp){return!1}},Ai=function(e){if(!Pt(e))return!1;switch(wo(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ti||!!Ci(Oi,Kn(e))}catch(bp){return!0}};Ai.sham=!0;var xi,Ii,ki,Mi,Di=!Si||lt((function(){var e;return Ri(Ri.call)||!Ri(Object)||!Ri((function(){e=!0}))||e}))?Ai:Ri,Pi=ft.TypeError,Ni=bn("species"),Li=function(e,t){var n,r=Dn(e).constructor;return void 0===r||void 0==(n=Dn(r)[Ni])?t:function(e){if(Di(e))return e;throw Pi($t(e)+" is not a constructor")}(n)},ji=Function.prototype,Ui=ji.apply,Fi=ji.call,Wi="object"==typeof Reflect&&Reflect.apply||(dt?Fi.bind(Ui):function(){return Fi.apply(Ui,arguments)}),qi=Ot([].slice),Bi=ft.TypeError,Qi=function(e,t){if(e<t)throw Bi("Not enough arguments");return e},Vi=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ft),Gi=ft.setImmediate,Ki=ft.clearImmediate,Hi=ft.process,zi=ft.Dispatch,Yi=ft.Function,$i=ft.MessageChannel,Ji=ft.String,Xi=0,Zi={},es="onreadystatechange";try{xi=ft.location}catch(bp){}var ts=function(e){if(fn(Zi,e)){var t=Zi[e];delete Zi[e],t()}},ns=function(e){return function(){ts(e)}},rs=function(e){ts(e.data)},os=function(e){ft.postMessage(Ji(e),xi.protocol+"//"+xi.host)};Gi&&Ki||(Gi=function(e){Qi(arguments.length,1);var t=Pt(e)?e:Yi(e),n=qi(arguments,1);return Zi[++Xi]=function(){Wi(t,void 0,n)},Ii(Xi),Xi},Ki=function(e){delete Zi[e]},mi?Ii=function(e){Hi.nextTick(ns(e))}:zi&&zi.now?Ii=function(e){zi.now(ns(e))}:$i&&!Vi?(Mi=(ki=new $i).port2,ki.port1.onmessage=rs,Ii=po(Mi.postMessage,Mi)):ft.addEventListener&&Pt(ft.postMessage)&&!ft.importScripts&&xi&&"file:"!==xi.protocol&&!lt(os)?(Ii=os,ft.addEventListener("message",rs,!1)):Ii=es in Tn("script")?function(e){Jr.appendChild(Tn("script")).onreadystatechange=function(){Jr.removeChild(this),ts(e)}}:function(e){setTimeout(ns(e),0)});var is,ss,us,as,cs,fs,ls,ps,ds={set:Gi,clear:Ki},hs=/ipad|iphone|ipod/i.test(Ft)&&void 0!==ft.Pebble,gs=/web0s(?!.*chrome)/i.test(Ft),vs=xn.f,ys=ds.set,ms=ft.MutationObserver||ft.WebKitMutationObserver,bs=ft.document,_s=ft.process,Es=ft.Promise,ws=vs(ft,"queueMicrotask"),Ss=ws&&ws.value;Ss||(is=function(){var e,t;for(mi&&(e=_s.domain)&&e.exit();ss;){t=ss.fn,ss=ss.next;try{t()}catch(bp){throw ss?as():us=void 0,bp}}us=void 0,e&&e.enter()},Vi||mi||gs||!ms||!bs?!hs&&Es&&Es.resolve?((ls=Es.resolve(void 0)).constructor=Es,ps=po(ls.then,ls),as=function(){ps(is)}):mi?as=function(){_s.nextTick(is)}:(ys=po(ys,ft),as=function(){ys(is)}):(cs=!0,fs=bs.createTextNode(""),new ms(is).observe(fs,{characterData:!0}),as=function(){fs.data=cs=!cs}));var Os=Ss||function(e){var t={fn:e,next:void 0};us&&(us.next=t),ss||(ss=t,as()),us=t},Cs=function(e){try{return{error:!1,value:e()}}catch(bp){return{error:!0,value:bp}}},Ts=function(){this.head=null,this.tail=null};Ts.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Rs=Ts,As=ft.Promise,xs="object"==typeof window&&"object"!=typeof Deno;As&&As.prototype;var Is,ks,Ms,Ds=bn("species"),Ps=!1,Ns=Pt(ft.PromiseRejectionEvent),Ls=jr("Promise",(function(){var e=Kn(As),t=e!==String(As);if(!t&&66===Vt)return!0;if(Vt>=51&&/native code/.test(e))return!1;var n=new As((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[Ds]=r,!(Ps=n.then((function(){}))instanceof r)||!t&&xs&&!Ns})),js={CONSTRUCTOR:Ls,REJECTION_EVENT:Ns,SUBCLASSING:Ps},Us=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Xt(t),this.reject=Xt(n)},Fs={f:function(e){return new Us(e)}},Ws=ds.set,qs="Promise",Bs=js.CONSTRUCTOR,Qs=js.REJECTION_EVENT,Vs=js.SUBCLASSING,Gs=ur.getterFor(qs),Ks=ur.set,Hs=As&&As.prototype,zs=As,Ys=Hs,$s=ft.TypeError,Js=ft.document,Xs=ft.process,Zs=Fs.f,eu=Zs,tu=!!(Js&&Js.createEvent&&ft.dispatchEvent),nu="unhandledrejection",ru=function(e){var t;return!(!Nt(e)||!Pt(t=e.then))&&t},ou=function(e,t){var n,r,o,i=t.value,s=1==t.state,u=s?e.ok:e.fail,a=e.resolve,c=e.reject,f=e.domain;try{u?(s||(2===t.rejection&&cu(t),t.rejection=1),!0===u?n=i:(f&&f.enter(),n=u(i),f&&(f.exit(),o=!0)),n===e.promise?c($s("Promise-chain cycle")):(r=ru(n))?gt(r,n,a,c):a(n)):c(i)}catch(bp){f&&!o&&f.exit(),c(bp)}},iu=function(e,t){e.notified||(e.notified=!0,Os((function(){for(var n,r=e.reactions;n=r.get();)ou(n,e);e.notified=!1,t&&!e.rejection&&uu(e)})))},su=function(e,t,n){var r,o;tu?((r=Js.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),ft.dispatchEvent(r)):r={promise:t,reason:n},!Qs&&(o=ft["on"+e])?o(r):e===nu&&function(e,t){var n=ft.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},uu=function(e){gt(Ws,ft,(function(){var t,n=e.facade,r=e.value;if(au(e)&&(t=Cs((function(){mi?Xs.emit("unhandledRejection",r,n):su(nu,n,r)})),e.rejection=mi||au(e)?2:1,t.error))throw t.value}))},au=function(e){return 1!==e.rejection&&!e.parent},cu=function(e){gt(Ws,ft,(function(){var t=e.facade;mi?Xs.emit("rejectionHandled",t):su("rejectionhandled",t,e.value)}))},fu=function(e,t,n){return function(r){e(t,r,n)}},lu=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,iu(e,!0))},pu=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw $s("Promise can't be resolved itself");var r=ru(t);r?Os((function(){var n={done:!1};try{gt(r,t,fu(pu,n,e),fu(lu,n,e))}catch(bp){lu(n,bp,e)}})):(e.value=t,e.state=1,iu(e,!1))}catch(bp){lu({done:!1},bp,e)}}};if(Bs&&(Ys=(zs=function(e){!function(e,t){if(Ut(t,e))return e;throw _i("Incorrect invocation")}(this,Ys),Xt(e),gt(Is,this);var t=Gs(this);try{e(fu(pu,t),fu(lu,t))}catch(bp){lu(t,bp)}}).prototype,(Is=function(e){Ks(this,{type:qs,done:!1,notified:!1,parent:!1,reactions:new Rs,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)pr(e,r,t[r],n);return e}(Ys,{then:function(e,t){var n=Gs(this),r=Zs(Li(this,zs));return n.parent=!0,r.ok=!Pt(e)||e,r.fail=Pt(t)&&t,r.domain=mi?Xs.domain:void 0,0==n.state?n.reactions.add(r):Os((function(){ou(r,n)})),r.promise}}),ks=function(){var e=new Is,t=Gs(e);this.promise=e,this.resolve=fu(pu,t),this.reject=fu(lu,t)},Fs.f=Zs=function(e){return e===zs||void 0===e?new ks(e):eu(e)},Pt(As)&&Hs!==Object.prototype)){Ms=Hs.then,Vs||pr(Hs,"then",(function(e,t){var n=this;return new zs((function(e,t){gt(Ms,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete Hs.constructor}catch(bp){}Hr&&Hr(Hs,Ys)}Fr({global:!0,wrap:!0,forced:Bs},{Promise:zs}),Xo(zs,qs,!1),function(e){var t=jt(e),n=Wn.f;pt&&t&&!t[bi]&&n(t,bi,{configurable:!0,get:function(){return this}})}(qs);var du=bn("iterator"),hu=!1;try{var gu=0,vu={next:function(){return{done:!!gu++}},return:function(){hu=!0}};vu[du]=function(){return this},Array.from(vu,(function(){throw 2}))}catch(bp){}var yu=js.CONSTRUCTOR||!function(e,t){if(!t&&!hu)return!1;var n=!1;try{var r={};r[du]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(bp){}return n}((function(e){As.all(e).then(void 0,(function(){}))}));Fr({target:"Promise",stat:!0,forced:yu},{all:function(e){var t=this,n=Fs.f(t),r=n.resolve,o=n.reject,i=Cs((function(){var n=Xt(t.resolve),i=[],s=0,u=1;Io(e,(function(e){var a=s++,c=!1;u++,gt(n,t,e).then((function(e){c||(c=!0,i[a]=e,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise}});var mu=js.CONSTRUCTOR,bu=As&&As.prototype;if(Fr({target:"Promise",proto:!0,forced:mu,real:!0},{catch:function(e){return this.then(void 0,e)}}),Pt(As)){var _u=jt("Promise").prototype.catch;bu.catch!==_u&&pr(bu,"catch",_u,{unsafe:!0})}Fr({target:"Promise",stat:!0,forced:yu},{race:function(e){var t=this,n=Fs.f(t),r=n.reject,o=Cs((function(){var o=Xt(t.resolve);Io(e,(function(e){gt(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Fr({target:"Promise",stat:!0,forced:js.CONSTRUCTOR},{reject:function(e){var t=Fs.f(this);return gt(t.reject,void 0,e),t.promise}});var Eu=js.CONSTRUCTOR;jt("Promise"),Fr({target:"Promise",stat:!0,forced:Eu},{resolve:function(e){return function(e,t){if(Dn(e),Nt(t)&&t.constructor===e)return t;var n=Fs.f(e);return(0,n.resolve)(t),n.promise}(this,e)}});var wu="No one promise resolved";Fr({target:"Promise",stat:!0},{any:function(e){var t=this,n=jt("AggregateError"),r=Fs.f(t),o=r.resolve,i=r.reject,s=Cs((function(){var r=Xt(t.resolve),s=[],u=0,a=1,c=!1;Io(e,(function(e){var f=u++,l=!1;a++,gt(r,t,e).then((function(e){l||c||(c=!0,o(e))}),(function(e){l||c||(l=!0,s[f]=e,--a||i(new n(s,wu)))}))})),--a||i(new n(s,wu))}));return s.error&&i(s.value),r.promise}});var Su=Ot("".charAt),Ou=Ot("".charCodeAt),Cu=Ot("".slice),Tu=function(e){return function(t,n){var r,o,i=Mo(Mt(t)),s=gr(n),u=i.length;return s<0||s>=u?e?"":void 0:(r=Ou(i,s))<55296||r>56319||s+1===u||(o=Ou(i,s+1))<56320||o>57343?e?Su(i,s):r:e?Cu(i,s,s+2):o-56320+(r-55296<<10)+65536}},Ru=(Tu(!1),Tu(!0)),Au="String Iterator",xu=ur.set,Iu=ur.getterFor(Au);fi(String,"String",(function(e){xu(this,{type:Au,string:Mo(e),index:0})}),(function(){var e,t=Iu(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Ru(n,r),t.index+=e.length,{value:e,done:!1})})),ft.Promise.any;var ku={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Mu=Tn("span").classList,Du=Mu&&Mu.constructor&&Mu.constructor.prototype,Pu=Du===Object.prototype?void 0:Du,Nu=bn("iterator"),Lu=bn("toStringTag"),ju=gi.values,Uu=function(e,t){if(e){if(e[Nu]!==ju)try{qn(e,Nu,ju)}catch(bp){e[Nu]=ju}if(e[Lu]||qn(e,Lu,t),ku[t])for(var n in gi)if(e[n]!==gi[n])try{qn(e,n,gi[n])}catch(bp){e[n]=gi[n]}}};for(var Fu in ku)Uu(ft[Fu]&&ft[Fu].prototype,Fu);Uu(Pu,"DOMTokenList");var Wu,qu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},Bu=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};!function(e){e.OFF_LINE="offline",e.ON_LINE="online"}(Wu||(Wu={}));var Qu="/pc/misc/files/20200114/390bc96befed3c9fe3aa1d013695fb41.gif",Vu=["https://pub.idqqimg.com"+Qu,"https://s.url.cn"+Qu];window.__offlinetest=!1;var Gu=function(){function e(){this.duration=15e3,this.counter=0,this.status=this.navigatorOnlineStatus,this.netchecksource=Vu[0],this.callbacks=[],this.bindVisibility()}return e.prototype.init=function(){var e=this;return this.preNetCheck().then((function(t){e.status=t})),window.addEventListener("online",this.handleNetstatus.bind(this)),window.addEventListener("offline",this.handleNetstatus.bind(this)),this.startChect(),this},Object.defineProperty(e.prototype,"isOnline",{get:function(){return!window.__offlinetest&&this.status===Wu.ON_LINE},enumerable:!1,configurable:!0}),e.prototype.changeEnd=function(e){this.callbacks.push(e)},e.prototype.remove=function(e){for(var t=this.callbacks.slice(0,this.callbacks.length),n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),this.callbacks=t)},e.prototype.handleCalback=function(){var e=this;this.callbacks.forEach((function(t){t(e.status)}))},e.prototype.bindVisibility=function(){var e;"undefined"!==typeof document.hidden?e="visibilitychange":"undefined"!==typeof document.mozHidden?e="mozvisibilitychange":"undefined"!==typeof document.msHidden?e="msvisibilitychange":"undefined"!==typeof document.webkitHidden&&(e="webkitvisibilitychange"),window.mqq&&at.isAndroid&&(at.isTencentDocsApp||at.isTimOrQQ)&&!at.isQQMiniProgram?window.mqq.addEventListener("qbrowserVisibilityChange",this.handleVisibility.bind(this)):document.addEventListener(e,this.handleVisibility.bind(this))},e.prototype.handleVisibility=function(){document.hidden||document.webkitHidden||document.msHidden||document.mozHidden?this.pause():this.startChect()},e.prototype.pause=function(){clearTimeout(this.Timer),this.Timer=null},e.prototype.startChect=function(){var e=this;this.Timer=window.setTimeout((function(){e.polling(),e.startChect()}),this.duration)},e.prototype.polling=function(){return qu(this,void 0,void 0,(function(){var e;return Bu(this,(function(t){switch(t.label){case 0:return this.preCheckOnlineStatus?[3,1]:(this.status=this.navigatorOnlineStatus,[3,3]);case 1:return e=this,[4,this.netcheck()];case 2:e.status=t.sent(),t.label=3;case 3:return this.counter>=250?(this.preNetCheck(),this.counter=0):this.counter+=1,this.handleCalback(),[2]}}))}))},Object.defineProperty(e.prototype,"navigatorOnlineStatus",{get:function(){return window.navigator.onLine?Wu.ON_LINE:Wu.OFF_LINE},enumerable:!1,configurable:!0}),e.prototype.preNetCheck=function(){return qu(this,void 0,void 0,(function(){var e=this;return Bu(this,(function(t){return[2,new Promise((function(t){var n=Vu.map((function(t){return e.sourceCheck(t)}));Promise.any(n).then((function(n){e.preCheckOnlineStatus=!0,e.netchecksource=n,t(Wu.ON_LINE)})).catch((function(n){console.error(n),e.preCheckOnlineStatus=!1,t(Wu.OFF_LINE)}))}))]}))}))},e.prototype.sourceCheck=function(e){return qu(this,void 0,void 0,(function(){var t;return Bu(this,(function(n){return t=new Image,[2,new Promise((function(n,r){t.onload=function(){n(e)},t.onerror=function(){r(e+" load fail")},t.src=e+"?t="+Date.now()}))]}))}))},e.prototype.netcheck=function(){return qu(this,void 0,void 0,(function(){var e=this;return Bu(this,(function(t){return this.netcheckImage||(this.netcheckImage=new Image),[2,new Promise((function(t){e.netcheckImage.onload=function(){t(Wu.ON_LINE)},e.netcheckImage.onerror=function(){t(Wu.OFF_LINE)},e.netcheckImage.src=e.netchecksource+"?t="+Date.now()}))]}))}))},e.prototype.handleNetstatus=function(){return qu(this,void 0,void 0,(function(){var e;return Bu(this,(function(t){switch(t.label){case 0:return e=this,[4,this.netcheck()];case 1:return e.status=t.sent(),this.handleCalback(),[2]}}))}))},e}(),Ku=(new Gu).init(),Hu=Object.freeze({__proto__:null,default:Gu,network:Ku}),zu=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WMODE=t.TRANSPOET_MODE_MAP=t.DEFAULT_ATTEMPT_TRANSPORT_MODE=t.DEFAULT_TRANSPORT_MODE=t.WEBSOCKET_CONFIG=void 0,t.WEBSOCKET_CONFIG={reconnectMaxTimes:3,connectTimeout:5e3,reconnectionDelay:3e3,reconnectionDelayMax:5e3,randomizationFactor:1,pollingReopenCount:0,pollingAttemptCount:3};var n=["websocket"];t.DEFAULT_TRANSPORT_MODE=n;var r=["polling","websocket"];t.DEFAULT_ATTEMPT_TRANSPORT_MODE=r;var o=new Map([["w",n],["l",["polling"]],["b",r]]);t.TRANSPOET_MODE_MAP=o,t.DEFAULT_WMODE="ww"})),Yu=O((function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e,t){"object"===("undefined"==typeof e?"undefined":o(e))&&(t=e,e=void 0),t=t||{};var n,r=i(e),s=r.source,f=r.id,l=r.path,p=c[f]&&l in c[f].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(a("ignoring socket cache for %s",s),n=u(s,t)):(c[f]||(a("new io instance for %s",s),c[f]=u(s,t)),n=c[f]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),s=n(7),u=n(12),a=n(3)("socket.io-client");e.exports=t=r;var c=t.managers={};t.protocol=s.protocol,t.connect=r,t.Manager=n(12),t.Socket=n(36)},function(e,t,n){function r(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=o(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}var o=n(2),i=n(3)("socket.io-client:url");e.exports=r},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,o=e.indexOf("["),i=e.indexOf("]");-1!=o&&-1!=i&&(e=e.substring(0,o)+e.substring(o,i).replace(/:/g,";")+e.substring(i,e.length));for(var s=n.exec(e||""),u={},a=14;a--;)u[r[a]]=s[a]||"";return-1!=o&&-1!=i&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u}},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function a(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return window.localStorage}catch(e){}}(t=e.exports=n(5)).log=s,t.formatArgs=i,t.save=u,t.load=a,t.useColors=o,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(a())}).call(t,n(4))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function s(){g&&d&&(g=!1,d.length?h=d.concat(h):v=-1,h.length&&u())}function u(){if(!g){var e=o(s);g=!0;for(var t=h.length;t;){for(d=h,h=[];++v<t;)d&&d[v].run();v=-1,t=h.length}d=null,g=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function c(){}var f,l,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var d,h=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||g||o(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,i=r-(o||r);e.diff=i,e.prev=o,e.curr=r,o=r;for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var a=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;a++;var o=t.formatters[r];if("function"==typeof o){var i=s[a];n=o.call(e,i),s.splice(a,1),a--}return n})),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}var o;return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),n.destroy=i,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function s(e){t.save(e),t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}}function u(){t.enable("")}function a(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}(t=e.exports=o.debug=o.default=o).coerce=c,t.disable=u,t.enable=s,t.enabled=a,t.humanize=n(6),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=a?Math.round(e/a)+"h":e>=u?Math.round(e/u)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,a,"hour")||i(e,u,"minute")||i(e,s,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,u=60*s,a=60*u,c=24*a,f=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(){}function o(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var r=i(e.data);if(!1===r)return y;n+=r}return p("encoded %j as %s",e,n),n}function i(e){try{return JSON.stringify(e)}catch(t){return!1}}function s(e,t){function n(e){var n=h.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}h.removeBlobs(e,n)}function u(){this.reconstructor=null}function a(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return l("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(n+1))for(r.nsp="";++n&&","!==(s=e.charAt(n))&&(r.nsp+=s,n!==e.length););else r.nsp="/";var i=e.charAt(n+1);if(""!==i&&Number(i)==i){for(r.id="";++n;){var s;if(null==(s=e.charAt(n))||Number(s)!=s){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var u=c(e.substr(n));if(!1===u||r.type!==t.ERROR&&!g(u))return l("invalid payload");r.data=u}return p("decoded %s as %j",e,r),r}function c(e){try{return JSON.parse(e)}catch(t){return!1}}function f(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error: "+e}}var p=n(3)("socket.io-parser"),d=n(8),h=n(9),g=n(10),v=n(11);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=u;var y=t.ERROR+'"encode error"';r.prototype.encode=function(e,n){p("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?s(e,n):n([o(e)])},d(u.prototype),u.prototype.add=function(e){var n;if("string"==typeof e)n=a(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!v(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){function r(e,t){if(!e)return e;if(s(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(i(e)){for(var o=new Array(e.length),u=0;u<e.length;u++)o[u]=r(e[u],t);return o}if("object"==typeof e&&!(e instanceof Date)){for(var a in o={},e)o[a]=r(e[a],t);return o}return e}function o(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(i(e))for(var n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=o(e[r],t);return e}var i=n(10),s=n(11),u=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===u.call(Blob),c="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===u.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=r(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=o(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){function n(e,u,f){if(!e)return e;if(a&&e instanceof Blob||c&&e instanceof File){r++;var l=new FileReader;l.onload=function(){f?f[u]=this.result:o=this.result,--r||t(o)},l.readAsArrayBuffer(e)}else if(i(e))for(var p=0;p<e.length;p++)n(e[p],p,e);else if("object"==typeof e&&!s(e))for(var d in e)n(e[d],d,e)}var r=0,o=e;n(o),r||t(o)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){function n(e){return r&&a.isBuffer(e)||o&&(e instanceof ArrayBuffer||i(e))}e.exports=n;var r="function"==typeof a&&"function"==typeof a.isBuffer,o="function"==typeof ArrayBuffer,i=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}},function(e,t,n){function r(e,t){if(!(this instanceof r))return new r(e,t);e&&"object"===("undefined"==typeof e?"undefined":o(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(13),s=n(36),u=n(8),a=n(7),c=n(38),f=n(39),l=n(3)("socket.io-client:manager"),p=n(35),d=n(40),h=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},u(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=c(n,"open",(function(){r.onopen(),e&&e()})),s=c(n,"error",(function(t){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;l("connect attempt will timeout after %d",u);var a=setTimeout((function(){l("connect attempt timed out after %d",u),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(o),this.subs.push(s),this},r.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",f(this,"ondata"))),this.subs.push(c(e,"ping",f(this,"onping"))),this.subs.push(c(e,"pong",f(this,"onpong"))),this.subs.push(c(e,"error",f(this,"onerror"))),this.subs.push(c(e,"close",f(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",f(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,t){function n(){~p(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[e];if(!r){r=new s(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",n),r.on("connect",(function(){r.id=o.generateId(e)})),this.autoConnect&&n()}return r},r.prototype.destroy=function(e){var t=p(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(14),e.exports.parser=n(21)},function(e,t,n){function r(e,t){return this instanceof r?(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=f(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=f(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new r(e,t)}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=n(15),s=n(8),u=n(3)("engine.io-client:socket"),a=n(35),c=n(21),f=n(2),l=n(29);e.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=c.protocol,r.Socket=r,r.Transport=n(20),r.transports=n(15),r.parser=n(21),r.prototype.createTransport=function(e){u('creating transport "%s"',e);var t=o(this.query);t.EIO=c.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){u("setting transport %s",e.name);var t=this;this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},r.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;l=l||t}l||(u('probe transport "%s" opened',e),f.send([{type:"ping",data:"probe"}]),f.once("packet",(function(t){if(!l)if("pong"===t.type&&"probe"===t.data){if(u('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",f),!f)return;r.priorWebsocketSuccess="websocket"===f.name,u('pausing current transport "%s"',p.transport.name),p.transport.pause((function(){l||"closed"!==p.readyState&&(u("changing transport and sending upgrade packet"),c(),p.setTransport(f),f.send([{type:"upgrade"}]),p.emit("upgrade",f),f=null,p.upgrading=!1,p.flush())}))}else{u('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=f.name,p.emit("upgradeError",n)}})))}function n(){l||(l=!0,c(),f.close(),f=null)}function o(t){var r=new Error("probe error: "+t);r.transport=f.name,n(),u('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",r)}function i(){o("transport closed")}function s(){o("socket closed")}function a(e){f&&e.name!==f.name&&(u('"%s" works - aborting "%s"',e.name,f.name),n())}function c(){f.removeListener("open",t),f.removeListener("error",o),f.removeListener("close",i),p.removeListener("close",s),p.removeListener("upgrading",a)}u('probing transport "%s"',e);var f=this.createTransport(e,{probe:1}),l=!1,p=this;r.priorWebsocketSuccess=!1,f.once("open",t),f.once("error",o),f.once("close",i),this.once("close",s),this.once("upgrading",a),f.open()},r.prototype.onOpen=function(){if(u("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){u("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(u('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else u('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){u("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),u("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():e()})):this.upgrading?n():e()}return this},r.prototype.onError=function(e){u("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){u('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t,n){function r(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var u="https:"===location.protocol,a=location.port;a||(a=u?443:80),t=e.hostname!==location.hostname||a!==e.port,n=e.secure!==u}if(e.xdomain=t,e.xscheme=n,"open"in new o(e)&&!e.forceJSONP)return new i(e);if(!r)throw new Error("JSONP disabled");return new s(e)}var o=n(16),i=n(18),s=n(32),u=n(33);t.polling=r,t.websocket=u},function(e,t,n){var r=n(17);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(i){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(i){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){function r(){}function o(e){if(a.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var u=n(16),a=n(19),c=n(8),f=n(30),l=n(3)("engine.io-client:polling-xhr");if(e.exports=o,e.exports.Request=i,f(o,a),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=r},o.prototype.doPoll=function(){l("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},c(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new u(e),n=this;try{l("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(r){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError(t.status)}),0))},l("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){n.onError(o)}),0)}"undefined"!=typeof document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",s);else if("function"==typeof addEventListener){var p="onpagehide"in self?"pagehide":"unload";addEventListener(p,s,!1)}},function(e,t,n){function r(e){var t=e&&e.forceBase64;f&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=n(20),i=n(29),s=n(21),u=n(30),a=n(31),c=n(3)("engine.io-client:polling");e.exports=r;var f=null!=new(n(16))({xdomain:!1}).responseType;u(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||t()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||t()})))}else t()},r.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,r){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var o=n(21),i=n(8);e.exports=r,i(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=m[e.type];for(var u=0;u<i.length;u++)s[u+1]=i[u];return r(s.buffer)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(e.data)}function s(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(y)return i(e,n,r);var o=new Uint8Array(1);return o[0]=m[e.type],r(new E([o.buffer,e.data]))}function u(e){try{e=h.decode(e,{strict:!1})}catch(t){return!1}return e}function a(e,t,n){for(var r=new Array(e.length),o=d(e.length,n),i=function(e,n,o){t(n,(function(t,n){r[e]=n,o(t,r)}))},s=0;s<e.length;s++)i(s,e[s],o)}var c,f=n(22),l=n(23),p=n(24),d=n(25),h=n(26);"undefined"!=typeof ArrayBuffer&&(c=n(27));var g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),v="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),y=g||v;t.protocol=3;var m=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=f(m),_={type:"error",data:"parser error"},E=n(28);t.encodePacket=function(e,t,n,i){"function"==typeof t&&(i=t,t=!1),"function"==typeof n&&(i=n,n=null);var u=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&u instanceof ArrayBuffer)return o(e,t,i);if("undefined"!=typeof E&&u instanceof E)return s(e,t,i);if(u&&u.base64)return r(e,i);var a=m[e.type];return void 0!==e.data&&(a+=n?h.encode(String(e.data),{strict:!1}):String(e.data)),i(""+a)},t.encodeBase64Packet=function(e,n){var r,o="b"+t.packets[e.type];if("undefined"!=typeof E&&e.data instanceof E){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(o+e)},i.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(s){for(var u=new Uint8Array(e.data),a=new Array(u.length),c=0;c<u.length;c++)a[c]=u[c];r=String.fromCharCode.apply(null,a)}return o+=btoa(r),n(o)},t.decodePacket=function(e,n,r){if(void 0===e)return _;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=u(e)))return _;var o=e.charAt(0);return Number(o)==o&&b[o]?e.length>1?{type:b[o],data:e.substring(1)}:{type:b[o]}:_}o=new Uint8Array(e)[0];var i=p(e,1);return E&&"blob"===n&&(i=new E([i])),{type:b[o],data:i}},t.decodeBase64Packet=function(e,t){var n=b[e.charAt(0)];if(!c)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=c.decode(e.substr(1));return"blob"===t&&E&&(r=new E([r])),{type:n,data:r}},t.encodePayload=function(e,n,r){function o(e){return e.length+":"+e}function i(e,r){t.encodePacket(e,!!s&&n,!1,(function(e){r(null,o(e))}))}"function"==typeof n&&(r=n,n=null);var s=l(e);return n&&s?E&&!y?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void a(e,i,(function(e,t){return r(t.join(""))})):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===e)return r(_,0,1);for(var i,s,u="",a=0,c=e.length;a<c;a++){var f=e.charAt(a);if(":"===f){if(""===u||u!=(i=Number(u)))return r(_,0,1);if(u!=(s=e.substr(a+1,i)).length)return r(_,0,1);if(s.length){if(o=t.decodePacket(s,n,!1),_.type===o.type&&_.data===o.data)return r(_,0,1);if(!1===r(o,a+i,c))return}a+=i,u=""}else u+=f}return""!==u?r(_,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}return e.length?void a(e,r,(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),o=new Uint8Array(r),i=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}o[i++]=t?0:1;var u=n.byteLength.toString();for(s=0;s<u.length;s++)o[i++]=parseInt(u[s]);for(o[i++]=255,r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]})),n(o.buffer)})):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)s[o]=parseInt(i[o]);if(s[i.length]=255,E){var u=new E([t.buffer,s.buffer,e]);n(null,u)}}))}a(e,r,(function(e,t){return n(new E(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),u=0===s[0],a="",c=1;255!==s[c];c++){if(a.length>310)return r(_,0,1);a+=s[c]}o=p(o,2+a.length),a=parseInt(a);var f=p(o,0,a);if(u)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(l){var d=new Uint8Array(f);for(f="",c=0;c<d.length;c++)f+=String.fromCharCode(d[c])}i.push(f),o=p(o,a)}var h=i.length;i.forEach((function(e,o){r(t.decodePacket(e,n,!0),o,h)}))}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){function r(e){if(!e||"object"!=typeof e)return!1;if(o(e)){for(var t=0,n=e.length;t<n;t++)if(r(e[t]))return!0;return!1}if("function"==typeof a&&a.isBuffer&&a.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||u&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return r(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&r(e[i]))return!0;return!1}var o=n(10),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),u="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.exports=r},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),s=t,u=0;s<n;s++,u++)i[u]=o[s];return i.buffer}},function(e,t){function n(e,t,n){function o(e,r){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}var i=!1;return n=n||r,o.count=e,0===e?t():o}function r(){}e.exports=n},function(e,t){function n(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function r(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=h((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=h(t);return o}function o(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function i(e,t){return h(e>>t&63|128)}function s(e,t){if(0==(4294967168&e))return h(e);var n="";return 0==(4294965248&e)?n=h(e>>6&31|192):0==(4294901760&e)?(o(e,t)||(e=65533),n=h(e>>12&15|224),n+=i(e,6)):0==(4292870144&e)&&(n=h(e>>18&7|240),n+=i(e,12),n+=i(e,6)),n+h(63&e|128)}function u(e,t){for(var r=!1!==(t=t||{}).strict,o=n(e),i=o.length,u=-1,a="";++u<i;)a+=s(o[u],r);return a}function a(){if(d>=p)throw Error("Invalid byte index");var e=255&l[d];if(d++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function c(e){var t,n;if(d>p)throw Error("Invalid byte index");if(d==p)return!1;if(t=255&l[d],d++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|a())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|a()<<6|a())>=2048)return o(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|a()<<12|a()<<6|a())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}function f(e,t){var o=!1!==(t=t||{}).strict;l=n(e),p=l.length,d=0;for(var i,s=[];!1!==(i=c(o));)s.push(i);return r(s)}/*! https://mths.be/utf8js v2.1.2 by @mathias */var l,p,d,h=String.fromCharCode;e.exports={version:"2.1.2",encode:u,decode:f}},function(e,t){!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),o=r.length,i="";for(n=0;n<o;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,s,u=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(u--,"="===e[e.length-2]&&u--);var f=new ArrayBuffer(u),l=new Uint8Array(f);for(t=0;t<a;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],l[c++]=r<<2|o>>4,l[c++]=(15&o)<<4|i>>2,l[c++]=(3&i)<<6|63&s;return f}}()},function(e,t){function n(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function r(e,t){t=t||{};var r=new i;return n(e).forEach((function(e){r.append(e)})),t.type?r.getBlob(t.type):r.getBlob()}function o(e,t){return new Blob(n(e),t||{})}var i="undefined"!=typeof i?i:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),u=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),a=i&&i.prototype.append&&i.prototype.getBlob;"undefined"!=typeof Blob&&(r.prototype=Blob.prototype,o.prototype=Blob.prototype),e.exports=s?u?Blob:o:a?r:void 0},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){function n(e){var t="";do{t=s[e%u]+t,e=Math.floor(e/u)}while(e>0);return t}function r(e){var t=0;for(f=0;f<e.length;f++)t=t*u+a[e.charAt(f)];return t}function o(){var e=n(+new Date);return e!==i?(c=0,i=e):e+"."+n(c++)}for(var i,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),u=64,a={},c=0,f=0;f<u;f++)a[s[f]]=f;o.encode=n,o.decode=r,e.exports=o},function(e,t,n){(function(t){function r(){}function o(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof t?t:{}}function i(e){if(s.call(this,e),this.query=this.query||{},!a){var t=o();a=t.___eio=t.___eio||[]}this.index=a.length;var n=this;a.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=r)}),!1)}var s=n(19),u=n(30);e.exports=i;var a,c=/\n/g,f=/\\n/g;u(i,s),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(e){(i=document.createElement("iframe")).name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),u=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=a,s.method="POST",s.setAttribute("accept-charset","utf-8"),u.name="d",s.appendChild(u),document.body.appendChild(s),this.form=s,this.area=u}this.form.action=this.uri(),r(),e=e.replace(f,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=o&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=i),s.call(this,e)}var o,i,s=n(20),u=n(21),c=n(29),f=n(30),l=n(31),p=n(3)("engine.io-client:websocket");if("undefined"==typeof self)try{i=n(34)}catch(h){}else o=self.WebSocket||self.MozWebSocket;var d=o||i;e.exports=r,f(r,s),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},r.prototype.write=function(e){function t(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}var n=this;this.writable=!1;for(var r=e.length,o=0,i=r;o<i;o++)!function(e){u.encodePacket(e,n.supportsBinary,(function(o){if(!n.usingBrowserWebSocket){var i={};e.options&&(i.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof o?a.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(u){p("websocket closed before onclose event")}--r||t()}))}(e[o])},r.prototype.onClose=function(){s.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=c.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===r.prototype.name)}},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){function r(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(7),s=n(8),u=n(37),a=n(38),c=n(39),f=n(3)("socket.io-client:socket"),l=n(29),p=n(23);e.exports=r;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=s.prototype.emit;s(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",c(this,"onopen")),a(e,"packet",c(this,"onpacket")),a(e,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},r.prototype.send=function(){var e=u(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(d.hasOwnProperty(e))return h.apply(this,arguments),this;var t=u(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:p(t))?i.BINARY_EVENT:i.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(f("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if(f("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===o(this.query)?l.encode(this.query):this.query;f("sending connect packet with query %s",e),this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},r.prototype.onclose=function(e){f("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===i.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];f("emitting event %j",t),null!=e.id&&(f("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=u(arguments);f("sending ack %j",r),t.packet({type:p(r)?i.BINARY_ACK:i.ACK,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(f("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):f("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){f("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(f("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags.compress=e,this},r.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){function n(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=n},function(e,t){function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=n},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])})),$u=S(Hu),Ju=O((function(e,t){var n=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocket=void 0;var r=n(Yu),o=n(rt),i=function(){function e(e){var t=this;this.socketId=String(Math.floor(1e12*Math.random())),this.isWebSocketOpen=!1,this.socketChannel=null,this.socketAttempts=0,this.handleReconnectAttempt=function(){t.socketChannel.io.opts.transports=t.attemptTransports},this.handleConnectError=function(e){var n,r,i;if(P.ConnectionLog.info("socket io connect_error, isOnline:"+$u.network.isOnline+", type:"+(null===e||void 0===e?void 0:e.type)+", code:"+(null===e||void 0===e?void 0:e.code)+",\n      message:"+(null===e||void 0===e?void 0:e.message)+", description:"+(null===e||void 0===e?void 0:e.description)),$u.network.isOnline){var s="number"===typeof(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:void 0;o.default.reportSocketConnect({attrName:"SocketConnect",status:1,module:null===(n=t.roomWebsocketParams)||void 0===n?void 0:n.module,errorMessage:(null===e||void 0===e?void 0:e.message)+", status:"+s,transports:null===(i=null===(r=t.socketChannel)||void 0===r?void 0:r.io.opts.transports)||void 0===i?void 0:i[0]})}var u=t.getSocketChannelInfo();u.event="connect_error",u.failReason="io connect_error unknown",(null===e||void 0===e?void 0:e.type)&&(u.failReason=e.type),t.roomWebSocketDependency.onSocketStatusChanged(u)},this.handleConnectTimeout=function(e){var n=t.getSocketChannelInfo();n.event="connect_timeout",n.failReason="connect_timeout timeout:"+e,t.roomWebSocketDependency.onSocketStatusChanged(n)},this.handleGet=function(e){t.roomWebSocketDependency.onGetMessageFromServer(e)},this.handlePost=function(e){t.roomWebSocketDependency.onPostFromServer(e)},this.handleConnect=function(){var e,n,r,i,s;P.ConnectionLog.info("socket io connect readyState: "+(null===(e=t.socketChannel)||void 0===e?void 0:e.io.readyState)+", id:"+(null===(n=t.socketChannel)||void 0===n?void 0:n.id)),o.default.reportSocketConnect({module:null===(r=t.roomWebsocketParams)||void 0===r?void 0:r.module,attrName:"SocketConnect",status:0,errorMessage:"Success",transports:null===(s=null===(i=t.socketChannel)||void 0===i?void 0:i.io.opts.transports)||void 0===s?void 0:s[0]}),t.isWebSocketOpen=!0,t.roomWebSocketDependency.onSocketOpen()},this.handleReconnect=function(e){P.ConnectionLog.info("socket io reconnect number: "+e+" channel.readyState: "+t.socketChannel.io.readyState),t.socketAttempts=0},this.handleReconnecting=function(e){t.socketAttempts=e,t.socketChannel.io.opts.transports=t.initTransports,t.roomWebSocketDependency.onReopenCount()>=t.pollingReopenCount&&e>=t.pollingAttemptCount&&(t.socketChannel.io.opts.transports=t.attemptTransports),P.ConnectionLog.info("socket io reconnecting number:"+e+" readyState: "+t.socketChannel.io.readyState+", transports:"+t.socketChannel.io.opts.transports);var n=t.getSocketChannelInfo();n.event="reconnecting",t.roomWebSocketDependency.onSocketStatusChanged(n)},this.handleRetry=function(e){P.ConnectionLog.info("socket io retry, msg:"+e),t.doDisconnect("Server restarted or socket timed out on server. serverRetry offlineEdit")},this.handleDisconnect=function(e){var n;P.ConnectionLog.info("socket io disconnect, msg: "+P.JsonUtil.jsonStringify(e)+" channel.readyState: "+(null===(n=t.socketChannel)||void 0===n?void 0:n.io.readyState));var r=P.JsonUtil.jsonStringify(e)+"，ClosedByOthers.",o=t.getSocketChannelInfo();o.event="disconnect",o.disconnectReason=""+r,o.socketId=t.socketId,t.roomWebSocketDependency.onSocketStatusChanged(o),t.socketAttempts=0},this.handleConnectFailed=function(e){P.ConnectionLog.info("socket io connect_failed"),t.socketAttempts=0,t.doDisconnect(P.JsonUtil.jsonStringify(e)+"  connect_failed Closed by client.")},this.handleError=function(e){P.ConnectionLog.info("socket io error, type:"+(null===e||void 0===e?void 0:e.type)+", code:"+(null===e||void 0===e?void 0:e.code)+",\n     message:"+(null===e||void 0===e?void 0:e.message)+", description:",null===e||void 0===e?void 0:e.description),t.doDisconnect(P.JsonUtil.jsonStringify(e)+" socket io error Closed by client.")},this.handleReconnectFailed=function(e){P.ConnectionLog.info("socket io reconnect_failed"),t.socketAttempts=0,t.doDisconnect(P.JsonUtil.jsonStringify(e)+" reconnect_failed Closed by client.")},this.roomWebSocketDependency=e.roomWebSocketDependency,this.roomWebsocketParams=Object.assign({},e),this.initTransports=this.getTransports(e.wmode),this.attemptTransports=this.getAttemptTransports(e.wmode),this.pollingReopenCount=e.websocketReopenCount,this.pollingAttemptCount=e.pollingAttemptNumber}return e.prototype.dispose=function(){this.disconnect("socket io dispose"),this.roomWebSocketDependency=void 0,this.roomWebsocketParams=void 0},e.prototype.isConnected=function(){return this.isWebSocketOpen},e.prototype.connect=function(){var e="wss://"+window.location.host,t=r.default(e,{query:{tag:this.roomWebsocketParams.tag,gtag:this.roomWebsocketParams.gid,utag:this.roomWebsocketParams.upid,sig:this.roomWebsocketParams.sig,uid:this.roomWebsocketParams.uid,uid_key:this.roomWebsocketParams.uidKey,u:this.roomWebsocketParams.nowUserIndex,padid:this.roomWebsocketParams.padId},transports:this.initTransports,reconnection:!0,reconnectionAttempts:zu.WEBSOCKET_CONFIG.reconnectMaxTimes,reconnectionDelay:zu.WEBSOCKET_CONFIG.reconnectionDelay,reconnectionDelayMax:zu.WEBSOCKET_CONFIG.reconnectionDelayMax,randomizationFactor:zu.WEBSOCKET_CONFIG.randomizationFactor,timeout:zu.WEBSOCKET_CONFIG.connectTimeout,path:"/websocket"});this.socketChannel=t,P.ConnectionLog.info("socket io new channel transports: "+t.io.opts.transports+", pollingReopenCount = "+this.pollingReopenCount+", pollingAttemptNumber= "+this.pollingAttemptCount),t.on("reconnect_attempt",this.handleReconnectAttempt),t.on("connect_error",this.handleConnectError),t.on("connect_timeout",this.handleConnectTimeout),t.on("get",this.handleGet),t.on("post",this.handlePost),t.on("connect",this.handleConnect),t.on("reconnect",this.handleReconnect),t.on("reconnecting",this.handleReconnecting),t.on("retry",this.handleRetry),t.on("disconnect",this.handleDisconnect),t.on("connect_failed",this.handleConnectFailed),t.on("error",this.handleError),t.on("reconnect_failed",this.handleReconnectFailed)},e.prototype.postMessageForWebSocket=function(e){this.socketChannel&&this.socketChannel.emit("post",e)},e.prototype.getSocketConnectCount=function(){return this.socketAttempts},e.prototype.getSocketChannelInfo=function(){var e={};return this.socketChannel&&(e.connected=this.socketChannel.connected,e.disconnected=this.socketChannel.disconnected,this.socketChannel.io&&(e.readyState=this.socketChannel.io.readyState,e.reconnecting=this.socketChannel.io.reconnecting)),e},e.prototype.disconnect=function(e){P.ConnectionLog.info("socket io disconnect reason: "+e),this.socketChannel&&(this.socketChannel.disconnect(),this.socketChannel=null),this.isWebSocketOpen=!1},e.prototype.getTransports=function(e){return zu.TRANSPOET_MODE_MAP.get(e.charAt(0))||zu.DEFAULT_TRANSPORT_MODE},e.prototype.getAttemptTransports=function(e){return zu.TRANSPOET_MODE_MAP.get(e.charAt(1))||zu.DEFAULT_ATTEMPT_TRANSPORT_MODE},e.prototype.doDisconnect=function(e){this.disconnect("socket io doDisconnect reason: "+e),this.roomWebSocketDependency.onSocketClosed(e)},e}();t.RoomWebsocket=i})),Xu=Object.defineProperty({},"__esModule",{value:!0}),Zu=Object.defineProperty({},"__esModule",{value:!0}),ea=Object.defineProperty({},"__esModule",{value:!0}),ta=O((function(e,t){var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.IBatchCommitChangesResultRetcode=t.BatchCommitFailReason=void 0,function(e){e.UNKNOW="Unknow",e.SUCCESS="Success",e.NETWORK_EXCEPTION="NetworkException",e.SERVER_VERITY_EXCEPTION="ServerVerityException"}(n||(n={})),t.BatchCommitFailReason=n,function(e){e[e.UNKNOWN_ERROR=52e3]="UNKNOWN_ERROR",e[e.PARAMETER_WRONG=52001]="PARAMETER_WRONG",e[e.WEBSOCKET_UNSUPPORT_BATCH_COMMIT=52002]="WEBSOCKET_UNSUPPORT_BATCH_COMMIT",e[e.CONTENT_LENGTH_EXCEED_LIMIT=52003]="CONTENT_LENGTH_EXCEED_LIMIT"}(r||(r={})),t.IBatchCommitChangesResultRetcode=r})),na=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SEND_MESSAGE_TIMEOUT=void 0,t.DEFAULT_SEND_MESSAGE_TIMEOUT=25e3})),ra=Object.defineProperty({},"__esModule",{value:!0}),oa=O((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.prepareCommitMessage=t.getMessageDataLength=t.CHANGESET_TYPE=void 0,function(e){e.SMARTSHEET="smartsheet"}(n||(n={})),t.CHANGESET_TYPE=n,t.getMessageDataLength=function(e){var t;return e?e instanceof Object?(null===(t=e.changeset)||void 0===t?void 0:t.length)||0:e.length||0:0},t.prepareCommitMessage=function(e,t,n){if("string"===typeof e)return e;var r={type:"USER_CHANGES",baseRev:e.baseRev,changeSetCount:e.changeSetCount,changeset:e.changeset,apool:e.apool,isWorkbook:e.isWorkbook,keydata:e.keydata||!1,head:e.head,subId:e.subId,changesetType:e.changesetType,oSubId:e.oSubId||!1,uuId:t,offlineMsg:e.offlineMsg,pver:n};return P.JsonUtil.jsonStringify(r)}})),ia=Object.defineProperty({},"__esModule",{value:!0}),sa=Object.defineProperty({},"__esModule",{value:!0}),ua=Object.defineProperty({},"__esModule",{value:!0}),aa=Object.defineProperty({},"__esModule",{value:!0}),ca=Object.defineProperty({},"__esModule",{value:!0}),fa=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(Xu,t),r(Zu,t),r(ea,t),r(ta,t),r(na,t),r(ra,t),r(oa,t),r(ia,t),r(sa,t),r(ua,t),r(aa,t),r(ca,t)})),la=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketMessageQueue=void 0;var n=function(){function e(e){this.messageWaittingQueue=[],this.messageFinishQueue=[],this.messageSenderDependency=e}return e.prototype.dispose=function(){this.messageWaittingQueue=[],this.messageFinishQueue=[]},e.prototype.messageCount=function(){return this.messageWaittingQueue.length},e.prototype.messageAlreadyExist=function(e){var t=this.getMessageByTaskId(e.taskId);return(null===t||void 0===t?void 0:t.cmd)===e.cmd},e.prototype.getMessageByTaskId=function(e){return this.messageWaittingQueue.find((function(t){return t.taskId===e}))},e.prototype.getFinishedMessageByTaskId=function(e){return this.messageFinishQueue.find((function(t){return t.taskId===e}))},e.prototype.readyToSendMessage=function(){if(0===this.messageWaittingQueue.length)return P.ConnectionLog.info("readyToSendMessage: empty messageQueue"),!1;var e=this.messageWaittingQueue.find((function(e){return e.state===z.MessageState.SENDING}));return!e||(P.ConnectionLog.info("readyToSendMessage: message is sending, taskId = "+e.taskId),!1)},e.prototype.addWaittingMessage=function(e){this.messageWaittingQueue.push(e)},e.prototype.addFinishMessage=function(e,t){void 0===t&&(t=-1),this.removeMessageFromQueue(e,t),this.messageFinishQueue.push(e)},e.prototype.removeMessageFromQueue=function(e,t){void 0===t&&(t=-1);var n=t>=0&&t<this.messageWaittingQueue.length?t:this.getIndexOfMessage(e);this.messageWaittingQueue.splice(n,1)},e.prototype.handleMessageQueueByRoomClose=function(){for(var e=0;e<this.messageWaittingQueue.length;){var t=this.messageWaittingQueue[e];this.handleMessageByRoomClose(t),e+=1}},e.prototype.handleMessageByRoomClose=function(e){this.messageSenderDependency.doErrorCallback(e,{errCode:H.RoomErrorCode.ROOM_CLOSE,errMsg:"room close"})},e.prototype.handleMsgBySocketDisconnect=function(){for(var e=0;e<this.messageWaittingQueue.length;){var t=this.messageWaittingQueue[e];t.retryCount>=t.maxRetryCount?(this.handleRetryCountLimitedMessageBySocketDisconnect(t),this.removeMessageFromQueue(t,e)):(this.handleMesageBySocketDisconnect(t),e+=1)}},e.prototype.getFirstWaittingMessage=function(){return this.messageWaittingQueue.find((function(e){return e.state===z.MessageState.WAITTING}))},e.prototype.processMessageQueue=function(){for(var e=!1,t=!1,n=!1,r=0;r<this.messageWaittingQueue.length;){var o=this.messageWaittingQueue[r];this.sendingMsgIsTimeout(o)?(e=!0,o.retryCount<o.maxRetryCount?(this.retryMessageByTimeout(o),r+=1):this.handleRetryCountLimitedMessageByTimeout(o)):(t=o.state===z.MessageState.SENDING,n=o.state===z.MessageState.WAITTING,r+=1)}return this.clearFinishQueueIfNeed(),!t&&n&&(e=!0),e},e.prototype.cancelMessage=function(e){for(var t=0;t<this.messageWaittingQueue.length;){var n=this.messageWaittingQueue[t];if(n.taskId===e)return P.ConnectionLog.info("cancelMessageBySeq: seq = "+e),this.addFinishMessage(n),n;t+=1}},e.prototype.clearFinishQueueIfNeed=function(){this.messageFinishQueue.length>50&&this.messageFinishQueue.splice(0,this.messageFinishQueue.length-50)},e.prototype.sendingMsgIsTimeout=function(e){var t=z.RoomUtil.getCurrentTime();return(e.state===z.MessageState.SENDING||e.state===z.MessageState.WAIT_ACCEPT)&&t>e.lastSendTime&&t-e.lastSendTime>e.timeout},e.prototype.handleRetryCountLimitedMessageBySocketDisconnect=function(e){this.messageIsSendingOrWaitAccept(e)&&this.messageSenderDependency.doErrorCallback(e,{errCode:H.RoomErrorCode.ROOM_DISCONNECT,errMsg:"room disconnect"})},e.prototype.handleMesageBySocketDisconnect=function(e){this.messageIsSendingOrWaitAccept(e)&&(e.state=z.MessageState.WAITTING)},e.prototype.messageIsSendingOrWaitAccept=function(e){return e.state===z.MessageState.SENDING||e.state===z.MessageState.WAIT_ACCEPT},e.prototype.handleRetryCountLimitedMessageByTimeout=function(e){P.ConnectionLog.warn("send message timeout, taskId = "+e.taskId+", cmd = "+e.cmd+"."),e.retryCount=0,this.messageSenderDependency.closeAndDelayReopen({reason:"websocket send message timeout.",errCode:z.RoomWebsocketErrorCode.SOCKET_SEND_MESSAGE_TIMEOUT,shutDown:!1},0)},e.prototype.retryMessageByTimeout=function(e){P.ConnectionLog.warn("send message timeout, try again, taskId = "+e.taskId+",\n        cmd = "+e.cmd+", retryCount = "+e.retryCount+", maxRetryCount = "+e.maxRetryCount+", state = "+e.state),e.state=z.MessageState.WAITTING},e.prototype.getIndexOfMessage=function(e){return this.messageWaittingQueue.findIndex((function(t){return t.taskId===e.taskId}))},e}();t.RoomWebsocketMessageQueue=n})),pa=O((function(e,t){var n=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketMessageSender=void 0;var r=n(rt),o=function(){function e(e,t,n){var r,o,i=this;this.reconnectTimes=[],this.liteReconnects=0,this.socketDisconnectTimer=0,this.reopenDelayTimer=0,this.websocketDisconneted=!1,this.hasSocketReconnected=!1,this.firstConnect=!0,this.messageSenderTimer=0,this.channelOption=e,this.roomControllerDependency=t,this.roomChannelDependency=n,this.roomMsgQueue=new la.RoomWebsocketMessageQueue(this),this.limitFrequencyManager=new G.LimitFrequencyManager(this.roomControllerDependency),null===(o=null===(r=this.channelOption.config)||void 0===r?void 0:r.messagePriority)||void 0===o||o.forEach((function(e,t){i.limitFrequencyManager.setPriority(t,e)}))}return e.prototype.dispose=function(){var e,t;null===(e=this.roomWebsocket)||void 0===e||e.dispose(),this.roomMsgQueue.dispose(),this.clearSocket(),null===(t=this.limitFrequencyManager)||void 0===t||t.dispose()},e.prototype.openWebsocketConnection=function(){this.isConnected()?P.ConnectionLog.warn("openWebsocketConnection: already exist."):this.roomChannelDependency.getRoomState()!==K.RoomState.SHUTDOWN?this.createWebsocketAndConnect():P.ConnectionLog.error("openWebsocketConnection: room state shut down.")},e.prototype.isConnected=function(){var e,t;return!this.websocketDisconneted&&null!==(t=null===(e=this.roomWebsocket)||void 0===e?void 0:e.isConnected())&&void 0!==t&&t},e.prototype.shutDown=function(e){var t;P.ConnectionLog.error("shutDown, close reason: "+e.reason+", errCode:"+e.errCode),e.reason=null!==(t=e.reason)&&void 0!==t?t:"close by client.",this.clearSocket(),e.shutDown=!0,this.notifyRoomClosed(e,0)},e.prototype.sendMessage=function(e){this.isValidMessageParam(e)?this.roomChannelDependency.getRoomState()!==K.RoomState.OPENED?(P.ConnectionLog.warn("sendMessage: room state error, state = "+this.roomChannelDependency.getRoomState()+"!"),this.needReopen()&&this.reopen(),this.doErrorCallback(e,{errCode:H.RoomErrorCode.ROOM_STATE_ERR,errMsg:"can not send message in this room state."})):this.sendMessageInternal(e):(P.ConnectionLog.error("sendMessage: waitAcceptCmd params invalid!"),this.doErrorCallback(e,{errCode:H.RoomErrorCode.PARA_ERROR,errMsg:"msg param invalid."}))},e.prototype.cancelMessageBySeq=function(e){var t=this.roomMsgQueue.cancelMessage(e);(null===t||void 0===t?void 0:t.state)===K.MessageState.SENDING&&this.startMessageSending()},e.prototype.postMessageWithWebsocket=function(e){var t;null===(t=this.roomWebsocket)||void 0===t||t.postMessageForWebSocket(e)},e.prototype.createPostData=function(e,t,n,r){var o,i,s=Number(this.channelOption.userId.startsWith("g")),u=this.channelOption.userId.replace("p.","").replace("g.",""),a={apid:this.channelOption.apId,type:e,task_id:t,docid:this.channelOption.globalPadId,uid:u,cookie:P.getCookieForMessage(null===(o=this.channelOption.config)||void 0===o?void 0:o.isUseAllCookie),base_rev:"object"===typeof n&&"number"===typeof n.baseRev?n.baseRev:this.roomControllerDependency.getPadRev(),code_ver:this.channelOption.codeVer,session_type:s,gray:this.channelOption.gray,dver:this.channelOption.dver,wl:P.Cookie.get("wl"),u:this.channelOption.nowUserIndex,generalpacket:this.roomControllerDependency.getHeaderGeneralPacket(),docs_type:this.channelOption.padType};a=Object.assign(null!==r&&void 0!==r?r:{},a);var c=P.JsonUtil.jsonStringify(a)+"\n";return c+=null!==(i=fa.prepareCommitMessage(n,this.channelOption.uuId,this.channelOption.pver))&&void 0!==i?i:""},e.prototype.startMessageSending=function(){this.roomMsgQueue.messageCount()>0&&this.trySendPendingMessage()},e.prototype.notifyRoomOpened=function(){this.firstConnect=!1,this.limitFrequencyManager.reset()},e.prototype.closeAndDelayReopen=function(e,t){var n;e.reason=null!==(n=e.reason)&&void 0!==n?n:"close by client.",P.ConnectionLog.info("closeAndDelayReopen: close reason = "+e.reason+", delay time = "+t),this.clearSocket(),e.shutDown=!1,this.notifyRoomClosed(e,t)},e.prototype.onSocketStatusChanged=function(e){e.event?("open"!==e.event&&this.roomChannelDependency.getRoomState()!==K.RoomState.SHUTDOWN&&this.roomChannelDependency.roomStateReconnecting(),this.handleSocketStatusChangeEvent(e)):P.ConnectionLog.warn("onSocketStatusChanged: channel info error.")},e.prototype.onGetMessageFromServer=function(e){var t=e.split("\r\n");t instanceof Array?this.parseGetMsgDataList(t):P.ConnectionLog.error("onGetMessageFromServer: message data error.")},e.prototype.onPostFromServer=function(e){var t=e.split("\n").map((function(e){return P.JsonUtil.parseJson(e)})),n=t[0],r=t[1];n&&r?"HEART_BEAT"!==n.type?"CLIENT_READY"!==n.type?this.parsePostCommonMessageFromServer(n,r):this.roomChannelDependency.onLoginResponse(n,r):this.roomChannelDependency.onHeartBeatResponse(n,r):P.ConnectionLog.error("onPostFromServer: message data parsed error.")},e.prototype.onSocketOpen=function(){this.liteReconnects=0,this.reconnectTimes=[],this.websocketDisconneted=!1,this.hasSocketReconnected=!1,P.ConnectionLog.info("onSocketOpenEvent"),this.clearDisconnectTimer(),this.clearReopenDelayTimer(),this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.loginRoom()},e.prototype.onSocketClosed=function(e){P.ConnectionLog.info("onSocketClosedEvent: socket closed!"),this.roomWebsocket=null,this.notifyRoomClosed({reason:e,shutDown:!1},0),this.hasSocketReconnected&&this.roomControllerDependency.onNetReconnectedFail()},e.prototype.onReopenCount=function(){return this.liteReconnects},e.prototype.doErrorCallback=function(e,t){e.onError(e.taskId,e.cmd,e.data,t)},e.prototype.reportMessage=function(e,t){var n={cmd:e.cmd,attrName:String(t.errCode),status:1,module:this.channelOption.module,errorMessage:t.errMsg,waitAcceptCmd:t.waitAcceptCmd};r.default.commitError(n)},e.prototype.sendMessageInternal=function(e){var t,n,r,o;if(this.roomMsgQueue.messageAlreadyExist(e))this.doErrorCallback(e,{errCode:H.RoomErrorCode.EXIST,errMsg:"msg already exist."});else{var i=e.taskId||P.generateMessageTaskId(),s=this.createPostData(e.cmd,i,e.data,e.additionalFieldsToHead),u=fa.DEFAULT_SEND_MESSAGE_TIMEOUT;(null===(t=e.customParam)||void 0===t?void 0:t.timeout)&&(e.customParam.timeout=Math.min(e.customParam.timeout,3e4),u=Math.max(u,e.customParam.timeout));var a,c=1;(null===(n=e.customParam)||void 0===n?void 0:n.maxRetryCount)&&(c=Math.min(e.customParam.maxRetryCount,5)),(null===(r=e.customParam)||void 0===r?void 0:r.waitAcceptCmd)&&(a=null===(o=e.customParam)||void 0===o?void 0:o.waitAcceptCmd);var f=Y.RoomUtil.createNewMessage(i,s,u,c,e.cmd,e.data,a,e.onError,e.onsend,e.onsendAccept);this.roomMsgQueue.addWaittingMessage(f),this.startMessageSending(),this.startMessageTimer()}},e.prototype.handleSocketStatusChangeEvent=function(e){var t;P.ConnectionLog.info("handleSocketStatusChangeEvent: "+e.event+" reason: "+(null!==(t=e.disconnectReason)&&void 0!==t?t:e.failReason)),"reconnecting"===e.event?this.hasSocketReconnected=!0:"disconnect"===e.event&&this.handleDisconnectEvent(e)},e.prototype.createWebsocketAndConnect=function(){if(this.roomWebsocket)P.ConnectionLog.warn("createWebsocketAndConnect:socket has exist");else{var e={padId:this.channelOption.padId,roomWebSocketDependency:this,tag:this.channelOption.padId,gid:this.channelOption.globalPadId,upid:this.channelOption.upid||"",sig:this.channelOption.sig,uid:this.channelOption.uid,uidKey:P.Cookie.get("uid_key"),wmode:this.channelOption.wmode,websocketReopenCount:this.channelOption.websocketReopenCount,pollingAttemptNumber:this.channelOption.pollingAttemptNumber,nowUserIndex:this.channelOption.nowUserIndex,module:this.channelOption.module};this.roomWebsocket=new Ju.RoomWebsocket(e),this.roomWebsocket.connect(),this.setupSocketTime=Y.RoomUtil.getCurrentTime()}},e.prototype.clearSocket=function(){this.roomWebsocket&&(this.roomWebsocket.disconnect(""),this.clearDisconnectTimer()),this.roomWebsocket=null},e.prototype.reopen=function(){P.ConnectionLog.info("reopen: socket reopen."),this.clearSocket(),this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.openWebsocketConnection()},e.prototype.needReopen=function(){var e=this.roomChannelDependency.getRoomState();if(e===K.RoomState.CONNECTING||e===K.RoomState.RECONNECTING_IN_CLOSED){var t=Y.RoomUtil.getCurrentTime();if(this.setupSocketTime&&t>this.setupSocketTime&&t-this.setupSocketTime>5e4)return!0}return!1},e.prototype.notifyRoomClosed=function(e,t){var n;P.ConnectionLog.info("notifyRoomClosed: reason = "+e.reason+", shutdown = "+e.shutDown),this.clearDisconnectTimer(),this.websocketDisconneted=!0,this.roomChannelDependency.resetHeartBeat(),this.roomChannelDependency.resetLogin(),this.roomMsgQueue.handleMessageQueueByRoomClose(),this.firstConnect=!1,this.roomChannelDependency.onRoomClosed(e),e.shutDown?this.reset():this.delayReopen(null!==(n=e.reason)&&void 0!==n?n:"",t)},e.prototype.delayReopen=function(e,t){var n=this;if(!this.reopenDelayTimer){this.reconnectTimes.push(Y.RoomUtil.getCurrentTime()),this.liteReconnects+=1;var r=t;t||(r=Math.min(3e4,1e3*Math.pow(2,this.liteReconnects+1)),r=this.generateFuzzyInterval(r,.4*r)),this.reopenDelayTimer=setTimeout((function(){n.clearReopenDelayTimer(),n.roomChannelDependency.openRoom()}),r)}},e.prototype.generateFuzzyInterval=function(e,t){return e+Math.floor(Math.random()*(2*t+1)-t)},e.prototype.reset=function(){this.roomWebsocket=null,this.liteReconnects=0,this.reconnectTimes=[],this.clearDisconnectTimer(),this.clearReopenDelayTimer(),this.roomChannelDependency.resetLogin(),this.roomChannelDependency.resetHeartBeat()},e.prototype.parsePostCommonMessageFromServer=function(e,t){var n=this.roomMsgQueue.getMessageByTaskId(e.task_id);n&&n.cmd===e.type?(this.handleCommonMessage(n,t),this.finishParseMessage(n,t)):this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id)||P.ConnectionLog.warn("parsePostCommonMessageFromServer: msg not found! seq = "+e.task_id+", cmd = "+e.type),this.startMessageSending(),this.roomMsgQueue.clearFinishQueueIfNeed()},e.prototype.finishParseMessage=function(e,t){var n,r=t.onpost.result;(null===(n=e.waitAcceptCmd)||void 0===n?void 0:n.length)&&0===r?e.state=K.MessageState.WAIT_ACCEPT:this.roomMsgQueue.addFinishMessage(e),this.startMessageSending()},e.prototype.handleCommonMessage=function(e,t){e.onpostTime=Y.RoomUtil.getCurrentTime();var n=t.onpost.result,r=t.onpost.retry_interval;if(n!==H.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS&&P.ConnectionLog.error("handleCommonMessage: server response error, code = "+n),this.reportMsgParseErrorIfNeed(n,e,t),n!==H.RoomWebsocketErrorCode.SOCKET_SERVER_ERROR&&n!==H.RoomWebsocketErrorCode.SOCKET_USER_AUTH_FAILED)if(n!==H.RoomWebsocketErrorCode.SOCKET_LAYER_ERROR){var o={errCode:n,errMsg:"",response:t};n===H.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS?this.doMsgOnSendSuccessCallback(e,o):this.doErrorCallback(e,o)}else this.closeAndDelayReopen({errCode:n,reason:Y.RoomUtil.getWebsocketChannelErrorMessage(n),shutDown:!1},r);else this.shutDown({errCode:n,reason:Y.RoomUtil.getWebsocketChannelErrorMessage(n),shutDown:!0})},e.prototype.reportMsgParseErrorIfNeed=function(e,t,n){if(e!==H.RoomWebsocketErrorCode.SOCKET_SERVER_SUCCESS){var r={errCode:e,errMsg:Y.RoomUtil.getWebsocketChannelErrorMessage(e),event:K.MessageResultEvent.ON_POST,response:n,needRetry:!1};this.reportMessage(t,r)}},e.prototype.trySendPendingMessage=function(){this.needReopen()?this.reopen():this.readyToSendMessage()&&this.sendWaitingMessage()},e.prototype.sendWaitingMessage=function(){var e=this.roomMsgQueue.getFirstWaittingMessage();e&&(this.postOneMessage(e),this.startMessageTimer())},e.prototype.postOneMessage=function(e){this.preparePostMessage(e),this.postMessageWithWebsocket(e.postData)},e.prototype.preparePostMessage=function(e){0!==e.retryCount&&e.firstSendTime||(e.firstSendTime=Y.RoomUtil.getCurrentTime()),e.retryCount+=1,e.lastSendTime=Y.RoomUtil.getCurrentTime(),e.onpostTime=0,e.state=K.MessageState.SENDING},e.prototype.startMessageTimer=function(){var e=this;this.messageSenderTimer||(this.messageSenderTimer=setTimeout((function(){e.handleMessageTimer()}),1e3))},e.prototype.handleMessageTimer=function(){this.messageSenderTimer&&(clearTimeout(this.messageSenderTimer),this.messageSenderTimer=0);var e=this.roomMsgQueue.processMessageQueue();this.roomMsgQueue.messageCount()>0&&(e&&this.startMessageSending(),this.startMessageTimer())},e.prototype.readyToSendMessage=function(){return this.roomChannelDependency.getRoomState()===K.RoomState.OPENED&&this.isConnected()?this.roomMsgQueue.readyToSendMessage():(P.ConnectionLog.warn("readyToSendMessage: roomstate = "+this.roomChannelDependency.getRoomState()+", websocket connected = "+this.isConnected()),!1)},e.prototype.handleInactiveQuit=function(){var e={attrName:String(H.RoomWebsocketErrorCode.INACTIVE),status:1,module:this.channelOption.module,errorMessage:Y.RoomUtil.getWebsocketChannelErrorMessage(H.RoomWebsocketErrorCode.INACTIVE)};this.shutDown({reason:"close by server, INACTIVE.",errCode:H.RoomWebsocketErrorCode.INACTIVE,shutDown:!0}),r.default.shutDownReport(e)},e.prototype.receiveMessageFromServer=function(e,t){var n,r={head:e,body:t,newRev:e.new_rev,ts:e.ts,socketId:(null===(n=this.roomWebsocket)||void 0===n?void 0:n.socketId)||"",needDeal:!0};this.limitFrequencyManager.handleMessage(r),r.needDeal&&this.roomControllerDependency.handleOnReceivMsgFromServer(e.type,[r])},e.prototype.handleWaitAcceptMessage=function(e,t){var n=this.roomMsgQueue.getMessageByTaskId(e.task_id);n?this.processWaitAcceptMessage(n,e,t)?this.roomMsgQueue.addFinishMessage(n):P.ConnectionLog.error("processWaitAcceptMessage: msg found but waitcmd not match. seq = "+n.taskId+", cmd = "+n.cmd+", wait cmd = "+e.type):(n=this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id))||this.receiveMessageFromServer(e,t)},e.prototype.hasWaitAcceptCommand=function(e,t){var n;return!!(null===(n=e.waitAcceptCmd)||void 0===n?void 0:n.includes(t))},e.prototype.processWaitAcceptMessage=function(e,t,n){var r,o,i,s;if(this.hasWaitAcceptCommand(e,t.type)){this.doMsgOnSendAcceptSuccessCallback(e,t,n);var u={errCode:null!==(o=null===(r=n.data)||void 0===r?void 0:r.reason)&&void 0!==o?o:0,errMsg:Y.RoomUtil.getWebsocketChannelErrorMessage(null!==(s=null===(i=n.data)||void 0===i?void 0:i.reason)&&void 0!==s?s:0),waitAcceptCmd:t.type,event:K.MessageResultEvent.ON_SEND_ACCEPT,response:n,needRetry:!1};return this.reportMessage(e,u),!0}return!1},e.prototype.parseGetMsgDataList=function(e){for(var t=0;t<e.length;t++){var n=e[t].split("\n");if(n.length<2)return void P.ConnectionLog.error("onGetMessageFromServer: message data error.");this.parseGetMsgList(n)}},e.prototype.parseGetMsgList=function(e){var t=e.map((function(e){return P.JsonUtil.parseJson(e)})),n=t[0],r=t[1];this.isInactiveQuitMsg(n,r)?this.handleInactiveQuit():0!==this.roomMsgQueue.messageCount()?this.handleWaitAcceptMessage(n,r):this.processFinishedGetMsg(n,r)},e.prototype.isInactiveQuitMsg=function(e,t){return"QUIT_NOTICE"===(null===e||void 0===e?void 0:e.type)&&"INACTIVE"===(null===t||void 0===t?void 0:t.notice.quit_type)},e.prototype.processFinishedGetMsg=function(e,t){this.roomMsgQueue.getFinishedMessageByTaskId(e.task_id)||this.receiveMessageFromServer(e,t)},e.prototype.handleDisconnectEvent=function(e){var t=this;e.event&&(this.websocketDisconneted=!0,this.socketDisconnectTimer||(this.roomChannelDependency.resetLogin(),this.roomChannelDependency.resetHeartBeat(),this.roomMsgQueue.handleMsgBySocketDisconnect(),this.socketDisconnectTimer=setTimeout((function(){var n,r;e.socketId||e.socketId!==(null===(n=t.roomWebsocket)||void 0===n?void 0:n.socketId)||t.disConnect(null!==(r=e.disconnectReason)&&void 0!==r?r:"")}),25e3)))},e.prototype.clearDisconnectTimer=function(){this.socketDisconnectTimer&&(clearTimeout(this.socketDisconnectTimer),this.socketDisconnectTimer=0)},e.prototype.clearReopenDelayTimer=function(){this.reopenDelayTimer&&(clearTimeout(this.reopenDelayTimer),this.reopenDelayTimer=0)},e.prototype.disConnect=function(e){P.ConnectionLog.info("disConnect, reason:"+e),this.roomChannelDependency.getRoomState()!==K.RoomState.SHUTDOWN&&(this.clearSocket(),this.notifyRoomClosed({reason:"close by disconnect, reason "+e,shutDown:!1},0))},e.prototype.doMsgOnSendAcceptSuccessCallback=function(e,t,n){var r;null===(r=e.onsendAccept)||void 0===r||r.call(e,e.taskId,e.cmd,e.data,t.type,{errCode:0,errMsg:"",response:{body:n,new_rev:t.new_rev}})},e.prototype.doMsgOnSendSuccessCallback=function(e,t){var n;null===(n=e.onsend)||void 0===n||n.call(e,e.taskId,e.cmd,e.data,t)},e.prototype.isValidMessageParam=function(e){var t;return!(e.onsendAccept&&(!(null===(t=e.customParam)||void 0===t?void 0:t.waitAcceptCmd)||"[object Array]"!==Object.prototype.toString.call(e.customParam.waitAcceptCmd)||0===e.customParam.waitAcceptCmd.length))},e}();t.RoomWebsocketMessageSender=o})),da=O((function(e,t){var n=E&&E.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},r=E&&E.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},o=E&&E.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BuildRoomWebsocketChannel=t.RoomWebsocketChannel=void 0;var s=i(rt),u=function(){function e(e,t){this.padInfo=e,this.roomDependency=t,this.websocketMessageSender=new pa.RoomWebsocketMessageSender(this.padInfo,this.roomDependency,this),this.roomStatus=new st.RoomStatus(this.websocketMessageSender,n({},this.padInfo),this.roomDependency)}return e.prototype.connect=function(){this.websocketMessageSender.openWebsocketConnection()},e.prototype.shutdown=function(e){var t,n,r={module:this.padInfo.module,attrName:String(null!==(t=e.errCode)&&void 0!==t?t:0),status:1,errorMessage:Y.RoomUtil.getWebsocketChannelErrorMessage(null!==(n=e.errCode)&&void 0!==n?n:0)};this.websocketMessageSender.shutDown(e),s.default.shutDownReport(r)},e.prototype.dispose=function(){this.websocketMessageSender.dispose(),this.roomStatus.dispose()},e.prototype.sendMessage=function(e){this.websocketMessageSender.sendMessage(e)},e.prototype.batchCommitMessages=function(e,t){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,{success:!1,retCode:52002,reason:"websocket not support batch commit."}]}))}))},e.prototype.cancelMessageBySeq=function(e){this.websocketMessageSender.cancelMessageBySeq(e)},e.prototype.openRoom=function(){this.roomStatus.openRoom()},e.prototype.onRoomClosed=function(e){this.roomStatus.onRoomClosed(e)},e.prototype.roomStateReconnecting=function(){this.roomStatus.roomStateReconnecting()},e.prototype.getRoomState=function(){return this.roomStatus.getRoomState()},e.prototype.loginRoom=function(){this.roomStatus.loginRoom()},e.prototype.onLoginResponse=function(e,t){this.roomStatus.onLoginResponse(e,t)},e.prototype.resetLogin=function(){this.roomStatus.resetLogin()},e.prototype.onHeartBeatResponse=function(e,t){this.roomStatus.onHeartBeatResponse(e,t)},e.prototype.resetHeartBeat=function(){this.roomStatus.resetHeartBeat()},e}();t.RoomWebsocketChannel=u,t.BuildRoomWebsocketChannel=function(e,t,n){var r,o,i,s,a,c,f={module:e.module,padId:e.serverVars.padId,globalPadId:e.serverVars.globalPadId,codeVer:null!==(r=e.serverVars.pver)&&void 0!==r?r:0,gray:null!==(o=e.serverVars.gray)&&void 0!==o?o:0,dver:e.serverVars.dver,pver:e.serverVars.pver,apId:e.serverVars.apid,wmode:null!==(i=e.serverVars.wmode)&&void 0!==i?i:zu.DEFAULT_WMODE,padType:e.serverVars.padType,websocketReopenCount:null!==(s=e.serverVars.websocketReopenCount)&&void 0!==s?s:zu.WEBSOCKET_CONFIG.pollingReopenCount,pollingAttemptNumber:null!==(a=e.serverVars.pollingAttemptNumber)&&void 0!==a?a:zu.WEBSOCKET_CONFIG.pollingAttemptCount,upid:e.serverVars.client.upid,sid:e.serverVars.client.sid,tid:e.serverVars.client.tid,sig:e.serverVars.client.sig,uid:e.uid,uuId:e.userid,userId:e.userid,nowUserIndex:null!==(c=e.nowUserIndex)&&void 0!==c?c:window.nowUserIndex,middleWareCenter:n,config:e.config};return new u(f,t)}})),ha=Object.defineProperty({},"__esModule",{value:!0}),ga=Object.defineProperty({},"__esModule",{value:!0}),va=O((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RoomWebsocketEvent=void 0,function(e){e.open="open",e.close="close",e.connect="connect",e.connectFail="connectfail",e.reconnecting="reconnecting",e.disconnect="disconnect",e.connectTimeout="connect_timeout",e.connectError="connect_error"}(n||(n={})),t.RoomWebsocketEvent=n})),ya=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(K,t),r(da,t),r(ha,t),r(Y,t),r(H,t),r(ga,t),r(zu,t),r(va,t)})),ma=Object.defineProperty({},"__esModule",{value:!0}),ba=Object.defineProperty({},"__esModule",{value:!0});function _a(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function Ea(e){return _a("Array",e)}var wa,Sa=Object.freeze({__proto__:null,isType:_a,isBoolean:function(e){return _a("Boolean",e)},isNumber:function(e){return _a("Number",e)},isString:function(e){return _a("String",e)},isFunction:function(e){return _a("Function",e)},isArray:Ea,isDate:function(e){return _a("Date",e)},isRegExp:function(e){return _a("RegExp",e)},isObject:function(e){return _a("Object",e)},isError:function(e){return _a("Error",e)}}),Oa=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),Ca=function(){function e(){this.first=Oa.Undefined,this.last=Oa.Undefined,this.mSize=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.first===Oa.Undefined},e.prototype.clear=function(){this.first=Oa.Undefined,this.last=Oa.Undefined,this.mSize=0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.shift=function(){if(this.first!==Oa.Undefined){var e=this.first.element;return this.remove(this.first),e}},e.prototype.pop=function(){if(this.last!==Oa.Undefined){var e=this.last.element;return this.remove(this.last),e}},e.prototype[Symbol.iterator]=function(){var e;return y(this,(function(t){switch(t.label){case 0:e=this.first,t.label=1;case 1:return e===Oa.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.insert=function(e,t){var n=this,r=new Oa(e);if(this.first===Oa.Undefined)this.first=r,this.last=r;else if(t){var o=this.last;this.last=r,r.prev=o,o.next=r}else{var i=this.first;this.first=r,r.next=i,i.prev=r}this.mSize+=1;var s=!1;return function(){s||(s=!0,n.remove(r))}},e.prototype.remove=function(e){if(e.prev!==Oa.Undefined&&e.next!==Oa.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Oa.Undefined&&e.next===Oa.Undefined?(this.first=Oa.Undefined,this.last=Oa.Undefined):e.next===Oa.Undefined?(this.last=this.last.prev,this.last.next=Oa.Undefined):e.prev===Oa.Undefined&&(this.first=this.first.next,this.first.prev=Oa.Undefined);this.mSize-=1},e}(),Ta=function(){function e(e){this.disposed=!1,this.options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this.mEvent||(this.mEvent=function(t,n,r){var o,i,u;e.listeners||(e.listeners=new Ca);var a=e.listeners.isEmpty();a&&(null===(o=e.options)||void 0===o?void 0:o.onFirstListenerAdd)&&e.options.onFirstListenerAdd(e);var c=e.listeners.push(n?[t,n]:t);a&&(null===(i=e.options)||void 0===i?void 0:i.onFirstListenerDidAdd)&&e.options.onFirstListenerDidAdd(e),(null===(u=e.options)||void 0===u?void 0:u.onListenerDidAdd)&&e.options.onListenerDidAdd(e,t,n);var f={dispose:function(){var t;e.disposed||(c(),(null===(t=e.options)||void 0===t?void 0:t.onLastListenerRemove)&&(e.listeners&&!e.listeners.isEmpty()||e.options.onLastListenerRemove(e))),(0,s.markTracked)(f)},disposableId:"event"};return Array.isArray(r)&&r.push(f),(0,s.trackDisposable)(f),f}),this.mEvent},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new Ca);try{for(var r=m(this.listeners),o=r.next();!o.done;o=r.next()){var i=o.value;this.deliveryQueue.push([i,e])}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}for(;this.deliveryQueue.size>0;){var s=b(this.deliveryQueue.shift(),2),u=(i=s[0],s[1]);try{"function"===typeof i?i.call(void 0,u):i[0].call(i[1],u)}catch(c){console.error(c)}}}},e.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},e}(),Ra=Object.freeze({__proto__:null,Emitter:Ta}),Aa=Object.defineProperty({},"__esModule",{value:!0}),xa=O((function(e,t){var n,r=E&&E.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},o=E&&E.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Method=void 0,function(e){e.POST="POST",e.GET="GET"}(n||(n={})),t.Method=n;var i=function(){function e(){}return e.prototype.sendMessages=function(e,t,i,s){return void 0===t&&(t=n.GET),r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,this.sendCommonRequest(e,t,i,s)];case 1:return(n=r.sent()).data?[2,n]:[4,this.sendCommonRequest(e,t,i,s)];case 2:return[2,r.sent()]}}))}))},e.prototype.sendCommonRequest=function(e,t,n,i){return r(this,void 0,void 0,(function(){return o(this,(function(r){return[2,new Promise((function(r){try{var o,s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE){var t="";if(200===s.status)try{t=i&&"custom"===i?s.responseText:P.JsonUtil.parseJson(s.responseText)}catch(n){P.ConnectionLog.error("sendCommonRequest failed: query:"+e+", responseText:"+s.responseText+" error:"+n),o=n}else o=new x.HttpError(s.status,0,"StatusError");r(new x.Result(o,t))}};try{s.timeout=3e4}catch(u){}s.ontimeout=function(){o=new Error("TimeOutError"),r(new x.Result(o))},s.open(t,e),s.setRequestHeader("content-type","application/json"),s.setRequestHeader("content-encoding","gzip"),s.send(n)}catch(bp){r(new x.Result(bp))}}))]}))}))},e}();t.Request=i})),Ia=O((function(e,t){var n=E&&E.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},r=E&&E.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BigDataChannel=t.BuildBigDataChannel=void 0;var o=function(){function e(e,t){e&&(this.options=Object.assign({},e)),this.dependency=t,this.request=new xa.Request}return e.prototype.dispose=function(){this.request=void 0},e.prototype.sendMessage=function(e){var t=this,n=this.checkSendMessage(e);if(0===n.errCode&&"object"===typeof e.data){var r={dver:this.options.dver,pver:this.options.pver,gray:this.options.gray,globalpadid:this.options.globalPadId,rel_rev:this.options.rel_rev},o=[e.data];this.batchCommitMessages(r,o).then((function(n){var r,o;P.ConnectionLog.info("batchCommitChangesResult : "+n.success+" retcode:"+n.retCode),n.success?null===(r=n.data)||void 0===r||r.forEach((function(r){var o,i,s,u,a,c,f;if(r.commitId===e.taskId){var l={errCode:0,response:{new_rev:r.new_rev}};null===(o=e.onsendAccept)||void 0===o||o.call(e,r.commitId,"USER_CHANGES",e.data,"ACCEPT_COMMIT",l)}else{var p={head:{base_rev:r.new_rev-1,docid:(null===(i=n.common)||void 0===i?void 0:i.docid)||t.options.globalPadId,dver:(null===(s=n.common)||void 0===s?void 0:s.dver)||t.options.dver,new_rev:r.new_rev,session_type:(null===(u=n.common)||void 0===u?void 0:u.session_type)||0,type:"USER_CHANGES",uid:(null===(a=n.common)||void 0===a?void 0:a.uid)||"",uuid:(null===(c=n.common)||void 0===c?void 0:c.uuId)||""},body:{data:{apool:r.apool,author:r.author,changeset:r.changeset,commitId:r.commitId,head:r.head,isWorkbook:r.isWorkbook||!1,need:r.need,revert:r.revert,subId:r.subId,newRev:r.newRev,new_rev:r.newRev,type:r.type,uuId:(null===(f=n.common)||void 0===f?void 0:f.uuId)||""}},newRev:r.newRev,socketId:""};t.dependency.handleOnReceivMsgFromServer("NEW_CHANGES",[p])}})):e.onError(e.taskId,e.cmd,e.data,{errCode:null!==(o=n.retCode)&&void 0!==o?o:52e3,errMsg:n.reason})}))}else e.onError(e.taskId,e.cmd,e.data,n)},e.prototype.batchCommitMessages=function(e,t){var o,i;return n(this,void 0,void 0,(function(){var n,s,u,a;return r(this,(function(r){switch(r.label){case 0:return n={success:!0,retCode:0,data:[]},s=this.packUserChanges(e,t),[4,this.commitUserChanges(e.globalpadid,s)];case 1:return(u=r.sent()).error?(n.type="NetworkException",P.ConnectionLog.error("batchCommitMessages: "+(null===(o=u.error)||void 0===o?void 0:o.message)),n.success=!1,[2,n]):((a=P.JsonUtil.parseJson(u.data))&&0===a.retcode?(a.Data.respective.forEach((function(t){var r;P.ConnectionLog.info("batchCommitMessages rev:"+(null===e||void 0===e?void 0:e.rev)+", newRev:"+t.newRev+", "+t.changeset+", taskId:"+t.commitId),null===(r=n.data)||void 0===r||r.push(t)})),n.type="Success",n.common=null===(i=a.Data)||void 0===i?void 0:i.common):(n.success=!1,n.retCode=a.retcode,n.type="ServerVerityException",n.reason=a.retmsg,P.ConnectionLog.error("batchCommitMessages retcode:"+(null===a||void 0===a?void 0:a.retcode))),[2,n])}}))}))},e.prototype.checkSendMessage=function(e){var t,n={errCode:0};return"USER_CHANGES"!==e.cmd?(n.errMsg="only support USER_CHANGES on offline.",n.errCode=52001):e.data&&"string"!==typeof e.data?e.onsend&&e.onsendAccept?(null===(t=this.options.config)||void 0===t?void 0:t.maxContentLength)&&fa.getMessageDataLength(e.data)>this.options.config.maxContentLength&&(n.errMsg="message content is too large",n.errCode=52003):(n.errMsg="onsend or onsendAccept is undefine.",n.errCode=52001):(n.errMsg="send data type is conrect.",n.errCode=52001),n},e.prototype.packUserChanges=function(e,t){if(!t||0===t.length)return{};var n=t[0];return{common:{type:"USER_CHANGES",offlineMsg:!0,docid:e.globalpadid,uid:this.options.uid,dver:e.dver,base_rev:n.baseRev,code_ver:0,session_type:0,gray:e.gray||0,generalpacket:{rel_rev:e.rel_rev},pver:e.pver||this.options.pver,uuId:this.options.uuId},respective:t.map((function(e){return{task_id:e.taskId,subId:e.subId,oSubId:e.oSubId||!1,head:e.head||!1,keydata:e.keydata||!1,changeSetCount:e.changeSetCount||1,changeset:e.changeset,changesetType:e.changesetType,apool:e.apool,isWorkbook:e.isWorkbook}}))}},e.prototype.commitUserChanges=function(e,t){return n(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){return n=P.Cookie.getXsrf(),o=P.JsonUtil.jsonStringify({padId:e,xsrf:n,data:P.JsonUtil.jsonStringify(t)}),[2,this.request.sendMessages("/dop-api/commitchanges",xa.Method.POST,o,"custom")]}))}))},e}();t.BigDataChannel=o,t.BuildBigDataChannel=function(e,t){var n,r={dver:e.serverVars.dver,globalPadId:e.serverVars.globalPadId,pver:e.serverVars.pver,gray:e.serverVars.gray||0,rel_rev:"",uid:e.uid,uuId:e.uuId,userid:e.userid,config:null===(n=e.config)||void 0===n?void 0:n.bigDataCommitConfig};return new o(r,t)}})),ka=Object.defineProperty({},"__esModule",{value:!0}),Ma=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(Aa,t),r(Ia,t),r(ka,t)})),Da=S(Sa),Pa=S(Ra),Na=O((function(e,t){var n=E&&E.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},r=E&&E.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionController=void 0;var o=function(){function e(e){var t=this;this.onConnectionEventEmitter=new Pa.Emitter,this.middleWareCenter=new G.MiddleWareCenter,this.connectionFireEvent=function(e,n){t.onConnectionEventEmitter.fire({event:e,data:n})},this.options=e,this.onConnectionEvent=this.onConnectionEventEmitter.event,this.initDependencyEvent(),$u.network.changeEnd(this.handleNetWorkChangeCallback.bind(this))}return e.prototype.dispose=function(){var e,t;$u.network.remove(this.handleNetWorkChangeCallback.bind(this)),this.onConnectionEventEmitter.dispose(),null===(e=this.websocketChannelInstance)||void 0===e||e.dispose(),this.websocketChannelInstance=void 0,null===(t=this.bigDataChannelInstance)||void 0===t||t.dispose(),this.bigDataChannelInstance=void 0},e.prototype.useMiddleWare=function(e,t){this.middleWareCenter.useMiddleWare(e,t)},e.prototype.connect=function(){P.ConnectionLog.info("connect"),this.connectChannel()},e.prototype.reConnect=function(e){var t,n;P.ConnectionLog.info("reConnect"),e&&(this.options=e),null===(t=this.websocketChannelInstance)||void 0===t||t.dispose(),this.websocketChannelInstance=void 0,null===(n=this.bigDataChannelInstance)||void 0===n||n.dispose(),this.bigDataChannelInstance=void 0,this.connectChannel()},e.prototype.isConnecting=function(){return this.isChannelConnecting()},e.prototype.isDisconnect=function(){return this.isChannelDisconnect()},e.prototype.disconnect=function(e){this.disconnectChannel(e)},e.prototype.isOnline=function(){return $u.network.isOnline},e.prototype.setVersion=function(e){Da.isNumber(e)?this.version=e:P.ConnectionLog.error("setVersion version is not number")},e.prototype.sendMessage=function(e){this.isUseBigDataChannel(e)?this.bigDataChannel.sendMessage(e):this.websocketChannel.sendMessage(e)},e.prototype.batchCommitMessages=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(n){return e.globalpadid?(null===t||void 0===t?void 0:t.length)?[2,this.bigDataChannel.batchCommitMessages(e,t)]:[2,this.handleMessagesError()]:[2,this.handlePadIdError()]}))}))},e.prototype.cancelMessageBySeq=function(e){this.websocketChannel.cancelMessageBySeq(e)},e.prototype.handlePadIdError=function(){var e="batchCommitMessages padId is undefine!";return P.ConnectionLog.warn(e),{success:!1,retCode:52001,reason:e}},e.prototype.handleMessagesError=function(){var e="batchCommitMessages message is null!";return P.ConnectionLog.warn(e),{success:!1,retCode:52001,reason:e}},Object.defineProperty(e.prototype,"bigDataChannel",{get:function(){return this.bigDataChannelInstance||(this.bigDataChannelInstance=Ma.BuildBigDataChannel(this.options,this.dependency)),this.bigDataChannelInstance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketChannel",{get:function(){return this.websocketChannelInstance||(this.websocketChannelInstance=z.BuildRoomWebsocketChannel(this.options,this.dependency,this.middleWareCenter)),this.websocketChannelInstance},enumerable:!1,configurable:!0}),e.prototype.handleNetWorkChangeCallback=function(e){var t,n,r,o;"online"===e?null===(n=(t=this.dependency).handleOnEnterOnline)||void 0===n||n.call(t):null===(o=(r=this.dependency).handleOnEnterOffline)||void 0===o||o.call(r)},e.prototype.isUseBigDataChannel=function(e){var t,n=null===(t=this.options.config)||void 0===t?void 0:t.bigDataCommitConfig;if("USER_CHANGES"===e.cmd&&!0===(null===n||void 0===n?void 0:n.isSupportBigDataCommit)){var r=fa.getMessageDataLength(e.data);if(r>((null===n||void 0===n?void 0:n.minContentLength)||5242880))return P.ConnectionLog.info("sendMessage BigData, length:"+r),!0;if(this.websocketChannel.getRoomState()!==z.RoomState.OPENED)return!0}return!1},e.prototype.initDependencyEvent=function(){var e=this;this.dependency={handleOnEnterOnline:function(){e.connectionFireEvent("OnEnterOnline")},handleOnEnterOffline:function(){e.connectionFireEvent("OnEnterOffline")},handleOnRoomOpen:function(){e.connectionFireEvent("OnRoomOpen")},handleOnRoomStateChange:function(t,n){e.connectionFireEvent("OnRoomStateChange",{roomState:{roomState:t,description:n}})},handleOnReceivMsgFromServer:function(t,n){e.connectionFireEvent("OnReceiveMsgFromServer",{serverMsg:{type:t,data:n}})},onNetReconnectedFail:function(){e.connectionFireEvent("OnNetReconnectedFail")},getHeaderGeneralPacket:function(){var t,n;return null!==(n=null===(t=e.options.config)||void 0===t?void 0:t.headerGeneralPacket)&&void 0!==n?n:{}},getPadRev:function(){return e.version},handleOnRoomShutDown:function(t){e.connectionFireEvent("OnRoomShutDown",{closeReason:t})},handleOnRoomClose:function(t){e.connectionFireEvent("OnRoomClose",{closeReason:t})}}},e.prototype.isRoomState=function(e){return!!this.websocketChannelInstance&&this.websocketChannel.getRoomState()===e},e.prototype.connectChannel=function(){this.websocketChannel.connect()},e.prototype.isChannelConnecting=function(){return this.isRoomState(z.RoomState.OPENED)},e.prototype.isChannelDisconnect=function(){return this.isRoomState(z.RoomState.SHUTDOWN)},e.prototype.disconnectChannel=function(e){var t;null===(t=this.websocketChannelInstance)||void 0===t||t.shutdown(e)},e}();t.ConnectionController=o})),La=O((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionCallBackEvent=void 0,(n=t.ConnectionCallBackEvent||(t.ConnectionCallBackEvent={})).onEnterOnline="OnEnterOnline",n.onEnterOffline="OnEnterOffline",n.onRoomOpen="OnRoomOpen",n.onRoomClose="OnRoomClose",n.onRoomShutDown="OnRoomShutDown",n.onRoomStateChange="OnRoomStateChange",n.onReceiveMsgFromServer="OnReceiveMsgFromServer",n.onNetReconnectedFail="OnNetReconnectedFail"})),ja=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(ma,t),r(ba,t),r(Na,t),r(La,t)})),Ua=O((function(e,t){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){!function(e){function t(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function n(e){return t("Array",e)}function r(e){return t("Date",e)}function o(e){return t("Object",e)}function i(e){return o(e)?JSON.stringify(e):e}var s=void 0!==s?s:{};"undefined"!=typeof window?s=window:"undefined"!=typeof self&&(s=self);var u=s;function a(e,t,n,r,o){var s=new Date;s.setTime(s.getTime()+(n?864e5*n:2592e6)),u.document&&(document.cookie=e+"="+encodeURIComponent(i(t))+";expires="+s.toGMTString()+";path="+(r||"/")+";"+(o?"domain="+o+";":""))}function c(e,t,n){var r=new Date(0);u.document&&(document.cookie=e+"=;expires="+r.toUTCString()+";path="+(t||"/")+";"+(n?"domain="+n+";":""))}function f(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n="";return u.document&&(n=u.document.cookie.match(t)),(n?n[1]:"")||null}var l=function(){return u.location.hash},p=function(){return u.location.search};e.extend=function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var s in t)if(t.hasOwnProperty(s)){var u=o(t[s]),a=n(t[s]);u||a?i&&(u?(r[s]={},e(t[s],r[s],i-1)):a&&(r[s]=[],e(t[s],r[s],i-1))):r[s]=t[s]}},e.setCookie=a,e.delCookie=c,e.getCookie=f,e.formatDate=function(e,t){if(e){var n=t,o=r(e)?e:new Date(e),i={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours()%12==0?12:o.getHours()%12,"H+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};for(var s in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,String(o.getFullYear()).substr(4-RegExp.$1.length))),/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[String(o.getDay())])),i)new RegExp("("+s+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?i[s]:("00"+i[s]).substr(String(i[s]).length)));return n}},e.setItem=function(e,t){var n=i(t);void 0!==u.Storage?localStorage.setItem(e,n):a(e,n)},e.getItem=function(e){return void 0!==u.Storage?localStorage.getItem(e):f(e)},e.delItem=function(e){void 0!==u.Storage?delete localStorage[e]:c(e)},e.callApi=function(e){if(u.document){var t=document.createElement("iframe");t.src=e,t.height=0,t.width=0,t.style.cssText="display: none",document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t),t=null}),2e3)}},e.encodeHTML=function(e){return e&&0!==e.length?e.replace(/&/g,"&#38;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br>"):""},e.decodeHTML=function(e){return 0===e.length?"":e.replace(/&#38;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/&nbsp;/g," ").replace(/<br>/g,"\n")},e.isType=t,e.isBoolean=function(e){return t("Boolean",e)},e.isNumber=function(e){return t("Number",e)},e.isString=function(e){return t("String",e)},e.isFunction=function(e){return t("Function",e)},e.isArray=n,e.isDate=r,e.isRegExp=function(e){return t("RegExp",e)},e.isObject=o,e.isError=function(e){return t("Error",e)},e.getHash=function(e){var t="";return u.location&&(t=l().match(new RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""},e.getUrlParam=function(e){var t="",n=u.location;return n&&(t=p().match(new RegExp("(\\?|#|&)"+e+"=([^&]*)(#|&|$)"))),!t&&n&&(t=l().match(new RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""},e.getQuery=function(e){var t="";return u.location&&(t=p().match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""},e._stringify=i,e._parse=function(e){return o(e)?e:JSON.parse(e)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},,,function(e,t,n){n.r(t),n.d(t,"getUid",(function(){return o})),n.d(t,"getNowUserId",(function(){return i})),n.d(t,"isLogin",(function(){return s})),n.d(t,"isTDocsLogin",(function(){return u})),n.d(t,"loginType",(function(){return a})),n.d(t,"checkWeWork",(function(){return c}));var r=n(0);function o(){var e,t,n;return(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||(null===(n=null===(t=window.clientVars)||void 0===t?void 0:t.userInfo)||void 0===n?void 0:n.uid)||Object(r.getCookie)("uid")}function i(){return window.nowUserIndex||o()}function s(){return!!(Object(r.getCookie)("uid")&&Object(r.getCookie)("uid_key")||Object(r.getCookie)("SID")||Object(r.getCookie)("p_luin")&&Object(r.getCookie)("p_lskey")||Object(r.getCookie)("p_uin")&&Object(r.getCookie)("p_skey"))}function u(){return!!(Object(r.getCookie)("uid")&&Object(r.getCookie)("uid_key")||Object(r.getCookie)("SID"))}function a(){var e,t=Object(r.getCookie)("utype");return(null===(e=window.global_multi_user)||void 0===e?void 0:e.utype)||t}function c(){return"ww"===a()}}])})),Fa=Object.defineProperty({},"__esModule",{value:!0}),Wa=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)},o=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(Yu);r(zu,t),r(Fa,t),t.default=i.default})),qa=O((function(e,t){var n=E&&E.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketManager=void 0;var i=o(Wa),s=function(){function e(e){var t=this;this.options=e,this.socket=null,this.socketStatus=0,this.handleConnect=function(){k.ConnectionLog.info("socket io connect readyState: "+t.socket.io.readyState+", id:"+t.socket.id),t.options.featureMessageCenterReceiver.onConnect()},this.handleError=function(e){k.ConnectionLog.info("socket io error, type:"+(null===e||void 0===e?void 0:e.type)+", message:"+(null===e||void 0===e?void 0:e.message)+", description:"+(null===e||void 0===e?void 0:e.description)),t.disConnect(P.JsonUtil.jsonStringify(e)+" socket io error Closed by client.")},this.handleReconnectFailed=function(e){k.ConnectionLog.info("socket io reconnect_failed"),t.disConnect(P.JsonUtil.jsonStringify(e)+" reconnect_failed Closed by client.")},this.handleConnectFailed=function(e){k.ConnectionLog.info("socket io connect_failed"),t.disConnect(P.JsonUtil.jsonStringify(e)+"  connect_failed Closed by client.")},this.handleGet=function(e){t.options.featureMessageCenterReceiver.onGetMessageFromServer(e)},this.handlePost=function(e){t.options.featureMessageCenterReceiver.onPostFromServer(e)}}return e.prototype.dispose=function(){this.disConnectSocket()},e.prototype.connect=function(){var e=i.default("wss://"+this.options.host,{query:{gtag:this.options.gtag},transports:i.DEFAULT_TRANSPORT_MODE,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:i.WEBSOCKET_CONFIG.reconnectionDelay,reconnectionDelayMax:i.WEBSOCKET_CONFIG.reconnectionDelayMax,randomizationFactor:i.WEBSOCKET_CONFIG.randomizationFactor,timeout:i.WEBSOCKET_CONFIG.connectTimeout,path:"/socket.io"});this.socket=e,this.socket?(this.socket.on("get",this.handleGet),this.socket.on("post",this.handlePost),this.socket.on("connect",this.handleConnect),this.socket.on("connect_failed",this.handleConnectFailed),this.socket.on("error",this.handleError),this.socket.on("reconnect_failed",this.handleReconnectFailed)):k.ConnectionLog.warn("socket is null")},e.prototype.disConnect=function(e){k.ConnectionLog.info("socket io disconnect reason: "+e),this.disConnectSocket(),this.options.featureMessageCenterReceiver.onConnectFail()},e.prototype.sendMessage=function(e){e&&this.socket&&this.socket.emit("post",e)},e.prototype.disConnectSocket=function(){this.socket&&(this.socket.disconnect(),this.socket=null)},e}();t.WebsocketManager=s})),Ba=Ga,Qa=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureMessageCenter=void 0;var n=function(){function e(){this.onFeatureMessageEventEmitter=new Pa.Emitter,this.uid=Ua.getUid(),this.userId="p."+this.uid,this.gtag="main_page_"+this.userId,this.onFeatureMessageEvent=this.onFeatureMessageEventEmitter.event}return e.getInstance=function(){if(!E.featureMessageCenterInstance){var t=new e;E.featureMessageCenterInstance=t,t.connect()}return e.instance||(e.instance=E.featureMessageCenterInstance),e.instance},e.prototype.isConnecting=function(){return!!this.socketManager},e.prototype.connect=function(){this.isConnecting()||this.websocketConnect()},e.prototype.disConnect=function(e){var t;null===(t=this.socketManager)||void 0===t||t.disConnect(null!==e&&void 0!==e?e:"")},e.prototype.dispose=function(){var e;this.onFeatureMessageEventEmitter.dispose(),null===(e=this.socketManager)||void 0===e||e.dispose()},e.prototype.onConnect=function(){this.sendClientReady()},e.prototype.onConnectFail=function(){var e=this;if(!this.websocketDelayConnectTimer){this.socketManager=void 0;var t=1e3*Math.max(Math.floor(20*Math.random()),2);this.websocketDelayConnectTimer=setTimeout((function(){e.websocketConnect()}),t)}},e.prototype.onGetMessageFromServer=function(e){this.onFeatureMessageEventEmitter.fire({data:e})},e.prototype.onPostFromServer=function(){},e.prototype.websocketConnect=function(){this.uid&&(this.resetWebsocketDelayConnectTimer(),this.socketManager=new qa.WebsocketManager({userId:this.userId,gtag:this.gtag,host:window.location.host,featureMessageCenterReceiver:this}),this.socketManager.connect())},e.prototype.sendClientReady=function(){var e,t={type:"CLIENT_READY",uid:this.userId,gtag:this.gtag,cookie:P.getCookieForMessage(!0)},n=Ba.generateMessageTaskId()+"="+P.JsonUtil.jsonStringify(t);null===(e=this.socketManager)||void 0===e||e.sendMessage(n)},e.prototype.resetWebsocketDelayConnectTimer=function(){this.websocketDelayConnectTimer&&(clearTimeout(this.websocketDelayConnectTimer),this.websocketDelayConnectTimer=0)},e}();t.FeatureMessageCenter=n})),Va=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FeatureMessageCenter",{enumerable:!0,get:function(){return Qa.FeatureMessageCenter}})})),Ga=O((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Command",{enumerable:!0,get:function(){return x.Command}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return x.Result}}),Object.defineProperty(t,"generateUuid",{enumerable:!0,get:function(){return P.generateUuid}}),Object.defineProperty(t,"generateMessageTaskId",{enumerable:!0,get:function(){return P.generateMessageTaskId}}),Object.defineProperty(t,"initLogAndManager",{enumerable:!0,get:function(){return P.initLogAndManager}}),Object.defineProperty(t,"initReportManager",{enumerable:!0,get:function(){return P.initReportManager}}),Object.defineProperty(t,"MiddleWareType",{enumerable:!0,get:function(){return G.MiddleWareType}}),Object.defineProperty(t,"MiddleWareCenter",{enumerable:!0,get:function(){return G.MiddleWareCenter}}),Object.defineProperty(t,"RoomState",{enumerable:!0,get:function(){return z.RoomState}}),Object.defineProperty(t,"MessageWaitAcceptCmd",{enumerable:!0,get:function(){return z.MessageWaitAcceptCmd}}),Object.defineProperty(t,"RoomErrorCode",{enumerable:!0,get:function(){return z.RoomErrorCode}}),Object.defineProperty(t,"RoomWebsocketErrorCode",{enumerable:!0,get:function(){return z.RoomWebsocketErrorCode}}),Object.defineProperty(t,"ConnectionController",{enumerable:!0,get:function(){return ja.ConnectionController}}),Object.defineProperty(t,"ConnectionCallBackEvent",{enumerable:!0,get:function(){return ja.ConnectionCallBackEvent}}),Object.defineProperty(t,"BatchCommitFailReason",{enumerable:!0,get:function(){return fa.BatchCommitFailReason}}),Object.defineProperty(t,"CHANGESET_TYPE",{enumerable:!0,get:function(){return fa.CHANGESET_TYPE}}),Object.defineProperty(t,"IBatchCommitChangesResultRetcode",{enumerable:!0,get:function(){return fa.IBatchCommitChangesResultRetcode}}),Object.defineProperty(t,"DEFAULT_SEND_MESSAGE_TIMEOUT",{enumerable:!0,get:function(){return fa.DEFAULT_SEND_MESSAGE_TIMEOUT}}),Object.defineProperty(t,"FeatureMessageCenter",{enumerable:!0,get:function(){return Va.FeatureMessageCenter}})}));!function(e){e[e.USER_INITIATIVE=72105]="USER_INITIATIVE"}(wa||(wa={}));var Ka,Ha=function(e){function t(t,n,r){var i=e.call(this)||this;return i.docMetaDomainService=t,i.authDomainService=n,i.collaborateService=r,i.onEnterOnlineEmitter=new Ta,i.onEnterOfflineEmitter=new Ta,i.onRoomStateChangeEmitter=new Ta,i.onNetReconnectedFailEmitter=new Ta,i.logger=new o.Yd("ConnectionControllerService").use("console"),i.onEnterOnline=i.onEnterOnlineEmitter.event,i.onEnterOffline=i.onEnterOfflineEmitter.event,i.onRoomStateChange=i.onRoomStateChangeEmitter.event,i.onNetReconnectedFail=i.onNetReconnectedFailEmitter.event,i.configEventHandlerMap(),i.configMsgHandlerMap(),i}return l(t,e),t.prototype.dispose=function(){var t;e.prototype.dispose.call(this),null===(t=this.connectionController)||void 0===t||t.dispose()},t.prototype.openRoom=function(){if(!this.connectionController)throw new Error("没有 connectionController 对象，需要先通过 initConnectionControllerWithClientVars 初始化");this.connectionController.connect()},t.prototype.shutDown=function(e){if(!this.connectionController)throw new Error("没有 connectionController 对象，需要先通过 initConnectionControllerWithClientVars 初始化");var t=p({},e);t.errCode||(t.errCode=72105),this.connectionController.disconnect(t)},t.prototype.setConnectionController=function(e){var t=this;this.connectionController=e,this.connectionController.onConnectionEvent((function(e){t.dispathEvent(e)}))},t.prototype.initConnectionControllerWithClientVars=function(e){var t=this,n={serverVars:e.collab_client_vars,uuId:e.userId+e.collab_client_vars.client.sid.slice(0,5),userid:e.userId,module:"ARK",uid:e.tinyid};this.connectionController=new Ga.ConnectionController(n),this.connectionController.onConnectionEvent((function(e){t.dispathEvent(e)}))},t.prototype.configEventHandlerMap=function(){var e=this;this.eventHandlerMap={onEnterOnline:function(){return e.onEnterOnlineEmitter.fire(void 0)},onEnterOffline:function(){return e.onEnterOfflineEmitter.fire(void 0)},onNetReconnectedFail:function(){return e.onNetReconnectedFailEmitter.fire(void 0)},onRoomStateChange:function(t){var n;e.onRoomStateChangeEmitter.fire(null===(n=t.data)||void 0===n?void 0:n.roomState)}}},t.prototype.configMsgHandlerMap=function(){var e=this,t=this.docMetaDomainService.docMetaEntity,n=this.collaborateService.collaborateAggregate,r=this.authDomainService.authAggregate;this.msgHandlerMap={HANDLE_DELETE:function(){return t.handleNoticeDeleted()},REVERT_MESSAGE:function(){e.logger.debug("REVERT_MESSAGE")},TITLE_MESSAGE:function(e){e.forEach((function(e){var n=e.body.notice;t.handleNoticeTitleChanged(n.title)}))},RIGHT_MESSAGE:function(t){e.logger.debug("RIGHT_MESSAGE"),t.forEach((function(t){var n;r.authInfoEntity.onReceiveMessageFromServer(null===(n=null===t||void 0===t?void 0:t.body)||void 0===n?void 0:n.notice,e.connectionController)}))},USER_NEWINFO:function(e){e.forEach((function(e){var t=e.body.notice,r={sessionType:t.session_type,userId:t.userId,uuId:t.uuId},o={memCount:t.mem_count,notices:[r]};n.handleUserComeIn(o)}))},USER_NEWINFOS:function(e){e.forEach((function(e){var t=e.body,r=t.notices,o=t.mem_count,i=[];null===r||void 0===r||r.forEach((function(e){var t={sessionType:e.session_type,userId:e.userId,uuId:e.uuId};i.push(t)}));var s={memCount:o,notices:i};n.handleUserComeIn(s)}))},USER_LEAVE:function(e){e.forEach((function(e){var t=e.body.notice,r={sessionType:t.session_type,userId:t.userId,uuId:t.uuId},o={memCount:t.mem_count,notices:[r]};n.handleUserLeave(o)}))},COMMERICILIZE_MESSAGE:function(e){e.forEach((function(e){n.handleCommercializeMessage(e)}))},MARK_MESSAGE:function(t){e.logger.debug(t)},COMM_NOTICE:function(t){e.logger.debug(t)}}},t.prototype.dispathEvent=function(e){var t,n,r=this.eventHandlerMap[e.event];r?r(e):"OnReceiveMsgFromServer"===e.event?this.onReceiveMsgFromServer(null===(t=e.data)||void 0===t?void 0:t.serverMsg):"OnRoomShutDown"===e.event&&this.onRoomShutDown(null===(n=e.data)||void 0===n?void 0:n.closeReason)},t.prototype.onRoomShutDown=function(e){if(e){var t=e.errCode;72105!==(void 0===t?0:t)||this.logger.info("info  = onRoomShutDown = type or errCode === USER_SHUTDOWN_CODE")}else this.logger.info("info  = onRoomShutDown = type or closeReason is null")},t.prototype.onReceiveMsgFromServer=function(e){if((null===e||void 0===e?void 0:e.type)&&Ea(e.data)){var t=e.type,n=e.data;this.logger.info("type:".concat(t,", data:").concat(JSON.stringify(n)));var r=this.msgHandlerMap[t];r&&r(n)}else this.logger.error("error  = onReceiveMsgFromServer, type or receiveData.data is null")},t=d([h(0,i.vx),h(1,i.iq),h(2,i.UQ),g("design:paramtypes",[Object,Object,Object])],t)}(s.Disposable);function za(e){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(e)}!function(e){!function(t){var n="object"===za(E)?E:"object"===("undefined"===typeof self?"undefined":za(self))?self:"object"===za(this)?this:Function("return this;")(),r=o(e);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof n.Reflect?n.Reflect=e:r=o(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",i="function"===typeof Object.create,s={__proto__:[]}instanceof Array,u=!i&&!s,a={create:i?function(){return re(Object.create(null))}:s?function(){return re({__proto__:null})}:function(){return re({})},has:u?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:u?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),f="object"===("undefined"===typeof process?"undefined":za(process))&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=f||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,p=f||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,d=new(f||"function"!==typeof WeakMap?ne():WeakMap);function h(e,t,n,r){if(N(n)){if(!V(e))throw new TypeError;if(!K(t))throw new TypeError;return O(e,t)}if(!V(e))throw new TypeError;if(!U(t))throw new TypeError;if(!U(r)&&!N(r)&&!L(r))throw new TypeError;return L(r)&&(r=void 0),C(e,t,n=Q(n),r)}function g(e,t){function n(n,r){if(!U(n))throw new TypeError;if(!N(r)&&!H(r))throw new TypeError;k(e,t,n,r)}return n}function v(e,t,n,r){if(!U(n))throw new TypeError;return N(r)||(r=Q(r)),k(e,t,n,r)}function y(e,t,n){if(!U(t))throw new TypeError;return N(n)||(n=Q(n)),R(e,t,n)}function m(e,t,n){if(!U(t))throw new TypeError;return N(n)||(n=Q(n)),A(e,t,n)}function b(e,t,n){if(!U(t))throw new TypeError;return N(n)||(n=Q(n)),x(e,t,n)}function _(e,t,n){if(!U(t))throw new TypeError;return N(n)||(n=Q(n)),I(e,t,n)}function E(e,t){if(!U(e))throw new TypeError;return N(t)||(t=Q(t)),M(e,t)}function w(e,t){if(!U(e))throw new TypeError;return N(t)||(t=Q(t)),D(e,t)}function S(e,t,n){if(!U(t))throw new TypeError;N(n)||(n=Q(n));var r=T(t,n,!1);if(N(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=d.get(t);return o.delete(n),o.size>0||d.delete(t),!0}function O(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!N(r)&&!L(r)){if(!K(r))throw new TypeError;t=r}}return t}function C(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!N(i)&&!L(i)){if(!U(i))throw new TypeError;r=i}}return r}function T(e,t,n){var r=d.get(e);if(N(r)){if(!n)return;r=new l,d.set(e,r)}var o=r.get(t);if(N(o)){if(!n)return;o=new l,r.set(t,o)}return o}function R(e,t,n){if(A(e,t,n))return!0;var r=Z(t);return!L(r)&&R(e,r,n)}function A(e,t,n){var r=T(t,n,!1);return!N(r)&&q(r.has(e))}function x(e,t,n){if(A(e,t,n))return I(e,t,n);var r=Z(t);return L(r)?void 0:x(e,r,n)}function I(e,t,n){var r=T(t,n,!1);if(!N(r))return r.get(e)}function k(e,t,n,r){T(n,r,!0).set(e,t)}function M(e,t){var n=D(e,t),r=Z(e);if(null===r)return n;var o=M(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new p,s=[],u=0,a=n;u<a.length;u++){var c=a[u];i.has(c)||(i.add(c),s.push(c))}for(var f=0,l=o;f<l.length;f++)c=l[f],i.has(c)||(i.add(c),s.push(c));return s}function D(e,t){var n=[],r=T(e,t,!1);if(N(r))return n;for(var o=Y(r.keys()),i=0;;){var s=J(o);if(!s)return n.length=i,n;var u=$(s);try{n[i]=u}catch(a){try{X(o)}finally{throw a}}i++}}function P(e){if(null===e)return 1;switch(za(e)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function N(e){return void 0===e}function L(e){return null===e}function j(e){return"symbol"===za(e)}function U(e){return"object"===za(e)?null!==e:"function"===typeof e}function F(e,t){switch(P(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=z(e,r);if(void 0!==o){var i=o.call(e,n);if(U(i))throw new TypeError;return i}return W(e,"default"===n?"number":n)}function W(e,t){if("string"===t){var n=e.toString;if(G(n)&&!U(o=n.call(e)))return o;if(G(r=e.valueOf)&&!U(o=r.call(e)))return o}else{var r;if(G(r=e.valueOf)&&!U(o=r.call(e)))return o;var o,i=e.toString;if(G(i)&&!U(o=i.call(e)))return o}throw new TypeError}function q(e){return!!e}function B(e){return""+e}function Q(e){var t=F(e,3);return j(t)?t:B(t)}function V(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function G(e){return"function"===typeof e}function K(e){return"function"===typeof e}function H(e){switch(P(e)){case 3:case 4:return!0;default:return!1}}function z(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!G(n))throw new TypeError;return n}}function Y(e){var t=z(e,o);if(!G(t))throw new TypeError;var n=t.call(e);if(!U(n))throw new TypeError;return n}function $(e){return e.value}function J(e){var t=e.next();return!t.done&&t}function X(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!==typeof o||o===e?t:o}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function s(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ne(){var e=16,n=a.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&a.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?a.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(a.has(n,e));return n[e]=!0,e}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:a.create()})}return e[r]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function u(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e)}function c(){var t=u(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",h),e("metadata",g),e("defineMetadata",v),e("hasMetadata",y),e("hasOwnMetadata",m),e("getMetadata",b),e("getOwnMetadata",_),e("getMetadataKeys",E),e("getOwnMetadataKeys",w),e("deleteMetadata",S)}(r)}()}(Ka||(Ka={}));var Ya=Symbol.for("swr-decorator:properties");function $a(e,t){var n,r=null!==(n=Reflect.getMetadata(Ya,e))&&void 0!==n?n:[];r.push(t),Reflect.defineMetadata(Ya,r,e)}var Ja=Symbol.for("swr-decorator:fetcherMap");function Xa(e){return function(t,n){var r=Reflect.getMetadata(Ja,t)||new Map;r.set(e,n),Reflect.defineMetadata(Ja,r,t)}}var Za=function(){function e(e,t,n){void 0===n&&(n=!1),this.value=e,this.fetcher=t,this.subscribers=new Set,this.validating=!1,this.firstRequire=!1,this.updatePropertiesOnFirstRequire=n}return e.prototype.getValue=function(){var e=this;return this.updatePropertiesOnFirstRequire&&!this.firstRequire&&(setTimeout((function(){return e.revalidate()}),0),this.firstRequire=!0),this.value},e.prototype.getValueMutate=function(){return this.revalidate(),this.value},e.prototype.setValue=function(e,t){return void 0===t&&(t=!1),this.value=e,t||this.subscribers.forEach((function(t){return t(e)})),!0},e.prototype.addSubscriber=function(e){this.subscribers.add(e)},e.prototype.removeSubscriber=function(e){this.subscribers.delete(e)},e.prototype.isValidating=function(){return this.validating},e.prototype.revalidate=function(){var e=this;this.validating||this.fetcher&&(this.validating=!0,this.fetcher().then((function(t){e.validating=!1,e.setValue(t)})).catch((function(t){throw e.validating=!1,t})))},e}();function ec(e){var t=(null!==e&&void 0!==e?e:{}).updatePropertiesOnFirstRequire;return function(e){var n=new Map;return function(e){function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i,s,u=this;u=e.apply(this,_([],b(r),!1))||this;var a={},c=null!==(i=Reflect.getMetadata(Ja,u))&&void 0!==i?i:new Map,f=null!==(s=Reflect.getMetadata(Ya,u))&&void 0!==s?s:[];return f.forEach((function(e){var r,o=c.get(e),i=null===(r=u[o])||void 0===r?void 0:r.bind(u),s=new Za(u[e],i,t);n.set(e,s),a[e]={get:function(){return s.getValue()},set:function(e){return s.setValue(e),!0}},u[o]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return v(u,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,i.apply(void 0,_([],b(e),!1))];case 1:return t=n.sent(),s.setValue(t),[2,t]}}))}))}})),Object.defineProperties(u,a),u}return l(r,e),r.prototype.isValidating=function(e){var t,r;return null!==(r=null===(t=n.get(e))||void 0===t?void 0:t.isValidating())&&void 0!==r&&r},r.prototype.subscribe=function(e,t){var r;return null===(r=n.get(e))||void 0===r||r.addSubscriber(t),function(){var r;null===(r=n.get(e))||void 0===r||r.removeSubscriber(t)}},r.prototype.mutate=function(e,t,r){var o,i;return void 0===r&&(r=!0),v(this,void 0,void 0,(function(){return y(this,(function(s){return void 0!==t&&(null===(o=n.get(e))||void 0===o||o.setValue(t,!0)),r&&(null===(i=n.get(e))||void 0===i||i.revalidate()),[2]}))}))},r}(e)}}var tc,nc={nick:"nickname",avatar:"avatarURI",uType:"accountType",phone:"phoneNumber",isHasPassword:"enabled",utype:"accountType",uin:"qq"},rc={raw:nc,words:Object.keys(nc)},oc=function e(t,n){var r,o;if(Array.isArray(t))return t.map((function(t){return e(t,n)}));if(!t)return t;var i={};try{for(var s=m(Object.keys(t)),u=s.next();!u.done;u=s.next()){var a=u.value;i[n.words.includes(a)?n.raw[a]:a]=t[a]}}catch(c){r={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i};!function(e){e.SUCCESS="SUCCESS",e.MAIN_SUCCESS_SECOND_FAIL="MAIN_SUCCESS_SECOND_FAIL",e.MAIN_FAIL_SECOND_SUCCESS="MAIN_FAIL_SECOND_SUCCESS",e.FAIL="FAIL",e.NOT_EXIST="NOT_EXIST"}(tc||(tc={}));var ic,sc=function(){function e(e,t){this.accountDomainService=e,this.messageDomainService=t}return e.prototype.getPersonalAccountList=function(){return v(this,void 0,void 0,(function(){var e,t;return y(this,(function(n){switch(n.label){case 0:return e=this,[4,this.getFetchAccountList()];case 1:return e.fetchAccountList=n.sent(),t=this,[4,this.getEnterpriseAccountList()];case 2:return t.enterpriseAccountList=n.sent(),[2,this.mergeAccountList(this.fetchAccountList,this.enterpriseAccountList)]}}))}))},e.prototype.deleteAccountForList=function(e){return v(this,void 0,void 0,(function(){var t,n,r,o,i;return y(this,(function(s){switch(s.label){case 0:return t=e.uid,n=!0,r=!0,o=this.isHasSameTinyID(this.fetchAccountList,t),i=this.isHasSameTinyID(this.enterpriseAccountList,t),o?[4,this.deleteFetchAccountList(e)]:[3,2];case 1:n=s.sent(),s.label=2;case 2:return i?[4,this.deleteEnterpriseAccountList(e)]:[3,4];case 3:r=s.sent(),s.label=4;case 4:return[2,this.changeDeleteAccountState(n,r)]}}))}))},e.prototype.dispose=function(){this.messageDomainService.getEnterpriseAccountListMessage.dispose()},e.prototype.changeDeleteAccountState=function(e,t){return e&&t?tc.SUCCESS:e?tc.MAIN_SUCCESS_SECOND_FAIL:t?tc.MAIN_FAIL_SECOND_SUCCESS:tc.FAIL},e.prototype.deleteFetchAccountList=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return(t=e.userIndex)?[4,this.accountDomainService.accountAggregate.accountListEntity.delAccountForList(t)]:[2,!1];case 1:return[2,n.sent()]}}))}))},e.prototype.mergeAccountList=function(e,t){var n=this;return t.reduce((function(e,t){return n.isHasSameTinyID(e,t.uid)?e:_(_([],b(e),!1),[t],!1)}),e)},e.prototype.isHasSameTinyID=function(e,t){return e.some((function(e){return e.uid===t}))},e.prototype.getFetchAccountList=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.accountDomainService.accountAggregate.accountListEntity.getAccountList()];case 1:return[2,e.sent()]}}))}))},e.prototype.getEnterpriseAccountList=function(){return v(this,void 0,void 0,(function(){var e=this;return y(this,(function(t){switch(t.label){case 0:return this.messageDomainService.getEnterpriseAccountListMessage.connect(),this.getIframeMountMessage(),this.messageDomainService.getEnterpriseAccountListMessage.createGetAccountListIframe((function(){e.messageDomainService.getEnterpriseAccountListMessage.sendAccountListMessage()})),[4,this.getAccountListMessage()];case 1:return[2,t.sent()]}}))}))},e.prototype.deleteEnterpriseAccountList=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return(t=e.cookie)?(this.messageDomainService.getEnterpriseAccountListMessage.sendDeleteAccountMessage(t),[4,this.getDeleteAccountMessage()]):[2,!1];case 1:return[2,n.sent()]}}))}))},e.prototype.getAccountListMessage=function(){var e=this;return new Promise((function(t){e.messageDomainService.getEnterpriseAccountListMessage.getAccountListMessage((function(e){var n=e.data.userList;t(n)}))}))},e.prototype.getDeleteAccountMessage=function(){var e=this;return new Promise((function(t){e.messageDomainService.getEnterpriseAccountListMessage.getDeleteAccountMessage((function(){t(!0)}))}))},e.prototype.getIframeMountMessage=function(){var e=this;return new Promise((function(t){e.messageDomainService.getEnterpriseAccountListMessage.getIframeMountMessage((function(){t(!0),e.messageDomainService.getEnterpriseAccountListMessage.sendAccountListMessage()}))}))},e=d([h(0,i.b$),h(1,i.x5),g("design:paramtypes",[Object,Object])],e)}();function uc(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}!function(e){e.IFRAME_MESSAGE_CONNECTED="IFRAME_MESSAGE_CONNECTED",e.IFRAME_DOM_MOUNTED="IFRAME_DOM_MOUNTED",e.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.ERROR="ERROR"}(ic||(ic={}));var ac,cc="document";function fc(e,t,n){if(uc(hc,cc)){var r=t||"/",o=n?"domain="+n+";":"",i=new Date(0).toUTCString();document.cookie=e+"=;expires="+i+";path="+r+";"+o}}!function(e){e.xsrf="TOK",e.devRouteId="dev_route_id",e.devOaName="dev_oa_name",e.fd="fd",e.envId="env_id",e.sid="SID",e.sids="SID_S",e.uid="uid",e.uidKey="uid_key",e.uin="uin",e.loginTime="loginTime",e.hasBeenLogin="has_been_login",e.adtag="adtag"}(ac||(ac={}));var lc={};function pc(){return"undefined"!==typeof window}function dc(){return"undefined"!==typeof n.g}var hc=pc()?window:dc()?n.g:pc||"undefined"===typeof self?(dc()&&n.g.describe,lc):self,gc="location";function vc(e){if(!uc(hc,gc))return"";var t=new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"),n=(uc(hc,gc)?decodeURIComponent(location.search):"").match(t);return n?decodeURIComponent(n[2]):""}var yc,mc=function(e,t){return"https://xui.ptlogin2.qq.com/cgi-bin/xlogin?theme=2&appid=1600000931&pt_no_auth=1&daid=536&link_target=blank&target=self&hide_close_icon=1&style=20&low_login_enable=".concat(e?1:0,"&low_login_foreced=1&low_login_hour=720&hide_border=1&s_url=").concat(encodeURIComponent(t),"&pt_isdocs=0")},bc="https://".concat(window.location.hostname,"/tim/docs/components/BindQQ.html?type=login"),_c=function(e){return bc+(e?"&autojump=1":"")},Ec=function(){function e(e,t){this.loginDomainService=e,this.messageDomainService=t}return e.prototype.login=function(e,t){var n=this;return this.runLoginProcess(e,t),{dispose:function(){return n.disposeQQLoginIframe()}}},e.prototype.disposeQQLoginIframe=function(){this.messageDomainService.qqMessage.qqLoginMessage.dispose()},e.prototype.loadQQLoginIframe=function(e,t){var n,r;this.messageDomainService.qqMessage.qqLoginMessage.connect(),this.getLoadQQLoginIframeMessage(t),this.messageDomainService.qqMessage.qqLoginMessage.createQQLoginIframe(e.qqPtLoginIframeRenderDom,this.getQQLoginIframeSrc(null===(n=e.isCheckAutoLogin)||void 0===n||n,null!==(r=e.isJumpFromQQClient)&&void 0!==r&&r,e.isJumpFromQQClient?vc("jumpuin"):""))},e.prototype.runLoginProcess=function(e,t){return v(this,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return this.loadQQLoginIframe(e,t),[4,this.getQQLoginSuccessMessage(t)];case 1:return n.sent(),e.disableUserInfoAutoUpdating?(t(ic.LOGIN_SUCCESS,{}),[2]):[4,this.checkQQLogin(t)];case 2:return n.sent(),[2]}}))}))},e.prototype.getQQLoginIframeSrc=function(e,t,n){return n?"".concat(mc(e,_c(t)),"&jumpuin=").concat(n):mc(e,_c(t))},e.prototype.getLoadQQLoginIframeMessage=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){return this.messageDomainService.qqMessage.qqLoginMessage.getQQIframeMessage((function(){e(ic.IFRAME_DOM_MOUNTED)})),[2]}))}))},e.prototype.getQQLoginSuccessMessage=function(e){return v(this,void 0,void 0,(function(){var t=this;return y(this,(function(n){return[2,new Promise((function(n){t.messageDomainService.qqMessage.qqLoginMessage.getQQLoginSuccessMessage((function(){e(ic.USER_HAS_CONFIRMED),n(!0)}))}))]}))}))},e.prototype.checkQQLogin=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,this.loginDomainService.loginAggregate.loginRepository.checkQQLogin()];case 1:return(null===(t=n.sent().resData)||void 0===t?void 0:t.data.userIndex)?(e(ic.LOGIN_SUCCESS,{userIndex:null===t||void 0===t?void 0:t.data.userIndex}),[2]):(e(ic.ERROR,{errorQrQQLoginStatus:ic.LOGIN_SUCCESS}),[2])}}))}))},e=d([h(0,i.CZ),h(1,i.x5),g("design:paramtypes",[Object,Object])],e)}();!function(e){e.IFRAME_MESSAGE_CONNECTED="IFRAME_MESSAGE_CONNECTED",e.IFRAME_DOM_MOUNTED="IFRAME_DOM_MOUNTED",e.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",e.GOT_CHANGE_KEY="GOT_CHANGE_KEY",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.ERROR="ERROR"}(yc||(yc={}));var wc,Sc=function(){function e(e){this.messageDomainService=e}return e.prototype.login=function(e,t){var n=this;return this.loadWeworkLoginIframe(e.weworkLoginIframeRenderDom,e.targetUrl),this.getWeworkLoginSuccessMessage(t),{dispose:function(){return n.dispose()}}},e.prototype.loadWeworkLoginIframe=function(e,t){this.messageDomainService.weworkMessage.weworkLoginMessage.connect(),this.messageDomainService.weworkMessage.weworkLoginMessage.createQQLoginIframe(e,function(e){return"https://".concat(window.location.hostname,"/components/feature/WeworkLogin.html?redirect_uri=").concat(encodeURIComponent(e))}(t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")))},e.prototype.dispose=function(){this.messageDomainService.weworkMessage.weworkLoginMessage.dispose()},e.prototype.getWeworkLoginSuccessMessage=function(e){return v(this,void 0,void 0,(function(){var t=this;return y(this,(function(n){return[2,new Promise((function(n){t.messageDomainService.weworkMessage.weworkLoginMessage.getQQLoginSuccessMessage((function(t){var r=t.data;e(yc.LOGIN_SUCCESS,{userIndex:r.slice(r.indexOf("u=")+2)}),n(r)}))}))]}))}))},e=d([h(0,i.x5),g("design:paramtypes",[Object])],e)}();!function(e){e.CODE_IS_READY="CODE_IS_READY",e.USER_HAS_SCANNED="USER_HAS_SCANNED",e.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.ERROR="ERROR"}(wc||(wc={}));var Oc=function(){function e(e,t){this.messageDomainService=e,this.loginDomainService=t,this.isExpired=!1}return e.prototype.login=function(e){var t=this;return this.runLoginProcess(e),{dispose:function(){return t.dispose()}}},e.prototype.dispose=function(){this.qrTimer&&clearTimeout(this.qrTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.isExpired=!0},e.prototype.runLoginProcess=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,this.getWechatLoginQRcode(e)];case 1:return(t=n.sent())?(this.isExpired=!1,this.runPolling(t,e),this.runQRTimer(e),[2]):[2]}}))}))},e.prototype.getWechatLoginQRcode=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,this.loginDomainService.loginAggregate.loginRepository.getWeChatLogInQRCodeURI()];case 1:return 0===(null===(t=n.sent().resData)||void 0===t?void 0:t.retcode)?(e(wc.CODE_IS_READY,{qrCodeImage:"data:image/png;base64,".concat(t.data.img)}),[2,t.data.checkKey]):(e(wc.ERROR,{errorQrQQLoginStatus:wc.CODE_IS_READY}),[2,""])}}))}))},e.prototype.runPolling=function(e,t){var n=this;this.isExpired||(this.pollingTimer=setTimeout((function(){return v(n,void 0,void 0,(function(){var n,r,o,i,s;return y(this,(function(u){switch(u.label){case 0:return[4,this.loginDomainService.loginAggregate.loginRepository.updateWeChatLoginQRCodeStatus(e)];case 1:return 0!==(null===(n=u.sent().resData)||void 0===n?void 0:n.retcode)?(t(wc.ERROR,{errorQrQQLoginStatus:wc.USER_HAS_SCANNED}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),[2]):(r=null!==(s=null===(i=null===n||void 0===n?void 0:n.data)||void 0===i?void 0:i.status)&&void 0!==s?s:{},o=r.loginScanFlag,r.login?(t(wc.LOGIN_SUCCESS,{userIndex:n.data.userIndex}),clearTimeout(this.qrTimer),clearTimeout(this.pollingTimer),[2]):(o&&t(wc.USER_HAS_SCANNED),clearTimeout(this.pollingTimer),this.runPolling(e,t),[2]))}}))}))}),1e3))},e.prototype.runQRTimer=function(e){var t=this;this.qrTimer=setTimeout((function(){e(wc.CODE_WAS_EXPIRED),t.isExpired=!0,clearTimeout(t.qrTimer)}),58e3)},e=d([h(0,i.x5),h(1,i.CZ),g("design:paramtypes",[Object,Object])],e)}(),Cc=function(){function e(e,t){this.loginDomainService=e,this.messageDomainService=t}return e.prototype.qrQQLogin=function(e,t){return new Ec(this.loginDomainService,this.messageDomainService).login(e,t)},e.prototype.qrWechatLogin=function(e){return new Oc(this.messageDomainService,this.loginDomainService).login(e)},e.prototype.qrWecomLogin=function(e,t){return new Sc(this.messageDomainService).login(e,t)},e=d([h(0,i.CZ),h(1,i.x5),g("design:paramtypes",[Object,Object])],e)}(),Tc="#",Rc="?",Ac="&";function xc(e,t){var n,r=e.split(Rc),o=null===(n=r[1])||void 0===n?void 0:n.split(Ac);if(!o)return e;var i=o;return t.forEach((function(e){o.forEach((function(t){if(0===t.indexOf(e+"=")){var n=i.indexOf(t);i.splice(n,1)}}))})),0===i.length?r[0]:(r[1]=i.join(Ac),r.join(Rc))}function Ic(e,t){if(e.includes(Rc)){var n=e;return Object.keys(t).map((function(e){n=function(e,t,n){var r=e.split(Rc),o=r[1].split(Ac),i=!0,s=new Map;o.forEach((function(e){var t=e.split("=");s.set(t[0],t[1])})),o.some((function(e){0===e.indexOf(t+"=")&&(s.set(t,n),i=!1)})),i&&s.set(t,n);var u=[];return s.forEach((function(e,t){var n=t+"="+e;u.push(n)})),r[1]=u.join(Ac),r.join(Rc)}(n,e,t[e])})),n}return e+"?"+Object.keys(t).map((function(e){return e+"="+t[e]})).join(Ac)}function kc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.split(Rc);if(r.length<2||t.length<1)return e;if(e.includes(Tc)){var o=e.split(Tc);return o[0]=xc(o[0],t),o.join(Tc)}return xc(e,t)}function Mc(e,t){if(Object.keys(t).length<1)return e;if(e.includes(Tc)){var n=e.split(Tc);return n[0]=Ic(n[0],t),n.join(Tc)}return Ic(e,t)}var Dc,Pc=".docs.qq.com",Nc=function(){fc("p_uin","/",Pc),fc("p_skey","/",Pc),fc("p_luin","/",Pc),fc("p_lskey","/",Pc),fc("p_uin","/",".qq.com"),fc("p_skey","/",".qq.com"),fc("p_luin","/",".qq.com"),fc("p_lskey","/",".qq.com"),fc("txdoc_pwd_token","/",Pc)},Lc=function(){function e(e,t){this.accountDomainService=e,this.messageDomainService=t}return e.prototype.switchAccount=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return y(this,(function(o){switch(o.label){case 0:return t=e.cookie,n=e.userIndex,t?[4,this.switchEnterpriseAccount(e)]:(this.switchFetchAccount(n),[2]);case 1:return o.sent(),"ww"===t.uType&&document.location.pathname.indexOf("/desktop")>-1?(window.location.replace("https://doc.weixin.qq.com/home/recent"),[2]):(r="".concat("https://doc.weixin.qq.com/scenario/page-jump-to-c.html?redirect_uri=").concat(encodeURIComponent(this.getNewJumpUrl())),Nc(),(0,u.tencentDocOpenUrlForAll)({url:r,replace:!0,noUserIndex:!0}),[2])}}))}))},e.prototype.switchFetchAccount=function(e){Nc(),(0,u.tencentDocOpenUrlForAll)({url:this.getNewJumpUrl(e),replace:!0,noUserIndex:!0})},e.prototype.switchEnterpriseAccount=function(e){return v(this,void 0,void 0,(function(){var t,n=this;return y(this,(function(r){switch(r.label){case 0:return(t=e.cookie)?(this.messageDomainService.switchEnterpriseAccountMessage.connect(),this.getIframeMountMessage(t),this.messageDomainService.switchEnterpriseAccountMessage.createSwitchEnterpriseAccount((function(){n.messageDomainService.switchEnterpriseAccountMessage.sendSwitchAccountMessage(t)})),[4,this.getSwitchAccountMessage()]):[2,!1];case 1:return r.sent()?[2]:[2,!1]}}))}))},e.prototype.getNewJumpUrl=function(e){var t=location.pathname,n=location.hostname,r=location.search;if(""===(r=kc(r.replace(/&$/gi,""),"hst"))&&e)return"https://".concat(n).concat(t,"?u=").concat(e);if(""===r)return"https://".concat(n).concat(t);var o=r.replace(/(&)*u=([\d\w]+)(\/|\?|#|&|$)/,"");return e?"https://".concat(n).concat(t).concat(o,"&u=").concat(e):"https://".concat(n).concat(t).concat(o)},e.prototype.getIframeMountMessage=function(e){var t=this;return new Promise((function(n){t.messageDomainService.switchEnterpriseAccountMessage.getIframeMountMessage((function(){n(!0),t.messageDomainService.switchEnterpriseAccountMessage.sendSwitchAccountMessage(e)}))}))},e.prototype.getSwitchAccountMessage=function(){var e=this;return new Promise((function(t){e.messageDomainService.switchEnterpriseAccountMessage.getSwitchAccountMessage((function(){t(!0)}))}))},e=d([h(0,i.b$),h(1,i.x5),g("design:paramtypes",[Object,Object])],e)}(),jc=function(){function e(){}return e.prototype.loginSuccessJumpUrl=function(e,t){var n;if(t){var r=/docs\.qq\.com\/desktop(\/)?/i.test(e)?"https://doc.weixin.qq.com/home/recent":e,o=window.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),i="https://doc.weixin.qq.com/v2/user/workwx/login?check_key=".concat(function(e){if(!uc(hc,cc))return null;var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n=document.cookie.match(t);return(n?n[1]:null)||null}("CheckKey"),"&redirect_url=").concat(encodeURIComponent(o));(0,u.tencentDocOpenUrlForAll)({replace:!0,url:i,noUserIndex:!0})}else{var s=Mc(kc(e,"autoshowlogin","u","jumpuin"),((n={})._t=(new Date).getTime(),n));(0,u.tencentDocOpenUrlForAll)({replace:!0,url:s})}},e.prototype.logoutSuccessJumpUrl=function(){var e=kc(window.location.href,"u"),t=Mc(kc(e,"needShowTips"),{needShowTips:1});(0,u.tencentDocOpenUrlForAll)({replace:!0,url:t,noUserIndex:!0})},e}(),Uc=at.isPC||at.isIPad&&!(at.isMiniProgram||at.isTencentDocsApp||at.isWeChat||at.isQQ||at.isTim||at.isWxWork),Fc=function(){function e(e){this.loginDomainService=e}return e.prototype.login=function(e,t){var n=this.loginDomainService.loginAggregate;at.isMiniProgram?n.reloadMiniProgramForDesktop():at.isWeChat?n.jumpToLoginInWechatWebview(e):at.isWxWork?n.jumpToLoginInWeworkWebview(e):Uc?t():n.jumpToLoginInCommonView(e)},e=d([h(0,i.CZ),g("design:paramtypes",[Object])],e)}(),Wc=O((function(e,t){!function(e){function t(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function n(e){return t("Boolean",e)}function r(e){return t("Number",e)}function o(e){return t("String",e)}function i(e){return t("Function",e)}function s(e){return t("Array",e)}function u(e){return t("Date",e)}function a(e){return t("RegExp",e)}function c(e){return t("Object",e)}function f(e){return t("Error",e)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var r in e)if(e.hasOwnProperty(r)){var o=c(e[r]),i=s(e[r]);o||i?n&&(o?(t[r]={},l(e[r],t[r],n-1)):i&&(t[r]=[],l(e[r],t[r],n-1))):t[r]=e[r]}}function p(e){return c(e)?JSON.stringify(e):e}function d(e){return c(e)?e:JSON.parse(e)}var h="undefined"!==typeof h?h:{};"undefined"!==typeof window?h=window:"undefined"!==typeof self&&(h=self);var g=h;function v(e,t,n,r,o){var i=new Date;i.setTime(i.getTime()+(n?864e5*n:2592e6)),g.document&&(document.cookie=e+"="+encodeURIComponent(p(t))+";expires="+i.toGMTString()+";path="+(r||"/")+";"+(o?"domain="+o+";":""))}function y(e,t,n){var r=new Date(0);g.document&&(document.cookie=e+"=;expires="+r.toUTCString()+";path="+(t||"/")+";"+(n?"domain="+n+";":""))}function m(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n="";return g.document&&(n=g.document.cookie.match(t)),(n?n[1]:"")||null}function b(e,t){if(e){var n=t,r=u(e)?e:new Date(e),o={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours()%12===0?12:r.getHours()%12,"H+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()},i={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};for(var s in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,String(r.getFullYear()).substr(4-RegExp.$1.length))),/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+i[String(r.getDay())])),o)new RegExp("("+s+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?o[s]:("00"+o[s]).substr(String(o[s]).length)));return n}}function _(e,t){var n=p(t);"undefined"!==typeof g.Storage?localStorage.setItem(e,n):v(e,n)}function E(e){return"undefined"!==typeof g.Storage?localStorage.getItem(e):m(e)}function w(e){"undefined"!==typeof g.Storage?delete localStorage[e]:y(e)}function S(e){if(g.document){var t=document.createElement("iframe");t.src=e,t.height=0,t.width=0,t.style.cssText="display: none",document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t),t=null}),2e3)}}function O(e){return e&&0!==e.length?e.replace(/&/g,"&#38;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br>"):""}function C(e){return 0===e.length?"":e.replace(/&#38;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/&nbsp;/g," ").replace(/<br>/g,"\n")}var T={_getHash:function(){return g.location.hash},_getSearch:function(){return g.location.search}};function R(e){var t="";return g.location&&(t=T._getHash().match(new RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}function A(e){var t="";return g.location&&(t=T._getSearch().match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}function x(e){var t="",n=g.location;return n&&(t=T._getSearch().match(new RegExp("(\\?|#|&)"+e+"=([^&]*)(#|&|$)"))),!t&&n&&(t=T._getHash().match(new RegExp("(#|&)"+e+"=([^&#]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}e.extend=l,e.setCookie=v,e.delCookie=y,e.getCookie=m,e.formatDate=b,e.setItem=_,e.getItem=E,e.delItem=w,e.callApi=S,e.encodeHTML=O,e.decodeHTML=C,e.isType=t,e.isBoolean=n,e.isNumber=r,e.isString=o,e.isFunction=i,e.isArray=s,e.isDate=u,e.isRegExp=a,e.isObject=c,e.isError=f,e.getHash=R,e.getUrlParam=x,e.getQuery=A,e._stringify=p,e._parse=d,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),qc="undefined"!==typeof Symbol&&Symbol,Bc="Function.prototype.bind called on incompatible ",Qc=Array.prototype.slice,Vc=Object.prototype.toString,Gc="[object Function]",Kc=Function.prototype.bind||function(e){var t=this;if("function"!==typeof t||Vc.call(t)!==Gc)throw new TypeError(Bc+t);for(var n,r=Qc.call(arguments,1),o=function(){if(this instanceof n){var o=t.apply(this,r.concat(Qc.call(arguments)));return Object(o)===o?o:this}return t.apply(e,r.concat(Qc.call(arguments)))},i=Math.max(0,t.length-r.length),s=[],u=0;u<i;u++)s.push("$"+u);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var a=function(){};a.prototype=t.prototype,n.prototype=new a,a.prototype=null}return n},Hc=Kc.call(Function.call,Object.prototype.hasOwnProperty),zc=SyntaxError,Yc=Function,$c=TypeError,Jc=function(e){try{return Yc('"use strict"; return ('+e+").constructor;")()}catch(t){}},Xc=Object.getOwnPropertyDescriptor;if(Xc)try{Xc({},"")}catch(_p){Xc=null}var Zc=function(){throw new $c},ef=Xc?function(){try{return Zc}catch(e){try{return Xc(arguments,"callee").get}catch(t){return Zc}}}():Zc,tf="function"===typeof qc&&"function"===typeof Symbol&&"symbol"===typeof qc("foo")&&"symbol"===typeof Symbol("bar")&&function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}(),nf=Object.getPrototypeOf||function(e){return e.__proto__},rf={},of="undefined"===typeof Uint8Array?Dc:nf(Uint8Array),sf={"%AggregateError%":"undefined"===typeof AggregateError?Dc:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?Dc:ArrayBuffer,"%ArrayIteratorPrototype%":tf?nf([][Symbol.iterator]()):Dc,"%AsyncFromSyncIteratorPrototype%":Dc,"%AsyncFunction%":rf,"%AsyncGenerator%":rf,"%AsyncGeneratorFunction%":rf,"%AsyncIteratorPrototype%":rf,"%Atomics%":"undefined"===typeof Atomics?Dc:Atomics,"%BigInt%":"undefined"===typeof BigInt?Dc:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?Dc:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?Dc:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?Dc:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?Dc:FinalizationRegistry,"%Function%":Yc,"%GeneratorFunction%":rf,"%Int8Array%":"undefined"===typeof Int8Array?Dc:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?Dc:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?Dc:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tf?nf(nf([][Symbol.iterator]())):Dc,"%JSON%":"object"===typeof JSON?JSON:Dc,"%Map%":"undefined"===typeof Map?Dc:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&tf?nf((new Map)[Symbol.iterator]()):Dc,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?Dc:Promise,"%Proxy%":"undefined"===typeof Proxy?Dc:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?Dc:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?Dc:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&tf?nf((new Set)[Symbol.iterator]()):Dc,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?Dc:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tf?nf(""[Symbol.iterator]()):Dc,"%Symbol%":tf?Symbol:Dc,"%SyntaxError%":zc,"%ThrowTypeError%":ef,"%TypedArray%":of,"%TypeError%":$c,"%Uint8Array%":"undefined"===typeof Uint8Array?Dc:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?Dc:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?Dc:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?Dc:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?Dc:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?Dc:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?Dc:WeakSet},uf=function e(t){var n;if("%AsyncFunction%"===t)n=Jc("async function () {}");else if("%GeneratorFunction%"===t)n=Jc("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=Jc("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=nf(o.prototype))}return sf[t]=n,n},af={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cf=Kc.call(Function.call,Array.prototype.concat),ff=Kc.call(Function.apply,Array.prototype.splice),lf=Kc.call(Function.call,String.prototype.replace),pf=Kc.call(Function.call,String.prototype.slice),df=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,hf=/\\(\\)?/g,gf=function(e){var t=pf(e,0,1),n=pf(e,-1);if("%"===t&&"%"!==n)throw new zc("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new zc("invalid intrinsic syntax, expected opening `%`");var r=[];return lf(e,df,(function(e,t,n,o){r[r.length]=n?lf(o,hf,"$1"):t||e})),r},vf=function(e,t){var n,r=e;if(Hc(af,r)&&(r="%"+(n=af[r])[0]+"%"),Hc(sf,r)){var o=sf[r];if(o===rf&&(o=uf(r)),"undefined"===typeof o&&!t)throw new $c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new zc("intrinsic "+e+" does not exist!")},yf=function(e,t){if("string"!==typeof e||0===e.length)throw new $c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new $c('"allowMissing" argument must be a boolean');var n=gf(e),r=n.length>0?n[0]:"",o=vf("%"+r+"%",t),i=o.name,s=o.value,u=!1,a=o.alias;a&&(r=a[0],ff(n,cf([0,1],a)));for(var c=1,f=!0;c<n.length;c+=1){var l=n[c],p=pf(l,0,1),d=pf(l,-1);if(('"'===p||"'"===p||"`"===p||'"'===d||"'"===d||"`"===d)&&p!==d)throw new zc("property names with quotes must have matching quotes");if("constructor"!==l&&f||(u=!0),Hc(sf,i="%"+(r+="."+l)+"%"))s=sf[i];else if(null!=s){if(!(l in s)){if(!t)throw new $c("base intrinsic for "+e+" exists, but the property is not available.");return}if(Xc&&c+1>=n.length){var h=Xc(s,l);s=(f=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:s[l]}else f=Hc(s,l),s=s[l];f&&!u&&(sf[i]=s)}}return s},mf=O((function(e){var t=yf("%Function.prototype.apply%"),n=yf("%Function.prototype.call%"),r=yf("%Reflect.apply%",!0)||Kc.call(n,t),o=yf("%Object.getOwnPropertyDescriptor%",!0),i=yf("%Object.defineProperty%",!0),s=yf("%Math.max%");if(i)try{i({},"a",{value:1})}catch(_p){i=null}e.exports=function(e){var t=r(Kc,n,arguments);if(o&&i){var u=o(t,"length");u.configurable&&i(t,"length",{value:1+s(0,e.length-(arguments.length-1))})}return t};var u=function(){return r(Kc,t,arguments)};i?i(e.exports,"apply",{value:u}):e.exports.apply=u})),bf=mf(yf("String.prototype.indexOf")),_f=function(e,t){var n=yf(e,!!t);return"function"===typeof n&&bf(e,".prototype.")>-1?mf(n):n},Ef=S(Object.freeze({__proto__:null,default:{}})),wf="function"===typeof Map&&Map.prototype,Sf=Object.getOwnPropertyDescriptor&&wf?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Of=wf&&Sf&&"function"===typeof Sf.get?Sf.get:null,Cf=wf&&Map.prototype.forEach,Tf="function"===typeof Set&&Set.prototype,Rf=Object.getOwnPropertyDescriptor&&Tf?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Af=Tf&&Rf&&"function"===typeof Rf.get?Rf.get:null,xf=Tf&&Set.prototype.forEach,If="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,kf="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Mf="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Df=Boolean.prototype.valueOf,Pf=Object.prototype.toString,Nf=Function.prototype.toString,Lf=String.prototype.match,jf=String.prototype.slice,Uf=String.prototype.replace,Ff=String.prototype.toUpperCase,Wf=String.prototype.toLowerCase,qf=RegExp.prototype.test,Bf=Array.prototype.concat,Qf=Array.prototype.join,Vf=Array.prototype.slice,Gf=Math.floor,Kf="function"===typeof BigInt?BigInt.prototype.valueOf:null,Hf=Object.getOwnPropertySymbols,zf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,Yf="function"===typeof Symbol&&"object"===typeof Symbol.iterator,$f="function"===typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,Jf=Object.prototype.propertyIsEnumerable,Xf=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Zf(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||qf.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-Gf(-e):Gf(e);if(r!==e){var o=String(r),i=jf.call(t,o.length+1);return Uf.call(o,n,"$&_")+"."+Uf.call(Uf.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Uf.call(t,n,"$&_")}var el=Ef.custom,tl=el&&il(el)?el:null;function nl(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function rl(e){return Uf.call(String(e),/"/g,"&quot;")}function ol(e){return"[object Array]"===al(e)&&(!$f||!("object"===typeof e&&$f in e))}function il(e){if(Yf)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!zf)return!1;try{return zf.call(e),!0}catch(_p){}return!1}var sl=Object.prototype.hasOwnProperty||function(e){return e in this};function ul(e,t){return sl.call(e,t)}function al(e){return Pf.call(e)}function cl(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function fl(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return fl(jf.call(e,0,t.maxStringLength),t)+r}return nl(Uf.call(Uf.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ll),"single",t)}function ll(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Ff.call(t.toString(16))}function pl(e){return"Object("+e+")"}function dl(e){return e+" { ? }"}function hl(e,t,n,r){return e+" ("+t+") {"+(r?gl(n,r):Qf.call(n,", "))+"}"}function gl(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+Qf.call(e,","+n)+"\n"+t.prev}function vl(e,t){var n=ol(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=ul(e,o)?t(e[o],e):""}var i,s="function"===typeof Hf?Hf(e):[];if(Yf){i={};for(var u=0;u<s.length;u++)i["$"+s[u]]=s[u]}for(var a in e)ul(e,a)&&(n&&String(Number(a))===a&&a<e.length||Yf&&i["$"+a]instanceof Symbol||(qf.call(/[^\w$]/,a)?r.push(t(a,e)+": "+t(e[a],e)):r.push(a+": "+t(e[a],e))));if("function"===typeof Hf)for(var c=0;c<s.length;c++)Jf.call(e,s[c])&&r.push("["+t(s[c])+"]: "+t(e[s[c]],e));return r}var yl,ml=function e(t,n,r,o){var i=n||{};if(ul(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ul(i,"maxStringLength")&&("number"===typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!ul(i,"customInspect")||i.customInspect;if("boolean"!==typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ul(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ul(i,"numericSeparator")&&"boolean"!==typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=i.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return fl(t,i);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var a=String(t);return u?Zf(t,a):a}if("bigint"===typeof t){var c=String(t)+"n";return u?Zf(t,c):c}var f="undefined"===typeof i.depth?5:i.depth;if("undefined"===typeof r&&(r=0),r>=f&&f>0&&"object"===typeof t)return ol(t)?"[Array]":"[Object]";var l,p=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=Qf.call(Array(e.indent+1)," ")}return{base:n,prev:Qf.call(Array(t+1),n)}}(i,r);if("undefined"===typeof o)o=[];else if(cl(o,t)>=0)return"[Circular]";function d(t,n,s){if(n&&(o=Vf.call(o)).push(n),s){var u={depth:i.depth};return ul(i,"quoteStyle")&&(u.quoteStyle=i.quoteStyle),e(t,u,r+1,o)}return e(t,i,r+1,o)}if("function"===typeof t){var h=function(e){if(e.name)return e.name;var t=Lf.call(Nf.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),g=vl(t,d);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(g.length>0?" { "+Qf.call(g,", ")+" }":"")}if(il(t)){var v=Yf?Uf.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):zf.call(t);return"object"!==typeof t||Yf?v:pl(v)}if((l=t)&&"object"===typeof l&&("undefined"!==typeof HTMLElement&&l instanceof HTMLElement||"string"===typeof l.nodeName&&"function"===typeof l.getAttribute)){for(var y="<"+Wf.call(String(t.nodeName)),m=t.attributes||[],b=0;b<m.length;b++)y+=" "+m[b].name+"="+nl(rl(m[b].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+Wf.call(String(t.nodeName))+">"}if(ol(t)){if(0===t.length)return"[]";var _=vl(t,d);return p&&!function(e){for(var t=0;t<e.length;t++)if(cl(e[t],"\n")>=0)return!1;return!0}(_)?"["+gl(_,p)+"]":"[ "+Qf.call(_,", ")+" ]"}if(function(e){return"[object Error]"===al(e)&&(!$f||!("object"===typeof e&&$f in e))}(t)){var E=vl(t,d);return"cause"in t&&!Jf.call(t,"cause")?"{ ["+String(t)+"] "+Qf.call(Bf.call("[cause]: "+d(t.cause),E),", ")+" }":0===E.length?"["+String(t)+"]":"{ ["+String(t)+"] "+Qf.call(E,", ")+" }"}if("object"===typeof t&&s){if(tl&&"function"===typeof t[tl])return t[tl]();if("symbol"!==s&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!Of||!e||"object"!==typeof e)return!1;try{Of.call(e);try{Af.call(e)}catch(y){return!0}return e instanceof Map}catch(_p){}return!1}(t)){var w=[];return Cf.call(t,(function(e,n){w.push(d(n,t,!0)+" => "+d(e,t))})),hl("Map",Of.call(t),w,p)}if(function(e){if(!Af||!e||"object"!==typeof e)return!1;try{Af.call(e);try{Of.call(e)}catch(t){return!0}return e instanceof Set}catch(_p){}return!1}(t)){var S=[];return xf.call(t,(function(e){S.push(d(e,t))})),hl("Set",Af.call(t),S,p)}if(function(e){if(!If||!e||"object"!==typeof e)return!1;try{If.call(e,If);try{kf.call(e,kf)}catch(y){return!0}return e instanceof WeakMap}catch(_p){}return!1}(t))return dl("WeakMap");if(function(e){if(!kf||!e||"object"!==typeof e)return!1;try{kf.call(e,kf);try{If.call(e,If)}catch(y){return!0}return e instanceof WeakSet}catch(_p){}return!1}(t))return dl("WeakSet");if(function(e){if(!Mf||!e||"object"!==typeof e)return!1;try{return Mf.call(e),!0}catch(_p){}return!1}(t))return dl("WeakRef");if(function(e){return"[object Number]"===al(e)&&(!$f||!("object"===typeof e&&$f in e))}(t))return pl(d(Number(t)));if(function(e){if(!e||"object"!==typeof e||!Kf)return!1;try{return Kf.call(e),!0}catch(_p){}return!1}(t))return pl(d(Kf.call(t)));if(function(e){return"[object Boolean]"===al(e)&&(!$f||!("object"===typeof e&&$f in e))}(t))return pl(Df.call(t));if(function(e){return"[object String]"===al(e)&&(!$f||!("object"===typeof e&&$f in e))}(t))return pl(d(String(t)));if(!function(e){return"[object Date]"===al(e)&&(!$f||!("object"===typeof e&&$f in e))}(t)&&!function(e){return"[object RegExp]"===al(e)&&(!$f||!("object"===typeof e&&$f in e))}(t)){var O=vl(t,d),C=Xf?Xf(t)===Object.prototype:t instanceof Object||t.constructor===Object,T=t instanceof Object?"":"null prototype",R=!C&&$f&&Object(t)===t&&$f in t?jf.call(al(t),8,-1):T?"Object":"",A=(C||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(R||T?"["+Qf.call(Bf.call([],R||[],T||[]),": ")+"] ":"");return 0===O.length?A+"{}":p?A+"{"+gl(O,p)+"}":A+"{ "+Qf.call(O,", ")+" }"}return String(t)},bl=yf("%TypeError%"),_l=yf("%WeakMap%",!0),El=yf("%Map%",!0),wl=_f("WeakMap.prototype.get",!0),Sl=_f("WeakMap.prototype.set",!0),Ol=_f("WeakMap.prototype.has",!0),Cl=_f("Map.prototype.get",!0),Tl=_f("Map.prototype.set",!0),Rl=_f("Map.prototype.has",!0),Al=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},xl=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new bl("Side channel does not contain "+ml(e))},get:function(r){if(_l&&r&&("object"===typeof r||"function"===typeof r)){if(e)return wl(e,r)}else if(El){if(t)return Cl(t,r)}else if(n)return function(e,t){var n=Al(e,t);return n&&n.value}(n,r)},has:function(r){if(_l&&r&&("object"===typeof r||"function"===typeof r)){if(e)return Ol(e,r)}else if(El){if(t)return Rl(t,r)}else if(n)return function(e,t){return!!Al(e,t)}(n,r);return!1},set:function(r,o){_l&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new _l),Sl(e,r,o)):El?(t||(t=new El),Tl(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=Al(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r},Il=String.prototype.replace,kl=/%20/g,Ml="RFC3986",Dl={default:Ml,formatters:{RFC1738:function(e){return Il.call(e,kl,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Ml},Pl=Object.prototype.hasOwnProperty,Nl=Array.isArray,Ll=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),jl=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},Ul={arrayToObject:jl,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],s=Object.keys(i),u=0;u<s.length;++u){var a=s[u],c=i[a];"object"===typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:i,prop:a}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Nl(n)){for(var r=[],o=0;o<n.length;++o)"undefined"!==typeof n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(_p){return r}},encode:function(e,t,n,r,o){if(0===e.length)return e;var i=e;if("symbol"===typeof e?i=Symbol.prototype.toString.call(e):"string"!==typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",u=0;u<i.length;++u){var a=i.charCodeAt(u);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||o===Dl.RFC1738&&(40===a||41===a)?s+=i.charAt(u):a<128?s+=Ll[a]:a<2048?s+=Ll[192|a>>6]+Ll[128|63&a]:a<55296||a>=57344?s+=Ll[224|a>>12]+Ll[128|a>>6&63]+Ll[128|63&a]:(u+=1,a=65536+((1023&a)<<10|1023&i.charCodeAt(u)),s+=Ll[240|a>>18]+Ll[128|a>>12&63]+Ll[128|a>>6&63]+Ll[128|63&a])}return s},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Nl(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(Nl(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!Pl.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var o=t;return Nl(t)&&!Nl(n)&&(o=jl(t,r)),Nl(t)&&Nl(n)?(n.forEach((function(n,o){if(Pl.call(t,o)){var i=t[o];i&&"object"===typeof i&&n&&"object"===typeof n?t[o]=e(i,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var i=n[o];return Pl.call(t,o)?t[o]=e(t[o],i,r):t[o]=i,t}),o)}},Fl=Object.prototype.hasOwnProperty,Wl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ql=Array.isArray,Bl=String.prototype.split,Ql=Array.prototype.push,Vl=function(e,t){Ql.apply(e,ql(t)?t:[t])},Gl=Date.prototype.toISOString,Kl=Dl.default,Hl={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ul.encode,encodeValuesOnly:!1,format:Kl,formatter:Dl.formatters[Kl],indices:!1,serializeDate:function(e){return Gl.call(e)},skipNulls:!1,strictNullHandling:!1},zl={},Yl=function e(t,n,r,o,i,s,u,a,c,f,l,p,d,h,g){for(var v,y=t,m=g,b=0,_=!1;void 0!==(m=m.get(zl))&&!_;){var E=m.get(t);if(b+=1,"undefined"!==typeof E){if(E===b)throw new RangeError("Cyclic object value");_=!0}"undefined"===typeof m.get(zl)&&(b=0)}if("function"===typeof u?y=u(n,y):y instanceof Date?y=f(y):"comma"===r&&ql(y)&&(y=Ul.maybeMap(y,(function(e){return e instanceof Date?f(e):e}))),null===y){if(o)return s&&!d?s(n,Hl.encoder,h,"key",l):n;y=""}if("string"===typeof(v=y)||"number"===typeof v||"boolean"===typeof v||"symbol"===typeof v||"bigint"===typeof v||Ul.isBuffer(y)){if(s){var w=d?n:s(n,Hl.encoder,h,"key",l);if("comma"===r&&d){for(var S=Bl.call(String(y),","),O="",C=0;C<S.length;++C)O+=(0===C?"":",")+p(s(S[C],Hl.encoder,h,"value",l));return[p(w)+"="+O]}return[p(w)+"="+p(s(y,Hl.encoder,h,"value",l))]}return[p(n)+"="+p(String(y))]}var T,R=[];if("undefined"===typeof y)return R;if("comma"===r&&ql(y))T=[{value:y.length>0?y.join(",")||null:void 0}];else if(ql(u))T=u;else{var A=Object.keys(y);T=a?A.sort(a):A}for(var x=0;x<T.length;++x){var I=T[x],k="object"===typeof I&&"undefined"!==typeof I.value?I.value:y[I];if(!i||null!==k){var M=ql(y)?"function"===typeof r?r(n,I):n:n+(c?"."+I:"["+I+"]");g.set(t,b);var D=xl();D.set(zl,g),Vl(R,e(k,M,r,o,i,s,u,a,c,f,l,p,d,h,D))}}return R},$l=Object.prototype.hasOwnProperty,Jl=Array.isArray,Xl={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ul.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Zl=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},ep=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},tp=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,a=[];if(u){if(!n.plainObjects&&$l.call(Object.prototype,u)&&!n.allowPrototypes)return;a.push(u)}for(var c=0;n.depth>0&&null!==(s=i.exec(o))&&c<n.depth;){if(c+=1,!n.plainObjects&&$l.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;a.push(s[1])}return s&&a.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var o=r?t:ep(t,n),i=e.length-1;i>=0;--i){var s,u=e[i];if("[]"===u&&n.parseArrays)s=[].concat(o);else{s=n.plainObjects?Object.create(null):{};var a="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,c=parseInt(a,10);n.parseArrays||""!==a?!isNaN(c)&&u!==a&&String(c)===a&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(s=[])[c]=o:"__proto__"!==a&&(s[a]=o):s={0:o}}o=s}return o}(a,t,n,r)}},np={formats:Dl,parse:function(e,t){var n=function(e){if(!e)return Xl;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?Xl.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?Xl.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:Xl.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:Xl.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:Xl.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:Xl.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:Xl.comma,decoder:"function"===typeof e.decoder?e.decoder:Xl.decoder,delimiter:"string"===typeof e.delimiter||Ul.isRegExp(e.delimiter)?e.delimiter:Xl.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:Xl.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:Xl.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:Xl.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:Xl.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:Xl.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var r="string"===typeof e?function(e,t){var n,r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,s=o.split(t.delimiter,i),u=-1,a=t.charset;if(t.charsetSentinel)for(n=0;n<s.length;++n)0===s[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[n]?a="utf-8":"utf8=%26%2310003%3B"===s[n]&&(a="iso-8859-1"),u=n,n=s.length);for(n=0;n<s.length;++n)if(n!==u){var c,f,l=s[n],p=l.indexOf("]="),d=-1===p?l.indexOf("="):p+1;-1===d?(c=t.decoder(l,Xl.decoder,a,"key"),f=t.strictNullHandling?null:""):(c=t.decoder(l.slice(0,d),Xl.decoder,a,"key"),f=Ul.maybeMap(ep(l.slice(d+1),t),(function(e){return t.decoder(e,Xl.decoder,a,"value")}))),f&&t.interpretNumericEntities&&"iso-8859-1"===a&&(f=Zl(f)),l.indexOf("[]=")>-1&&(f=Jl(f)?[f]:f),$l.call(r,c)?r[c]=Ul.combine(r[c],f):r[c]=f}return r}(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),s=0;s<i.length;++s){var u=i[s],a=tp(u,r[u],n,"string"===typeof e);o=Ul.merge(o,a,n)}return!0===n.allowSparse?o:Ul.compact(o)},stringify:function(e,t){var n,r=e,o=function(e){if(!e)return Hl;if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Hl.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Dl.default;if("undefined"!==typeof e.format){if(!Fl.call(Dl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Dl.formatters[n],o=Hl.filter;return("function"===typeof e.filter||ql(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:Hl.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?Hl.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:Hl.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?Hl.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:Hl.encode,encoder:"function"===typeof e.encoder?e.encoder:Hl.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:Hl.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:Hl.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:Hl.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:Hl.strictNullHandling}}(t);"function"===typeof o.filter?r=(0,o.filter)("",r):ql(o.filter)&&(n=o.filter);var i,s=[];if("object"!==typeof r||null===r)return"";i=t&&t.arrayFormat in Wl?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var u=Wl[i];n||(n=Object.keys(r)),o.sort&&n.sort(o.sort);for(var a=xl(),c=0;c<n.length;++c){var f=n[c];o.skipNulls&&null===r[f]||Vl(s,Yl(r[f],f,u,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,a))}var l=s.join(o.delimiter),p=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),l.length>0?p+l:""}},rp=O((function(e,t){var n,r;window,e.exports=(n=Wc,r=np,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=42)}([function(e,t){e.exports=n},function(e,t,n){var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.DOC_SID="DOC_SID",e.SID="SID",e.UID="uid",e.UID_KEY="uid_key",e.USER_TYPE="utype"}(r||(r={})),function(e){e.P_LONG_UIN="p_luin",e.P_LONG_SKEY="p_lskey",e.P_UIN="p_uin",e.P_SKEY="p_skey"}(o||(o={}))},function(e,t,n){e.exports=n(22)},function(e,t,n){var r=n(11),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function s(e){return void 0===e}function u(e){return"[object ArrayBuffer]"===o.call(e)}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function f(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:f,isStream:function(e){return a(e)&&f(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){n.r(t),n.d(t,"getUid",(function(){return i})),n.d(t,"getNowUserId",(function(){return s})),n.d(t,"isLogin",(function(){return u})),n.d(t,"getSid",(function(){return a})),n.d(t,"loginType",(function(){return c})),n.d(t,"checkWeWork",(function(){return f}));var r=n(0),o=n(1);function i(){var e,t,n;return(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||(null===(n=null===(t=window.clientVars)||void 0===t?void 0:t.userInfo)||void 0===n?void 0:n.uid)||Object(r.getCookie)("uid")}function s(){return window.nowUserIndex||i()}function u(){return!!(Object(r.getCookie)(o.b.UID)&&Object(r.getCookie)(o.b.UID_KEY)||Object(r.getCookie)(o.b.DOC_SID)||Object(r.getCookie)(o.b.SID)||Object(r.getCookie)(o.a.P_UIN)&&Object(r.getCookie)(o.a.P_SKEY)||Object(r.getCookie)(o.a.P_LONG_UIN)&&Object(r.getCookie)(o.a.P_LONG_SKEY))}function a(){var e,t;return null!==(t=null!==(e=Object(r.getCookie)(o.b.DOC_SID))&&void 0!==e?e:Object(r.getCookie)(o.b.SID))&&void 0!==t?t:""}function c(){var e,t=Object(r.getCookie)(o.b.USER_TYPE);return(null===(e=window.global_multi_user)||void 0===e?void 0:e.utype)||t}function f(){return"ww"===c()}},function(e,t,n){(function(t){var r=n(3),o=n(30),i=n(13),s={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(a=n(14)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c}).call(this,n(29))},function(e,t,n){function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){(function(t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=73)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(18)("wks"),o=n(17),i=n(0).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(0),o=n(15),i=n(11),s=n(12),u=n(19),a=function(e,t,n){var c,f,l,p,d=e&a.F,h=e&a.G,g=e&a.S,v=e&a.P,y=e&a.B,m=h?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});for(c in h&&(n=t),n)l=((f=!d&&m&&void 0!==m[c])?m:n)[c],p=y&&f?u(l,r):v&&"function"==typeof l?u(Function.call,l):l,m&&s(m,c,l,e&a.U),b[c]!=l&&i(b,c,p),v&&_[c]!=l&&(_[c]=l)};r.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var r=n(2),o=n(24),i=n(16),s=Object.defineProperty;t.f=n(1)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(14),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(7),o=n(26);e.exports=n(1)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0),o=n(11),i=n(13),s=n(17)("src"),u=n(45),a=(""+u).split("toString");n(15).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,s)||o(n,s,e[t]?""+e[t]:a.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||u.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(15),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(46)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(27);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(8);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(31),o=n(8);e.exports=function(e){return r(o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r,o,i=n(40),s=RegExp.prototype.exec,u=String.prototype.replace,a=s,c=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=void 0!==/()??/.exec("")[1];(c||f)&&(a=function(e){var t,n,r,o,a=this;return f&&(n=new RegExp("^"+a.source+"$(?!\\s)",i.call(a))),c&&(t=a.lastIndex),r=s.call(a,e),c&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=a},function(e,t,n){e.exports=!n(1)&&!n(3)((function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(4)("unscopables"),o=Array.prototype;null==o[r]&&n(11)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(19),o=n(31),i=n(20),s=n(9),u=n(50);e.exports=function(e,t){var n=1==e,a=2==e,c=3==e,f=4==e,l=6==e,p=5==e||l,d=t||u;return function(t,u,h){for(var g,v,y=i(t),m=o(y),b=r(u,h,3),_=s(m.length),E=0,w=n?d(t,_):a?d(t,0):void 0;_>E;E++)if((p||E in m)&&(v=b(g=m[E],E,y),e))if(n)w[E]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:w.push(g)}else if(f)return!1;return l?-1:c||f?f:w}}},function(e,t,n){var r=n(10);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(5),o=n(54).set;e.exports=function(e,t,n){var i,s=t.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(55),o=n(26),i=n(21),s=n(16),u=n(13),a=n(24),c=Object.getOwnPropertyDescriptor;t.f=n(1)?c:function(e,t){if(e=i(e),t=s(t,!0),a)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(35),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(13),o=n(21),i=n(56)(!1),s=n(36)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),a=0,c=[];for(n in u)n!=s&&r(u,n)&&c.push(n);for(;t.length>a;)r(u,n=t[a++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(18)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(5),o=n(10),i=n(4)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(65)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(66),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(67);var r=n(12),o=n(11),i=n(3),s=n(8),u=n(4),a=n(23),c=u("species"),f=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=u(e),d=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!t})):void 0;if(!d||!h||"replace"===e&&!f||"split"===e&&!l){var g=/./[p],v=n(s,p,""[e],(function(e,t,n,r,o){return t.exec===a?d&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=v[0],m=v[1];r(String.prototype,e,y),o(RegExp.prototype,p,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(6);r(r.S+r.F*!n(1),"Object",{defineProperty:n(7).f})},function(e,t,n){e.exports=n(18)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(6);r(r.P,"Array",{fill:n(48)}),n(29)("fill")},function(e,t,n){var r=n(20),o=n(28),i=n(9);e.exports=function(e){for(var t=r(this),n=i(t.length),s=arguments.length,u=o(s>1?arguments[1]:void 0,n),a=s>2?arguments[2]:void 0,c=void 0===a?n:o(a,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(6),o=n(30)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(29)("find")},function(e,t,n){var r=n(51);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(5),o=n(52),i=n(4)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(10);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=n(13),i=n(10),s=n(32),u=n(16),a=n(3),c=n(34).f,f=n(33).f,l=n(7).f,p=n(57).trim,d=r.Number,h=d,g=d.prototype,v="Number"==i(n(59)(g)),y="trim"in String.prototype,m=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=y?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var s,a=t.slice(2),c=0,f=a.length;c<f;c++)if((s=a.charCodeAt(c))<48||s>o)return NaN;return parseInt(a,r)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(v?a((function(){g.valueOf.call(n)})):"Number"!=i(n))?s(new h(m(t)),n,d):m(t)};for(var b,_=n(1)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;_.length>E;E++)o(h,b=_[E])&&!o(d,b)&&l(d,b,f(h,b));d.prototype=g,g.constructor=d,n(12)(r,"Number",d)}},function(e,t,n){var r=n(5),o=n(2),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(19)(Function.call,n(33).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(21),o=n(9),i=n(28);e.exports=function(e){return function(t,n,s){var u,a=r(t),c=o(a.length),f=i(s,c);if(e&&n!=n){for(;c>f;)if((u=a[f++])!=u)return!0}else for(;c>f;f++)if((e||f in a)&&a[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(6),o=n(8),i=n(3),s=n(58),u="["+s+"]",a=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(e,t,n){var o={},u=i((function(){return!!s[e]()||"​"!="​"[e]()})),a=o[e]=u?t(l):s[e];n&&(o[n]=a),r(r.P+r.F*u,"String",o)},l=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(60),i=n(22),s=n(36)("IE_PROTO"),u=function(){},a=function(){var e,t=n(25)("iframe"),r=i.length;for(t.style.display="none",n(62).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),a=e.F;r--;)delete a.prototype[i[r]];return a()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[s]=e):n=a(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(7),o=n(2),i=n(61);e.exports=n(1)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),u=s.length,a=0;u>a;)r.f(e,n=s[a++],t[n]);return e}},function(e,t,n){var r=n(35),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(37),o=n(2),i=n(64),s=n(38),u=n(9),a=n(39),c=n(23),f=n(3),l=Math.min,p=[].push,d="length",h=!f((function(){}));n(41)("split",2,(function(e,t,n,f){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,s,u,a=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,h=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,f+"g");(i=c.call(g,o))&&!((s=g.lastIndex)>l&&(a.push(o.slice(l,i.index)),i[d]>1&&i.index<o[d]&&p.apply(a,i.slice(1)),u=i[0][d],l=s,a[d]>=h));)g.lastIndex===i.index&&g.lastIndex++;return l===o[d]?!u&&g.test("")||a.push(""):a.push(o.slice(l)),a[d]>h?a.slice(0,h):a}:"0".split(void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):g.call(String(o),n,r)},function(e,t){var r=f(g,e,this,t,g!==n);if(r.done)return r.value;var c=o(e),p=String(this),d=i(c,RegExp),v=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),m=new d(h?c:"^(?:"+c.source+")",y),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===p.length)return null===a(m,p)?[p]:[];for(var _=0,E=0,w=[];E<p.length;){m.lastIndex=h?E:0;var S,O=a(m,h?p:p.slice(E));if(null===O||(S=l(u(m.lastIndex+(h?0:E)),p.length))===_)E=s(p,E,v);else{if(w.push(p.slice(_,E)),w.length===b)return w;for(var C=1;C<=O.length-1;C++)if(w.push(O[C]),w.length===b)return w;E=_=S}}return w.push(p.slice(_)),w}]}))},function(e,t,n){var r=n(2),o=n(27),i=n(4)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[i])?t:o(n)}},function(e,t,n){var r=n(14),o=n(8);e.exports=function(e){return function(t,n){var i,s,u=String(o(t)),a=r(n),c=u.length;return a<0||a>=c?e?"":void 0:(i=u.charCodeAt(a))<55296||i>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):i:e?u.slice(a,a+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(10),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(23);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){var r=n(6),o=n(30)(1);r(r.P+r.F*!n(69)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(3);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(2),o=n(20),i=n(9),s=n(14),u=n(38),a=n(39),c=Math.max,f=Math.min,l=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(41)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),s=null==r?void 0:r[t];return void 0!==s?s.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var l=r(e),p=String(this),d="function"==typeof t;d||(t=String(t));var v=l.global;if(v){var y=l.unicode;l.lastIndex=0}for(var m=[];;){var b=a(l,p);if(null===b)break;if(m.push(b),!v)break;""===String(b[0])&&(l.lastIndex=u(p,i(l.lastIndex),y))}for(var _,E="",w=0,S=0;S<m.length;S++){b=m[S];for(var O=String(b[0]),C=c(f(s(b.index),p.length),0),T=[],R=1;R<b.length;R++)T.push(void 0===(_=b[R])?_:String(_));var A=b.groups;if(d){var x=[O].concat(T,C,p);void 0!==A&&x.push(A);var I=String(t.apply(void 0,x))}else I=g(O,p,C,T,A,t);C>=w&&(E+=p.slice(w,C)+I,w=C+O.length)}return E+p.slice(w)}];function g(e,t,r,i,s,u){var a=r+e.length,c=i.length,f=d;return void 0!==s&&(s=o(s),f=p),n.call(u,f,(function(n,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(a);case"<":u=s[o.slice(1,-1)];break;default:var f=+o;if(0===f)return n;if(f>c){var p=l(f/10);return 0===p?n:p<=c?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}u=i[f-1]}return void 0===u?"":u}))}}))},function(e,t,n){var r=n(0),o=n(32),i=n(7).f,s=n(34).f,u=n(37),a=n(40),c=r.RegExp,f=c,l=c.prototype,p=/a/g,d=/a/g,h=new c(p)!==p;if(n(1)&&(!h||n(3)((function(){return d[n(4)("match")]=!1,c(p)!=p||c(d)==d||"/a/i"!=c(p,"i")})))){c=function(e,t){var n=this instanceof c,r=u(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(h?new f(r&&!i?e.source:e,t):f((r=e instanceof c)?e.source:e,r&&i?a.call(e):t),n?this:l,c)};for(var g=function(e){e in c||i(c,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},v=s(f),y=0;v.length>y;)g(v[y++]);l.constructor=c,c.prototype=l,n(12)(r,"RegExp",c)}n(72)("RegExp")},function(e,t,n){var r=n(0),o=n(7),i=n(1),s=n(4)("species");e.exports=function(e){var t=r[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){n.r(t),n.d(t,"UserAgent",(function(){return p})),n.d(t,"getVersionFromUA",(function(){return l})),n.d(t,"compareVersion",(function(){return f})),n(44);var r=n(42),o=n.n(r),i=n(43),s=n.n(i),u=(n(47),n(49),n(53),n(63),n(68),n(70),n(71),/\d+([._]\d+)*/);function a(e){var t,n=u.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function c(e){var t=a(e);return(null==t?void 0:t.split(".").map(Number))||[]}function f(e,t){return n=c(e),r=c(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function l(e,t){var n;try{n=new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(e){return null}var r=n.exec(t);return r?a(r[0].substring(e.length)):null}var p=function(){function e(t){var n=this;o()(this,e),this.userAgent="",this.getAndroidVersion=function(){return n.isAndroid?l("Android",n.userAgent):null},this.isAndroidVersionAboveOrEqual=function(e){return f(n.getAndroidVersion()||"",e)>=0},this.getIOSVersion=function(){return n.isIOS?l("OS",n.userAgent):null},this.isIOSVersionAboveOrEqual=function(e){return f(n.getIOSVersion()||"",e)>=0},this.getPCQQBrowserVersion=function(){return n.isPCQQBrowser?l("QQBrowser",n.userAgent):null},this.isPCQQBrowserVersionAboveOrEqual=function(e){return f(n.getPCQQBrowserVersion()||"",e)>=0},this.getMobileQQBrowserVersion=function(){return n.isMobileQQBrowser?l("MQQBrowser",n.userAgent):null},this.isMobileQQBrowserVersionAboveOrEqual=function(e){return f(n.getMobileQQBrowserVersion()||"",e)>=0},this.getChromeVersion=function(){return l("Chrome",n.userAgent)},this.isChromeVersionAboveOrEqual=function(e){return f(n.getChromeVersion()||"",e)>=0},this.getWeChatVersion=function(){return n.isWeChat||n.isWxMiniProgram?l("MicroMessenger",n.userAgent):null},this.isWeChatVersionAboveOrEqual=function(e){return f(n.getWeChatVersion()||"",e)>=0},this.getWxDriveVersion=function(){return n.isWxDrive?l("WXDrive",n.userAgent):null},this.isWxDriveVersionAboveOrEqual=function(e){return f(n.getWxDriveVersion()||"",e)>=0},this.getWxWorkVersion=function(){return n.isWxWork?l("wxwork",n.userAgent):null},this.isWxWorkVersionAboveOrEqual=function(e){return f(n.getWxWorkVersion()||"",e)>=0},this.getQQVersion=function(){return n.isQQ||n.isQQMiniProgram?l("QQ",n.userAgent):null},this.isQQVersionAboveOrEqual=function(e){return f(n.getQQVersion()||"",e)>=0},this.getTimVersion=function(){return n.isTim?l("TIM",n.userAgent):null},this.isTimVersionAboveOrEqual=function(e){return f(n.getTimVersion()||"",e)>=0},this.getTencentDocsAppVersion=function(){return l("TencentDocs",n.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(e){return f(n.getTencentDocsAppVersion()||"",e)>=0},this.getPCTencentDocsClientVersion=function(){return l("TxDocsPC",n.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(e){return f(n.getPCTencentDocsClientVersion()||"",e)>=0},this.getElectronTencentDocsClientVersion=function(){return l("TDAppDesktop",n.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(e){return f(n.getElectronTencentDocsClientVersion()||"",e)>=0},void 0===t&&(t="undefined"!=typeof navigator?navigator.userAgent:""),Object.defineProperty(this,"userAgent",{value:t,writable:!1})}return s()(e,[{key:"isMobile",get:function(){return/(mobile)/i.test(this.userAgent)||this.isAndroidPad}},{key:"isMobilePhone",get:function(){return/(mobile)/i.test(this.userAgent)&&!this.isIPad}},{key:"isIPhone",get:function(){return/(iphone)/i.test(this.userAgent)}},{key:"isIPad",get:function(){return/(ipad)/i.test(this.userAgent)}},{key:"isAndroidPhone",get:function(){return/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isAndroidPad",get:function(){return!/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isPC",get:function(){return!this.isMobile}},{key:"isMac",get:function(){return!this.isMobile&&/Mac OS X/i.test(this.userAgent)}},{key:"isIPadEmulatedMac",get:function(){return this.isMac&&navigator.maxTouchPoints>1}},{key:"isAndroid",get:function(){return/android|adr/i.test(this.userAgent)}},{key:"isIOS",get:function(){return/(iphone|ipad|ipod)/i.test(this.userAgent)}},{key:"isWindows",get:function(){return/(win64|wow64|win32|wow32|windows nt)/i.test(this.userAgent)}},{key:"isWindowsUWP",get:function(){return/MSAppHost/i.test(this.userAgent)}},{key:"isLinux",get:function(){return/linux/i.test(this.userAgent)&&!this.isAndroid}},{key:"isLinuxKylin",get:function(){return/linux-kylin/i.test(this.userAgent)}},{key:"isLinuxUOS",get:function(){return/linux-uos/i.test(this.userAgent)}},{key:"isPCQQBrowser",get:function(){return!this.isMobile&&/QQBrowser/i.test(this.userAgent)&&!/QBCore/i.test(this.userAgent)}},{key:"isMobileQQBrowser",get:function(){return this.isMobile&&/MQQBrowser/i.test(this.userAgent)&&!this.isTimOrQQ&&!this.isWeChat&&!this.isWxWork&&!this.isTencentDocsApp&&!this.isWeiYunApp&&!this.isMiniProgram}},{key:"isQQBrowser",get:function(){return this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser}},{key:"isChrome",get:function(){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isSafari",get:function(){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isIE",get:function(){return/MSIE/i.test(this.userAgent)&&!/opera/i.test(this.userAgent)||/Trident/i.test(this.userAgent)}},{key:"isOldEdge",get:function(){return/Edge/i.test(this.userAgent)}},{key:"isChromiumEdge",get:function(){return/Edg\//i.test(this.userAgent)}},{key:"isFirefox",get:function(){return/(Firefox|Focus|FxiOS)\//i.test(this.userAgent)}},{key:"isWeChat",get:function(){return/MicroMessenger/i.test(this.userAgent)&&!this.isWxWork&&!this.isWxMiniProgram}},{key:"isWxWork",get:function(){return/(wxwork)/i.test(this.userAgent)}},{key:"isWxWorkCustom",get:function(){return/WeComCEF/i.test(this.userAgent)&&this.isWxWork}},{key:"isWxDrive",get:function(){return/WXDrive/i.test(this.userAgent)}},{key:"isQQ",get:function(){return/QQ\//i.test(this.userAgent)&&!this.isTencentDocsApp&&!this.isQQMiniProgram&&!this.isTim}},{key:"isQQForGooglePlay",get:function(){return/QQ\//i.test(this.userAgent)&&/_GM/i.test(this.userAgent)}},{key:"isTim",get:function(){return/TIM/i.test(this.userAgent)}},{key:"isPCTim",get:function(){return/QBCore/i.test(this.userAgent)&&/TIM2.0/i.test(this.userAgent)}},{key:"isTimOrQQ",get:function(){return this.isTim||this.isQQ}},{key:"isTimOrQQFamily",get:function(){return this.isTim||/QQ/i.test(this.userAgent)}},{key:"isMiniProgram",get:function(){return/miniprogram|miniapp(?!enable)/i.test(this.userAgent)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment}},{key:"isWxMiniProgram",get:function(){return/MicroMessenger/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isQQMiniProgram",get:function(){return/QQ\/|TIM/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isTencentDocsApp",get:function(){return/TencentDocs/i.test(this.userAgent)}},{key:"isPCTencentDocsClient",get:function(){return/TxDocsPC/i.test(this.userAgent)}},{key:"isPCTencentDocsApp",get:function(){return this.isPCTencentDocsClient}},{key:"isElectronTencentDocsClient",get:function(){return/TDAppDesktop/i.test(this.userAgent)}},{key:"isWeiYunApp",get:function(){return/weiyun/i.test(this.userAgent)}},{key:"isSouGou",get:function(){return/SE 2\.X MetaSr 1\.0/i.test(this.userAgent)}},{key:"isTencentMeeting",get:function(){return/tencent_wemeet/i.test(this.userAgent)}},{key:"isTencentMeetingRooms",get:function(){return/TencentMeetingRooms/i.test(this.userAgent)}}]),e}();t.default=new p}])}).call(this,n(23))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){!function(e){var t=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.injectReporter=function(e,t){this.reporter=e,this.cb=t},e.prototype.report=function(){this.cb(this.reporter)},e}()),n=void 0!==n?n:{};"undefined"!=typeof window?n=window:"undefined"!=typeof self&&(n=self);var r={dataReturnSuccessCondition:function(){return!0},beforeRequest:function(e){return e},beforeResponse:function(e,t,n){t(e)}};function o(){}function i(e){var t=r.beforeRequest(e),n={};return n.url=t.url,n.paramObj=t.param||{},n.successCb=t.success||o,n.errorCb=t.error||o,n.localData=t.localData||null,n.xhrFields=t.xhrFields||{},n.headers=t.headers||{},n.method=t.ajaxType||"GET",n.dataType=t.dataType||"json",n.async=t.async,n.timeout=t.timeout,n.method=n.method.toUpperCase(),n}function s(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function u(e,t){return e+(e.indexOf("?")>0?"&":"?")+t}function a(e,t,n){if(e.setRequestHeader){t["Content-type"]||"GET"!==n&&"POST"!==n||e.setRequestHeader("Content-type","application/x-www-form-urlencoded");var r=t||{};for(var o in r)r.hasOwnProperty(o)&&e.setRequestHeader(o,r[o])}}function c(e,t){e.withCredentials=!0,!1===t.withCredentials&&(e.withCredentials=!1)}function f(e){r.dataReturnSuccessCondition=e.dataReturnSuccessCondition||r.dataReturnSuccessCondition,r.beforeRequest=e.beforeRequest||r.beforeRequest,r.beforeResponse=e.beforeResponse||r.beforeResponse}function l(e){var t=i(e),n=s(t.paramObj),r=u(t.url,n),o=v(t);o&&(o.open("GET",r,!0),y(o,t),c(o,t.xhrFields),a(o,t.headers,"GET"),o.send())}function p(e){var t=i(e),n="",r=t.url,o=v(t);o&&(o.open("POST",r,!0),e.type&&"json"===e.type?(n=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="string"==typeof r?encodeURIComponent(r):r}return JSON.stringify(t)}(t.paramObj),t.headers["Content-type"]="application/json"):e.type&&"raw"===e.type?(t.headers["Content-type"]="application/json",n="[object object]"===Object.prototype.toString.call(t.paramObj)?JSON.stringify(t.paramObj):t.paramObj):n=s(t.paramObj),y(o,t),c(o,t.xhrFields),a(o,t.headers,"POST"),o.send(n))}function d(e){var t=i(e),n=t.url,r=v(t);r&&(r.open("POST",n,!0),y(r,t),c(r,t.xhrFields),a(r,t.headers,"FORM"),r.send(t.paramObj))}function h(e){var t=i(e);if(!t.paramObj)throw new Error("Please provide parameter for jsonp");function r(e){setTimeout((function(){e.parentNode.removeChild(e)}),200)}t.paramObj.jsonCbName||(t.paramObj.jsonCbName="jsonCb_"+Date.now()),t.paramObj.callback=t.paramObj.jsonCbName,delete t.paramObj.jsonCbName,n[t.paramObj.callback]=function(e){t.localData?g(t.localData,t):(g(e,t),r(c))};var o=s(t.paramObj),a=u(t.url,o),c=n&&n.document?n.document.createElement("script"):{},f=n&&n.document?n.document.getElementsByTagName("head")[0]:{};c.src=a,f.appendChild(c),c.onerror=function(e){t.errorCb({errCode:e}),r(c)}}function g(e,t){r.beforeResponse(e,(function(e){r.dataReturnSuccessCondition(e)?t.successCb(e):t.errorCb(e)}),t.errorCb)}function v(e){var n=function(){for(var e=null,t=[function(){return new XMLHttpRequest},function(){return new XDomainRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.xmlhttp")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,r=t.length;n<r;n++){try{e=t[n]()}catch(e){continue}break}return e}();if(!n)throw new Error("XMLHttp is not defined");if(!e.localData)return n.async=!1!==e.async,n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var r=n.responseText;if("json"===e.dataType)try{r=JSON.parse(n.responseText)}catch(e){if(!t.reporter)throw e;t.report()}g(r,e)}else e.errorCb({errCode:n.status})},n.onerror=function(){e.errorCb({errCode:-1})},n.ontimeout=function(){e.errorCb({errCode:-2})},n;g(e.localData,e)}function y(e,t){t.timeout&&(e.timeout=t.timeout)}var m={ajax:function(e){switch(i(e).method){case"JSONP":h(e);break;case"GET":l(e);break;case"POST":p(e);break;case"FORM":d(e)}},ajaxGet:l,ajaxPost:p,ajaxForm:d,ajaxJsonp:h,ajaxInit:f,reporter:t};e.ajaxInit=f,e.ajaxGet=l,e.ajaxPost=p,e.ajaxForm=d,e.ajaxJsonp=h,e.default=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){var r=n(3);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,n){var r=n(3),o=n(31),i=n(32),s=n(12),u=n(33),a=n(36),c=n(37),f=n(15),l=n(5),p=n(6);e.exports=function(e){return new Promise((function(t,n){var d,h=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(h)&&delete g["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+_)}var E=u(e.baseURL,e.url);function w(){if(m){var r="getAllResponseHeaders"in m?a(m.getAllResponseHeaders()):null,i={data:v&&"text"!==v&&"json"!==v?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};o((function(e){t(e),y()}),(function(e){n(e),y()}),i),m=null}}if(m.open(e.method.toUpperCase(),s(E,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=w:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(w)},m.onabort=function(){m&&(n(f("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(f("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(f(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(E))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in m&&r.forEach(g,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete g[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),v&&"json"!==v&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){m&&(n(!e||e&&e.type?new p("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),h||(h=null),m.send(h)}))}},function(e,t,n){var r=n(13);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},function(e,t,n){e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){var r=n(3);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function a(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:a};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);r.isUndefined(o)&&t!==a||(n[e]=o)})),n}},function(e,t){e.exports={version:"0.25.0"}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(24)},function(e,t){e.exports=r},function(e,t,n){var r=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function a(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),s=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var u=_(s,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=c(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(e,n,s),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var f={};function l(){}function p(){}function d(){}var h={};u(h,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(O([])));v&&v!==t&&n.call(v,o)&&(h=v);var y=d.prototype=l.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function s(){return new t((function(r,s){!function r(o,i,s,u){var a=c(e[o],e,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(l).then((function(e){f.value=e,s(f)}),(function(e){return r("throw",e,s,u)}))}u(a.arg)}(o,i,r,s)}))}return r=r?r.then(s,s):s()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=d,u(y,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(b.prototype),u(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new b(a(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},m(y),u(y,s,"Generator"),u(y,o,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(3),o=n(11),i=n(25),s=n(17),u=function e(t){var n=new i(t),u=o(i.prototype.request,n);return r.extend(u,i.prototype,n),r.extend(u,n),u.create=function(n){return e(s(t,n))},u}(n(5));u.Axios=i,u.Cancel=n(6),u.CancelToken=n(39),u.isCancel=n(16),u.VERSION=n(18).version,u.all=function(e){return Promise.all(e)},u.spread=n(40),u.isAxiosError=n(41),e.exports=u,e.exports.default=u},function(e,t,n){var r=n(3),o=n(12),i=n(26),s=n(27),u=n(17),a=n(38),c=a.validators;function f(e){this.defaults=e,this.interceptors={request:new i,response:new i}}f.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&a.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,f=[];if(this.interceptors.response.forEach((function(e){f.push(e.fulfilled,e.rejected)})),!o){var l=[s,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(f),i=Promise.resolve(t);l.length;)i=i.then(l.shift(),l.shift());return i}for(var p=t;r.length;){var d=r.shift(),h=r.shift();try{p=d(p)}catch(e){h(e);break}}try{i=s(p)}catch(e){return Promise.reject(e)}for(;f.length;)i=i.then(f.shift(),f.shift());return i},f.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=u(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){f.prototype[e]=function(t,n,r){return this.request(u(r||{},{method:e,url:t,data:n}))}})),e.exports=f},function(e,t,n){var r=n(3);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){var r=n(3),o=n(28),i=n(16),s=n(5),u=n(6);function a(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u("canceled")}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){var r=n(3),o=n(5);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],f=!1,l=-1;function p(){f&&a&&(f=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(3);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){var r=n(15);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){var r=n(3);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===s&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){var r=n(34),o=n(35);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e,t,n){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){var r=n(3),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},function(e,t,n){var r=n(3);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){var r=n(18).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],s=t[i];if(s){var u=e[i],a=void 0===u||s(u,i,e);if(!0!==a)throw new TypeError("option "+i+" must be "+a)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},function(e,t,n){var r=n(6);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){var r=n(3);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},function(e,t,n){n.r(t),n.d(t,"isMultiLoginGray",(function(){return W})),n.d(t,"checkMultiLoginGrayAsync",(function(){return q})),n.d(t,"mobileIsMultiLoginGray",(function(){return B})),n.d(t,"mobileCheckMultiLoginGrayAsync",(function(){return Q})),n.d(t,"quickQQLoginAsync",(function(){return V})),n.d(t,"quickQQLogin",(function(){return G})),n.d(t,"getUid",(function(){return K})),n.d(t,"getNowUserId",(function(){return H})),n.d(t,"isLogin",(function(){return z})),n.d(t,"loginType",(function(){return Y})),n.d(t,"getLoginType",(function(){return $})),n.d(t,"getUtype",(function(){return J})),n.d(t,"inWeWork",(function(){return X}));var r,o=n(4),i=n(2),s=n.n(i),u=n(7),a=n.n(u),c=n(0),f=n(19),l=n.n(f),p=n(8),d=n.n(p),h=n(9),g=n.n(h),v=n(20),y=n.n(v),m=n(21),b=n.n(m),_=n(1),E=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},w=function(e){return e},S=function(){var e,t,n;return Object(c.getCookie)(_.b.UID)||(null===(e=window.global_multi_user)||void 0===e?void 0:e.uid)||(null===(n=null===(t=window.clientVars)||void 0===t?void 0:t.userInfo)||void 0===n?void 0:n.uid)},O=function(){function e(){d()(this,e),this.url="https://service-4y7r0fta-1251316161.gz.apigw.tencentcs.com/release/toggleProxy-1613409159",this.productEn="tdocs_manager",this.productKey="ab1ef06b-d248-4d99-b937-e18af1b82d14",this.productId="698ba977-c8d4-47cb-bf51-b79b305e38d4",this.version="1.0.1",this.moduleId="219"}return g()(e,[{key:"isEnabled",value:function(e,t){return E(this,void 0,void 0,s.a.mark((function n(){var r,o,i,u,a,c,f;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.productId,o=this.productEn,i=this.moduleId,u=this.version,a=this.productKey,c={productEn:o,productKey:a,toggleKey:e,productId:r,version:u,moduleId:i,data:JSON.stringify(t)},n.next=4,y.a.post(this.url,b.a.stringify(c));case 4:if(!(f=n.sent).data||0!==f.data.retCode){n.next=7;break}return n.abrupt("return",f.data.isEnabled);case 7:return n.abrupt("return",!1);case 8:case"end":return n.stop()}}),n,this)})))}}]),e}(),C=function(){function e(t){var n=this,r=t.toggleAPI,o=t.toggleKey,i=t.handlerMap,u=t.localStorageKey;d()(this,e),this.checkMultiLoginGrayAsync=function(e){return E(n,void 0,void 0,s.a.mark((function t(){var n,r,o,i,u,a,c,f,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(r=null===(n=this.handlerMap)||void 0===n?void 0:n.checkMultiLoginGrayAsync)||void 0===r||r.call(n),void 0===e&&(e=S()||"0"),c=this._getDevContext(),f=Object.assign({userId:e},c),t.next=6,this.toggleAPI.isEnabled(this.toggleKey,f);case 6:if(!0!==(l=t.sent)){t.next=10;break}return null===(i=null===(o=this.handlerMap)||void 0===o?void 0:o.isEnabledTrue)||void 0===i||i.call(o),t.abrupt("return",this._enterGray(e));case 10:if(!1!==l){t.next=14;break}return null===(a=null===(u=this.handlerMap)||void 0===u?void 0:u.isEnabledFalse)||void 0===a||a.call(u),t.next=14,this._checkAllUserGrayState(e);case 14:case"end":return t.stop()}}),t,this)})))},this.isMultiLoginGray=function(){var e,t,r,o,i,s=n._getLocalHashMap(),u=[];for(var a in s)u.push(s[a]);var f=0!==u.length&&u.every(w),l=null!==(e=Object(c.getCookie)(_.b.DOC_SID))&&void 0!==e?e:Object(c.getCookie)(_.b.SID);return f?null===(r=null===(t=n.handlerMap)||void 0===t?void 0:t.isGrayTrue)||void 0===r||r.call(t):null===(i=null===(o=n.handlerMap)||void 0===o?void 0:o.isGrayFalse)||void 0===i||i.call(o),f||!!l},this.toggleAPI=r,this.toggleKey=o,this.handlerMap=i,this.localStorageKey=u}return g()(e,[{key:"_getLocalHashMap",value:function(){var e=localStorage.getItem(this.localStorageKey);return e&&(e=JSON.parse(e)),e||{}}},{key:"_setLocalHashMap",value:function(e){e&&localStorage.setItem(this.localStorageKey,JSON.stringify(e))}},{key:"_enterGray",value:function(e){void 0===e&&(e="0");var t=l()({},"".concat(e),!0),n=this._getLocalHashMap();this._setLocalHashMap(Object.assign(Object.assign({},n),t))}},{key:"_checkAllUserGrayState",value:function(e){return E(this,void 0,void 0,s.a.mark((function e(){var t,n,r,o,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._getLocalHashMap(),n=Object.keys(t),r=[],o=0;case 4:if(!(o<n.length)){e.next=13;break}return i={userId:n[o]},e.next=8,this.toggleAPI.isEnabled(this.toggleKey,i);case 8:u=e.sent,r.push(u);case 10:o++,e.next=4;break;case 13:if(0===r.length||!r.every(w)){e.next=16;break}return e.abrupt("return");case 16:case"end":return e.stop()}}),e,this)})))}},{key:"_getDevContext",value:function(){var e=Object(c.getCookie)("dev_route_id"),t={};return e&&(t.properties={dev_route_id:e,fd:Object(c.getCookie)("fd")||"webserver"}),t}}]),e}(),T=function(e){var t;try{null===(t=null===window||void 0===window?void 0:window.AlloyReport)||void 0===t||t.zzsValue({attrid:e,value:1})}catch(e){console.warn(e)}},R=new O,A=n(10);function x(){return I("TOK")||""}function I(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?decodeURIComponent(t[2]):""}/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&(812===window.screen.width&&375===window.screen.height||375===window.screen.width&&window.screen.height),/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&(414===window.screen.width&&896===window.screen.height||896===window.screen.width&&window.screen.height),/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&2===window.devicePixelRatio&&(414===window.screen.width&&896===window.screen.height||896===window.screen.width&&window.screen.height);var k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))};function M(e){var t="",n=window.location;return(null==n?void 0:n.search)&&(t=n.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"))),t?decodeURIComponent(t[2]):""}var D=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))};function P(e,t){var n=e.split("?");if(t=Array.isArray(t)?t:[t],n.length>=2){for(var r=n[1].split(/[&;]/g),o=0,i=t.length;o<i;o++)for(var s="".concat(encodeURIComponent(t[o]),"="),u=r.length-1;u>=0;u--)-1!==r[u].lastIndexOf(s,0)&&r.splice(u,1);return n[0]+(r.length>0?"?".concat(r.join("&")):"")}return e}var N=(r||(r=new C({toggleAPI:R,toggleKey:"PC_multi_login",handlerMap:{isGrayTrue:function(){T("pc_multi_gray_true")},isGrayFalse:function(){T("pc_multi_gray_false")},isEnabledTrue:function(){T("pc_multi_endabled_true")},isEnabledFalse:function(){T("pc_multi_endabled_false")},checkMultiLoginGrayAsync:function(){T("pc_multi_check_multi_login")}},localStorageKey:"multi-login-gray"})),r),L=function(){return N.isMultiLoginGray()};function j(){var e=M("jumpuin");return new Promise((function(t,n){var r;(r=parseInt(e),k(void 0,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n={xsrf:x()};Object(A.ajaxGet)({url:"https://docs.qq.com/cgi-bin/api/account-list",param:n,success:function(n){if(0===n.retcode){var o=n.data,i=!1;null==o||o.forEach((function(t){if(t.uin===r&&"qq"===t.uType)return e(!0),void(i=!0)})),i||t(!1)}t(!1)},error:function(){t(!1)}})})));case 1:case"end":return e.stop()}}),e)})))).then((function(e){t(e)})).catch((function(){n(!1)}))}))}function U(){var e=M("jumpuin"),t=Object(c.getCookie)("utype"),n=Object(c.getCookie)("p_luin")||Object(c.getCookie)("p_uin"),r=n?n.replace(/^[o0]+/i,""):null;return new Promise((function(n,o){"qq"===t&&e==r?k(void 0,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n={xsrf:x()};Object(A.ajaxGet)({url:"https://docs.qq.com/cgi-bin/online_docs/user_info",param:n,success:function(n){0===n.retcode?e(!0):t(!1)},error:function(){t(!1)}})})));case 1:case"end":return e.stop()}}),e)}))).then((function(e){if(e){console.error("jump uin already login");var t=P(window.location.href,"jumpuin");window.history.replaceState(window.history.state,null,t)}n(e)})).catch((function(){o(!1)})):o(!1)}))}function F(){return!(a.a.isMobilePhone||a.a.isAndroidPad||!M("jumpuin"))}var W=function(){return!0},q=function(){return new Promise((function(e){return e(!0)}))},B=function(){return!0},Q=function(){return new Promise((function(e){return e(!0)}))},V=function(){return D(this,void 0,void 0,s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L(),!F()){e.next=11;break}if(!t){e.next=8;break}return e.next=5,j();case 5:case 10:return e.abrupt("return",e.sent);case 8:return e.next=10,U();case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})))},G=function(e){var t=L();F()&&(t?j().then((function(t){if(t){console.error("jump uin already login");var n=P(window.location.href,"jumpuin");window.history.replaceState(null,"",n)}e&&e(t)})).catch((function(t){e&&e(!1)})):U().then((function(t){e&&e(t)})).catch((function(){e&&e(!1)})))},K=o.getUid,H=o.getNowUserId,z=o.isLogin,Y=o.loginType,$=Y,J=Y,X=o.checkWeWork}]))})),op=O((function(e,t){var n,r;window,e.exports=(n=Wc,r=rp,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=r},function(e,t,n){var r=n(7);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(8).default,o=n(9);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){n.r(t),n.d(t,"ErrorCode",(function(){return r})),n.d(t,"ErrorMsg",(function(){return o}));var r,o,i=n(1),s=n.n(i),u=n(2),a=n.n(u),c=n(5),f=n.n(c),l=n(6),p=n.n(l),d=n(3),h=n.n(d),g=n(0),v=n(4),y=function(){function e(t){s()(this,e),this.channelName="".concat(t,"Channel"),this.storageName="".concat(t,"Storage"),this.cookieName="".concat(t,"Cookie"),this.init(),this.nowUid=Object(g.getCookie)("uid");var n="".concat(Math.floor(1e9*Math.random()),"_").concat(+new Date);window.messageCenterTabKey||(window.messageCenterTabKey=n),this.tabKey=window.messageCenterTabKey||n}return a()(e,[{key:"init",value:function(){window&&window.BroadcastChannel&&(this.msgCenter=new BroadcastChannel(this.channelName))}},{key:"postMessage",value:function(e){var t,n;e.key=this.tabKey,null===(t=null===window||void 0===window?void 0:window.log)||void 0===t||t.log("message center get message:, ".concat(JSON.stringify(e)," time: ").concat(+new Date)),this.msgCenter&&this.msgCenter.postMessage(e);try{localStorage.setItem(this.storageName,JSON.stringify(e))}catch(t){null===(n=null===window||void 0===window?void 0:window.log)||void 0===n||n.log("message center set message fail:, ".concat(JSON.stringify(e)," time: ").concat(+new Date))}}},{key:"initListener",value:function(){var e=this;this.msgCenter&&(this.msgCenter.onmessage=function(t){t&&(null==e||e.channelHandler(t))}),window.addEventListener("storage",(function(t){t.key===e.storageName&&(null==e||e.storageHandler(t))})),document.addEventListener("visibilitychange",(function(){setTimeout((function(){null==e||e.visibilityHandle()}),100)}))}},{key:"listenerHandleFun",value:function(e){var t=e.channelHandler,n=e.storageHandler,r=e.visibilityHandle;t&&(this.channelHandler=t),r&&(this.visibilityHandle=r),this.storageHandler=n,this.initListener()}},{key:"messageHandleFun",value:function(e){}}]),e}();function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}!function(e){e[e.switchLogin=1e4]="switchLogin",e[e.logoutLogin=10001]="logoutLogin"}(r||(r={})),function(e){e.switchLogin="user switch login in other tab",e.logoutLogin="user logout login in other tab"}(o||(o={}));var b=new(function(e){f()(n,e);var t=m(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).hadSendMsg=!1,r.nowUsesId=Object(v.getNowUserId)(),r.isMulti=Object(v.isMultiLoginGray)(),r.listenerHandleFun({channelHandler:r.channelFun,storageHandler:r.storageFun,visibilityHandle:r.visibilityFun}),r}return a()(n,[{key:"checkIsSame",value:function(e){return!this.isMulti||e===this.nowUsesId}},{key:"getCookieValue",value:function(){var e=(Object(g.getCookie)(this.cookieName)||"").split("_");return{type:e[0],userIndex:e[1]}}},{key:"dispatchMsg",value:function(e){this.isMulti&&("logoutLogin"!==e&&"logout"!==e||document.dispatchEvent(new CustomEvent("logoutAccount")))}},{key:"checkSameUser",value:function(){return Object(g.getCookie)("uid")===this.nowUid}},{key:"checkNoNeedVisibility",value:function(){var e=window.clientVars,t="101520907"===(null==e?void 0:e.ownerAppid);return this.hadSendMsg||"visible"!==document.visibilityState||this.isMulti||!t}},{key:"visibilityFun",value:function(){var e;this.checkNoNeedVisibility()||this.checkSameUser()||null===(e=this.messageHandleFun)||void 0===e||e.call(this,this.getErrorMsg("switch"))}},{key:"channelFun",value:function(e){var t=this;if(e){var n=e.data;n.key!==this.tabKey&&this.checkNeedLogin(n,(function(e){var r,o;null===(r=t.messageHandleFun)||void 0===r||r.call(t,t.getErrorMsg(e)),null===(o=null===window||void 0===window?void 0:window.log)||void 0===o||o.log("channel Event:".concat(e,", source tab:").concat(n.key,"， now tabKey:").concat(t.tabKey,"， :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0}))}}},{key:"storageFun",value:function(e){var t=this,n=e.newValue;if(n){var r=JSON.parse(n);r.key!==this.tabKey&&this.checkNeedLogin(r,(function(e){setTimeout((function(){var n,o;t.hadSendMsg||(null===(n=t.messageHandleFun)||void 0===n||n.call(t,t.getErrorMsg(e)),null===(o=null===window||void 0===window?void 0:window.log)||void 0===o||o.log("storage Event:".concat(e,", source tab:").concat(r.key,"， now tabKey:").concat(t.tabKey,"， :").concat((new Date).getTime())),t.dispatchMsg(e),t.hadSendMsg=!0)}),100)}))}}},{key:"getErrorMsg",value:function(e){return"switchLogin"===e||"switch"===e?{code:r.switchLogin,msg:o.switchLogin}:"logoutLogin"===e||"logout"===e?{code:r.logoutLogin,msg:o.logoutLogin}:void 0}},{key:"checkNeedLogin",value:function(e,t){this.checkIsSame(e.data)&&("switch"===e.type?t("switchLogin"):"logout"===e.type&&t("logoutLogin"))}},{key:"setCallback",value:function(e){this.messageHandleFun=e}}]),n}(y))("docMessageCenter");t.default=b}]))})),ip=w(op),sp=function(){function e(e){this.accountDomainService=e}return e.prototype.logout=function(){var e;return v(this,void 0,void 0,(function(){var t,n,r,o;return y(this,(function(s){switch(s.label){case 0:return t=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,[4,this.accountDomainService.accountAggregate.accountRepository.logout(t)];case 1:return 0!==(null===(n=s.sent().resData)||void 0===n?void 0:n.retcode)?[3,3]:(ip.postMessage({type:"logout",data:t,needCookie:!0}),r=this.accountDomainService.accountAggregate.userInfo.loginType,Nc(),r===i.Q5.QQ||r===i.Q5.WX?[2,!0]:[4,this.accountDomainService.accountAggregate.accountRepository.wecomLogout(t)]);case 2:return o=s.sent(),[2,0===(null===(e=o.resData)||void 0===e?void 0:e.retcode)];case 3:return[2,!1]}}))}))},e.prototype.getLogoutMessage=function(e){ip.setCallback((function(){e()}))},e=d([h(0,i.b$),g("design:paramtypes",[Object])],e)}();!function(e){e.BIND_CGI_SUCCESS="BIND_CGI_SUCCESS",e.CHECK_KEY_IS_READY="CHECK_KEY_IS_READY",e.BIND_POLLING_RUNNING="BIND_POLLING_RUNNING",e.BIND_POLLING_FINISH="BIND_POLLING_FINISH",e.BIND_TIMEOUT="BIND_TIMEOUT",e.ERROR="ERROR"}(yl||(yl={}));var up,ap,cp=function(){function e(e){this.accountDomainService=e,this.isExpired=!1}return e.prototype.getBindingQQAccountInfo=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.accountDomainService.accountAggregate.bindingQQInfo()];case 1:return[2,e.sent()]}}))}))},e.prototype.getStatus=function(e){var t=this;return this.runBindProcess(e),{dispose:function(){return t.dispose()}}},e.prototype.runBindProcess=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,this.accountDomainService.accountAggregate.accountRepository.bindUserInfo()];case 1:return 0===(null===(t=n.sent().resData)||void 0===t?void 0:t.cgicode)?(e(yl.BIND_CGI_SUCCESS),this.getKey(e)):e(yl.ERROR,{errBindQQStatus:yl.BIND_CGI_SUCCESS}),[2]}}))}))},e.prototype.dispose=function(){this.pollingTimer&&clearTimeout(this.pollingTimer),this.isExpired=!0},e.prototype.getKey=function(e){return v(this,void 0,void 0,(function(){var t,n;return y(this,(function(r){switch(r.label){case 0:return t=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,[4,this.accountDomainService.accountAggregate.accountRepository.getBindWxQrCode(t)];case 1:return 0===(null===(n=r.sent().resData)||void 0===n?void 0:n.cgicode)?(e(yl.CHECK_KEY_IS_READY),this.runPolling(n.data.checkKey,e),[2]):(e(yl.ERROR,{errBindQQStatus:yl.CHECK_KEY_IS_READY}),[2])}}))}))},e.prototype.runPolling=function(e,t){var n=this;this.isExpired||(this.pollingTimer=setTimeout((function(){return v(n,void 0,void 0,(function(){var n;return y(this,(function(r){switch(r.label){case 0:return[4,this.accountDomainService.accountAggregate.accountRepository.getBindProcess(e)];case 1:return n=r.sent().resData,clearTimeout(this.pollingTimer),0===(null===n||void 0===n?void 0:n.cgicode)?n.data.isFinish?(t(yl.BIND_POLLING_FINISH),[2]):Number(n.data.lastUpdateRs)>15?(t(yl.BIND_POLLING_FINISH,{progress:this.getProgress(n.data.totalNum,n.data.succNum)}),[2]):(t(yl.BIND_POLLING_RUNNING,{progress:this.getProgress(n.data.totalNum,n.data.succNum)}),this.runPolling(e,t),[2]):(t(yl.ERROR,{errBindQQStatus:yl.BIND_POLLING_RUNNING}),[2])}}))}))}),1e3))},e.prototype.getProgress=function(e,t){return void 0===t&&(t=0),e?Math.floor(t/e):1},e=d([h(0,i.b$),g("design:paramtypes",[Object])],e)}();function fp(e,t){var n,r=this;return ap=t,function(o){return function i(){return v(r,void 0,void 0,(function(){var r,s,u;return y(this,(function(a){switch(a.label){case 0:return ap!==t?[2]:[4,e.loginRepository.updateWeChatLoginQRCodeStatus(t)];case 1:return r=a.sent(),s=r.error,u=r.resData,s?(o({status:up.ERROR}),[2]):(null===u||void 0===u?void 0:u.data.status.isFinish)?(o({status:up.USER_HAS_CONFIRMED}),[2]):(n=setTimeout(i,1e3),[2])}}))}))}(),setTimeout((function(){ap===t&&o({status:up.CODE_WAS_EXPIRED}),clearTimeout(n)}),58e3),function(){return clearTimeout(n)}}}!function(e){e.CODE_IS_READY="CODE_IS_READY",e.USER_HAS_SCANNED="USER_HAS_SCANNED",e.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",e.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",e.ERROR="ERROR"}(up||(up={}));var lp,pp,dp,hp=function(){function e(e,t){this.accountDomainService=e,this.loginDomainService=t}return e.prototype.getQRCode=function(){return v(this,void 0,void 0,(function(){var e,t,n,r;return y(this,(function(o){switch(o.label){case 0:return e=this.accountDomainService.accountAggregate.userInfo.nowUserIndex,[4,this.accountDomainService.accountAggregate.accountRepository.getBindWxQrCode(e)];case 1:if(t=o.sent(),n=t.error,r=t.resData,n)throw n;return[2,this.convertWeChatQRCodeResponse(null===r||void 0===r?void 0:r.data)]}}))}))},e.prototype.convertWeChatQRCodeResponse=function(e){var t=null!==e&&void 0!==e?e:{},n=t.img,r=t.checkKey;if(!n||!r)throw Error("获取微信二维码失败");return{id:r,image:"data:image/png;base64,".concat(n),subscribe:fp(this.loginDomainService.loginAggregate,r)}},e=d([h(0,i.b$),h(1,i.CZ),g("design:paramtypes",[Object,Object])],e)}(),gp=function(){function e(e,t){this.accountDomainService=e,this.loginDomainService=t}return e.prototype.qqBind=function(e){return this.qqBindApplication||(this.qqBindApplication=new cp(this.accountDomainService)),this.qqBindApplication.getStatus(e)},e.prototype.wechatBind=function(){return this.wechatBindApplication=new hp(this.accountDomainService,this.loginDomainService),this.wechatBindApplication.getQRCode()},e.prototype.getQQBindingInfo=function(){return this.qqBindApplication||(this.qqBindApplication=new cp(this.accountDomainService)),this.qqBindApplication.getBindingQQAccountInfo()},e=d([h(0,i.b$),h(1,i.CZ),g("design:paramtypes",[Object,Object])],e)}(),vp=function(e){return function(t){return oc(t,e)}}(rc),yp=function(e){function t(t,n,r){var o=e.call(this)||this;o.accountDomainService=t,o.loginDomainService=n,o.messageDomainService=r,o.accountDomainService.createPersonalEnvAccountAggregate();var i=o.accountDomainService.accountAggregate.userInfo.tinyId;return o.loginDomainService.createLoginAggregate(i),o.initDomainService(),o.accountListApplicationService=new sc(t,r),o.dcLoginApplicationService=new Cc(n,r),o}return l(t,e),t.prototype.updatePasswordsSettings=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return[4,(e=this.accountDomainService.accountAggregate).passwordEntity.updatePwdTips()];case 1:return t.sent(),[2,{enabled:e.passwordEntity.isHasPassword,phoneNumber:e.passwordEntity.phone}]}}))}))},t.prototype.updateVipInfo=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.accountDomainService.completionUserInfo()];case 1:return e.sent(),[2,this.accountDomainService.accountAggregate.vipInfo]}}))}))},t.prototype.updateBindUserInfo=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.accountDomainService.completionUserInfo()];case 1:return e.sent(),[2,this.accountDomainService.accountAggregate.bindUserInfo]}}))}))},t.prototype.updateUserInfo=function(e){return v(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return[4,this.accountDomainService.updatePersonalEnvAccountAggregate(e)];case 1:return n.sent(),t=this.accountDomainService.accountAggregate.userInfo.tinyId,this.loginDomainService.createLoginAggregate(t),this.initDomainService(),[2,this.accountDomainService.accountAggregate.userInfo]}}))}))},t.prototype.getPasswordsModifyQuestionList=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return[4,(e=this.accountDomainService.accountAggregate).passwordEntity.updatePwdQuestionList()];case 1:return t.sent(),[2,e.passwordEntity.pwdQuestionList]}}))}))},t.prototype.getAccountProfileList=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return[4,this.accountListApplicationService.getPersonalAccountList()];case 1:return e=t.sent(),[2,vp(e)]}}))}))},t.prototype.completionUserInfo=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return[4,this.accountDomainService.completionUserInfo()];case 1:return e=t.sent(),this.vipInfo=this.accountDomainService.accountAggregate.vipInfo,this.bindUserInfo=this.accountDomainService.accountAggregate.bindUserInfo,[2,e]}}))}))},t.prototype.loginSuccessJumpUrl=function(e,t){(new jc).loginSuccessJumpUrl(e,t)},t.prototype.logoutSuccessJumpUrl=function(){(new jc).logoutSuccessJumpUrl()},t.prototype.login=function(e,t){new Fc(this.loginDomainService).login(e,t)},t.prototype.logout=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,new sp(this.accountDomainService).logout()];case 1:return[2,e.sent()]}}))}))},t.prototype.deleteAccount=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.accountListApplicationService.deleteAccountForList(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.switchToAccount=function(e){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,new Lc(this.accountDomainService,this.messageDomainService).switchAccount(e)];case 1:return t.sent(),[2]}}))}))},t.prototype.bindQQAccount=function(e){return new gp(this.accountDomainService,this.loginDomainService).qqBind(e)},t.prototype.bindWeChatAccount=function(){return new gp(this.accountDomainService,this.loginDomainService).wechatBind()},t.prototype.getQQBindingInfo=function(){return v(this,void 0,void 0,(function(){return y(this,(function(e){return[2,this.accountDomainService.accountAggregate.bindingQQInfo()]}))}))},t.prototype.initDomainAction=function(){var e=this.accountDomainService.accountAggregate,t=e.passwordEntity.passwordRepository;this.sendVerifyCodeSMS=t.pwdVerifyCodeGet.bind(t),this.addPasswordsWithNewPhoneNumber=t.pwdAdd.bind(t),this.resetPasswords=t.pwdReset.bind(t),this.verifyCodeSMS=t.pwdVerifyCodeCheck.bind(t),this.verifyQuestionAnswers=t.pwdQuestionCheck.bind(t),this.delPasswords=t.pwdDel.bind(t),this.verifyPasswords=t.pwdVerify.bind(t),this.unbindAccount=e.accountRepository.unbindUserInfo.bind(e.accountRepository)},t.prototype.initDomainService=function(){var e=this.accountDomainService.accountAggregate;this.userInfo=e.userInfo;var t=e.passwordEntity,n=t.isHasPassword,r=t.phone;this.passwordsSettings={enabled:n,phoneNumber:r},this.vipInfo=e.vipInfo,this.bindUserInfo=e.bindUserInfo,this.initDomainAction()},d([$a,g("design:type",Object)],t.prototype,"userInfo",void 0),d([$a,g("design:type",Object)],t.prototype,"passwordsSettings",void 0),d([$a,g("design:type",Object)],t.prototype,"vipInfo",void 0),d([$a,g("design:type",Object)],t.prototype,"bindUserInfo",void 0),d([Xa("passwordsSettings"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],t.prototype,"updatePasswordsSettings",null),d([Xa("vipInfo"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],t.prototype,"updateVipInfo",null),d([Xa("bindUserInfo"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],t.prototype,"updateBindUserInfo",null),d([Xa("userInfo"),g("design:type",Function),g("design:paramtypes",[String]),g("design:returntype",Promise)],t.prototype,"updateUserInfo",null),t=d([ec(),h(0,i.b$),h(1,i.CZ),h(2,i.x5),g("design:paramtypes",[Object,Object,Object])],t)}(s.Disposable),mp=(0,r.yh)("IAccountApplicationService");!function(e){e.CODE_IS_READY="CODE_IS_READY",e.USER_HAS_SCANNED="USER_HAS_SCANNED",e.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",e.USER_HAS_CONFIRMED="USER_HAS_CONFIRMED",e.ERROR="ERROR"}(lp||(lp={})),function(e){e.TENCENT_DOCS="TENCENT_DOCS"}(pp||(pp={})),function(e){e.CODE_IS_READY="CODE_IS_READY",e.BIND_POLLING_RUNNING="BIND_POLLING_RUNNING",e.BIND_POLLING_FINISH="BIND_POLLING_FINISH",e.BIND_TIMEOUT="BIND_TIMEOUT",e.CODE_WAS_EXPIRED="CODE_WAS_EXPIRED",e.ERROR="ERROR"}(dp||(dp={}))},"../node_modules/@tencent/ark-domain/lib/index.js":function(e,t,n){n.d(t,{$g:function(){return nr},BE:function(){return Zo},CZ:function(){return Ye},DS:function(){return ze},Gg:function(){return sn},Lq:function(){return I},Ls:function(){return xn},Md:function(){return Xo},Q5:function(){return ue},UQ:function(){return no},YL:function(){return qo},YX:function(){return Kn},Yj:function(){return yn},_g:function(){return x},b$:function(){return k},d_:function(){return $r},dn:function(){return Kr},eT:function(){return Jr},ed:function(){return Gn},gs:function(){return ct},iJ:function(){return xo},in:function(){return ln},iq:function(){return vt},jR:function(){return Hr},ly:function(){return Wo},mV:function(){return rr},n7:function(){return $t},rJ:function(){return pn},u$:function(){return to},vM:function(){return on},vx:function(){return Ct},x5:function(){return Io},y4:function(){return mn}});var r,o=n("../node_modules/@tencent/containerized/build/main/index.js"),i=n("../node_modules/@tencent/ark-request/lib/index.js"),s=n("../node_modules/@tencent/logger/lib/index.js");function u(e){return function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}("Object",e)}function a(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(!e||!u(e))return e;var t={};return Object.keys(e).forEach((function(n){var r,o=(r=n).length<1?r:(r[0].toLowerCase()+r.substr(1)).replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}));if(Object.prototype.hasOwnProperty.call(e,n))if(e[n]instanceof Array){var i=e[n],s=[];i.forEach((function(e){var t=c(e);s.push(t)})),t[o]=s}else e[n]instanceof Object?t[o]=c(e[n]):t[o]=e[n]})),t}function f(e){if(!e||!u(e))return e;var t={};return Object.keys(e).forEach((function(n){var r=function(e){for(var t=e.split("_"),n="",r=0;r<t.length;r++){var o=t[r];o.length>0&&(n+=0===r?o:o=""+o[0].toUpperCase()+o.substring(1))}return n}(n);if(Object.prototype.hasOwnProperty.call(e,n))if(e[n]instanceof Array){var o=e[n],i=[];o.forEach((function(e){var t=f(e);i.push(t)})),t[r]=i}else e[n]instanceof Object?t[r]=f(e[n]):t[r]=e[n]})),t}function l(e){if(!a(O,"document"))return null;var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n=document.cookie.match(t);return(n?n[1]:null)||null}function p(e){return l(e)}!function(e){e.xsrf="TOK",e.devRouteId="dev_route_id",e.devOaName="dev_oa_name",e.fd="fd",e.envId="env_id",e.sid="SID",e.sids="SID_S",e.uid="uid",e.uidKey="uid_key",e.uin="uin",e.loginTime="loginTime",e.hasBeenLogin="has_been_login",e.adtag="adtag"}(r||(r={}));var d={};function h(){return"undefined"!==typeof window}function g(){return"undefined"!==typeof n.g}var v,y,m,b,_,E,w,S,O=h()?window:g()?n.g:h||"undefined"===typeof self?(g()&&n.g.describe,d):self,C="//"+(a(O,"location")?decodeURIComponent(location.host):""),T=C+"/cgi-bin/online_docs/",R=C+"/cgi-bin/api/",A=C+"/cgi-go/";!function(e){e[e.SUCCESS=0]="SUCCESS"}(v||(v={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.NO_PERMISSION=10003]="NO_PERMISSION"}(y||(y={})),function(e){e[e.COLLECT=0]="COLLECT",e[e.CANCEL=1]="CANCEL"}(m||(m={})),function(e){e[e.BLANK=1]="BLANK",e[e.TEMPLATE=2]="TEMPLATE",e[e.COPY=4]="COPY"}(b||(b={})),function(e){e[e.DOC=0]="DOC",e[e.EXCEL=1]="EXCEL",e[e.PPT=2]="PPT",e[e.FORM=3]="FORM"}(_||(_={})),function(e){e[e.NONE=0]="NONE",e[e.HUMTRANS=1]="HUMTRANS"}(E||(E={})),function(e){e[e.NONE=0]="NONE",e[e.DEFAULT=5]="DEFAULT"}(w||(w={})),function(e){e[e.MOBILE=0]="MOBILE",e[e.PC=1]="PC"}(S||(S={}));var x=(0,o.yh)("INetworkRequestService"),I=function(){this.instance=i.networkRequest},k=(0,o.yh)("IAccountDomainService"),M=function(e,t){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},M(e,t)};function D(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P.apply(this,arguments)};function N(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function L(e,t){return function(n,r){t(n,r,e)}}function j(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function U(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))}function F(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function W(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function B(e){return!!e&&0===e.retcode&&0===e.cgicode}function Q(e){return e||""}function V(e){return e||0}function G(e){var t=new FormData;return Object.keys(e).forEach((function(n){t.set(n,e[n])})),t}function K(e,t){return["0",""].includes(e)?t:e+"$"+t}var H=function(){function e(){}return e.prototype.jsonObj2Class=function(t,n){var r=this;t?Object.keys(t).forEach((function(o){var i=o;n||(i=function(e){for(var t=e.split("_"),n="",r=0;r<t.length;r++){var o=t[r];o.length>0&&(n+=0===r?o:o=""+o[0].toUpperCase()+o.substring(1))}return n}(o)),Object.prototype.hasOwnProperty.call(r,i)&&(r[i]instanceof e?r[i].jsonObj2Class(t[o]):r[i]=t[o])})):e.logger.debug("params erroro: jsonObj2Class")},e.prototype.class2JsonObj=function(t){var n=this,r={};return Object.keys(this).forEach((function(o){if("id"!==o){var i=o;t||(i=function(e){return e.length<1?e:(e[0].toLowerCase()+e.substr(1)).replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}))}(o)),n[o]instanceof e&&(r[i]=n[o].class2JsonObj(t)),r[i]=n[o]}})),r},e.logger=new s.Yd("DDBase").use("console"),e}(),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.jsonObj=function(){return this.class2JsonObj()},t.prototype.equals=function(e){var n,r,o=Object.keys(this);try{for(var i=W(o),s=i.next();!s.done;s=i.next()){var u=s.value;if(this[u]instanceof t){if(!this[u].equals(e[u]))return!1}else if(this[u]!==e[u])return!1}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0},t.prototype.clone=function(){var e=Reflect.getPrototypeOf(this);return Reflect.construct(e.constructor,[this.jsonObj()])},t}(H),Y=new s.Yd("domain").use("console");function $(e){return e.retcode||e.code||0}function J(e){return e.msg||e.message||e.retmsg||""}function X(){return function(e,t,n){var r=n.value;n.value=function(){for(var n,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return U(this,void 0,void 0,(function(){var i,s,u;return F(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,r.apply(this,o)];case 1:return i=a.sent().data,s={data:i,retcode:$(i),msg:J(i),cgicode:null!==(n=i.cgicode)&&void 0!==n?n:0},delete i.msg,delete i.message,delete i.retmsg,delete i.retcode,delete i.code,delete i.cgicode,delete i.ret,[2,{resData:s}];case 2:return u=a.sent(),Y.error(e.constructor.name+"|"+t+"|"+u),[2,{error:u,resData:{}}];case 3:return[2]}}))}))}}}function Z(e,t){return function(n,r,o){Y.debug("praseHeaderKey2DataHandler|"+n.constructor.name+"|"+r+"|"+e);var i=o.value;o.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return U(this,void 0,void 0,(function(){var r,o,s;return F(this,(function(u){switch(u.label){case 0:return[4,i.apply(this,n)];case 1:return r=u.sent(),o=r.data,s=r.headers,o&&s&&s[e]&&(o[t]=s[e]),[2,r]}}))}))}}}function ee(e,t){return e.prototype instanceof z?Reflect.construct(e,[t]):Reflect.construct(e,["mainEntity"]).initWithJsonObj(t)}function te(e,t){return function(n,r,o){Y.debug("fireEvent|"+n.constructor.name+"|"+r);var i=o.value;o.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return U(this,void 0,void 0,(function(){var r,o;return F(this,(function(s){switch(s.label){case 0:return[4,i.apply(this,n)];case 1:return(r=s.sent()).resData&&B(r.resData)&&((o={})[t]=this[t],this[e].fire(o)),[2,r]}}))}))}}}function ne(e,t){return function(n,r,o){Y.debug("parseObjectData|"+n.constructor.name+"|"+r);var i=o.value;o.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return U(this,void 0,void 0,(function(){var r;return F(this,(function(o){switch(o.label){case 0:return[4,i.apply(this,n)];case 1:return(r=o.sent()).error?[2,r]:(this.aggregateVersion=this.aggregateVersion+1,e.prototype instanceof z?this[t]=ee(e,r.resData.data):this[t].initWithJsonObj(r.resData.data),[2,{resData:P(P({},r.resData),{data:this[t]})}])}}))}))}}}function re(e,t,n){return function(r,o,i){Y.debug("parseArrayData|"+r.constructor.name+"|"+o);var s=i.value;i.value=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return U(this,void 0,void 0,(function(){var o,i=this;return F(this,(function(u){switch(u.label){case 0:return[4,s.apply(this,r)];case 1:return(o=u.sent()).error?[2,o]:(this.aggregateVersion=this.aggregateVersion+1,(o.resData.data[n]||[]).forEach((function(n){i[t].push(ee(e,n))})),[2,{resData:P(P({},o.resData),{data:this[t]})}])}}))}))}}}function oe(){return function(e,t,n){Y.debug("dataFieldNamingHandler|"+e.constructor.name+"|"+t);var r=n.value;n.value=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return U(this,void 0,void 0,(function(){var n;return F(this,(function(o){switch(o.label){case 0:return[4,r.apply(this,t)];case 1:return n=o.sent(),(null===(e=n.resData)||void 0===e?void 0:e.data)&&(n.resData.data=f(n.resData.data)),[2,n]}}))}))}}}function ie(){return function(e,t,n){Y.debug("paramsFieldNamingHandler|"+e.constructor.name+"|"+t);var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){switch(n.label){case 0:return e.length?[3,2]:[4,r.apply(this,[])];case 1:case 3:return[2,n.sent()];case 2:return t=[c(e[0])],[4,r.apply(this,t)]}}))}))}}}function se(){return function(e,t,n){Y.debug("parseResBody|"+e.constructor.name+"|"+t);var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){switch(n.label){case 0:return[4,r.apply(this,e)];case 1:return(t=n.sent()).error?[2,t]:[2,{resData:P(P({},t.resData),{data:P({},t.resData.data.body)})}]}}))}))}}}Y.level="OFF";var ue,ae=T+"user_info",ce=function(){function e(e){this.networkRequestService=e}return e.prototype.getPersonalUserInfo=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=G({xsrf:p(r.xsrf),get_vip_info:1}),[2,this.networkRequestService.instance.post(ae,e)]}))}))},e.prototype.getEnterpriseUserInfo=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=G({xsrf:p(r.xsrf)}),[2,this.networkRequestService.instance.post(ae,e)]}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"getPersonalUserInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"getEnterpriseUserInfo",null),e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),fe=function(e){function t(t){var n=e.call(this)||this;return n.id=t,n}return D(t,e),t.prototype.initWithJsonObj=function(e){this.jsonObj2Class(e)},t.prototype.jsonObj=function(){return this.class2JsonObj()},t.prototype.getIdentity=function(){return this.id},t.prototype.equals=function(e){return null!==e&&(this===e||this.getIdentity()===e.getIdentity())},t}(H),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggregateVersion=0,t.aggregateIsDeleted=!1,t}return D(t,e),t.prototype.version=function(){return this.aggregateVersion},t.prototype.isDeleted=function(){return this.aggregateIsDeleted},t}(fe),pe=R+"account-list",de=R+"logout",he=function(){function e(e){this.networkRequestService=e}return e.prototype.getAccountList=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){switch(t.label){case 0:return e=pe+"?xrsf="+p(r.xsrf),[4,this.networkRequestService.instance.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.delAccountForList=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=de+"?xrsf="+p(r.xsrf)+"&u="+e,[2,this.networkRequestService.instance.get(t)]}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"getAccountList",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"delAccountForList",null),e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),ge=function(e){function t(t,n){var r=e.call(this,n)||this;return r.networkRequestService=t,r.accountListRepository=new he(t),r.accountList=[],r}return D(t,e),t.prototype.getAccountList=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){switch(t.label){case 0:return[4,this.accountListRepository.getAccountList()];case 1:return e=t.sent().resData,this.accountList=(null===e||void 0===e?void 0:e.data.data)?e.data.data:[],[2,this.accountList]}}))}))},t.prototype.delAccountForList=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){switch(n.label){case 0:return[4,this.accountListRepository.delAccountForList(e)];case 1:return t=n.sent().resData,this.updateListAfterDel(e),[2,0===(null===t||void 0===t?void 0:t.retcode)]}}))}))},t.prototype.updateListAfterDel=function(e){this.accountList=this.accountList.filter((function(t){return t.userIndex!==e}))},t=N([L(0,x),j("design:paramtypes",[Object,String])],t)}(fe),ve=R+"logout",ye=T+"user_unbind",me=T+"user_bind",be=C+"/v2/cgi-bin/online_docs/polling",_e=C+"/cgi-bin/online_docs/wxqrcode",Ee=T+"user_info",we=T+"bind/permission/uid",Se=T+"bind/permission/uin";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.WORK=3]="WORK",e[e.EMAIL=4]="EMAIL",e[e.PHONE=8]="PHONE",e[e.WORK_COMBINATION=9]="WORK_COMBINATION",e[e.TOWER=10]="TOWER",e[e.ROBOT=11]="ROBOT",e[e.QFYF=12]="QFYF",e[e.OPEN=13]="OPEN",e[e.MEETING=14]="MEETING"}(ue||(ue={}));var Oe,Ce,Te,Re=function(){function e(e){this.networkRequestService=e}return e.prototype.logout=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=ve+"?xrsf="+p(r.xsrf)+"&u="+e,[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.wecomLogout=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t="//doc.weixin.qq.com/session/logout?xrsf="+p(r.xsrf)+"&vid="+e,[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.unbindUserInfo=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G({type:e,xsrf:p(r.xsrf)}),[2,this.networkRequestService.instance.post(ye,t)]}))}))},e.prototype.bindUserInfo=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=G({bindType:ue.QQ,p_luin:l("p_luin"),p_uin:l("p_uin"),p_skey:l("p_skey"),p_lskey:l("p_lskey"),xsrf:p(r.xsrf)}),[2,this.networkRequestService.instance.post(me,e)]}))}))},e.prototype.CurrentLoginAccountBindInfo=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.networkRequestService.instance.get(we)]}))}))},e.prototype.BindingAccountInfo=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.networkRequestService.instance.get(Se+"?uflag=qqsig")]}))}))},e.prototype.getBindWxQrCode=function(e){var t=_e+"?xsrf="+p(r.xsrf)+"&page="+encodeURIComponent("pages/bindwx/bindwx")+"&ac=bind&ts="+Date.now()+"&u="+e+"&checkKey=1";return this.networkRequestService.instance.get(t)},e.prototype.getBindProcess=function(e){var t=be+"?CheckKey="+e;return this.networkRequestService.instance.post(t)},e.prototype.getPersonalUserInfo=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=G({xsrf:p(r.xsrf),get_vip_info:1}),[2,this.networkRequestService.instance.post(Ee,e)]}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"logout",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"wecomLogout",null),N([X(),j("design:type",Function),j("design:paramtypes",[Number]),j("design:returntype",Promise)],e.prototype,"unbindUserInfo",null),N([X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"bindUserInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"CurrentLoginAccountBindInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"BindingAccountInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"getBindWxQrCode",null),N([X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"getBindProcess",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"getPersonalUserInfo",null),e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),Ae=C+"/online_docs_cgi/pwd/add",xe=C+"/online_docs_cgi/pwd/del",Ie=C+"/online_docs_cgi/pwd/verify",ke=C+"/online_docs_cgi/pwd/reset",Me=C+"/online_docs_cgi/pwd/verify_code_get",De=C+"/online_docs_cgi/pwd/verify_code_check",Pe=C+"/online_docs_cgi/pwd/question_check",Ne=C+"/online_docs_cgi/pwd/question_get",Le=C+"/online_docs_cgi/pwd/tips_get",je=C+"/online_docs_cgi/pwd/token_verify",Ue=function(){function e(e){this.networkRequestService=e}return e.prototype.pwdAdd=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P({xsrf:p(r.xsrf)},e)),[2,this.networkRequestService.instance.post(Ae,t)]}))}))},e.prototype.pwdDel=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P({xsrf:p(r.xsrf)},this.changeParam(e))),[2,this.networkRequestService.instance.post(xe,t)]}))}))},e.prototype.pwdVerify=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P({xsrf:p(r.xsrf)},e)),[2,this.networkRequestService.instance.post(Ie,t)]}))}))},e.prototype.pwdReset=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P({xsrf:p(r.xsrf)},this.changeParam(e))),[2,this.networkRequestService.instance.post(ke,t)]}))}))},e.prototype.pwdVerifyCodeGet=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P({xsrf:p(r.xsrf)},e)),[2,this.networkRequestService.instance.post(Me,t)]}))}))},e.prototype.pwdVerifyCodeCheck=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P({xsrf:p(r.xsrf)},e)),[2,this.networkRequestService.instance.post(De,t)]}))}))},e.prototype.pwdQuestionCheck=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P({xsrf:p(r.xsrf)},this.changeParam(e))),[2,this.networkRequestService.instance.post(Pe,t)]}))}))},e.prototype.pwdQuestionGet=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=G({xsrf:p(r.xsrf)}),[2,this.networkRequestService.instance.post(Ne,e)]}))}))},e.prototype.pwdTipsGet=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=G({xsrf:p(r.xsrf)}),[2,this.networkRequestService.instance.post(Le,e)]}))}))},e.prototype.pwdTokenVerify=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.networkRequestService.instance.post(je,P({xsrf:p(r.xsrf)},e))]}))}))},e.prototype.changeParam=function(e){return e.question_info?P(P({},e),{question_info:JSON.stringify(e.question_info)}):e},N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"pwdAdd",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"pwdDel",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"pwdVerify",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"pwdReset",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"pwdVerifyCodeGet",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"pwdVerifyCodeCheck",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"pwdQuestionCheck",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"pwdQuestionGet",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"pwdTipsGet",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"pwdTokenVerify",null),e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),Fe=function(e){function t(t,n){var r=e.call(this,n)||this;return r.networkRequestService=t,r.phone="",r.isHasPassword=!1,r.pwdQuestionList=[],r.passwordRepository=new Ue(r.networkRequestService),r}return D(t,e),t.prototype.updatePwdTips=function(){var e,t,n;return U(this,void 0,void 0,(function(){var r;return F(this,(function(o){switch(o.label){case 0:return[4,this.passwordRepository.pwdTipsGet()];case 1:return r=o.sent().resData,this.isHasPassword=!!(null===(e=null===r||void 0===r?void 0:r.data)||void 0===e?void 0:e.hasPwd),this.phone=null!==(n=null===(t=null===r||void 0===r?void 0:r.data)||void 0===t?void 0:t.pwdPhoneNum)&&void 0!==n?n:"",[2]}}))}))},t.prototype.updatePwdQuestionList=function(){var e,t;return U(this,void 0,void 0,(function(){var n;return F(this,(function(r){switch(r.label){case 0:return[4,this.passwordRepository.pwdQuestionGet()];case 1:return n=r.sent().resData,this.pwdQuestionList=null!==(t=null===(e=null===n||void 0===n?void 0:n.data)||void 0===e?void 0:e.questionInfo)&&void 0!==t?t:[],[2]}}))}))},t=N([L(0,x),j("design:paramtypes",[Object,String])],t)}(fe);!function(e){e.BINDING="BINDING",e.UNBIND="UNBIND"}(Oe||(Oe={})),function(e){e[e.NOT_YET=1]="NOT_YET",e[e.USING=2]="USING",e[e.EXPIRED=3]="EXPIRED"}(Ce||(Ce={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.NONE="NONE"}(Te||(Te={}));var We="100000000000000000",qe=function(e){function t(t){var n=e.call(this)||this;return n.corpId="",n.corpName="",n.englishName="",n.loginType=ue.UNKNOWN,n.nowUserIndex="",n.openId="",n.tinyId=We,n.uidSource=ue.UNKNOWN,n.uin="",n.userId="",n.userName="",n.userPic="",n.settings={language:""},t&&n.jsonObj2Class(t),n}return D(t,e),t}(z),Be=function(e){function t(t){var n=e.call(this)||this;if(n.type=Te.NONE,n.beginTime=0,n.endTime=0,t){var r=n.handleVipInfo(t);n.jsonObj2Class(r)}return n}return D(t,e),t.prototype.handleVipInfo=function(e){var t;return(null===(t=null===e||void 0===e?void 0:e.superVip)||void 0===t?void 0:t.status)===Ce.USING?{type:Te.SUPER,beginTime:e.superVip.beginTime,endTime:e.superVip.endTime}:e.isVip?{type:Te.NORMAL,beginTime:e.beginTime,endTime:e.endTime}:{type:Te.NONE,beginTime:e.beginTime,endTime:e.beginTime}},t}(z),Qe=function(e){function t(t){var n=e.call(this)||this;if(n.type=Oe.UNBIND,n.userName="",n.userPic="",n.accountType=ue.UNKNOWN,t){n.uidSource=t.uidSource,n.loginType=t.loginType;var r=n.handleBindUserInfo(t);n.jsonObj2Class(r)}return n}return D(t,e),t.prototype.handleBindUserInfo=function(e){var t=e.wxAvatar,n=e.wxNick,r=e.qqAvatar,o=e.qqNick;return e.wxOpenid&&this.loginType!==ue.WX?{type:Oe.BINDING,userName:n,userPic:t,accountType:ue.WX}:r&&this.loginType!==ue.QQ?{type:Oe.BINDING,userName:o,userPic:r,accountType:ue.QQ}:{type:Oe.UNBIND,userName:"",userPic:"",accountType:ue.UNKNOWN}},t}(z),Ve="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function Ge(e){var t={exports:{}};return e(t,t.exports),t.exports
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */}var Ke=Ge((function(e,t){(function(){var n,r="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",s=16,u=32,a=64,c=128,f=256,l=1/0,p=9007199254740991,d=NaN,h=4294967295,g=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",u],["partialRight",a],["rearg",f]],v="[object Arguments]",y="[object Array]",m="[object Boolean]",b="[object Date]",_="[object Error]",E="[object Function]",w="[object GeneratorFunction]",S="[object Map]",O="[object Number]",C="[object Object]",T="[object Promise]",R="[object RegExp]",A="[object Set]",x="[object String]",I="[object Symbol]",k="[object WeakMap]",M="[object ArrayBuffer]",D="[object DataView]",P="[object Float32Array]",N="[object Float64Array]",L="[object Int8Array]",j="[object Int16Array]",U="[object Int32Array]",F="[object Uint8Array]",W="[object Uint8ClampedArray]",q="[object Uint16Array]",B="[object Uint32Array]",Q=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,z=RegExp(K.source),Y=RegExp(H.source),$=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),oe=/^\s+/,ie=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['’]",xe="[\\ud800-\\udfff]",Ie="["+Re+"]",ke="["+we+"]",Me="\\d+",De="[\\u2700-\\u27bf]",Pe="["+Oe+"]",Ne="[^\\ud800-\\udfff"+Re+Me+Se+Oe+Ce+"]",Le="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ce+"]",qe="(?:"+Pe+"|"+Ne+")",Be="(?:"+We+"|"+Ne+")",Qe="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+ke+"|"+Le+")?",He="[\\ufe0e\\ufe0f]?",ze=He+Ke+"(?:\\u200d(?:"+[je,Ue,Fe].join("|")+")"+He+Ke+")*",Ye="(?:"+[De,Ue,Fe].join("|")+")"+ze,$e="(?:"+[je+ke+"?",ke,Ue,Fe,xe].join("|")+")",Je=RegExp(Ae,"g"),Xe=RegExp(ke,"g"),Ze=RegExp(Le+"(?="+Le+")|"+$e+ze,"g"),et=RegExp([We+"?"+Pe+"+"+Qe+"(?="+[Ie,We,"$"].join("|")+")",Be+"+"+Ge+"(?="+[Ie,We+qe,"$"].join("|")+")",We+"?"+qe+"+"+Qe,We+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Ye].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+we+Te+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,it={};it[P]=it[N]=it[L]=it[j]=it[U]=it[F]=it[W]=it[q]=it[B]=!0,it[v]=it[y]=it[M]=it[m]=it[D]=it[b]=it[_]=it[E]=it[S]=it[O]=it[C]=it[R]=it[A]=it[x]=it[k]=!1;var st={};st[v]=st[y]=st[M]=st[D]=st[m]=st[b]=st[P]=st[N]=st[L]=st[j]=st[U]=st[S]=st[O]=st[C]=st[R]=st[A]=st[x]=st[I]=st[F]=st[W]=st[q]=st[B]=!0,st[_]=st[E]=st[k]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ct=parseInt,ft="object"==typeof Ve&&Ve&&Ve.Object===Object&&Ve,lt="object"==typeof self&&self&&self.Object===Object&&self,pt=ft||lt||Function("return this")(),dt=t&&!t.nodeType&&t,ht=dt&&e&&!e.nodeType&&e,gt=ht&&ht.exports===dt,vt=gt&&ft.process,yt=function(){try{var e=ht&&ht.require&&ht.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),mt=yt&&yt.isArrayBuffer,bt=yt&&yt.isDate,_t=yt&&yt.isMap,Et=yt&&yt.isRegExp,wt=yt&&yt.isSet,St=yt&&yt.isTypedArray;function Ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function xt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function It(e,t){return!(null==e||!e.length)&&Wt(e,t,0)>-1}function kt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Dt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Pt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Nt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Vt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Ft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Wt(e,t,n){return t===t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Bt,n)}function qt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Bt(e){return e!==e}function Qt(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:d}function Vt(e){return function(t){return null==t?n:t[e]}}function Gt(e){return function(t){return null==e?n:e[t]}}function Kt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Ht(e,t){for(var r,o=-1,i=e.length;++o<i;){var s=t(e[o]);s!==n&&(r=r===n?s:r+s)}return r}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,hn(e)+1).replace(oe,""):e}function $t(e){return function(t){return e(t)}}function Jt(e,t){return Mt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Zt(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var nn=Gt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rn=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ut[e]}function sn(e){return tt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function an(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,o=0,s=[];++n<r;){var u=e[n];u!==t&&u!==i||(e[n]=i,s[o++]=n)}return s}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){for(var t=Ze.lastIndex=0;Ze.test(e);)++t;return t}(e):jt(e)}function dn(e){return sn(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var gn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),vn=function e(t){var ie=(t=null==t?pt:vn.defaults(pt.Object(),t,vn.pick(pt,rt))).Array,we=t.Date,Se=t.Error,Oe=t.Function,Ce=t.Math,Te=t.Object,Re=t.RegExp,Ae=t.String,xe=t.TypeError,Ie=ie.prototype,ke=Oe.prototype,Me=Te.prototype,De=t["__core-js_shared__"],Pe=ke.toString,Ne=Me.hasOwnProperty,Le=0,je=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Me.toString,Fe=Pe.call(Te),We=pt._,qe=Re("^"+Pe.call(Ne).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=gt?t.Buffer:n,Qe=t.Symbol,Ve=t.Uint8Array,Ge=Be?Be.allocUnsafe:n,Ke=an(Te.getPrototypeOf,Te),He=Te.create,ze=Me.propertyIsEnumerable,Ye=Ie.splice,$e=Qe?Qe.isConcatSpreadable:n,Ze=Qe?Qe.iterator:n,tt=Qe?Qe.toStringTag:n,ut=function(){try{var e=di(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),ft=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,lt=we&&we.now!==pt.Date.now&&we.now,dt=t.setTimeout!==pt.setTimeout&&t.setTimeout,ht=Ce.ceil,vt=Ce.floor,yt=Te.getOwnPropertySymbols,jt=Be?Be.isBuffer:n,Gt=t.isFinite,yn=Ie.join,mn=an(Te.keys,Te),bn=Ce.max,_n=Ce.min,En=we.now,wn=t.parseInt,Sn=Ce.random,On=Ie.reverse,Cn=di(t,"DataView"),Tn=di(t,"Map"),Rn=di(t,"Promise"),An=di(t,"Set"),xn=di(t,"WeakMap"),In=di(Te,"create"),kn=xn&&new xn,Mn={},Dn=Wi(Cn),Pn=Wi(Tn),Nn=Wi(Rn),Ln=Wi(An),jn=Wi(xn),Un=Qe?Qe.prototype:n,Fn=Un?Un.valueOf:n,Wn=Un?Un.toString:n;function qn(e){if(ru(e)&&!Ks(e)&&!(e instanceof Gn)){if(e instanceof Vn)return e;if(Ne.call(e,"__wrapped__"))return qi(e)}return new Vn(e)}var Bn=function(){function e(){}return function(t){if(!nu(t))return{};if(He)return He(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Qn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Hn(e);this.size=t.size}function Jn(e,t){var n=Ks(e),r=!n&&Gs(e),o=!n&&!r&&$s(e),i=!n&&!r&&!o&&lu(e),s=n||r||o||i,u=s?zt(e.length,Ae):[],a=u.length;for(var c in e)!t&&!Ne.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_i(c,a))||u.push(c);return u}function Xn(e){var t=e.length;return t?e[Yr(0,t-1)]:n}function Zn(e,t){return ji(ko(e),ar(t,0,e.length))}function er(e){return ji(ko(e))}function tr(e,t,r){(r!==n&&!Bs(e[t],r)||r===n&&!(t in e))&&sr(e,t,r)}function nr(e,t,r){var o=e[t];Ne.call(e,t)&&Bs(o,r)&&(r!==n||t in e)||sr(e,t,r)}function rr(e,t){for(var n=e.length;n--;)if(Bs(e[n][0],t))return n;return-1}function or(e,t,n,r){return dr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Mo(t,Du(t),e)}function sr(e,t,n){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,o=t.length,i=ie(o),s=null==e;++r<o;)i[r]=s?n:Au(e,t[r]);return i}function ar(e,t,r){return e===e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function cr(e,t,r,o,i,s){var u,a=1&t,c=2&t,f=4&t;if(r&&(u=i?r(e,o,i,s):r(e)),u!==n)return u;if(!nu(e))return e;var l=Ks(e);if(l){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return ko(e,u)}else{var p=vi(e),d=p==E||p==w;if($s(e))return Co(e,a);if(p==C||p==v||d&&!i){if(u=c||d?{}:mi(e),!a)return c?function(e,t){return Mo(e,gi(e),t)}(e,function(e,t){return e&&Mo(t,Pu(t),e)}(u,e)):function(e,t){return Mo(e,hi(e),t)}(e,ir(u,e))}else{if(!st[p])return i?e:{};u=function(e,t,n){var r,o=e.constructor;switch(t){case M:return To(e);case m:case b:return new o(+e);case D:return function(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case P:case N:case L:case j:case U:case F:case W:case q:case B:return Ro(e,n);case S:return new o;case O:case x:return new o(e);case R:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new o;case I:return r=e,Fn?Te(Fn.call(r)):{}}}(e,p,a)}}s||(s=new $n);var h=s.get(e);if(h)return h;s.set(e,u),au(e)?e.forEach((function(n){u.add(cr(n,t,r,n,e,s))})):ou(e)&&e.forEach((function(n,o){u.set(o,cr(n,t,r,o,e,s))}));var g=l?n:(f?c?si:ii:c?Pu:Du)(e);return Tt(g||e,(function(n,o){g&&(n=e[o=n]),nr(u,o,cr(n,t,r,o,e,s))})),u}function fr(e,t,r){var o=r.length;if(null==e)return!o;for(e=Te(e);o--;){var i=r[o],s=t[i],u=e[i];if(u===n&&!(i in e)||!s(u))return!1}return!0}function lr(e,t,o){if("function"!=typeof e)throw new xe(r);return Di((function(){e.apply(n,o)}),t)}function pr(e,t,n,r){var o=-1,i=It,s=!0,u=e.length,a=[],c=t.length;if(!u)return a;n&&(t=Mt(t,$t(n))),r?(i=kt,s=!1):t.length>=200&&(i=Xt,s=!1,t=new Yn(t));e:for(;++o<u;){var f=e[o],l=null==n?f:n(f);if(f=r||0!==f?f:0,s&&l===l){for(var p=c;p--;)if(t[p]===l)continue e;a.push(f)}else i(t,l,r)||a.push(f)}return a}qn.templateSettings={escape:$,evaluate:J,interpolate:X,variable:"",imports:{_:qn}},qn.prototype=Qn.prototype,qn.prototype.constructor=qn,Vn.prototype=Bn(Qn.prototype),Vn.prototype.constructor=Vn,Gn.prototype=Bn(Qn.prototype),Gn.prototype.constructor=Gn,Kn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(In){var r=t[e];return r===o?n:r}return Ne.call(t,e)?t[e]:n},Kn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==n:Ne.call(t,e)},Kn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=In&&t===n?o:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,r=rr(t,e);return r<0?n:t[r][1]},Hn.prototype.has=function(e){return rr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(Tn||Hn),string:new Kn}},zn.prototype.delete=function(e){var t=li(this,e).delete(e);return this.size-=t?1:0,t},zn.prototype.get=function(e){return li(this,e).get(e)},zn.prototype.has=function(e){return li(this,e).has(e)},zn.prototype.set=function(e,t){var n=li(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,o),this},Yn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Hn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zn(r)}return n.set(e,t),this.size=n.size,this};var dr=No(Er),hr=No(wr,!0);function gr(e,t){var n=!0;return dr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function vr(e,t,r){for(var o=-1,i=e.length;++o<i;){var s=e[o],u=t(s);if(null!=u&&(a===n?u===u&&!fu(u):r(u,a)))var a=u,c=s}return c}function yr(e,t){var n=[];return dr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function mr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=bi),o||(o=[]);++i<s;){var u=e[i];t>0&&n(u)?t>1?mr(u,t-1,n,r,o):Dt(o,u):r||(o[o.length]=u)}return o}var br=Lo(),_r=Lo(!0);function Er(e,t){return e&&br(e,t,Du)}function wr(e,t){return e&&_r(e,t,Du)}function Sr(e,t){return xt(t,(function(t){return Zs(e[t])}))}function Or(e,t){for(var r=0,o=(t=Eo(t,e)).length;null!=e&&r<o;)e=e[Fi(t[r++])];return r&&r==o?e:n}function Cr(e,t,n){var r=t(e);return Ks(e)?r:Dt(r,n(e))}function Tr(e){return null==e?e===n?"[object Undefined]":"[object Null]":tt&&tt in Te(e)?function(e){var t=Ne.call(e,tt),r=e[tt];try{e[tt]=n;var o=!0}catch(s){}var i=Ue.call(e);return o&&(t?e[tt]=r:delete e[tt]),i}(e):function(e){return Ue.call(e)}(e)}function Rr(e,t){return e>t}function Ar(e,t){return null!=e&&Ne.call(e,t)}function xr(e,t){return null!=e&&t in Te(e)}function Ir(e,t,r){for(var o=r?kt:It,i=e[0].length,s=e.length,u=s,a=ie(s),c=1/0,f=[];u--;){var l=e[u];u&&t&&(l=Mt(l,$t(t))),c=_n(l.length,c),a[u]=!r&&(t||i>=120&&l.length>=120)?new Yn(u&&l):n}l=e[0];var p=-1,d=a[0];e:for(;++p<i&&f.length<c;){var h=l[p],g=t?t(h):h;if(h=r||0!==h?h:0,!(d?Xt(d,g):o(f,g,r))){for(u=s;--u;){var v=a[u];if(!(v?Xt(v,g):o(e[u],g,r)))continue e}d&&d.push(g),f.push(h)}}return f}function kr(e,t,r){var o=null==(e=xi(e,t=Eo(t,e)))?e:e[Fi(Xi(t))];return null==o?n:Ot(o,e,r)}function Mr(e){return ru(e)&&Tr(e)==v}function Dr(e,t,r,o,i){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,r,o,i,s){var u=Ks(e),a=Ks(t),c=u?y:vi(e),f=a?y:vi(t),l=(c=c==v?C:c)==C,p=(f=f==v?C:f)==C,d=c==f;if(d&&$s(e)){if(!$s(t))return!1;u=!0,l=!1}if(d&&!l)return s||(s=new $n),u||lu(e)?ri(e,t,r,o,i,s):function(e,t,n,r,o,i,s){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case m:case b:case O:return Bs(+e,+t);case _:return e.name==t.name&&e.message==t.message;case R:case x:return e==t+"";case S:var u=un;case A:var a=1&r;if(u||(u=fn),e.size!=t.size&&!a)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var f=ri(u(e),u(t),r,o,i,s);return s.delete(e),f;case I:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,r,o,i,s);if(!(1&r)){var h=l&&Ne.call(e,"__wrapped__"),g=p&&Ne.call(t,"__wrapped__");if(h||g){var E=h?e.value():e,w=g?t.value():t;return s||(s=new $n),i(E,w,r,o,s)}}return!!d&&(s||(s=new $n),function(e,t,r,o,i,s){var u=1&r,a=ii(e),c=a.length,f=ii(t).length;if(c!=f&&!u)return!1;for(var l=c;l--;){var p=a[l];if(!(u?p in t:Ne.call(t,p)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=u;++l<c;){var y=e[p=a[l]],m=t[p];if(o)var b=u?o(m,y,p,t,e,s):o(y,m,p,e,t,s);if(!(b===n?y===m||i(y,m,r,o,s):b)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var _=e.constructor,E=t.constructor;_==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,r,o,i,s))}(e,t,r,o,Dr,i))}function Pr(e,t,r,o){var i=r.length,s=i,u=!o;if(null==e)return!s;for(e=Te(e);i--;){var a=r[i];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){var c=(a=r[i])[0],f=e[c],l=a[1];if(u&&a[2]){if(f===n&&!(c in e))return!1}else{var p=new $n;if(o)var d=o(f,l,c,e,t,p);if(!(d===n?Dr(l,f,3,o,p):d))return!1}}return!0}function Nr(e){return!(!nu(e)||(t=e,je&&je in t))&&(Zs(e)?qe:ve).test(Wi(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ia:"object"==typeof e?Ks(e)?Br(e[0],e[1]):qr(e):ha(e)}function jr(e){if(!Ci(e))return mn(e);var t=[];for(var n in Te(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ci(e),n=[];for(var r in e)("constructor"!=r||!t&&Ne.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Wr(e,t){var n=-1,r=zs(e)?ie(e.length):[];return dr(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function qr(e){var t=pi(e);return 1==t.length&&t[0][2]?Ri(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Br(e,t){return wi(e)&&Ti(t)?Ri(Fi(e),t):function(r){var o=Au(r,e);return o===n&&o===t?xu(r,e):Dr(t,o,3)}}function Qr(e,t,r,o,i){e!==t&&br(t,(function(s,u){if(i||(i=new $n),nu(s))!function(e,t,r,o,i,s,u){var a=ki(e,r),c=ki(t,r),f=u.get(c);if(f)tr(e,r,f);else{var l=s?s(a,c,r+"",e,t,u):n,p=l===n;if(p){var d=Ks(c),h=!d&&$s(c),g=!d&&!h&&lu(c);l=c,d||h||g?Ks(a)?l=a:Ys(a)?l=ko(a):h?(p=!1,l=Co(c,!0)):g?(p=!1,l=Ro(c,!0)):l=[]:su(c)||Gs(c)?(l=a,Gs(a)?l=bu(a):nu(a)&&!Zs(a)||(l=mi(c))):p=!1}p&&(u.set(c,l),i(l,c,o,s,u),u.delete(c)),tr(e,r,l)}}(e,t,u,r,Qr,o,i);else{var a=o?o(ki(e,u),s,u+"",e,t,i):n;a===n&&(a=s),tr(e,u,a)}}),Pu)}function Vr(e,t){var r=e.length;if(r)return _i(t+=t<0?r:0,r)?e[t]:n}function Gr(e,t,n){t=t.length?Mt(t,(function(e){return Ks(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e})):[ia];var r=-1;t=Mt(t,$t(fi()));var o=Wr(e,(function(e,n,o){var i=Mt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,u=n.length;++r<s;){var a=Ao(o[r],i[r]);if(a)return r>=u?a:a*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],u=Or(e,s);n(u,s)&&eo(i,Eo(s,e),u)}return i}function Hr(e,t,n,r){var o=r?qt:Wt,i=-1,s=t.length,u=e;for(e===t&&(t=ko(t)),n&&(u=Mt(e,$t(n)));++i<s;)for(var a=0,c=t[i],f=n?n(c):c;(a=o(u,f,a,r))>-1;)u!==e&&Ye.call(u,a,1),Ye.call(e,a,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;_i(o)?Ye.call(e,o,1):po(e,o)}}return e}function Yr(e,t){return e+vt(Sn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Pi(Ai(e,t,ia),e+"")}function Xr(e){return Xn(Bu(e))}function Zr(e,t){var n=Bu(e);return ji(n,ar(t,0,n.length))}function eo(e,t,r,o){if(!nu(e))return e;for(var i=-1,s=(t=Eo(t,e)).length,u=s-1,a=e;null!=a&&++i<s;){var c=Fi(t[i]),f=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=u){var l=a[c];(f=o?o(l,c,a):n)===n&&(f=nu(l)?l:_i(t[i+1])?[]:{})}nr(a,c,f),a=a[c]}return e}var to=kn?function(e,t){return kn.set(e,t),e}:ia,no=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:na(t),writable:!0})}:ia;function ro(e){return ji(Bu(e))}function oo(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=ie(o);++r<o;)i[r]=e[r+t];return i}function io(e,t){var n;return dr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function so(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!fu(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return uo(e,t,ia,n)}function uo(e,t,r,o){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var u=(t=r(t))!==t,a=null===t,c=fu(t),f=t===n;i<s;){var l=vt((i+s)/2),p=r(e[l]),d=p!==n,h=null===p,g=p===p,v=fu(p);if(u)var y=o||g;else y=f?g&&(o||d):a?g&&d&&(o||!h):c?g&&d&&!h&&(o||!v):!h&&!v&&(o?p<=t:p<t);y?i=l+1:s=l}return _n(s,4294967294)}function ao(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],u=t?t(s):s;if(!n||!Bs(u,a)){var a=u;i[o++]=0===s?0:s}}return i}function co(e){return"number"==typeof e?e:fu(e)?d:+e}function fo(e){if("string"==typeof e)return e;if(Ks(e))return Mt(e,fo)+"";if(fu(e))return Wn?Wn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function lo(e,t,n){var r=-1,o=It,i=e.length,s=!0,u=[],a=u;if(n)s=!1,o=kt;else if(i>=200){var c=t?null:Jo(e);if(c)return fn(c);s=!1,o=Xt,a=new Yn}else a=t?[]:u;e:for(;++r<i;){var f=e[r],l=t?t(f):f;if(f=n||0!==f?f:0,s&&l===l){for(var p=a.length;p--;)if(a[p]===l)continue e;t&&a.push(l),u.push(f)}else o(a,l,n)||(a!==u&&a.push(l),u.push(f))}return u}function po(e,t){return null==(e=xi(e,t=Eo(t,e)))||delete e[Fi(Xi(t))]}function ho(e,t,n,r){return eo(e,t,n(Or(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function vo(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Pt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function yo(e,t,n){var r=e.length;if(r<2)return r?lo(e[0]):[];for(var o=-1,i=ie(r);++o<r;)for(var s=e[o],u=-1;++u<r;)u!=o&&(i[o]=pr(i[o]||s,e[u],t,n));return lo(mr(i,1),t,n)}function mo(e,t,r){for(var o=-1,i=e.length,s=t.length,u={};++o<i;){var a=o<s?t[o]:n;r(u,e[o],a)}return u}function bo(e){return Ys(e)?e:[]}function _o(e){return"function"==typeof e?e:ia}function Eo(e,t){return Ks(e)?e:wi(e,t)?[e]:Ui(_u(e))}var wo=Jr;function So(e,t,r){var o=e.length;return r=r===n?o:r,!t&&r>=o?e:oo(e,t,r)}var Oo=ft||function(e){return pt.clearTimeout(e)};function Co(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function To(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Ro(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ao(e,t){if(e!==t){var r=e!==n,o=null===e,i=e===e,s=fu(e),u=t!==n,a=null===t,c=t===t,f=fu(t);if(!a&&!f&&!s&&e>t||s&&u&&c&&!a&&!f||o&&u&&c||!r&&c||!i)return 1;if(!o&&!s&&!f&&e<t||f&&r&&i&&!o&&!s||a&&r&&i||!u&&i||!c)return-1}return 0}function xo(e,t,n,r){for(var o=-1,i=e.length,s=n.length,u=-1,a=t.length,c=bn(i-s,0),f=ie(a+c),l=!r;++u<a;)f[u]=t[u];for(;++o<s;)(l||o<i)&&(f[n[o]]=e[o]);for(;c--;)f[u++]=e[o++];return f}function Io(e,t,n,r){for(var o=-1,i=e.length,s=-1,u=n.length,a=-1,c=t.length,f=bn(i-u,0),l=ie(f+c),p=!r;++o<f;)l[o]=e[o];for(var d=o;++a<c;)l[d+a]=t[a];for(;++s<u;)(p||o<i)&&(l[d+n[s]]=e[o++]);return l}function ko(e,t){var n=-1,r=e.length;for(t||(t=ie(r));++n<r;)t[n]=e[n];return t}function Mo(e,t,r,o){var i=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var a=t[s],c=o?o(r[a],e[a],a,r,e):n;c===n&&(c=e[a]),i?sr(r,a,c):nr(r,a,c)}return r}function Do(e,t){return function(n,r){var o=Ks(n)?Ct:or,i=t?t():{};return o(n,e,fi(r,2),i)}}function Po(e){return Jr((function(t,r){var o=-1,i=r.length,s=i>1?r[i-1]:n,u=i>2?r[2]:n;for(s=e.length>3&&"function"==typeof s?(i--,s):n,u&&Ei(r[0],r[1],u)&&(s=i<3?n:s,i=1),t=Te(t);++o<i;){var a=r[o];a&&e(t,a,o,s)}return t}))}function No(e,t){return function(n,r){if(null==n)return n;if(!zs(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Te(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=Te(t),s=r(t),u=s.length;u--;){var a=s[e?u:++o];if(!1===n(i[a],a,i))break}return t}}function jo(e){return function(t){var r=sn(t=_u(t))?dn(t):n,o=r?r[0]:t.charAt(0),i=r?So(r,1).join(""):t.slice(1);return o[e]()+i}}function Uo(e){return function(t){return Pt(Zu(Gu(t).replace(Je,"")),e,"")}}function Fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function Wo(e){return function(t,r,o){var i=Te(t);if(!zs(t)){var s=fi(r,3);t=Du(t),r=function(e){return s(i[e],e,i)}}var u=e(t,r,o);return u>-1?i[s?t[u]:u]:n}}function qo(e){return oi((function(t){var o=t.length,i=o,s=Vn.prototype.thru;for(e&&t.reverse();i--;){var u=t[i];if("function"!=typeof u)throw new xe(r);if(s&&!a&&"wrapper"==ai(u))var a=new Vn([],!0)}for(i=a?i:o;++i<o;){var c=ai(u=t[i]),f="wrapper"==c?ui(u):n;a=f&&Si(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?a[ai(f[0])].apply(a,f[3]):1==u.length&&Si(u)?a[c]():a.thru(u)}return function(){var e=arguments,n=e[0];if(a&&1==e.length&&Ks(n))return a.plant(n).value();for(var r=0,i=o?t[r].apply(this,e):n;++r<o;)i=t[r].call(this,i);return i}}))}function Bo(e,t,r,o,i,s,u,a,f,l){var p=t&c,d=1&t,h=2&t,g=24&t,v=512&t,y=h?n:Fo(e);return function n(){for(var c=arguments.length,m=ie(c),b=c;b--;)m[b]=arguments[b];if(g)var _=ci(n),E=tn(m,_);if(o&&(m=xo(m,o,i,g)),s&&(m=Io(m,s,u,g)),c-=E,g&&c<l){var w=cn(m,_);return Yo(e,t,Bo,n.placeholder,r,m,w,a,f,l-c)}var S=d?r:this,O=h?S[e]:e;return c=m.length,a?m=Ii(m,a):v&&c>1&&m.reverse(),p&&f<c&&(m.length=f),this&&this!==pt&&this instanceof n&&(O=y||Fo(O)),O.apply(S,m)}}function Qo(e,t){return function(n,r){return function(e,t,n,r){return Er(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Vo(e,t){return function(r,o){var i;if(r===n&&o===n)return t;if(r!==n&&(i=r),o!==n){if(i===n)return o;"string"==typeof r||"string"==typeof o?(r=fo(r),o=fo(o)):(r=co(r),o=co(o)),i=e(r,o)}return i}}function Go(e){return oi((function(t){return t=Mt(t,$t(fi())),Jr((function(n){var r=this;return e(t,(function(e){return Ot(e,r,n)}))}))}))}function Ko(e,t){var r=(t=t===n?" ":fo(t)).length;if(r<2)return r?$r(t,e):t;var o=$r(t,ht(e/pn(t)));return sn(t)?So(dn(o),0,e).join(""):o.slice(0,e)}function Ho(e){return function(t,r,o){return o&&"number"!=typeof o&&Ei(t,r,o)&&(r=o=n),t=gu(t),r===n?(r=t,t=0):r=gu(r),function(e,t,n,r){for(var o=-1,i=bn(ht((t-e)/(n||1)),0),s=ie(i);i--;)s[r?i:++o]=e,e+=n;return s}(t,r,o=o===n?t<r?1:-1:gu(o),e)}}function zo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=mu(t),n=mu(n)),e(t,n)}}function Yo(e,t,r,o,i,s,c,f,l,p){var d=8&t;t|=d?u:a,4&(t&=~(d?a:u))||(t&=-4);var h=[e,t,i,d?s:n,d?c:n,d?n:s,d?n:c,f,l,p],g=r.apply(n,h);return Si(e)&&Mi(g,h),g.placeholder=o,Ni(g,e,t)}function $o(e){var t=Ce[e];return function(e,n){if(e=mu(e),(n=null==n?0:_n(vu(n),292))&&Gt(e)){var r=(_u(e)+"e").split("e");return+((r=(_u(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Jo=An&&1/fn(new An([,-0]))[1]==l?function(e){return new An(e)}:fa;function Xo(e){return function(t){var n=vi(t);return n==S?un(t):n==A?ln(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zo(e,t,o,l,p,d,h,g){var v=2&t;if(!v&&"function"!=typeof e)throw new xe(r);var y=l?l.length:0;if(y||(t&=-97,l=p=n),h=h===n?h:bn(vu(h),0),g=g===n?g:vu(g),y-=p?p.length:0,t&a){var m=l,b=p;l=p=n}var _=v?n:ui(e),E=[e,t,o,l,p,m,b,d,h,g];if(_&&function(e,t){var n=e[1],r=t[1],o=n|r,s=o<131,u=r==c&&8==n||r==c&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!u)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var a=t[3];if(a){var l=e[3];e[3]=l?xo(l,a,t[4]):a,e[4]=l?cn(e[3],i):t[4]}(a=t[5])&&(l=e[5],e[5]=l?Io(l,a,t[6]):a,e[6]=l?cn(e[5],i):t[6]),(a=t[7])&&(e[7]=a),r&c&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(E,_),e=E[0],t=E[1],o=E[2],l=E[3],p=E[4],!(g=E[9]=E[9]===n?v?0:e.length:bn(E[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==s?function(e,t,r){var o=Fo(e);return function i(){for(var s=arguments.length,u=ie(s),a=s,c=ci(i);a--;)u[a]=arguments[a];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:cn(u,c);return(s-=f.length)<r?Yo(e,t,Bo,i.placeholder,n,u,f,n,n,r-s):Ot(this&&this!==pt&&this instanceof i?o:e,this,u)}}(e,t,g):t!=u&&33!=t||p.length?Bo.apply(n,E):function(e,t,n,r){var o=1&t,i=Fo(e);return function t(){for(var s=-1,u=arguments.length,a=-1,c=r.length,f=ie(c+u),l=this&&this!==pt&&this instanceof t?i:e;++a<c;)f[a]=r[a];for(;u--;)f[a++]=arguments[++s];return Ot(l,o?n:this,f)}}(e,t,o,l);else var w=function(e,t,n){var r=1&t,o=Fo(e);return function t(){return(this&&this!==pt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,o);return Ni((_?to:Mi)(w,E),e,t)}function ei(e,t,r,o){return e===n||Bs(e,Me[r])&&!Ne.call(o,r)?t:e}function ti(e,t,r,o,i,s){return nu(e)&&nu(t)&&(s.set(t,e),Qr(e,t,n,ti,s),s.delete(t)),e}function ni(e){return su(e)?n:e}function ri(e,t,r,o,i,s){var u=1&r,a=e.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;var f=s.get(e),l=s.get(t);if(f&&l)return f==t&&l==e;var p=-1,d=!0,h=2&r?new Yn:n;for(s.set(e,t),s.set(t,e);++p<a;){var g=e[p],v=t[p];if(o)var y=u?o(v,g,p,t,e,s):o(g,v,p,e,t,s);if(y!==n){if(y)continue;d=!1;break}if(h){if(!Lt(t,(function(e,t){if(!Xt(h,t)&&(g===e||i(g,e,r,o,s)))return h.push(t)}))){d=!1;break}}else if(g!==v&&!i(g,v,r,o,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function oi(e){return Pi(Ai(e,n,Hi),e+"")}function ii(e){return Cr(e,Du,hi)}function si(e){return Cr(e,Pu,gi)}var ui=kn?function(e){return kn.get(e)}:fa;function ai(e){for(var t=e.name+"",n=Mn[t],r=Ne.call(Mn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ci(e){return(Ne.call(qn,"placeholder")?qn:e).placeholder}function fi(){var e=qn.iteratee||sa;return e=e===sa?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function li(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function pi(e){for(var t=Du(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ti(o)]}return t}function di(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Nr(r)?r:n}var hi=yt?function(e){return null==e?[]:(e=Te(e),xt(yt(e),(function(t){return ze.call(e,t)})))}:ya,gi=yt?function(e){for(var t=[];e;)Dt(t,hi(e)),e=Ke(e);return t}:ya,vi=Tr;function yi(e,t,n){for(var r=-1,o=(t=Eo(t,e)).length,i=!1;++r<o;){var s=Fi(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&tu(o)&&_i(s,o)&&(Ks(e)||Gs(e))}function mi(e){return"function"!=typeof e.constructor||Ci(e)?{}:Bn(Ke(e))}function bi(e){return Ks(e)||Gs(e)||!!($e&&e&&e[$e])}function _i(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function Ei(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?zs(n)&&_i(t,n.length):"string"==r&&t in n)&&Bs(n[t],e)}function wi(e,t){if(Ks(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fu(e))||ee.test(e)||!Z.test(e)||null!=t&&e in Te(t)}function Si(e){var t=ai(e),n=qn[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=ui(n);return!!r&&e===r[0]}(Cn&&vi(new Cn(new ArrayBuffer(1)))!=D||Tn&&vi(new Tn)!=S||Rn&&vi(Rn.resolve())!=T||An&&vi(new An)!=A||xn&&vi(new xn)!=k)&&(vi=function(e){var t=Tr(e),r=t==C?e.constructor:n,o=r?Wi(r):"";if(o)switch(o){case Dn:return D;case Pn:return S;case Nn:return T;case Ln:return A;case jn:return k}return t});var Oi=De?Zs:ma;function Ci(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Ti(e){return e===e&&!nu(e)}function Ri(e,t){return function(r){return null!=r&&r[e]===t&&(t!==n||e in Te(r))}}function Ai(e,t,r){return t=bn(t===n?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=bn(n.length-t,0),s=ie(i);++o<i;)s[o]=n[t+o];o=-1;for(var u=ie(t+1);++o<t;)u[o]=n[o];return u[t]=r(s),Ot(e,this,u)}}function xi(e,t){return t.length<2?e:Or(e,oo(t,0,-1))}function Ii(e,t){for(var r=e.length,o=_n(t.length,r),i=ko(e);o--;){var s=t[o];e[o]=_i(s,r)?i[s]:n}return e}function ki(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Mi=Li(to),Di=dt||function(e,t){return pt.setTimeout(e,t)},Pi=Li(no);function Ni(e,t,n){var r=t+"";return Pi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(g,(function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ae):[]}(r),n)))}function Li(e){var t=0,r=0;return function(){var o=En(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function ji(e,t){var r=-1,o=e.length,i=o-1;for(t=t===n?o:t;++r<t;){var s=Yr(r,i),u=e[s];e[s]=e[r],e[r]=u}return e.length=t,e}var Ui=function(e){var t=Ls(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,o){t.push(r?o.replace(le,"$1"):n||e)})),t}));function Fi(e){if("string"==typeof e||fu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wi(e){if(null!=e){try{return Pe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qi(e){if(e instanceof Gn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=ko(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bi=Jr((function(e,t){return Ys(e)?pr(e,mr(t,1,Ys,!0)):[]})),Qi=Jr((function(e,t){var r=Xi(t);return Ys(r)&&(r=n),Ys(e)?pr(e,mr(t,1,Ys,!0),fi(r,2)):[]})),Vi=Jr((function(e,t){var r=Xi(t);return Ys(r)&&(r=n),Ys(e)?pr(e,mr(t,1,Ys,!0),n,r):[]}));function Gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vu(n);return o<0&&(o=bn(r+o,0)),Ft(e,fi(t,3),o)}function Ki(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return r!==n&&(i=vu(r),i=r<0?bn(o+i,0):_n(i,o-1)),Ft(e,fi(t,3),i,!0)}function Hi(e){return null!=e&&e.length?mr(e,1):[]}function zi(e){return e&&e.length?e[0]:n}var Yi=Jr((function(e){var t=Mt(e,bo);return t.length&&t[0]===e[0]?Ir(t):[]})),$i=Jr((function(e){var t=Xi(e),r=Mt(e,bo);return t===Xi(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Ir(r,fi(t,2)):[]})),Ji=Jr((function(e){var t=Xi(e),r=Mt(e,bo);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Ir(r,n,t):[]}));function Xi(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Zi=Jr(es);function es(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var ts=oi((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return zr(e,Mt(t,(function(e){return _i(e,n)?+e:e})).sort(Ao)),r}));function ns(e){return null==e?e:On.call(e)}var rs=Jr((function(e){return lo(mr(e,1,Ys,!0))})),os=Jr((function(e){var t=Xi(e);return Ys(t)&&(t=n),lo(mr(e,1,Ys,!0),fi(t,2))})),is=Jr((function(e){var t=Xi(e);return t="function"==typeof t?t:n,lo(mr(e,1,Ys,!0),n,t)}));function ss(e){if(!e||!e.length)return[];var t=0;return e=xt(e,(function(e){if(Ys(e))return t=bn(e.length,t),!0})),zt(t,(function(t){return Mt(e,Vt(t))}))}function us(e,t){if(!e||!e.length)return[];var r=ss(e);return null==t?r:Mt(r,(function(e){return Ot(t,n,e)}))}var as=Jr((function(e,t){return Ys(e)?pr(e,t):[]})),cs=Jr((function(e){return yo(xt(e,Ys))})),fs=Jr((function(e){var t=Xi(e);return Ys(t)&&(t=n),yo(xt(e,Ys),fi(t,2))})),ls=Jr((function(e){var t=Xi(e);return t="function"==typeof t?t:n,yo(xt(e,Ys),n,t)})),ps=Jr(ss),ds=Jr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,us(e,r)}));function hs(e){var t=qn(e);return t.__chain__=!0,t}function gs(e,t){return t(e)}var vs=oi((function(e){var t=e.length,r=t?e[0]:0,o=this.__wrapped__,i=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&o instanceof Gn&&_i(r)?((o=o.slice(r,+r+(t?1:0))).__actions__.push({func:gs,args:[i],thisArg:n}),new Vn(o,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(i)})),ys=Do((function(e,t,n){Ne.call(e,n)?++e[n]:sr(e,n,1)})),ms=Wo(Gi),bs=Wo(Ki);function _s(e,t){return(Ks(e)?Tt:dr)(e,fi(t,3))}function Es(e,t){return(Ks(e)?Rt:hr)(e,fi(t,3))}var ws=Do((function(e,t,n){Ne.call(e,n)?e[n].push(t):sr(e,n,[t])})),Ss=Jr((function(e,t,n){var r=-1,o="function"==typeof t,i=zs(e)?ie(e.length):[];return dr(e,(function(e){i[++r]=o?Ot(t,e,n):kr(e,t,n)})),i})),Os=Do((function(e,t,n){sr(e,n,t)}));function Cs(e,t){return(Ks(e)?Mt:Wr)(e,fi(t,3))}var Ts=Do((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Rs=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ei(e,t[0],t[1])?t=[]:n>2&&Ei(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,mr(t,1),[])})),As=lt||function(){return pt.Date.now()};function xs(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Zo(e,c,n,n,n,n,t)}function Is(e,t){var o;if("function"!=typeof t)throw new xe(r);return e=vu(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=n),o}}var ks=Jr((function(e,t,n){var r=1;if(n.length){var o=cn(n,ci(ks));r|=u}return Zo(e,r,t,n,o)})),Ms=Jr((function(e,t,n){var r=3;if(n.length){var o=cn(n,ci(Ms));r|=u}return Zo(t,r,e,n,o)}));function Ds(e,t,o){var i,s,u,a,c,f,l=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new xe(r);function g(t){var r=i,o=s;return i=s=n,l=t,a=e.apply(o,r)}function v(e){return l=e,c=Di(m,t),p?g(e):a}function y(e){var r=e-f;return f===n||r>=t||r<0||d&&e-l>=u}function m(){var e=As();if(y(e))return b(e);c=Di(m,function(e){var n=t-(e-f);return d?_n(n,u-(e-l)):n}(e))}function b(e){return c=n,h&&i?g(e):(i=s=n,a)}function _(){var e=As(),r=y(e);if(i=arguments,s=this,f=e,r){if(c===n)return v(f);if(d)return Oo(c),c=Di(m,t),g(f)}return c===n&&(c=Di(m,t)),a}return t=mu(t)||0,nu(o)&&(p=!!o.leading,u=(d="maxWait"in o)?bn(mu(o.maxWait)||0,t):u,h="trailing"in o?!!o.trailing:h),_.cancel=function(){c!==n&&Oo(c),l=0,i=f=s=c=n},_.flush=function(){return c===n?a:b(As())},_}var Ps=Jr((function(e,t){return lr(e,1,t)})),Ns=Jr((function(e,t,n){return lr(e,mu(t)||0,n)}));function Ls(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Ls.Cache||zn),n}function js(e){if("function"!=typeof e)throw new xe(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ls.Cache=zn;var Us=wo((function(e,t){var n=(t=1==t.length&&Ks(t[0])?Mt(t[0],$t(fi())):Mt(mr(t,1),$t(fi()))).length;return Jr((function(r){for(var o=-1,i=_n(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Ot(e,this,r)}))})),Fs=Jr((function(e,t){var r=cn(t,ci(Fs));return Zo(e,u,n,t,r)})),Ws=Jr((function(e,t){var r=cn(t,ci(Ws));return Zo(e,a,n,t,r)})),qs=oi((function(e,t){return Zo(e,f,n,n,n,t)}));function Bs(e,t){return e===t||e!==e&&t!==t}var Qs=zo(Rr),Vs=zo((function(e,t){return e>=t})),Gs=Mr(function(){return arguments}())?Mr:function(e){return ru(e)&&Ne.call(e,"callee")&&!ze.call(e,"callee")},Ks=ie.isArray,Hs=mt?$t(mt):function(e){return ru(e)&&Tr(e)==M};function zs(e){return null!=e&&tu(e.length)&&!Zs(e)}function Ys(e){return ru(e)&&zs(e)}var $s=jt||ma,Js=bt?$t(bt):function(e){return ru(e)&&Tr(e)==b};function Xs(e){if(!ru(e))return!1;var t=Tr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!su(e)}function Zs(e){if(!nu(e))return!1;var t=Tr(e);return t==E||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==vu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var ou=_t?$t(_t):function(e){return ru(e)&&vi(e)==S};function iu(e){return"number"==typeof e||ru(e)&&Tr(e)==O}function su(e){if(!ru(e)||Tr(e)!=C)return!1;var t=Ke(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==Fe}var uu=Et?$t(Et):function(e){return ru(e)&&Tr(e)==R},au=wt?$t(wt):function(e){return ru(e)&&vi(e)==A};function cu(e){return"string"==typeof e||!Ks(e)&&ru(e)&&Tr(e)==x}function fu(e){return"symbol"==typeof e||ru(e)&&Tr(e)==I}var lu=St?$t(St):function(e){return ru(e)&&tu(e.length)&&!!it[Tr(e)]},pu=zo(Fr),du=zo((function(e,t){return e<=t}));function hu(e){if(!e)return[];if(zs(e))return cu(e)?dn(e):ko(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=vi(e);return(t==S?un:t==A?fn:Bu)(e)}function gu(e){return e?(e=mu(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function vu(e){var t=gu(e),n=t%1;return t===t?n?t-n:t:0}function yu(e){return e?ar(vu(e),0,h):0}function mu(e){if("number"==typeof e)return e;if(fu(e))return d;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ge.test(e);return n||ye.test(e)?ct(e.slice(2),n?2:8):he.test(e)?d:+e}function bu(e){return Mo(e,Pu(e))}function _u(e){return null==e?"":fo(e)}var Eu=Po((function(e,t){if(Ci(t)||zs(t))Mo(t,Du(t),e);else for(var n in t)Ne.call(t,n)&&nr(e,n,t[n])})),wu=Po((function(e,t){Mo(t,Pu(t),e)})),Su=Po((function(e,t,n,r){Mo(t,Pu(t),e,r)})),Ou=Po((function(e,t,n,r){Mo(t,Du(t),e,r)})),Cu=oi(ur),Tu=Jr((function(e,t){e=Te(e);var r=-1,o=t.length,i=o>2?t[2]:n;for(i&&Ei(t[0],t[1],i)&&(o=1);++r<o;)for(var s=t[r],u=Pu(s),a=-1,c=u.length;++a<c;){var f=u[a],l=e[f];(l===n||Bs(l,Me[f])&&!Ne.call(e,f))&&(e[f]=s[f])}return e})),Ru=Jr((function(e){return e.push(n,ti),Ot(Lu,n,e)}));function Au(e,t,r){var o=null==e?n:Or(e,t);return o===n?r:o}function xu(e,t){return null!=e&&yi(e,t,xr)}var Iu=Qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),na(ia)),ku=Qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),fi),Mu=Jr(kr);function Du(e){return zs(e)?Jn(e):jr(e)}function Pu(e){return zs(e)?Jn(e,!0):Ur(e)}var Nu=Po((function(e,t,n){Qr(e,t,n)})),Lu=Po((function(e,t,n,r){Qr(e,t,n,r)})),ju=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=Eo(t,e),r||(r=t.length>1),t})),Mo(e,si(e),n),r&&(n=cr(n,7,ni));for(var o=t.length;o--;)po(n,t[o]);return n})),Uu=oi((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return xu(e,n)}))}(e,t)}));function Fu(e,t){if(null==e)return{};var n=Mt(si(e),(function(e){return[e]}));return t=fi(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Wu=Xo(Du),qu=Xo(Pu);function Bu(e){return null==e?[]:Jt(e,Du(e))}var Qu=Uo((function(e,t,n){return t=t.toLowerCase(),e+(n?Vu(t):t)}));function Vu(e){return Xu(_u(e).toLowerCase())}function Gu(e){return(e=_u(e))&&e.replace(be,nn).replace(Xe,"")}var Ku=Uo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hu=Uo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),zu=jo("toLowerCase"),Yu=Uo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),$u=Uo((function(e,t,n){return e+(n?" ":"")+Xu(t)})),Ju=Uo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=jo("toUpperCase");function Zu(e,t,r){return e=_u(e),(t=r?n:t)===n?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var ea=Jr((function(e,t){try{return Ot(e,n,t)}catch(r){return Xs(r)?r:new Se(r)}})),ta=oi((function(e,t){return Tt(t,(function(t){t=Fi(t),sr(e,t,ks(e[t],e))})),e}));function na(e){return function(){return e}}var ra=qo(),oa=qo(!0);function ia(e){return e}function sa(e){return Lr("function"==typeof e?e:cr(e,1))}var ua=Jr((function(e,t){return function(n){return kr(n,e,t)}})),aa=Jr((function(e,t){return function(n){return kr(e,n,t)}}));function ca(e,t,n){var r=Du(t),o=Sr(t,r);null!=n||nu(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Sr(t,Du(t)));var i=!(nu(n)&&"chain"in n)||!!n.chain,s=Zs(e);return Tt(o,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=ko(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function fa(){}var la=Go(Mt),pa=Go(At),da=Go(Lt);function ha(e){return wi(e)?Vt(Fi(e)):function(e){return function(t){return Or(t,e)}}(e)}var ga=Ho(),va=Ho(!0);function ya(){return[]}function ma(){return!1}var ba=Vo((function(e,t){return e+t}),0),_a=$o("ceil"),Ea=Vo((function(e,t){return e/t}),1),wa=$o("floor"),Sa=Vo((function(e,t){return e*t}),1),Oa=$o("round"),Ca=Vo((function(e,t){return e-t}),0);return qn.after=function(e,t){if("function"!=typeof t)throw new xe(r);return e=vu(e),function(){if(--e<1)return t.apply(this,arguments)}},qn.ary=xs,qn.assign=Eu,qn.assignIn=wu,qn.assignInWith=Su,qn.assignWith=Ou,qn.at=Cu,qn.before=Is,qn.bind=ks,qn.bindAll=ta,qn.bindKey=Ms,qn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ks(e)?e:[e]},qn.chain=hs,qn.chunk=function(e,t,r){t=(r?Ei(e,t,r):t===n)?1:bn(vu(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,s=0,u=ie(ht(o/t));i<o;)u[s++]=oo(e,i,i+=t);return u},qn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},qn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ie(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Dt(Ks(n)?ko(n):[n],mr(t,1))},qn.cond=function(e){var t=null==e?0:e.length,n=fi();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new xe(r);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Ot(o[0],this,n))return Ot(o[1],this,n)}}))},qn.conforms=function(e){return function(e){var t=Du(e);return function(n){return fr(n,e,t)}}(cr(e,1))},qn.constant=na,qn.countBy=ys,qn.create=function(e,t){var n=Bn(e);return null==t?n:ir(n,t)},qn.curry=function e(t,r,o){var i=Zo(t,8,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},qn.curryRight=function e(t,r,o){var i=Zo(t,s,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},qn.debounce=Ds,qn.defaults=Tu,qn.defaultsDeep=Ru,qn.defer=Ps,qn.delay=Ns,qn.difference=Bi,qn.differenceBy=Qi,qn.differenceWith=Vi,qn.drop=function(e,t,r){var o=null==e?0:e.length;return o?oo(e,(t=r||t===n?1:vu(t))<0?0:t,o):[]},qn.dropRight=function(e,t,r){var o=null==e?0:e.length;return o?oo(e,0,(t=o-(t=r||t===n?1:vu(t)))<0?0:t):[]},qn.dropRightWhile=function(e,t){return e&&e.length?go(e,fi(t,3),!0,!0):[]},qn.dropWhile=function(e,t){return e&&e.length?go(e,fi(t,3),!0):[]},qn.fill=function(e,t,r,o){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Ei(e,t,r)&&(r=0,o=i),function(e,t,r,o){var i=e.length;for((r=vu(r))<0&&(r=-r>i?0:i+r),(o=o===n||o>i?i:vu(o))<0&&(o+=i),o=r>o?0:yu(o);r<o;)e[r++]=t;return e}(e,t,r,o)):[]},qn.filter=function(e,t){return(Ks(e)?xt:yr)(e,fi(t,3))},qn.flatMap=function(e,t){return mr(Cs(e,t),1)},qn.flatMapDeep=function(e,t){return mr(Cs(e,t),l)},qn.flatMapDepth=function(e,t,r){return r=r===n?1:vu(r),mr(Cs(e,t),r)},qn.flatten=Hi,qn.flattenDeep=function(e){return null!=e&&e.length?mr(e,l):[]},qn.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===n?1:vu(t)):[]},qn.flip=function(e){return Zo(e,512)},qn.flow=ra,qn.flowRight=oa,qn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},qn.functions=function(e){return null==e?[]:Sr(e,Du(e))},qn.functionsIn=function(e){return null==e?[]:Sr(e,Pu(e))},qn.groupBy=ws,qn.initial=function(e){return null!=e&&e.length?oo(e,0,-1):[]},qn.intersection=Yi,qn.intersectionBy=$i,qn.intersectionWith=Ji,qn.invert=Iu,qn.invertBy=ku,qn.invokeMap=Ss,qn.iteratee=sa,qn.keyBy=Os,qn.keys=Du,qn.keysIn=Pu,qn.map=Cs,qn.mapKeys=function(e,t){var n={};return t=fi(t,3),Er(e,(function(e,r,o){sr(n,t(e,r,o),e)})),n},qn.mapValues=function(e,t){var n={};return t=fi(t,3),Er(e,(function(e,r,o){sr(n,r,t(e,r,o))})),n},qn.matches=function(e){return qr(cr(e,1))},qn.matchesProperty=function(e,t){return Br(e,cr(t,1))},qn.memoize=Ls,qn.merge=Nu,qn.mergeWith=Lu,qn.method=ua,qn.methodOf=aa,qn.mixin=ca,qn.negate=js,qn.nthArg=function(e){return e=vu(e),Jr((function(t){return Vr(t,e)}))},qn.omit=ju,qn.omitBy=function(e,t){return Fu(e,js(fi(t)))},qn.once=function(e){return Is(2,e)},qn.orderBy=function(e,t,r,o){return null==e?[]:(Ks(t)||(t=null==t?[]:[t]),Ks(r=o?n:r)||(r=null==r?[]:[r]),Gr(e,t,r))},qn.over=la,qn.overArgs=Us,qn.overEvery=pa,qn.overSome=da,qn.partial=Fs,qn.partialRight=Ws,qn.partition=Ts,qn.pick=Uu,qn.pickBy=Fu,qn.property=ha,qn.propertyOf=function(e){return function(t){return null==e?n:Or(e,t)}},qn.pull=Zi,qn.pullAll=es,qn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,fi(n,2)):e},qn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Hr(e,t,n,r):e},qn.pullAt=ts,qn.range=ga,qn.rangeRight=va,qn.rearg=qs,qn.reject=function(e,t){return(Ks(e)?xt:yr)(e,js(fi(t,3)))},qn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=fi(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return zr(e,o),n},qn.rest=function(e,t){if("function"!=typeof e)throw new xe(r);return Jr(e,t=t===n?t:vu(t))},qn.reverse=ns,qn.sampleSize=function(e,t,r){return t=(r?Ei(e,t,r):t===n)?1:vu(t),(Ks(e)?Zn:Zr)(e,t)},qn.set=function(e,t,n){return null==e?e:eo(e,t,n)},qn.setWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:eo(e,t,r,o)},qn.shuffle=function(e){return(Ks(e)?er:ro)(e)},qn.slice=function(e,t,r){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&Ei(e,t,r)?(t=0,r=o):(t=null==t?0:vu(t),r=r===n?o:vu(r)),oo(e,t,r)):[]},qn.sortBy=Rs,qn.sortedUniq=function(e){return e&&e.length?ao(e):[]},qn.sortedUniqBy=function(e,t){return e&&e.length?ao(e,fi(t,2)):[]},qn.split=function(e,t,r){return r&&"number"!=typeof r&&Ei(e,t,r)&&(t=r=n),(r=r===n?h:r>>>0)?(e=_u(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=fo(t))&&sn(e)?So(dn(e),0,r):e.split(t,r):[]},qn.spread=function(e,t){if("function"!=typeof e)throw new xe(r);return t=null==t?0:bn(vu(t),0),Jr((function(n){var r=n[t],o=So(n,0,t);return r&&Dt(o,r),Ot(e,this,o)}))},qn.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},qn.take=function(e,t,r){return e&&e.length?oo(e,0,(t=r||t===n?1:vu(t))<0?0:t):[]},qn.takeRight=function(e,t,r){var o=null==e?0:e.length;return o?oo(e,(t=o-(t=r||t===n?1:vu(t)))<0?0:t,o):[]},qn.takeRightWhile=function(e,t){return e&&e.length?go(e,fi(t,3),!1,!0):[]},qn.takeWhile=function(e,t){return e&&e.length?go(e,fi(t,3)):[]},qn.tap=function(e,t){return t(e),e},qn.throttle=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new xe(r);return nu(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Ds(e,t,{leading:o,maxWait:t,trailing:i})},qn.thru=gs,qn.toArray=hu,qn.toPairs=Wu,qn.toPairsIn=qu,qn.toPath=function(e){return Ks(e)?Mt(e,Fi):fu(e)?[e]:ko(Ui(_u(e)))},qn.toPlainObject=bu,qn.transform=function(e,t,n){var r=Ks(e),o=r||$s(e)||lu(e);if(t=fi(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:nu(e)&&Zs(i)?Bn(Ke(e)):{}}return(o?Tt:Er)(e,(function(e,r,o){return t(n,e,r,o)})),n},qn.unary=function(e){return xs(e,1)},qn.union=rs,qn.unionBy=os,qn.unionWith=is,qn.uniq=function(e){return e&&e.length?lo(e):[]},qn.uniqBy=function(e,t){return e&&e.length?lo(e,fi(t,2)):[]},qn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?lo(e,n,t):[]},qn.unset=function(e,t){return null==e||po(e,t)},qn.unzip=ss,qn.unzipWith=us,qn.update=function(e,t,n){return null==e?e:ho(e,t,_o(n))},qn.updateWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:ho(e,t,_o(r),o)},qn.values=Bu,qn.valuesIn=function(e){return null==e?[]:Jt(e,Pu(e))},qn.without=as,qn.words=Zu,qn.wrap=function(e,t){return Fs(_o(t),e)},qn.xor=cs,qn.xorBy=fs,qn.xorWith=ls,qn.zip=ps,qn.zipObject=function(e,t){return mo(e||[],t||[],nr)},qn.zipObjectDeep=function(e,t){return mo(e||[],t||[],eo)},qn.zipWith=ds,qn.entries=Wu,qn.entriesIn=qu,qn.extend=wu,qn.extendWith=Su,ca(qn,qn),qn.add=ba,qn.attempt=ea,qn.camelCase=Qu,qn.capitalize=Vu,qn.ceil=_a,qn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=mu(r))===r?r:0),t!==n&&(t=(t=mu(t))===t?t:0),ar(mu(e),t,r)},qn.clone=function(e){return cr(e,4)},qn.cloneDeep=function(e){return cr(e,5)},qn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:n)},qn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:n)},qn.conformsTo=function(e,t){return null==t||fr(e,t,Du(t))},qn.deburr=Gu,qn.defaultTo=function(e,t){return null==e||e!==e?t:e},qn.divide=Ea,qn.endsWith=function(e,t,r){e=_u(e),t=fo(t);var o=e.length,i=r=r===n?o:ar(vu(r),0,o);return(r-=t.length)>=0&&e.slice(r,i)==t},qn.eq=Bs,qn.escape=function(e){return(e=_u(e))&&Y.test(e)?e.replace(H,rn):e},qn.escapeRegExp=function(e){return(e=_u(e))&&re.test(e)?e.replace(ne,"\\$&"):e},qn.every=function(e,t,r){var o=Ks(e)?At:gr;return r&&Ei(e,t,r)&&(t=n),o(e,fi(t,3))},qn.find=ms,qn.findIndex=Gi,qn.findKey=function(e,t){return Ut(e,fi(t,3),Er)},qn.findLast=bs,qn.findLastIndex=Ki,qn.findLastKey=function(e,t){return Ut(e,fi(t,3),wr)},qn.floor=wa,qn.forEach=_s,qn.forEachRight=Es,qn.forIn=function(e,t){return null==e?e:br(e,fi(t,3),Pu)},qn.forInRight=function(e,t){return null==e?e:_r(e,fi(t,3),Pu)},qn.forOwn=function(e,t){return e&&Er(e,fi(t,3))},qn.forOwnRight=function(e,t){return e&&wr(e,fi(t,3))},qn.get=Au,qn.gt=Qs,qn.gte=Vs,qn.has=function(e,t){return null!=e&&yi(e,t,Ar)},qn.hasIn=xu,qn.head=zi,qn.identity=ia,qn.includes=function(e,t,n,r){e=zs(e)?e:Bu(e),n=n&&!r?vu(n):0;var o=e.length;return n<0&&(n=bn(o+n,0)),cu(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Wt(e,t,n)>-1},qn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vu(n);return o<0&&(o=bn(r+o,0)),Wt(e,t,o)},qn.inRange=function(e,t,r){return t=gu(t),r===n?(r=t,t=0):r=gu(r),function(e,t,n){return e>=_n(t,n)&&e<bn(t,n)}(e=mu(e),t,r)},qn.invoke=Mu,qn.isArguments=Gs,qn.isArray=Ks,qn.isArrayBuffer=Hs,qn.isArrayLike=zs,qn.isArrayLikeObject=Ys,qn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Tr(e)==m},qn.isBuffer=$s,qn.isDate=Js,qn.isElement=function(e){return ru(e)&&1===e.nodeType&&!su(e)},qn.isEmpty=function(e){if(null==e)return!0;if(zs(e)&&(Ks(e)||"string"==typeof e||"function"==typeof e.splice||$s(e)||lu(e)||Gs(e)))return!e.length;var t=vi(e);if(t==S||t==A)return!e.size;if(Ci(e))return!jr(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},qn.isEqual=function(e,t){return Dr(e,t)},qn.isEqualWith=function(e,t,r){var o=(r="function"==typeof r?r:n)?r(e,t):n;return o===n?Dr(e,t,n,r):!!o},qn.isError=Xs,qn.isFinite=function(e){return"number"==typeof e&&Gt(e)},qn.isFunction=Zs,qn.isInteger=eu,qn.isLength=tu,qn.isMap=ou,qn.isMatch=function(e,t){return e===t||Pr(e,t,pi(t))},qn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Pr(e,t,pi(t),r)},qn.isNaN=function(e){return iu(e)&&e!=+e},qn.isNative=function(e){if(Oi(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},qn.isNil=function(e){return null==e},qn.isNull=function(e){return null===e},qn.isNumber=iu,qn.isObject=nu,qn.isObjectLike=ru,qn.isPlainObject=su,qn.isRegExp=uu,qn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=p},qn.isSet=au,qn.isString=cu,qn.isSymbol=fu,qn.isTypedArray=lu,qn.isUndefined=function(e){return e===n},qn.isWeakMap=function(e){return ru(e)&&vi(e)==k},qn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Tr(e)},qn.join=function(e,t){return null==e?"":yn.call(e,t)},qn.kebabCase=Ku,qn.last=Xi,qn.lastIndexOf=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o;return r!==n&&(i=(i=vu(r))<0?bn(o+i,0):_n(i,o-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ft(e,Bt,i,!0)},qn.lowerCase=Hu,qn.lowerFirst=zu,qn.lt=pu,qn.lte=du,qn.max=function(e){return e&&e.length?vr(e,ia,Rr):n},qn.maxBy=function(e,t){return e&&e.length?vr(e,fi(t,2),Rr):n},qn.mean=function(e){return Qt(e,ia)},qn.meanBy=function(e,t){return Qt(e,fi(t,2))},qn.min=function(e){return e&&e.length?vr(e,ia,Fr):n},qn.minBy=function(e,t){return e&&e.length?vr(e,fi(t,2),Fr):n},qn.stubArray=ya,qn.stubFalse=ma,qn.stubObject=function(){return{}},qn.stubString=function(){return""},qn.stubTrue=function(){return!0},qn.multiply=Sa,qn.nth=function(e,t){return e&&e.length?Vr(e,vu(t)):n},qn.noConflict=function(){return pt._===this&&(pt._=We),this},qn.noop=fa,qn.now=As,qn.pad=function(e,t,n){e=_u(e);var r=(t=vu(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ko(vt(o),n)+e+Ko(ht(o),n)},qn.padEnd=function(e,t,n){e=_u(e);var r=(t=vu(t))?pn(e):0;return t&&r<t?e+Ko(t-r,n):e},qn.padStart=function(e,t,n){e=_u(e);var r=(t=vu(t))?pn(e):0;return t&&r<t?Ko(t-r,n)+e:e},qn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(_u(e).replace(oe,""),t||0)},qn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Ei(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=gu(e),t===n?(t=e,e=0):t=gu(t)),e>t){var o=e;e=t,t=o}if(r||e%1||t%1){var i=Sn();return _n(e+i*(t-e+at("1e-"+((i+"").length-1))),t)}return Yr(e,t)},qn.reduce=function(e,t,n){var r=Ks(e)?Pt:Kt,o=arguments.length<3;return r(e,fi(t,4),n,o,dr)},qn.reduceRight=function(e,t,n){var r=Ks(e)?Nt:Kt,o=arguments.length<3;return r(e,fi(t,4),n,o,hr)},qn.repeat=function(e,t,r){return t=(r?Ei(e,t,r):t===n)?1:vu(t),$r(_u(e),t)},qn.replace=function(){var e=arguments,t=_u(e[0]);return e.length<3?t:t.replace(e[1],e[2])},qn.result=function(e,t,r){var o=-1,i=(t=Eo(t,e)).length;for(i||(i=1,e=n);++o<i;){var s=null==e?n:e[Fi(t[o])];s===n&&(o=i,s=r),e=Zs(s)?s.call(e):s}return e},qn.round=Oa,qn.runInContext=e,qn.sample=function(e){return(Ks(e)?Xn:Xr)(e)},qn.size=function(e){if(null==e)return 0;if(zs(e))return cu(e)?pn(e):e.length;var t=vi(e);return t==S||t==A?e.size:jr(e).length},qn.snakeCase=Yu,qn.some=function(e,t,r){var o=Ks(e)?Lt:io;return r&&Ei(e,t,r)&&(t=n),o(e,fi(t,3))},qn.sortedIndex=function(e,t){return so(e,t)},qn.sortedIndexBy=function(e,t,n){return uo(e,t,fi(n,2))},qn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=so(e,t);if(r<n&&Bs(e[r],t))return r}return-1},qn.sortedLastIndex=function(e,t){return so(e,t,!0)},qn.sortedLastIndexBy=function(e,t,n){return uo(e,t,fi(n,2),!0)},qn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=so(e,t,!0)-1;if(Bs(e[n],t))return n}return-1},qn.startCase=$u,qn.startsWith=function(e,t,n){return e=_u(e),n=null==n?0:ar(vu(n),0,e.length),t=fo(t),e.slice(n,n+t.length)==t},qn.subtract=Ca,qn.sum=function(e){return e&&e.length?Ht(e,ia):0},qn.sumBy=function(e,t){return e&&e.length?Ht(e,fi(t,2)):0},qn.template=function(e,t,r){var o=qn.templateSettings;r&&Ei(e,t,r)&&(t=n),e=_u(e),t=Su({},t,o,ei);var i,s,u=Su({},t.imports,o.imports,ei),a=Du(u),c=Jt(u,a),f=0,l=t.interpolate||_e,p="__p += '",d=Re((t.escape||_e).source+"|"+l.source+"|"+(l===X?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),h="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(d,(function(t,n,r,o,u,a){return r||(r=o),p+=e.slice(f,a).replace(Ee,on),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),u&&(s=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=a+t.length,t})),p+="';\n";var g=Ne.call(t,"variable")&&t.variable;if(g){if(fe.test(g))throw new Se("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace(Q,""):p).replace(V,"$1").replace(G,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=ea((function(){return Oe(a,h+"return "+p).apply(n,c)}));if(v.source=p,Xs(v))throw v;return v},qn.times=function(e,t){if((e=vu(e))<1||e>p)return[];var n=h,r=_n(e,h);t=fi(t),e-=h;for(var o=zt(r,t);++n<e;)t(n);return o},qn.toFinite=gu,qn.toInteger=vu,qn.toLength=yu,qn.toLower=function(e){return _u(e).toLowerCase()},qn.toNumber=mu,qn.toSafeInteger=function(e){return e?ar(vu(e),-9007199254740991,p):0===e?e:0},qn.toString=_u,qn.toUpper=function(e){return _u(e).toUpperCase()},qn.trim=function(e,t,r){if((e=_u(e))&&(r||t===n))return Yt(e);if(!e||!(t=fo(t)))return e;var o=dn(e),i=dn(t);return So(o,Zt(o,i),en(o,i)+1).join("")},qn.trimEnd=function(e,t,r){if((e=_u(e))&&(r||t===n))return e.slice(0,hn(e)+1);if(!e||!(t=fo(t)))return e;var o=dn(e);return So(o,0,en(o,dn(t))+1).join("")},qn.trimStart=function(e,t,r){if((e=_u(e))&&(r||t===n))return e.replace(oe,"");if(!e||!(t=fo(t)))return e;var o=dn(e);return So(o,Zt(o,dn(t))).join("")},qn.truncate=function(e,t){var r=30,o="...";if(nu(t)){var i="separator"in t?t.separator:i;r="length"in t?vu(t.length):r,o="omission"in t?fo(t.omission):o}var s=(e=_u(e)).length;if(sn(e)){var u=dn(e);s=u.length}if(r>=s)return e;var a=r-pn(o);if(a<1)return o;var c=u?So(u,0,a).join(""):e.slice(0,a);if(i===n)return c+o;if(u&&(a+=c.length-a),uu(i)){if(e.slice(a).search(i)){var f,l=c;for(i.global||(i=Re(i.source,_u(de.exec(i))+"g")),i.lastIndex=0;f=i.exec(l);)var p=f.index;c=c.slice(0,p===n?a:p)}}else if(e.indexOf(fo(i),a)!=a){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+o},qn.unescape=function(e){return(e=_u(e))&&z.test(e)?e.replace(K,gn):e},qn.uniqueId=function(e){var t=++Le;return _u(e)+t},qn.upperCase=Ju,qn.upperFirst=Xu,qn.each=_s,qn.eachRight=Es,qn.first=zi,ca(qn,function(){var e={};return Er(qn,(function(t,n){Ne.call(qn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),qn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){qn[e].placeholder=qn})),Tt(["drop","take"],(function(e,t){Gn.prototype[e]=function(r){r=r===n?1:bn(vu(r),0);var o=this.__filtered__&&!t?new Gn(this):this.clone();return o.__filtered__?o.__takeCount__=_n(r,o.__takeCount__):o.__views__.push({size:_n(r,h),type:e+(o.__dir__<0?"Right":"")}),o},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:fi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(ia)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return kr(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(js(fi(e)))},Gn.prototype.slice=function(e,t){e=vu(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Gn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=vu(t))<0?r.dropRight(-t):r.take(t-e)),r)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(h)},Er(Gn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=qn[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);i&&(qn.prototype[t]=function(){var t=this.__wrapped__,u=o?[1]:arguments,a=t instanceof Gn,c=u[0],f=a||Ks(t),l=function(e){var t=i.apply(qn,Dt([e],u));return o&&p?t[0]:t};f&&r&&"function"==typeof c&&1!=c.length&&(a=f=!1);var p=this.__chain__,d=!!this.__actions__.length,h=s&&!p,g=a&&!d;if(!s&&f){t=g?t:new Gn(this);var v=e.apply(t,u);return v.__actions__.push({func:gs,args:[l],thisArg:n}),new Vn(v,p)}return h&&g?e.apply(this,u):(v=this.thru(l),h?o?v.value()[0]:v.value():v)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);qn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ks(o)?o:[],e)}return this[n]((function(n){return t.apply(Ks(n)?n:[],e)}))}})),Er(Gn.prototype,(function(e,t){var n=qn[t];if(n){var r=n.name+"";Ne.call(Mn,r)||(Mn[r]=[]),Mn[r].push({name:t,func:n})}})),Mn[Bo(n,2).name]=[{name:"wrapper",func:n}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=ko(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ko(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ko(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ks(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=_n(t,e+s);break;case"takeRight":e=bn(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,u=i.end,a=u-s,c=r?u:s-1,f=this.__iteratees__,l=f.length,p=0,d=_n(a,this.__takeCount__);if(!n||!r&&o==a&&d==a)return vo(e,this.__actions__);var h=[];e:for(;a--&&p<d;){for(var g=-1,v=e[c+=t];++g<l;){var y=f[g],m=y.iteratee,b=y.type,_=m(v);if(2==b)v=_;else if(!_){if(1==b)continue e;break e}}h[p++]=v}return h},qn.prototype.at=vs,qn.prototype.chain=function(){return hs(this)},qn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},qn.prototype.next=function(){this.__values__===n&&(this.__values__=hu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},qn.prototype.plant=function(e){for(var t,r=this;r instanceof Qn;){var o=qi(r);o.__index__=0,o.__values__=n,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t},qn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:gs,args:[ns],thisArg:n}),new Vn(t,this.__chain__)}return this.thru(ns)},qn.prototype.toJSON=qn.prototype.valueOf=qn.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},qn.prototype.first=qn.prototype.head,Ze&&(qn.prototype[Ze]=function(){return this}),qn}();ht?((ht.exports=vn)._=vn,dt._=vn):pt._=vn}).call(Ve)})),He=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.networkRequestService=t,o.userInfo=new qe,o.vipInfo=new Be,o.bindUserInfo=new Qe,o.userInfo=new qe(r),o.accountListEntity=new ge(t,n),o.passwordEntity=new Fe(t,n),o.accountRepository=new Re(t),o}return D(t,e),t.prototype.completionUserInfo=function(e){e.vipInfo&&(this.vipInfo=new Be(e.vipInfo)),this.bindUserInfo=new Qe(e)},t.prototype.updateNowUserIndex=function(e){e&&(window.nowUserIndex=e)},t.prototype.bindingQQInfo=function(){var e,t;return U(this,void 0,void 0,(function(){var n,r,o,i;return F(this,(function(s){switch(s.label){case 0:return[4,this.accountRepository.CurrentLoginAccountBindInfo()];case 1:return n=s.sent(),[4,this.accountRepository.BindingAccountInfo()];case 2:return r=s.sent(),o=null===(e=n.resData)||void 0===e?void 0:e.data,i=null===(t=r.resData)||void 0===t?void 0:t.data,o&&i?[2,{isCanBind:o.allowBind&&i.allowBind,nextBindTime:Ke.max([o.nextAllowBindTime,i.nextAllowBindTime]),qqNickName:i.nick,qqAvatar:i.avatar}]:[2,{isCanBind:!1,nextBindTime:0,qqAvatar:"",qqNickName:""}]}}))}))},t=N([L(0,x),j("design:paramtypes",[Object,String,Object])],t)}(le),ze=function(){function e(e){this.networkRequestService=e,this.userInfoRepository=new ce(this.networkRequestService)}return e.prototype.createPersonalEnvAccountAggregate=function(){var e,t=null===(e=globalThis.basicClientVars)||void 0===e?void 0:e.userInfo;this.accountAggregate=t?new He(this.networkRequestService,t.tinyId||We,t):new He(this.networkRequestService,We)},e.prototype.updatePersonalEnvAccountAggregate=function(e){var t,n,r;return U(this,void 0,void 0,(function(){var o;return F(this,(function(i){switch(i.label){case 0:return this.updateUserIndex(e),o=null===(r=null===(n=null===(t=this.accountAggregate)||void 0===t?void 0:t.userInfo)||void 0===n?void 0:n.settings)||void 0===r?void 0:r.language,[4,this.createPersonalEnvAccountAggregateForFetch(e,o)];case 1:return[2,i.sent()]}}))}))},e.prototype.completionUserInfo=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){switch(t.label){case 0:return[4,this.userInfoRepository.getPersonalUserInfo()];case 1:return 0===(null===(e=t.sent().resData)||void 0===e?void 0:e.retcode)?(this.accountAggregate.completionUserInfo(e.data),[2,!0]):[2,!1]}}))}))},e.prototype.createPersonalEnvAccountAggregateForFetch=function(e,t){return U(this,void 0,void 0,(function(){var n,r;return F(this,(function(o){switch(o.label){case 0:return[4,this.userInfoRepository.getPersonalUserInfo()];case 1:return 0===(null===(n=o.sent().resData)||void 0===n?void 0:n.retcode)?(r=this.changeFetchDataToBaseDate(n.data,e,t),this.accountAggregate=new He(this.networkRequestService,n.data.tinyid,r),this.accountAggregate.completionUserInfo(n.data),[2,!0]):[2,!1]}}))}))},e.prototype.changeFetchDataToBaseDate=function(e,t,n){var r=e.corpId,o=e.tinyid,i=e.corpName,s=e.englishName,u=e.loginType,a=e.wxOpenid,c=e.uin,f=e.uidSource,l=e.userId,p=e.avatar;return{corpId:r,corpName:i,englishName:s,loginType:u,uin:c,uidSource:f,userId:l,nowUserIndex:null!==t&&void 0!==t?t:"",tinyId:o,openId:a,userName:e.nick,userPic:p,settings:{language:null!==n&&void 0!==n?n:""}}},e.prototype.updateUserIndex=function(e){this.accountAggregate.updateNowUserIndex(e)},e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),Ye=(0,o.yh)("ILoginDomainService"),$e=C+"/v2/cgi-bin/online_docs/polling",Je=R+"polling/key/create",Xe=C+"/cgi-bin/online_docs/wxqrcode",Ze=T+"user_info",et=R+"work_weixin/login";function tt(e,t){if(e.includes("?")){var n=e;return Object.keys(t).map((function(e){n=function(e,t,n){var r=e.split("?"),o=r[1].split("&"),i=!0,s=new Map;o.forEach((function(e){var t=e.split("=");s.set(t[0],t[1])})),o.some((function(e){0===e.indexOf(t+"=")&&(s.set(t,n),i=!1)})),i&&s.set(t,n);var u=[];return s.forEach((function(e,t){var n=t+"="+e;u.push(n)})),r[1]=u.join("&"),r.join("?")}(n,e,t[e])})),n}return e+"?"+Object.keys(t).map((function(e){return e+"="+t[e]})).join("&")}function nt(e,t){if(Object.keys(t).length<1)return e;if(e.includes("#")){var n=e.split("#");return n[0]=tt(n[0],t),n.join("#")}return tt(e,t)}var rt,ot="x-u",it="userIndex",st=function(){function e(e){this.networkRequestService=e}return e.prototype.pollingKeyCreate=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=Je+"?ac="+e,[2,this.networkRequestService.instance.post(t,{xsrf:p(r.xsrf)})]}))}))},e.prototype.getWeChatLogInQRCodeURI=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){return e={ac:"login",ts:Date.now(),page:encodeURIComponent("pages/landingpage/landingpage"),checkKey:"1",xsrf:""+p(r.xsrf)},t=nt(Xe,e),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.updateWeChatLoginQRCodeStatus=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=nt($e,{CheckKey:e,u:"login"}),[2,this.networkRequestService.instance.post(t)]}))}))},e.prototype.checkQQLogin=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=Ze+"?u=login",[2,this.networkRequestService.instance.post(e,{xsrf:p(r.xsrf)})]}))}))},e.prototype.weworkLogin=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=et+"?u=login",[2,this.networkRequestService.instance.post(e,{xsrf:p(r.xsrf)})]}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"pollingKeyCreate",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"getWeChatLogInQRCodeURI",null),N([oe(),X(),Z(ot,it),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"updateWeChatLoginQRCodeStatus",null),N([oe(),X(),Z(ot,it),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"checkQQLogin",null),N([oe(),X(),Z(ot,it),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"weworkLogin",null),e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),ut=Ge((function(e,t){self,e.exports=function(){var e={8926:function(e){function t(e,t,n,r,o,i,s){try{var u=e[i](s),a=u.value}catch(e){return void n(e)}u.done?t(a):Promise.resolve(a).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var s=e.apply(n,r);function u(e){t(s,o,i,u,a,"next",e)}function a(e){t(s,o,i,u,a,"throw",e)}u(void 0)}))}}},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7757:function(e,t,n){e.exports=n(5666)},2003:function(e,t,n){"undefined"!=typeof window?window:n.g,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=74)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(18)("wks"),o=n(17),i=n(0).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(0),o=n(15),i=n(11),s=n(12),u=n(19),a=function(e,t,n){var c,f,l,p,d=e&a.F,h=e&a.G,g=e&a.S,v=e&a.P,y=e&a.B,m=h?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});for(c in h&&(n=t),n)l=((f=!d&&m&&void 0!==m[c])?m:n)[c],p=y&&f?u(l,r):v&&"function"==typeof l?u(Function.call,l):l,m&&s(m,c,l,e&a.U),b[c]!=l&&i(b,c,p),v&&_[c]!=l&&(_[c]=l)};r.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var r=n(2),o=n(25),i=n(16),s=Object.defineProperty;t.f=n(1)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(14),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(7),o=n(27);e.exports=n(1)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0),o=n(11),i=n(13),s=n(17)("src"),u=n(46),a=(""+u).split("toString");n(15).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,s)||o(n,s,e[t]?""+e[t]:a.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||u.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(15),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(47)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(28);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(8);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(32),o=n(8);e.exports=function(e){return r(o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r,o,i=n(41),s=RegExp.prototype.exec,u=String.prototype.replace,a=s,c=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=void 0!==/()??/.exec("")[1];(c||f)&&(a=function(e){var t,n,r,o,a=this;return f&&(n=new RegExp("^"+a.source+"$(?!\\s)",i.call(a))),c&&(t=a.lastIndex),r=s.call(a,e),c&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=a},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){e.exports=!n(1)&&!n(3)((function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5),o=n(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(4)("unscopables"),o=Array.prototype;null==o[r]&&n(11)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(19),o=n(32),i=n(20),s=n(9),u=n(51);e.exports=function(e,t){var n=1==e,a=2==e,c=3==e,f=4==e,l=6==e,p=5==e||l,d=t||u;return function(t,u,h){for(var g,v,y=i(t),m=o(y),b=r(u,h,3),_=s(m.length),E=0,w=n?d(t,_):a?d(t,0):void 0;_>E;E++)if((p||E in m)&&(v=b(g=m[E],E,y),e))if(n)w[E]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:w.push(g)}else if(f)return!1;return l?-1:c||f?f:w}}},function(e,t,n){var r=n(10);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(5),o=n(55).set;e.exports=function(e,t,n){var i,s=t.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(56),o=n(27),i=n(21),s=n(16),u=n(13),a=n(25),c=Object.getOwnPropertyDescriptor;t.f=n(1)?c:function(e,t){if(e=i(e),t=s(t,!0),a)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(36),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(13),o=n(21),i=n(57)(!1),s=n(37)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),a=0,c=[];for(n in u)n!=s&&r(u,n)&&c.push(n);for(;t.length>a;)r(u,n=t[a++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(18)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(5),o=n(10),i=n(4)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(66)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(67),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(68);var r=n(12),o=n(11),i=n(3),s=n(8),u=n(4),a=n(23),c=u("species"),f=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=u(e),d=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!t})):void 0;if(!d||!h||"replace"===e&&!f||"split"===e&&!l){var g=/./[p],v=n(s,p,""[e],(function(e,t,n,r,o){return t.exec===a?d&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=v[0],m=v[1];r(String.prototype,e,y),o(RegExp.prototype,p,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(6);r(r.S+r.F*!n(1),"Object",{defineProperty:n(7).f})},function(e,t,n){e.exports=n(18)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(6);r(r.P,"Array",{fill:n(49)}),n(30)("fill")},function(e,t,n){var r=n(20),o=n(29),i=n(9);e.exports=function(e){for(var t=r(this),n=i(t.length),s=arguments.length,u=o(s>1?arguments[1]:void 0,n),a=s>2?arguments[2]:void 0,c=void 0===a?n:o(a,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(6),o=n(31)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(30)("find")},function(e,t,n){var r=n(52);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(5),o=n(53),i=n(4)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(10);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),o=n(13),i=n(10),s=n(33),u=n(16),a=n(3),c=n(35).f,f=n(34).f,l=n(7).f,p=n(58).trim,d=r.Number,h=d,g=d.prototype,v="Number"==i(n(60)(g)),y="trim"in String.prototype,m=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=y?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var s,a=t.slice(2),c=0,f=a.length;c<f;c++)if((s=a.charCodeAt(c))<48||s>o)return NaN;return parseInt(a,r)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(v?a((function(){g.valueOf.call(n)})):"Number"!=i(n))?s(new h(m(t)),n,d):m(t)};for(var b,_=n(1)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;_.length>E;E++)o(h,b=_[E])&&!o(d,b)&&l(d,b,f(h,b));d.prototype=g,g.constructor=d,n(12)(r,"Number",d)}},function(e,t,n){var r=n(5),o=n(2),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(19)(Function.call,n(34).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(21),o=n(9),i=n(29);e.exports=function(e){return function(t,n,s){var u,a=r(t),c=o(a.length),f=i(s,c);if(e&&n!=n){for(;c>f;)if((u=a[f++])!=u)return!0}else for(;c>f;f++)if((e||f in a)&&a[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(6),o=n(8),i=n(3),s=n(59),u="["+s+"]",a=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(e,t,n){var o={},u=i((function(){return!!s[e]()||"​"!="​"[e]()})),a=o[e]=u?t(l):s[e];n&&(o[n]=a),r(r.P+r.F*u,"String",o)},l=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(61),i=n(22),s=n(37)("IE_PROTO"),u=function(){},a=function(){var e,t=n(26)("iframe"),r=i.length;for(t.style.display="none",n(63).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),a=e.F;r--;)delete a.prototype[i[r]];return a()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[s]=e):n=a(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(7),o=n(2),i=n(62);e.exports=n(1)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),u=s.length,a=0;u>a;)r.f(e,n=s[a++],t[n]);return e}},function(e,t,n){var r=n(36),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(38),o=n(2),i=n(65),s=n(39),u=n(9),a=n(40),c=n(23),f=n(3),l=Math.min,p=[].push,d="length",h=!f((function(){}));n(42)("split",2,(function(e,t,n,f){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,s,u,a=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,h=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,f+"g");(i=c.call(g,o))&&!((s=g.lastIndex)>l&&(a.push(o.slice(l,i.index)),i[d]>1&&i.index<o[d]&&p.apply(a,i.slice(1)),u=i[0][d],l=s,a[d]>=h));)g.lastIndex===i.index&&g.lastIndex++;return l===o[d]?!u&&g.test("")||a.push(""):a.push(o.slice(l)),a[d]>h?a.slice(0,h):a}:"0".split(void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):g.call(String(o),n,r)},function(e,t){var r=f(g,e,this,t,g!==n);if(r.done)return r.value;var c=o(e),p=String(this),d=i(c,RegExp),v=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),m=new d(h?c:"^(?:"+c.source+")",y),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===p.length)return null===a(m,p)?[p]:[];for(var _=0,E=0,w=[];E<p.length;){m.lastIndex=h?E:0;var S,O=a(m,h?p:p.slice(E));if(null===O||(S=l(u(m.lastIndex+(h?0:E)),p.length))===_)E=s(p,E,v);else{if(w.push(p.slice(_,E)),w.length===b)return w;for(var C=1;C<=O.length-1;C++)if(w.push(O[C]),w.length===b)return w;E=_=S}}return w.push(p.slice(_)),w}]}))},function(e,t,n){var r=n(2),o=n(28),i=n(4)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[i])?t:o(n)}},function(e,t,n){var r=n(14),o=n(8);e.exports=function(e){return function(t,n){var i,s,u=String(o(t)),a=r(n),c=u.length;return a<0||a>=c?e?"":void 0:(i=u.charCodeAt(a))<55296||i>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):i:e?u.slice(a,a+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(10),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(23);n(6)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){var r=n(6),o=n(31)(1);r(r.P+r.F*!n(70)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(3);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(2),o=n(20),i=n(9),s=n(14),u=n(39),a=n(40),c=Math.max,f=Math.min,l=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(42)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),s=null==r?void 0:r[t];return void 0!==s?s.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var l=r(e),p=String(this),d="function"==typeof t;d||(t=String(t));var v=l.global;if(v){var y=l.unicode;l.lastIndex=0}for(var m=[];;){var b=a(l,p);if(null===b)break;if(m.push(b),!v)break;""===String(b[0])&&(l.lastIndex=u(p,i(l.lastIndex),y))}for(var _,E="",w=0,S=0;S<m.length;S++){b=m[S];for(var O=String(b[0]),C=c(f(s(b.index),p.length),0),T=[],R=1;R<b.length;R++)T.push(void 0===(_=b[R])?_:String(_));var A=b.groups;if(d){var x=[O].concat(T,C,p);void 0!==A&&x.push(A);var I=String(t.apply(void 0,x))}else I=g(O,p,C,T,A,t);C>=w&&(E+=p.slice(w,C)+I,w=C+O.length)}return E+p.slice(w)}];function g(e,t,r,i,s,u){var a=r+e.length,c=i.length,f=d;return void 0!==s&&(s=o(s),f=p),n.call(u,f,(function(n,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(a);case"<":u=s[o.slice(1,-1)];break;default:var f=+o;if(0===f)return n;if(f>c){var p=l(f/10);return 0===p?n:p<=c?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}u=i[f-1]}return void 0===u?"":u}))}}))},function(e,t,n){var r=n(0),o=n(33),i=n(7).f,s=n(35).f,u=n(38),a=n(41),c=r.RegExp,f=c,l=c.prototype,p=/a/g,d=/a/g,h=new c(p)!==p;if(n(1)&&(!h||n(3)((function(){return d[n(4)("match")]=!1,c(p)!=p||c(d)==d||"/a/i"!=c(p,"i")})))){c=function(e,t){var n=this instanceof c,r=u(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(h?new f(r&&!i?e.source:e,t):f((r=e instanceof c)?e.source:e,r&&i?a.call(e):t),n?this:l,c)};for(var g=function(e){e in c||i(c,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},v=s(f),y=0;v.length>y;)g(v[y++]);l.constructor=c,c.prototype=l,n(12)(r,"RegExp",c)}n(73)("RegExp")},function(e,t,n){var r=n(0),o=n(7),i=n(1),s=n(4)("species");e.exports=function(e){var t=r[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){n.r(t),n.d(t,"UserAgent",(function(){return h})),n.d(t,"getVersionFromUA",(function(){return d})),n.d(t,"compareVersion",(function(){return p}));var r=n(24),o=n.n(r),i=(n(45),n(43)),s=n.n(i),u=n(44),a=n.n(u),c=(n(48),n(50),n(54),n(64),n(69),n(71),n(72),/\d+([._]\d+)*/);function f(e){var t,n=c.exec(e);return null!==(t=null==n?void 0:n[0].replace(/_/g,"."))&&void 0!==t?t:null}function l(e){var t=f(e);return(null==t?void 0:t.split(".").map(Number))||[]}function p(e,t){return n=l(e),r=l(t),(o=Array(Math.max(n.length,r.length)).fill(0).map((function(e,t){return(n[t]||0)-(r[t]||0)})).find((function(e){return 0!==e}))||0)<0?-1:o>0?1:0;var n,r,o}function d(e,t){var n;try{n=new RegExp("\\b".concat(e,"\\W+\\d+([\\._]\\d+)*"),"i")}catch(e){return null}var r=n.exec(t);return r?f(r[0].substring(e.length)):null}var h=function(){function e(t){var n=this;s()(this,e),this.userAgent="",this.getAndroidVersion=function(){return n.isAndroid?d("Android",n.userAgent):null},this.isAndroidVersionAboveOrEqual=function(e){return p(n.getAndroidVersion()||"",e)>=0},this.getIOSVersion=function(){return n.isIOS?d("OS",n.userAgent):null},this.isIOSVersionAboveOrEqual=function(e){return p(n.getIOSVersion()||"",e)>=0},this.getPCQQBrowserVersion=function(){return n.isPCQQBrowser?d("QQBrowser",n.userAgent):null},this.isPCQQBrowserVersionAboveOrEqual=function(e){return p(n.getPCQQBrowserVersion()||"",e)>=0},this.getMobileQQBrowserVersion=function(){return n.isMobileQQBrowser?d("MQQBrowser",n.userAgent):null},this.isMobileQQBrowserVersionAboveOrEqual=function(e){return p(n.getMobileQQBrowserVersion()||"",e)>=0},this.getChromeVersion=function(){return d("Chrome",n.userAgent)},this.isChromeVersionAboveOrEqual=function(e){return p(n.getChromeVersion()||"",e)>=0},this.getWeChatVersion=function(){return n.isWeChat||n.isWxMiniProgram?d("MicroMessenger",n.userAgent):null},this.isWeChatVersionAboveOrEqual=function(e){return p(n.getWeChatVersion()||"",e)>=0},this.getWxDriveVersion=function(){return n.isWxDrive?d("WXDrive",n.userAgent):null},this.isWxDriveVersionAboveOrEqual=function(e){return p(n.getWxDriveVersion()||"",e)>=0},this.getWxWorkVersion=function(){return n.isWxWork?d("wxwork",n.userAgent):null},this.isWxWorkVersionAboveOrEqual=function(e){return p(n.getWxWorkVersion()||"",e)>=0},this.getQQVersion=function(){return n.isQQ||n.isQQMiniProgram?d("QQ",n.userAgent):null},this.isQQVersionAboveOrEqual=function(e){return p(n.getQQVersion()||"",e)>=0},this.getTimVersion=function(){return n.isTim?d("TIM",n.userAgent):null},this.isTimVersionAboveOrEqual=function(e){return p(n.getTimVersion()||"",e)>=0},this.getTencentDocsAppVersion=function(){return d("TencentDocs",n.userAgent)},this.isTencentDocsAppVersionAboveOrEqual=function(e){return p(n.getTencentDocsAppVersion()||"",e)>=0},this.getPCTencentDocsClientVersion=function(){return d("TxDocsPC",n.userAgent)},this.isPCTencentDocsClientVersionAboveOrEqual=function(e){return p(n.getPCTencentDocsClientVersion()||"",e)>=0},this.getElectronTencentDocsClientVersion=function(){return d("TDAppDesktop",n.userAgent)},this.isElectronTencentDocsClientVersionAboveOrEqual=function(e){return p(n.getElectronTencentDocsClientVersion()||"",e)>=0},void 0===t&&(t="undefined"!=typeof navigator?navigator.userAgent:""),Object.defineProperty(this,"userAgent",{value:t,writable:!1})}return a()(e,[{key:"isMobile",get:function(){return/(mobile)/i.test(this.userAgent)||this.isAndroidPad}},{key:"isMobilePhone",get:function(){return/(mobile)/i.test(this.userAgent)&&!this.isIPad}},{key:"isIPhone",get:function(){return/(iphone)/i.test(this.userAgent)}},{key:"isIPad",get:function(){return/(ipad)/i.test(this.userAgent)}},{key:"isAndroidPhone",get:function(){return/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isAndroidPad",get:function(){return!/(mobile)/i.test(this.userAgent)&&this.isAndroid}},{key:"isPC",get:function(){return!this.isMobile}},{key:"isMac",get:function(){return!this.isMobile&&/Mac OS X/i.test(this.userAgent)}},{key:"isIPadEmulatedMac",get:function(){return this.isMac&&navigator.maxTouchPoints>1}},{key:"isAndroid",get:function(){return/android|adr/i.test(this.userAgent)}},{key:"isIOS",get:function(){return/(iphone|ipad|ipod)/i.test(this.userAgent)}},{key:"isWindows",get:function(){return/(win64|wow64|win32|wow32|windows nt)/i.test(this.userAgent)}},{key:"isWindowsUWP",get:function(){return/MSAppHost/i.test(this.userAgent)}},{key:"isLinux",get:function(){return/linux/i.test(this.userAgent)&&!this.isAndroid}},{key:"isLinuxKylin",get:function(){return/linux-kylin/i.test(this.userAgent)}},{key:"isLinuxUOS",get:function(){return/linux-uos/i.test(this.userAgent)}},{key:"isPCQQBrowser",get:function(){return!this.isMobile&&/QQBrowser/i.test(this.userAgent)&&!/QBCore/i.test(this.userAgent)}},{key:"isMobileQQBrowser",get:function(){return this.isMobile&&/MQQBrowser/i.test(this.userAgent)&&!this.isTimOrQQ&&!this.isWeChat&&!this.isWxWork&&!this.isTencentDocsApp&&!this.isWeiYunApp&&!this.isMiniProgram}},{key:"isQQBrowser",get:function(){return this.isMobile?this.isMobileQQBrowser:this.isPCQQBrowser}},{key:"isChrome",get:function(){return/(Chrome|CriOS)\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isSafari",get:function(){return/Version\/\S+( Mobile\S*)? Safari\/\S+$/i.test(this.userAgent)}},{key:"isIE",get:function(){return/MSIE/i.test(this.userAgent)&&!/opera/i.test(this.userAgent)||/Trident/i.test(this.userAgent)}},{key:"isOldEdge",get:function(){return/Edge/i.test(this.userAgent)}},{key:"isChromiumEdge",get:function(){return/Edg\//i.test(this.userAgent)}},{key:"isFirefox",get:function(){return/(Firefox|Focus|FxiOS)\//i.test(this.userAgent)}},{key:"isWeChat",get:function(){return/MicroMessenger/i.test(this.userAgent)&&!this.isWxWork&&!this.isWxMiniProgram}},{key:"isWxWork",get:function(){return/(wxwork)/i.test(this.userAgent)}},{key:"isWxDrive",get:function(){return/WXDrive/i.test(this.userAgent)}},{key:"isQQ",get:function(){return/QQ\//i.test(this.userAgent)&&!this.isTencentDocsApp&&!this.isQQMiniProgram&&!this.isTim}},{key:"isQQForGooglePlay",get:function(){return/QQ\//i.test(this.userAgent)&&/_GM/i.test(this.userAgent)}},{key:"isTim",get:function(){return/TIM/i.test(this.userAgent)}},{key:"isPCTim",get:function(){return/QBCore/i.test(this.userAgent)&&/TIM2.0/i.test(this.userAgent)}},{key:"isTimOrQQ",get:function(){return this.isTim||this.isQQ}},{key:"isTimOrQQFamily",get:function(){return this.isTim||/QQ/i.test(this.userAgent)}},{key:"isMiniProgram",get:function(){return/miniprogram|miniapp(?!enable)/i.test(this.userAgent)||"undefined"!=typeof __wxjs_environment&&"miniprogram"===__wxjs_environment}},{key:"isWxMiniProgram",get:function(){return/MicroMessenger/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isQQMiniProgram",get:function(){return/QQ\/|TIM/i.test(this.userAgent)&&this.isMiniProgram}},{key:"isWxNativeMiniProgram",get:function(){return!this.isQQNativeMiniProgram&&"object"===("undefined"==typeof wx?"undefined":o()(wx))&&"function"==typeof wx.canIUse&&!0===wx.canIUse("request")}},{key:"isQQNativeMiniProgram",get:function(){return"object"===("undefined"==typeof qq?"undefined":o()(qq))&&"function"==typeof qq.canIUse&&!0===qq.canIUse("request")}},{key:"isNativeMiniProgram",get:function(){return this.isWxNativeMiniProgram||this.isQQNativeMiniProgram}},{key:"isTencentDocsApp",get:function(){return/TencentDocs/i.test(this.userAgent)}},{key:"isPCTencentDocsClient",get:function(){return/TxDocsPC/i.test(this.userAgent)}},{key:"isPCTencentDocsApp",get:function(){return this.isPCTencentDocsClient}},{key:"isElectronTencentDocsClient",get:function(){return/TDAppDesktop/i.test(this.userAgent)}},{key:"isWeiYunApp",get:function(){return/weiyun/i.test(this.userAgent)}},{key:"isSouGou",get:function(){return/SE 2\.X MetaSr 1\.0/i.test(this.userAgent)}},{key:"isTencentMeeting",get:function(){return/tencent_wemeet/i.test(this.userAgent)}}]),e}();t.default=new h}])},3157:function(e,t,n){n.r(t),n.d(t,{getMultUrl:function(){return ne},isNeedScenarioRedirectLink:function(){return ue},newBlankWindow:function(){return re},openNewBlankWindow:function(){return oe},setNewWindowUrl:function(){return se},tencentDocOpenUrl:function(){return ce},tencentDocOpenUrlForAll:function(){return ae},tencentDocOpenUrlReload:function(){return ie}}),n(9357);var r=n(2003),o=n.n(r);n(6142);var i=o().isTencentDocsApp;n(8388),n(7470),n(8351),n(4336),n(8837),n(5767),n(1181),n(6997),n(7476),n(851),n(6253);var s,u=n(7757),a=n.n(u),c=(n(5666),n(8926)),f=n.n(c),l=n(9713),p=n.n(l);n(6773),function(e){e[e.WxworkBrowser=1]="WxworkBrowser"}(s||(s={})),n(1876),n(2773),n(2850);var d,h,g,v="doc.weixin.qq.com",y="docs.qq.com";function m(e){var t,n=e.match(/(http:\/\/|https:\/\/|\/\/)?([^\/\?#]+)/i);return null!==(t=null==n?void 0:n[2])&&void 0!==t?t:""}function b(e){var t,n=e.split(/(\?|#)/),r=w("u",e),o=n[0],i=n[2]?"&"+n[2]:"",s=(t=window.global_multi_user,window.nowUserIndex||(null==t?void 0:t.nowUserIndex)||w("u")||"");return r||!function(e){return/^https:\/\/docs\.qq\.com/.test(e)}(e)||s&&(e="".concat(o,"?u=").concat(s).concat(i)),e}function _(e){return b(e)}function E(e){return/^(mailto:(\/\/)?)?([a-z\u00a1-\uffff0-9_\-.])+@([a-z\u00a1-\uffff0-9_\-.])+\.([a-z]{2,})$/i.test(e)?e=e.replace(/^(mailto:(\/\/)?)?/i,"mailto:"):/^(https?|ftp|file):\/\//i.test(e)||(e=/^(doc.weixin.qq.com)/i.test(e)?"https://".concat(e):"http://".concat(e)),e}function w(e,t){var r=function(e){return"string"==typeof e?e:e.search}(t||n.g.location||"").match(new RegExp("(\\?|&)"+e+"=([^&]*)(#|&|$)"));return r?decodeURIComponent(r[2]):""}function S(e,t){var n=e.split("?");if(n.length>=2){for(var r=encodeURIComponent(t)+"=",o=n[1].split(/[&]/g),i=o.length;i-- >0;)-1!==o[i].lastIndexOf(r,0)&&o.splice(i,1);return n[0]+(o.length>0?"?"+o.join("&"):"")}return e}function O(e){return/\.qq\.com/.test(e)}function C(e,t){var n=location.host,r=function(e){var t,n=m(e);if(o().isWxWork,[v,y].includes(n),!o().isWxWork||![v,y].includes(n))return e;var r=e.split("#"),i=null!==(t=r.shift())&&void 0!==t?t:"",s=r.join("#"),u=[d.NAME,d.VID,d.DEVICE_ID,h.NAME,h.VID,h.DEVICE_ID],a=i;return u.forEach((function(e){a=S(a,e)})),s?"".concat(a,"#").concat(s):"".concat(a)}(e);if(!r)return null;if(/^\/\//.test(r)&&(r="https:".concat(r)),r=function(e){var t,n=location.host,r=e;(function(e){return/^(http|https):\/\/(docs|doc.weixin).qq.com\/scenario\/link.html/i.test(e)})(e)&&(t=S(r,"url"),r=w("url",r));var o=m(r);if([v,y].includes(o)&&[v,y].includes(n)&&o!==n){var i=function(e,t,n){var r=function(e){return e===y?v:y}(n),o=(t?t.replace(n,r):e.replace(n,r)).replace(n,r);if(console.error("change to the same domain:",n,r),!t)return o;var i="&";return t.indexOf("?")<0&&(i="?"),console.error(t,i,o,e),"".concat(t).concat(i,"url=").concat(encodeURIComponent(e))}(r,t,o);return"https://".concat(n,"/cgi/gateway/changeticket?url=").concat(encodeURIComponent(i))}return e}(r),function(e,t){return!O(e)&&!(null==t?void 0:t.ignoreDomainDetect)}(e,t)&&n!==v){r="https://".concat(n,"/scenario/link.html?url=")+encodeURIComponent(r);var i=window.clientVars;i&&(r="".concat(r,"&pid=").concat(i.globalPadId,"&cid=").concat(i.creatorId))}return(null==t?void 0:t.noUserIndex)||(r=b(r)),r}n(1466),function(e){e.NAME="wwapp_cst",e.VID="wwapp_vid",e.DEVICE_ID="wwapp_deviceid"}(d||(d={})),function(e){e.NAME="cst",e.VID="vid",e.DEVICE_ID="deviceid"}(h||(h={})),n(3946),function(e){e[e.LOW=-1]="LOW",e[e.EQUQL=0]="EQUQL",e[e.HEIGHT=1]="HEIGHT"}(g||(g={})),n(3369),n(9564);var T=n(4575),R=n.n(T),A=n(3913),x=n.n(A),I=o().isMac||o().isIPad;const k=new(function(){function e(){var t=this;R()(this,e),this.isPressed=!1,this.handleKeyboardEvent=function(e){e.key===(I?"Meta":"Control")&&t.setCtrlKeyStatus("keydown"===e.type)},this.handleBlurEvent=function(){t.setCtrlKeyStatus(!1)};var n=["keydown","keyup"];n.forEach((function(e){document.addEventListener(e,t.handleKeyboardEvent)})),window.addEventListener("blur",this.handleBlurEvent),window.addEventListener("beforeunload",(function(){n.forEach((function(e){document.removeEventListener(e,t.handleKeyboardEvent)})),window.removeEventListener("blur",t.handleBlurEvent)}))}return x()(e,[{key:"setCtrlKeyStatus",value:function(e){this.isPressed=e}}]),e}());function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P,N=window,L=function(e){return/^http(s):\/\/drive\.weixin\.qq\.com\//i.test(e)},j=function(e){return[/^http(s):\/\/doc\.weixin\.qq\.com\/doc/i,/^http(s):\/\/doc\.weixin\.qq\.com\/sheet/i,/^http(s):\/\/doc\.weixin\.qq\.com\/forms/i,/^http(s):\/\/doc\.weixin\.qq\.com\/mind/i,/^http(s):\/\/doc\.weixin\.qq\.com\/flowchart/i,/^http(s):\/\/doc\.weixin\.qq\.com\/slide/i,/^http(s):\/\/doc\.weixin\.qq\.com\/home/i,/^http(s):\/\/doc\.weixin\.qq\.com\/mall\/m\/profile\/craft/i,/^http(s):\/\/doc\.weixin\.qq\.com\/scenario\/login/i,/^http(s):\/\/doc\.weixin\.qq\.com\/txdoc/i,/^http(s):\/\/doc\.weixin\.qq\.com\/formcol/i].some((function(t){return t.test(e)}))};!function(e){e[e.REPLACE=0]="REPLACE",e[e.FORK_WEBVIEW=1]="FORK_WEBVIEW",e[e.BROWSER=2]="BROWSER",e[e.NEW_WEBVIEW=3]="NEW_WEBVIEW"}(P||(P={}));var U=function(e,t){var n,r,o;return(null===(r=null===(n=null==N?void 0:N.mqq)||void 0===n?void 0:n.ui)||void 0===r?void 0:r.openUrl)?N.mqq.ui.openUrl({url:e,target:t.replace?0:1,style:3,useQQBrowser:!0}):(null===(o=null==N?void 0:N.qmailBridge)||void 0===o?void 0:o.openDocLink)?N.qmailBridge.openDocLink({url:e}):q(e,t)},F=function(){var e=f()(a().mark((function e(t,n){var r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(r=null==N?void 0:N.qmailBridge)||void 0===r?void 0:r.openFileInWedrive)||!L(t)){e.next=7;break}return e.next=3,B(t);case 3:if(!(i=e.sent)){e.next=7;break}return e.abrupt("return",N.qmailBridge.openFileInWedrive(i,t));case 7:if(!(null===(o=null==N?void 0:N.tdocs)||void 0===o?void 0:o.openInTab)||!j(t)){e.next=10;break}return e.abrupt("return",N.tdocs.openInTab({url:t}));case 10:return e.abrupt("return",q(t,n));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=f()(a().mark((function e(t,n){var r,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.replace){e.next=4;break}return window.location.href=t,e.abrupt("return");case 4:if(!(null===(r=null==N?void 0:N.tdocs)||void 0===r?void 0:r.openFileInWedrive)||!L(t)){e.next=11;break}return e.next=7,B(t);case 7:if(!(s=e.sent)){e.next=11;break}return e.abrupt("return",N.tdocs.openFileInWedrive({fileId:s,url:t}));case 11:if(!(null===(o=null==N?void 0:N.tdocs)||void 0===o?void 0:o.openInBrowser)||!ue(t)){e.next=14;break}return e.abrupt("return",N.tdocs.openInBrowser({url:E(t)}));case 14:if(!(null===(i=null==N?void 0:N.tdocs)||void 0===i?void 0:i.openInTab)){e.next=17;break}return e.abrupt("return",N.tdocs.openInTab({is_silent:k.isPressed,url:t}));case 17:return e.abrupt("return",q(t,n));case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(e,t){t.replace?window.location.href=e:window.open(e)},B=function(e){return new Promise((function(t){var n="https://doc.weixin.qq.com/wedoc/getfileinfobyurl?url=".concat(e),r=new XMLHttpRequest;r.onreadystatechange=function(){var e;if(4===r.readyState&&200===r.status){var n=r.responseText;try{var o=JSON.parse(n),i=null===(e=null==o?void 0:o.body)||void 0===e?void 0:e.fileid;t(i||null)}catch(e){console.error("fetchFileIdFromSvr error",e),t(null)}}},r.onerror=function(e){console.error("fetchFileIdFromSvr error",e),t(null)},r.ontimeout=function(e){console.error("fetchFileIdFromSvr timeout",e),t(null)},r.open("GET",n,!0),r.setRequestHeader("Content-type","text/plain"),r.send()}))};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o().isIPad;var G=o().isMobile,K=o().isMiniProgram,H=o().isWxMiniProgram,z=o().isQQMiniProgram,Y=o().isTimOrQQ,$=(o().isIOS,o().isWeChat),J=o().isWxWork,X=o().isTencentDocsApp,Z=o().isPCTencentDocsClient,ee=o().isIE,te=o().isWxDrive,ne=_;function re(){return H||z?"miniProgram":window.open()}function oe(e){var t;return t=_(e),window.open(t)}function ie(){ae({url:location.href,replace:!0})}function se(e,t){if("miniProgram"!==e){if(t){var n=C(t);e?e.location=n:n&&(window.location.href=n)}}else ae({url:t})}function ue(e,t){return!O(e)&&!(null==t?void 0:t.ignoreDomainDetect)}function ae(e){var t=e.url,n=(e.wxUrl,e.replace,e.style,C(t,e));n&&(window.mqq,H||z?function(e,t){var n=t.wxUrl,r=t.replace,o=(t.windowName,t.windowFeatures,window.wx);if(/from=miniprogram/.test(null===(i=null===window||void 0===window?void 0:window.location)||void 0===i?void 0:i.search)||/from=miniprogram_wedoc/.test(null===(s=null===window||void 0===window?void 0:window.location)||void 0===s?void 0:s.search))window.location.href=e;else{var i,s;if(!(null==o?void 0:o.miniProgram))return function(e,t){var n,r=t.replace,o=t.windowName,i=t.windowFeatures;r?null===(n=null===window||void 0===window?void 0:window.location)||void 0===n||n.replace(e):null===window||void 0===window||window.open(e,o,i)}(e,t),void console.error("no miniProgram sdk");var u=null!=n?n:function(e){return/^https:\/\/docs\.qq\.com\/(sheet|doc|slide|form|pdf|file|mind|flowchart|rec)\/(.*)$/.test(e)?"/pages/detail/detail?url=".concat(encodeURIComponent(e)):"/pages/webview/webview?url=".concat(encodeURIComponent(e))}(e);r?o.miniProgram.redirectTo({url:u}):o.miniProgram.navigateTo({url:u})}}(n,e):Y||X?function(e,t){var n=t.replace,r=t.style,o=t.url,s=t.useNewConfig,u=window.mqq,a=r||2;n?function(e){i?(history.replaceState(null,document.title,e),location.replace("")):window.location.replace(e)}(e):null==u||u.invoke("ui","openUrl",{url:o,target:1,style:a,useQQBrowser:!0,useNewConfig:s},(function(){}))}(n,e):J||te?function(e,t){try{o().isMobile?function(e,t){if(e==t)return 0;for(var n=e.split("."),r=t.split("."),o=0;n[o]&&r[o];){if(+n[o]!=+r[o])return+n[o]>+r[o]?g.HEIGHT:g.LOW;o+=1}return n[o]?g.HEIGHT:r[o]?g.LOW:g.EQUQL}((n="wdocs",(i=(r=navigator.userAgent.toLowerCase()).match(new RegExp("".concat(n,"\\/(\\d+\\.\\d+\\.\\d+)")))||r.match(new RegExp("".concat(n,"\\/(\\d+\\.\\d+)"))))?i[1]:""),"1.0.0")>=0?function(e,t){var n;if(null===(n=null==N?void 0:N.tdocs)||void 0===n?void 0:n.openUrl){var r=t.replace?P.REPLACE:j(e)?P.FORK_WEBVIEW:P.NEW_WEBVIEW;return D(D({},t),{},{target:r}),N.tdocs.openUrl({url:e,target:r,style:3})}U(e,t)}(e,t):U(e,t):o().isWxDrive?F(e,t):o().isWxWorkVersionAboveOrEqual("3.1.18")?t.openType===s.WxworkBrowser&&o().isWxWorkVersionAboveOrEqual("4.0.0")?function(e){var t;null===(t=N.tdocs)||void 0===t||t.openInWxworkBrowser({url:e})}(e):W(e,t):q(e,t)}catch(n){return console.error("doOpenUrlForWxworkOrWedrive error",n),q(e,t)}var n,r,i}(n,e):$?window.location.href=n:ee?function(e,t){var n=t.replace,r=t.windowFeatures,o=t.windowName;n?window.location.href=e:window.open(e,o,r)}(n,e):Z?function(e,t){var n=t.replace,r=t.windowFeatures,o=t.windowName;n?window.location.href=e:window.open(function(e,t){var n=e;return n.indexOf("?")>=0?n+="&".concat(t):n+="?".concat(t),n}(e,"opennew=1"),o,r)}(n,e):function(e,t){var n=t.replace,r=t.noHistory;if(!function(e){var t=e.url,n=e.windowName,r=e.windowFeatures;return!(!n||!r||(window.open(t,n,r),0))}(V(V({},t),{},{url:e}))){var o=document.createElement("a");o.href=e,n?o.target="_self":(o.target="_blank",o.rel="noreferrer"),r&&history.replaceState(null,document.title,e);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}}(n,e))}function ce(e,t,n,r){var o;if(void 0!==e)if(o=C(e),G||ee)window.open.apply(window,[e,t,n,r]);else{var i=document.createElement("a");i.href=o,!G&&K&&(t="_self"),i.target=t||"_blank",i.rel="noreferrer";var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(s)}}},4963:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},7722:function(e,t,n){var r=n(6314)("unscopables"),o=Array.prototype;null==o[r]&&n(7728)(o,r,{}),e.exports=function(e){o[r][e]=!0}},6793:function(e,t,n){var r=n(4496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},3328:function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},7007:function(e,t,n){var r=n(5286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},9315:function(e,t,n){var r=n(2110),o=n(875),i=n(2337);e.exports=function(e){return function(t,n,s){var u,a=r(t),c=o(a.length),f=i(s,c);if(e&&n!=n){for(;c>f;)if((u=a[f++])!=u)return!0}else for(;c>f;f++)if((e||f in a)&&a[f]===n)return e||f||0;return!e&&-1}}},50:function(e,t,n){var r=n(741),o=n(9797),i=n(508),s=n(875),u=n(6886);e.exports=function(e,t){var n=1==e,a=2==e,c=3==e,f=4==e,l=6==e,p=5==e||l,d=t||u;return function(t,u,h){for(var g,v,y=i(t),m=o(y),b=r(u,h,3),_=s(m.length),E=0,w=n?d(t,_):a?d(t,0):void 0;_>E;E++)if((p||E in m)&&(v=b(g=m[E],E,y),e))if(n)w[E]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:w.push(g)}else if(f)return!1;return l?-1:c||f?f:w}}},2736:function(e,t,n){var r=n(5286),o=n(4302),i=n(6314)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},6886:function(e,t,n){var r=n(2736);e.exports=function(e,t){return new(r(e))(t)}},1488:function(e,t,n){var r=n(2032),o=n(6314)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},2032:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},5645:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},2811:function(e,t,n){var r=n(9275),o=n(681);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},741:function(e,t,n){var r=n(4963);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},1355:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},7057:function(e,t,n){e.exports=!n(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:function(e,t,n){var r=n(5286),o=n(3816).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},4430:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:function(e,t,n){var r=n(7184),o=n(4548),i=n(4682);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var s,u=n(e),a=i.f,c=0;u.length>c;)a.call(e,s=u[c++])&&t.push(s);return t}},2985:function(e,t,n){var r=n(3816),o=n(5645),i=n(7728),s=n(7234),u=n(741),a=function(e,t,n){var c,f,l,p,d=e&a.F,h=e&a.G,g=e&a.S,v=e&a.P,y=e&a.B,m=h?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),_=b.prototype||(b.prototype={});for(c in h&&(n=t),n)l=((f=!d&&m&&void 0!==m[c])?m:n)[c],p=y&&f?u(l,r):v&&"function"==typeof l?u(Function.call,l):l,m&&s(m,c,l,e&a.U),b[c]!=l&&i(b,c,p),v&&_[c]!=l&&(_[c]=l)};r.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},8852:function(e,t,n){var r=n(6314)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},4253:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8082:function(e,t,n){n(8269);var r=n(7234),o=n(7728),i=n(4253),s=n(1355),u=n(6314),a=n(1165),c=u("species"),f=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=u(e),d=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!t})):void 0;if(!d||!h||"replace"===e&&!f||"split"===e&&!l){var g=/./[p],v=n(s,p,""[e],(function(e,t,n,r,o){return t.exec===a?d&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=v[0],m=v[1];r(String.prototype,e,y),o(RegExp.prototype,p,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},3218:function(e,t,n){var r=n(7007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3531:function(e,t,n){var r=n(741),o=n(8851),i=n(6555),s=n(7007),u=n(875),a=n(9002),c={},f={},l=e.exports=function(e,t,n,l,p){var d,h,g,v,y=p?function(){return e}:a(e),m=r(n,l,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(d=u(e.length);d>b;b++)if((v=t?m(s(h=e[b])[0],h[1]):m(e[b]))===c||v===f)return v}else for(g=y.call(e);!(h=g.next()).done;)if((v=o(g,m,h.value,t))===c||v===f)return v};l.BREAK=c,l.RETURN=f},18:function(e,t,n){e.exports=n(3825)("native-function-to-string",Function.toString)},3816:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},9181:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},7728:function(e,t,n){var r=n(9275),o=n(681);e.exports=n(7057)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},639:function(e,t,n){var r=n(3816).document;e.exports=r&&r.documentElement},1734:function(e,t,n){e.exports=!n(7057)&&!n(4253)((function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a}))},266:function(e,t,n){var r=n(5286),o=n(7375).set;e.exports=function(e,t,n){var i,s=t.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},7242:function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},9797:function(e,t,n){var r=n(2032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6555:function(e,t,n){var r=n(2803),o=n(6314)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},4302:function(e,t,n){var r=n(2032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},5286:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},5364:function(e,t,n){var r=n(5286),o=n(2032),i=n(6314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},8851:function(e,t,n){var r=n(7007);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},9988:function(e,t,n){var r=n(2503),o=n(681),i=n(2943),s={};n(7728)(s,n(6314)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},2923:function(e,t,n){var r=n(4461),o=n(2985),i=n(7234),s=n(7728),u=n(2803),a=n(9988),c=n(2943),f=n(468),l=n(6314)("iterator"),p=!([].keys&&"next"in[].keys()),d="keys",h="values",g=function(){return this};e.exports=function(e,t,n,v,y,m,b){a(n,t,v);var _,E,w,S=function(e){if(!p&&e in R)return R[e];switch(e){case d:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+" Iterator",C=y==h,T=!1,R=e.prototype,A=R[l]||R["@@iterator"]||y&&R[y],x=A||S(y),I=y?C?S("entries"):x:void 0,k="Array"==t&&R.entries||A;if(k&&(w=f(k.call(new e)))!==Object.prototype&&w.next&&(c(w,O,!0),r||"function"==typeof w[l]||s(w,l,g)),C&&A&&A.name!==h&&(T=!0,x=function(){return A.call(this)}),r&&!b||!p&&!T&&R[l]||s(R,l,x),u[t]=x,u[O]=g,y)if(_={values:C?x:S(h),keys:m?x:S(d),entries:I},b)for(E in _)E in R||i(R,E,_[E]);else o(o.P+o.F*(p||T),t,_);return _}},7462:function(e,t,n){var r=n(6314)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},5436:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},2803:function(e){e.exports={}},4461:function(e){e.exports=!1},4728:function(e,t,n){var r=n(3953)("meta"),o=n(5286),i=n(9181),s=n(9275).f,u=0,a=Object.isExtensible||function(){return!0},c=!n(4253)((function(){return a(Object.preventExtensions({}))})),f=function(e){s(e,r,{value:{i:"O"+ ++u,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!a(e))return"F";if(!t)return"E";f(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!a(e))return!0;if(!t)return!1;f(e)}return e[r].w},onFreeze:function(e){return c&&l.NEED&&a(e)&&!i(e,r)&&f(e),e}}},4351:function(e,t,n){var r=n(3816),o=n(4193).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,u=r.Promise,a="process"==n(2032)(s);e.exports=function(){var e,t,n,c=function(){var r,o;for(a&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(a)n=function(){s.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var f=u.resolve(void 0);n=function(){f.then(c)}}else n=function(){o.call(r,c)};else{var l=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},3499:function(e,t,n){var r=n(4963);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},2503:function(e,t,n){var r=n(7007),o=n(5588),i=n(4430),s=n(9335)("IE_PROTO"),u=function(){},a=function(){var e,t=n(2457)("iframe"),r=i.length;for(t.style.display="none",n(639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),a=e.F;r--;)delete a.prototype[i[r]];return a()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[s]=e):n=a(),void 0===t?n:o(n,t)}},9275:function(e,t,n){var r=n(7007),o=n(1734),i=n(1689),s=Object.defineProperty;t.f=n(7057)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},5588:function(e,t,n){var r=n(9275),o=n(7007),i=n(7184);e.exports=n(7057)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),u=s.length,a=0;u>a;)r.f(e,n=s[a++],t[n]);return e}},8693:function(e,t,n){var r=n(4682),o=n(681),i=n(2110),s=n(1689),u=n(9181),a=n(1734),c=Object.getOwnPropertyDescriptor;t.f=n(7057)?c:function(e,t){if(e=i(e),t=s(t,!0),a)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},9327:function(e,t,n){var r=n(2110),o=n(616).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return s.slice()}}(e):o(r(e))}},616:function(e,t,n){var r=n(189),o=n(4430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},4548:function(e,t){t.f=Object.getOwnPropertySymbols},468:function(e,t,n){var r=n(9181),o=n(508),i=n(9335)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},189:function(e,t,n){var r=n(9181),o=n(2110),i=n(9315)(!1),s=n(9335)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),a=0,c=[];for(n in u)n!=s&&r(u,n)&&c.push(n);for(;t.length>a;)r(u,n=t[a++])&&(~i(c,n)||c.push(n));return c}},7184:function(e,t,n){var r=n(189),o=n(4430);e.exports=Object.keys||function(e){return r(e,o)}},4682:function(e,t){t.f={}.propertyIsEnumerable},3160:function(e,t,n){var r=n(2985),o=n(5645),i=n(4253);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",s)}},7643:function(e,t,n){var r=n(616),o=n(4548),i=n(7007),s=n(3816).Reflect;e.exports=s&&s.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},188:function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},94:function(e,t,n){var r=n(7007),o=n(5286),i=n(3499);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},681:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4408:function(e,t,n){var r=n(7234);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},7234:function(e,t,n){var r=n(3816),o=n(7728),i=n(9181),s=n(3953)("src"),u=n(18),a="toString",c=(""+u).split(a);n(5645).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var a="function"==typeof n;a&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(a&&(i(n,s)||o(n,s,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[s]||u.call(this)}))},7787:function(e,t,n){var r=n(1488),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},1165:function(e,t,n){var r,o,i=n(3218),s=RegExp.prototype.exec,u=String.prototype.replace,a=s,c=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=void 0!==/()??/.exec("")[1];(c||f)&&(a=function(e){var t,n,r,o,a=this;return f&&(n=new RegExp("^"+a.source+"$(?!\\s)",i.call(a))),c&&(t=a.lastIndex),r=s.call(a,e),c&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=a},7195:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},7375:function(e,t,n){var r=n(5286),o=n(7007),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(741)(Function.call,n(8693).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},2974:function(e,t,n){var r=n(3816),o=n(9275),i=n(7057),s=n(6314)("species");e.exports=function(e){var t=r[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},2943:function(e,t,n){var r=n(9275).f,o=n(9181),i=n(6314)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},9335:function(e,t,n){var r=n(3825)("keys"),o=n(3953);e.exports=function(e){return r[e]||(r[e]=o(e))}},3825:function(e,t,n){var r=n(5645),o=n(3816),i="__core-js_shared__",s=o[i]||(o[i]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},8364:function(e,t,n){var r=n(7007),o=n(4963),i=n(6314)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[i])?t:o(n)}},7717:function(e,t,n){var r=n(4253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},4496:function(e,t,n){var r=n(1467),o=n(1355);e.exports=function(e){return function(t,n){var i,s,u=String(o(t)),a=r(n),c=u.length;return a<0||a>=c?e?"":void 0:(i=u.charCodeAt(a))<55296||i>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):i:e?u.slice(a,a+2):s-56320+(i-55296<<10)+65536}}},2094:function(e,t,n){var r=n(5364),o=n(1355);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},4193:function(e,t,n){var r,o,i,s=n(741),u=n(7242),a=n(639),c=n(2457),f=n(3816),l=f.process,p=f.setImmediate,d=f.clearImmediate,h=f.MessageChannel,g=f.Dispatch,v=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){m.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++v]=function(){u("function"==typeof e?e:Function(e),t)},r(v),v},d=function(e){delete y[e]},"process"==n(2032)(l)?r=function(e){l.nextTick(s(m,e,1))}:g&&g.now?r=function(e){g.now(s(m,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=b,r=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){a.appendChild(c("script")).onreadystatechange=function(){a.removeChild(this),m.call(e)}}:function(e){setTimeout(s(m,e,1),0)}),e.exports={set:p,clear:d}},2337:function(e,t,n){var r=n(1467),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},1467:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},2110:function(e,t,n){var r=n(9797),o=n(1355);e.exports=function(e){return r(o(e))}},875:function(e,t,n){var r=n(1467),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},508:function(e,t,n){var r=n(1355);e.exports=function(e){return Object(r(e))}},1689:function(e,t,n){var r=n(5286);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},3953:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},575:function(e,t,n){var r=n(3816).navigator;e.exports=r&&r.userAgent||""},6074:function(e,t,n){var r=n(3816),o=n(5645),i=n(4461),s=n(8787),u=n(9275).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:s.f(e)})}},8787:function(e,t,n){t.f=n(6314)},6314:function(e,t,n){var r=n(3825)("wks"),o=n(3953),i=n(3816).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},9002:function(e,t,n){var r=n(1488),o=n(6314)("iterator"),i=n(2803);e.exports=n(5645).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},8837:function(e,t,n){var r=n(2985),o=n(50)(2);r(r.P+r.F*!n(7717)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},4336:function(e,t,n){var r=n(2985),o=n(50)(0),i=n(7717)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},3369:function(e,t,n){var r=n(2985),o=n(9315)(!1),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(7717)(i)),"Array",{indexOf:function(e){return s?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},6997:function(e,t,n){var r=n(7722),o=n(5436),i=n(2803),s=n(2110);e.exports=n(2923)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},9564:function(e,t,n){var r=n(2985),o=n(2110),i=n(1467),s=n(875),u=[].lastIndexOf,a=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(a||!n(7717)(u)),"Array",{lastIndexOf:function(e){if(a)return u.apply(this,arguments)||0;var t=o(this),n=s(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},6773:function(e,t,n){var r=n(2985),o=n(50)(3);r(r.P+r.F*!n(7717)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},7470:function(e,t,n){var r=n(2985);r(r.S+r.F*!n(7057),"Object",{defineProperties:n(5588)})},8388:function(e,t,n){var r=n(2985);r(r.S+r.F*!n(7057),"Object",{defineProperty:n(9275).f})},7476:function(e,t,n){var r=n(508),o=n(7184);n(3160)("keys",(function(){return function(e){return o(r(e))}}))},6253:function(e,t,n){var r=n(1488),o={};o[n(6314)("toStringTag")]="z",o+""!="[object z]"&&n(7234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},851:function(e,t,n){var r,o,i,s,u=n(4461),a=n(3816),c=n(741),f=n(1488),l=n(2985),p=n(5286),d=n(4963),h=n(3328),g=n(3531),v=n(8364),y=n(4193).set,m=n(4351)(),b=n(3499),_=n(188),E=n(575),w=n(94),S="Promise",O=a.TypeError,C=a.process,T=C&&C.versions,R=T&&T.v8||"",A=a.Promise,x="process"==f(C),I=function(){},k=o=b.f,M=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[n(6314)("species")]=function(e){e(I,I)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t&&0!==R.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;m((function(){for(var r=e._v,o=1==e._s,i=0,s=function(t){var n,i,s,u=o?t.ok:t.fail,a=t.resolve,c=t.reject,f=t.domain;try{u?(o||(2==e._h&&j(e),e._h=1),!0===u?n=r:(f&&f.enter(),n=u(r),f&&(f.exit(),s=!0)),n===t.promise?c(O("Promise-chain cycle")):(i=D(n))?i.call(n,a,c):a(n)):c(r)}catch(e){f&&!s&&f.exit(),c(e)}};n.length>i;)s(n[i++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){y.call(a,(function(){var t,n,r,o=e._v,i=L(e);if(i&&(t=_((function(){x?C.emit("unhandledRejection",o,e):(n=a.onunhandledrejection)?n({promise:e,reason:o}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=x||L(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){y.call(a,(function(){var t;x?C.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})}))},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw O("Promise can't be resolved itself");(t=D(e))?m((function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(U,r,1))}catch(e){U.call(r,e)}})):(n._v=e,n._s=1,P(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};M||(A=function(e){h(this,A,S,"_h"),d(e),r.call(this);try{e(c(F,this,1),c(U,this,1))}catch(e){U.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4408)(A.prototype,{then:function(e,t){var n=k(v(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=x?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(U,e,1)},b.f=k=function(e){return e===A||e===s?new i(e):o(e)}),l(l.G+l.W+l.F*!M,{Promise:A}),n(2943)(A,S),n(2974)(S),s=n(5645).Promise,l(l.S+l.F*!M,S,{reject:function(e){var t=k(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!M),S,{resolve:function(e){return w(u&&this===s?A:this,e)}}),l(l.S+l.F*!(M&&n(7462)((function(e){A.all(e).catch(I)}))),S,{all:function(e){var t=this,n=k(t),r=n.resolve,o=n.reject,i=_((function(){var n=[],i=0,s=1;g(e,!1,(function(e){var u=i++,a=!1;n.push(void 0),s++,t.resolve(e).then((function(e){a||(a=!0,n[u]=e,--s||r(n))}),o)})),--s||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=k(t),r=n.reject,o=_((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},3946:function(e,t,n){var r=n(3816),o=n(266),i=n(9275).f,s=n(616).f,u=n(5364),a=n(3218),c=r.RegExp,f=c,l=c.prototype,p=/a/g,d=/a/g,h=new c(p)!==p;if(n(7057)&&(!h||n(4253)((function(){return d[n(6314)("match")]=!1,c(p)!=p||c(d)==d||"/a/i"!=c(p,"i")})))){c=function(e,t){var n=this instanceof c,r=u(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(h?new f(r&&!i?e.source:e,t):f((r=e instanceof c)?e.source:e,r&&i?a.call(e):t),n?this:l,c)};for(var g=function(e){e in c||i(c,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},v=s(f),y=0;v.length>y;)g(v[y++]);l.constructor=c,c.prototype=l,n(7234)(r,"RegExp",c)}n(2974)("RegExp")},8269:function(e,t,n){var r=n(1165);n(2985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},1466:function(e,t,n){var r=n(7007),o=n(875),i=n(6793),s=n(7787);n(8082)("match",1,(function(e,t,n,u){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=u(n,e,this);if(t.done)return t.value;var a=r(e),c=String(this);if(!a.global)return s(a,c);var f=a.unicode;a.lastIndex=0;for(var l,p=[],d=0;null!==(l=s(a,c));){var h=String(l[0]);p[d]=h,""===h&&(a.lastIndex=i(c,o(a.lastIndex),f)),d++}return 0===d?null:p}]}))},9357:function(e,t,n){var r=n(7007),o=n(508),i=n(875),s=n(1467),u=n(6793),a=n(7787),c=Math.max,f=Math.min,l=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,(function(e,t,n,h){return[function(r,o){var i=e(this),s=null==r?void 0:r[t];return void 0!==s?s.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var l=r(e),p=String(this),d="function"==typeof t;d||(t=String(t));var v=l.global;if(v){var y=l.unicode;l.lastIndex=0}for(var m=[];;){var b=a(l,p);if(null===b)break;if(m.push(b),!v)break;""===String(b[0])&&(l.lastIndex=u(p,i(l.lastIndex),y))}for(var _,E="",w=0,S=0;S<m.length;S++){b=m[S];for(var O=String(b[0]),C=c(f(s(b.index),p.length),0),T=[],R=1;R<b.length;R++)T.push(void 0===(_=b[R])?_:String(_));var A=b.groups;if(d){var x=[O].concat(T,C,p);void 0!==A&&x.push(A);var I=String(t.apply(void 0,x))}else I=g(O,p,C,T,A,t);C>=w&&(E+=p.slice(w,C)+I,w=C+O.length)}return E+p.slice(w)}];function g(e,t,r,i,s,u){var a=r+e.length,c=i.length,f=d;return void 0!==s&&(s=o(s),f=p),n.call(u,f,(function(n,o){var u;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(a);case"<":u=s[o.slice(1,-1)];break;default:var f=+o;if(0===f)return n;if(f>c){var p=l(f/10);return 0===p?n:p<=c?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}u=i[f-1]}return void 0===u?"":u}))}}))},6142:function(e,t,n){var r=n(7007),o=n(7195),i=n(7787);n(8082)("search",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),a=String(this),c=u.lastIndex;o(c,0)||(u.lastIndex=0);var f=i(u,a);return o(u.lastIndex,c)||(u.lastIndex=c),null===f?-1:f.index}]}))},1876:function(e,t,n){var r=n(5364),o=n(7007),i=n(8364),s=n(6793),u=n(875),a=n(7787),c=n(1165),f=n(4253),l=Math.min,p=[].push,d=4294967295,h=!f((function(){}));n(8082)("split",2,(function(e,t,n,f){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,s,u,a=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,h=void 0===t?d:t>>>0,g=new RegExp(e.source,f+"g");(i=c.call(g,o))&&!((s=g.lastIndex)>l&&(a.push(o.slice(l,i.index)),i.length>1&&i.index<o.length&&p.apply(a,i.slice(1)),u=i[0].length,l=s,a.length>=h));)g.lastIndex===i.index&&g.lastIndex++;return l===o.length?!u&&g.test("")||a.push(""):a.push(o.slice(l)),a.length>h?a.slice(0,h):a}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):g.call(String(o),n,r)},function(e,t){var r=f(g,e,this,t,g!==n);if(r.done)return r.value;var c=o(e),p=String(this),v=i(c,RegExp),y=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),b=new v(h?c:"^(?:"+c.source+")",m),_=void 0===t?d:t>>>0;if(0===_)return[];if(0===p.length)return null===a(b,p)?[p]:[];for(var E=0,w=0,S=[];w<p.length;){b.lastIndex=h?w:0;var O,C=a(b,h?p:p.slice(w));if(null===C||(O=l(u(b.lastIndex+(h?0:w)),p.length))===E)w=s(p,w,y);else{if(S.push(p.slice(E,w)),S.length===_)return S;for(var T=1;T<=C.length-1;T++)if(S.push(C[T]),S.length===_)return S;w=E=O}}return S.push(p.slice(E)),S}]}))},2850:function(e,t,n){var r=n(2985),o=n(2094),i="includes";r(r.P+r.F*n(8852)(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},5767:function(e,t,n){var r=n(3816),o=n(9181),i=n(7057),s=n(2985),u=n(7234),a=n(4728).KEY,c=n(4253),f=n(3825),l=n(2943),p=n(3953),d=n(6314),h=n(8787),g=n(6074),v=n(5541),y=n(4302),m=n(7007),b=n(5286),_=n(508),E=n(2110),w=n(1689),S=n(681),O=n(2503),C=n(9327),T=n(8693),R=n(4548),A=n(9275),x=n(7184),I=T.f,k=A.f,M=C.f,D=r.Symbol,P=r.JSON,N=P&&P.stringify,L=d("_hidden"),j=d("toPrimitive"),U={}.propertyIsEnumerable,F=f("symbol-registry"),W=f("symbols"),q=f("op-symbols"),B=Object.prototype,Q="function"==typeof D&&!!R.f,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,K=i&&c((function(){return 7!=O(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=I(B,t);r&&delete B[t],k(e,t,n),r&&e!==B&&k(B,t,r)}:k,H=function(e){var t=W[e]=O(D.prototype);return t._k=e,t},z=Q&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},Y=function(e,t,n){return e===B&&Y(q,t,n),m(e),t=w(t,!0),m(n),o(W,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=O(n,{enumerable:S(0,!1)})):(o(e,L)||k(e,L,S(1,{})),e[L][t]=!0),K(e,t,n)):k(e,t,n)},$=function(e,t){m(e);for(var n,r=v(t=E(t)),o=0,i=r.length;i>o;)Y(e,n=r[o++],t[n]);return e},J=function(e){var t=U.call(this,e=w(e,!0));return!(this===B&&o(W,e)&&!o(q,e))&&(!(t||!o(this,e)||!o(W,e)||o(this,L)&&this[L][e])||t)},X=function(e,t){if(e=E(e),t=w(t,!0),e!==B||!o(W,t)||o(q,t)){var n=I(e,t);return!n||!o(W,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=M(E(e)),r=[],i=0;n.length>i;)o(W,t=n[i++])||t==L||t==a||r.push(t);return r},ee=function(e){for(var t,n=e===B,r=M(n?q:E(e)),i=[],s=0;r.length>s;)!o(W,t=r[s++])||n&&!o(B,t)||i.push(W[t]);return i};Q||(u((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(q,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),K(this,e,S(1,n))};return i&&G&&K(B,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",(function(){return this._k})),T.f=X,A.f=Y,n(616).f=C.f=Z,n(4682).f=J,R.f=ee,i&&!n(4461)&&u(B,"propertyIsEnumerable",J,!0),h.f=function(e){return H(d(e))}),s(s.G+s.W+s.F*!Q,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=x(d.store),oe=0;re.length>oe;)g(re[oe++]);s(s.S+s.F*!Q,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=D(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!Q,"Object",{create:function(e,t){return void 0===t?O(e):$(O(e),t)},defineProperty:Y,defineProperties:$,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=c((function(){R.f(1)}));s(s.S+s.F*ie,"Object",{getOwnPropertySymbols:function(e){return R.f(_(e))}}),P&&s(s.S+s.F*(!Q||c((function(){var e=D();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!z(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!z(t))return t}),r[1]=t,N.apply(P,r)}}),D.prototype[j]||n(7728)(D.prototype,j,D.prototype.valueOf),l(D,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},2773:function(e,t,n){var r=n(2985),o=n(9315)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(7722)("includes")},8351:function(e,t,n){var r=n(2985),o=n(7643),i=n(2110),s=n(8693),u=n(2811);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),a=s.f,c=o(r),f={},l=0;c.length>l;)void 0!==(n=a(r,t=c[l++]))&&u(f,t,n);return f}})},1181:function(e,t,n){for(var r=n(6997),o=n(7184),i=n(7234),s=n(3816),u=n(7728),a=n(2803),c=n(6314),f=c("iterator"),l=c("toStringTag"),p=a.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),g=0;g<h.length;g++){var v,y=h[g],m=d[y],b=s[y],_=b&&b.prototype;if(_&&(_[f]||u(_,f,p),_[l]||u(_,l,y),a[y]=p,m))for(v in r)_[v]||i(_,v,r[v],!0)}},5666:function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new A(r||[]);return i._invoke=function(e,t,n){var r=l;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var u=C(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var a=f(e,t,n);if("normal"===a.type){if(r=n.done?h:p,a.arg===g)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=h,n.method="throw",n.arg=a.arg)}}}(e,n,s),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",p="suspendedYield",d="executing",h="completed",g={};function v(){}function y(){}function m(){}var b={};b[i]=function(){return this};var _=Object.getPrototypeOf,E=_&&_(_(x([])));E&&E!==n&&r.call(E,i)&&(b=E);var w=m.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,s,u){var a=f(e[o],e,i);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(a.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function x(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=w.constructor=m,m.constructor=y,y.displayName=a(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,a(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(O.prototype),O.prototype[s]=function(){return this},e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new O(c(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(w),a(w,u,"Generator"),w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],u=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:x(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(3157)}()})),at=function(e){function t(t,n){var r=e.call(this,n)||this;return r.networkRequestService=t,r.loginRepository=new st(t),r}return D(t,e),t.prototype.reloadMiniProgramForDesktop=function(){var e,t,n;null===(n=null===(t=null===(e=window)||void 0===e?void 0:e.wx)||void 0===t?void 0:t.miniProgram)||void 0===n||n.reLaunch({url:"/pages/list/list?reason=pskey_error"})},t.prototype.jumpToLoginInWechatWebview=function(e){ut.tencentDocOpenUrlForAll({url:"https://docs.qq.com/scenario/h5auth.html?url="+encodeURIComponent(e)+"&wxonly=1",replace:!0})},t.prototype.jumpToLoginInWeworkWebview=function(e){var t="https://open.weixin.qq.com/connect/oauth2/authorize?appid=ww20388f7040b655b7&redirect_uri="+encodeURIComponent(e)+"&response_type=code&scope=snsapi_userinfo&state=weworklogin#wechat_redirect";ut.tencentDocOpenUrlForAll({url:t,replace:!0})},t.prototype.jumpToLoginInCommonView=function(e){ut.tencentDocOpenUrlForAll({url:"https://docs.qq.com/login.html?jump_url="+encodeURIComponent(e),replace:!0})},t=N([L(0,x),j("design:paramtypes",[Object,String])],t)}(le),ct=function(){function e(e){this.networkRequestService=e}return e.prototype.createLoginAggregate=function(e){this.loginAggregate=new at(this.networkRequestService,e)},e=N([L(0,x),j("design:paramtypes",[Object])],e)}();!function(e){e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.WW=3]="WW",e[e.WECOM=3]="WECOM",e[e.QFYF=12]="QFYF",e[e.Unknown=0]="Unknown"}(rt||(rt={}));var ft,lt,pt,dt,ht,gt,vt=(0,o.yh)("IAuthDomainService");!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SHOW=1]="SHOW",e[e.HIDE=2]="HIDE"}(ft||(ft={})),function(e){e[e.SELF=0]="SELF",e[e.COOPERATION=1]="COOPERATION",e[e.VIEWABLE=2]="VIEWABLE",e[e.EDITABLE=3]="EDITABLE"}(lt||(lt={})),function(e){e[e.deny=0]="deny",e[e.whitelist=1]="whitelist",e[e.allOnlyRead=2]="allOnlyRead",e[e.allOnlyWrite=3]="allOnlyWrite",e[e.allOnlyExecute=4]="allOnlyExecute",e[e.invalidPolicy=999]="invalidPolicy"}(pt||(pt={})),function(e){e[e.INVALID_NUM=0]="INVALID_NUM",e[e.CAN_APPLY=1]="CAN_APPLY",e[e.CANT_APPLY=2]="CANT_APPLY"}(dt||(dt={})),function(e){e[e.DENY=0]="DENY",e[e.WHITELIST=1]="WHITELIST",e[e.ALL_ONLY_READ=2]="ALL_ONLY_READ",e[e.ALL_ONLY_WRITE=3]="ALL_ONLY_WRITE",e[e.ALL_ONLY_EXECUTE=4]="ALL_ONLY_EXECUTE"}(ht||(ht={})),function(e){e[e.noPrivilege=0]="noPrivilege",e[e.reader=1]="reader",e[e.editor=2]="editor",e[e.filler=3]="filler",e[e.executor=4]="executor",e[e.externUser=10]="externUser",e[e.administrator=1024]="administrator"}(gt||(gt={}));var yt=T+"auth_info/get",mt=T+"auth_info/set",bt=T+"auth_exp/get",_t=T+"auth_exp/set",Et=T+"auth_getconf",wt=C+"/v2/privilege/corpshare/docownerget",St=C+"/v2/privilege/corpshare/docownerset",Ot=C+"/v2/privilege/set_user",Ct=(0,o.yh)("IDocMetaDomainService"),Tt=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.changeCorpShareAuthInfo=function(e){return U(this,void 0,void 0,(function(){var t,n,o,i,s,u;return F(this,(function(a){switch(a.label){case 0:return t=e.uid,n=e.corpId,o=e.isOpen,i=e.canExternalApply,s=e.docCorpSharePolicy,u={user_info:{uid:t,corp_id:n},doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,is_open:o,can_external_apply:i,uint32_policy:Math.round(Number(s||2)),xsrf:p(r.xsrf)},[4,this.networkRequestService.instance.post(St,P({},u))];case 1:return[2,a.sent()]}}))}))},e.prototype.fetchCorpShareAuthInfo=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(o){switch(o.label){case 0:return n={user_info:{uid:e,corp_id:t},doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:p(r.xsrf)},[4,this.networkRequestService.instance.post(wt,P({},n))];case 1:return[2,o.sent()]}}))}))},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Rt=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.corpShareAuthRepository=new Tt(e,t)}return e.prototype.fetchCorpShareAuthInfo=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){switch(n.label){case 0:return[4,this.corpShareAuthRepository.fetchCorpShareAuthInfo(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.changeCorpShareAuthInfo=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.corpShareAuthRepository.changeCorpShareAuthInfo(e)];case 1:return[2,t.sent()]}}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",Promise)],e.prototype,"fetchCorpShareAuthInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"changeCorpShareAuthInfo",null),e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),At=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.fetchAuthInfo=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){switch(n.label){case 0:return e={localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,type:1,ver:2,xsrf:""+p(r.xsrf)},t=nt(yt,e),[4,this.networkRequestService.instance.post(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.changeAuthInfo=function(e){return U(this,void 0,void 0,(function(){var t,n,o,i,s,u;return F(this,(function(a){switch(a.label){case 0:return t=e.corpId,n=e.data,o=e.message,i=e.dataType,s={localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,corp_id:Q(t),data:Q(n),message:Q(o),dataType:V(i),type:1,ver:2,xsrf:""+p(r.xsrf)},u=nt(mt,s),[4,this.networkRequestService.instance.post(u)];case 1:return[2,a.sent()]}}))}))},e.prototype.fetchAuthExpTime=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){switch(n.label){case 0:return e={domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:""+p(r.xsrf),type:1,ver:2},t=nt(bt,e),[4,this.networkRequestService.instance.get(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.changeAuthExpTime=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){switch(o.label){case 0:return t=G({domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,setTime:parseInt(e,10),xsrf:""+p(r.xsrf)}),n={contentType:"application/x-www-form-urlencoded"},[4,this.networkRequestService.instance.post(_t,t,n)];case 1:return[2,o.sent()]}}))}))},e.prototype.fetchFolderAuth=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){switch(o.label){case 0:return t={folderId:e,type:1,ver:2,xsrf:""+p(r.xsrf)},n=nt(yt,t),[4,this.networkRequestService.instance.post(n)];case 1:return[2,o.sent()]}}))}))},e.prototype.changeFolderAuth=function(e){return U(this,void 0,void 0,(function(){var t,n,o,i,s,u,a;return F(this,(function(c){switch(c.label){case 0:return t=e.folderId,n=e.corpId,o=e.message,i=e.data,s=e.clear,u={folderId:t,corp_id:Q(n),data:Q(i),message:Q(o),clear:V(s),type:1,ver:2,xsrf:""+p(r.xsrf)},a=nt(mt,u),[4,this.networkRequestService.instance.post(a)];case 1:return[2,c.sent()]}}))}))},e.prototype.fetchAuthConfig=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){switch(n.label){case 0:return e={domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:""+p(r.xsrf)},t=nt(Et,e),[4,this.networkRequestService.instance.post(t)];case 1:return[2,n.sent()]}}))}))},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),xt=function(e){function t(t){var n=e.call(this)||this;return n.readerCanComment=!1,n.viewForbidCopyPrint=!1,n.writerCanComment=!1,n.jsonObj2Class(t),n}return D(t,e),t}(z),It=function(e){function t(t){var n=e.call(this)||this;return n.canAbout=!1,n.canAddUser=!1,n.canComment=!1,n.canCopy=!1,n.canCopyDoc=!1,n.canEdit=!1,n.canEditTitle=!1,n.canHistory=!1,n.canLinkExp=!1,n.canPrint=!1,n.canRead=!1,n.canSearch=!1,n.canShare=!1,n.canSpitSlot=!1,n.canTranslate=!1,n.canViewImage=!1,n.canWatermark=!1,n.canApplyEdit=!1,n.jsonObj2Class(t),n}return D(t,e),t}(z),kt=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),Mt=function(){function e(){this.first=kt.Undefined,this.last=kt.Undefined,this.mSize=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.first===kt.Undefined},e.prototype.clear=function(){this.first=kt.Undefined,this.last=kt.Undefined,this.mSize=0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.shift=function(){if(this.first!==kt.Undefined){var e=this.first.element;return this.remove(this.first),e}},e.prototype.pop=function(){if(this.last!==kt.Undefined){var e=this.last.element;return this.remove(this.last),e}},e.prototype[Symbol.iterator]=function(){var e;return F(this,(function(t){switch(t.label){case 0:e=this.first,t.label=1;case 1:return e===kt.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.insert=function(e,t){var n=this,r=new kt(e);if(this.first===kt.Undefined)this.first=r,this.last=r;else if(t){var o=this.last;this.last=r,r.prev=o,o.next=r}else{var i=this.first;this.first=r,r.next=i,i.prev=r}this.mSize+=1;var s=!1;return function(){s||(s=!0,n.remove(r))}},e.prototype.remove=function(e){if(e.prev!==kt.Undefined&&e.next!==kt.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===kt.Undefined&&e.next===kt.Undefined?(this.first=kt.Undefined,this.last=kt.Undefined):e.next===kt.Undefined?(this.last=this.last.prev,this.last.next=kt.Undefined):e.prev===kt.Undefined&&(this.first=this.first.next,this.first.prev=kt.Undefined);this.mSize-=1},e}(),Dt=Ge((function(e,t){var n=Ve&&Ve.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),r=Ve&&Ve.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=Ve&&Ve.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.DisposeTrace=t.disableDisposeTrace=t.enableDisposeTrace=void 0;var i=!1;t.enableDisposeTrace=function(){i=!0},t.disableDisposeTrace=function(){i=!1};var s=function(){function e(e){this.name=e,this._dep=[]}return e.traceRoot=function(t){return i?new e(t):e._None},e.prototype.branch=function(t){var n=new e(t);return this._dep.push([t,n]),n},e.prototype.stop=function(){var e=["dispose "+this.name,""+function e(t,n){var i,s,u=[],a=new Array(t+1).join("\t");try{for(var c=r(n._dep),f=c.next();!f.done;f=c.next()){var l=o(f.value,2),p=l[0],d=l[1];if(d){u.push(a+"dispose -> "+p);var h=e(t+1,d);h&&u.push(h)}else u.push(a+"dispose -> "+p)}}catch(g){i={error:g}}finally{try{f&&!f.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return u.join("\n")}(1,this)];e.join("\n")},e._None=new(function(e){function t(){return e.call(this,null)||this}return n(t,e),t.prototype.stop=function(){},t.prototype.branch=function(){return this},t}(e)),e}();t.DisposeTrace=s})),Pt=jt,Nt=Ge((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.trackDisposable=t.markTracked=t.disableDisposablesTrack=t.enableDisposablesTrack=void 0;var n=!1,r="__is_disposable_tracked__";t.enableDisposablesTrack=function(){n=!0},t.disableDisposablesTrack=function(){n=!1},t.markTracked=function(e){if(n&&e&&e!==Pt.Disposable.None)try{e[r]=!0}catch(t){}},t.trackDisposable=function(e){return n?(e[r]||(e[r]=!1),new Error("Potentially leaked disposable").stack,setTimeout((function(){e[r]}),3e3),e):e}})),Lt=Ge((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DisposableStore=void 0;var n=function(){function e(){this.toDisposeSet=new Set,this.isDisposeState=!1}return e.prototype.dispose=function(e){if(!this.isDisposeState)if(Nt.markTracked(this),this.isDisposeState=!0,e)this.clear(e);else{var t=Dt.DisposeTrace.traceRoot(this.constructor.name);this.clear(t),t.stop()}},e.prototype.clear=function(e){this.toDisposeSet.forEach((function(t){var n=t.disposableId||t.constructor.name;t.dispose(null===e||void 0===e?void 0:e.branch(n))})),this.toDisposeSet.clear()},e.prototype.add=function(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return Nt.markTracked(t),this.isDisposeState?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this.toDisposeSet.add(t),t},e.DISABLE_DISPOSED_WARNING=!1,e}();t.DisposableStore=n})),jt=Ge((function(e,t){var n=Ve&&Ve.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),r=Ve&&Ve.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=Ve&&Ve.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mixinRootDisposable=t.mixinDisposable=t.Disposable=t.RootDisposable=void 0;var i=function(){function e(){this.disposedStore=new Lt.DisposableStore}return e.prototype.dispose=function(e){this.disposedStore.dispose(e)},e.prototype._register=function(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this.disposedStore.add(e)},e.None=Object.freeze({dispose:function(){}}),e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.dispose=function(t){var n=t,r=!1;if(!n){var o=this.constructor.name;n=Dt.DisposeTrace.traceRoot(o),r=!0}e.prototype.dispose.call(this,n),r&&n.stop()},t.prototype._register=function(t){return e.prototype._register.call(this,t)},t}(i);t.RootDisposable=s;var u=function(e){function t(){var t=e.call(this)||this;return Nt.trackDisposable(t),t}return n(t,e),t.prototype.dispose=function(t){Nt.markTracked(this),e.prototype.dispose.call(this,t)},t}(i);t.Disposable=u,t.mixinDisposable=function(e){return function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,o(t))||this;return r.disposedStore=new Lt.DisposableStore,Nt.trackDisposable(r),r}return n(t,e),t.prototype.dispose=function(e){Nt.markTracked(this),this.disposedStore.dispose(e)},t.prototype._register=function(e){return this.disposedStore.add(e)},t}(e)},t.mixinRootDisposable=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposedStore=new Lt.DisposableStore,t}return n(t,e),t.prototype.dispose=function(e){Nt.markTracked(this);var t=e,n=!1;if(!t){var r=this.constructor.name;t=Dt.DisposeTrace.traceRoot(r),n=!0}this.disposedStore.dispose(t),n&&t.stop()},t.prototype._register=function(e){return this.disposedStore.add(e)},t}(e)}})),Ut=Ge((function(e,t){function n(e){return"function"===typeof e.dispose&&(0===e.dispose.length||1===e.dispose.length)}function r(e,t){if(Array.isArray(e)){var n=t||Dt.DisposeTrace.traceRoot("disposables");return e.forEach((function(e){e&&(Nt.markTracked(e),e.dispose(n))})),n.stop(),[]}if(e){var r=t||Dt.DisposeTrace.traceRoot("disposables");return Nt.markTracked(e),e.dispose(r),r.stop(),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tryToMarkDispose=t.tryToDispose=t.toDisposable=t.combinedDisposable=t.dispose=t.isDisposable=void 0,t.isDisposable=n,t.dispose=r,t.combinedDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach(Nt.markTracked),Nt.trackDisposable({dispose:function(t){return r(e,t)}})},t.toDisposable=function(e,t){void 0===t&&(t="");var n=Nt.trackDisposable({dispose:function(t){Nt.markTracked(n),e(t)},disposableId:t});return n},t.tryToDispose=function(e,t){e&&n(e)&&e.dispose(t)},t.tryToMarkDispose=function(e){n(e)&&Nt.markTracked(e)}}));function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}var Wt,qt=Ge((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCancellationToken=t.CancellationTokenState=void 0;var n=function(){function e(){}return e.None=Object.freeze({isCancellationRequested:!1}),e.Cancelled=Object.freeze({isCancellationRequested:!0}),e}();t.CancellationTokenState=n,t.isCancellationToken=function(e){return e===n.None||e===n.Cancelled||!(!e||"object"!==Ft(e))&&"boolean"===typeof e.isCancellationRequested}})),Bt=Ge((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=void 0;var n=function(){function e(){this.isCancelled=!1}return e.prototype.cancel=function(){this.isCancelled||(this.isCancelled=!0)},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this.isCancelled},enumerable:!1,configurable:!0}),e}(),r=function(){function e(){this.innertoken=void 0}return Object.defineProperty(e.prototype,"token",{get:function(){return this.innertoken||(this.innertoken=new n),this.innertoken},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this.innertoken?this.innertoken instanceof n&&this.innertoken.cancel():this.innertoken=qt.CancellationTokenState.Cancelled},e.prototype.dispose=function(){this.cancel()},e}();t.CancellationTokenSource=r})),Qt=Ge((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return Pt.Disposable}}),Object.defineProperty(t,"RootDisposable",{enumerable:!0,get:function(){return Pt.RootDisposable}}),Object.defineProperty(t,"mixinDisposable",{enumerable:!0,get:function(){return Pt.mixinDisposable}}),Object.defineProperty(t,"mixinRootDisposable",{enumerable:!0,get:function(){return Pt.mixinRootDisposable}}),Object.defineProperty(t,"markTracked",{enumerable:!0,get:function(){return Nt.markTracked}}),Object.defineProperty(t,"trackDisposable",{enumerable:!0,get:function(){return Nt.trackDisposable}}),Object.defineProperty(t,"enableDisposablesTrack",{enumerable:!0,get:function(){return Nt.enableDisposablesTrack}}),Object.defineProperty(t,"disableDisposablesTrack",{enumerable:!0,get:function(){return Nt.disableDisposablesTrack}}),Object.defineProperty(t,"DisposeTrace",{enumerable:!0,get:function(){return Dt.DisposeTrace}}),Object.defineProperty(t,"enableDisposeTrace",{enumerable:!0,get:function(){return Dt.enableDisposeTrace}}),Object.defineProperty(t,"disableDisposeTrace",{enumerable:!0,get:function(){return Dt.disableDisposeTrace}}),Object.defineProperty(t,"toDisposable",{enumerable:!0,get:function(){return Ut.toDisposable}}),Object.defineProperty(t,"isDisposable",{enumerable:!0,get:function(){return Ut.isDisposable}}),Object.defineProperty(t,"dispose",{enumerable:!0,get:function(){return Ut.dispose}}),Object.defineProperty(t,"combinedDisposable",{enumerable:!0,get:function(){return Ut.combinedDisposable}}),Object.defineProperty(t,"tryToDispose",{enumerable:!0,get:function(){return Ut.tryToDispose}}),Object.defineProperty(t,"tryToMarkDispose",{enumerable:!0,get:function(){return Ut.tryToMarkDispose}}),Object.defineProperty(t,"DisposableStore",{enumerable:!0,get:function(){return Lt.DisposableStore}}),Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return Bt.CancellationTokenSource}})})),Vt=function(){function e(e){this.disposed=!1,this.options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this.mEvent||(this.mEvent=function(t,n,r){var o,i,s;e.listeners||(e.listeners=new Mt);var u=e.listeners.isEmpty();u&&(null===(o=e.options)||void 0===o?void 0:o.onFirstListenerAdd)&&e.options.onFirstListenerAdd(e);var a=e.listeners.push(n?[t,n]:t);u&&(null===(i=e.options)||void 0===i?void 0:i.onFirstListenerDidAdd)&&e.options.onFirstListenerDidAdd(e),(null===(s=e.options)||void 0===s?void 0:s.onListenerDidAdd)&&e.options.onListenerDidAdd(e,t,n);var c={dispose:function(){var t;e.disposed||(a(),(null===(t=e.options)||void 0===t?void 0:t.onLastListenerRemove)&&(e.listeners&&!e.listeners.isEmpty()||e.options.onLastListenerRemove(e))),Qt.markTracked(c)},disposableId:"event"};return Array.isArray(r)&&r.push(c),Qt.trackDisposable(c),c}),this.mEvent},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new Mt);try{for(var r=W(this.listeners),o=r.next();!o.done;o=r.next()){var i=o.value;this.deliveryQueue.push([i,e])}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}for(;this.deliveryQueue.size>0;){var s=q(this.deliveryQueue.shift(),2),u=(i=s[0],s[1]);try{"function"===typeof i?i.call(void 0,u):i[0].call(i[1],u)}catch(c){console.error(c)}}}},e.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},e}(),Gt=function(e){function t(t){var n=e.call(this)||this;return n.expTime=0,n.remainTime=0,n.setTime=0,n.startTime=0,n.jsonObj2Class(t),n}return D(t,e),t}(z),Kt=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.selfRole=gt.noPrivilege,this.isOwner=!1,this.selfDocPrivilege=new It({}),this.selfDocAdvancedPrivilege=new xt({}),this.documentPrivilege=pt.deny,this.memberList=[],this.onAuthChangedEmitter=new Vt,this.onAuthExpTimeChangedEmitter=new Vt,this.onSelfPrivilegeChangedEmitter=new Vt,this.authRepository=new At(e,t),this.onAuthChanged=this.onAuthChangedEmitter.event,this.onAuthExpTimeChanged=this.onAuthExpTimeChangedEmitter.event,this.onSelfPrivilegeChanged=this.onSelfPrivilegeChangedEmitter.event}return e.prototype.fetchAuthExpTime=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.fetchAuthExpTime()];case 1:return[2,e.sent()]}}))}))},e.prototype.changeAuthExpTime=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.changeAuthExpTime(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.fetchAuthInfo=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.fetchAuthInfo()];case 1:return[2,e.sent()]}}))}))},e.prototype.changeAuthInfo=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.changeAuthInfo(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.fetchFolderAuth=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.fetchFolderAuth(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.changeFolderAuth=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.authRepository.changeFolderAuth(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.fetchAuthConfig=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.authRepository.fetchAuthConfig()];case 1:return[2,e.sent()]}}))}))},e.prototype.onReceiveMessageFromServer=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){switch(n.label){case 0:return[4,this.notifyRightChange(e)];case 1:return n.sent(),this.checkSelfPrivilege(t),[2]}}))}))},e.prototype.handleForDifferentActions=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(r){switch(r.label){case 0:return t=e.seq,1!==e.action?[3,4]:e?void 0!==(n=e)[t]?[3,2]:[4,this.handleAuthChange()]:[3,3];case 1:return r.sent(),[3,3];case 2:delete n[t],r.label=3;case 3:return[3,7];case 4:return 2!==e.action?[3,5]:[3,7];case 5:return[4,this.handleExpInfoChange(e)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))},e.prototype.handleAuthChange=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){switch(n.label){case 0:return this.isOwner?[4,this.fetchAuthInfo()]:[2];case 1:return 0===(e=n.sent()).resData.cgicode&&0===e.resData.retcode&&(t=e.resData.data,this.documentPrivilege=t.policy,this.memberList=t.memberList,this.onAuthChangedEmitter.fire({newDocumentPrivilege:this.documentPrivilege})),[2]}}))}))},e.prototype.handleExpInfoChange=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(r){return this.checkExpTimeParams(e)&&(t=e.exptime-e.starttime)&&t>0&&(n=new Gt({expTime:e.exptime,remainTime:t,setTime:t,startTime:e.starttime}),this.onAuthExpTimeChangedEmitter.fire({newExpTime:n})),[2]}))}))},e.prototype.checkExpTimeParams=function(e){return"undefined"!==e.exptime&&"undefined"!==e.settime&&"undefined"!==e.starttime},e.prototype.checkSelfPrivilege=function(e){var t=this;e.sendMessage({cmd:"GET_PRIVILEGE",taskId:void 0,data:JSON.stringify({}),onsend:function(e,n,r,o){if(t.checkGetPrivilegeResult(o)){var i=o.response.onpost.privilege_attribute;t.checkDocPrivilegeChange(i)&&(t.selfDocPrivilege.canEdit=i.can_edit,t.selfDocPrivilege.canRead=i.can_read,t.selfDocPrivilege.canComment=i.can_comment,t.selfDocPrivilege.canCopy=i.can_copy,t.onSelfPrivilegeChangedEmitter.fire({newSelfPrivilege:t.selfDocPrivilege}))}},onError:function(){}})},e.prototype.checkGetPrivilegeResult=function(e){var t,n;return 0===e.errCode&&0===(null===(n=null===(t=e.response)||void 0===t?void 0:t.onpost)||void 0===n?void 0:n.result)},e.prototype.checkDocPrivilegeChange=function(e){return this.selfDocPrivilege.canEdit!==e.can_edit||this.selfDocPrivilege.canRead!==e.can_read||this.selfDocPrivilege.canComment!==e.can_comment||this.selfDocPrivilege.canCopy!==e.can_copy},e.prototype.notifyRightChange=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){switch(n.label){case 0:return!e||""!==e.payload&&null!==e.payload?[3,2]:[4,this.handleAuthChange()];case 1:case 3:return n.sent(),[2];case 2:return null===(t=JSON.parse(decodeURIComponent(e.payload)))?[2]:[4,this.handleForDifferentActions(t)]}}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"fetchAuthExpTime",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"changeAuthExpTime",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"fetchAuthInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"changeAuthInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"fetchFolderAuth",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"changeFolderAuth",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"fetchAuthConfig",null),e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Ht=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.setUserAuth=function(e){return U(this,void 0,void 0,(function(){var t,n,o;return F(this,(function(i){switch(i.label){case 0:return t=p(r.xsrf)||"",n=P({xsrf:t},e),o=nt(Ot,{xsrf:t}),[4,this.networkRequestService.instance.post(o,n)];case 1:return[2,i.sent()]}}))}))},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),zt=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.collabAuthRepository=new Ht(e,t)}return e.prototype.setCollabUserAuth=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.collabAuthRepository.setUserAuth(e)];case 1:return[2,t.sent()]}}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"setCollabUserAuth",null),e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Yt=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.authInfoEntity=new Kt(e,t),this.corpShareAuthInfoEntity=new Rt(e,t),this.collabAuthInfoEntity=new zt(e,t)}return e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),$t=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t,this.authAggregate=new Yt(e,t)}return e.prototype.updateWithClientVars=function(e){this.authAggregate.authInfoEntity.isOwner=e.isOwner,this.authAggregate.authInfoEntity.selfRole=e.rightFlag,this.authAggregate.authInfoEntity.documentPrivilege=e.policy,this.authAggregate.authInfoEntity.selfDocPrivilege=this.getSelfDocPrivilege(e),this.authAggregate.authInfoEntity.selfDocAdvancedPrivilege=new xt({readerCanComment:e.advPolicy.reader_can_comment,viewForbidCopyPrint:e.advPolicy.view_forbid_copy_print,writerCanComment:e.advPolicy.writer_can_comment})},e.prototype.getSelfDocPrivilege=function(e){var t={};if(e.privilegeAttribute){var n=e.privilegeAttribute;t={canAbout:n.can_about,canAddUser:n.can_add_user,canComment:n.can_comment,canCopy:n.can_copy,canCopyDoc:n.can_copy_doc,canEdit:n.can_edit,canEditTitle:n.can_edit_title,canHistory:n.can_history,canLinkExp:n.can_link_exp,canPrint:n.can_print,canRead:n.can_read,canSearch:n.can_search,canShare:n.can_share,canSpitSlot:n.can_spit_slot,canTranslate:n.can_translate,canViewImage:n.can_view_image,canWatermark:n.can_watermark,canApplyEdit:!!e.privilegeAttribute.can_apply_edit}}return new It(t)},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Jt=T+"doc_collect",Xt=T+"doc_getcollect",Zt=T+"createdoc_new",en=T+"doc_recover",tn=T+"doc_humtrans",nn=A+"can/move",rn=function(){function e(e){this.networkRequestService=e}return e.prototype.collect=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(Jt,t)]}))}))},e.prototype.getDocCollect=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){return t=P(P({},e),{xsrf:""+p(r.xsrf)}),n=nt(Xt,t),[2,this.networkRequestService.instance.get(n)]}))}))},e.prototype.createDoc=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(Zt,t)]}))}))},e.prototype.recover=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(en,t)]}))}))},e.prototype.docHumtrans=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(tn,t)]}))}))},e.prototype.canMove=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){return t=P(P({},e),{xsrf:""+p(r.xsrf)}),n=nt(nn,t),[2,this.networkRequestService.instance.get(n)]}))}))},e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),on=function(){function e(){this.fileRepository=new rn(new I)}return e.prototype.collect=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.fileRepository.collect(e)]}))}))},e.prototype.getDocCollect=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.fileRepository.getDocCollect(e)]}))}))},e.prototype.createDoc=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.fileRepository.createDoc(e)]}))}))},e.prototype.recover=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.fileRepository.recover(e)]}))}))},e.prototype.docHumtrans=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.fileRepository.docHumtrans(e)]}))}))},e.prototype.canMove=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.fileRepository.canMove(e)]}))}))},N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"collect",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"getDocCollect",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"createDoc",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"recover",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"docHumtrans",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"canMove",null),e}(),sn=(0,o.yh)("IFileDomainService"),un=T+"folder_list",an=T+"folder_new",cn=T+"doc_addmy",fn=function(){function e(e){this.networkRequestService=e}return e.prototype.folderList=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(un,t)]}))}))},e.prototype.newFolder=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(an,t)]}))}))},e.prototype.addToMyFolder=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(cn,t)]}))}))},e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),ln=function(){function e(){this.folderRepository=new fn(new I)}return e.prototype.folderList=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.folderRepository.folderList(e)]}))}))},e.prototype.newFolder=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.folderRepository.newFolder(e)]}))}))},e.prototype.addToMyFolder=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.folderRepository.addToMyFolder(e)]}))}))},N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"folderList",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"newFolder",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"addToMyFolder",null),e}(),pn=(0,o.yh)("IFolderDomainService"),dn=C+"/cgi-bin/template/mytemplate_add",hn=C+"/cgi-bin/template/template_detail",gn=C+"/ep/api/settipflag",vn=function(){function e(e){this.networkRequestService=e}return e.prototype.addToMyTemplate=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(dn,t)]}))}))},e.prototype.templateDetail=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G(P(P({},e),{template_type:3,xsrf:p(r.xsrf)})),[2,this.networkRequestService.instance.post(hn,t)]}))}))},e.prototype.setTipFlag=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=G({globalPadId:e,type:37,flag:1,xsrf:p(r.xsrf)}),[2,this.networkRequestService.instance.post(gn,t)]}))}))},e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),yn=function(){function e(){this.templateRepository=new vn(new I)}return e.prototype.addToMyTemplate=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.templateRepository.addToMyTemplate(e)]}))}))},e.prototype.templateDetail=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.templateRepository.templateDetail(e)]}))}))},e.prototype.setTipFlag=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.templateRepository.setTipFlag(e)]}))}))},N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"addToMyTemplate",null),N([oe(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"templateDetail",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"setTipFlag",null),e}(),mn=(0,o.yh)("ITemplateDomainService"),bn="//docs.qq.com/cgi-bin/online_docs/doc_collect",_n=function(){function e(){}return e.prototype.updateTitle=function(e,t,n,o){return U(this,void 0,void 0,(function(){var s,u;return F(this,(function(a){switch(a.label){case 0:return s={pad_id:o,domain_id:n,xsrf:""+p(r.xsrf),version:2,auto_change:t?1:0,title:encodeURIComponent(e)},u=nt("//docs.qq.com/cgi-bin/online_docs/doc_changetitle",s),[4,i.networkRequest.post(u)];case 1:return[2,a.sent()]}}))}))},e.prototype.fetchCollectedState=function(e,t){return U(this,void 0,void 0,(function(){var n,o;return F(this,(function(s){switch(s.label){case 0:return n={domain_id:e,pad_id:t,xsrf:""+p(r.xsrf),t:(new Date).getTime()},o=nt(bn,n),[4,i.networkRequest.get(o)];case 1:return[2,s.sent()]}}))}))},e.prototype.changeCollectedState=function(e,t,n){return U(this,void 0,void 0,(function(){var o;return F(this,(function(s){switch(s.label){case 0:return o={domain_id:e,pad_id:t,is_cancel:n?0:1,xsrf:""+p(r.xsrf)},[4,i.networkRequest.post(bn,o)];case 1:return[2,s.sent()]}}))}))},e}();!function(e){e[e.docStatusNormal=0]="docStatusNormal",e[e.docStatusDelete=1]="docStatusDelete",e[e.docStatusTrash=2]="docStatusTrash",e[e.docStatusHidden=3]="docStatusHidden",e[e.docStatusTrans=4]="docStatusTrans",e[e.docStatusImport=5]="docStatusImport",e[e.docStatusChecking=6]="docStatusChecking",e[e.docStatusForbidden=7]="docStatusForbidden",e[e.docStatusImportFailed=8]="docStatusImportFailed",e[e.docStatusCopy=9]="docStatusCopy",e[e.docStatusCopyFailed=10]="docStatusCopyFailed",e[e.docStatusPrepare=11]="docStatusPrepare",e[e.docStatusHiddenUntilModify=12]="docStatusHiddenUntilModify",e[e.docStatusFileUploading=13]="docStatusFileUploading"}(Wt||(Wt={}));var En,wn=function(e){function t(t){var n=e.call(this)||this;return n.creatorId="",n.createTime=0,n.creatorNick="",n.creatorDomain="",n.isCreator=!1,n.jsonObj2Class(t),n}return D(t,e),t}(z),Sn=function(e){function t(t){var n=e.call(this)||this;return n.docStatus=0,n.domainId="",n.padId="",n.padType="",n.type=0,n.shareLink="",n.lastModifyTime=0,n.lastModifyUser="",n.jsonObj2Class(t),n}return D(t,e),Object.defineProperty(t.prototype,"globalPadId",{get:function(){return K(this.domainId,this.padId)},enumerable:!1,configurable:!0}),t}(z),On=function(e){function t(t){var n=e.call(this)||this;return n.ownerId="",n.ownerAppid="",n.ownerNick="",n.jsonObj2Class(t),n}return D(t,e),t}(z),Cn=function(e){function t(t){var n=e.call(this)||this;return n.title="",n.isUserChangeTitle=!1,n.jsonObj2Class(t),n}return D(t,e),t}(z),Tn=12e3,Rn=12e3,An=function(e){function t(t){var n=e.call(this,t)||this;return n.createInfo=new wn({}),n.padInfo=new Sn({}),n.ownerInfo=new On({}),n.titleInfo=new Cn({}),n.onTitleDidChangeEmitter=new Vt,n.onhandleNoticeDeletedEmitter=new Vt,n.onDocStatusChangedEmitter=new Vt,n.docMetaRepository=new _n,n.onTitleDidChange=n.onTitleDidChangeEmitter.event,n.onhandleNoticeDeleted=n.onhandleNoticeDeletedEmitter.event,n.onDocStatusChanged=n.onDocStatusChangedEmitter.event,n}return D(t,e),t.prototype.updateTitle=function(e,t){var n,r;return U(this,void 0,void 0,(function(){var o;return F(this,(function(i){switch(i.label){case 0:return[4,this.docMetaRepository.updateTitle(e,t,null===(n=this.padInfo)||void 0===n?void 0:n.domainId,null===(r=this.padInfo)||void 0===r?void 0:r.padId)];case 1:return o=i.sent(),parseInt(o.data.retcode,10)!==Tn&&parseInt(o.data.cgicode,10)!==Rn&&this.titleInfo&&(this.titleInfo.title=e,this.onTitleDidChangeEmitter.fire({newTitle:e})),[2,o]}}))}))},t.prototype.handleNoticeDeleted=function(){this.padInfo.docStatus=Wt.docStatusDelete,this.onhandleNoticeDeletedEmitter.fire(void 0)},t.prototype.handleNoticeTitleChanged=function(e){this.titleInfo.title=e,this.onTitleDidChangeEmitter.fire({newTitle:e})},t.prototype.changeDocStatus=function(e){this.padInfo.docStatus=e,e===Wt.docStatusDelete&&this.onhandleNoticeDeletedEmitter.fire(void 0),this.onDocStatusChangedEmitter.fire(void 0)},t.prototype.fetchCollectedState=function(){var e,t;return U(this,void 0,void 0,(function(){return F(this,(function(n){switch(n.label){case 0:return[4,this.docMetaRepository.fetchCollectedState(null===(e=this.padInfo)||void 0===e?void 0:e.domainId,null===(t=this.padInfo)||void 0===t?void 0:t.padId)];case 1:return[2,n.sent()]}}))}))},t.prototype.changeCollectedState=function(e){var t,n;return U(this,void 0,void 0,(function(){return F(this,(function(r){switch(r.label){case 0:return[4,this.docMetaRepository.changeCollectedState(null===(t=this.padInfo)||void 0===t?void 0:t.domainId,null===(n=this.padInfo)||void 0===n?void 0:n.padId,e)];case 1:return[2,r.sent()]}}))}))},N([X(),j("design:type",Function),j("design:paramtypes",[String,Boolean]),j("design:returntype",Promise)],t.prototype,"updateTitle",null),N([X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],t.prototype,"fetchCollectedState",null),N([X(),j("design:type",Function),j("design:paramtypes",[Boolean]),j("design:returntype",Promise)],t.prototype,"changeCollectedState",null),t}(fe),xn=function(){function e(){this.docMetaEntity=new An("MainDocMetaEntity")}return e.prototype.updateWithClientVars=function(e){this.docMetaEntity.createInfo=new wn(P(P({},e),{createTime:e.metaCreateTime})),this.docMetaEntity.ownerInfo=new On(e),this.docMetaEntity.padInfo=new Sn(e),this.docMetaEntity.titleInfo=new Cn(e)},e}(),In=T+"notify_getnum",kn=T+"notify_list",Mn=T+"auth_set",Dn=T+"auth_apply/check",Pn=T+"notify_delete",Nn=T+"transowner_accept",Ln=T+"transowner_reject",jn=function(){function e(e){this.networkRequestService=e}return e.prototype.notifyGetNum=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){return e={xsrf:""+p(r.xsrf)},t=nt(In,e),[2,i.networkRequest.get(t)]}))}))},e.prototype.notifyList=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){return e?(t=nt(kn,{xsrf:""+p(r.xsrf),start:e}),[2,i.networkRequest.get(t)]):(n=nt(kn,{xsrf:""+p(r.xsrf)}),[2,i.networkRequest.get(n)])}))}))},e.prototype.currentDocNotifyList=function(e,t,n){return U(this,void 0,void 0,(function(){var o,s;return F(this,(function(u){return n?(s={xsrf:""+p(r.xsrf),domainId:e,localPadId:t,start:n},o=nt(kn,s)):(s={xsrf:""+p(r.xsrf),domainId:e,localPadId:t},o=nt(kn,s)),[2,i.networkRequest.get(o)]}))}))},e.prototype.authSet=function(e,t,n,o){return U(this,void 0,void 0,(function(){var s,u;return F(this,(function(a){return s={xsrf:p(r.xsrf),domainId:e,localPadId:t,notifyId:n,setInfo:o},u=""+Mn,[2,i.networkRequest.post(u,s)]}))}))},e.prototype.authApplyCheck=function(e,t){return U(this,void 0,void 0,(function(){var n,o;return F(this,(function(s){return n={xsrf:""+p(r.xsrf),domainId:e,localPadId:t},o=nt(Dn,n),[2,i.networkRequest.get(o)]}))}))},e.prototype.notifyDelete=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){return t={id:e,xsrf:""+p(r.xsrf)},n=nt(Pn,t),[2,i.networkRequest.get(n)]}))}))},e.prototype.transownerAccept=function(e,t,n,o){return U(this,void 0,void 0,(function(){var s,u;return F(this,(function(a){return s={xsrf:p(r.xsrf),domainId:e,localPadId:t,notifyId:n,setInfo:o},u=""+Nn,[2,i.networkRequest.post(u,s)]}))}))},e.prototype.transownerReject=function(e,t,n,o){return U(this,void 0,void 0,(function(){var s,u;return F(this,(function(a){return s={xsrf:p(r.xsrf),domainId:e,localPadId:t,notifyId:n,setInfo:o},u=""+Ln,[2,i.networkRequest.post(u,s)]}))}))},e=N([L(0,x),j("design:paramtypes",[Object])],e)}(),Un=function(e){function t(t){var n=e.call(this)||this;return n.unreadSumCount=0,n.hasPolicyNotify=0,n.jsonObj2Class(t),n}return D(t,e),t}(z),Fn=function(e){function t(t){var n=e.call(this)||this;return n.dataType=0,n.domainId="",n.localPadId="",n.padTitle="",n.padType="",n.padUrl="",n.page="",n.jsonObj2Class(t),n}return D(t,e),t}(z),Wn=function(e){function t(t){var n=e.call(this)||this;return n.avatar="",n.nick="",n.uid="",n.jsonObj2Class(t),n}return D(t,e),t}(z),qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notifyUserInfo=new Wn({}),t.notifyPadInfo=new Fn({}),t.aRightFlag=0,t.bRightFlag=0,t.nRightFlag=0,t.rightFlag=0,t.denyCount=0,t.flag=0,t.id="",t.op="",t.pass=0,t.sendDate=0,t.subject="",t.type=0,t}return D(t,e),t.prototype.initWithJsonObj=function(e){e?(this.aRightFlag=e.aRightFlag,this.bRightFlag=e.bRightFlag,this.nRightFlag=e.nRightFlag,this.rightFlag=e.rightFlag,this.denyCount=e.denyCount,this.flag=e.flag,this.pass=e.pass,this.sendDate=e.send_date,this.type=e.type,this.id=e.id,this.op=e.op,this.subject=e.subject,this.notifyPadInfo=new Fn(e),this.notifyUserInfo=new Wn(e)):t.logger.debug("params erroro: initWithJsonObj")},t}(fe),Bn="unreadInfo",Qn="list",Vn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.docMetaDomainService=n,o.networkRequest=r,o.unreadInfo=new Un({}),o.notifysAll=[],o.notifysCurrent=[],o.mOnNotifyUnreadInfoDidUpdated=new Vt,o.onNotifyUnreadInfoDidUpdated=o.mOnNotifyUnreadInfoDidUpdated.event,o.notificationRepository=new jn(r),o}return D(t,e),t.prototype.notifyGetNum=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.notificationRepository.notifyGetNum()]}))}))},t.prototype.notifyList=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return e||(this.notifysAll=[]),[2,this.notificationRepository.notifyList(e)]}))}))},t.prototype.currentDocNotifyList=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return e||(this.notifysCurrent=[]),[2,this.notificationRepository.currentDocNotifyList(this.docMetaDomainService.docMetaEntity.padInfo.domainId,this.docMetaDomainService.docMetaEntity.padInfo.padId,e)]}))}))},t.prototype.authSet=function(e,t,n,r){return U(this,void 0,void 0,(function(){return F(this,(function(o){return[2,this.notificationRepository.authSet(e,t,n,r)]}))}))},t.prototype.authApplyCheck=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.notificationRepository.authApplyCheck(e,t)]}))}))},t.prototype.notifyDelete=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.notificationRepository.notifyDelete(e)]}))}))},t.prototype.transownerAccept=function(e,t,n,r){return U(this,void 0,void 0,(function(){return F(this,(function(o){return[2,this.notificationRepository.transownerAccept(e,t,n,r)]}))}))},t.prototype.transownerReject=function(e,t,n,r){return U(this,void 0,void 0,(function(){return F(this,(function(o){return[2,this.notificationRepository.transownerReject(e,t,n,r)]}))}))},t.prototype.clearUnreadInfo=function(){this.unreadInfo=new Un({}),this.mOnNotifyUnreadInfoDidUpdated.fire({unreadInfo:this.unreadInfo})},N([te("mOnNotifyUnreadInfoDidUpdated",Bn),ne(Un.prototype.constructor,Bn),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],t.prototype,"notifyGetNum",null),N([re(qn.prototype.constructor,"notifysAll",Qn),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],t.prototype,"notifyList",null),N([re(qn.prototype.constructor,"notifysCurrent",Qn),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],t.prototype,"currentDocNotifyList",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String,String,Object]),j("design:returntype",Promise)],t.prototype,"authSet",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",Promise)],t.prototype,"authApplyCheck",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],t.prototype,"notifyDelete",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String,String,Object]),j("design:returntype",Promise)],t.prototype,"transownerAccept",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String,String,Object]),j("design:returntype",Promise)],t.prototype,"transownerReject",null),t=N([L(1,Ct),L(2,x),j("design:paramtypes",[String,Object,Object])],t)}(le),Gn=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.notificationAggregate=new Vn("mainUserInfoAggregate",e,t)}return e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Kn=(0,o.yh)("INotificationDomainService"),Hn=function(e){function t(t){var n=e.call(this)||this;return n.beginTime=0,n.endTime=0,n.isVip=!1,n.oldVip=!1,n.vipLevel=0,n.user={},n.recycleLimit={},n.collaborateLimit={},n.expansion={},n.superVip={},t.super_vip=t.super,n.jsonObj2Class(t),n}return D(t,e),t}(z),zn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.avatar="",t.qqAvatar="",t.wxAvatar="",t.nick="",t.qqNick="",t.wxNick="",t.corpId="",t.corpName="",t.domain="",t.domainId="",t.dbEmail="",t.email="",t.tinyid="",t.toid="",t.userId="",t.uid="",t.wxOpenid="",t.uidSource=0,t.uin=0,t.login=!1,t.loginTime=0,t.loginType=rt.Unknown,t.xu="",t.vipInfo=new Hn({}),t}return D(t,e),t}(fe),Yn=T+"user_info",$n=T+"vip_all",Jn=T+"user_flag",Xn=T+"user_info/check",Zn=function(){function e(){}return e.prototype.getUserInfo=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(o){return n=nt(Yn,{get_vip_info:e,u:t}),[2,i.networkRequest.post(n,{xsrf:p(r.xsrf)})]}))}))},e.prototype.getVipInfo=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=nt($n,{xsrf:""+p(r.xsrf)}),[2,i.networkRequest.post(e)]}))}))},e.prototype.getUserFlag=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t=nt(Jn,{xsrf:""+p(r.xsrf),type:e}),[2,i.networkRequest.post(t)]}))}))},e.prototype.userInfoCheck=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e=nt(Xn,{xsrf:""+p(r.xsrf)}),[2,i.networkRequest.post(e)]}))}))},e}(),er="userInfo",tr=function(e){function t(t){var n=e.call(this,t)||this;return n.userInfo=new zn("mainUserInfo"),n.mOnUserInfoDidUpdated=new Vt,n.userInfoRepository=new Zn,n.onUserInfoDidUpdated=n.mOnUserInfoDidUpdated.event,n}return D(t,e),t.prototype.initWithClientVars=function(e){this.userInfo.initWithJsonObj({avatar:e.userPic,tinyid:e.tinyid,nick:e.userName,loginType:e.userType,userId:e.userId,uin:e.uin})},t.prototype.fetchUserInfo=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.userInfoRepository.getUserInfo(e,t)]}))}))},t.prototype.fetchVipInfo=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return this.vipInfo=[],[2,this.userInfoRepository.getVipInfo()]}))}))},t.prototype.fetchUserFlag=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.userInfoRepository.getUserFlag(e)]}))}))},t.prototype.userInfoCheck=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.userInfoRepository.userInfoCheck()]}))}))},N([te("mOnUserInfoDidUpdated",er),ne(zn.prototype.constructor,er),function(e,t,n){Y.debug("changeSuperVipData|"+e.constructor.name+"|"+t);var r=n.value;n.value=function(){for(var e,t,n,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return U(this,void 0,void 0,(function(){var i,s,u;return F(this,(function(a){switch(a.label){case 0:return[4,r.apply(this,o)];case 1:return(i=a.sent()).error?[2,i]:((s=null!==(n=null===(t=null===(e=i.resData)||void 0===e?void 0:e.data)||void 0===t?void 0:t.vip_info)&&void 0!==n?n:{}).super_vip=null===s||void 0===s?void 0:s.super,(u=P({},i.resData)).data.vip_info=s,[2,{resData:u}])}}))}))}},X(),Z("x-u","xu"),j("design:type",Function),j("design:paramtypes",[Number,String]),j("design:returntype",Promise)],t.prototype,"fetchUserInfo",null),N([re(Hn.prototype.constructor,"vipInfo","vip_info"),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],t.prototype,"fetchVipInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Number]),j("design:returntype",Promise)],t.prototype,"fetchUserFlag",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],t.prototype,"userInfoCheck",null),t}(le),nr=function(){this.userInfoAggregate=new tr("mainUserInfoAggregate")},rr=(0,o.yh)("IUserInfoDomainService"),or=T+"user_recent",ir=T+"auth_sendmsg",sr=C+"/cgi-go/common-notify/view",ur=T+"browser_list",ar=C+"/v2/privilege/wxsharelink/save",cr=C+"/v2/privilege/wxsharelink/get",fr=C+"/v2/privilege/wxsharelink/recall",lr=T+"wxqrcode",pr=T+"qq_import/setTips",dr=C+"/cgi-bin/share/share_doc?uflag=qqsig",hr=T+"auth_info/update?uflag=qqsig",gr=C+"/sdc/friends?u=login",vr=C+"/sdc/gmembers",yr=C+"/sdc/dmembers",mr=C+"/v2/group/getinfo",br=C+"/v2/sdc/friendchat",_r=C+"/v2/util/qq/auth/check",Er=C+"/enterprise/v1/cig/departments",wr=C+"/enterprise/v1/cig/search-user",Sr=T+"group_list",Or=T+"group_members",Cr=T+"group_modify",Tr=T+"group_deletemember",Rr=T+"group_remove",Ar=T+"group_addmember",xr=T+"group_create",Ir=T+"group_info",kr=T+"group_quit",Mr=T+"group_checker",Dr=T+"group_addkey",Pr=T+"group_activate",Nr=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.fetchRecentUserInfo=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){return e={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domain:this.docMetaDomainService.docMetaEntity.padInfo.domainId,xsrf:""+p(r.xsrf)},t=nt(or,e),[2,this.networkRequestService.instance.post(t)]}))}))},e.prototype.sendDocToMember=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(o){return n={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,addmemlist:JSON.stringify(e),corpid:Q(t),xsrf:p(r.xsrf)},[2,this.networkRequestService.instance.post(ir,P({},n))]}))}))},e.prototype.exportToPC=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e={padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:p(r.xsrf)},[2,this.networkRequestService.instance.post(sr,P({},e))]}))}))},e.prototype.fetchBrowserList=function(e,t){return U(this,void 0,void 0,(function(){var n,o;return F(this,(function(i){return n={domain_id:this.docMetaDomainService.docMetaEntity.padInfo.domainId,pad_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,start:e,limit:t,xsrf:""+p(r.xsrf),t:(new Date).getTime()},o=nt(ur,n),[2,this.networkRequestService.instance.get(o)]}))}))},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Lr=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.shareRepository=new Nr(e,t)}return e.prototype.sendDocToMember=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.shareRepository.sendDocToMember(e,t)]}))}))},e.prototype.fetchRecentUserInfo=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.shareRepository.fetchRecentUserInfo()]}))}))},e.prototype.exportToPC=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.shareRepository.exportToPC()]}))}))},e.prototype.fetchBrowserList=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.shareRepository.fetchBrowserList(e,t)]}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Array,String]),j("design:returntype",Promise)],e.prototype,"sendDocToMember",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"fetchRecentUserInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"exportToPC",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Number,Number]),j("design:returntype",Promise)],e.prototype,"fetchBrowserList",null),e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),jr=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.fetchGroupList=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(r){return n={start:e,limit:t,t:(new Date).getTime()},[2,this.networkRequestService.instance.post(Sr,P({},n))]}))}))},e.prototype.fetchGroupMembers=function(e,t,n){return U(this,void 0,void 0,(function(){var r;return F(this,(function(o){return r={group_id:e,start:t,limit:n,t:(new Date).getTime()},[2,this.networkRequestService.instance.post(Or,P({},r))]}))}))},e.prototype.modifyGroup=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(r){return n={group_id:e,group_name:t},[2,this.networkRequestService.instance.post(Cr,P({},n))]}))}))},e.prototype.deleteGroupMember=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(r){return n={group_id:e,mem_list:[t]},[2,this.networkRequestService.instance.post(Tr,P({},n))]}))}))},e.prototype.removeGroup=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t={group_id:e},[2,this.networkRequestService.instance.post(Rr,P({},t))]}))}))},e.prototype.addGroupMember=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(r){return n={group_id:e,mem_list:JSON.stringify(t)},[2,this.networkRequestService.instance.post(Ar,P({},n))]}))}))},e.prototype.createGroup=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(r){return n={group_name:e,is_temp:t},[2,this.networkRequestService.instance.post(xr,P({},n))]}))}))},e.prototype.fetchGroupInfo=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t={group_id:e,get_key:!1},[2,this.networkRequestService.instance.post(Ir,P({},t))]}))}))},e.prototype.quitGroup=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t={group_id:e},[2,this.networkRequestService.instance.post(kr,P({},t))]}))}))},e.prototype.checkCreateGroup=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e={},[2,this.networkRequestService.instance.post(Mr,P({},e))]}))}))},e.prototype.addKeyToGroup=function(e,t){return U(this,void 0,void 0,(function(){var n;return F(this,(function(r){return n={group_id:e,share_key:t},[2,this.networkRequestService.instance.post(Dr,P({},n))]}))}))},e.prototype.activateGroup=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t={group_id:e},[2,this.networkRequestService.instance.post(Pr,P({},t))]}))}))},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Ur=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.groupShareRepository=new jr(e,t)}return e.prototype.fetchGroupList=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.groupShareRepository.fetchGroupList(e,t)]}))}))},e.prototype.fetchGroupMembers=function(e,t,n){return U(this,void 0,void 0,(function(){return F(this,(function(r){return[2,this.groupShareRepository.fetchGroupMembers(e,t,n)]}))}))},e.prototype.modifyGroup=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.groupShareRepository.modifyGroup(e,t)]}))}))},e.prototype.deleteGroupMember=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.groupShareRepository.deleteGroupMember(e,t)]}))}))},e.prototype.removeGroup=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.groupShareRepository.removeGroup(e)]}))}))},e.prototype.addGroupMember=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.groupShareRepository.addGroupMember(e,t)]}))}))},e.prototype.createGroup=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.groupShareRepository.createGroup(e,t)]}))}))},e.prototype.fetchGroupInfo=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.groupShareRepository.fetchGroupInfo(e)]}))}))},e.prototype.quitGroup=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.groupShareRepository.quitGroup(e)]}))}))},e.prototype.checkCreateGroup=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.groupShareRepository.checkCreateGroup()]}))}))},e.prototype.addKeyToGroup=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.groupShareRepository.addKeyToGroup(e,t)]}))}))},e.prototype.activateGroup=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.groupShareRepository.activateGroup(e)]}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Number,Number]),j("design:returntype",Promise)],e.prototype,"fetchGroupList",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,Number,Number]),j("design:returntype",Promise)],e.prototype,"fetchGroupMembers",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",Promise)],e.prototype,"modifyGroup",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",Promise)],e.prototype,"deleteGroupMember",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"removeGroup",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,Array]),j("design:returntype",Promise)],e.prototype,"addGroupMember",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,Boolean]),j("design:returntype",Promise)],e.prototype,"createGroup",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"fetchGroupInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"quitGroup",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"checkCreateGroup",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",Promise)],e.prototype,"addKeyToGroup",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"activateGroup",null),e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Fr=function(){function e(e,t,n){this.docMetaDomainService=e,this.networkRequestService=t,this.userInfoDomainService=n}return e.prototype.checkIfCanShare=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){return e=G({padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,xsrf:p(r.xsrf)}),t={contentType:"application/x-www-form-urlencoded"},[2,this.networkRequestService.instance.post(hr,e,t)]}))}))},e.prototype.setTipsAfterImport=function(e){return U(this,void 0,void 0,(function(){var t,n,r,o;return F(this,(function(i){return t=e.fileMd5,n=e.guestUid,r=e.guestUidType,o={file_md5:t,guest_uid:n,guest_uid_type:r,tips_showed_fl:1},[2,this.networkRequestService.instance.post(pr,P({},o))]}))}))},e.prototype.shareToQQOrTIM=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){return t=G({padid:this.docMetaDomainService.docMetaEntity.padInfo.padId,domainid:this.docMetaDomainService.docMetaEntity.padInfo.domainId,uins:JSON.stringify(e),xsrf:p(r.xsrf)}),n={contentType:"application/x-www-form-urlencoded"},[2,this.networkRequestService.instance.post(dr,t,n)]}))}))},e.prototype.fetchFriendsInfo=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){return e={t:(new Date).getTime(),xsrf:""+p(r.xsrf)},t=nt(gr,e),[2,this.networkRequestService.instance.get(t)]}))}))},e.prototype.fetchGroupMember=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){return t={dstuin:e,t:(new Date).getTime(),xsrf:""+p(r.xsrf)},n=nt(vr,t),[2,this.networkRequestService.instance.get(n)]}))}))},e.prototype.fetchDiscussGroupMember=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){return t={dstuin:e,t:(new Date).getTime(),xsrf:""+p(r.xsrf)},n=nt(yr,t),[2,this.networkRequestService.instance.get(n)]}))}))},e.prototype.checkSkeyAuth=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e={uin:this.userInfoDomainService.userInfoAggregate.userInfo.uin,p_lskey:l("p_lskey")||"",p_skey:l("p_skey")||""},[2,this.networkRequestService.instance.post(_r,P({},e))]}))}))},e.prototype.fetchGroupInfo=function(e){var t={groupCode:e,xsrf:""+p(r.xsrf)};return this.networkRequestService.instance.post(mr,P({},t))},e.prototype.fetchFriendInfo=function(e){var t={uin:""+e,xsrf:""+p(r.xsrf)};return this.networkRequestService.instance.post(br,P({},t))},e=N([L(0,Ct),L(1,x),L(2,rr),j("design:paramtypes",[Object,Object,Object])],e)}(),Wr=function(){function e(e,t,n){this.docMetaDomainService=e,this.networkRequest=t,this.userInfoDomainService=n,this.qqShareRepository=new Fr(e,t,n)}return e.prototype.checkIfCanShare=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.qqShareRepository.checkIfCanShare()]}))}))},e.prototype.setTipsAfterImport=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.qqShareRepository.setTipsAfterImport(e)]}))}))},e.prototype.shareToQQOrTIM=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.qqShareRepository.shareToQQOrTIM(e)]}))}))},e.prototype.fetchFriendsInfo=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.qqShareRepository.fetchFriendsInfo()]}))}))},e.prototype.fetchGroupMember=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.qqShareRepository.fetchGroupMember(e)]}))}))},e.prototype.fetchDiscussGroupMember=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.qqShareRepository.fetchDiscussGroupMember(e)]}))}))},e.prototype.checkSkeyAuth=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.qqShareRepository.checkSkeyAuth()]}))}))},e.prototype.fetchGroupInfo=function(e){return this.qqShareRepository.fetchGroupInfo(e)},e.prototype.fetchFriendInfo=function(e){return this.qqShareRepository.fetchFriendInfo(e)},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"checkIfCanShare",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"setTipsAfterImport",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Array]),j("design:returntype",Promise)],e.prototype,"shareToQQOrTIM",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"fetchFriendsInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"fetchGroupMember",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"fetchDiscussGroupMember",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"checkSkeyAuth",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"fetchGroupInfo",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"fetchFriendInfo",null),e=N([L(0,Ct),L(1,x),L(2,rr),j("design:paramtypes",[Object,Object,Object])],e)}(),qr=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.addWxShareLinkCount=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){return t={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId,token:e},[2,this.networkRequestService.instance.post(ar,P({},t))]}))}))},e.prototype.fetchWxShareLinkCount=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId},[2,this.networkRequestService.instance.post(cr,P({},e))]}))}))},e.prototype.wxShare=function(e){return U(this,void 0,void 0,(function(){var t,n,o,i;return F(this,(function(s){return t=e.groupId,n=e.shareLink,o=e.policy,i={groupId:Q(t),domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,padId:this.docMetaDomainService.docMetaEntity.padInfo.padId,page:"h5",right_flag:2,type:1,param:encodeURIComponent(n),ac:"share",policy:o,xsrf:p(r.xsrf)},[2,this.networkRequestService.instance.post(lr,P({},i))]}))}))},e.prototype.stopWxShare=function(){return U(this,void 0,void 0,(function(){var e;return F(this,(function(t){return e={doc_id:this.docMetaDomainService.docMetaEntity.padInfo.padId},[2,this.networkRequestService.instance.post(fr,P({},e))]}))}))},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Br=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.weChatShareRepository=new qr(e,t)}return e.prototype.fetchWxShareLinkCount=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.weChatShareRepository.fetchWxShareLinkCount()]}))}))},e.prototype.stopWxShare=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){return[2,this.weChatShareRepository.stopWxShare()]}))}))},e.prototype.addWxShareLinkCount=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.weChatShareRepository.addWxShareLinkCount(e)]}))}))},e.prototype.wxShare=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.weChatShareRepository.wxShare(e)]}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"fetchWxShareLinkCount",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],e.prototype,"stopWxShare",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",Promise)],e.prototype,"addWxShareLinkCount",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],e.prototype,"wxShare",null),e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Qr=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.fetchOrganizationalStructureList=function(e,t){return U(this,void 0,void 0,(function(){var n,o;return F(this,(function(i){return n={deptID:t,corpID:e,t:(new Date).getTime(),xsrf:""+p(r.xsrf)},o=nt(Er,n),[2,this.networkRequestService.instance.get(o)]}))}))},e.prototype.searchQFYFUser=function(e,t,n){return U(this,void 0,void 0,(function(){var o,i;return F(this,(function(s){return o={corpid:e,pos:n,num:20,word:t,xsrf:""+p(r.xsrf),t:(new Date).getTime()},i=nt(wr,o),[2,this.networkRequestService.instance.get(i)]}))}))},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Vr=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.qfyfShareRepository=new Qr(e,t)}return e.prototype.fetchOrganizationalStructureList=function(e,t){return U(this,void 0,void 0,(function(){return F(this,(function(n){return[2,this.qfyfShareRepository.fetchOrganizationalStructureList(e,t)]}))}))},e.prototype.searchQFYFUser=function(e,t,n){return U(this,void 0,void 0,(function(){return F(this,(function(r){return[2,this.qfyfShareRepository.searchQFYFUser(e,t,n)]}))}))},N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",Promise)],e.prototype,"fetchOrganizationalStructureList",null),N([oe(),X(),j("design:type",Function),j("design:paramtypes",[String,String,String]),j("design:returntype",Promise)],e.prototype,"searchQFYFUser",null),e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Gr=function(){function e(e,t,n){this.docMetaDomainService=e,this.networkRequestService=t,this.userInfoDomainService=n,this.shareEntity=new Lr(e,t),this.groupShareEntity=new Ur(e,t),this.qqShareEntity=new Wr(e,t,n),this.weChatShareEntity=new Br(e,t),this.qfyfShareEntity=new Vr(e,t)}return e=N([L(0,Ct),L(1,x),L(2,rr),j("design:paramtypes",[Object,Object,Object])],e)}(),Kr=function(){function e(e,t,n){this.docMetaDomainService=e,this.networkRequest=t,this.userInfoDomainService=n,this.shareAggregate=new Gr(e,t,n)}return e=N([L(0,Ct),L(1,x),L(2,rr),j("design:paramtypes",[Object,Object,Object])],e)}(),Hr=(0,o.yh)("IShareDomainService"),zr=function(){function e(){}return e.getLevel1MapInfo=function(e,t,n){return{domainId:e.docMetaEntity.padInfo.domainId,padId:e.docMetaEntity.padInfo.padId,type:e.docMetaEntity.padInfo.type,padType:e.docMetaEntity.padInfo.padType,shareLink:e.docMetaEntity.padInfo.shareLink,docStatus:e.docMetaEntity.padInfo.docStatus,globalPadId:e.docMetaEntity.padInfo.globalPadId,lastModifyUser:e.docMetaEntity.padInfo.lastModifyUser,lastModifyTime:e.docMetaEntity.padInfo.lastModifyTime,metaCreateTime:e.docMetaEntity.createInfo.metaCreateTime,creatorId:e.docMetaEntity.createInfo.creatorId,creatorNick:e.docMetaEntity.createInfo.creatorNick,creatorDomain:e.docMetaEntity.createInfo.creatorDomain,isCreator:e.docMetaEntity.createInfo.isCreator,ownerId:e.docMetaEntity.ownerInfo.ownerId,ownerNick:e.docMetaEntity.ownerInfo.ownerNick,ownerAppid:e.docMetaEntity.ownerInfo.ownerAppid,padTitle:e.docMetaEntity.titleInfo.title,title:e.docMetaEntity.titleInfo.title,isUserChangeTitle:e.docMetaEntity.titleInfo.isUserChangeTitle,rightFlag:t.authAggregate.authInfoEntity.selfRole,isOwner:t.authAggregate.authInfoEntity.isOwner,tinyid:n.userInfoAggregate.userInfo.tinyid,userName:n.userInfoAggregate.userInfo.nick,userPic:n.userInfoAggregate.userInfo.avatar,userType:n.userInfoAggregate.userInfo.loginType,userId:n.userInfoAggregate.userInfo.uid,uin:n.userInfoAggregate.userInfo.uin}},e.getLevel2PrivilegeMapInfo=function(e){var t=e.authAggregate.authInfoEntity.selfDocPrivilege;return{can_copy:t.canCopy,can_print:t.canPrint,can_history:t.canHistory,can_read:t.canRead,can_edit_title:t.canEditTitle,can_search:t.canSearch,can_add_user:t.canAddUser,can_view_image:t.canViewImage,can_edit:t.canEdit,can_share:t.canShare,can_comment:t.canComment,can_about:t.canAbout,can_spit_slot:t.canSpitSlot,can_watermark:t.canWatermark,can_translate:t.canTranslate,can_link_exp:t.canLinkExp,can_copy_doc:t.canCopyDoc}},e.getLevel2AdvPolicyMapInfo=function(e){var t=e.authAggregate.authInfoEntity.selfDocAdvancedPrivilege;return{reader_can_comment:t.readerCanComment,view_forbid_copy_print:t.viewForbidCopyPrint,writer_can_comment:t.writerCanComment}},e}(),Yr=function(){function e(){}return e.createClientVarsToDomainProxy=function(t,n,r,o){e.createLevel2PrivilegeProxy(n,o),e.createLevel2AdvPolicyProxy(n,o),e.createLevel1Proxy(t,n,r,o)},e.getProxyHandler=function(e){return{get:function(t,n){return Object.keys(e).includes(n)?e[n]:t[n]},set:function(t,n,r){return Object.keys(e).includes(n)?e[n]=r:t[n]=r,!0}}},e.createLevel1Proxy=function(t,r,o,i){var s=i,u=zr.getLevel1MapInfo(t,r,o),a=e.getProxyHandler(u);n.g.clientVars=new Proxy(s,a)},e.createLevel2PrivilegeProxy=function(t,n){var r=n,o=zr.getLevel2AdvPolicyMapInfo(t),i=e.getProxyHandler(o);r.privilegeAttribute=new Proxy(n.privilegeAttribute||{},i)},e.createLevel2AdvPolicyProxy=function(t,n){var r=n,o=zr.getLevel2AdvPolicyMapInfo(t),i=e.getProxyHandler(o);r.advPolicy=new Proxy(r.advPolicy,i)},e}(),$r=function(){function e(e,t,n){this.docMetaDomainService=e,this.authDomainService=t,this.userInfoDomainService=n}return e.prototype.updateDomainWithClientVars=function(e,t){void 0===t&&(t=!1),this.docMetaDomainService.updateWithClientVars(e),this.authDomainService.updateWithClientVars(e),this.userInfoDomainService.userInfoAggregate.initWithClientVars(e),t&&Yr.createClientVarsToDomainProxy(this.docMetaDomainService,this.authDomainService,this.userInfoDomainService,e)},e=N([L(0,Ct),L(1,vt),L(2,rr),j("design:paramtypes",[Object,Object,Object])],e)}(),Jr=(0,o.yh)("IDomainUpdater"),Xr=C+"/sdc/getusermarkname",Zr=function(){function e(e){this.docMetaDomainService=e}return e.prototype.getUserMarkName=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){return t={uids:"["+e+"]",xsrf:""+p(r.xsrf),domainId:this.docMetaDomainService.docMetaEntity.padInfo.domainId,localPadId:this.docMetaDomainService.docMetaEntity.padInfo.padId},n=nt(Xr,t),[2,i.networkRequest.get(n)]}))}))},e=N([L(0,Ct),j("design:paramtypes",[Object])],e)}(),eo=function(e){function t(t,n){var r=e.call(this,t)||this;return r.docMetaDomainService=n,r.collaborateList=[],r.currentMemCount=0,r.onCollaborateListUpdatedEmitter=new Vt,r.onCommercializeMessageEmitter=new Vt,r.onUserComeInEmitter=new Vt,r.onUserLeaveEmitter=new Vt,r.needRequestUids=new Set,r.onCollaborateListUpdated=r.onCollaborateListUpdatedEmitter.event,r.onCommercializeMessage=r.onCommercializeMessageEmitter.event,r.onUserComeIn=r.onUserComeInEmitter.event,r.onUserLeave=r.onUserLeaveEmitter.event,r.collaborateRepository=new Zr(n),r}return D(t,e),t.prototype.handleCommercializeMessage=function(e){this.onCommercializeMessageEmitter.fire(e)},t.prototype.handleUserComeIn=function(e){var t,n=this;null===(t=e.notices)||void 0===t||t.forEach((function(e){n.appendNoticeTo(e)})),this.currentMemCount=this.collaborateList.length,this.onUserComeInEmitter.fire(e)},t.prototype.handleUserLeave=function(e){var t,n=this;null===(t=e.notices)||void 0===t||t.forEach((function(e){n.collaborateList=n.collaborateList.filter((function(t){return t.userId!==e.userId}))})),this.currentMemCount=this.collaborateList.length,this.onUserLeaveEmitter.fire(e)},t.prototype.getUserMarkName=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.collaborateRepository.getUserMarkName(e)]}))}))},t.prototype.appendNoticeTo=function(e){this.collaborateList.find((function(t){return t.userId===e.userId}))||this.collaborateList.push(e)},t=N([L(1,Ct),j("design:paramtypes",[String,Object])],t)}(le),to=function(){function e(e){this.docMetaDomainService=e,this.collaborateAggregate=new eo("mainUserInfoAggregate",this.docMetaDomainService)}return e=N([L(0,Ct),j("design:paramtypes",[Object])],e)}(),no=(0,o.yh)("ICollaborateDomainService");!function(e){e.ON="ON",e.OFF="OFF"}(En||(En={}));var ro,oo=function(){function e(e){this.emitter=new Vt,this.listenersArray=[],this.messageCheckFn=e}return e.prototype.connect=function(){this.connectState!==En.ON&&(this.connectState=En.ON,this.initEmitterEvent(),window.addEventListener("message",this.messageCallback.bind(this)))},e.prototype.setIframeDom=function(e,t){this.iframeDom=e,this.targetOrigin=t},e.prototype.send=function(e){var t;this.iframeDom&&(null===(t=this.iframeDom.contentWindow)||void 0===t||t.postMessage(e,"*"))},e.prototype.receive=function(e){this.listenersArray.includes(e)||this.listenersArray.push(e)},e.prototype.dispose=function(){window.removeEventListener("message",this.messageCallback),this.connectState=En.OFF,this.listenersArray=[]},e.prototype.messageCallback=function(e){var t=!0;this.messageCheckFn&&(t=this.messageCheckFn(e)),t&&this.emitter.fire(e)},e.prototype.initEmitterEvent=function(){var e=this;this.emitter.event((function(t){e.listenersArray.forEach((function(e){"function"===typeof e&&e(t)}))}))},e}(),io="https://doc.weixin.qq.com",so="ALREADY_IFRAME_GET_ACCOUNT_LIST_FROM_B",uo="GET_ACCOUNT_LIST_FROM_B",ao="DELETE_ACCOUNT_LIST_FROM_B",co="SUCCESS_GET_ACCOUNT_LIST_FROM_B",fo="SUCCESS_DELETE_ACCOUNT_LIST_FROM_B",lo="iframe-to-manage-account-list",po=function(){function e(){this.getAccountMessage=new oo(this.getAccountMessageCheckFn),this.iframeMountMessage=new oo(this.getIframeMountMessageCheckFn),this.deleteAccountMessage=new oo(this.getDeleteAccountMessageCheckFn)}return e.prototype.connect=function(){this.getAccountMessage.connect(),this.iframeMountMessage.connect(),this.deleteAccountMessage.connect()},e.prototype.dispose=function(){this.getAccountMessage.dispose(),this.iframeMountMessage.dispose(),this.deleteAccountMessage.dispose()},e.prototype.createGetAccountListIframe=function(e){var t=this;this.getAccountListIframeDom=this.createMessageIframe((function(n,r){r?(t.getAccountMessage.setIframeDom(n,io),t.deleteAccountMessage.setIframeDom(n,io)):null===e||void 0===e||e()}))},e.prototype.sendAccountListMessage=function(){this.getAccountMessage.send({eventFromCDomain:uo})},e.prototype.sendDeleteAccountMessage=function(e){this.deleteAccountMessage.send({eventFromCDomain:ao,cookie:e})},e.prototype.getAccountListMessage=function(e){this.getAccountMessage.receive(e)},e.prototype.getIframeMountMessage=function(e){this.iframeMountMessage.receive(e)},e.prototype.getDeleteAccountMessage=function(e){this.deleteAccountMessage.receive(e)},e.prototype.createMessageIframe=function(e){document.getElementById(lo)&&e(document.getElementById(lo),!1);var t=document.createElement("iframe");return t.src="https://doc.weixin.qq.com/tim/docs/components/IfameManageAccountListToC.html",t.id=lo,t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",document.body.appendChild(t),e(t,!0),t},e.prototype.getAccountMessageCheckFn=function(e){var t=e.data;return e.origin===io&&t.eventFromBDomain===co},e.prototype.getIframeMountMessageCheckFn=function(e){var t=e.data;return e.origin===io&&t.eventFromBDomain===so},e.prototype.getDeleteAccountMessageCheckFn=function(e){var t=e.data;return e.origin===io&&t.eventFromBDomain===fo},e}(),ho="ALREADY_JUMP_B_IFRAME",go="B_PAGE_SET_COOKIE",vo="SUCCESS_SET_COOKIE",yo="https://doc.weixin.qq.com",mo="iframe-to-b-set-cookie",bo=function(){function e(){this.iframeMountMessage=new oo(this.getIframeMountMessageCheckFn),this.switchAccountMessage=new oo(this.getSwitchAccountMessageCheckFn)}return e.prototype.connect=function(){this.iframeMountMessage.connect(),this.switchAccountMessage.connect()},e.prototype.dispose=function(){this.iframeMountMessage.dispose(),this.switchAccountMessage.dispose()},e.prototype.createSwitchEnterpriseAccount=function(e){var t=this;this.switchAccountDom=this.createMessageIframe((function(n,r){r?t.switchAccountMessage.setIframeDom(n,yo):null===e||void 0===e||e()}))},e.prototype.getIframeMountMessage=function(e){this.iframeMountMessage.receive(e)},e.prototype.getSwitchAccountMessage=function(e){this.switchAccountMessage.receive(e)},e.prototype.sendSwitchAccountMessage=function(e){this.switchAccountMessage.send({event:go,cookie:e,fromDomain:"B_DOMAIN"})},e.prototype.createMessageIframe=function(e){document.getElementById(mo)&&e(document.getElementById(mo),!1);var t=document.createElement("iframe");return t.src="https://doc.weixin.qq.com/scenario/iframe-to-b-set-cookie.html",t.id=mo,t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",document.body.appendChild(t),e(t,!0),t},e.prototype.getIframeMountMessageCheckFn=function(e){var t=e.data;return e.origin===yo&&t.event===ho},e.prototype.getSwitchAccountMessageCheckFn=function(e){var t=e.data;return e.origin===yo&&t.event===vo},e}();!function(e){e.QFYF_SUCCESS="login qfyf success",e.QQ_LOGIN_SUCCESS="login qq success",e.QQ_BING_SUCCESS="bind qq success"}(ro||(ro={}));var _o,Eo=function(){function e(){this.getQQLoginMessage=new oo(this.getQQLoginMessageCheckFn),this.getQQLoginIframeMessage=new oo(this.getIframeMountCheckFn)}return e.prototype.connect=function(){this.getQQLoginMessage.connect(),this.getQQLoginIframeMessage.connect()},e.prototype.dispose=function(){this.getQQLoginMessage.dispose(),this.getQQLoginIframeMessage.dispose()},e.prototype.getQQLoginSuccessMessage=function(e){this.getQQLoginMessage.receive(e)},e.prototype.getQQIframeMessage=function(e){this.getQQLoginIframeMessage.receive(e)},e.prototype.createQQLoginIframe=function(e,t){var n=document.createElement("iframe");return n.src=t,n.frameBorder="0",n.scrolling="auto",n.width="100%",n.height="100%",n.id="login_frame",n.name="login_frame",e.appendChild(n),n},e.prototype.getIframeMountCheckFn=function(e){var t=e.data,n=e.origin;try{var r=JSON.parse(t);return!(!n.indexOf("xui.ptlogin2.qq.com")||"resize"!==r.action)}catch(o){return!1}},e.prototype.getQQLoginMessageCheckFn=function(e){var t=e.data;return!(!e.origin.indexOf("docs.qq.com")||t!==ro.QQ_LOGIN_SUCCESS)},e}(),wo=function(){this.qqLoginMessage=new Eo},So=function(){function e(){this.getWeworkLoginMessage=new oo(this.getWeworkLoginMessageCheckFn)}return e.prototype.connect=function(){this.getWeworkLoginMessage.connect()},e.prototype.dispose=function(){this.getWeworkLoginMessage.dispose()},e.prototype.getQQLoginSuccessMessage=function(e){this.getWeworkLoginMessage.receive(e)},e.prototype.createQQLoginIframe=function(e,t){var n=document.createElement("iframe");return n.src=t,n.frameBorder="0",n.scrolling="auto",n.width="100%",n.height="100%",n.id="login_frame",n.name="login_frame",e.appendChild(n),n},e.prototype.getWeworkLoginMessageCheckFn=function(e){var t=e.data;return!!(e.origin.indexOf("docs.qq.com")&&"string"===typeof t&&t.indexOf("login wework success")>-1)},e}(),Oo=function(){this.weworkLoginMessage=new So};!function(e){e.ON="ON",e.OFF="OFF"}(_o||(_o={}));var Co,To=function(){function e(e,t){this.emitter=new Vt,this.listenersArray=[],window.BroadcastChannel&&(this.channel=new window.BroadcastChannel(e)),this.messageCheckFn=t}return e.prototype.connect=function(){var e=this;this.connectState!==_o.ON&&(this.connectState=_o.ON,this.emitter.event((function(t){e.listenersArray.forEach((function(e){"function"===typeof e&&e(t)}))})),this.channel.onmessage=this.messageCallback.bind(this))},e.prototype.send=function(e){var t;null===(t=this.channel)||void 0===t||t.postMessage(e)},e.prototype.receive=function(e){this.listenersArray.includes(e)||this.listenersArray.push(e)},e.prototype.dispose=function(){var e;null===(e=this.channel)||void 0===e||e.close()},e.prototype.messageCallback=function(e){var t=!0;this.messageCheckFn&&(t=this.messageCheckFn(e)),t&&this.emitter.fire(e)},e}();!function(e){e.LOGOUT="logout"}(Co||(Co={}));var Ro,Ao=function(){function e(){this.logoutMessage=new To("docMessageCenterChannel",this.logoutMessageCheckFn),this.key=Math.floor(1e9*Math.random())+"_"+ +new Date}return e.prototype.connect=function(){this.logoutMessage.connect()},e.prototype.getLogoutMessage=function(e){this.logoutMessage.receive(e)},e.prototype.sendLogoutMessage=function(e){this.logoutMessage.send({key:this.key,type:Co.LOGOUT,userIndex:e})},e.prototype.logoutMessageCheckFn=function(e){return e.data.key!==this.key},e}(),xo=function(){this.getEnterpriseAccountListMessage=new po,this.switchEnterpriseAccountMessage=new bo,this.qqMessage=new wo,this.weworkMessage=new Oo,this.logoutMessage=new Ao},Io=(0,o.yh)("IMessageDomainService");!function(e){e.QFYF_SUCCESS="login qfyf success",e.QQ_LOGIN_SUCCESS="login qq success",e.QQ_BING_SUCCESS="bind qq success"}(Ro||(Ro={}));var ko,Mo,Do=C+"/wedoc/notifyscope",Po=C+"/wedoc/editnotify",No=function(){function e(){}return e.prototype.getNotifyType=function(e){var t=G(P({},e));return i.networkRequest.post(Do,t)},e.prototype.setNotifyType=function(e){var t=G(P({},e));return i.networkRequest.post(Do,t)},e.prototype.editnotify=function(e){var t=G(P({},e));return i.networkRequest.post(Po,t)},e}(),Lo=function(e){function t(t){var n=e.call(this)||this;return n.notifyType=0,n.jsonObj2Class(t),n}return D(t,e),t}(z),jo="mOnNotifyInfoDidUpdated",Uo="notifyInfo",Fo=function(e){function t(t){var n=e.call(this,t)||this;return n.mOnNotifyInfoDidUpdated=new Vt,n.notifyScopeRepository=new No,n.onNotifyInfoDidUpdated=n.mOnNotifyInfoDidUpdated.event,n}var n;return D(t,e),t.prototype.getNotifyType=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.notifyScopeRepository.getNotifyType(e)]}))}))},t.prototype.setNotifyType=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){return[2,this.notifyScopeRepository.setNotifyType(e)]}))}))},t.prototype.editnotify=function(e){return this.notifyScopeRepository.editnotify(e)},t.prototype.setNotifyTypeWithParams=function(e){!e||e.length<1||(this.notifyInfo=new Lo({notifyType:e[0].notifyType}))},N([te(jo,Uo),ne(Lo.prototype.constructor,Uo),oe(),se(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],t.prototype,"getNotifyType",null),N([te(jo,Uo),(n="setNotifyTypeWithParams",function(e,t,r){Y.debug("parseResBody|"+e.constructor.name+"|"+t);var o=r.value;r.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return U(this,void 0,void 0,(function(){var t;return F(this,(function(r){switch(r.label){case 0:return[4,o.apply(this,e)];case 1:return(t=r.sent()).error||this[n](e),[2,t]}}))}))}}),se(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],t.prototype,"setNotifyType",null),N([oe(),se(),X(),ie(),j("design:type",Function),j("design:paramtypes",[Object]),j("design:returntype",Promise)],t.prototype,"editnotify",null),t}(le),Wo=function(){this.notifyScopeAggregate=new Fo("mainINotifyScope")},qo=(0,o.yh)("INotifyScopeDomainService");!function(e){e[e.set=1]="set",e[e.get=2]="get"}(ko||(ko={})),function(e){e[e.none=0]="none",e[e.allNotify=1]="allNotify",e[e.relatedToMe=2]="relatedToMe"}(Mo||(Mo={}));var Bo=A+"mention/mention_add",Qo=A+"mention/mention_del",Vo=A+"mention/get_doc_mention_list",Go=A+"mention/get_my_mention_list",Ko=A+"mention/mention_read_report",Ho=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequestService=t}return e.prototype.getDocMentionList=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){switch(n.label){case 0:return e=G({globalPadId:this.globalPadId,xsrf:p(r.xsrf)}),t=""+Vo,[4,this.networkRequestService.instance.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getMyMentionList=function(){return U(this,void 0,void 0,(function(){var e,t;return F(this,(function(n){switch(n.label){case 0:return e=G({globalPadId:this.globalPadId,xsrf:p(r.xsrf)}),t=""+Go,[4,this.networkRequestService.instance.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteMention=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){switch(o.label){case 0:return t=G({globalPadId:this.globalPadId,mentions:JSON.stringify(e),xsrf:p(r.xsrf)}),n=""+Qo,[4,this.networkRequestService.instance.post(n,t)];case 1:return[2,o.sent()]}}))}))},e.prototype.addMention=function(e,t){return U(this,void 0,void 0,(function(){var n,o;return F(this,(function(i){switch(i.label){case 0:return n=G({globalPadId:this.globalPadId,mentions:JSON.stringify(e),vfwebqq:t,xsrf:p(r.xsrf)}),o=""+Bo,[4,this.networkRequestService.instance.post(o,n)];case 1:return[2,i.sent()]}}))}))},e.prototype.mentionReadReport=function(e){return U(this,void 0,void 0,(function(){var t,n;return F(this,(function(o){switch(o.label){case 0:return t=G({globalPadId:this.globalPadId,mentions:JSON.stringify(e),xsrf:p(r.xsrf)}),n=""+Ko,[4,this.networkRequestService.instance.post(n,t)];case 1:return[2,o.sent()]}}))}))},Object.defineProperty(e.prototype,"globalPadId",{get:function(){var e=this.docMetaDomainService.docMetaEntity.padInfo.padId;return K(this.docMetaDomainService.docMetaEntity.padInfo.domainId,e)},enumerable:!1,configurable:!0}),e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),zo=function(e){function t(t){var n=e.call(this)||this;return n.anchorId="",n.mentionId="",n.mentionType=0,n.notify=0,n.read=!1,n.targetId="",n.sender={},n.mentionedUser={},n.jsonObj2Class(t),n}return D(t,e),t}(z),Yo=function(e){function t(t){var n=e.call(this)||this;return n.anchorId="",n.mentionId="",n.mentionType=0,n.notify=0,n.targetId="",n.read=!1,n.mentionFrom={},n.mentionTo={},n.jsonObj2Class(t),n}return D(t,e),t}(z),$o="mentions",Jo=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.docMetaDomainService=n,o.networkRequestService=r,o.atMeUserList=[],o.atUserList=[],o.onAtUserListUpdatedEmitter=new Vt,o.onAtMeUserListUpdatedEmitter=new Vt,o.onAtUserListUpdated=o.onAtUserListUpdatedEmitter.event,o.onAtMeUserListUpdated=o.onAtMeUserListUpdatedEmitter.event,o.atMessageRepository=new Ho(n,r),o}var n,r,o,i;return D(t,e),t.prototype.getDocMentionList=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.atMessageRepository.getDocMentionList()];case 1:return[2,e.sent()]}}))}))},t.prototype.getMyMentionList=function(){return U(this,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.atMessageRepository.getMyMentionList()];case 1:return[2,e.sent()]}}))}))},t.prototype.addMention=function(e){return U(this,void 0,void 0,(function(){var t;return F(this,(function(n){switch(n.label){case 0:return t=l("vfwebqq")||"",[4,this.atMessageRepository.addMention(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.deleteMention=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.atMessageRepository.deleteMention(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.clearMentionMarks=function(e){return U(this,void 0,void 0,(function(){return F(this,(function(t){switch(t.label){case 0:return[4,this.atMessageRepository.mentionReadReport(e)];case 1:return[2,t.sent()]}}))}))},N([(n=zo.prototype.constructor,r="atUserList",o="result",i=$o,function(e,t,s){Y.debug("parseArrayDataInObject|"+e.constructor.name+"|"+t);var u=s.value;s.value=function(){for(var e,t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return U(this,void 0,void 0,(function(){var s,a,c=this;return F(this,(function(f){switch(f.label){case 0:return[4,u.apply(this,t)];case 1:return(s=f.sent()).error?[2,s]:(this.aggregateVersion=this.aggregateVersion+1,null===(a=(null===(e=s.resData.data[o])||void 0===e?void 0:e[i])||[])||void 0===a||a.forEach((function(e){c[r].push(ee(n,e))})),[2,{resData:P(P({},s.resData),{data:this[r]})}])}}))}))}}),oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],t.prototype,"getDocMentionList",null),N([re(Yo.prototype.constructor,"atMeUserList",$o),oe(),X(),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],t.prototype,"getMyMentionList",null),N([X(),j("design:type",Function),j("design:paramtypes",[Array]),j("design:returntype",Promise)],t.prototype,"addMention",null),N([X(),j("design:type",Function),j("design:paramtypes",[Array]),j("design:returntype",Promise)],t.prototype,"deleteMention",null),N([X(),j("design:type",Function),j("design:paramtypes",[Array]),j("design:returntype",Promise)],t.prototype,"clearMentionMarks",null),t=N([L(1,Ct),L(2,x),j("design:paramtypes",[String,Object,Object])],t)}(le),Xo=function(){function e(e,t){this.docMetaDomainService=e,this.networkRequest=t,this.atMessageAggregate=new Jo("mainAtMessageAggregate",e,t)}return e.prototype.updateWithClientVars=function(e){this.docMetaDomainService.updateWithClientVars(e)},e=N([L(0,Ct),L(1,x),j("design:paramtypes",[Object,Object])],e)}(),Zo=(0,o.yh)("IAtMessageDomainService")},"../node_modules/@tencent/ark-extensions/lib/index.js":function(e,t,n){n.r(t),n.d(t,{DependentServiceCombinder:function(){return Cn},EventTarget:function(){return Jt},EventType:function(){return Xt},ExtensionConfigManager:function(){return kn},ExtensionEvent:function(){return wn},ExtensionManager:function(){return vn},ExtensionService:function(){return xn},FCModule:function(){return zn},IDependentServiceCombinder:function(){return Tn},IExtensionConfigManager:function(){return An},IExtensionEvent:function(){return Sn},IExtensionManager:function(){return yn},IExtensionService:function(){return In},LoadType:function(){return Kt},ScriptLoaderAdapter:function(){return Kn},createExtensionService:function(){return Wn},initInstantiationService:function(){return Vn},injectExtensionServiceToCollection:function(){return Qn},patchScriptLoader:function(){return Hn},registerExtensionService:function(){return Bn}});var r=n("../node_modules/@tencent/containerized/build/main/index.js"),o=n("../node_modules/@tencent/dispose-tree/build/main/index.js"),i=n("../node_modules/@tencent/idle-loader/lib/index.esm.js"),s=n("../node_modules/@tencent/ark-application/lib/index.js"),u=n("../node_modules/@tencent/ark-domain/lib/index.js"),a=n("../node_modules/@tencent/ark-request/lib/index.js"),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function f(e){var t={exports:{}};return e(t,t.exports),t.exports}var l,p,d=function(e){return e&&e.Math==Math&&e},h=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof c&&c)||function(){return this}()||Function("return this")(),g=function(e){try{return!!e()}catch(t){return!0}},v=!g((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=!g((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),m=Function.prototype.call,b=y?m.bind(m):function(){return m.apply(m,arguments)},_={}.propertyIsEnumerable,E=Object.getOwnPropertyDescriptor,w={f:E&&!_.call({1:2},1)?function(e){var t=E(this,e);return!!t&&t.enumerable}:_},S=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},O=Function.prototype,C=O.bind,T=O.call,R=y&&C.bind(T,T),A=y?function(e){return e&&R(e)}:function(e){return e&&function(){return T.apply(e,arguments)}},x=A({}.toString),I=A("".slice),k=h.Object,M=A("".split),D=g((function(){return!k("z").propertyIsEnumerable(0)}))?function(e){return"String"==function(e){return I(x(e),8,-1)}(e)?M(e,""):k(e)}:k,P=h.TypeError,N=function(e){if(void 0==e)throw P("Can't call method on "+e);return e},L=function(e){return D(N(e))},j=function(e){return"function"==typeof e},U=function(e){return"object"==typeof e?null!==e:j(e)},F=function(e){return j(e)?e:void 0},W=function(e,t){return arguments.length<2?F(h[e]):h[e]&&h[e][t]},q=A({}.isPrototypeOf),B=W("navigator","userAgent")||"",Q=h.process,V=h.Deno,G=Q&&Q.versions||V&&V.version,K=G&&G.v8;K&&(p=(l=K.split("."))[0]>0&&l[0]<4?1:+(l[0]+l[1])),!p&&B&&(!(l=B.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=B.match(/Chrome\/(\d+)/))&&(p=+l[1]);var H=p,z=!!Object.getOwnPropertySymbols&&!g((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&H&&H<41})),Y=z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$=h.Object,J=Y?function(e){return"symbol"==typeof e}:function(e){var t=W("Symbol");return j(t)&&q(t.prototype,$(e))},X=h.String,Z=h.TypeError,ee=function(e){if(j(e))return e;throw Z(function(e){try{return X(e)}catch(t){return"Object"}}(e)+" is not a function")},te=h.TypeError,ne=Object.defineProperty,re=function(e,t){try{ne(h,e,{value:t,configurable:!0,writable:!0})}catch(n){h[e]=t}return t},oe="__core-js_shared__",ie=h[oe]||re(oe,{}),se=f((function(e){(e.exports=function(e,t){return ie[e]||(ie[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),ue=h.Object,ae=A({}.hasOwnProperty),ce=Object.hasOwn||function(e,t){return ae(ue(N(e)),t)},fe=0,le=Math.random(),pe=A(1..toString),de=function(e){return"Symbol("+(void 0===e?"":e)+")_"+pe(++fe+le,36)},he=se("wks"),ge=h.Symbol,ve=ge&&ge.for,ye=Y?ge:ge&&ge.withoutSetter||de,me=h.TypeError,be=function(e){if(!ce(he,e)||!z&&"string"!=typeof he[e]){var t="Symbol."+e;z&&ce(ge,e)?he[e]=ge[e]:he[e]=Y&&ve?ve(t):ye(t)}return he[e]}("toPrimitive"),_e=function(e,t){if(!U(e)||J(e))return e;var n,r=function(e,t){var n=e[t];return null==n?void 0:ee(n)}(e,be);if(r){if(void 0===t&&(t="default"),n=b(r,e,t),!U(n)||J(n))return n;throw me("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&j(n=e.toString)&&!U(r=b(n,e)))return r;if(j(n=e.valueOf)&&!U(r=b(n,e)))return r;if("string"!==t&&j(n=e.toString)&&!U(r=b(n,e)))return r;throw te("Can't convert object to primitive value")}(e,t)},Ee=function(e){var t=_e(e,"string");return J(t)?t:t+""},we=h.document,Se=U(we)&&U(we.createElement),Oe=!v&&!g((function(){return 7!=Object.defineProperty((e="div",Se?we.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),Ce=Object.getOwnPropertyDescriptor,Te={f:v?Ce:function(e,t){if(e=L(e),t=Ee(t),Oe)try{return Ce(e,t)}catch(n){}if(ce(e,t))return S(!b(w.f,e,t),e[t])}},Re=v&&g((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ae=h.String,xe=h.TypeError,Ie=function(e){if(U(e))return e;throw xe(Ae(e)+" is not an object")},ke=h.TypeError,Me=Object.defineProperty,De=Object.getOwnPropertyDescriptor,Pe="enumerable",Ne="configurable",Le="writable",je={f:v?Re?function(e,t,n){if(Ie(e),t=Ee(t),Ie(n),"function"===typeof e&&"prototype"===t&&"value"in n&&Le in n&&!n.writable){var r=De(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:Ne in n?n.configurable:r.configurable,enumerable:Pe in n?n.enumerable:r.enumerable,writable:!1})}return Me(e,t,n)}:Me:function(e,t,n){if(Ie(e),t=Ee(t),Ie(n),Oe)try{return Me(e,t,n)}catch(r){}if("get"in n||"set"in n)throw ke("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ue=v?function(e,t,n){return je.f(e,t,S(1,n))}:function(e,t,n){return e[t]=n,e},Fe=A(Function.toString);j(ie.inspectSource)||(ie.inspectSource=function(e){return Fe(e)});var We,qe,Be,Qe,Ve=ie.inspectSource,Ge=h.WeakMap,Ke=j(Ge)&&/native code/.test(Ve(Ge)),He=se("keys"),ze={},Ye="Object already initialized",$e=h.TypeError,Je=h.WeakMap;if(Ke||ie.state){var Xe=ie.state||(ie.state=new Je),Ze=A(Xe.get),et=A(Xe.has),tt=A(Xe.set);We=function(e,t){if(et(Xe,e))throw new $e(Ye);return t.facade=e,tt(Xe,e,t),t},qe=function(e){return Ze(Xe,e)||{}},Be=function(e){return et(Xe,e)}}else{var nt=He[Qe="state"]||(He[Qe]=de(Qe));ze[nt]=!0,We=function(e,t){if(ce(e,nt))throw new $e(Ye);return t.facade=e,Ue(e,nt,t),t},qe=function(e){return ce(e,nt)?e[nt]:{}},Be=function(e){return ce(e,nt)}}var rt={set:We,get:qe,has:Be,enforce:function(e){return Be(e)?qe(e):We(e,{})},getterFor:function(e){return function(t){var n;if(!U(t)||(n=qe(t)).type!==e)throw $e("Incompatible receiver, "+e+" required");return n}}},ot=Function.prototype,it=v&&Object.getOwnPropertyDescriptor,st=ce(ot,"name"),ut={EXISTS:st,PROPER:st&&"something"===function(){}.name,CONFIGURABLE:st&&(!v||v&&it(ot,"name").configurable)},at=f((function(e){var t=ut.CONFIGURABLE,n=rt.get,r=rt.enforce,o=String(String).split("String");(e.exports=function(e,n,i,s){var u,a=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet,l=s&&void 0!==s.name?s.name:n;j(i)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ce(i,"name")||t&&i.name!==l)&&Ue(i,"name",l),(u=r(i)).source||(u.source=o.join("string"==typeof l?l:""))),e!==h?(a?!f&&e[n]&&(c=!0):delete e[n],c?e[n]=i:Ue(e,n,i)):c?e[n]=i:re(n,i)})(Function.prototype,"toString",(function(){return j(this)&&n(this).source||Ve(this)}))})),ct=Math.ceil,ft=Math.floor,lt=function(e){var t=+e;return t!==t||0===t?0:(t>0?ft:ct)(t)},pt=Math.max,dt=Math.min,ht=Math.min,gt=function(e){return(t=e.length)>0?ht(lt(t),9007199254740991):0;var t},vt=function(e){return function(t,n,r){var o,i=L(t),s=gt(i),u=function(e,t){var n=lt(e);return n<0?pt(n+t,0):dt(n,t)}(r,s);if(e&&n!=n){for(;s>u;)if((o=i[u++])!=o)return!0}else for(;s>u;u++)if((e||u in i)&&i[u]===n)return e||u||0;return!e&&-1}},yt=(vt(!0),vt(!1)),mt=A([].push),bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),_t=Object.getOwnPropertyNames||function(e){return function(e,t){var n,r=L(e),o=0,i=[];for(n in r)!ce(ze,n)&&ce(r,n)&&mt(i,n);for(;t.length>o;)ce(r,n=t[o++])&&(~yt(i,n)||mt(i,n));return i}(e,bt)},Et={f:_t},wt={f:Object.getOwnPropertySymbols},St=A([].concat),Ot=W("Reflect","ownKeys")||function(e){var t=Et.f(Ie(e)),n=wt.f;return n?St(t,n(e)):t},Ct=function(e,t,n){for(var r=Ot(t),o=je.f,i=Te.f,s=0;s<r.length;s++){var u=r[s];ce(e,u)||n&&ce(n,u)||o(e,u,i(t,u))}},Tt=/#|\.prototype\./,Rt=function(e,t){var n=xt[At(e)];return n==kt||n!=It&&(j(t)?g(t):!!t)},At=Rt.normalize=function(e){return String(e).replace(Tt,".").toLowerCase()},xt=Rt.data={},It=Rt.NATIVE="N",kt=Rt.POLYFILL="P",Mt=Rt,Dt=Te.f;!function(e,t){var n,r,o,i,s,u=e.target,a=e.global,c=e.stat;if(n=a?h:c?h[u]||re(u,{}):(h[u]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(s=Dt(n,r))&&s.value:n[r],!Mt(a?r:u+(c?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ct(i,o)}(e.sham||o&&o.sham)&&Ue(i,"sham",!0),at(n,r,i,e)}}({global:!0},{globalThis:h});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Pt=function(e,t){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Pt(e,t)};function Nt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Pt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lt.apply(this,arguments)};function jt(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Ut(e,t){return function(n,r){t(n,r,e)}}function Ft(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function Wt(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))}function qt(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Bt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qt(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Vt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Bt(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}var Gt,Kt,Ht,zt=f((function(e,t){function n(e,t,n,r){var i={};return function(s){if(!i[s]){var u={},a=[],c=[];for(c.push({node:s,processed:!1});c.length>0;){var f=c[c.length-1],l=f.processed,p=f.node;if(l)c.pop(),a.pop(),u[p]=!1,i[p]=!0,t&&0!==e[p].length||n.push(p);else{if(i[p]){c.pop();continue}if(u[p]){if(r){c.pop();continue}throw a.push(p),new o(a)}u[p]=!0,a.push(p);for(var d=e[p],h=d.length-1;h>=0;h--)c.push({node:d[h],processed:!1});f.processed=!0}}}}}var r=t.DepGraph=function(e){this.nodes={},this.outgoingEdges={},this.incomingEdges={},this.circular=e&&!!e.circular};r.prototype={size:function(){return Object.keys(this.nodes).length},addNode:function(e,t){this.hasNode(e)||(this.nodes[e]=2===arguments.length?t:e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])},removeNode:function(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach((function(t){Object.keys(t).forEach((function(n){var r=t[n].indexOf(e);r>=0&&t[n].splice(r,1)}),this)})))},hasNode:function(e){return this.nodes.hasOwnProperty(e)},getNodeData:function(e){if(this.hasNode(e))return this.nodes[e];throw new Error("Node does not exist: "+e)},setNodeData:function(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);this.nodes[e]=t},addDependency:function(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);if(!this.hasNode(t))throw new Error("Node does not exist: "+t);return-1===this.outgoingEdges[e].indexOf(t)&&this.outgoingEdges[e].push(t),-1===this.incomingEdges[t].indexOf(e)&&this.incomingEdges[t].push(e),!0},removeDependency:function(e,t){var n;this.hasNode(e)&&(n=this.outgoingEdges[e].indexOf(t))>=0&&this.outgoingEdges[e].splice(n,1),this.hasNode(t)&&(n=this.incomingEdges[t].indexOf(e))>=0&&this.incomingEdges[t].splice(n,1)},clone:function(){var e=this,t=new r;return Object.keys(e.nodes).forEach((function(n){t.nodes[n]=e.nodes[n],t.outgoingEdges[n]=e.outgoingEdges[n].slice(0),t.incomingEdges[n]=e.incomingEdges[n].slice(0)})),t},directDependenciesOf:function(e){if(this.hasNode(e))return this.outgoingEdges[e].slice(0);throw new Error("Node does not exist: "+e)},directDependantsOf:function(e){if(this.hasNode(e))return this.incomingEdges[e].slice(0);throw new Error("Node does not exist: "+e)},dependenciesOf:function(e,t){if(this.hasNode(e)){var r=[];n(this.outgoingEdges,t,r,this.circular)(e);var o=r.indexOf(e);return o>=0&&r.splice(o,1),r}throw new Error("Node does not exist: "+e)},dependantsOf:function(e,t){if(this.hasNode(e)){var r=[];n(this.incomingEdges,t,r,this.circular)(e);var o=r.indexOf(e);return o>=0&&r.splice(o,1),r}throw new Error("Node does not exist: "+e)},overallOrder:function(e){var t=this,r=[],o=Object.keys(this.nodes);if(0===o.length)return r;if(!this.circular){var i=n(this.outgoingEdges,!1,[],this.circular);o.forEach((function(e){i(e)}))}var s=n(this.outgoingEdges,e,r,this.circular);return o.filter((function(e){return 0===t.incomingEdges[e].length})).forEach((function(e){s(e)})),this.circular&&o.filter((function(e){return-1===r.indexOf(e)})).forEach((function(e){s(e)})),r},entryNodes:function(){var e=this;return Object.keys(this.nodes).filter((function(t){return 0===e.incomingEdges[t].length}))}},r.prototype.directDependentsOf=r.prototype.directDependantsOf,r.prototype.dependentsOf=r.prototype.dependantsOf;var o=t.DepGraphCycleError=function(e){var t="Dependency Cycle Found: "+e.join(" -> "),n=new Error(t);return n.cyclePath=e,Object.setPrototypeOf(n,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(n,o),n};o.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(o,Error)})),Yt=(0,r.yh)("IMetadataLoader");!function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.ERROR="ERROR"}(Gt||(Gt={})),function(e){e[e.IDLE=1]="IDLE",e[e.ON_DEMAND=3]="ON_DEMAND",e[e.EAGER=7]="EAGER"}(Kt||(Kt={})),function(e){e.WAITING="waiting",e.LOADING="loading",e.ERROR="error",e.SUCCESS="success"}(Ht||(Ht={}));var $t,Jt,Xt,Zt=function(e){function t(t){var n="(Extension Error) ".concat(t);return e.call(this,n)||this}return Nt(t,e),t}(Error),en=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),tn=function(){function e(){this.first=en.Undefined,this.last=en.Undefined,this.mSize=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.first===en.Undefined},e.prototype.clear=function(){this.first=en.Undefined,this.last=en.Undefined,this.mSize=0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.shift=function(){if(this.first!==en.Undefined){var e=this.first.element;return this.remove(this.first),e}},e.prototype.pop=function(){if(this.last!==en.Undefined){var e=this.last.element;return this.remove(this.last),e}},e.prototype[Symbol.iterator]=function(){var e;return qt(this,(function(t){switch(t.label){case 0:e=this.first,t.label=1;case 1:return e===en.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.insert=function(e,t){var n=this,r=new en(e);if(this.first===en.Undefined)this.first=r,this.last=r;else if(t){var o=this.last;this.last=r,r.prev=o,o.next=r}else{var i=this.first;this.first=r,r.next=i,i.prev=r}this.mSize+=1;var s=!1;return function(){s||(s=!0,n.remove(r))}},e.prototype.remove=function(e){if(e.prev!==en.Undefined&&e.next!==en.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===en.Undefined&&e.next===en.Undefined?(this.first=en.Undefined,this.last=en.Undefined):e.next===en.Undefined?(this.last=this.last.prev,this.last.next=en.Undefined):e.prev===en.Undefined&&(this.first=this.first.next,this.first.prev=en.Undefined);this.mSize-=1},e}(),nn=function(){function e(e){this.disposed=!1,this.options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this.mEvent||(this.mEvent=function(t,n,r){var i,s,u;e.listeners||(e.listeners=new tn);var a=e.listeners.isEmpty();a&&(null===(i=e.options)||void 0===i?void 0:i.onFirstListenerAdd)&&e.options.onFirstListenerAdd(e);var c=e.listeners.push(n?[t,n]:t);a&&(null===(s=e.options)||void 0===s?void 0:s.onFirstListenerDidAdd)&&e.options.onFirstListenerDidAdd(e),(null===(u=e.options)||void 0===u?void 0:u.onListenerDidAdd)&&e.options.onListenerDidAdd(e,t,n);var f={dispose:function(){var t;e.disposed||(c(),(null===(t=e.options)||void 0===t?void 0:t.onLastListenerRemove)&&(e.listeners&&!e.listeners.isEmpty()||e.options.onLastListenerRemove(e))),(0,o.markTracked)(f)},disposableId:"event"};return Array.isArray(r)&&r.push(f),(0,o.trackDisposable)(f),f}),this.mEvent},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new tn);try{for(var r=Bt(this.listeners),o=r.next();!o.done;o=r.next()){var i=o.value;this.deliveryQueue.push([i,e])}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}for(;this.deliveryQueue.size>0;){var s=Qt(this.deliveryQueue.shift(),2),u=(i=s[0],s[1]);try{"function"===typeof i?i.call(void 0,u):i[0].call(i[1],u)}catch(c){console.error(c)}}}},e.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},e}(),rn=function(){function e(){this.loadCache=new Map,this.retryCountMap=new Map}return e.prototype.loadScript=function(e,t,n){return Wt(this,void 0,void 0,(function(){var r;return qt(this,(function(o){switch(o.label){case 0:return(r=this.loadCache.get(t))?[3,2]:(this.setRetryCount(e,n),[4,this.defferedLoadModule(e,t)]);case 1:r=o.sent(),this.loadCache.set(t,r),o.label=2;case 2:return[2,r]}}))}))},e.prototype.setRetryCount=function(e,t){this.retryCountMap.set(e,t)},e.prototype.defferedLoadModule=function(e,t){return Wt(this,void 0,void 0,(function(){var n=this;return qt(this,(function(r){return[2,new Promise((function(r,o){n.loadInBrowser(e,t,1,r,o)}))]}))}))},e.prototype.loadInBrowser=function(e,t,r,o,i){var s=this,u=this.buildScriptTag(t,(function(){var t=n.g[e];(null===t||void 0===t?void 0:t.default)?o(t.default):o(null!==t&&void 0!==t?t:{})}),(function(){var n=s.retryCountMap.get(e)||0;r>n?i("failed to load module [".concat(e,"] after [").concat(r-1,"] retry times.")):(document.head.removeChild(u),s.loadInBrowser(e,t,r+1,o,i))}));document.head.appendChild(u)},e.prototype.buildScriptTag=function(e,t,n){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.async=!1,r.crossOrigin="anonymous",r.onload=t,r.onerror=n,r},e}(),on=new rn,sn=function(){function e(t,n,r){var o;this.hookEmitter=new nn,this.loadState=Ht.WAITING,this.entryName=t,this.resourceUrl=n,this.options=r,this.retryTimes=null!==(o=null===r||void 0===r?void 0:r.retryTimes)&&void 0!==o?o:e.defaultRetryTimes,this.setupHooks()}return e.prototype.loadModule=function(){return Wt(this,void 0,void 0,(function(){var t,n;return qt(this,(function(r){switch(r.label){case 0:this.loadState=Ht.LOADING,this.hookEmitter.fire(Gt.LOADING),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.scriptLoader.loadScript(this.entryName,this.resourceUrl,this.retryTimes)];case 2:return t=r.sent(),this.loadState=Ht.SUCCESS,this.hookEmitter.fire(Gt.LOADED),[2,t];case 3:throw n=r.sent(),this.loadState=Ht.ERROR,this.hookEmitter.fire(Gt.ERROR),new Zt(n.message);case 4:return[2]}}))}))},e.prototype.setupHooks=function(){var e=this;this.hookEmitter.event((function(t){var n,r,o=null===(r=null===(n=e.options)||void 0===n?void 0:n.hooks)||void 0===r?void 0:r[t];o&&o()}))},e.defaultRetryTimes=2,e.scriptLoader=on,e}(),un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nt(t,e),t.prototype.getModule=function(){return Wt(this,void 0,void 0,(function(){return qt(this,(function(e){return this.deferredModule=this.loadModule(),[2,this.deferredModule]}))}))},t}(sn),an=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.schedulerHandler=i.scheduler,o.scheduleCallbackTask=o.loadWhenIdle(),o}return Nt(t,e),t.prototype.getModule=function(){return Wt(this,void 0,void 0,(function(){return qt(this,(function(e){return this.loadState===Ht.WAITING||this.loadState===Ht.ERROR?(this.schedulerHandler.cancelTask(this.scheduleCallbackTask),this.deferredModule=this.loadModule(),[2,this.deferredModule]):[2,this.deferredModule]}))}))},t.prototype.loadWhenIdle=function(){var e=this;return this.schedulerHandler.scheduleTask((function(){e.deferredModule=e.loadModule()}))},t}(sn),cn=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.deferredModule=o.loadModule(),o}return Nt(t,e),t.prototype.getModule=function(){return Wt(this,void 0,void 0,(function(){return qt(this,(function(e){return[2,this.deferredModule]}))}))},t}(sn),fn=(($t={})[Kt.ON_DEMAND]=un,$t[Kt.IDLE]=an,$t[Kt.EAGER]=cn,$t),ln=function(){function e(e,t,n,r){this.name=e,this.url=t,this.surpportLanguages=n,this.language=r,this.loadTypeMap=new Map}return e.prototype.bootstrap=function(e){var t;void 0===e&&(e="");var n=null!==(t=this.loadTypeMap.get(e))&&void 0!==t?t:Kt.IDLE;this.loader=this.createLoader(n)},e.prototype.addLoadType=function(e,t){this.loadTypeMap.set(null!==e&&void 0!==e?e:"",t)},e.prototype.getInstance=function(){return Wt(this,void 0,void 0,(function(){var e;return qt(this,(function(t){switch(t.label){case 0:if(this.loader||this.bootstrap(),this.loader.loadState===Ht.ERROR)throw new Zt("load extension [".concat(this.name,"] error."));return void 0!==this.instance?[3,2]:[4,this.loader.getModule()];case 1:if("function"!==typeof(e=t.sent()))throw new Zt("something went wrong in ".concat(this.name,"'s constructor."));this.instance=new e,this.instance.bootstraped=!1,t.label=2;case 2:return[2,this.instance]}}))}))},e.prototype.dealUrlForMultLanguage=function(e){var t,n=Array.isArray(e)?null===e||void 0===e?void 0:e[0]:e,r=null===n||void 0===n?void 0:n.lastIndexOf(".js");return-1===r||(null===(t=this.surpportLanguages)||void 0===t?void 0:t.includes(this.language))&&(n="".concat(n.slice(0,r),".").concat(this.language,".js")),n},e.prototype.createLoader=function(e){return new(0,fn[e])(this.name,this.dealUrlForMultLanguage(this.url))},e}(),pn={React:"//docs.idqqimg.com/tim/docs/components/libs/react-common-16.13.1-2bf240.js",ReactDOM:"//docs.idqqimg.com/tim/docs/components/libs/react-common-16.13.1-2bf240.js"},dn=function(){function e(e){this.name=e}return e.prototype.bootstrap=function(){return Wt(this,void 0,void 0,(function(){var e;return qt(this,(function(t){switch(t.label){case 0:if(!(e=pn[this.name]))throw new Zt("common lib [".concat(this.name,"] is illegal because it's not in white list."));return void 0!==window[this.name]?[3,2]:(this.loader=new cn(this.name,e),[4,this.loader.getModule()]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e}(),hn=function(){function e(e){this.url=e}return e.prototype.bootstrap=function(){return Wt(this,void 0,void 0,(function(){return qt(this,(function(e){switch(e.label){case 0:return this.loader=new cn(this.url,this.url),[4,this.loader.getModule()];case 1:return e.sent(),[2]}}))}))},e}(),gn=function(){function e(){}return e.prototype.bootstrap=function(){throw new Zt("genesis dependency node should not be called")},e.nodeName="GENESIS_DEPENDENCY_NODE",e}(),vn=function(){function e(e){this.metadataLoader=e,this.createDepGraph()}return e.prototype.initExtensionConfig=function(e){return Wt(this,void 0,void 0,(function(){var t;return qt(this,(function(n){switch(n.label){case 0:return this.metadataRecord?[3,2]:(t=this,[4,this.metadataLoader.getMetadataRecord()]);case 1:t.metadataRecord=n.sent(),n.label=2;case 2:return this.language=this.metadataLoader.getLanguage(),this.addDepNodeByConfig(e),[2]}}))}))},e.prototype.addExtensionConfig=function(e){return Wt(this,void 0,void 0,(function(){var t,n=this;return qt(this,(function(r){return e.forEach((function(e){return n.addExtensionDescription(e)})),this.depGraph=new zt.DepGraph,t=new gn,this.depGraph.addNode(gn.nodeName,t),[2]}))}))},e.prototype.addExtensionDescription=function(e){return Wt(this,void 0,void 0,(function(){var t,n,r,o;return qt(this,(function(i){switch(i.label){case 0:return this.metadataRecord?[3,2]:(t=this,[4,this.metadataLoader.getMetadataRecord()]);case 1:t.metadataRecord=i.sent(),i.label=2;case 2:return n=e.name,r=e.loadType,(o=this.addExtensionDependencyNode(n,r)).bootstrap(),[2,o]}}))}))},e.prototype.getInstance=function(e,t){var n,r;return void 0===t&&(t=gn.nodeName),Wt(this,void 0,void 0,(function(){var o,i,s,u,a,c;return qt(this,(function(f){switch(f.label){case 0:if(!this.depGraph.directDependantsOf(e).includes(t))throw new Zt("Cannot get ".concat(e," extension in ").concat(t,", please add configuration !"));o=this.depGraph.getNodeData(e),i=this.depGraph.directDependenciesOf(e),f.label=1;case 1:f.trys.push([1,7,8,13]),s=Vt(i),f.label=2;case 2:return[4,s.next()];case 3:return(u=f.sent()).done?[3,6]:(a=u.value,[4,this.depGraph.getNodeData(a).bootstrap(e)]);case 4:f.sent(),f.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return c=f.sent(),n={error:c},[3,13];case 8:return f.trys.push([8,,11,12]),u&&!u.done&&(r=s.return)?[4,r.call(s)]:[3,10];case 9:f.sent(),f.label=10;case 10:return[3,12];case 11:if(n)throw n.error;return[7];case 12:return[7];case 13:return[4,o.getInstance()];case 14:return[2,f.sent()]}}))}))},e.prototype.getDepGraph=function(){return Wt(this,void 0,void 0,(function(){return qt(this,(function(e){return[2,this.depGraph]}))}))},e.prototype.createDepGraph=function(){this.depGraph=new zt.DepGraph;var e=new gn;this.depGraph.addNode(gn.nodeName,e)},e.prototype.addDepNodeByConfig=function(e){var t=this;e.forEach((function(e){var n=e.name,r=e.loadType;try{var o=t.addExtensionDependencyNode(n,r);t.depGraph.addDependency(gn.nodeName,o.name)}catch(i){console.error(i)}}))},e.prototype.addLibraryDependencyNode=function(e){var t=new dn(e);this.depGraph.addNode(e,t)},e.prototype.addChunkDependencyNode=function(e){var t=new hn(e);this.depGraph.addNode(e,t)},e.prototype.addExtensionDependencyNode=function(e,t,n){var r=this;if(this.depGraph.hasNode(e)){var o=this.depGraph.getNodeData(e);return o.addLoadType(n,t),o}if(!this.metadataRecord[e])throw new Zt("Cannot find ".concat(e," extension in metadata!"));var i=this.metadataRecord[e],s=i.url,u=i.chunks,a=void 0===u?[]:u,c=i.dependencies,f=void 0===c?{}:c,l=i.surpportLanguages,p=void 0===l?[]:l,d=f.commonLibs,h=void 0===d?[]:d,g=f.extensions,v=void 0===g?[]:g,y=new ln(e,s,p,this.language);return y.addLoadType(n,t),this.depGraph.addNode(e,y),a.forEach((function(t){r.addChunkDependencyNode(t),r.depGraph.addDependency(e,t)})),h.forEach((function(t){r.addLibraryDependencyNode(t),r.depGraph.addDependency(e,t)})),v.forEach((function(t){var n;try{var o=null!==(n=Kt[t.loadType.toString()])&&void 0!==n?n:Kt.ON_DEMAND;r.addExtensionDependencyNode(t.name,o,e),r.depGraph.addDependency(e,t.name)}catch(i){console.error(i)}})),y},e=jt([Ut(0,Yt),Ft("design:paramtypes",[Object])],e)}(),yn=(0,r.yh)("IExtensionManager");!function(e){e[e.WINDOW=0]="WINDOW",e[e.DOCUMENT=1]="DOCUMENT",e[e.DOCUMENT_BODY=2]="DOCUMENT_BODY"}(Jt||(Jt={})),function(e){e.RESIZE="resize",e.MOUSE_DOWN="mousedown",e.MOUSE_MOVE="mousemove",e.MOUSE_UP="mouseup",e.KEY_UP="keyup",e.KEY_DOWN="keydown",e.CLICK="click",e.TOUCH_START="touchstart",e.TOUCH_MOVE="touchmove",e.TOUCH_END="touchend",e.POP_STATE="popState",e.VISIBILITY_CHANGE="visibilitychange",e.ONLINE="online",e.OFFLINE="offline",e.MESSAGE="message",e.CUSTOM="custom"}(Xt||(Xt={}));var mn=function(){function e(){this.eventListenerSet=new Set,this.customEventListenerMap=new Map}return e.prototype.listen=function(e){var t=e.type;switch(t){case Xt.RESIZE:case Xt.MOUSE_DOWN:case Xt.MOUSE_MOVE:case Xt.MOUSE_UP:case Xt.KEY_UP:case Xt.KEY_DOWN:case Xt.CLICK:case Xt.TOUCH_START:case Xt.TOUCH_MOVE:case Xt.TOUCH_END:case Xt.POP_STATE:case Xt.VISIBILITY_CHANGE:case Xt.ONLINE:case Xt.OFFLINE:case Xt.MESSAGE:return this.bindEvent(e);case Xt.CUSTOM:return this.bindCustomEvent(e);default:throw new Zt("[".concat(t,"] event is not supported to use in extensions."))}},e.prototype.listenCustomEvent=function(e){return this.bindCustomEvent(e),{name:e.name,fire:this.dispatchCustomEvent.bind(this,e.name)}},e.prototype.dispatchCustomEvent=function(e,t){var n=new CustomEvent(e,{detail:t});this.node.dispatchEvent(n)},e.prototype.remove=function(e){if(!this.eventListenerSet.has(e))throw new Zt("unable to remove [".concat(e.type,"] event which is not in your namespace or not bound."));var t=e.name,n=e.type,r=e.fn,o=e.options;if(n===Xt.CUSTOM)return this.node.removeEventListener(t,r,o),void this.customEventListenerMap.delete(t);this.node.removeEventListener(n,r,o),this.eventListenerSet.delete(e)},e.prototype.removeAll=function(){var e=this;this.eventListenerSet.forEach((function(t){e.remove(t)})),this.customEventListenerMap.forEach((function(t){e.remove(t)}))},e.prototype.bindEvent=function(e){if(this.eventListenerSet.has(e))throw new Zt("duplicated [".concat(e.type,"] event."));var t=e.type,n=e.fn,r=e.options;this.node.addEventListener(t,n,r),this.eventListenerSet.add(e)},e.prototype.bindCustomEvent=function(e){var t=e.name;if(this.customEventListenerMap.has(t))throw new Zt("duplicated [".concat(t,"] event."));var n=t,r=e.fn,o=e.options;this.node.addEventListener(n,r,o),this.customEventListenerMap.set(t,e)},e}(),bn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node=document.body,t}return Nt(t,e),t}(mn),_n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node=document,t}return Nt(t,e),t}(mn),En=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node=window,t}return Nt(t,e),t}(mn),wn=function(){function e(){this.initEventManagerPool()}return e.prototype.addListener=function(e){var t=e.target;return this.eventManagerPool[t].listen(e)},e.prototype.removeListener=function(e){var t=e.target;return this.eventManagerPool[t].remove(e)},e.prototype.removeAllListener=function(){Object.values(this.eventManagerPool).forEach((function(e){e.removeAll()}))},e.prototype.initEventManagerPool=function(){var e,t=new En,n=new _n,r=new bn;this.eventManagerPool=((e={})[Jt.WINDOW]=t,e[Jt.DOCUMENT]=n,e[Jt.DOCUMENT_BODY]=r,e)},e}(),Sn=(0,r.yh)("IExtensionEvent"),On=(0,r.yh)("IExtensionContainerService"),Cn=function(){function e(e,t,n,r,o,i,s,u,a,c,f,l,p,d,h,g,v,y){this.docMetaDomain=e,this.userInfoDomain=t,this.authDomain=n,this.fileDomain=r,this.folderDomain=o,this.templateDomain=i,this.accountDomain=s,this.loginDomain=u,this.notificationDomain=a,this.shareDomain=c,this.messageDomain=f,this.collaborateDomain=l,this.notifyScopeDomain=p,this.atMessageDomain=d,this.connectionControllerService=h,this.accountApplication=g,this.extensionEvent=v,this.extensionContainerService=y}return e.prototype.getExtensionService=function(e,t){return{getExtension:function(n){return e.safeGetExtension.call(e,n,t)},fireExtensionEvent:e.fireExtensionEvent.bind(e,t)}},e.prototype.getDomainService=function(){return{docMetaDomain:this.docMetaDomain,userInfoDomain:this.userInfoDomain,authDomain:this.authDomain,fileDomain:this.fileDomain,folderDomain:this.folderDomain,templateDomain:this.templateDomain,accountDomain:this.accountDomain,loginDomain:this.loginDomain,notificationDomain:this.notificationDomain,shareDomain:this.shareDomain,messageDomain:this.messageDomain,collaborateDomain:this.collaborateDomain,notifyScopeDomain:this.notifyScopeDomain,atMessageDomain:this.atMessageDomain}},e.prototype.getApplicationService=function(){return{accountApplication:this.accountApplication,connectionControllerService:this.connectionControllerService}},e.prototype.getToolService=function(){return{networkRequest:a.networkRequest,event:this.extensionEvent}},e.prototype.getExtensionContainerService=function(e){return{createContainerIfUnspecified:this.extensionContainerService.createContainerIfUnspecified.bind(this.extensionContainerService,e),createSandboxContainerIfUnspecified:this.extensionContainerService.createSandboxContainerIfUnspecified.bind(this.extensionContainerService,e)}},e=jt([Ut(0,u.vx),Ut(1,u.mV),Ut(2,u.iq),Ut(3,u.Gg),Ut(4,u.rJ),Ut(5,u.y4),Ut(6,u.b$),Ut(7,u.CZ),Ut(8,u.YX),Ut(9,u.jR),Ut(10,u.x5),Ut(11,u.UQ),Ut(12,u.YL),Ut(13,u.BE),Ut(14,s.jE),Ut(15,s.aG),Ut(16,Sn),Ut(17,On),Ft("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object,Object])],e)}(),Tn=(0,r.yh)("IDependentServiceCombinder"),Rn=function(){function e(){var e=this;this.isInnerOpen=!1,this.innerPromise=new Promise((function(t){e.completePromise=t}))}return e.prototype.isOpen=function(){return this.isInnerOpen},e.prototype.open=function(){this.isInnerOpen=!0,this.completePromise(!0)},e.prototype.wait=function(){return this.innerPromise},e}(),An=(0,r.yh)("IExtensionConfigManager"),xn=function(){function e(e,t,n,r){this.dependentServiceCombinder=e,this.extensionConfigManager=t,this.extensionManager=n,this.domainUpdater=r,this.extensionEventEmitter=new nn}return e.prototype.updateDomainWithClientVars=function(e,t){void 0===t&&(t=!1),this.domainUpdater.updateDomainWithClientVars(e,t)},e.prototype.scanAndHandleExtensions=function(e){return Wt(this,void 0,void 0,(function(){return qt(this,(function(t){switch(t.label){case 0:return this.extensionConfigReadyBarrier=new Rn,[4,this.extensionConfigManager.initExtensionConfig(e)];case 1:return t.sent(),this.extensionConfigReadyBarrier.open(),[2]}}))}))},e.prototype.addExtensionDescription=function(e){return Wt(this,void 0,void 0,(function(){return qt(this,(function(t){switch(t.label){case 0:return[4,this.extensionConfigManager.addExtensionDescription(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.subscribeExtensionEvent=function(e){this.extensionEventEmitter.event((function(t){e(t.extensionName,t.type)}))},e.prototype.fireExtensionEvent=function(e,t){var n={extensionName:e,type:t};this.extensionEventEmitter.fire(n)},e.prototype.getExtension=function(e){return Wt(this,void 0,void 0,(function(){return qt(this,(function(t){return[2,this.safeGetExtension(e)]}))}))},e.prototype.dispose=function(){throw new Error("Method not implemented.")},e.prototype.disposeAllExtensions=function(){throw new Error("Method not implemented.")},e.prototype.getExtensionConfig=function(){return this.extensionConfigManager.getExtensionConfig()},e.prototype.getExtensionDepGraph=function(){return Wt(this,void 0,void 0,(function(){return qt(this,(function(e){return[2,this.extensionManager.getDepGraph()]}))}))},e.prototype.safeGetExtension=function(e,t){return Wt(this,void 0,void 0,(function(){var n;return qt(this,(function(r){switch(r.label){case 0:return[4,this.extensionConfigReadyBarrier.wait()];case 1:return r.sent(),[4,this.extensionManager.getInstance(e,t)];case 2:return n=r.sent(),this.bootstrapExtension(e,n),[2,n]}}))}))},e.prototype.bootstrapExtension=function(e,t){if(!t.bootstraped){var n=this.dependentServiceCombinder.getExtensionService(this,e),r=this.dependentServiceCombinder.getDomainService(),o=this.dependentServiceCombinder.getApplicationService(),i=this.dependentServiceCombinder.getToolService(),s=this.dependentServiceCombinder.getExtensionContainerService(e),u=this.extensionConfigManager.findExtensionDescription(e),a=null===u||void 0===u?void 0:u.containerId,c=this.getContainer(a);t.bootstrap({extensionService:n,domainService:r,toolService:i,applicationService:o,containerService:s,extensionName:e,container:c}),t.bootstraped=!0}},e.prototype.getContainer=function(e){var t=null;return e&&(t=document.getElementById(e)),t},e=jt([Ut(0,Tn),Ut(1,An),Ut(2,yn),Ut(3,u.eT),Ft("design:paramtypes",[Object,Object,Object,Object])],e)}(),In=(0,r.yh)("IExtensionService"),kn=function(){function e(e){this.extensionManager=e}return e.prototype.initExtensionConfig=function(e){return Wt(this,void 0,void 0,(function(){return qt(this,(function(t){switch(t.label){case 0:return this.extensionConfig=e,[4,this.extensionManager.initExtensionConfig(this.extensionConfig)];case 1:return t.sent(),[2]}}))}))},e.prototype.addExtensionConfig=function(e){return Wt(this,void 0,void 0,(function(){return qt(this,(function(t){switch(t.label){case 0:return this.extensionConfig=this.extensionConfig.concat(e),[4,this.extensionManager.addExtensionConfig(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.addExtensionDescription=function(e){return Wt(this,void 0,void 0,(function(){return qt(this,(function(t){switch(t.label){case 0:return this.assertNoDuplicatedDescription(e),this.extensionConfig.push(e),[4,this.extensionManager.addExtensionDescription(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.getExtensionConfig=function(){return this.extensionConfig},e.prototype.findExtensionDescription=function(e){return this.extensionConfig.find((function(t){return t.name===e}))},e.prototype.iterateExtensionConfig=function(e){this.extensionConfig.forEach(e)},e.prototype.assertNoDuplicatedDescription=function(e){if(this.extensionConfig.find((function(t){return t.name===e.name})))throw new Zt("duplicated extension config of ".concat(e.name,"."))},e=jt([Ut(0,yn),Ft("design:paramtypes",[Object])],e)}(),Mn=Symbol.for("__META_REQUEST_CACHE__"),Dn=window.location,Pn=Dn.protocol,Nn=Dn.host,Ln="".concat(Pn,"//").concat(Nn,"/components/docs/metadata{{specifiedVersionKey}}.json?t={{time}}"),jn=function(){function e(e){var t,n;this.METADATA_URL=Ln,this.COMPONENT_CDN_PREFIX=null!==(t=e.componentCdnPrefix)&&void 0!==t?t:"//docs.gtimg.com/docs_components",this.specifiedVersionKey=e.specifiedVersion?".v".concat(e.specifiedVersion):"",this.language=null!==(n=e.language)&&void 0!==n?n:""}return Object.defineProperty(e.prototype,"metadataRequestCacheMap",{get:function(){return void 0===globalThis[Mn]&&(globalThis[Mn]=new Map),globalThis[Mn]},enumerable:!1,configurable:!0}),e.prototype.getMetadataRecord=function(){return Wt(this,void 0,void 0,(function(){var e,t;return qt(this,(function(n){switch(n.label){case 0:return e=this.metadataRequestCacheMap.has(this.specifiedVersionKey),t=e?this.metadataRequestCacheMap.get(this.specifiedVersionKey):this.requestMetadataRecord(),e||this.metadataRequestCacheMap.set(this.specifiedVersionKey,t),[4,t];case 1:return[2,n.sent()]}}))}))},e.prototype.getLanguage=function(){return this.language},e.prototype.requestMetadataRecord=function(){return Wt(this,void 0,void 0,(function(){var e,t,n,r,o,i=this;return qt(this,(function(s){switch(s.label){case 0:return e=this.METADATA_URL.replace("{{specifiedVersionKey}}",this.specifiedVersionKey).replace("{{time}}",Date.now().toString()),[4,a.networkRequest.get(e)];case 1:if(!(t=s.sent()).data)throw new Zt("request metadata error, error code: [".concat(t.status,"]."));return n=t.data,r=void 0===n?[]:n,o=Object.values(r).reduce((function(e,t){var n;return Lt(Lt({},e),((n={})[t.name]=Lt(Lt({},t),{url:i.getMetadataUrl(t)}),n))}),{}),[2,o]}}))}))},e.prototype.getMetadataUrl=function(e){var t=this;return Array.isArray(e.url)?e.url.map((function(e){return"".concat(t.COMPONENT_CDN_PREFIX,"/").concat(e)})):["".concat(this.COMPONENT_CDN_PREFIX,"/").concat(e.url)]},e}(),Un=function(){function e(){this.containerCollectionId="__unspesified_extension_container_collection__"}return e.prototype.createContainerIfUnspecified=function(e){this.unspecifiedContainerCollection=this.getUnspecifiedContainerCollection();var t=document.createElement("div");return t.setAttribute("id",e),this.unspecifiedContainerCollection.appendChild(t),t},e.prototype.createSandboxContainerIfUnspecified=function(){throw new Error("Method not implemented.")},e.prototype.getUnspecifiedContainerCollection=function(){var e=document.getElementById(this.containerCollectionId);return e||((e=document.createElement("div")).setAttribute("id",this.containerCollectionId),document.body.appendChild(e)),e},e}(),Fn="__ARK_EXTENSION_INSTANTIATION_SERVICE__";function Wn(e){void 0===e&&(e={});var t=globalThis[Fn];if(t)return qn(t);var n=new r.o5,o=new r.yk,i={serviceRegister:n,serviceCollection:o};Bn(i,e),Qn(i);var s=Vn(o);return globalThis[Fn]=s,qn(s)}function qn(e){return e.invokeFunction((function(e){return e.get(In)}))}function Bn(e,t){void 0===t&&(t={}),function(e,t){var n;void 0===t&&(t={});var r=e.serviceRegister;r.register(In,xn),r.register(An,kn),r.register(Yt,jn,[null!==(n=t.metadataLoaderOptions||t.metadataLoader)&&void 0!==n?n:{}]),r.register(yn,vn)}(e,t),function(e){var t=e.serviceRegister;t.register(u.eT,u.d_),t.register(u._g,u.Lq),t.register(u.iq,u.n7),t.register(u.YX,u.ed),t.register(u.jR,u.dn),t.register(u.UQ,u.u$),t.register(u.b$,u.DS),t.register(u.vx,u.Ls),t.register(u.mV,u.$g),t.register(u.Gg,u.vM),t.register(u.rJ,u.in),t.register(u.y4,u.Yj),t.register(u.CZ,u.gs),t.register(u.x5,u.iJ),t.register(u.YL,u.ly),t.register(u.BE,u.Md),t.register(s.jE,s.y5),t.register(s.aG,s.eU),t.register(Tn,Cn),t.register(Sn,wn),t.register(On,Un)}(e)}function Qn(e){var t=e.serviceRegister,n=e.serviceCollection;t.getServiceDescriptors().forEach((function(e){var t=Qt(e,2),r=t[0],o=t[1];n.set(r,o)}))}function Vn(e){return new r.FS(e)}var Gn=function(){function e(e){return this.scriptLoader=e||window.ScriptLoader||window.SLR,new Proxy(this,{set:function(e,t,n){return void 0!==e.scriptLoader[t]?(e.scriptLoader[t]=n,!0):(e[t]=n,!0)},get:function(e,t){return e[t]?e[t]:e.scriptLoader[t]?"function"===typeof e.scriptLoader[t]?e.scriptLoader[t].bind(e.scriptLoader):e.scriptLoader[t]:void 0}})}return e.prototype.init=function(e,t,n,r){this.scriptLoader.init(e,t,n,r)},e.prototype.load=function(e,t,n,r){this.scriptLoader.load(e,t,n,r)},e.prototype.dispatch=function(e,t){this.scriptLoader.dispatch(e,t)},e.prototype.listen=function(e,t){this.scriptLoader.listen(e,t)},e}(),Kn=function(e){function t(t){var n=e.call(this,t)||this;return n.__adpater__=!0,n.__version__="2.1.2",n.isReady=!1,n.onReadyEmitter=new nn,n.fcModuleMap=new Map,n.extensionService=Wn(),n.domainUpdater=n.extensionService.domainUpdater,n.extensionService.getExtensionConfig()||n.extensionService.scanAndHandleExtensions([]),n.onReady=n.onReadyEmitter.event,n}return Nt(t,e),t.getInstance=function(e){return void 0===t.instance&&(t.instance=new t(e)),t.instance},t.prototype.ready=function(){return Wt(this,void 0,void 0,(function(){var e=this;return qt(this,(function(t){switch(t.label){case 0:return[4,this.updateDomainWithClientVars()];case 1:return t.sent(),setTimeout((function(){e.isReady=!0,e.onReadyEmitter.fire()}),0),[2,this]}}))}))},t.prototype.registerExternalModule=function(e,t){this.fcModuleMap.has(e)||(t.bootstrap(this.extensionService,this),this.fcModuleMap.set(e,t))},t.prototype.loadExternalModule=function(e,t,n){var r=this.fcModuleMap.get(e);void 0!==r?t(r):null===n||void 0===n||n()},t.prototype.load=function(t,n,r,o){var i=this;this.isReady?this.fcModuleMap.has(t)?this.loadExternalModule(t,n,r):e.prototype.load.call(this,t,n,r,o):this.onReady((function(){i.load(t,n,r,o)}))},t.prototype.updateDomainWithClientVars=function(){var e=this;return new Promise((function(t,n){setTimeout((function r(){try{if(!0===window.__DISALBE_AUTO_UPDATE_CLIENT_VARS__)return e.listen("updateDomainWithClientVars",(function(){e.domainUpdater.updateDomainWithClientVars(window.clientVars,!1)})),void t();if(void 0!==window.clientVars)return window.clientVars.padId&&e.domainUpdater.updateDomainWithClientVars(window.clientVars,!1),void t();setTimeout(r,0)}catch(o){n(o)}}),0)}))},t}(Gn);function Hn(e){if(void 0===e&&(e=window.ScriptLoader||window.SLR),void 0===e)throw new Error("window.ScriptLoader OR window.SLR is undefined, use `patchScriptLoader(scriptLoader)` to patch");if(e instanceof Kn||e.__adpater__)return e;var t=Kn.getInstance(e);return window.ScriptLoader=t,window.SLR=t,t}var zn=function(){function e(){}return e.prototype.bootstrap=function(e,t){this.extensionService=e,this.scriptLoader=t},e.prototype.load=function(e){return Wt(this,void 0,void 0,(function(){var t;return qt(this,(function(n){switch(n.label){case 0:return this.extension?[2,this.extension]:[4,this.extensionService.addExtensionDescription({name:this.name,branch:this.branch,containerId:e.id,loadType:Kt.EAGER})];case 1:return n.sent(),t=this,[4,this.extensionService.getExtension(this.name)];case 2:return t.extension=n.sent(),[2,this.extension]}}))}))},e}()},"../node_modules/@tencent/ark-request/lib/index.js":function(e,t,n){n.r(t),n.d(t,{createNativeRequestInstance:function(){return C},nativeRequest:function(){return T},networkRequest:function(){return ye}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i,s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function u(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}function l(e){return void 0===e&&(e=[]),{data:e,status:i.success,statusText:"Success"}}function p(e,t){return void 0===t&&(t=[]),{data:t,status:i.unknown,statusText:e}}!function(e){e[e.unknown=-1]="unknown",e[e.success=200]="success"}(i||(i={}));var d=function(){function e(){this.interceptors=[]}return e.prototype.add=function(e){this.interceptors.push(e)},e.prototype.proceed=function(e){return u(this,void 0,void 0,(function(){var t;return a(this,(function(n){return t=Array.from(this.interceptors),this.fillBuildInInterceptors(t,e),[2,this.dispatch(e,t,0)]}))}))},e.prototype.dispatch=function(e,t,n){var r=this;if(n>=t.length){var o=l();return Promise.resolve(o)}return t[n].intercept((function(){return r.dispatch(e,t,n+1)}),e)},e}(),h=function(){function e(){var e,t;this.canUseNativeAndroid=(null===(e=n.g.mqq)||void 0===e?void 0:e.android)&&(null===(t=n.g._mqqWebViewJSInterface)||void 0===t?void 0:t.invoke),this.currentSeqId=0,this.reqCallbacks=new Map}return e.prototype.JSApiCallback=function(e){var t=this.reqCallbacks.get(e.callbackId);if(!t)throw new Error("TypeError:[ark-reqeust] the reqCallback of response["+e.callbackId+"] can't found!");t.callback(e)},e.prototype.invokeNative=function(e,t,r,o){var i,s=null!==r&&void 0!==r?r:{},u=s.command;if(o){var a=this.createReqSeq();this.reqCallbacks.set(a,{callback:o,command:u,startTime:Date.now()}),s.callbackId=a}this.canUseNativeAndroid?this.invokeNativeAndroid(e,t,s):null===(i=n.g.mqq)||void 0===i||i.invoke(e,t,s)},e.prototype.invokeNativeAndroid=function(e,t,r){var o,i="jsbridge://"+encodeURIComponent(e)+"/"+encodeURIComponent(t);r&&(i+="?p="+encodeURIComponent(JSON.stringify(r))),null===(o=n.g._mqqWebViewJSInterface)||void 0===o||o.invoke(i)},e.prototype.createReqSeq=function(){return this.currentSeqId+=1},e}();n.g.jsApi||(n.g.jsApi=new h,n.g.JSApiCallback||(n.g.JSApiCallback=n.g.jsApi.JSApiCallback.bind(n.g.jsApi)));var g=n.g.jsApi,v=function(){function e(){}return e.prototype.invoke=function(e){return new Promise((function(t,n){if(!e.namespace)throw new Error("jsapi, namespace is null.");var r=e.params||{},o=e.callback?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t(l(e))}:void 0;try{g.invokeNative(e.namespace,e.method,r,o),o||t(l([]))}catch(i){n(p("Error:[ark-request] Jsapi invokeNative fail."))}}))},e}();function y(e){return function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}("Function",e)}var m,b,_=function(){function e(){}return e.prototype.invoke=function(e){return u(this,void 0,void 0,(function(){var t,r;return a(this,(function(o){switch(o.label){case 0:if(!n.g.mqq)throw new Error("UnknownError:[ark-request] mqq channel is undefined.");if(!e.namespace)throw new Error("TypeError:[ark-request] mqq invoke has no namespace!");return t=n.g.mqq[e.namespace],(r=null===t||void 0===t?void 0:t[e.method])&&y(r)?[4,this.innerModuleInvoke(r,e.params,e.callback)]:[3,2];case 1:case 3:return[2,o.sent()];case 2:return[4,this.innerCoreInvoke(n.g.mqq.invoke,e)]}}))}))},e.prototype.innerModuleInvoke=function(e,t,n){return new Promise((function(r,o){var i=[];t&&i.push(t),n&&i.push((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r(l(e))}));try{e.apply(void 0,f(i)),n||r(l([]))}catch(s){o(p("Error:[ark-request] Mqq invoke module fail."))}}))},e.prototype.innerCoreInvoke=function(e,t){return new Promise((function(n,r){try{e(t.namespace,t.method,t.params,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n(l(e))}))}catch(o){r(p("Error:[ark-request] Mqq invoke core["+t.namespace+"."+t.method+"] fail."))}}))},e}();!function(e){e.mqq="mqq",e.jsapi="jsapi"}(b||(b={}));var E={schema:"mqq",channels:(m={},m[b.mqq]=_,m[b.jsapi]=v,m)},w=function(){function e(){}return e.prototype.intercept=function(e,t){return u(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:if(!t.schema)throw Error("TypeError[ark-request]: the schema of request("+t.namespace+"."+t.method+") is undefined.");if(!(e=E.channels[t.schema]))throw Error("TypeError[ark-request]: can't match strategy to handle request("+t.schema+"."+t.namespace+"."+t.method+").");return[4,(new e).invoke(t)];case 1:return[2,n.sent()]}}))}))},e}(),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fillBuildInInterceptors=function(e){return e.push(new w),e},t}(d),O=function(){function e(e){this.interceptors=e}return e.prototype.invoke=function(e){this.interceptors.proceed(s({schema:E.schema},e)).then((function(t){var n,r=t.data;null===(n=e.callback)||void 0===n||n.call.apply(n,f([e],r))}))},e.prototype.register=function(e,t){if(!y(t))throw new Error("TypeError:[ark-request] The handler["+e+"] to register is not function.");this.getNativeChannel()[this.generateCallbackName(e)]=t},e.prototype.unregister=function(e){this.getNativeChannel()[this.generateCallbackName(e)]=void 0},e.prototype.notify=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.getNativeChannel(),o=this.generateCallbackName(e),i=r[o];if(!y(i))throw new Error("TypeError:[ark-request] The handler["+e+"] is not function!");i.apply(void 0,f(t))},e.prototype.generateCallbackName=function(e){return e},e.prototype.getNativeChannel=function(){return window},e}();function C(){var e=new S;return new O(e)}var T=C(),R={maxRetry:3},A=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},x=Object.prototype.toString;function I(e){return"[object Array]"===x.call(e)}function k(e){return"undefined"===typeof e}function M(e){return null!==e&&"object"===typeof e}function D(e){if("[object Object]"!==x.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function P(e){return"[object Function]"===x.call(e)}function N(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),I(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var L={isArray:I,isArrayBuffer:function(e){return"[object ArrayBuffer]"===x.call(e)},isBuffer:function(e){return null!==e&&!k(e)&&null!==e.constructor&&!k(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:M,isPlainObject:D,isUndefined:k,isDate:function(e){return"[object Date]"===x.call(e)},isFile:function(e){return"[object File]"===x.call(e)},isBlob:function(e){return"[object Blob]"===x.call(e)},isFunction:P,isStream:function(e){return M(e)&&P(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:N,merge:function e(){var t={};function n(n,r){D(t[r])&&D(n)?t[r]=e(t[r],n):D(n)?t[r]=e({},n):I(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)N(arguments[r],n);return t},extend:function(e,t,n){return N(t,(function(t,r){e[r]=n&&"function"===typeof t?A(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function j(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var U=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(L.isURLSearchParams(t))r=t.toString();else{var o=[];L.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(L.isArray(e)?t+="[]":e=[e],L.forEach(e,(function(e){L.isDate(e)?e=e.toISOString():L.isObject(e)&&(e=JSON.stringify(e)),o.push(j(t)+"="+j(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function F(){this.handlers=[]}F.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},F.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},F.prototype.forEach=function(e){L.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var W=F,q=function(e,t,n){return L.forEach(n,(function(n){e=n(e,t)})),e},B=function(e){return!(!e||!e.__CANCEL__)},Q=function(e,t){L.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},V=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},G=L.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),L.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),L.isString(r)&&s.push("path="+r),L.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},K=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],H=L.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=L.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},z=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;L.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(s+":"+u)}var a,c,f=(a=e.baseURL,c=e.url,a&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(a,c):c);if(i.open(e.method.toUpperCase(),U(f,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in i?function(e){var t,n,r,o={};return e?(L.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=L.trim(e.substr(0,r)).toLowerCase(),n=L.trim(e.substr(r+1)),t){if(o[t]&&K.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:r,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(V("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,o),i=null}},i.onabort=function(){i&&(n(V("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(V("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(V(t,e,"ECONNABORTED",i)),i=null},L.isStandardBrowserEnv()){var l=(e.withCredentials||H(f))&&e.xsrfCookieName?G.read(e.xsrfCookieName):void 0;l&&(o[e.xsrfHeaderName]=l)}if("setRequestHeader"in i&&L.forEach(o,(function(e,t){"undefined"===typeof r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),L.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(p){if("json"!==e.responseType)throw p}"function"===typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),r||(r=null),i.send(r)}))},Y={"Content-Type":"application/x-www-form-urlencoded"};function $(e,t){!L.isUndefined(e)&&L.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var J={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=z),e}(),transformRequest:[function(e,t){return Q(t,"Accept"),Q(t,"Content-Type"),L.isFormData(e)||L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)?e:L.isArrayBufferView(e)?e.buffer:L.isURLSearchParams(e)?($(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):L.isObject(e)?($(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],(function(e){J.headers[e]={}})),L.forEach(["post","put","patch"],(function(e){J.headers[e]=L.merge(Y)}));var X=J;function Z(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var ee=function(e){return Z(e),e.headers=e.headers||{},e.data=q(e.data,e.headers,e.transformRequest),e.headers=L.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),L.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||X.adapter)(e).then((function(t){return Z(e),t.data=q(t.data,t.headers,e.transformResponse),t}),(function(t){return B(t)||(Z(e),t&&t.response&&(t.response.data=q(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},te=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return L.isPlainObject(e)&&L.isPlainObject(t)?L.merge(e,t):L.isPlainObject(t)?L.merge({},t):L.isArray(t)?t.slice():t}function a(r){L.isUndefined(t[r])?L.isUndefined(e[r])||(n[r]=u(void 0,e[r])):n[r]=u(e[r],t[r])}L.forEach(r,(function(e){L.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),L.forEach(o,a),L.forEach(i,(function(r){L.isUndefined(t[r])?L.isUndefined(e[r])||(n[r]=u(void 0,e[r])):n[r]=u(void 0,t[r])})),L.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var c=r.concat(o).concat(i).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return L.forEach(f,a),n};function ne(e){this.defaults=e,this.interceptors={request:new W,response:new W}}ne.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=te(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[ee,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},ne.prototype.getUri=function(e){return e=te(this.defaults,e),U(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},L.forEach(["delete","get","head","options"],(function(e){ne.prototype[e]=function(t,n){return this.request(te(n||{},{method:e,url:t,data:(n||{}).data}))}})),L.forEach(["post","put","patch"],(function(e){ne.prototype[e]=function(t,n,r){return this.request(te(r||{},{method:e,url:t,data:n}))}}));var re=ne;function oe(e){this.message=e}oe.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},oe.prototype.__CANCEL__=!0;var ie=oe;function se(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ie(e),t(n.reason))}))}se.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},se.source=function(){var e;return{token:new se((function(t){e=t})),cancel:e}};var ue=se;function ae(e){var t=new re(e),n=A(re.prototype.request,t);return L.extend(n,re.prototype,t),L.extend(n,t),n}var ce=ae(X);ce.Axios=re,ce.create=function(e){return ae(te(ce.defaults,e))},ce.Cancel=ie,ce.CancelToken=ue,ce.isCancel=B,ce.all=function(e){return Promise.all(e)},ce.spread=function(e){return function(t){return e.apply(null,t)}},ce.isAxiosError=function(e){return"object"===typeof e&&!0===e.isAxiosError};var fe=ce,le=ce;fe.default=le;var pe=fe,de=function(){function e(){}return e.prototype.intercept=function(e,t){return u(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,pe.request(t)];case 1:return[2,e.sent()]}}))}))},e}(),he=function(){function e(e){this.maxRetry=e}return e.prototype.intercept=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(o){switch(o.label){case 0:n=Math.max(this.maxRetry-1,0),o.label=1;case 1:if(!(n>=0))return[3,6];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,e()];case 3:return[2,o.sent()];case 4:return r=o.sent(),n-=1,t=r,[3,5];case 5:return[3,1];case 6:return[2,Promise.reject(t)]}}))}))},e}(),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fillBuildInInterceptors=function(e,t){return(void 0===t.maxRetry||t.maxRetry>0)&&e.push(new he(t.maxRetry||R.maxRetry)),e.push(new de),e},t}(d),ve=function(){function e(e,t){this.defaults=e,this.interceptors=t}return e.prototype.get=function(e,t){return this.dispatchRequest("get",e,void 0,t)},e.prototype.post=function(e,t,n){return this.dispatchRequest("post",e,t,n)},e.prototype.request=function(e){return this.interceptors.proceed(s(s({},this.defaults),e))},e.prototype.dispatchRequest=function(e,t,n,r){var o=r||{},i=s(s({},o.headers),{"Content-Type":o.contentType});return this.interceptors.proceed(s(s(s({},this.defaults),o),{url:t,method:e,headers:i,data:n||o.data}))},e}(),ye=function(e){var t=new ge;return new ve(e||R,t)}()},"../node_modules/@tencent/ark-utils/lib/event/index.js":function(e,t,n){n.r(t),n.d(t,{Emitter:function(){return u}});var r=n("./node_modules/tslib/tslib.es6.js"),o=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),i=function(){function e(){this.first=o.Undefined,this.last=o.Undefined,this.mSize=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this.mSize},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.first===o.Undefined},e.prototype.clear=function(){this.first=o.Undefined,this.last=o.Undefined,this.mSize=0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.shift=function(){if(this.first!==o.Undefined){var e=this.first.element;return this.remove(this.first),e}},e.prototype.pop=function(){if(this.last!==o.Undefined){var e=this.last.element;return this.remove(this.last),e}},e.prototype[Symbol.iterator]=function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:e=this.first,t.label=1;case 1:return e===o.Undefined?[3,3]:[4,e.element];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))},e.prototype.insert=function(e,t){var n=this,r=new o(e);if(this.first===o.Undefined)this.first=r,this.last=r;else if(t){var i=this.last;this.last=r,r.prev=i,i.next=r}else{var s=this.first;this.first=r,r.next=s,s.prev=r}this.mSize+=1;var u=!1;return function(){u||(u=!0,n.remove(r))}},e.prototype.remove=function(e){if(e.prev!==o.Undefined&&e.next!==o.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===o.Undefined&&e.next===o.Undefined?(this.first=o.Undefined,this.last=o.Undefined):e.next===o.Undefined?(this.last=this.last.prev,this.last.next=o.Undefined):e.prev===o.Undefined&&(this.first=this.first.next,this.first.prev=o.Undefined);this.mSize-=1},e}(),s=n("../node_modules/@tencent/dispose-tree/build/main/index.js"),u=function(){function e(e){this.disposed=!1,this.options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this.mEvent||(this.mEvent=function(t,n,r){var o,u,a;e.listeners||(e.listeners=new i);var c=e.listeners.isEmpty();c&&(null===(o=e.options)||void 0===o?void 0:o.onFirstListenerAdd)&&e.options.onFirstListenerAdd(e);var f=e.listeners.push(n?[t,n]:t);c&&(null===(u=e.options)||void 0===u?void 0:u.onFirstListenerDidAdd)&&e.options.onFirstListenerDidAdd(e),(null===(a=e.options)||void 0===a?void 0:a.onListenerDidAdd)&&e.options.onListenerDidAdd(e,t,n);var l={dispose:function(){var t;e.disposed||(f(),(null===(t=e.options)||void 0===t?void 0:t.onLastListenerRemove)&&(e.listeners&&!e.listeners.isEmpty()||e.options.onLastListenerRemove(e))),(0,s.markTracked)(l)},disposableId:"event"};return Array.isArray(r)&&r.push(l),(0,s.trackDisposable)(l),l}),this.mEvent},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n;if(this.listeners){this.deliveryQueue||(this.deliveryQueue=new i);try{for(var o=(0,r.__values)(this.listeners),s=o.next();!s.done;s=o.next()){var u=s.value;this.deliveryQueue.push([u,e])}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}for(;this.deliveryQueue.size>0;){var a=(0,r.__read)(this.deliveryQueue.shift(),2),c=(u=a[0],a[1]);try{"function"===typeof u?u.call(void 0,c):u[0].call(u[1],c)}catch(l){console.error(l)}}}},e.prototype.dispose=function(){this.listeners&&this.listeners.clear(),this.deliveryQueue&&this.deliveryQueue.clear(),this.disposed=!0},e}()},"../node_modules/@tencent/ark-utils/lib/types/index.js":function(e,t,n){function r(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function o(e){return r("Boolean",e)}function i(e){return r("Number",e)}function s(e){return r("String",e)}function u(e){return r("Function",e)}function a(e){return r("Array",e)}function c(e){return r("Date",e)}function f(e){return r("RegExp",e)}function l(e){return r("Object",e)}function p(e){return r("Error",e)}n.r(t),n.d(t,{isArray:function(){return a},isBoolean:function(){return o},isDate:function(){return c},isError:function(){return p},isFunction:function(){return u},isNumber:function(){return i},isObject:function(){return l},isRegExp:function(){return f},isString:function(){return s},isType:function(){return r}})}}]),window.jsExecEndTimeStamp=Date.now(),window.cachedPerformanceEntries||(window.cachedPerformanceEntries=[]),window.cachedPerformanceEntries.push({name:"jsExec: js/initial_vendors_tencent_ark.dd699171e72ea9350376.js",entryType:"jsExec",startTime:window.jsExecStartTimeStamp,endTime:window.jsExecEndTimeStamp});
//# sourceMappingURL=initial_vendors_tencent_ark.dd699171e72ea9350376.js.map